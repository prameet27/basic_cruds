(window.webpackJsonp=window.webpackJsonp||[]).push([[14,10],{"+0Hp":function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return w}));var a=n("Vv+i"),r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("4mQT"),c=n("t5lx"),l=n("B8yO"),u=n("tiWp"),d=n("OwvP"),p=n("+vYo"),m=n("NDcT"),f=n("fC5a"),h=n("ySi0"),g=n("f82Z"),b=n("xk6L"),v=n("4qtA"),y=n("mgiE"),O=n("hwDs"),S=(n("iLna"),n("5KSR")),C=function(e){var t=e.reportViewModel,n=e.state;return l.createElement(d.a.Fragment,null,Object(u.pipe)(t,y.g.map((function(e){return n.pipe(b.a.map((function(t){return l.createElement(w,{key:"downloadPdfReportButton",statsLoadingState:t.type,reportViewModel:e})})))})),y.g.toNullable))},w=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(r.a)(this,n),e=t.apply(this,arguments),Object(o.a)(Object(a.a)(e),"context",void 0),Object(o.a)(Object(a.a)(e),"_loadingState",p.a.create(e.props.statsLoadingState)),Object(o.a)(Object(a.a)(e),"_buttonState",p.a.combine(e.props.reportViewModel.downloadStarted,e._loadingState,(function(t,n){return e._getButtonState(t,n)}))),e}return Object(i.a)(n,[{key:"_getButtonState",value:function(e,t){var n=this.context.performance;return e?{disabled:!0,className:S.preparingForReportLabel,children:l.createElement("span",{key:"stats-load-container",className:S.loaderContainer},n.report.preparingPdfReport,l.createElement(g.a,{size:20,variation:"gray",wrapperClassName:S.downloadPdfSpinner}),l.createElement(O.a,{reportViewModel:this.props.reportViewModel}))}:Object.assign({className:S.downloadPdfReportButton,children:l.createElement("span",{key:"download-button"},l.createElement(h.d.Download,{className:S.downloadIcon}),n.report.downloadPdfReport)},t===v.a.State.Type.READY?{disabled:!1}:{disabled:!0,title:t===v.a.State.Type.SHORT_CONTENT?n.notEnoughTextToGenerateReport:void 0})}},{key:"componentWillUnmount",value:function(){this.props.reportViewModel.tryToInterrupt()}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillReceiveProps",value:function(e){var t=e.statsLoadingState;this._loadingState.set(t)}},{key:"render",value:function(){return l.createElement(f.a.Caps,{name:"download-pdf-report",title:this._buttonState.view("title"),className:this._buttonState.view("className"),disabled:this._buttonState.view("disabled"),onClick:this.props.reportViewModel.beginDownload},this._buttonState.view("children"))}}]),n}(l.Component);Object(o.a)(w,"contextType",m.a.Context)},"+8xi":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("Wy1Y"),r=n("4mQT"),i=n("t5lx"),o=n("M5RY"),s=n("RRF2"),c=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r){Object(a.a)(this,n);var i=t.call(this,e,r);if(e.root.setAttribute("spellcheck","false"),r.classes){var o=e.container.className,c=e.root.className;r.classes.subscribe((function(t){e.root.className=s.c.classes(t.editor,c),e.container.className=s.c.classes(t.containerClass,o)}))}return i}return n}(o.import("core/theme"))},"+JBM":function(e){e.exports=JSON.parse('{"proofitIconBig":"_03fdb9e1-proofit_promo-proofitIconBig","getStartedBtn":"_b6d6869e-proofit_promo-getStartedBtn","closeBtn":"_06064faa-proofit_promo-closeBtn"}')},"+Zdc":function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a={};n.r(a),n.d(a,"FloatingContainer",(function(){return v})),n.d(a,"CardBase",(function(){return y})),n.d(a,"fromNode",(function(){return O})),n.d(a,"cardTransition",(function(){return I}));var r={};n.r(r),n.d(r,"create",(function(){return L}));var i=n("8O/t"),o=n("X76w"),s=n("B8yO"),c=n("OwvP"),l=n("4GyQ"),u=n("mgiE"),d=n("111I"),p=n("2swC"),m=n("nWMp"),f=n("PltQ"),h=n("NbNH"),g=n("xk6L"),b=n("PYgo");const v=d.b.Grid.make(({view:e,notify:t,slots:n})=>s.createElement(c.a.div,Object(o.a)(Object(i.a)({tabIndex:-1,"data-name":"inline-card",mount:e=>t({type:b.b.Type.mounted,element:u.g.fromNullable(e)})(),style:e("position")},Object(l.c)(A.container,e("direction").pipe(g.a.map(e=>e===b.a.Direction.Up&&A.directionUp)))),{onMouseEnter:t({type:b.b.Type.hovered}),onMouseLeave:t({type:b.b.Type.unhovered})}),n.body)),y=d.b.Grid.make(({slots:e})=>s.createElement("div",{tabIndex:-1,"data-name":"inline-card",className:A.card},e.card)),O=e=>d.b.Animated.make(I,d.b.Union.asOption(d.b.Knot.make(v,{body:d.b.Composite.make(y,e)}))),S=m.a.keyframes({from:{opacity:0,transform:"scale(1, .8)"}}),C=m.a.keyframes({to:{opacity:0,transform:"scale(1, .8)"}}),w={position:"absolute",zIndex:h.l,minWidth:"fit-content",outline:"none",transformOrigin:"top",willChange:"opacity, transform",$nest:{"@media print":{visibility:"hidden"}}},k={marginTop:m.a.rem(.5),transformOrigin:"bottom"},E={$nest:{"& > div[data-name=inline-card]":{animation:`${C} ${m.a.seconds(.1)} linear forwards`,pointerEvents:"none"}}},j={$nest:{"& > div[data-name=inline-card]":{animation:`${S} ${m.a.seconds(.1)} linear forwards`}}},_={display:"flex",flexDirection:"column",overflow:"hidden",marginLeft:m.a.rem(-1),paddingBottom:m.a.rem(.5),minWidth:m.a.rem(12),maxWidth:m.a.rem(20),width:"fit-content",outline:"none",borderRadius:m.a.rem(h.s),background:p.a.CoreNeutral0,boxShadow:p.b.Z300,color:f.k,fontSize:m.a.rem(.8),"-webkit-font-smoothing":"antialiased",$nest:{"&:before":{position:"absolute",marginTop:m.a.px(-2),width:m.a.percent(100),height:m.a.px(2),border:"1px solid transparent",content:"''"}}},x={$nest:{"& .itemInsert, .itemRemove":{paddingBottom:m.a.rem(.3),whiteSpace:"normal",lineHeight:m.a.rem(1.5)}}},A=m.a.prefixedStylesheet("inline-card",{container:[w],directionUp:[k],invisible:[E],visible:[j],card:[_],maxWidthReached:[x]}),I=d.b.Transition.make({visible:A.visible},{invisible:A.invisible});var T=n("DTwm"),M=n("tiWp"),P=n("+vYo"),N=n("SXX6"),D=n("M3t0"),B=n("Hj2R");function L(e,t,n,a,r=(()=>"left")){return d.a.animatingFlow(function(e,t,n,a,r){const i=P.a.create(u.g.none);return d.a.fromSideEffect(e=>{Object(M.pipe)(e.action.action.action,u.g.fromPredicate(b.b.isMountAction),u.g.tap(e=>i.set(e.element))),t.next(e.action.action.action)},e.pipe(g.a.map(u.g.chain(e=>B.a.State.isBulkApplied(e.alert.state)?u.g.some(e):u.g.none)),g.a.withLatestFrom(n,i),g.a.switchMap(function(e,t){return([n,a,r])=>Object(M.pipe)(n,u.l.fromOption(()=>new Error("Entry is none")),u.l.chain(e=>Object(M.pipe)(e.getMarkRect,u.l.map(t=>({alert:e.alert,rect:Object(M.pipe)(t,N.b.relativeAndAbs,u.g.fromNullable)})))),u.l.map(({alert:n,rect:i})=>Object(M.pipe)(i,u.g.map(({abs:i,relative:o})=>{const s=Object(M.pipe)(r,u.g.fold(()=>0,e=>e.offsetHeight)),c=i.height+i.top+s>a.height+a.top&&o.height<a.height?b.a.Direction.Up:b.a.Direction.Down,l=c===b.a.Direction.Up?o.top-s-8:o.top+o.height;return{root:{position:"right"===t(i,a)?{top:l,right:0}:{top:l,left:o.left},direction:c},body:{alert:n,replacementLabels:F(e,n)}}}))),u.l.getOrElse(e=>()=>Promise.resolve(u.g.none)),e=>e())}(a,r)),g.a.startWith(u.g.none)))}(e,t,n,a,r),(e,t)=>Object(M.pipe)(t,u.g.chain(()=>Object(M.pipe)(e,u.g.map(()=>u.m.both("invisible","visible")),u.g.alt(()=>u.g.some(u.m.right("visible"))))),u.g.alt(()=>Object(M.pipe)(e,u.g.map(()=>u.m.left("invisible"))))))}function F(e,t){return Object(M.pipe)(t.getTransform(),u.g.chain(Object(T.flow)(e,u.b.fold(e=>(D.d.Logging.getLogger("InlineCard.hydration").error("Failed to hydrate an inline card",e.error,{alertId:t.id}),u.g.none),u.g.some))))}var R,H;(H=R||(R={})).UI=a,H.Flow=r},"+bR4":function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("OwvP"),s=n("4GyQ"),c=n("+vYo"),l=n("xk6L"),u=n("yIk2"),d=n("TKPA"),p=n("2swC"),m=n("nWMp"),f=n("Frap"),h=n("e1WO"),g=n("uxqH");function b({value:e,initValue:t=g.a.MIN,wrapperClass:n,progressClass:r,borderClass:c,isLoading:d=l.a.of(!1)}){const p=v(e,t);return i.createElement(o.a.div,Object(a.a)({role:"progressbar","aria-label":"Progress","aria-valuenow":u.b.toObservable(e).pipe(l.a.map(g.a.iso.unwrap))},Object(s.c)(x.wrapper,n)),i.createElement(y,{width:p,progressClass:r,borderClass:c,isLoading:d}))}function v(e,t=g.a.MIN){const n=c.a.create(!1);return requestAnimationFrame(()=>requestAnimationFrame(()=>n.set(!0))),l.a.combineLatestStatic(u.b.toObservable(e),n,(e,n)=>n?e:t)}function y({width:e,progressClass:t,isLoading:n,borderClass:c}){const u=e.pipe(l.a.map(e=>e+"%")),p=e.pipe(l.a.map(g.a.prism.reverseGet),l.a.map(e=>e>0?e+.75+"%":0),l.a.startWith(0)),m=n.pipe(l.a.switchMap(e=>e?u:"0")),f=e.pipe(l.a.map(g.a.isMin),l.a.shareReplay({bufferSize:1,refCount:!0}));return i.createElement(i.Fragment,null,i.createElement(o.a.div,Object(r.a)(Object(a.a)({},Object(s.c)(x.borderContainer,f.pipe(l.a.map(Object(d.c)(x.borderContainerZeroWidth,x.borderContainerWithMinWidth))),c)),{style:{width:p}})),i.createElement(o.a.div,Object(r.a)(Object(a.a)({},Object(s.c)(Boolean(t)?t:x.defaultProgress,x.progressBar,f.pipe(l.a.map(Object(d.c)(x.progressBarZeroWidth,x.progressBarWithMinWidth))))),{style:{width:u}})),i.createElement(o.a.div,{className:x.loading,style:{width:m}}))}const O=m.a.keyframes({"0%":{backgroundPosition:"0 0"},"100%":{backgroundPosition:"20px 20px"}}),S={position:"relative",width:m.a.percent(100),height:m.a.rem(.25),borderRadius:m.a.rem(h.radius1),backgroundColor:f.ui300},C={position:"relative",top:0,height:m.a.percent(100),borderRadius:m.a.rem(h.radius1),backgroundPosition:"center",transition:"width .8s ease-in-out 0s"},w={minWidth:m.a.px(4)},k={position:"absolute",backgroundColor:p.a.CoreNeutral0},E={minWidth:m.a.px(6)},j={position:"absolute",minWidth:0,backgroundImage:f.progressLoadingGradient,backgroundSize:"20px 20px",transition:"none",animation:O+" 1s linear infinite"},_={backgroundImage:f.rightProgressGradient},x=m.a.stylesheet({wrapper:[S,S],progressBar:[C],progressBarZeroWidth:[{minWidth:0}],progressBarWithMinWidth:[w],borderContainer:[C,k],borderContainerZeroWidth:[{minWidth:0}],borderContainerWithMinWidth:[E],loading:[C,j],defaultProgress:[_]})},"+ndJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("B8yO"),r=n("XGPX");function i(e){let[t,n]=(0,r.b)(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const i=(0,a.useCallback)(()=>{n(!0)},[n]),o=(0,a.useCallback)(()=>{n(!1)},[n]),s=(0,a.useCallback)(()=>{n(!t)},[n,t]);return{isOpen:t,setOpen:n,open:i,close:o,toggle:s}}},"+tAI":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("Wy1Y"),r=n("uKMM"),i=n("a5gI"),o=n("tiWp"),s=n("xk6L"),c=n("mgiE"),l=n("M3t0"),u=n("Qlyw"),d=function(){function e(t,n,r,d){var p=this;Object(a.a)(this,e),Object(i.a)(this,"_model",void 0),Object(i.a)(this,"_modalOperations",void 0),Object(i.a)(this,"_notificationsManager",void 0),Object(i.a)(this,"_telemetry",void 0),Object(i.a)(this,"_log",void 0),Object(i.a)(this,"changePlan",void 0),Object(i.a)(this,"_handleChangePlanError",void 0),Object(i.a)(this,"close",void 0),this._model=t,this._modalOperations=n,this._notificationsManager=r,this._telemetry=d,this._log=l.d.Logging.getLogger("view.model.change.plan"),this.changePlan=function(){return p._telemetry.gnarSpec.changePlanConfirmationSwitchPlanButtonClick(p._model.daysToRenewal,p._model.currentPlanType,p._telemetry.pageId),s.a.from(Object(o.pipe)(p._model.changePlan,c.l.mapLeft(p._handleChangePlanError),c.l.toPromise)).pipe(s.a.tap(p.close),s.a.switchMap((function(){return p._telemetry.gnarSpec.changePlanFormSuccess(p._model.daysToRenewal,p._model.currentPlanType,p._telemetry.pageId),p._notificationsManager.enqueue("changePlanSuccess",{planName:p.offer.title})}))).toPromise()},this._handleChangePlanError=function(e){p._log.error("Cannot change plan reason: ".concat(e.reason),e.originalError);var t=u.a.isErrorLike(e.originalError)&&e.originalError.message;p._telemetry.gnarSpec.changePlanFormFail(p._telemetry.pageId,"reason: ".concat(e.reason,", error: ").concat(t)),p._notificationsManager.enqueue("error").toPromise()},this.close=function(){p._modalOperations.onClose(),p._telemetry.gnarSpec.changePlanConfirmationCloseButtonClick(p._model.daysToRenewal,p._model.currentPlanType,p._telemetry.pageId)}}return Object(r.a)(e,[{key:"currentPlan",get:function(){return this._model.currentPlan}},{key:"offer",get:function(){return this._model.offer}},{key:"savedPrice",get:function(){return this._model.savedPrice}},{key:"nextPaymentDate",get:function(){return this._model.nextPaymentDate}}]),e}()},"+ySe":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r}));var a={};n.r(a),n.d(a,"getNormalizedPosition",(function(){return h})),n.d(a,"getPositionInViewport",(function(){return g})),n.d(a,"isAboveViewportTop",(function(){return b})),n.d(a,"willFitViewport",(function(){return v})),n.d(a,"getCardPadding",(function(){return y})),n.d(a,"ContentOffset",(function(){return O})),n.d(a,"InfinityScrollGetter",(function(){return S})),n.d(a,"Mover",(function(){return w}));var r={};n.r(r),n.d(r,"CARDS_BEYOND_VIEWPORT",(function(){return x})),n.d(r,"CARDS_AROUND_ACTIVE",(function(){return A})),n.d(r,"CARD_VISIBILITY_DEFAULT_SETTING",(function(){return I})),n.d(r,"manageCardsVisibility",(function(){return T})),n.d(r,"freezeActiveCardOnCardsListUpdate",(function(){return M})),n.d(r,"manageCardsInert",(function(){return P})),n.d(r,"moveNearestItemIntoViewport",(function(){return N}));var i={};n.r(i),n.d(i,"getScrollObserver",(function(){return B})),n.d(i,"getPlaceholderState",(function(){return L})),n.d(i,"getAssistantHeight",(function(){return F})),n.d(i,"getCardsViewportState",(function(){return R})),n.d(i,"getCardsRect",(function(){return H}));var o=n("DTwm"),s=n("tiWp"),c=n("mgiE"),l=n("0kuo"),u=n("xk6L"),d=n("d3CI"),p=n("YqdJ"),m=n("0LHr"),f=n("gFSV");const h=(e,t)=>n=>{const a=p.a.FromViewportTop.ISO.unwrap(e),r=p.a.FromViewportTop.ISO.unwrap(n),i=a-r;return p.a.FromViewportTop.ISO.wrap(i<-t.top?a+t.top:i>t.bottom?a-t.bottom:r)},g=(e,t,n)=>a=>{const r=Object(f.b)({cardTop:a,cardHeight:e.positionState.height,viewportHeight:n.height,padding:t});return p.a.FromViewportTop.ISO.modify(p.a.concatC(-r))(a)},b=e=>t=>p.b.FromWindowTop.ISO.modify(p.a.concatC(e.scrollTop.get()+e.paddingTop.get()))(t)<e.viewport.get().top,v=(e,t)=>(n,a)=>{const r=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.currentLens.items,e=>Object(s.pipe)(e.get(n),c.g.map(({value:e})=>0===Object(f.b)({cardTop:r.converters.windowToViewport(a),cardHeight:e.positionState.height,viewportHeight:r.viewport.height,padding:{before:0,after:0}}))),c.g.unsafeGet)},y=(e,t)=>Object(s.pipe)(t.get(e),c.g.map(({index:e})=>({before:Object(s.pipe)(t.getAt(e-1),c.g.map(e=>e.positionState.height),c.g.getOrElse(()=>0)),after:Object(s.pipe)(t.getAt(e+1),c.g.map(e=>e.positionState.height),c.g.getOrElse(()=>0))})),c.g.getOrElse(()=>({before:0,after:0})));var O,S,C,w;!function(e){var t=e.CARD_CONTENT_OFFSET_REM=3.4,n=e.WITH_LABEL_CARD_CONTENT_OFFSET_REM=t+1;e.contentOffsetGetter=(e=t,a=n)=>(t,n)=>Math.round((t?a:e)*n)}(O||(O={})),(C=S||(S={})).cardPositionGetter=(e,t)=>(n,a)=>{const r=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(d.e.getLens).get(),c.b.fromOption(()=>({kind:"error",reason:"Current lens is not WithItemsLensState"})),c.b.chain(({items:e,id:t})=>Object(s.pipe)(e.get(n),c.b.fromOption(()=>({kind:"notFound",reason:`The item with id: ${n} does not exist in lens ${t}`})),c.b.map(({value:e})=>Object(s.pipe)(a,c.g.fold(()=>Object(o.flow)(p.a.AbsTop.ISO.wrap,r.converters.absTopToViewportTop,r.converters.viewportToWindow)(e.positionState.absTop),o.identity))))))},C.cardPositionInViewportGetter=(e,t)=>(n,a)=>{const r=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(d.e.getLens).get(),c.b.fromOption(()=>({kind:"error",reason:"Current lens is not WithItemsLensState"})),c.b.chain(({items:e,id:t})=>Object(s.pipe)(e.get(n),c.b.fromOption(()=>({kind:"notFound",reason:`The item with id: ${n} does not exist in lens ${t}`})),c.b.chain(({value:t})=>Object(s.pipe)(a,c.g.map(r.converters.windowToViewport),c.g.alt(()=>c.g.some(Object(o.flow)(p.a.AbsTop.ISO.wrap,r.converters.absTopToViewportTop)(t.positionState.absTop))),c.g.map(g(t,y(n,e),r.viewport)),c.g.map(r.converters.viewportToWindow),c.b.fromOption(()=>({kind:"error",reason:"Cannot get card position in viewport"})))))))},function(e){const t=(e,t,n,a)=>{const r=a.viewport.get(),i=a.scrollTop.get(),o=p.a.converters(i,p.b.FromWindowTop.ISO.unwrap(r.top),a.paddingTop.get());return c.b.tryCatchError(()=>Object(s.pipe)(d.e.getLens(n),c.g.chain(t=>t.items.get(e)),c.g.map(e=>p.a.AbsTop.ISO.wrap(e.value.positionState.absTop)),c.g.map(e=>o.absTopToViewportTop(e)),c.g.fold(()=>{throw new l.b("Cannot get offset for unknown card")},e=>{const n=o.windowToViewport(t);return p.a.FromViewportTop.ISO.unwrap(e)-p.a.FromViewportTop.ISO.unwrap(n)})))};e.moveCardToPositionSyncGetter=(e,n)=>a=>Object(s.pipe)(t(a.id,a.position,e.get(),n),c.b.chain(e=>n.moveCardsBy(e,"moveCardToPositionAnimated"))),e.moveCardToPositionAnimatedGetter=(e,n)=>a=>Object(s.pipe)(t(a.id,a.position,e.get(),n),c.b.fold(e=>u.a.throwError(e),e=>n.moveCardsByAnimated(e,"moveCardToPositionAnimated")))}(w||(w={}));var k=n("D2TP"),E=n("yIk2"),j=n("itj6"),_=n("mDV6");const x=5,A=100,I={cardsBeyondViewport:x,cardsAroundActive:A},T=(e,t,n,a,r=I,i=E.b.Scheduler.rafScheduler)=>{const o=e=>!e.positionState.visible&&_.a.isAnimatable(e)&&e.visualState.incomplete?(a.next({type:j.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),n.completeTransition(e.visualState.transitionId)(e)):e,s=e.pipe(u.a.map(d.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))),l=Object(f.h)(n)(s,t.viewport,t.scrollTop,t.paddingTop,i).pipe(u.a.map(({viewport:e,scrollTop:t,paddingTop:n})=>({viewport:e,scrollTop:t,paddingTop:n,completeTransition:o})),u.a.map(Object(f.g)({cardsBeyondViewport:r.cardsBeyondViewport,cardsAroundActive:r.cardsAroundActive,changePosition:n})));return{id:"manageCardsVisibility",when:k.a.isWithAlertsId,what:d.e.Effect.Applicator.create(l)}},M=(e,t,n)=>{const a=Object(s.pipe)(e,u.a.map(d.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t}))),Object(f.a)(n),u.a.switchMap(E.b.Scheduler.rafScheduler),u.a.filter(e=>0!==e),u.a.tap(e=>t.moveCardsBy(e,"freezeActiveCardOnCardsListUpdate")));return{id:"freezeActiveCardOnCardsListUpdate",when:k.a.isWithAlertsId,what:d.e.Effect.Applicator.create(u.a.mergeStatic(u.a.mergeStatic(a).pipe(u.a.switchMapTo(u.a.NEVER))))}},P=(e,t,n,a=E.b.Scheduler.rafScheduler)=>{const r=e.pipe(u.a.map(d.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))),i=Object(f.h)(n)(r,t.viewport,t.scrollTop,t.paddingTop,a).pipe(u.a.map(Object(f.c)(n)));return{id:"manageCardsInert",when:k.a.isWithAlertsId,what:d.e.Effect.Applicator.create(i)}},N=(e,t,n,a,r,i=E.b.Scheduler.rafScheduler)=>{const o=t.pipe(u.a.map(d.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))),l=Object(f.h)(r)(o,a.viewport,a.scrollTop,a.paddingTop,i).pipe(u.a.switchMap(t=>e.pipe(u.a.withLatestFrom(o),u.a.switchMap(([,e])=>Object(s.pipe)(e,c.g.map(Object(f.e)(n,t)),c.g.getOrElse(()=>u.a.EMPTY))))));return{id:"moveNearestItemIntoViewport",when:k.a.isWithAlertsId,what:d.e.Effect.Applicator.create(l.pipe(u.a.switchMapTo(u.a.NEVER)))}};var D=n("TKPA");const B=e=>E.b.toBooleanWithDebounce(e.scrollTop.pipe(u.a.skip(1)),100,!0).pipe(u.a.startWith(!1),u.a.shareReplay({bufferSize:1,refCount:!0})),L=(e,t)=>{const n=B(t),a=e.view(d.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})));return u.a.combineLatestStatic(u.a.combineLatestStatic(n,a.pipe(u.a.map(c.g.forAll(({currentLens:e})=>Object(s.pipe)(d.k.getActiveItem(e),c.g.forAll(e=>!_.a.isAnimatable(e)||!e.visualState.incomplete&&!e.positionState.animationInProgress))))),D.a).pipe(u.a.distinctUntilChanged()),a.pipe(u.a.filter(c.g.forAll(e=>e.currentLens.isCardsHeightValid)),u.a.map(c.g.map(({currentLens:e})=>{const t=e.cardsHeight;return Object(s.pipe)(d.k.getActiveItem(e),c.g.map(({positionState:e})=>[{top:0,height:e.absTop},{top:e.absTop+e.height,height:t-(e.absTop+e.height)}]),c.g.getOrElse(()=>[{top:0,height:t},{top:0,height:0}]))})),u.a.distinctUntilChanged(c.g.getEq(m.c.eqDimensionsTuple).equals)),(e,t)=>e?t:c.g.none).pipe(u.a.startWith(c.g.none),u.a.shareReplay({bufferSize:1,refCount:!0}))},F=(e,t,n)=>Object(f.f)(n)(e.view(d.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))).pipe(u.b.compact,u.a.map(({currentLens:e})=>e.cardsHeight),u.a.startWith(0),u.a.combineLatest(t.paddingTop,t.viewport,(e,t,n)=>e+t+p.b.FromWindowTop.ISO.unwrap(n.top))),R=(e,t,n)=>Object(f.f)(n)(e.view(d.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))).pipe(u.a.switchMap(c.g.fold(()=>u.a.of(m.a.hidden),e=>e.currentLens.items.size>0?u.a.combineLatestStatic(t.scrollTop,t.viewport,t.paddingTop).pipe(u.a.map(([t,n,a])=>{const r=p.a.converters(t,p.b.FromWindowTop.ISO.unwrap(n.top),a),i=e.currentLens.items,l=Object(s.pipe)(i.getAt(0),c.g.map(e=>Object(s.pipe)(e.positionState.absTop,Object(o.flow)(p.a.AbsTop.ISO.wrap,r.absTopToViewportTop))),c.g.unsafeGet),u=c.g.unsafeGet(i.getAt(i.size-1)),d=p.a.AbsTop.ISO.wrap(u.positionState.absTop),f=u.positionState.height,h=r.absTopToViewportTop(d);return p.a.FromViewportTop.ISO.unwrap(h)+f<0?m.a.above:p.a.FromViewportTop.ISO.unwrap(l)>n.height?m.a.below:m.a.hidden})):u.a.of(m.a.hidden))),u.a.distinctUntilChanged(),u.a.debounce(e=>e===m.a.hidden?u.a.EMPTY:u.a.timer(300)),u.a.shareReplay({bufferSize:1,refCount:!0})),H=(e,t)=>{const n=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(d.e.getLens).get(),c.g.chain(({items:e,cardsHeight:t})=>Object(s.pipe)(e.getAt(0),c.g.map(e=>{const a=Object(o.flow)(p.a.AbsTop.ISO.wrap,n.converters.absTopToViewportTop,n.converters.viewportToWindow)(e.positionState.absTop);return{top:a,bottom:p.b.FromWindowTop.ISO.modify(p.a.concatC(t))(a)}}))))}},"/3X1":function(e){e.exports=JSON.parse('{"invisibleScrollbar":"_74937657-document-view-invisibleScrollbar","scrollDetector":"_074f1316-document-view-scrollDetector","preventOverscroll":"_260b91aa-document-view-preventOverscroll"}')},"/56L":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("B8yO"),i=n("OwvP"),o=n("111I"),s=n("xk6L"),c=n("JcQk"),l=n("LqiM"),u=n("N5Ay"),d=n("hldE"),p=n("btoL");!function(e){e.Card=e=>o.b.Node.make(({view:t})=>{const n=t("view");return r.createElement(i.a.Fragment,null,n.pipe(s.a.distinctUntilChanged((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type),s.a.map(a=>r.createElement(u.a.Provider,{card:n,cardVisibleViewportHeight:t("visibleViewportHeight")},i=>r.createElement(l.a.Card,{mount:i,miniCard:r.createElement(p.a.Mini,{card:n,actions:e}),fullCard:r.createElement(p.a.Full,{card:n,actions:e}),successCard:r.createElement(c.a.Success,{cardData:a,isLastCard:t("isLastCard"),actions:e}),feedbackForm:r.createElement(c.a.FeedbackForm,{cardData:a,actions:e}),mutedCard:r.createElement(c.a.MutedAlert,{cardData:a,actions:e}),actions:e,card:a,transitionClassMapper:d.b})))))})}(a||(a={}))},"/5dq":function(e){e.exports=JSON.parse('{"header1":"_ef6a5bce-left-header1","header2":"_0c582db2-left-header2","header3":"_f03dfbaf-left-header3","header3legacy":"_6c542af9-left-header3legacy","button":"_c757806b-left-button","header4":"_36c75ac5-left-header4","paper":"_b28a2379-left-paper","base":"_96c39aa6-left-base","small":"_33d190c8-left-small","smallLight":"_43a86f8b-left-smallLight","score":"_66a55e6d-left-score","lawyer":"_84780de1-left-lawyer","title":"_74d8ac67-left-title","p1":"_1e26b46f-left-p1","header5":"_b993c96e-left-header5","stepWrapper":"_7e885823-left-stepWrapper","stepTitle":"_947ef538-left-stepTitle","description":"_dadbbd97-left-description","step1Illustration":"_20938e5f-left-step1Illustration","step2Path":"_055c4b43-left-step2Path","step2PathLi":"_be605ed9-left-step2PathLi","step2PathLi1":"_7f477ef7-left-step2PathLi1","step2PathLi2":"_9366a7fb-left-step2PathLi2","step2PathLi3":"_7245e371-left-step2PathLi3","step2LiDescription":"_dad19443-left-step2LiDescription","left":"_4f20674f-left-left","right":"_3fc431f3-left-right","dots":"_005abe14-left-dots","dotIndex":"_e4c84840-left-dotIndex","pathFrom1To2":"_22e3980a-left-pathFrom1To2","pathFrom2To3":"_33c22502-left-pathFrom2To3","moreInformation":"_6cb7a849-left-moreInformation","moreInformationIcon":"_643fd868-left-moreInformationIcon","nav":"_30908097-left-nav","navButton":"_cfe7aceb-left-navButton _96c39aa6-left-base","delimiter":"_48c1a0b1-left-delimiter","backButton":"_723680a7-left-backButton _cfe7aceb-left-navButton _96c39aa6-left-base","fadeIn":"_64fd95a5-left-fadeIn","backButtonText":"_2f101e66-left-backButtonText","terms":"_d0d07473-left-terms","termsTitle":"_332eb453-left-termsTitle","termsSubTitle":"_e89a24f8-left-termsSubTitle","termsList":"_30bf9256-left-termsList","termListItem":"_38d99dfc-left-termListItem","newBadge":"_2f5c0886-left-newBadge"}')},"/7y/":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return l}));var a,r,i=n("a5gI"),o=n("8O/t"),s=n("X76w"),c=n("+vYo");!function(e){let t;!function(e){e.VerySatisfied="VerySatisfied",e.SomewhatSatisfied="SomewhatSatisfied",e.Neutral="Neutral",e.SomewhatDissatisfied="SomewhatDissatisfied",e.VeryDissatisfied="VeryDissatisfied"}(t=e.Experience||(e.Experience={}));e.adminSatisfactionReasons=["CreatingStrongCompanyBrand","SavingTimeWritingAndEditing","CentrallyManagingGrammarlyAccount","EnablingTeamToCommunicateWithCustomersEffectively","Other"],e.teamMemberSatisfactionReasons=["SavingTimeWritingAndEditing","SoundingFluentInEnglish","SoundingMoreProfessionalAndPolished","ImprovingOverallWritingSkills","FeelingConfidentWhenCommunicating","CommunicatingWithCustomersEffectively","Other"],e.dissatisfactionReasons=["DoesntIntegrateWithAnAppIUse","LowQualitySuggestions","FeaturesAreMissing","TechnicalDifficulties","NotSureWhatGrammarlyBusinessDoes","DidntFindItValuable","Other"]}(a||(a={})),function(e){e.isFirstQuestion=e=>!("answer1"in e)&&!("answer2"in e),e.isSecondQuestion=e=>"answer1"in e&&!("answer2"in e),e.isThirdQuestion=e=>"answer1"in e&&"answer2"in e&&!("answer3"in e),e.isCompleted=e=>"answer1"in e&&"answer2"in e&&"answer3"in e;const t=[a.Experience.Neutral,a.Experience.SomewhatDissatisfied,a.Experience.VeryDissatisfied];e.isSecondQuestionAboutDissatisfaction=e=>"answer1"in e&&t.includes(e.answer1),e.getSecondQuestionAnswer=e=>e.answer2}(r||(r={}));class l{answer(e){const t=this.state.view(r.isFirstQuestion).get(),n=this.state.view(r.isSecondQuestion).get(),a=t?"answer1":n?"answer2":"answer3";this.state.modify(t=>Object(s.a)(Object(o.a)({},t),{[a]:e})),t?this._tracking.onFirstAnswer(e):n?this._tracking.onSecondAnswer(e):Boolean(e.trim())&&this._tracking.onThirdAnswer(e)}constructor(e,t){Object(i.a)(this,"_tracking",void 0),Object(i.a)(this,"isAdmin",void 0),Object(i.a)(this,"state",void 0),this._tracking=e,this.isAdmin=t,this.state=c.a.create({})}}},"/9H4":function(e,t,n){"use strict";n.d(t,"b",(function(){return Z})),n.d(t,"a",(function(){return Y})),n.d(t,"c",(function(){return xe}));var a,r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("8O/t"),c=n("hcme"),l=n("B8yO"),u=n("000W"),d=n("tiWp"),p=n("+vYo"),m=n("rOJn"),f=n("5OZM"),h=n("111I"),g=n("WLOZ"),b=n("efqv"),v=n("7IMz"),y=n("xk6L");!function(e){e.Modal=h.b.Node.make(({state:e,view:n,notify:a})=>{v.a.useSubscriptionTo(n("source").pipe(y.a.first(),y.a.tap(e=>a({kind:t.open,source:e})())));const r=e.pipe(y.a.map(e=>a({kind:t.close,source:e.source,context:e.context,showOnLoad:e.showOnLoad})));return l.createElement(g.c,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:r},l.createElement(b.a,{blocks:n("blocks"),features:n("features"),close:r,upgrade:a({kind:t.upgrade}),reset:a({kind:t.reset}),showOnLoad:n("showOnLoad"),showOnLoadChanged:e=>a({kind:t.showOnLoadChanged,value:e})()}))});let t;!function(e){e.open="open",e.close="close",e.upgrade="upgrade",e.reset="reset",e.showOnLoadChanged="showOnLoadChanged"}(t=e.ActionsKind||(e.ActionsKind={}))}(a||(a={}));var O=n("WpWO"),S=n("0kuo"),C=n("mgiE"),w=n("+tAI"),k=n("skc2"),E=n("xAs4"),j=function(){function e(t,n,a,i){var s=this;Object(r.a)(this,e),Object(o.a)(this,"_userAccount",void 0),Object(o.a)(this,"_config",void 0),Object(o.a)(this,"_environment",void 0),Object(o.a)(this,"_telemetry",void 0),Object(o.a)(this,"dismiss",void 0),Object(o.a)(this,"updatePayment",void 0),this._userAccount=t,this._config=n,this._environment=a,this._telemetry=i,this.dismiss=function(){s._userAccount.settings.incrementDunningDismissCount()},this.updatePayment=function(){s._telemetry.gnarSpec.inProductDunningNoticationUpdatePaymentInformationButtonClick(s._telemetry.pageId),s._environment.actions.openPopup(new k.a(s._config.account.subscription))}}return Object(i.a)(e,[{key:"isBusinessAdmin",get:function(){return E.e.isBusinessAdmin(this._userAccount.features.denaliUserType)}}]),e}(),_=n("X76w"),x=n("4tRT"),A=n("0Qjk"),I=n("mUkt"),T=n("ZDrO"),M=n("jSIJ"),P=I.a.Category.Id.create(A.a.MutedAlerts.SpecialCategory.InQuotes),N=function e(t,n,a,i){var c=this;Object(r.a)(this,e),Object(o.a)(this,"_denaliSettings",void 0),Object(o.a)(this,"_categoriesModel",void 0),Object(o.a)(this,"_features",void 0),Object(o.a)(this,"_telemetry",void 0),Object(o.a)(this,"_preferencesModel",void 0),Object(o.a)(this,"_newPreferences",void 0),Object(o.a)(this,"trackOpened",void 0),Object(o.a)(this,"trackSuggestionManagementClicked",void 0),Object(o.a)(this,"update",void 0),Object(o.a)(this,"autoScrollToNextAlert",void 0),Object(o.a)(this,"fontSize",void 0),Object(o.a)(this,"suggestionsVisualMode",void 0),Object(o.a)(this,"muteQuotedAlerts",void 0),this._denaliSettings=t,this._categoriesModel=n,this._features=a,this._telemetry=i,this._preferencesModel=this._denaliSettings.editorPreferences,this._newPreferences=p.a.create(this._denaliSettings.editorPreferences.get()),this.trackOpened=function(){c._telemetry.gnarSpec.preferencesPopupShow(c._telemetry.pageId)},this.trackSuggestionManagementClicked=function(){c._telemetry.gnarSpec.deactivatedSuggestionsSuggestionManagementClick(c._telemetry.pageId,"editorSettings",c._telemetry.pageSessionId)},this.update=function(){var e=c._newPreferences.get(),t=c._categoriesModel.getMutedSpecialCategories().has(P),n=c.muteQuotedAlerts.get(),a=t!==n,r=!M.d.eq.equals(c._preferencesModel.get(),e)||a;e.suggestionsVisualMode!==c._preferencesModel.get().suggestionsVisualMode&&c._telemetry.gnarSpec.suggestionsVisualModeFeatureToggled(c._telemetry.pageId,e.suggestionsVisualMode,c._telemetry.pageSessionId),r&&(c._denaliSettings.updateEditorPreferences(e),c._telemetry.gnarSpec.preferencesFormSuccess(c.autoScrollToNextAlert.get(),e.fontSize,n,c._telemetry.pageId,e.suggestionsVisualMode)),a&&(t?(c._categoriesModel.unmuteCategories([P]),c._telemetry.gnarSpec.muteQuotedAlertsFeatureToggled(c._telemetry.pageId,"unmuted",c._telemetry.pageSessionId)):(c._categoriesModel.muteCategories([P]),c._telemetry.gnarSpec.muteQuotedAlertsFeatureToggled(c._telemetry.pageId,"muted",c._telemetry.pageSessionId)))},this.autoScrollToNextAlert=this._newPreferences.lens("autoScrollToNextAlert").lens(T.b.O.unwrap(!this._features.autoJumpSettings.isDisabledByDefault)),this.fontSize=this._newPreferences.lens(x.a.create((function(e){return e.fontSize===M.e.Large}),(function(e,t){return Object(_.a)(Object(s.a)({},t),{fontSize:e?M.e.Large:M.e.Normal})}))),this.suggestionsVisualMode=this._newPreferences.lens(x.a.create((function(e){return e.suggestionsVisualMode===M.o.Accessible}),(function(e,t){return Object(_.a)(Object(s.a)({},t),{suggestionsVisualMode:e?M.o.Accessible:M.o.Default})}))),this.muteQuotedAlerts=p.a.create(this._categoriesModel.getMutedSpecialCategories().has(P))},D=n("eYZj"),B=n("yIk2"),L=n("4qtA"),F=n("M3t0"),R=function e(t,n,a,i){var s=this;Object(r.a)(this,e),Object(o.a)(this,"reportViewModel",void 0),Object(o.a)(this,"_documentModel",void 0),Object(o.a)(this,"_notificationsManager",void 0),Object(o.a)(this,"_modalOperations",void 0),Object(o.a)(this,"state",void 0),Object(o.a)(this,"onModalClose",void 0),this.reportViewModel=t,this._documentModel=n,this._notificationsManager=a,this._modalOperations=i,this.state=y.a.defer((function(){return B.b.promiseToStream((function(){return s._documentModel.calculateStats()}))})).pipe(y.a.combineLatest(this._documentModel.checkingState,(function(e,t){return Object(d.pipe)(e,C.g.filter((function(){return"idle"===t})))})),y.a.switchMap(C.g.fold((function(){return y.a.of({type:L.a.State.Type.LOADING}).pipe(y.a.delay(150))}),C.b.fold((function(e){return F.d.Logging.getLogger("editor.toolbar").error("Error on requesting document stats",e),s._notificationsManager.enqueue("statisticsError").pipe(y.a.mapTo({type:L.a.State.Type.ERROR}),y.a.finalize((function(){return s.onModalClose()})))}),(function(e){return p.a.combine(s._documentModel.score,s._documentModel.counters,s._documentModel.documentLength.view("trimmed"),(function(t,n,a){return Object(d.pipe)(t,C.g.fold((function(){return{type:L.a.State.Type.SHORT_CONTENT}}),(function(t){return{type:L.a.State.Type.READY,documentIsEmpty:0===a,score:t,counters:n,stats:e}})))}))})))),y.a.startWith({type:L.a.State.Type.EMPTY}),y.a.publishReplay(1),y.a.refCount()),this.onModalClose=function(){s._modalOperations.onClose()}},H=n("DTwm"),V=n("kbuH");var U=n("RRF2"),W=n("iU0Q"),z=n("nvxh");function G(e,t,n,r,i,o,c){return Object(d.pipe)(function(e,t,n,r,i,o,c,l){const u=Object(d.pipe)(e.defaultContext.get(),C.g.fold(()=>(F.d.Logging.getLogger("createSetGoalsFlow").warn("Default context not yet set, using fallback",i),i),H.identity)),f=V.a.create(e.context.get(),u,o,l),g=p.a.combine(f.showSetGoalsLoader,f.localContext,(e,t)=>({blocks:f.blocks,context:t,showOnLoad:e,features:o,source:r}));return h.a.fromSideEffect(r=>{switch(r.kind){case a.ActionsKind.open:t.goalsPopupShow(r.source);break;case a.ActionsKind.upgrade:t.getPremiumButtonClick(),c();break;case a.ActionsKind.close:n.onClose();const i=(()=>C.g.contains("academic")(r.context.domain)&&o.isStudentsOFE)()&&C.g.isNone(r.context.outcomeContext)?Object(_.a)(Object(s.a)({},r.context),{outcomeContext:C.g.some(m.a.OutcomeContext.defaultAcademic)}):r.context;e.updateContext(i)&&t.goalsFormSuccess(i,u);break;case a.ActionsKind.reset:f.localContext.set(m.a.unset);break;case a.ActionsKind.showOnLoadChanged:f.showSetGoalsLoader.set(r.value);break;default:Object(S.c)(r)}},g)}(t,function(e,t,n){return{goalsPopupShow:function(t){return e.gnarSpec.goalsPopupShow(e.pageId,t)},getPremiumButtonClick:function(){return z.a.create(e.gnarSpec).trackClick({pageId:e.pageId,bannerType:"goPremium",placement:"setGoalsPopup"})},goalsFormSuccess:function(a,r){var i=function(){return C.g.contains("academic")(a.domain)&&t.features.denali.isStudentsOFE};return e.gnarSpec.goalsFormSuccess(Object(d.pipe)(a.domain,C.g.getOrElse((function(){return r.domain}))),Object(d.pipe)(a.goals,C.g.map((function(e){return i()?[]:e})),C.g.getOrElse((function(){return r.goals})),(function(e){return Array.from(e)})),e.pageId,n,Object(d.pipe)(a.outcomeContext,C.g.filter(i),C.g.map(U.e.pick("type")),C.g.toUndefined),Object(d.pipe)(a.audience,C.g.filter(Object(H.not)(i)),C.g.toUndefined),Object(d.pipe)(a.outcomeContext,C.g.filter(i),C.g.map(U.e.pick("citation")),C.g.toUndefined),Object(d.pipe)(a.style,C.g.filter(Object(H.not)(i)),C.g.toUndefined))}}}(r,e,o),i,o,c,{demoMode:e.features.demoMode,isFree:e.features.isFree.get(),isStudentsOFE:e.features.denali.isStudentsOFE,isEligibleForFreeTrial:e.features.isEligibleForFreeTrial},(function(){return n.openUpgradeUrl(W.a.Place.DenaliDocument.editorDenaliGoals)}),e.settings.enableSetGoalsLoader.get()),h.a.extendActions(y.a.pipe(y.a.tap((function(t){switch(t.kind){case a.ActionsKind.close:e.settings.enableSetGoalsLoader.get()!==t.showOnLoad&&(e.settings.updateSetGoalsLoader(t.showOnLoad),r.gnarSpec.showGoalsNewDocumentFormSuccess(t.showOnLoad,r.pageId,o))}})))))}var q,K=n("TKPA");!function(e){!function(e){e[e.SMALL=0]="SMALL",e[e.LARGE=1]="LARGE"}(e.Type||(e.Type={})),function(e){e[e.SHOW_ALL=0]="SHOW_ALL",e[e.HIDE_PREV=1]="HIDE_PREV",e[e.HIDE_NEXT=2]="HIDE_NEXT",e[e.HIDE_BOTH=3]="HIDE_BOTH"}(e.NavigationControlDisplay||(e.NavigationControlDisplay={}))}(q||(q={}));var $=function(){function e(t,n,a,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:K.e,c=this;Object(r.a)(this,e),Object(o.a)(this,"type",void 0),Object(o.a)(this,"_stepMap",void 0),Object(o.a)(this,"_settings",void 0),Object(o.a)(this,"_modalOperations",void 0),Object(o.a)(this,"_onStart",void 0),Object(o.a)(this,"_steps",void 0),Object(o.a)(this,"_currentStepIndex",void 0),Object(o.a)(this,"_abort",void 0),Object(o.a)(this,"_getStepForIndex",void 0),Object(o.a)(this,"descriptionMeta",void 0),Object(o.a)(this,"currentStep",void 0),Object(o.a)(this,"goToNext",void 0),Object(o.a)(this,"goToPrev",void 0),this.type=t,this._stepMap=n,this._settings=a,this._modalOperations=i,this._onStart=s,this._steps=this.type===E.d.TourType.migration?e._migrationTour:e._welcomeTour,this._currentStepIndex=p.a.create(C.g.none),this._abort=function(){c._settings.denaliWelcomeTourSeen(),c._modalOperations.onClose(),c._currentStepIndex.set(C.g.none)},this._getStepForIndex=function(e){var t=c._steps[e],n=c._stepMap[t.stepId];switch(n.type){case q.Type.LARGE:var a;return{stepId:t.stepId,type:n.type,index:e,content:n.renderContent(),description:n.renderDescription.bind(n),navigationControl:null!==(a=t.navigationControl)&&void 0!==a?a:q.NavigationControlDisplay.SHOW_ALL};case q.Type.SMALL:return{stepId:t.stepId,type:n.type,index:e,content:n.renderContent({type:c.type,abort:c._abort,goToNext:c.goToNext,goToPrev:c.goToPrev}),navigationControl:Boolean(t.navigationControl)?t.navigationControl:q.NavigationControlDisplay.HIDE_BOTH};default:return Object(S.c)(n)}},this.descriptionMeta=this._currentStepIndex.view(C.g.map((function(e){return{index:e,steps:c._steps.length}}))).view(C.g.map((function(e){var t=e.index,n=e.steps;return{index:t<1||t>=n-1?t:t-1,totalSteps:n-2}}))),this.currentStep=this._currentStepIndex.view(C.g.map(this._getStepForIndex)),this.goToNext=function(){return c._currentStepIndex.modify(C.g.chain((function(e){var t=e+1;return Boolean(c._steps[t])?C.g.some(t):(c._settings.denaliWelcomeTourSeen(),c._modalOperations.onClose(),C.g.none)})))},this.goToPrev=function(){return c._currentStepIndex.modify(C.g.map((function(e){var t=e-1;return Boolean(c._steps[t])?t:0})))}}return Object(i.a)(e,[{key:"start",value:function(){this._currentStepIndex.set(C.g.some(0)),this._onStart()}}]),e}();Object(o.a)($,"_migrationTour",[{stepId:"welcomeOldUser"},{stepId:"fastApply",navigationControl:q.NavigationControlDisplay.HIDE_PREV},{stepId:"assistant"},{stepId:"checkTypes"},{stepId:"goals"},{stepId:"finalOldUser",navigationControl:q.NavigationControlDisplay.HIDE_NEXT}]),Object(o.a)($,"_welcomeTour",[{stepId:"welcomeNewUser"},{stepId:"fastApply",navigationControl:q.NavigationControlDisplay.HIDE_PREV},{stepId:"assistant"},{stepId:"checkTypes"},{stepId:"goals"},{stepId:"finalNewUser",navigationControl:q.NavigationControlDisplay.HIDE_NEXT}]);var Z,Y,X,Q=function(){function e(t,n,a){var i=this;Object(r.a)(this,e),Object(o.a)(this,"_settings",void 0),Object(o.a)(this,"_features",void 0),Object(o.a)(this,"_modalOperations",void 0),Object(o.a)(this,"close",void 0),this._settings=t,this._features=n,this._modalOperations=a,this.close=function(){i._settings.denaliWelcomeTourSeen(),i._modalOperations.onClose()}}return Object(i.a)(e,[{key:"showBrandRefreshLogo",get:function(){return this._features.showBrandRefresh24LogoActivation}},{key:"showOnboardingTourA11yUpdates",get:function(){return this._features.showOnboardingTourA11yUpdates}}]),e}(),J=n("WFUb"),ee=function(e){var t=e.changePlanViewModel;return l.createElement(g.c,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:t.close},l.createElement(J.a,{changePlanViewModel:t}))},te=n("+0Hp"),ne=n("fC5a"),ae=n("Butu"),re=n("wuWi"),ie=n("6Fzp"),oe=n("a7bV"),se=(n("cmlw"),n("5bvJ")),ce=function(){var e=l.useContext(g.a.TitleIdContext);return l.createElement(re.c,{id:e},"Send Product Feedback")},le=function(e){var t=e.feedbackViewModel,n=e.modalOperations,a=l.useContext(ie.a.Context),r=p.a.create(!0);return l.useEffect((function(){t.modalShown.next();var e=r.pipe(y.a.first((function(e){return!1===e}))).subscribe(n.onClose);return function(){return e.unsubscribe()}}),[t.modalShown,r,n.onClose]),l.createElement(g.b,{positionType:"fixed",visible:r,preventClose:!0,animate:!0},l.createElement(g.a,{className:se.wrapper},l.createElement(g.a.Header,null,l.createElement(ce,null)),l.createElement(g.a.Body,{className:se.feedbackPopupBody,name:"feedbackBody"},l.createElement(re.i,{className:se.description},"Tell us what you think. We promise to act on your feedback to make Grammarly even more awesome."),l.createElement(ae.a,{autofocus:!0,value:t.currentText.lens("brief"),placeholder:"Brief description",className:se.briefDescriptionInput}),l.createElement(ae.d,{placeholder:"Type your feedback",className:se.feedbackInput,value:t.currentText.lens("detailed")}),l.createElement(re.a,null,"If you have a support or billing-related request, please go to"," ",l.createElement(oe.a,{href:a.support.mainPage,target:"_blank",className:se.helpdesk},"Grammarly Helpdesk"))),l.createElement(g.a.Footer,{className:se.feedbackPopupFooter},l.createElement(ne.a.Ghost,{name:"cancel",onClick:function(){return r.set(!1)}},"Cancel"),l.createElement(ne.a.Primary,{name:"send",disabled:t.currentText.view((function(e){return""===e.brief||""===e.detailed})),onClick:function(){return r.set(!1),t.sendFeedback()}},"Send"))))},ue=n("4GyQ"),de=n("NDcT"),pe=n("ySi0"),me=n("nWMp"),fe=n("2swC"),he=n("VX36"),ge=function(e){return l.createElement(g.c,{positionType:"fixed",animate:!0,onClose:e.modalOperations.onClose},l.createElement(ve,{preferencesViewModel:e.preferencesViewModel,close:e.modalOperations.onClose,isSDUIEnabled:e.isSDUIEnabled}))},be=function(){var e=l.useContext(de.a.Context),t=l.useContext(g.a.TitleIdContext);return l.createElement(re.c,{id:t},e.editorSettingsModalHeader)},ve=function(e){var t=e.preferencesViewModel,n=e.isSDUIEnabled,a=e.close,r=l.useContext(de.a.Context);return v.a.useEffectOnDidMount(t.trackOpened),v.a.useEffectOnWillUnmount(t.update),l.createElement(g.a,{className:_e.popupWrapper},l.createElement(g.a.Header,{className:_e.popupHeader},l.createElement(be,null)),l.createElement(g.a.Body,{name:"preferencesBody",className:_e.popupBody},l.createElement(we,{value:t.autoScrollToNextAlert,id:"autoScrollSwitcher",title:r.preferences.autoJumpToNextAlert,description:r.preferences.autoJumpToNextAlertDescription}),l.createElement(we,{value:t.muteQuotedAlerts,id:"muteCitedAlerts",title:r.preferences.muteQuotedAlerts}),l.createElement(we,{value:t.fontSize,id:"fontSizeIncreasedSwitcher",title:r.preferences.increaseFontSize}),l.createElement(we,{value:t.suggestionsVisualMode,id:"suggestionsVisualModeSwitcher",title:r.preferences.suggestionsVisualMode.title,description:n?r.preferences.suggestionsVisualMode.descritionSDUI:r.preferences.suggestionsVisualMode.description}),l.createElement(Ce,{onClick:t.trackSuggestionManagementClicked})),l.createElement(g.a.Footer,null,l.createElement(ne.a.Primary,{name:"pref-done-btn",className:_e.doneButton,onClick:a},r.done)))},ye=function(e){var t=e.children;return l.createElement(re.l,{className:_e.description},t)},Oe=function(e){var t=e.children,n=e.className;return l.createElement("section",Object(ue.c)(_e.bodySection,n),t)},Se=function(e){var t=l.useContext(ie.a.Context),n=l.useContext(de.a.Context).preferences;return l.createElement(ne.a,{name:"manage-suggestions",href:t.account.suggestions,target:"_blank",onClick:e.onClick,className:_e.manageSuggestions},n.suggestionManagementLink,l.createElement(pe.d.OuterLink,{className:_e.manageSuggestionsIcon}))},Ce=function(e){var t=l.useContext(de.a.Context).preferences;return l.createElement(Oe,null,l.createElement(Se,{onClick:e.onClick}),l.createElement(ye,null,t.suggestionManagementDescription))},we=function(e){var t=e.value,n=e.id,a=e.title,r=e.description,i=e.className;return l.createElement(Oe,{className:U.c.classes(_e.setting,i)},l.createElement("label",{id:n},l.createElement(re.a,null,a),Boolean(r)?l.createElement(ye,null,r):null),l.createElement(he.a,{checked:t,className:_e.toggle,name:n,ariaLabelledBy:n}))},ke=me.a.rem(2),Ee=me.a.rem(1),je=fe.a.CoreBlue50,_e=me.a.prefixedStylesheet("preferencePopup",{popupWrapper:[{display:"flex",flexDirection:"column",width:me.a.rem(27),userSelect:"none"}],popupHeader:[{padding:"".concat(me.a.rem(3)," ").concat(ke," ").concat(Ee),backgroundColor:fe.a.CoreNeutral0}],popupBody:[{padding:"0 ".concat(ke)}],doneButton:[{padding:me.a.important("0 ".concat(Ee))}],bodySection:[{padding:"".concat(Ee," 0"),borderTop:"1px solid ".concat(fe.a.CoreNeutral20)}],description:[{color:fe.a.CoreNeutral50,marginTop:me.a.rem(.5),whiteSpace:"pre-line"}],selectableLabel:[{userSelect:"text",cursor:"text"}],setting:[{display:"flex",cursor:"pointer",justifyContent:"space-between"}],toggle:[{marginLeft:me.a.rem(1.75),marginTop:me.a.rem(.125)}],manageSuggestions:[{display:"flex",alignItems:"center",color:je,fontSize:me.a.rem(fe.h.BodySize),fontWeight:fe.h.BodyWeight,lineHeight:me.a.rem(2),marginTop:me.a.rem(-.3125)}],manageSuggestionsIcon:[{stroke:"currentColor"}]});!function(e){e.Tour="Tour",e.WhatsNew="WhatsNew",e.Proofit="Proofit",e.Preferences="Preferences",e.Feedback="Feedback",e.ChangePlan="ChangePlan",e.Dunning="Dunning",e.SignOut="SignOut",e.DeDeprecation="DeDeprecation"}(Z||(Z={})),(X=Y||(Y={})).tour={type:Z.Tour},X.news={type:Z.WhatsNew},X.feedback={type:Z.Feedback},X.dunning={type:Z.Dunning},X.preferences={type:Z.Preferences},X.changePlan=function(e){return{type:Z.ChangePlan,model:e}},X.setGoals=f.c.setGoals,X.performance=f.c.performance,X.signOut={type:Z.SignOut},X.deDeprecation={type:Z.DeDeprecation};var xe=function(){function e(t,n,a,i,s,c,l,u,d,p,m,f,h,g,b){Object(r.a)(this,e),Object(o.a)(this,"_userAccount",void 0),Object(o.a)(this,"_textResources",void 0),Object(o.a)(this,"_documentContext",void 0),Object(o.a)(this,"_upgradeViewModel",void 0),Object(o.a)(this,"_config",void 0),Object(o.a)(this,"_environment",void 0),Object(o.a)(this,"_feedbackViewModel",void 0),Object(o.a)(this,"_notificationsManager",void 0),Object(o.a)(this,"_documentModel",void 0),Object(o.a)(this,"_reportViewModel",void 0),Object(o.a)(this,"_telemetry",void 0),Object(o.a)(this,"_categoriesModel",void 0),Object(o.a)(this,"_bannersModel",void 0),Object(o.a)(this,"_bannersFeatures",void 0),Object(o.a)(this,"_logout",void 0),this._userAccount=t,this._textResources=n,this._documentContext=a,this._upgradeViewModel=i,this._config=s,this._environment=c,this._feedbackViewModel=l,this._notificationsManager=u,this._documentModel=d,this._reportViewModel=p,this._telemetry=m,this._categoriesModel=f,this._bannersModel=h,this._bannersFeatures=g,this._logout=b}return Object(i.a)(e,[{key:"load",value:function(e){switch(e.type){case Z.ChangePlan:return this._loadChangePlanModal(e.model);case Z.Tour:return this._loadTour();case Z.WhatsNew:return this._loadWhatsNew();case Z.Preferences:return this._loadPreferences();case Z.Feedback:return this._loadFeedback();case Z.Dunning:return this._loadDunning();case f.d.SetGoals:return this._loadSetGoals(e.source);case f.d.Performance:return this._loadPerformance();case Z.Proofit:throw new Error("Failed to load ".concat(e," modal"));case Z.SignOut:return this._loadSignOut();case Z.DeDeprecation:return this._loadDeDeprecation();default:return Object(S.c)(e)}}},{key:"_loadTour",value:function(){var e=this;return n.e(142).then(n.bind(null,"+8ne")).then((function(t){var n=t.WelcomeModal;return function(t){var a=new Q(e._userAccount.settings,e._userAccount.features.denali,t);return{instance:{type:Z.Tour},component:l.createElement(n,{welcomeModalViewModel:a})}}}))}},{key:"_loadWhatsNew",value:function(){var e=this;return Promise.all([n.e(20).then(n.bind(null,"eyGe")).then((function(t){var n=t.newsMedia,a=t.initStaticNewsData,r=t.ordNews,i=Object.values(a(e._textResources.base)).map((function(e){return{id:e.id,date:e.date,content:Object(s.a)({title:e.title,body:e.body},n[e.id])}})),o=u.Xb(r)(Object.values(i).filter((function(t){return e._userAccount.features.denali.newsConfig[t.id].visible()})));return o.forEach((function(e){(new Image).src=D.a.Content.isVideo(e.content)?e.content.poster:e.content.image})),o})),Promise.all([n.e(0),n.e(31)]).then(n.bind(null,"m/9m"))]).then((function(t){var n=Object(c.a)(t,2),a=n[0],r=n[1].WhatsNewPopup;return function(t){return{instance:{type:Z.WhatsNew},component:l.createElement(r,{newsVM:new D.b(e._userAccount.settings),content:a,modalOperations:t})}}}))}},{key:"_loadSetGoals",value:function(e){var t=this;return Promise.resolve((function(n){var r=G(t._userAccount,t._documentContext,t._upgradeViewModel,t._telemetry,n,e,m.a.defaultContextFallback);return{instance:{type:f.d.SetGoals,source:e},component:h.b.mount(a.Modal,r)}}))}},{key:"_loadPreferences",value:function(){var e=this,t=new N(this._userAccount.settings,this._categoriesModel,this._userAccount.features.denali,this._telemetry);return Promise.resolve((function(n){return{instance:{type:Z.Preferences},component:l.createElement(ge,{preferencesViewModel:t,modalOperations:n,isSDUIEnabled:e._userAccount.features.denali.sdui})}}))}},{key:"_loadFeedback",value:function(){var e=this;return Promise.resolve((function(t){return{instance:{type:Z.Feedback},component:l.createElement(le,{feedbackViewModel:e._feedbackViewModel,modalOperations:t})}}))}},{key:"_loadSignOut",value:function(){var e=this;return n.e(141).then(n.bind(null,"gRfh")).then((function(t){var n=t.SignOutPopup;return function(t){var a=n.Flow(t,e._telemetry,e._userAccount.settings,e._userAccount.features,e._logout);return{instance:{type:Z.SignOut},component:h.b.mount(n.View,a)}}}))}},{key:"_loadDeDeprecation",value:function(){var e=this;return n.e(29).then(n.bind(null,"8qCA")).then((function(t){var n=t.DeDeprecationPopupView;return function(t){return{instance:{type:Z.DeDeprecation},component:l.createElement(n,{type:"de-deprecation-popup",actions:e._bannersModel,onClose:t.onClose,daysRemaining:Object(d.pipe)(e._bannersFeatures,C.g.chain((function(e){return e.deDeprecation})),C.g.map((function(e){return e.daysLeft})),C.g.getOrElse((function(){return p.a.create(30)})))})}}}))}},{key:"_loadDunning",value:function(){var e=this;return n.e(140).then(n.bind(null,"tbHZ")).then((function(t){var n=t.DunningPopup;return function(t){var a=new j(e._userAccount,e._config,e._environment,e._telemetry);return{instance:{type:Z.Dunning},component:l.createElement(n,{dunningViewModel:a,modalOperations:t})}}}))}},{key:"_loadPerformance",value:function(){var e=this;return Promise.resolve((function(t){var n=new R(e._reportViewModel,e._documentModel,e._notificationsManager,t),a=h.b.Knot.make(O.a.ModalView,{downloadButton:h.b.Node.make((function(){return l.createElement(te.b,{reportViewModel:n.reportViewModel,state:n.state})}))}),r=h.a.fromSideEffect((function(e){switch(e.action.kind){case O.a.ActionsKind.close:t.onClose();break;default:Object(S.c)(e.action.kind)}}),n.state.pipe(y.a.map((function(e){return{root:e}}))));return{instance:{type:f.d.Performance},component:h.b.mount(a,r)}}))}},{key:"_loadChangePlanModal",value:function(e){var t=this;return Promise.resolve((function(n){var a=new w.a(e,n,t._notificationsManager,t._telemetry);return{instance:{type:Z.ChangePlan,model:e},component:l.createElement(ee,{changePlanViewModel:a})}}))}}]),e}()},"/Q61":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"a",(function(){return M}));var a,r=n("8O/t"),i=n("B8yO"),o=n("tiWp"),s=n("4GyQ"),c=n("mgiE"),l=n("NDcT"),u=n("fC5a"),d=n("t39C"),p=n("ySi0"),m=n("D6wy"),f=n("wuWi"),h=n("D2TP"),g=n("Hj2R"),b=n("hzat"),v=n("KH+i"),y=n("7Cqk"),O=n("4Yir");!function(e){e.none="none",e.persistent="persistent",e.new="new"}(a||(a={}));const S=({className:e,vox:t,isMinimalCard:n})=>{const{vox:{styleGuide:a}}=i.useContext(l.a.Context);return i.createElement("div",Object(s.c)(e,O.a.voxTitle,n?O.a.minimalTitle:void 0),i.createElement("span",null,t.companyName," ",a))},C=({logoUrl:e,className:t})=>i.createElement("img",Object(r.a)({alt:"company logo","aria-hidden":!0,src:e},Object(s.c)(t,O.a.voxLogo))),w=({title:e,layoutDensity:t})=>i.createElement(f.a,{className:Object(o.pipe)(t,v.a.Density.matchOrDefault(v.a.Density.minimal)(()=>O.a.minimalTitle,()=>O.a.toneTitle))},i.createElement(d.b,{emojiClassName:O.a.toneLogo},e));function k(e){return h.a.outcomeTypeMatch({correctness:y.a.dotCorrectness,clarity:y.a.dotClarity,premium:y.a.dotAdvanced,engagement:y.a.dotEngagement,delivery:y.a.dotDelivery,vox:y.a.dotVox,knowledgeHub:y.a.knowledgeHub})(e.lensType)}function E(e){return h.a.outcomeTypeMatch({correctness:i.createElement(p.d.Correctness,{className:O.a.cardLogo}),clarity:i.createElement(p.d.ClarityOutcome,{className:O.a.cardLogo}),premium:i.createElement(p.d.Star,{className:O.a.cardLogo}),engagement:i.createElement(p.d.EngagementOutcome,{className:O.a.cardLogo}),delivery:i.createElement(p.d.DeliveryOutcome,{className:O.a.cardLogo}),vox:null,knowledgeHub:null})(e.lensType)}function j(e,t,n,a,l,u){const{extraProperties:m}=e;return b.a.isTakeaway(e)?function(e,t,n){return{style:"",description:i.createElement("div",{className:Object(o.pipe)(t,v.a.Density.matchOrDefault(v.a.Density.minimal)(()=>O.a.minimalTitle,()=>{}))},c.g.contains(g.n.correctlyDetected)(e.takeawayFeedback)&&e.takeawayIsLikelyToBeRead?i.createElement(p.d.ValidationOk,Object(r.a)({width:16},Object(s.c)(O.a.cardLogo,O.a.takeawayIcon))):i.createElement(p.d.Megaphone,Object(r.a)({width:16},Object(s.c)(O.a.cardLogo,O.a.takeawayIcon))),t===v.a.Density.minimal?n:e.lensName)}}(e,n,u):b.a.isShortenIt(e)?_(e,n,l,u):b.a.isToneAI(e)?function(e){return{style:k(e),description:i.createElement(f.a,{className:O.a.minimalTitle},e.title)}}(e):b.a.isEthicalAI(e)?function(e){return{style:"",description:i.createElement("div",null,void 0!==e.emojiID?i.createElement(d.c,{id:e.emojiID,className:O.a.toneLogo}):i.createElement(p.d.EthicalAI.Heart,Object(s.c)(O.a.cardLogo)),i.createElement(f.l,{className:O.a.ethicalAILabel},e.miniCardTitle))}}(e):b.a.isSuggestedSnippet(e)?function(e){return{style:k(e),description:i.createElement(f.a,{className:O.a.minimalTitle},e.title)}}(e):b.a.isKnowledgeHubSuggestedTerm(e)?function(e){return{style:k(e),description:i.createElement(f.a,{className:O.a.minimalTitle},e.miniCardTitle)}}(e):c.g.isSome(m.tone)?function(e,t){return{style:k(e),description:i.createElement(w,{title:e.title,layoutDensity:t})}}(e,n):t?c.g.isSome(m.vox)?function(e,t){return{style:y.a.dotVox,description:i.createElement(i.Fragment,null,Object(o.pipe)(e.logoUrl,c.g.fold(()=>null,e=>i.createElement(C,{logoUrl:e,className:O.a.cardLogo}))),i.createElement(S,{vox:e,isMinimalCard:t===v.a.Density.minimal}))}}(m.vox.value,n):b.a.isFree(e)?_(e,n,l,u):function(e,t,n,a){return{style:Object(o.pipe)(a,v.a.CardVisualMode.match({onRegular:()=>k(e),onContrast:()=>""})),description:i.createElement(i.Fragment,null,Object(o.pipe)(a,v.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>E(e)})),i.createElement("div",Object(s.c)(O.a.dualItemLabel,Object(o.pipe)(n,v.a.Density.matchOrDefault(v.a.Density.minimal)(()=>O.a.minimalTitle,()=>{}))),i.createElement("span",{className:O.a.dualItemLabel},e.lensName,i.createElement(I,{highlightStyle:t}))))}}(e,a,n,l):null}function _(e,t,n,a){return Object(o.pipe)(t,v.a.Density.matchOrDefault(v.a.Density.minimal)(()=>function(e,t,n){return{style:Object(o.pipe)(t,v.a.CardVisualMode.match({onRegular:()=>k(e),onContrast:()=>""})),description:Boolean(n)?n:i.createElement(i.Fragment,null,Object(o.pipe)(t,v.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>E(e)})),i.createElement(f.a,{className:O.a.minimalTitle},e.miniCardTitle))}}(e,n,a),()=>function(e,t){return{style:Object(o.pipe)(t,v.a.CardVisualMode.match({onRegular:()=>k(e),onContrast:()=>""})),description:i.createElement(i.Fragment,null,Object(o.pipe)(t,v.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>E(e)})),e.lensName)}}(e,n)))}const x=({label:e})=>i.createElement("span",{className:O.a.fluencyLabel},e,i.createElement(u.b,{iconWidth:10,buttonClass:O.a.fluencyInfo,iconClass:O.a.fluencyInfo,title:i.useContext(l.a.Context).card.fluency.tooltip})),A=({style:e,description:t})=>i.createElement("span",Object(s.c)(O.a.lens,O.a.dot,e),t),I=({highlightStyle:e})=>{const t=i.useContext(l.a.Context);if(e===a.none)return null;const n=e===a.new?i.createElement("div",{className:O.a.newPremiumLabel},t.premiumAlertLabel.new,i.createElement(p.d.Paid,{className:O.a.newPremiumLabelIcon,width:12})):i.createElement(p.d.Paid,{className:O.a.premiumPersistentTooltipIcon,width:10});return i.createElement(m.a,{align:"topCenter",title:t.premiumAlertLabel.tooltip.includedWithPaid},n)},T=({style:e,description:t,extraStyle:n})=>i.createElement("span",Object(s.c)(n,O.a.lensMinimal,O.a.lens,O.a.dot,e),t),M=e=>Object(o.pipe)(j(e.activeAlert,e.showCardLabel,e.layoutDensity,e.premiumAlertLabelHighlight,e.cardVisualMode,e.children),c.g.fromNullable,c.g.map(t=>i.createElement("div",{className:e.className},Object(o.pipe)(e.activeAlert.extraProperties.fluencyMessage,c.g.fold(()=>Object(o.pipe)(e.layoutDensity,v.a.Density.matchOrDefault(v.a.Density.minimal)(()=>i.createElement(T,t),()=>i.createElement(A,t))),n=>Object(o.pipe)(e.layoutDensity,v.a.Density.match(i.createElement(i.Fragment,null,i.createElement(A,t),i.createElement(x,{label:n})),i.createElement(A,t),i.createElement(T,{style:t.style,extraStyle:O.a.minimalTitle,description:e.activeAlert.miniCardTitle}))))))),c.g.fold(()=>i.createElement("div",{"data-purpose":"label-placeholder"}),t=>i.createElement(P,null,t,e.badge))),P=({children:e})=>i.createElement("div",{role:"definition",className:O.a.labelContainer},e)},"/VNA":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a,r=n("Wy1Y"),i=n("a5gI"),o=n("mMt2"),s=n("fr9z"),c=n("ShUL"),l=n("nWMp"),u={backgroundColor:n("2swC").a.CoreBlue20,backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{display:"none !important"}}},d=l.a.keyframes({"0%":{backgroundColor:"rgba(153, 194, 255, 1)"},"50%":{backgroundColor:"rgba(153, 194, 255, 0)"},"100%":{backgroundColor:"rgba(153, 194, 255, 1)"}}),p={animation:"".concat(d," 300ms 2 ease-out forwards !important"),animationIterationCount:"2 !important"},m=l.a.stylesheet({mark:[u],attention:[p]});!function(e){var t="selectionContextRange";e.create=function(e,n){return s.b.create(e,n,{type:t})};e.is=function(e){return e.meta.type===t}}(a||(a={}));var f=function e(t,n){var s=this;Object(r.a)(this,e),Object(i.a)(this,"_ded",void 0),Object(i.a)(this,"_rangeManager",void 0),Object(i.a)(this,"_ranges",void 0),Object(i.a)(this,"setContextHighlight",void 0),this._ded=t,this._rangeManager=n,this._ranges=new Set,this.setContextHighlight=function(e,t){var n="selection-context-".concat(e.start,"|").concat(e.end),r=s._ranges.has(n),i=a.create(e.start,e.end),l={range:function(){return i},order:0,classes:[m.mark].concat(Object(o.a)("attention"===t?[m.attention]:[]))};"hidden"===t?(r&&(s._ded.changeMarks([c.a.Change.getRemoveAction({range:function(){return i}})(n)]),s._rangeManager.deregisterRange(n)),s._ranges.delete(n)):r?s._ded.changeMarks([c.a.Change.getUpdateAction(l)(n)]):(s._rangeManager.registerRange(n,i),s._ded.changeMarks([c.a.Change.getCreateAction(l)(n)]),s._ranges.add(n))}}},"/XMJ":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var a=n("x+Pc"),r=n("tiWp"),i=n("pHLr"),o=n("UK5+"),s=n("fB2g"),c=n("XGsl");function l(e,t,n){return Object(r.pipe)(e,p,m(t),f(n,t.length+1),g,(function(e){return e.innerHTML}))}var u,d=function(){return s.a.getStyles()+"\n.".concat(i.a.markBulkApplied&&i.a.markBulkApplied.split(/\s/)[0]," { border-bottom-style: hidden !important }")+"\n.".concat(i.a.markSelected&&i.a.markSelected.split(/\s/)[0]," { background-color: transparent !important }")},p=function(e){var t=document.createElement("div");return t.innerHTML=e,t},m=function(e){return function(t){return e.reduce(function(e){return function(t,n,a){return n.getHighlightRanges().filter(o.b.isMainView).forEach((function(n){var r=e.querySelectorAll("[".concat(u.MARK_ID,'="').concat(n.meta.id,'"]'));if(r.length>0){var i=r[r.length-1],o=function(e,t){var n=document.createElement("span");return n.className=c.a.superscriptContainer,n.innerHTML='<span class="'.concat(e," ").concat(c.a.superscript,'" data-superscript>').concat(t+1,"</span>"),n}(i.classList.value,a);i.appendChild(o),t.push(o)}})),t}}(t),[]).forEach(v),Array.from(t.querySelectorAll("span."+c.b)).forEach(b),t}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return e.forEach((function(e,a){return e.getHighlightRanges().filter(o.b.isMainView).forEach((function(e){var r=n.querySelectorAll("[".concat(u.MARK_ID,'="').concat(e.meta.id,'"]')),i=(t+a).toString();r.forEach((function(e){return e.setAttribute(u.VERTICAL_UNDERLINE,i)})),Boolean(r[0])&&(r[0].setAttribute(u.VERTICAL_START,""),h(r[0],i),r[r.length-1].setAttribute(u.VERTICAL_END,""))}))})),n}},h=function(e,t){return e.insertAdjacentHTML("afterbegin","<span ".concat(u.VERTICAL_INDEX,">").concat(t,"</span><span ").concat(u.VERTICAL_BODY,"><br /></span>"))},g=function(e){return e.querySelectorAll("[".concat(u.VERTICAL_INDEX,"]")).forEach((function(t){var n=t.textContent;e.querySelectorAll("[".concat(u.VERTICAL_UNDERLINE,'="').concat(n,'"] [').concat(u.VERTICAL_END,"]")).forEach((function(e){e.removeAttribute(u.VERTICAL_END)}))})),e};function b(e,t,n){var a,r;n.length>t+1&&(a=e,r=n[t+1],a.textContent.length-function(e,t){var n=document.createRange();return n.setStartAfter(e),n.setEndBefore(t),n.toString().length}(a,r)>=0)&&function(e){e.style.width="auto",e.parentElement.insertAdjacentElement("afterend",e)}(e)}function v(e){if(e.children.length>0&&e.previousSibling){var t=Array.from(e.children);e.innerHTML="",function e(t){var n=[];if(!Object(a.a)(t,Element))return n;t.matches("[".concat(u.MARK_ID,"]"))&&t.lastElementChild&&t.lastElementChild.classList.contains(c.b)&&(n=Array.from(t.lastElementChild.children),t.lastElementChild.remove());return t.lastElementChild?n.concat(e(t.lastElementChild)):n}(e.previousSibling).concat(t).sort((function(e,t){return Number(e.textContent)-Number(t.textContent)})).forEach((function(t){return e.appendChild(t)}))}}!function(e){e.MARK_ID="data-mark-id",e.VERTICAL_UNDERLINE="data-vertical-underline",e.VERTICAL_START="data-vertical-underline-start",e.VERTICAL_BODY="data-vertical-underline-body",e.VERTICAL_END="data-vertical-underline-end",e.VERTICAL_INDEX="data-vertical-underline-index"}(u||(u={}))},"/jTu":function(e){e.exports=JSON.parse('{"issuesWrapper":"_1a1e3949-new_toggler-issuesWrapper","criticalCounter":"_008efcf3-new_toggler-criticalCounter","advancedCounter":"_27733a69-new_toggler-advancedCounter","criticalCounterWrapper":"_c866ffce-new_toggler-criticalCounterWrapper","criticalCounterContent":"_7ff7d450-new_toggler-criticalCounterContent","advancedCounterWrapper":"_f5d3206f-new_toggler-advancedCounterWrapper","advancedCounterContent":"_91c5f753-new_toggler-advancedCounterContent"}')},"/pMd":function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return x}));var a=n("8O/t"),r=n("X76w"),i=n("vGXj"),o=n("B8yO"),s=n("DTwm"),c=n("tiWp"),l=n("4GyQ"),u=n("OwvP"),d=n("+vYo"),p=n("NDcT"),m=n("fC5a"),f=n("L8Yl"),h=n("hSa3"),g=n("ySi0"),b=n("sX1a"),v=n("D2TP"),y=n("uxqH"),O=n("KH+i"),S=n("0kuo"),C=n("mgiE"),w=n("Lsxp"),k=function(e){var t=e.title,n=e.tooltip,s=e.tooltipAlignment,c=e.isActive,u=e.isDisabled,d=e.className,p=e.children,h=Object(i.a)(e,["title","tooltip","tooltipAlignment","isActive","isDisabled","className","children"]);return o.createElement(m.a,Object(a.a)(Object(r.a)(Object(a.a)({},h),{styleType:b.Typography.Type.Base,active:c,tag:f.b.div,title:"string"==typeof n?o.createElement("div",{className:w.a.tooltip},n):n,titleAlign:s,disabled:u}),Object(l.c)(w.a.outcomeBtn,w.a.outcomeBtnBorders,d)),t,p)};var E=function(e){var t=e.progress,n=e.label;return o.createElement("div",{className:w.a.progressBarBg},o.createElement(u.a.div,{className:w.a.progressBar,"aria-label":n,role:"progressbar","aria-valuenow":t.view(y.a.iso.unwrap),style:t.view((function(e){return Boolean(e)?{transform:"translateX(".concat(e,"%)")}:{}}))}))},j=function(e){var t=e.lens,n=e.activeLensId,r=e.tooltipAlignment,i=e.isDisabled,s=e.cardVisualMode,p=e.onClick;return o.createElement(m.a,Object(a.a)({id:t.id,name:"lens-".concat(t.id),styleType:b.Typography.Type.Base,tag:f.b.div,active:n.view((function(e){return e===t.id})),title:t.description&&o.createElement("div",{className:w.a.tooltip},t.description),"aria-label":"".concat(t.title,": ").concat(t.description),titleAlign:r,disabled:i,onClick:p},Object(l.c)(n.view((function(e){return e!==t.id&&!v.a.isMainLens(e)&&e!==v.a.SpecialId.Premium})).view((function(e){return e&&w.a.inactive})),function(e){switch(e){case v.a.SpecialId.Correctness:return w.a.correctness;case v.a.SpecialId.Clarity:return w.a.clarity;case v.a.SpecialId.Engagement:return w.a.engagement;case v.a.SpecialId.Delivery:return w.a.delivery;case v.a.SpecialId.Vox:return w.a.vox;case v.a.SpecialId.KnowledgeHub:return w.a.knowledgeHub;case v.a.SpecialId.Plagiarism:return w.a.plagiarism;default:return Object(S.c)(e)}}(t.id),w.a.outcomeBtnBorders)),t.title,Boolean(t.status)?o.createElement(b.Typography.Small,{className:w.a.outcomeStatus},t.status):null,o.createElement(E,{label:t.title,progress:t.progress}),Object(c.pipe)(t.logo,C.g.map((function(e){return o.createElement(_,{className:w.a.voxLogo,key:"logo",src:e})})),C.g.getOrElse((function(){return o.createElement(u.a.Fragment,null,d.a.combine(t.progress.view(y.a.isMax),t.isUnavailable,s,(function(e,n,a){return e?o.createElement(g.d.CheckmarkOutcomes,{key:"checkmark",className:w.a.checkmarkIcon}):n?o.createElement(g.d.Info,{key:"info",width:11,className:w.a.infoIcon}):a===O.a.CardVisualMode.ContrastLightMode?(r=t.type,i=w.a.checkmarkIcon,[v.a.Type.Critical,v.a.Type.Plagiarism,v.a.Type.Other].includes(r)?null:v.a.outcomeTypeMatch({correctness:o.createElement(g.d.Correctness,{className:i}),clarity:o.createElement(g.d.ClarityOutcome,{className:i}),premium:o.createElement(g.d.Star,{className:i}),engagement:o.createElement(g.d.EngagementOutcome,{className:i}),delivery:o.createElement(g.d.DeliveryOutcome,{className:i}),vox:null,knowledgeHub:null})(r)):null;var r,i})))}))))},_=function(e){var t=e.src,n=e.className;return o.createElement("img",{"aria-hidden":!0,className:n,src:t,alt:""})},x=function(e){var t=e.id,n=e.data,a=e.name,r=e.activeLensId,i=e.onClick,c=o.useContext(p.a.Context);return o.createElement(u.a.Fragment,null,n.view(Object(s.flow)(C.g.map((function(e){return o.createElement(k,{id:t,key:e.id,name:a,title:e.title,isActive:r.view((function(e){return e===t})),onClick:i,className:w.a.premium},o.createElement(u.a.Fragment,null,e.alerts.view((function(e){return o.createElement(h.a.OutcomeCounter,{theme:w.a,count:e})}))),o.createElement(b.Typography.Small,{className:w.a.outcomeStatus},c.sidebar.advancedAlerts))})),C.g.toNullable)))}},"/taW":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}));var a,r,i,o,s=n("U9Go"),c=n("MHMU"),l=n("tiWp"),u=n("+vYo"),d=n("rOJn"),p=n("mgiE");!function(e){e.group=p.d.getStructGroup({critical:p.d.groupSum,advanced:p.d.groupSum,free:p.d.groupSum,freePremium:p.d.groupSum,paid:p.d.groupSum,unread:p.d.groupSum,muted:p.d.groupSum}),e.eq=s.l({critical:s.g,advanced:s.g,free:s.g,freePremium:s.g,paid:s.g,unread:s.g,muted:s.g}),e.show=c.a({critical:c.d,advanced:c.d,free:c.d,paid:c.d,unread:c.d,muted:c.d});e.isValid=function(e){return e.critical>=0&&e.advanced>=0&&e.unread>=0},e.isEmpty=function(e){return a.eq.equals(e,a.group.empty)}}(a||(a={})),function(e){var t=e.MIN_GOALS=3;e.TOTAL_GOALS=t+1;e.calculateCompleteness=function(e){const t=Object(l.pipe)(e.goals,p.g.exists(e=>e.size>0));return d.a.eq.equals(e,d.a.unset)||Object(l.pipe)(e.domain,p.g.forAll(e=>"general"===e))&&!(p.g.isSome(e.audience)||p.g.isSome(e.style)||t)?0:Number(t||0)+r.MIN_GOALS}}(r||(r={})),function(e){e.zero={full:0,trimmed:0}}(i||(i={})),function(e){let t;!function(e){e[e.Document=0]="Document",e[e.Plagiarism=1]="Plagiarism"}(t=e.CheckingKind||(e.CheckingKind={}));e.Mock={getCheckingForState:()=>u.a.create({kind:o.CheckingKind.Document,type:"idle"})}}(o||(o={}))},"/u+j":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return x}));var a,r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("mMt2"),c=n("tiWp"),l=n("+vYo"),u=n("D2TP"),d=n("Hj2R"),p=n("XPG3");!function(e){e.group=function(e){return Object.values(e.reduce((e,{lensName:t,isFree:n,cost:a})=>(void 0===e[t]&&(e[t]={lensName:t,free:0,premium:0}),e[t][n?"free":"premium"]+=a,e),{})).sort((e,t)=>t.premium-e.premium)}}(a||(a={}));var m,f=n("mEGS"),h=n("UUXv"),g=n("IrSI"),b=n("TDJj"),v=n("xk6L"),y=n("La5+"),O=n("mgiE"),S=n("TKPA"),C=n("0kuo"),w=n("skc2"),k=n("M3t0"),E=n("s1NC"),j=n("xAs4"),_=n("nvxh");(m||(m={})).Mock=function e(){Object(r.a)(this,e),Object(o.a)(this,"events",new v.a.Subject),Object(o.a)(this,"advancedAlerts",l.a.create(O.g.none)),Object(o.a)(this,"openUpgradeUrl",S.e),Object(o.a)(this,"fromGbVoxUpHookLens",S.e),Object(o.a)(this,"fromGrammarlyGO",S.e),Object(o.a)(this,"enableGBVoxHookLens",S.e),Object(o.a)(this,"displayValue",(function(){return""})),Object(o.a)(this,"isEligibleForFreeTrial",void 0)};var x=function(){function e(t,n,a,i,s,l,p,m,f,h,g,b){var C=this;Object(r.a)(this,e),Object(o.a)(this,"_checkingDomain",void 0),Object(o.a)(this,"_lensState",void 0),Object(o.a)(this,"_lensPreviewVM",void 0),Object(o.a)(this,"_docId",void 0),Object(o.a)(this,"_environment",void 0),Object(o.a)(this,"_upgradeHook",void 0),Object(o.a)(this,"_config",void 0),Object(o.a)(this,"_uphookFormat",void 0),Object(o.a)(this,"_uphookDestination",void 0),Object(o.a)(this,"_telemetry",void 0),Object(o.a)(this,"_navigateToDocuments",void 0),Object(o.a)(this,"_checkEligibleForFreeTrial",void 0),Object(o.a)(this,"_log",void 0),Object(o.a)(this,"_subs",void 0),Object(o.a)(this,"events",void 0),Object(o.a)(this,"advancedAlerts",void 0),Object(o.a)(this,"_createUpgradeUrl",void 0),this._checkingDomain=t,this._lensState=n,this._lensPreviewVM=a,this._docId=i,this._environment=s,this._upgradeHook=l,this._config=p,this._uphookFormat=m,this._uphookDestination=f,this._telemetry=h,this._navigateToDocuments=g,this._checkEligibleForFreeTrial=b,this._log=k.d.Logging.getLogger("UpgradeViewModel"),this._subs=new y.a.Keeper,this.events=new v.a.Subject,this.advancedAlerts=this._lensPreviewVM.getLens(u.a.SpecialId.Premium).view((function(e){var t=e.count;return t>0?Object(c.pipe)(O.g.some({count:t,alerts:function(){return C._formatLiteAlerts(C._getGroupedLiteAlerts((function(e){return d.a.isPremium(e)})))}}),O.g.filter((function(e){var t=e.alerts;return Object(S.n)(t())}))):O.g.none})),this._createUpgradeUrl=function(e){var t=C._upgradeHook.fromDenaliDocumentToPlans(e,C._docId,C._getGroupedLiteAlerts(Object(S.m)(d.a.isPlagiarism)),C._getGroupedLensAlerts(Object(S.m)(d.a.isPlagiarism)));return O.g.isNone(C._uphookDestination)?t:C._uphookDestination.value===j.n.plansPage?t.addParams({redirectUphookToUpgradePageExp:"1"}):C.isEligibleForFreeTrial?C._upgradeHook.fromDenaliDocumentToUpgradeTry(e,C._docId):C._upgradeHook.fromDenaliDocumentToUpgrade(e,C._docId)},this._subs.push(this._listenHookEvents())}return Object(i.a)(e,[{key:"_listenHookEvents",value:function(){var e=this;return this.events.pipe(v.a.tap((function(t){var n=e._lensState.get().currentLens.id;switch(t.kind){case g.a.ActionsKind.onMiniShow:[u.a.SpecialId.FreePremiumAlerts].includes(n)&&e._telemetry.gnarSpec.miniAdvancedIssuesCardShow(n,e._telemetry.pageId);break;case h.a.ActionsKind.onFullShow:[u.a.SpecialId.Premium,u.a.SpecialId.FreePremiumAlerts].includes(n)&&e._telemetry.gnarSpec.expandedAdvancedIssuesCardShow(n,e._telemetry.pageId);break;case b.a.ActionsKind.onUpgradeButtonMount:break;case b.a.ActionsKind.onUpgrade:case h.a.ActionsKind.onUpgrade:_.a.create(e._telemetry.gnarSpec).trackClick({pageId:e._telemetry.pageId,bannerType:"goPremium",placement:"advancedIssuesCard"}),e.openUpgradeUrl(E.i.Place.DenaliDocument.editorDenaliUpgradeInline);break;case h.a.ActionsKind.onContinueWithFreePlan:e._telemetry.gnarSpec.continueFreeButtonClick(e._telemetry.pageId),e._navigateToDocuments();break;default:Object(C.c)(t)}}))).subscribe()}},{key:"_formatLiteAlerts",value:function(e){var t=e.slice(0,5),n=e.slice(5).map((function(e){return e.count})).reduce(S.t,0);return n>0?Object(s.a)(t).concat([{group:"",category:"",categoryHuman:"more...",count:n,lensName:"more...",bundleInfo:O.g.some("more...")}]):t}},{key:"openUpgradeUrl",value:function(e){var t=this;Object(c.pipe)(O.b.tryCatchError((function(){return t._createUpgradeUrl(e)})),O.b.chain(this._environment.actions.openUrl),O.b.getOrElse((function(e){return t._log.fatal("unexpected error on open upgrade page",e)})))}},{key:"fromGbVoxUpHookLens",value:function(){var e=this;Object(c.pipe)(O.b.tryCatchError((function(){return e._upgradeHook.fromGbVoxUpHookLens()})),O.b.chain(this._environment.actions.openPopup),O.b.getOrElse((function(t){return e._log.fatal("unexpected error on open upgrade page",t)})))}},{key:"fromGrammarlyGO",value:function(){var e=this;Object(c.pipe)(O.b.tryCatchError((function(){return e._upgradeHook.fromGrammarlyGO()})),O.b.chain(this._environment.actions.openPopup),O.b.getOrElse((function(t){return e._log.fatal("unexpected error on open upgrade page for GrammarlyGO",t)})))}},{key:"enableGBVoxHookLens",value:function(){var e=this;Object(c.pipe)(O.b.tryCatchError((function(){return new w.a(e._config.account.styleGuide)})),O.b.chain(this._environment.actions.openPopup),O.b.getOrElse((function(t){return e._log.fatal("unexpected error on open admin style guide page",t)})))}},{key:"displayValue",value:function(e){return Object(c.pipe)(this._uphookFormat,O.g.map((function(t){return t===j.o.layoutGroup?e.lensName:Object(c.pipe)(e.bundleInfo,O.g.getOrElse((function(){return e.categoryHuman})))})),O.g.getOrElse((function(){return e.categoryHuman})))}},{key:"_noRemovedFilter",value:function(e){return function(t){return!d.a.isRemoved(t)&&e(t)}}},{key:"_getGroupedLiteAlerts",value:function(e){var t=this;return Object(c.pipe)(this._checkingDomain.state.get(),f.a.reduce([],(function(n,a){return t._noRemovedFilter(e)(a.alert)&&n.push(a.alert.toLiteAlert()),n})),Object(c.pipe)(this._uphookFormat,O.g.map((function(e){return e===j.o.layoutGroup?p.a.groupByGroup:p.a.groupByBundleInfo})),O.g.getOrElse((function(){return p.a.group}))))}},{key:"_getGroupedLensAlerts",value:function(e){var t=this;return Object(c.pipe)(this._checkingDomain.state.get(),f.a.reduce([],(function(n,a){return t._noRemovedFilter(e)(a.alert)&&n.push(a.alert.toLensAlert()),n})),a.group)}},{key:"dispose",value:function(){this._subs.dispose()}},{key:"isEligibleForFreeTrial",get:function(){return this._checkEligibleForFreeTrial()}}]),e}()},"020W":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("B8yO"),i=n("ySi0");!function(e){e.GrammarlyGO=function(e){var t=e.className,n=e.width,a=void 0===n?23:n;return r.createElement(i.e,{className:t,width:a,viewBox:"0 0 23 23"},r.createElement("path",{fill:"var(--path-fill-1, #2551DA)",fillRule:"evenodd",stroke:"none",d:"M14.9 17c.1-.8.6-1.5 1.2-2 1.3-1.3 2.1-3 2.1-5 0-3.9-3.2-7-7.2-7s-7.3 3.1-7.3 7c0 2 .9 3.7 2.2 5 .6.5 1 1.2 1.2 2H15Zm-7.6 1.5h7.4v.7c-.1 1-1 1.8-2 1.8H9.3c-1 0-1.9-.8-2-1.8v-.7Z",clipRule:"evenodd"}),r.createElement("mask",{id:"a",width:"16",height:"18",x:"3",y:"3",maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},r.createElement("path",{fill:"var(--path-fill-2, #018374)",fillRule:"evenodd",stroke:"none",d:"M14.9 17c.1-.8.6-1.5 1.2-2 1.3-1.3 2.1-3 2.1-5 0-3.9-3.2-7-7.2-7s-7.3 3.1-7.3 7c0 2 .9 3.7 2.2 5 .6.5 1 1.2 1.2 2H15Zm-7.6 1.5h7.4v.7c-.1 1-1 1.8-2 1.8H9.3c-1 0-1.9-.8-2-1.8v-.7Z",clipRule:"evenodd"})),r.createElement("g",{filter:"url(#b)",mask:"url(#a)",opacity:".9"},r.createElement("mask",{id:"c",fill:"#fff"},r.createElement("path",{stroke:"none",fillRule:"evenodd",d:"M14.9 17c.1-.8.6-1.5 1.2-2 1.3-1.3 2.1-3 2.1-5 0-3.9-3.2-7-7.2-7s-7.3 3.1-7.3 7c0 2 .9 3.7 2.2 5 .6.5 1 1.2 1.2 2H15Zm-7.6 1.5h7.4v.7c-.1 1-1 1.8-2 1.8H9.3c-1 0-1.9-.8-2-1.8v-.7Z",clipRule:"evenodd"})),r.createElement("path",{fill:"var(--path-fill-3, #34BCFF)",fillRule:"evenodd",stroke:"none",d:"M14.9 17c.1-.8.6-1.5 1.2-2 1.3-1.3 2.1-3 2.1-5 0-3.9-3.2-7-7.2-7s-7.3 3.1-7.3 7c0 2 .9 3.7 2.2 5 .6.5 1 1.2 1.2 2H15Zm-7.6 1.5h7.4v.7c-.1 1-1 1.8-2 1.8H9.3c-1 0-1.9-.8-2-1.8v-.7Z",clipRule:"evenodd"}),r.createElement("path",{fill:"var(--path-fill-4, #2551DA)",stroke:"none",d:"m16.1 15-.7-.8.7.8ZM15 17v1h.8l.1-.8-1-.2Zm-9-2-.7.7.7-.7ZM7 17l-1 .2.2.8h.8v-1Zm7.6 1.5h1l.1-1h-1v1Zm-7.4 0v-1H6.2l.1 1h1Zm7.4.7-1-.1h1Zm-7.4 0h-1 1Zm8.1-5c-.6.7-1.3 1.5-1.5 2.6l2 .4c0-.5.4-1 1-1.5l-1.5-1.5Zm1.8-4.2c0 1.7-.6 3.2-1.8 4.2l1.4 1.5a7.9 7.9 0 0 0 2.4-5.7h-2ZM11 4c3.5 0 6.3 2.7 6.3 6h2c0-4.5-3.8-8-8.3-8v2Zm-6.3 6c0-3.3 2.8-6 6.3-6V2a8.1 8.1 0 0 0-8.3 8h2Zm1.9 4.2A5.9 5.9 0 0 1 4.8 10h-2c0 2.2.9 4.2 2.4 5.7l1.4-1.5ZM8 16.8c-.2-1-.9-2-1.5-2.6l-1.4 1.5c.5.5.8 1 1 1.5l2-.4ZM15 16H7v2H15v-2Zm-.2 1.5H7.3v2h7.4v-2Zm1 1.7v-.6l-2-.2v.7l2 .1Zm-3 2.8a3 3 0 0 0 3-2.8l-2-.1c0 .5-.5.9-1 .9v2Zm-3.4 0h3.4v-2H9.3v2Zm-3-2.8a3 3 0 0 0 3 2.8v-2a1 1 0 0 1-1-1l-2 .2Zm0-.6v.6l2-.1v-.7l-2 .2Z",mask:"url(#c)"})),r.createElement("g",{filter:"url(#d)"},r.createElement("path",{fill:"#fff",stroke:"none",d:"M14.5 10.6a3.8 3.8 0 0 0-2.8 2.8v.1c-.2.7-1.2.7-1.3 0a3.8 3.8 0 0 0-2.9-2.9c-.7-.1-.7-1 0-1.2a3.8 3.8 0 0 0 2.9-2.9c.1-.7 1-.7 1.2 0a3.8 3.8 0 0 0 2.9 2.9c.7.1.7 1 0 1.2Z"})),r.createElement("defs",null,r.createElement("filter",{id:"b",width:"26.5",height:"30",x:"-2.3",y:"-3",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.createElement("feGaussianBlur",{result:"effect1_foregroundBlur_5277_13171",stdDeviation:"3"})),r.createElement("filter",{id:"d",width:"20",height:"20",x:"1",y:"0",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:"3"}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0.00392157 0 0 0 0 0.513726 0 0 0 0 0.454902 0 0 0 1 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_5277_13171"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_5277_13171",result:"shape"}))))},e.Rewrite=function(e){var t=e.className,n=e.width,a=void 0===n?24:n;return r.createElement(i.e,{className:t,width:a,viewBox:"0 0 24 24"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.866 4.5C12.3877 4.22386 11.7761 4.38773 11.5 4.86603L10.2469 7.03649L14.577 9.53649L15.8301 7.36603C16.1063 6.88773 15.9424 6.27614 15.4641 6L12.866 4.5ZM13.8256 10.8379L9.49549 8.33793L6.2476 13.9634C6.07792 14.2573 5.98582 14.5896 5.97995 14.9289L5.91538 18.6643C5.90859 19.0569 6.33617 19.3038 6.67275 19.1016L9.87546 17.178C10.1664 17.0032 10.408 16.7573 10.5777 16.4634L13.8256 10.8379Z",fill:"#018374"}),r.createElement("mask",{id:"mask0_5345_15767",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"5",y:"4",width:"11",height:"16"},r.createElement("path",{d:"M12.8667 4.50011C12.3885 4.22397 11.7769 4.38784 11.5007 4.86613L10.2476 7.0366L14.5777 9.5366L15.8308 7.36613C16.107 6.88784 15.9431 6.27625 15.4648 6.00011L12.8667 4.50011Z",fill:"#018374"}),r.createElement("path",{d:"M13.8263 10.838L9.49621 8.33804L6.24832 13.9636C6.07864 14.2574 5.98653 14.5897 5.98067 14.929L5.9161 18.6644C5.90931 19.057 6.33689 19.3039 6.67347 19.1017L9.87618 17.1781C10.1671 17.0033 10.4088 16.7574 10.5784 16.4636L13.8263 10.838Z",fill:"#018374"})),r.createElement("g",{mask:"url(#mask0_5345_15767)"},r.createElement("g",{opacity:"0.9",filter:"url(#filter0_f_5345_15767)"},r.createElement("path",{d:"M12.9435 2.36572L17.2737 4.86572L10.676 16.2933L4.49997 22L6.34584 13.7933L12.9435 2.36572Z",fill:"#00FFCE"}),r.createElement("path",{d:"M13.1266 3.04874L16.5907 5.04874L10.2809 15.9775L5.34021 20.5429L6.81694 13.9773L13.1266 3.04874Z",stroke:"#018374"}))),r.createElement("path",{d:"M8.69157 4.88121C7.81024 5.08868 7.12071 5.77187 6.90771 6.64867L6.89649 6.69484C6.79751 7.10228 6.2155 7.1015 6.11762 6.69381L6.10975 6.66104C5.8991 5.78369 5.21143 5.09867 4.3307 4.88884L4.30738 4.88329C3.89754 4.78565 3.89754 4.20481 4.30738 4.10717L4.3307 4.10161C5.21144 3.89178 5.89911 3.20676 6.10975 2.32942L6.11532 2.30619C6.21334 1.89794 6.79643 1.89794 6.89445 2.30619L6.90002 2.32942C7.11067 3.20677 7.79833 3.89179 8.67907 4.10161L8.69262 4.10484C9.10303 4.20262 9.10224 4.78454 8.69157 4.88121Z",fill:"#018374"}),r.createElement("path",{d:"M17.6916 17.8812C16.8102 18.0887 16.1207 18.7719 15.9077 19.6487L15.8965 19.6948C15.7975 20.1023 15.2155 20.1015 15.1176 19.6938L15.1097 19.661C14.8991 18.7837 14.2114 18.0987 13.3307 17.8888L13.3074 17.8833C12.8975 17.7856 12.8975 17.2048 13.3074 17.1072L13.3307 17.1016C14.2114 16.8918 14.8991 16.2068 15.1097 15.3294L15.1153 15.3062C15.2133 14.8979 15.7964 14.8979 15.8944 15.3062L15.9 15.3294C16.1107 16.2068 16.7983 16.8918 17.6791 17.1016L17.6926 17.1048C18.103 17.2026 18.1022 17.7845 17.6916 17.8812Z",fill:"#018374"}),r.createElement("defs",null,r.createElement("filter",{id:"filter0_f_5345_15767",x:"-1.5",y:"-3.63428",width:"24.7737",height:"31.6343",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.createElement("feGaussianBlur",{stdDeviation:"3",result:"effect1_foregroundBlur_5345_15767"}))))}}(a||(a={}))},"0IPU":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a,r,i=n("DTwm"),o=n("+vYo"),s=n("xk6L"),c=n("mgiE");!function(e){e.mock=()=>({isStepEnabled:i.constFalse,subscribeForStep:()=>{throw new Error("Not implemented")},getStepCompletionCallback:Object(i.constant)(i.constVoid),changeState:i.constVoid,relaunchAllSteps:i.constVoid,getFirstTargetRect:()=>s.a.of(c.g.none),isLastStep:i.constFalse,completionTrigger:o.a.create(!1)})}(a||(a={})),function(e){e.Hidden="hidden",e.Dot="dot",e.Popup="popup",e.Popover="popover",e.Passed="passed"}(r||(r={}))},"0LHr":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));var a,r,i,o=n("a5gI"),s=n("U9Go"),c=n("YqdJ");!function(e){e.above="above",e.below="below",e.hidden="hidden"}(a||(a={})),function(e){e.Impl=class{constructor(e,t,n){Object(o.a)(this,"scrollTop",void 0),Object(o.a)(this,"viewport",void 0),Object(o.a)(this,"converters",void 0),this.scrollTop=e,this.viewport=t,this.converters=c.a.converters(e,c.b.FromWindowTop.ISO.unwrap(t.top),n)}}}(r||(r={})),function(e){const t=Object(s.l)({top:s.g,height:s.g});e.eqDimensionsTuple=Object(s.m)(t,t)}(i||(i={}))},"0dDw":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a,r=n("B8yO"),i=n("OwvP"),o=n("111I"),s=n("2swC"),c=n("NDcT"),l=n("fC5a"),u=n("ySi0"),d=n("wuWi"),p=n("nWMp"),m=n("xk6L"),f=n("ZDrO"),h=n("DTwm"),g=n("mgiE"),b=n("RRF2"),v=n("cZ4c");(a||(a={})).getReplacementLabelText=e=>Object(h.pipe)(e,g.g.filter(v.j.isRegular),g.g.map(b.e.pick("labels")),g.g.chain(Object(h.flow)(g.a.head,g.g.chain(g.a.head),g.g.map(b.e.pick("text")))),g.g.getOrElse(Object(h.constant)("")));var y,O,S,C=n("JRBS"),w=n("F0/G"),k=n("PYgo"),E=n("+Zdc");O=y||(y={}),S=O.Component=o.b.Node.make(({notify:e,state:t})=>{const n=r.useContext(c.a.Context);return r.createElement("div",{className:T.container},r.createElement("div",{className:T.header},r.createElement(u.d.Sparkles,{width:20})," ",r.createElement(d.a,null,n.undoCard.title)),r.createElement(i.a.div,{className:T.buttonsContainer},t.pipe(m.a.map(({alert:t,replacementLabels:i})=>[r.createElement(l.a.Primary,{key:0,name:"inline-undo-confirm",className:T.confirmButton,onClick:f.d.callOnce(e({type:k.b.Type.confirmed,alertId:t.id}))},n.undoCard.confirm),r.createElement(l.a.Primary,{key:1,name:"inline-undo-revert",className:T.undoButton,onClick:f.d.callOnce(e({type:k.b.Type.undone,alertHighlight:{alert:t,highlightIndex:0}}))},n.undoCard.revert(r.createElement("span",{className:T.replacement},r.createElement(C.a,{newText:t.highlightTexts[0],oldText:a.getReplacementLabelText(i),theme:w.b}))))]))))}),O.View=E.a.UI.fromNode(S);const j={padding:p.a.rem(.25)},_={display:"flex",padding:`${p.a.rem(.25)} ${p.a.rem(.75)}`},x={color:s.a.CoreRed50,fontStyle:"italic"},A={marginRight:p.a.rem(.5),textTransform:"none",letterSpacing:s.h.BodyLetterSpacing,fontWeight:s.h.ButtonWeight,fontSize:p.a.rem(s.h.BodySize),$nest:{"&[data-textpos='left']":{padding:"0 "+p.a.rem(.5)},"&[data-textpos='right']":{padding:"0 "+p.a.rem(.5)},"&[data-textpos='everywhere']":{padding:"0 "+p.a.rem(.5)}}},I={marginRight:0,background:s.a.CoreNeutral10,color:s.a.CoreNeutral90,fontWeight:s.h.BodyWeight,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:s.a.CoreNeutral10}}},T=p.a.stylesheet({container:[j],header:[{display:"flex",alignItems:"center"}],buttonsContainer:[_],replacement:[x],confirmButton:[A],undoButton:[A,I]})},"0hD5":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("0Qjk"),i=n("0kuo");!function(e){let t;!function(e){let t;!function(e){e.Rating="rating",e.Feedback="feedback",e.Completed="completed",e.Closed="closed"}(t=e.Type||(e.Type={})),e.isOpen=e=>e!==t.Closed,e.toCAPIStage=e=>{switch(e){case t.Rating:return r.a.Message.Survey.Data.OpenAnswerScoreSurvey.scoreStage;case t.Feedback:case t.Closed:case t.Completed:return r.a.Message.Survey.Data.OpenAnswerScoreSurvey.submitStage;default:Object(i.d)(e)}}}(t=e.Stage||(e.Stage={}))}(a||(a={}))},"0hKP":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("DTwm"),s=n("mgiE"),c=n("RRF2"),l=n("2swC"),u=n("AVzG"),d=n("nWMp"),p=n("e1WO"),m=n("wj1X");const f=()=>i.createElement(m.a,null,Object(o.flow)(s.g.map(e=>i.createElement(u.a.ByAbsoluteRect,Object(r.a)(Object(a.a)({rect:c.c.Rect.fromEl(e.target),className:b.container},u.a.Alignment.toSelector(e.alignment)),{withPin:!0}),i.createElement("div",{className:b.content},e.content))),s.g.toNullable)),h={position:"fixed",zIndex:p.level5,pointerEvents:"none",$nest:{"@media print":{visibility:"hidden"}}},g={padding:`${d.a.rem(.25)} ${d.a.rem(1)}`,borderRadius:d.a.rem(p.radius2),background:l.a.BackgroundTooltip,color:l.a.CoreNeutral1,textAlign:"center",whiteSpace:"nowrap",letterSpacing:d.a.px(.25),fontSize:d.a.rem(.75),lineHeight:d.a.rem(1)},b=d.a.stylesheet({container:[h],content:[g]})},"0jky":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("Vv+i"),r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("4mQT"),c=n("t5lx"),l=n("B8yO"),u=n("NDcT"),d=n("ykgB"),p=n("Eve8"),m=n("txgs"),f=n("s1NC"),h=(n("+QUQ"),n("xsvI")),g=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(r.a)(this,n),e=t.apply(this,arguments),Object(o.a)(Object(a.a)(e),"_inputElement",void 0),Object(o.a)(Object(a.a)(e),"_onMount",(function(t){var n,a;null===(n=(a=e.props).mount)||void 0===n||n.call(a,t),null!=t&&(e._inputElement=t,e._inputElement.onchange=function(t){return e._onChange()(t)})})),Object(o.a)(Object(a.a)(e),"_onChange",(function(){return function(t){Boolean(t.persist)&&t.persist();var n="dataTransfer"in t?t.dataTransfer.files:t.target.files;if(Boolean(n)&&n.length&&!d.a.isInProgress(e.props.documentUpload.state.get())){var a=e.props.documentUpload.upload({files:n,notify:1===n.length,allowMultiple:e.props.multiple,isDragNDrop:!1}).then((function(){e._inputElement.value=""}));void 0!==e.props.onUpload&&e.props.onUpload(a)}}})),e}return Object(i.a)(n,[{key:"componentWillUnmount",value:function(){this.props.documentUpload.navigated()}},{key:"render",value:function(){var e=this,t=this.props,n=t.hideTooltip,a=t.ariaHidden;return l.createElement(m.b.Context.Consumer,null,(function(t){return l.createElement(u.a.Context.Consumer,null,(function(r){return l.createElement("input",{ref:e._onMount,id:"upload","data-name":"upload-element",type:"file",tabIndex:-1,accept:(i=t.info.browser,"safari"===i?f.d.ACCEPTED_UPLOAD_MIME_TYPES.join(","):f.d.ACCEPTED_UPLOAD_EXTENSIONS.join(",")),title:r.tooltipUploadElementInput,multiple:e.props.multiple,className:Boolean(n)?h.upload:h.uploadContainer,onChange:e._onChange(),"aria-label":r.tooltipUploadElementInput,"aria-hidden":a});var i}))}))}}]),n}(p.b)},"0mi2":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a="cheetah:"+n("KMes").b.version,r="CHEETAH"},"0nEn":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("a5gI"),i=n("000W"),o=n("DTwm"),s=n("tiWp"),c=n("0Qjk"),l=n("mgiE"),u=n("0kuo"),d=n("cZ4c");function p(e,{text:t,ops:n}){n.reduce((t,n,a)=>c.a.AlternativeOperation.isInsertString(n)?(e.insertString(n.insert,n,a),t):c.a.AlternativeOperation.isInsertGap(n)?(e.insertGap("",n,a),t):c.a.AlternativeOperation.isInsert(n)?t:c.a.AlternativeOperation.isDelete(n)?(e.remove(t.slice(0,n.delete),n,a),t.slice(n.delete)):c.a.AlternativeOperation.isRetain(n)?(e.retain(t.slice(0,n.retain),n,a),t.slice(n.retain)):Object(u.c)(n),t)}function m(e){return 0===e.replace(/ /g,"").length}function f(e,t){Object(s.pipe)(e,i.vb,l.g.fold(()=>{m(t.text)||e.push(t)},n=>{n.type===t.type?n.text+=t.text:e.push(t)}))}function h(e){return!0===e.italic?!0===e.bold?"boldItalic":"italic":!0===e.bold?"bold":void 0}function g(e){const{substitutions:t,longestSubstitution:n,inserts:r}=e.reduce((e,[t,n])=>{const a=t.map(e=>e.text).join("");return e.substitutions.push(a),e.inserts.push(n),a.length>e.longestSubstitution.length&&(e.longestSubstitution=a),e},{substitutions:[],inserts:[],longestSubstitution:""}),o=Object(s.pipe)(t,l.f.map(e=>n.split(e).join("")));return Object(s.pipe)(i.tc(r,o,(e,t)=>(t&&e.push({type:d.k.Text,text:t}),e)),l.f.fromArray,l.b.fromOption(()=>new Error("Substitution processing error")),l.b.map(e=>({type:a.Type.Substitution,remove:[{type:d.k.Delete,text:n}],inserts:e})))}function b(e){return Object(s.pipe)(l.b.tryCatchError(()=>Object(s.pipe)(e,l.f.map(t=>{const n=[[],[]];return p({insertString(e){f(n[1],{type:d.k.Insert,text:"\n"===e?"¶ ":e})},insertGap(){throw new C("Substitution transform contains gap insert",e)},remove(e){f(n[0],{type:d.k.Delete,text:e})},retain(e,{type:t,attributes:a}){if(!c.a.AlternativeOperation.isOptionalType(t)||0!==n[0].length){const t={type:d.k.Text,text:e,style:h(a)};n[0].push(t),n[1].push(t)}}},t),Object(u.f)(n[0].length>0,"Substituted part is empty"),Object(u.f)(n[1].length>0,"Inserts are empty"),n}))),l.b.chain(g),l.b.mapLeft(C.fromError(e)))}function v(e){if(!("list"in e))return l.g.none;switch(e.list){case"bullet":case"dashed":case"ordered":return l.g.some({kind:e.list,indent:"number"==typeof e.indent&&Number.isInteger(e.indent)?e.indent:0});default:return l.g.none}}!function(e){let t;!function(e){e[e.Remove=0]="Remove",e[e.RemoveOr=1]="RemoveOr",e[e.Insert=2]="Insert",e[e.Substitution=3]="Substitution",e[e.Drilldown=4]="Drilldown",e[e.FullSentence=5]="FullSentence",e[e.OneGap=6]="OneGap",e[e.ShortenIt=7]="ShortenIt",e[e.ToneAI=8]="ToneAI",e[e.Citation=9]="Citation"}(t=e.Type||(e.Type={})),(t=e.Type||(e.Type={})).parse=function(e,n){const a=e[0];if(a.isFullSentence)return t.FullSentence;if(l.g.isSome(n.drilldown))return t.Drilldown;if(a.isCitation)return t.Citation;if(a.isShortenIt)return t.ShortenIt;if(a.isToneAI)return t.ToneAI;switch(a.type){case c.a.Alternative.Type.Insert:return t.Insert;case c.a.Alternative.Type.Remove:return e.length>1?t.RemoveOr:t.Remove;case c.a.Alternative.Type.Substitution:return a.ops.find(c.a.AlternativeOperation.isInsertGap)?t.OneGap:t.Substitution;default:return Object(u.c)(a.type)}},e.create=function(e){return t=>{const n=a.Type.parse(t,e);switch(n){case a.Type.Remove:return function(e,t){return Object(s.pipe)(l.b.tryCatchError(()=>Object(s.pipe)(e,l.f.map(n=>{const a=[];return p({insertString(t,{type:n}){if(n===c.a.AlternativeOperation.Type.Main)throw new C("Remove transform contains main insert",e)},insertGap(){throw new C("Remove transform contains gap insert",e)},retain(e,{type:t,attributes:n}){c.a.AlternativeOperation.isOptionalType(t)||f(a,{type:d.k.Text,text:e,style:h(n)})},remove(e,{type:n}){f(a,{type:n!==c.a.AlternativeOperation.Type.Main||m(e)&&t?d.k.Text:d.k.Delete,text:e})}},n),a}),i.eb)),l.b.chain(Object(o.flow)(l.b.fromPredicate(e=>e.length>0,()=>new C("Remove transform contains no data",e)),l.b.map(e=>({type:a.Type.Remove,remove:e})))))}(t,e.ignoreWhitespaceRemoves);case a.Type.RemoveOr:return function(e,t){return Object(s.pipe)(l.b.tryCatchError(()=>Object(s.pipe)(e,l.f.map(n=>{const a=[];return p({insertString(t,{type:n}){if(n===c.a.AlternativeOperation.Type.Main)throw new C("Multi-remove transform contains main insert",e)},insertGap(){throw new C("Multi-remove transform contains gap insert",e)},retain(e,{type:t,attributes:n}){c.a.AlternativeOperation.isOptionalType(t)||f(a,{type:d.k.Text,text:e,style:h(n)})},remove(e,{type:n}){f(a,{type:n!==c.a.AlternativeOperation.Type.Main||m(e)&&t?d.k.Text:d.k.Delete,text:e})}},n),a}))),l.b.chain(Object(o.flow)(l.b.fromPredicate(e=>e.length>=2&&e.every(e=>e.length>=2),()=>new C("Incomplete multi-remove",e)),l.b.map(e=>({type:a.Type.RemoveOr,removes:e})))))}(t,e.ignoreWhitespaceRemoves);case a.Type.Insert:return function(e){return Object(s.pipe)(l.b.tryCatchError(()=>Object(s.pipe)(e,l.f.map(t=>{const n=[];return p({insertString(e,{type:t}){f(n,{type:c.a.AlternativeOperation.isOptionalType(t)?d.k.Text:d.k.Insert,text:e})},insertGap(){throw new C("Insert transform contains gap insert",e)},retain(e,{type:t,attributes:a}){(!c.a.AlternativeOperation.isOptionalType(t)||n.length>0)&&f(n,{type:d.k.Text,text:e,style:h(a)})},remove(t,{type:n}){if(n===c.a.AlternativeOperation.Type.Main)throw new C("Insert transform contains main delete",e)}},t),n}))),l.b.chain(Object(o.flow)(l.f.fromArray,l.b.fromOption(()=>new C("Incomplete insert",e)),l.b.map(e=>({type:a.Type.Insert,inserts:e})))))}(t);case a.Type.Substitution:return b(t);case a.Type.Drilldown:return function(e,t){return Object(s.pipe)(b(e),l.b.chain(n=>Object(s.pipe)(l.b.tryCatchError(()=>{Object(u.f)(t.length>0,"Drilldown transform - empty drilldown tree");return{inserts:Object(s.pipe)(t,l.f.map((function e([t,a]){return Object(u.f)(void 0!==n.inserts[t],"Drilldown transform - alternative insert not found"),{alternativeId:t,label:n.inserts[t],subLabels:a.map(e)}}))),remove:n.remove,type:a.Type.Drilldown}}),l.b.mapLeft(C.fromError(e)))))}(t,Object(s.pipe)(e.drilldown,l.g.getOrElse(()=>c.a.Drilldown.empty)));case a.Type.FullSentence:return function(e){return Object(s.pipe)(e,l.b.fromPredicate(e=>1===e.length,()=>new C("Expected full-sentence transform to have 1 alternative",e)),l.b.map(Object(o.flow)(l.f.head,t=>{let n={blockStart:0,ops:[],kind:d.f.PlainText};return p({insertString(e,t){const a=e.split("\n");if(1===a.length)n.ops.push({type:d.k.Insert,text:e,shouldBeCollapsed:!1});else{const e=Object(s.pipe)(t.attributes,v,l.g.fold(()=>o.constVoid,({kind:e,indent:t})=>()=>{n.ops.splice(n.blockStart,1,{type:d.k.List,kind:e,indent:t}),n={kind:d.f.WithFormatting,ops:n.ops,blockStart:n.blockStart}}));for(let t=0,r=a.length-1;t<=r;t++){const i=a[t];i&&n.ops.push({type:d.k.Insert,text:i}),t<r&&(e(),n.blockStart=n.ops.length,n.ops.push({type:d.k.Insert,text:"\n"}))}}},insertGap(){throw new C("Full sentence transform contains gap insert",e)},retain(e,t){n.ops.push({type:d.k.Text,text:e,shouldBeCollapsed:y(t.type,e)})},remove(e,t){n.ops.push({type:d.k.Delete,text:e,shouldBeCollapsed:y(t.type,e)})}},t),n})),l.b.chain(Object(o.flow)(l.g.fromPredicate(e=>e.ops.length>0),l.b.fromOption(()=>new C("Got empty full sentence transform",e)),l.b.map(({ops:e,kind:t})=>({type:a.Type.FullSentence,ops:e,kind:t})))))}(t);case a.Type.OneGap:return function(e){return Object(s.pipe)(l.b.tryCatchError(()=>(Object(u.f)(1===e.length,"One gap transform does not contain exactly one alternative"),Object(s.pipe)(e,l.f.head,e=>{const t=[],n=[];let a=!1;return p({insertString(e,{type:r}){f(a?n:t,{type:c.a.AlternativeOperation.isOptionalType(r)?d.k.Text:d.k.Insert,text:e})},insertGap(){Object(u.f)(!a,"One gap transform does not contain exactly one gap insert"),a=!0},retain(e,{type:r}){const i=a?n:t;(!c.a.AlternativeOperation.isOptionalType(r)||i.length>0)&&f(i,{type:d.k.Text,text:e})},remove:o.constVoid},e),Object(u.f)(a,"One gap transform does not contain exactly one gap insert"),Object(u.f)(t.length>0||n.length>0,"One gap transform does not contain at least one text insert"),{left:t,right:n}}))),l.b.bimap(C.fromError(e),({left:e,right:t})=>({type:a.Type.OneGap,left:e,right:t})))}(t);case a.Type.ShortenIt:return function(e){return Object(s.pipe)(e,l.b.fromPredicate(e=>1===e.length,()=>new C("Expected shorten-it transform to have 1 alternative",e)),l.b.chain(l.f.traverse(l.b.either)(O)),l.b.map(l.f.head),l.b.map(e=>({type:a.Type.ShortenIt,ops:e})))}(t);case a.Type.ToneAI:return function(e){return Object(s.pipe)(l.b.tryCatchError(()=>Object(s.pipe)(e,l.f.map(t=>{const n=[];return p({insertString(e){f(n,{type:d.k.Insert,text:e})},insertGap(){throw new C("ToneAI transform should not include gap insert",e)},retain(e){f(n,{type:d.k.Text,text:e})},remove(e){f(n,{type:d.k.Delete,text:e})}},t),n}))),l.b.chain(Object(o.flow)(l.f.fromArray,l.b.fromOption(()=>new C("Incomplete ToneAI transform",e)),l.b.map(e=>({type:a.Type.ToneAI,transformParts:e})))))}(t);case a.Type.Citation:return function(e){return Object(s.pipe)(e,l.b.fromPredicate(e=>1===e.length,()=>new C("Expected citation transform to have 1 alternative",e)),l.b.map(l.f.head),l.b.chain(l.b.fromPredicate(e=>e.isCitation,()=>new C("Expected citation to have isCitation set to true",e))),l.b.chain(S),l.b.map(e=>({ops:e,type:a.Type.Citation})))}(t);default:return Object(u.c)(n)}}}}(a||(a={}));const y=(e,t)=>e===c.a.AlternativeOperation.Type.Optional&&t.length>3;function O(e){const t=[];return p({insertString(e,{group:n}){t.push({type:d.k.Insert,text:e,group:n})},insertGap(){throw new C("ShortenIt transform contains gap insert",[e])},retain(e,{group:n}){t.push({type:d.k.Text,text:e,group:n})},remove(e,{group:n}){t.push({type:d.k.Delete,text:e,shouldBeCollapsed:!0,group:n})}},e),Object(s.pipe)(t,l.b.fromPredicate(e=>e.length>0,()=>new C("Got empty ShortenIt transform",[e])))}function S(e){const t=[];return p({insertString(e){t.push({type:d.k.Insert,text:e})},insertGap(){throw new C("Citation transform contains gap insert",[e])},retain(e,{attributes:n}){t.push({type:d.k.Text,text:e,style:h(n)})},remove(e){t.push({type:d.k.Delete,text:e})}},e),Object(s.pipe)(t,l.b.fromPredicate(e=>e.length>0,()=>new C("Got empty Citation transform",[e])))}class C extends u.a{static fromError(e){return t=>{const n=new C(t.message,e);return n.stack=t.stack,n}}toString(){return`Hydration error: ${this.message}\n  ops: ${this.alternatives.map(e=>e.ops.map(c.a.AlternativeOperation.anonymize))}`}constructor(e,t){super(e),Object(r.a)(this,"alternatives",void 0),this.alternatives=t}}},"0sTm":function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return O}));var a=n("a5gI"),r=n("8O/t"),i=n("B8yO"),o=n("+vYo"),s=n("4GyQ"),c=n("OwvP"),l=n("mgiE"),u=n("2swC"),d=n("koeM"),p=n("nWMp"),m=n("PltQ"),f=n("NbNH"),h=n("xk6L"),g=n("yIk2");class b extends i.Component{componentDidMount(){this._subs.push(h.a.combineLatestStatic(this.context,g.a.windowResize.pipe(h.a.startWith(g.b.voidValue)),e=>e).pipe(h.a.switchMap(e=>o.a.combine(this._wrapper,this._title,(t,n)=>({wrapper:t,title:n,remSize:e}))),h.a.filter(({wrapper:e,title:t})=>l.g.isSome(e)&&l.g.isSome(t)),h.a.switchMap(g.b.Scheduler.rafScheduler),h.a.switchMap(g.b.Scheduler.rafScheduler)).subscribe(({wrapper:e,title:t,remSize:n})=>{const a=Math.floor((l.g.unsafeGet(e).offsetHeight-l.g.unsafeGet(t).offsetHeight)/n);this._linesHeight.set(a)}))}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}render(){const{wrapperClass:e}=this.props;return i.createElement("div",Object(r.a)({ref:e=>this._wrapper.set(l.g.fromNullable(e))},Object(s.c)(F.wrapper,e)),i.createElement("div",{className:F.loaderInitial}),i.createElement("div",{className:F.loader1}),i.createElement("div",{className:F.loader2}),i.createElement("div",{className:F.titleWrap,ref:e=>this._title.set(l.g.fromNullable(e))},this.props.children),i.createElement(c.a.div,Object(r.a)({style:this._linesHeight.view(e=>({height:e+"rem"}))},Object(s.c)(F.lines,this.props.linesClass))),i.createElement("div",{className:F.empty}))}constructor(...e){super(...e),Object(a.a)(this,"context",void 0),Object(a.a)(this,"_linesCount",Boolean(this.props.defaultLinesCount)?this.props.defaultLinesCount:40),Object(a.a)(this,"_wrapper",o.a.create(l.g.none)),Object(a.a)(this,"_title",o.a.create(l.g.none)),Object(a.a)(this,"_linesHeight",o.a.create(this._linesCount)),Object(a.a)(this,"_subs",[])}}Object(a.a)(b,"contextType",d.a.Context);const v=()=>i.createElement(b,{linesClass:F.documentLines},i.createElement("div",{className:F.documentTitleWrap},i.createElement("div",{className:F.documentTitle}))),y=({children:e})=>i.createElement(b,{linesClass:F.lensviewLines,wrapperClass:F.lensviewWrapper},e),O=()=>i.createElement(y,null,i.createElement(i.Fragment,null,i.createElement("div",{className:F.lensviewTitle}),i.createElement("div",{className:F.lensviewOpenCard}))),S=`calc(${p.a.rem(2)} + 5px)`,C=p.a.keyframes({from:{transform:"translateY(-50%)"},to:{transform:"translateY(100%)"}}),w=p.a.keyframes({from:{transform:"translateY(-100%)"},to:{transform:"translateY(100%)"}}),k={position:"relative",overflow:"hidden",width:p.a.percent(100),height:p.a.percent(100),background:u.a.CoreNeutral0},E={position:"absolute",top:0,width:p.a.percent(100),height:p.a.percent(100),backgroundImage:`linear-gradient(-179deg, ${u.a.CoreNeutral0} 0%, ${m.h} 30%, ${u.a.CoreNeutral0} 60%)`,backgroundSize:p.a.percent(100),backgroundRepeat:"no-repeat",opacity:.45,animation:`${w} ${p.a.seconds(3)} linear forwards infinite`,willChange:"transform"},j={animation:`${C} ${p.a.seconds(2.25)} linear forwards`},_={transform:"translateY(-100%)",animationDelay:p.a.seconds(.75)},x={transform:"translateY(-100%)",animationDelay:p.a.seconds(2.25)},A={position:"relative",zIndex:1,width:p.a.percent(100),backgroundColor:"transparent",backgroundImage:`repeating-linear-gradient(180deg, ${m.e}, ${m.e} ${p.a.rem(1)}, ${u.a.CoreNeutral0} ${p.a.rem(1)}, ${u.a.CoreNeutral0} ${p.a.rem(2)})`,backgroundPosition:"0 0"},I={position:"relative",height:p.a.percent(100),backgroundColor:u.a.CoreNeutral0},T={position:"relative",$nest:{"&:before":{display:"block",width:p.a.percent(100),height:p.a.rem(1.2),background:u.a.CoreNeutral0,content:"''"}}},M={position:"relative",zIndex:1,marginTop:S,width:p.a.percent(100),height:p.a.rem(1.5),borderRadius:p.a.rem(f.u),backgroundColor:u.a.CoreNeutral0},P={backgroundImage:`repeating-linear-gradient(180deg, ${m.e}, ${m.e} ${p.a.rem(1)}, ${u.a.CoreNeutral0} ${p.a.rem(1)}, ${u.a.CoreNeutral0} ${p.a.rem(2)})`},N={top:p.a.rem(1.6)},D={marginTop:p.a.rem(1.5),height:p.a.rem(1.8),backgroundColor:u.a.CoreNeutral0},B={marginTop:p.a.rem(10.5),height:p.a.rem(2.7),backgroundColor:u.a.CoreNeutral0},L={backgroundImage:`repeating-linear-gradient(180deg, ${m.e}, ${m.e} ${p.a.rem(1)}, ${u.a.CoreNeutral0} ${p.a.rem(1)}, ${u.a.CoreNeutral0} ${p.a.rem(3)})`},F=p.a.stylesheet({wrapper:[k],loader:[E],loaderInitial:[E,j],loader1:[E,_],loader2:[E,x],lines:[A],empty:[I],titleWrap:[{position:"relative"}],documentTitleWrap:[T],documentTitle:[M],documentLines:[P],lensviewWrapper:[N],lensviewTitle:[D],lensviewOpenCard:[B],lensviewLines:[L]})},"0zLI":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("OwvP"),s=n("+vYo"),c=n("xk6L");const l=n("nWMp").a.stylesheet({visible:[{opacity:1}],hidden:[{opacity:0}],visibleTransition:[{opacity:1,transition:"opacity 150ms linear"}],hiddenTransition:[{opacity:0,transition:"opacity 150ms linear"}]}),u={enter:l.hidden,enterActive:l.visibleTransition,enterDone:l.visible,exit:l.visible,exitActive:l.hiddenTransition,exitDone:l.hidden};var d;!function(e){e.enter="enter",e.enterActive="enterActive",e.enterDone="enterDone",e.exit="exit",e.exitActive="exitActive",e.exitDone="exitDone"}(d||(d={})),function(e){const t={enter:d.enterActive,enterActive:d.enterDone,enterDone:d.exit,exit:d.exitActive,exitActive:d.exitDone,exitDone:d.enter};e.next=e=>t[e],e.shouldSwitchState=e=>t=>t===d.enterDone&&!e||t===d.exitDone&&e||t===d.enter||t===d.exit}(d||(d={}));const p=e=>i.createElement(m,Object(r.a)(Object(a.a)({},e),{classNames:u})),m=e=>{const t=i.useRef(function(e){const t=s.a.create(e?d.enterDone:d.exitDone);return{state:t,next:()=>t.modify(d.next)}}(e.in));return i.useEffect(()=>{const n=t.current.state.pipe(c.a.filter(d.shouldSwitchState(e.in)),c.a.delay(0),c.a.tap(t.current.next)).subscribe();return()=>n.unsubscribe()},[e.in,t]),i.createElement(o.a.Fragment,null,t.current.state.view(n=>n===d.exitDone?null:e.children(u[n],t.current.next,n)))}},"1CxT":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a,r,i,o,s=n("a5gI"),c=n("8O/t"),l=n("X76w"),u=n("DTwm"),d=n("tiWp"),p=n("5KcF"),m=n("SXX6"),f=n("0kuo"),h=n("mgiE"),g=n("TKPA"),b=n("RRF2"),v=n("M3t0"),y=n("Hj2R"),O=n("D2TP"),S=n("xk6L"),C=n("yIk2"),w=n("KZgA"),k=n("itj6"),E=n("YqdJ"),j=n("+ySe"),_=n("gFSV"),x=n("KH+i"),A=n("d3CI");class I extends f.a{}!function(e){var t=e.cardSuggestedPositionGetter=(e,t)=>(n,a,r,i)=>{const o="cardTop"===i?0:t(a);return Object(d.pipe)(e(n,Object(d.pipe)(r,h.g.map(E.b.FromWindowTop.ISO.modify(E.a.concatC(-o))))),h.b.map(e=>({top:e,contentOffset:o})))};e.getSuperScrollMapper=(e,n,a)=>{const r=j.a.Mover.moveCardToPositionAnimatedGetter(e,n),i=j.a.Mover.moveCardToPositionSyncGetter(e,n),o=j.a.ContentOffset.contentOffsetGetter();return{setCardPosition:(e,t,n,s)=>{const c={top:s,contentOffset:o(t,a.get())};return(n?r({id:e,position:s}):S.a.of(i({id:e,position:s})).pipe(S.a.map(h.b.unsafeGet))).pipe(S.a.mapTo(c),S.a.startWith(c),S.a.distinctUntilChanged())},getCardSuggestedPosition:t(j.a.InfinityScrollGetter.cardPositionGetter(e,n),e=>o(e,a.get())),getCardSuggestedPositionInViewport:t(j.a.InfinityScrollGetter.cardPositionInViewportGetter(e,n),e=>o(e,a.get())),willFitViewport:(t,a)=>Object(d.pipe)(e.get(),e=>!!A.e.hasItems(e)&&j.a.willFitViewport(e,n)(t,a)),isAboveViewportTop:j.a.isAboveViewportTop(n)}}}(a||(a={})),function(e){e.getMapper=(e,t,n)=>({moveAlertHighlightInViewport:(t,n,a)=>e.ensureAlertHighlightInViewport(t,E.b.FromWindowTop.ISO.unwrap(n),a),getMarkAlertPosition:a=>Object(d.pipe)(e.getMarkByAlert(a),h.b.fromOption(()=>new I("getMarkByAlert returned O.none")),h.b.chain(r=>Object(d.pipe)(r.getRect(),h.b.map(m.b.relativeToViewport),h.b.map(e=>e.top),h.b.orElse(()=>(n.debug("Cached alert is missing, falling back to flush"),(n=>(t.flushChanges(),Object(d.pipe)(e.getMarkByAlert(n),h.b.fromOption(()=>new Error("getMarkByAlert returned O.none")),h.b.chain(e=>Object(d.pipe)(e.getRect(),h.b.map(m.b.relativeToViewport),h.b.map(e=>e.top))))))(a))),h.b.map(E.b.FromWindowTop.ISO.wrap))),h.b.mapLeft(e=>(e instanceof I||n.warn("Cannot getMarkAlertPosition",e),e)),h.g.fromEither,e=>S.a.of(e))})}(r||(r={}));class T{alignCardTo(e,t,n){const a=n!==w.a.Animation.NO_ANIMATION;return S.a.defer(()=>S.a.of(h.b.unsafeGet(this._cardPositions.getCardSuggestedPosition(e.id,e.renderOptions.features.has(x.a.Features.showLabel),h.g.some(t),"cardTop")))).pipe(S.a.switchMap(t=>this._cardPositions.setCardPosition(e.id,e.renderOptions.features.has(x.a.Features.showLabel),a,t.top)),S.a.mapTo(C.b.voidValue),S.a.catchError(e=>(this._log.error("Cannot align card to required top",e),S.a.EMPTY)),S.a.share())}constructor(e,t,n){Object(s.a)(this,"_cardPositions",void 0),Object(s.a)(this,"_alignMarkToItem",void 0),Object(s.a)(this,"_alignItemToMark",void 0),Object(s.a)(this,"_log",void 0),Object(s.a)(this,"alignMarkToCard",void 0),Object(s.a)(this,"alignCardToMark",void 0),this._cardPositions=e,this._alignMarkToItem=t,this._alignItemToMark=n,this._log=v.d.Logging.root.getLogger("AlignmentViewModel"),this.alignMarkToCard=(e,t,n)=>Object(d.pipe)(e,this._alignMarkToItem({animation:t,suggestedPosition:n})),this.alignCardToMark=(e,t,n)=>Object(d.pipe)(e,this._alignItemToMark({animation:t,fitCardIntoViewport:n}))}}!function(e){e.Mock=class{constructor(){Object(s.a)(this,"alignCardToMark",()=>S.a.EMPTY),Object(s.a)(this,"alignCardTo",()=>S.a.EMPTY),Object(s.a)(this,"alignMarkTo",()=>S.a.EMPTY),Object(s.a)(this,"alignMarkToCard",()=>S.a.EMPTY)}}}(i||(i={})),function(e){let t;!function(e){let t;!function(e){e.below="below",e.above="above",e.intersects="intersects"}(t=e.RelativePosition||(e.RelativePosition={}));e.getRelativePosition=(e,n,a)=>n.top+a>e.bottom?t.below:e.top>n.bottom?t.above:t.intersects}(t||(t={}));e.createAlignmentOnTypingEffect=(e,t,n,a,r,i=_.d)=>{const o=e.view(A.e.mapper(({currentLens:e})=>Object(d.pipe)(h.g.some(e),h.g.filter(i(r))))).pipe(S.a.map(h.g.chain(a),h.g.filter(r.isValidToAlign)),S.b.compactMap(e=>n.pipe(S.a.switchMap(C.b.Scheduler.rafScheduler),S.a.switchMap(()=>t.alignCardToMark(e,w.a.Animation.NO_ANIMATION,!1)))));return{id:"alignmentOnTyping",when:O.a.isWithAlertsId,what:A.e.Effect.Applicator.create(o.pipe(S.a.switchMapTo(S.a.NEVER)))}},e.createAlignOnDisjointedAreasEffect=(e,n,a,r)=>{const i=e.view(Object(u.flow)(A.e.getLens,h.g.filter(e=>h.g.isNone(A.k.getActiveItem(e))&&e.isCardsHeightValid&&e.items.size>0))),o=i.pipe(S.a.map(h.g.isSome),S.a.distinctUntilChanged(),S.a.switchMap(C.b.orEmpty(a.changes.pipe(S.a.startWith(C.b.voidValue),S.a.switchMap(C.b.Scheduler.rafScheduler),S.a.map(()=>h.g.some((e=>{const t=e.viewport.getValue();return{top:Math.min(t.text.top,t.wrapper.top),bottom:t.text.bottom}})(a))),S.a.map(h.g.filter(e=>e.top-e.bottom!=0))))),S.a.withLatestFrom(i.pipe(S.a.map(h.g.map(({items:e})=>e))),h.g.map2((a,i)=>Object(d.pipe)(j.c.getCardsRect(e,r),h.g.map(e=>({top:E.b.FromWindowTop.ISO.unwrap(e.top),bottom:E.b.FromWindowTop.ISO.unwrap(e.bottom)})),h.g.chain(e=>Object(d.pipe)(((e,n,a)=>{const r=Object(d.pipe)(e.getAt(0),h.g.map(e=>e.positionState.height),h.g.getOrElse(()=>0)),i=t.getRelativePosition(n,a,r);switch(i){case t.RelativePosition.above:return Object(d.pipe)(e.getAt(0),h.g.map(e=>({card:e,top:n.top})));case t.RelativePosition.below:return Object(d.pipe)(e.getAt(0),h.g.map(e=>({card:e,top:n.bottom-e.positionState.height})));case t.RelativePosition.intersects:return h.g.none;default:return Object(f.c)(i)}})(i,a,e),h.g.map(({card:e,top:t})=>n.alignCardTo(e,E.b.FromWindowTop.ISO.wrap(t),w.a.Animation.NO_ANIMATION)))),h.g.getOrElse(()=>S.a.EMPTY)))),S.a.switchMap(h.g.fold(()=>S.a.EMPTY,p.a)));return{id:"alignOnDisjointedAreas",when:O.a.isWithAlertsId,what:A.e.Effect.Applicator.create(o.pipe(S.a.switchMapTo(S.a.NEVER)))}},e.createAlignOnResizeSideEffect=(e,t,n,a,r,i=C.b.Scheduler.rafScheduler,o=_.d)=>{const s=e.view(A.e.mapper(({currentLens:e,alertSource:t})=>h.g.some({currentLens:e,alertSource:t}))).view(h.g.filter(({currentLens:e})=>o(r)(e))).view(h.g.chain(({currentLens:e,alertSource:t})=>Object(d.pipe)(a(e),h.g.filter(r.isValidToAlign),h.g.map(n=>({item:n,source:t,lensId:e.id}))))),c=C.a.windowResize.pipe(S.a.throttleTime(100),S.a.merge(n),S.a.withLatestFrom(s,(e,t)=>t),S.a.switchMap(i),S.a.switchMap(h.g.fold(()=>S.a.EMPTY,({item:e})=>t.alignCardToMark(e,w.a.Animation.NO_ANIMATION,!1))));return{id:"alignOnResizeSideEffect",when:O.a.isWithAlertsId,what:A.e.Effect.Applicator.create(c.pipe(S.a.switchMapTo(S.a.NEVER)))}};let n;!function(e){e.skip="skip"}(n=e.SkipAlertActionSource||(e.SkipAlertActionSource={}));e.createAlignmentSideEffect=(e,t,n=((e,t)=>t),r,i,o,s,c=C.b.Scheduler.rafScheduler)=>{const l=a(e,t,n,r,i,o,s,c);return{id:"alignmentSideEffect",when:O.a.isWithAlertsId,what:A.e.Effect.Applicator.create(l.pipe(S.a.switchMapTo(S.a.EMPTY)))}};var a=e._createAlignmentSource=(e,t,a=((e,t)=>t),r,i,o,s,m=C.b.Scheduler.rafScheduler,f=_.d)=>{const v=Object(g.p)(k.b.isAlertMinicardButtonClick,k.b.isSwitchToClosestByViewport,k.b.isAlertCardShow,k.a.isCardExpand,k.b.isBulkAcceptItemShow,k.b.isBulkHighlight),O=S.a.mergeStatic(e.pipe(S.a.map(A.e.mapper(({currentLens:e,alertSource:t})=>h.g.some({currentLens:e,alertSource:t}))),S.a.startWith(h.g.none),S.a.map(h.g.map(e=>e.currentLens.id)),S.a.pairwise(),S.a.filter(([e,t])=>Object(d.pipe)(h.g.map2((e,t)=>e!==t)(e,t),h.g.exists(p.a))),S.a.mapTo(h.g.none)),e.pipe(S.a.map(A.e.mapper(({currentLens:e,alertSource:t})=>h.g.some({currentLens:e,alertSource:t}))),S.a.filter(h.g.exists(({currentLens:e})=>f(i)(e))),S.a.map(h.g.chain(({currentLens:e,alertSource:t})=>Object(d.pipe)(r(e),h.g.filter(i.isValidToAlign),h.g.map(n=>({item:n,source:t,lensId:e.id}))))))).pipe(S.a.distinctUntilChanged(Object(u.flow)(h.g.map2((e,t)=>e.lensId===t.lensId&&e.source===t.source&&e.item.activeAlert.id===t.item.activeAlert.id&&e.item.visualState.transition.type===t.item.visualState.transition.type&&e.item.activeHighlightIndex===t.item.activeHighlightIndex),h.g.exists(p.a)))),j=t.pipe(S.a.filter(v),S.a.map(h.g.some),S.a.startWith(h.g.none),S.a.pairwise(),S.a.filter(Object(u.flow)(Object(u.tupled)(h.g.map2((e,t)=>!k.b.isAlertCardShow(t)||!k.b.isAlertMinicardButtonClick(e))),h.g.getOrElse(u.constFalse))),S.a.map(([,e])=>Object(d.pipe)(e,h.g.filter(k.b.hasClickPoint))),S.a.startWith(h.g.none)).pipe(S.a.switchMap(e=>O.pipe(S.a.filter(h.g.exists(e=>e.source===y.b.sidebar)),S.a.map(h.g.chain(t=>h.g.some(Object(l.a)(Object(c.a)({},t),{clickPoint:Object(d.pipe)(e,h.g.map(b.e.pick("clickPoint")))}))))))),x=O.pipe(S.a.filter(h.g.exists(e=>e.source!==y.b.sidebar)),S.a.map(e=>Object(d.pipe)(e,h.g.chain(e=>h.g.some(Object(l.a)(Object(c.a)({},e),{clickPoint:h.g.none}))))));return S.a.mergeStatic(j,x).pipe(S.a.startWith(h.g.none),S.a.pairwise(),S.a.map(([e,t])=>Object(d.pipe)(t,h.g.map(n=>({lensId:n.lensId,card:n.item,source:n.source,animate:Object(d.pipe)(e,h.g.forAll(({lensId:e})=>e===n.lensId)),clickPoint:Object(d.pipe)(t,h.g.chain(b.e.pick("clickPoint")),h.g.map(Object(u.flow)(b.e.pick("y"),E.b.FromWindowTop.ISO.wrap)))})))),S.a.switchMap(h.g.fold(()=>S.a.EMPTY,m)),S.a.withLatestFrom(e),S.a.switchMap(([{card:e,source:t,animate:r,clickPoint:i,lensId:c},l])=>Object(d.pipe)(a(e,t),t=>A.e.hasItems(l)&&l.currentLens.items.has(e.id)&&c===l.currentLens.id&&t!==n.skip?((e,t,n,a)=>{if(n===y.b.text)return Object(d.pipe)(e,s({animation:t?w.a.Animation.ANIMATE_ALL:w.a.Animation.NO_ANIMATION,fitCardIntoViewport:!0}));if(n===A.c.forceText)return Object(d.pipe)(e,s({animation:w.a.Animation.NO_ANIMATION,fitCardIntoViewport:!1}));{const r=n===y.b.sidebar?t?w.a.Animation.ANIMATE_ALL:w.a.Animation.ANIMATE_MARK:w.a.Animation.NO_ANIMATION;return Object(d.pipe)(e,o({animation:r,suggestedPosition:a}))}})(e,r,t,i):S.a.NEVER)))}}(o||(o={}))},"1klt":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n("zCOz");function r(e){let{id:t,label:n,"aria-labelledby":r,"aria-label":i,labelElementType:o="label"}=e;t=(0,a.v)(t);let s=(0,a.v)(),c={};return n?(r=r?`${s} ${r}`:s,c={id:s,htmlFor:"label"===o?t:void 0}):r||i||console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility"),{labelProps:c,fieldProps:(0,a.w)({id:t,"aria-label":i,"aria-labelledby":r})}}function i(e){let{description:t,errorMessage:n,validationState:i}=e,{labelProps:o,fieldProps:s}=r(e),c=(0,a.z)([Boolean(t),Boolean(n),i]),l=(0,a.z)([Boolean(t),Boolean(n),i]);return s=(0,a.l)(s,{"aria-describedby":[c,l,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:o,fieldProps:s,descriptionProps:{id:c},errorMessageProps:{id:l}}}},"1vTd":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a,r,i=n("B8yO"),o=n("MHMU"),s=n("DTwm"),c=n("fuW0"),l=n("xk6L"),u=n("mgiE"),d=n("RRF2"),p=n("yNCY");!function(e){var t;!function(e){e.editor="editor",e.checksFeed="checksFeed",e.navigation="navigation",e.menu="menu",e.title="title",e.support="support",e.formatting="formatting"}(t=e.Id||(e.Id={}));e.eq=u.c.getStructEq({id:u.c.eqString,order:u.c.eqNumber}),e.ord=Object(s.pipe)(u.h.ordNumber,u.h.contramap(d.e.pick("order"))),e.show=o.a({id:o.e,order:o.d}),e.create=function(e){return{id:e,order:Object.values(t).findIndex((function(t){return t===e}))}};var n=e.Context=i.createContext(p.a.invariantContent("Focus"));e.createComponent=c.a.create(n),e.initTracking=function(e,t){return e.state.pipe(l.b.compact,l.a.skip(1),l.a.tap((function(e){return t.gnarSpec.focusSectionSwitched(t.pageId,e.id)}))).subscribe()}}(a||(a={})),(r||(r={})).create=function(e){return{inFocus:e.isEditorFocused.pipe(l.a.skip(1),l.a.distinctUntilChanged()),updateFocus:function(t){return t&&requestAnimationFrame((function(){return e.restoreFocus()}))}}}},"2IcJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("cZKX"),i=n("DTwm"),o=n("xk6L"),s=n("iVUr"),c=n("mDV6"),l=n("mgiE"),u=n("TKPA"),d=n("0kuo"),p=n("K40b"),m=n("tCI5"),f=n("hzat"),h=n("Hj2R"),g=n("D2TP"),b=n("KH+i"),v=n("phaH"),y=n("Eow2"),O=n("ALFw"),S=n("8XoQ"),C=n("d3CI"),w=n("ZDrO"),k=n("YqJ0");function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){E(e,t,n[t])}))}return e}function _(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}!function(e){var t,n=function(e){return"".concat(e.id)};e.isAlertRefSDUIItem=function(e){return e.kind===E},function(e){var t=function(e){return"strongAlertRef"===e.type};e.isBulkAcceptSDUI=function(e){return Object(i.pipe)(e.cardDSL,l.g.exists(Object(u.b)(t,(function(e){var t;return(null===(t=e.name)||void 0===t?void 0:t.value)===m.a.ComponentKnownName.StrongAlertRefBulkAccept}))))},e.isBulkDismissSDUI=function(e){return Object(i.pipe)(e.cardDSL,l.g.exists(Object(u.b)(t,(function(e){var t;return(null===(t=e.name)||void 0===t?void 0:t.value)===m.a.ComponentKnownName.StrongAlertRefBulkDismiss}))))},e.isLongFormCardSDUI=Object(i.flow)((function(e){return e.cardDSL}),l.g.exists((function(e){return"longFormCard"===e.type})))}(t=e.Item||(e.Item={})),function(e){e.BulkDismiss="bulk_dismiss",e.BulkAccept="bulk_accept"}(e.Features||(e.Features={}));var a,E=e.Kind="AlertRefSDUIItem",x=l.c.fromEquals((function(e,t){return e.hashCode()===t.hashCode()&&y.a.eq.equals(e.positionState,t.positionState)&&k.b.eq.equals(e.visualState,t.visualState)&&r.eb(f.a.eq).equals(e.alerts,t.alerts)&&e.activeAlertIndex===t.activeAlertIndex})),A=e.idEq={equals:function(e,t){return l.c.eqString.equals(e,t)}},I=e.eq={equals:function(e,t){return A.equals(e.id,t.id)&&x.equals(e,t)&&O.a.eq.equals(e,t)}};e.getId=n,function(e){e.createItem=function(e,t,n){return{id:e,kind:E,alerts:n,activeAlertIndex:0,cardDSL:l.g.some(t),prevCardDSL:l.g.none,transitions:[],positionState:s.a.PositionState.empty,visualState:c.a.VisualState.initial({type:"added",clockwise:!0},!0),renderOptions:b.a.defaultOptions,equals:function(e){return I.equals(this,e)},hashCode:function(){return Object(v.a)({id:this.id,alertsCount:this.alerts.length,transitions:Object(v.b)(this.transitions.map((function(e){return e.toName})).join("")),activeAlertIndex:this.activeAlertIndex})}}},e.setActiveAlertId=function(e){return function(t){return Object(i.pipe)(t.alerts,r.U((function(t){return t.id===e})),l.g.map((function(e){return _(j({},t),{activeAlertIndex:e})})))}},e.setActiveHighlightIndex=function(e){return function(t){return Object(i.pipe)(t,l.g.fromPredicate(T),l.g.alt((function(){return M(t)})),l.g.map((function(t){return _(j({},t),{activeHighlightIndex:e})})))}};var n=c.a.Capabilities.getPojoUpdates(),o=e.pojoSDUI=O.a.Capabilities.getPojoUpdates(),p=s.a.Capabilities.getPojoUpdates(),m=e.changePosition=p.setPosition,g=e.updateSDUIState=o.setSDUIState,y=e.sduiSelect=O.a.Capabilities.getSelect(g),C=function(e){return function(t){return Object(i.pipe)(e,l.g.exists((function(e){return t.id===e.id})))?t:m(s.a.PositionState.invalidateHeight(t.positionState))(t)}},w=function(e,t){return Object(i.flow)(y(e,t),x.transitionTo({type:"focused",clockwise:!1}),C(e))},k=(e.select={selectByAlert:function(e,t,n){return w(e,n)},select:w,unselect:function(e){return Object(i.flow)(x.transitionTo({type:"rendered",clockwise:!1}),C(e))}},e.hasAlerts={hasActiveAlert:function(e){return Object(i.pipe)(e,l.g.fromPredicate(Object(u.m)(t.isBulkDismissSDUI)),l.g.chain((function(e){return l.g.fromNullable(e.alerts[e.activeAlertIndex])})),l.g.map((function(t){return{alert:t,highlightIndex:T(e)?e.activeHighlightIndex:0}})))},hasAlert:function(e){return function(t){return void 0!==t.alerts.find((function(t){return t.id===e}))}},isSelectableByAlert:function(e){return function(t){return 1===t.alerts.length&&t.alerts[0].id===e.alert.id}}},O.a.Capabilities.getCompleteTransition(g)),x=e.animatable={completeTransition:function(e){return function(t){return Object(i.pipe)(t,n.setVisualState(c.a.VisualState.complete(t.visualState,e)),k)}},transitionTo:function(e){return function(t){var a=c.a.VisualState.to(t.visualState,e);return n.setVisualState(a)(t)}},changeVisualState:n.setVisualState},A=e.remove={remove:function(e,t){return function(n){return e(n)?x.transitionTo({type:"removed",clockwise:t(n)})(n):n}}};e.removeAlert={removeAlertFromItem:function(e){return function(t){var n=new Set(e.map((function(e){return e.id}))),a=t.alerts.filter((function(e){return!n.has(e.id)}));return Object(i.pipe)(_(j({},t),{alerts:a}),(function(e){return 0===e.alerts.length?x.transitionTo({type:"removed",clockwise:!1})(e):e}))}}},e.updateWithAlert={updateWithAlerts:function(e){return function(t){var n=new Set(t.alerts.map((function(e){return e.id}))),a=new Set(e.map((function(e){return e.id}))),r=Object(i.pipe)(e,l.a.partition((function(e){return n.has(e.id)}))),o=r.left,s=r.right,c=function(e,t){switch(e.state.type){case h.a.State.Type.REGISTERED:return t;case h.a.State.Type.REMOVED:return"focused"===t.visualState.transition.type&&0===t.alerts.length?A.remove(i.constTrue,i.constTrue)(t):t;case h.a.State.Type.APPLIED:case h.a.State.Type.BEING_APPLIED:return A.remove(i.constTrue,i.constTrue)(t);default:return Object(d.c)(e.state)}},u=t,p=!0,m=!1,g=void 0;try{for(var b,v=s[Symbol.iterator]();!(p=(b=v.next()).done);p=!0){u=c(b.value,u)}}catch(e){m=!0,g=e}finally{try{p||null==v.return||v.return()}finally{if(m)throw g}}return _(j({},u),{alerts:u.alerts.filter((function(e){return a.has(e.id)})).concat(o.map(f.a.fromModel))})}}},e.disposable={isScheduledToDispose:function(e){return"removed"===e.visualState.transition.type}};function T(e){return"activeAlert"in e&&"activeHighlightIndex"in e}function M(e){return Object(i.pipe)(a.hasAlerts.hasActiveAlert(e),l.g.map((function(t){return _(j({},e),{activeAlert:t.alert,activeHighlightIndex:t.highlightIndex,meta:S.a.empty(void 0)})})))}e.isAlertItem=T,e.toAlertItem=M}(a=e.Capabilities||(e.Capabilities={})),function(e){var t=function(e,t,n){return function(r){var i=a.createItem(e,t,n.map(f.a.fromModel)),o=r.items.add(i),s=C.k.getActiveItemIndex(o)(r);return _(j({},r),{items:o,cardIndex:s})}};e.createSDUIFeedSideEffect=function(e,s,c,u){return{id:"sduiFeedEffect",when:g.a.isWithAlertsId,what:C.e.Effect.ItemsApplicator.create(s.pipe(o.a.map((function(o){var s=o.cards,d=o.feedOrd,m=o.itemIdToSelect;return function(o){var f=Object(i.pipe)(s,p.a.filter((function(e){return o.currentLens.items.has(n(e))}),i.constTrue,i.constTrue),p.a.reduce(o.currentLens,(function(t,a){return function(e,t){return function(n){var a=n.items.keys().indexOf(e),r=n.items.remove(e),o=Object(i.pipe)(n.cardIndex,l.g.map((function(e){return e>a?e-1:e})),l.g.chain(l.g.fromPredicate((function(e){return l.g.isSome(r.getAt(e))}))),l.g.fold((function(){return Object(i.pipe)(t.findNextAlert(n),l.g.map((function(e){return t.selectItemByAlert(e)(n)})),l.g.chain(l.g.fromPredicate((function(e){return Object(i.pipe)(e.cardIndex,l.g.fold((function(){return!0}),(function(e){return l.g.isSome(r.getAt(e))})))}))),l.g.getOrElse((function(){return _(j({},n),{cardIndex:l.g.none})})))}),(function(e){return _(j({},n),{cardIndex:l.g.some(e)})})));return _(j({},o),{items:r})}}(n(a),e)(t)}),(function(e,o,s){return Object(i.pipe)(s.alertIds,r.cc(l.g.option)((function(e){return Object(i.pipe)(u.getById("".concat(e)))})),l.g.fold((function(){return e}),(function(r){return function(e,n,r){return function(o){var s=Object(i.pipe)(o.items.update(e,Object(i.flow)(a.updateWithAlert.updateWithAlerts(r),a.pojoSDUI.setDSL(l.g.some(n)))),l.b.getOrElse((function(){return t(e,n,r)(o).items})));return _(j({},o),{items:s})}}(n(s),s.content,r)(e)})))}),(function(e,a){return Object(i.pipe)(a.alertIds,r.cc(l.g.option)((function(e){return Object(i.pipe)(u.getById("".concat(e)))})),l.g.fold((function(){return e}),(function(r){return t(n(a),a.content,r)(e)})))}))),h=c(d),g=f.items.reduce((function(e,t){return e.add(t)}),w.a.Sorted.empty((function(e){return e.id}),h.compare)),b=_(j({},f),{items:g,itemsOrd:h}),v=Object(i.pipe)(m,l.g.chain((function(e){var t=g.find((function(t){return t.id===e}));return l.g.isSome(t)?l.g.some(e):Object(i.pipe)(g.getAt(0),l.g.map((function(e){return e.id})))})),l.g.fold((function(){return b}),(function(t){return e.selectItemById(t)(b)})));return o.patch({currentLens:v,switchOrder:"lensOrder"})}}))))}}}(e.SideEffects||(e.SideEffects={}))}(a||(a={}))},"2Jx5":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("000W"),s=n("OhII"),c=n("lKCo"),l=n("cZKX"),u=n("DTwm");!function(e){var t=e.make=function(e,t,n){return{lefts:e.slice(),focus:t,rights:n.slice()}},n=e.fromReadonlyArray=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return l.nb(e)||l.pb(n,e)?c.none:c.some(t(Object(u.pipe)(e.slice(),o.cc(n)),e[n],Object(u.pipe)(e.slice(),o.M(n+1))))},a=e.fromArray=n,d=e.fromReadonlyNonEmptyArray=function(e){return t([],e[0],e.slice(1))},p=(e.fromNonEmptyArray=d,e.isOutOfBound=function(e,t){return e<0||e>=m(t)}),m=e.length=function(e){return e.lefts.length+1+e.rights.length},f=e.toNonEmptyArray=function(e){return Object(u.pipe)(s.ab(e.focus),(function(t){return s.w(e.lefts,t)}),(function(t){return s.w(t,e.rights)}))},h=(e.toReadonlyNonEmptyArray=f,e.toArray=f,e.update=function(e){return function(n){return t(n.lefts,e,n.rights)}}),g=(e.modify=function(e){return function(t){return Object(u.pipe)(t,h(e(t.focus)))}},e.move=function(e,t){var n=e(t.lefts.length);return p(n,t)?c.none:a(f(t),n)}),b=e.findIndex=function(e){return function(t){return Object(u.pipe)(t.lefts,l.U(e),c.alt((function(){return e(t.focus)?c.some(t.lefts.length):c.none})),c.alt((function(){return Object(u.pipe)(t.rights,l.U(e),c.map((function(e){return t.lefts.length+1+e})))})))}},v=(e.moveByFindFirst=function(e){return function(t){return Object(u.pipe)(t,b(e),c.chain((function(e){return e===t.lefts.length?c.some(t):g((function(){return e}),t)})))}},e.up=function(e){return g(u.decrement,e)},e.down=function(e){return g(u.increment,e)},e.start=function(e){return o.sb(e.lefts)?e:t([],e.lefts[0],o.Vb(Object(u.pipe)(e.lefts,o.M(1)),e.focus).concat(e.rights))},e.end=function(e){var n=e.rights.length;return 0===n?e:t(o.Vb(e.lefts,e.focus).concat(Object(u.pipe)(e.rights,o.cc(n-1))),e.rights[n-1],[])},e.insertLeft=function(e){return function(n){return t(n.lefts,e,o.I(n.focus,n.rights))}},e.insertRight=function(e){return function(n){return t(o.Vb(n.lefts,n.focus),e,n.rights)}},e.deleteLeft=function(e){var t=e.lefts.length;return a(e.lefts.concat(e.rights),t>0?t-1:0)},e.deleteRight=function(e){var t=e.lefts.length,n=e.rights.length;return a(e.lefts.concat(e.rights),n>0?t:t-1)},function(e,n){return t(e.lefts.map(n),n(e.focus),e.rights.map(n))}),y=function(e,n){var a=e.lefts.length;return t(e.lefts.map((function(e,t){return n(t,e)})),n(a,e.focus),e.rights.map((function(e,t){return n(a+1+t,e)})))},O=function(e,n){return t(o.y.ap(e.lefts,n.lefts),e.focus(n.focus),o.y.ap(e.rights,n.rights))},S=function(e,n){var a=e.lefts.map((function(a,r){return n(t(Object(u.pipe)(e.lefts,o.cc(r)),a,o.Vb(Object(u.pipe)(e.lefts,o.M(r+1)),e.focus).concat(e.rights)))})),r=e.rights.map((function(a,r){return n(t(o.Vb(e.lefts,e.focus).concat(Object(u.pipe)(e.rights,o.cc(r))),a,Object(u.pipe)(e.rights,o.M(r+1))))}));return t(a,n(e),r)},C=function(e,t,n){return e.rights.reduce(n,n(e.lefts.reduce(n,t),e.focus))},w=function(e,t,n){var a=e.rights.reduceRight((function(e,t){return n(t,e)}),t),r=n(e.focus,a);return e.lefts.reduceRight((function(e,t){return n(t,e)}),r)},k=function(e){return function(t,n){var a=t.lefts.reduce((function(t,a){return e.concat(t,n(a))}),e.empty),r=t.rights.reduce((function(t,a){return e.concat(t,n(a))}),e.empty);return e.concat(e.concat(a,n(t.focus)),r)}},E=function(e){var n=o.y.traverse(e);return function(a,r){return e.ap(e.ap(e.map(n(a.lefts,r),(function(e){return function(n){return function(a){return t(e,n,a)}}})),r(a.focus)),n(a.rights,r))}},j=e.map=function(e){return function(t){return v(t,e)}},_=(e.mapWithIndex=function(e){return function(t){return y(t,e)}},e.ap=function(e){return function(t){return O(t,e)}}),x=(e.apFirst=function(e){return function(t){return Object(u.pipe)(t,j((function(e){return function(t){return e}})),_(e))}},e.apSecond=function(e){return function(t){return Object(u.pipe)(t,j((function(){return function(e){return e}})),_(e))}},e.of=function(e){return t([],e,[])}),A=e.extend=function(e){return function(t){return S(t,e)}},I=(e.duplicate=A(u.identity),e.foldMap=function(e){return function(t){return function(n){return k(e)(n,t)}}},e.reduce=function(e,t){return function(n){return C(n,e,t)}},e.reduceRight=function(e,t){return function(n){return w(n,e,t)}},e.sequence=function(e){var n=o.y.sequence(e);return function(a){return e.ap(e.ap(e.map(n(a.lefts),(function(e){return function(n){return function(a){return t(e,n,a)}}})),a.focus),n(a.rights))}}),T=e.extract=function(e){return e.focus},M=e.URI="Zipper",P=(e.getShow=function(e){var t=o.mb(e);return{show:function(n){return"Zipper(".concat(t.show(n.lefts),", ").concat(e.show(n.focus),", ").concat(t.show(n.rights),")")}}},e.getSemigroup=function(e){return{concat:function(n,a){return t(n.lefts.concat(a.lefts),e.concat(n.focus,a.focus),n.rights.concat(a.rights))}}});e.getMonoid=function(e){return Object(i.a)(Object(r.a)({},P(e)),{empty:t([],e.empty,[])})},e.Functor={URI:M,map:v},e.FunctorWithIndex={URI:M,map:v,mapWithIndex:y},e.Applicative={URI:M,map:v,ap:O,of:x},e.Apply={URI:M,map:v,ap:O},e.Foldable={URI:M,foldMap:k,reduce:C,reduceRight:w},e.Traversable={URI:M,map:v,foldMap:k,reduce:C,reduceRight:w,traverse:E,sequence:I},e.Comonad={URI:M,map:v,extend:S,extract:T},e.zipper={URI:M,map:v,of:x,ap:O,extend:S,extract:T,reduce:C,reduceRight:w,foldMap:k,traverse:E,sequence:I,mapWithIndex:y}}(a||(a={}))},"2YEY":function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return B}));var a=n("8O/t"),r=n("X76w"),i=n("2zNz"),o=n("2swC"),s=n("nWMp"),c=n("PltQ"),l=n("NbNH");const u=o.a.BackgroundTooltip,d=o.a.CoreNeutral90,p=o.a.CoreNeutral40,m=s.a.keyframes({"0%":{boxShadow:"0 0 0 0 rgba(95, 139, 250, .65)"},"70%":{boxShadow:`0 0 0 ${s.a.rem(1)} rgba(95, 139, 250, 0)`},"100%":{boxShadow:"0 0 0 0 rgba(95, 139, 250, 0)"}}),f={width:s.a.rem(1),height:s.a.rem(1),borderRadius:s.a.percent(50),background:"rgba(95, 139, 250, .65)",boxShadow:"0 0 0 rgba(95, 139, 250, .65)",animation:m+" 2s infinite",$nest:{"&:hover":{animation:"none"},"@media print":{visibility:"hidden"}}},h=s.a.keyframes({"0%":{opacity:1,transform:"scale(1)"},"100%":{opacity:0,transform:"scale(3)"}}),g={width:s.a.rem(1),height:s.a.rem(1),borderRadius:s.a.percent(50),background:"rgba(95, 139, 250, .65)",willChange:"transform",$nest:{"@media print":{visibility:"hidden"},"&:before":{position:"absolute",top:0,left:0,zIndex:-1,width:s.a.rem(1),height:s.a.rem(1),borderRadius:s.a.percent(100),backgroundColor:"rgba(95, 139, 250, .65)",content:"''",animation:h+" 2s infinite",willChange:"transform"},"&:hover:before":{animation:"none"}}},b={margin:`${s.a.rem(-1.5)} 0 0 ${s.a.rem(-1.5)}`,padding:s.a.rem(1),borderRadius:s.a.percent(50),cursor:"pointer",pointerEvents:"all"},v={margin:"0 0 "+s.a.rem(.5),color:o.a.CoreNeutral0,fontWeight:"bold"},y={color:o.a.CoreNeutral0,lineHeight:s.a.rem(1.25)},O={display:"flex",padding:`${s.a.rem(1)} ${s.a.rem(1.5)} ${s.a.rem(1.25)} ${s.a.rem(2)}`,width:s.a.rem(20),borderRadius:s.a.rem(l.t),background:u,color:o.a.CoreNeutral0,textAlign:"left",letterSpacing:0,pointerEvents:"all",alignItems:"flex-start"},S={display:"inline-block",marginRight:s.a.rem(i.D.Space.Space2)},C={marginRight:s.a.rem(2),width:s.a.rem(2),flexShrink:0,alignSelf:"center"},w={position:"absolute",top:0,right:0},k={stroke:c.i,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{stroke:o.a.CoreNeutral0,fill:o.a.CoreNeutral0}}},E={position:"absolute",top:s.a.percent(50),left:s.a.percent(50),zIndex:l.k},j={position:"relative",zIndex:l.i},_={zIndex:l.q},x={position:"absolute",zIndex:l.q},A=s.a.prefixedStylesheet("onboarding",{pulse:[f],pulseWrapper:[b],header:[v],description:[y],stepWrapper:[O],content:[S],alertIcon:[C],closeIconWrapper:[w],closeIcon:[k],containerWrapper:[{position:"relative",display:"inline-block"}],onboardingSpot:[E],containerDiv:[{}],editor:[j],onboardingPopup:[_],notificationContainer:[x],pulseOptimized:[g]}),I={display:"flex",flexDirection:"column",width:s.a.percent(100)},T=Object(r.a)(Object(a.a)({},w),{top:s.a.rem(.5),right:s.a.rem(.5)}),M=Object(r.a)(Object(a.a)({},k),{$nest:Object(r.a)(Object(a.a)({},k.$nest),{svg:{height:s.a.rem(1),width:s.a.rem(1)}})}),P=Object(r.a)(Object(a.a)({},O),{background:d,color:o.a.CoreNeutral0,borderRadius:s.a.rem(i.D.Radius.Radius2),padding:s.a.rem(1)}),N={width:s.a.percent(100),backgroundColor:"#2DC9B6",color:d,fontWeight:"bold",borderRadius:s.a.rem(i.D.Radius.Radius1),marginTop:s.a.rem(1),padding:s.a.rem(.5)},D=Object(r.a)(Object(a.a)({},y),{color:p}),B=s.a.prefixedStylesheet("a11y-onboarding",{contentWrapper:[I],closeIconWrapper:[T],closeIcon:[M],stepWrapper:[P],completeButton:[N],description:[D]})},"2qi0":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n("a5gI"),r=n("8O/t"),i=n("X76w"),o=n("B8yO"),s=n("4GyQ"),c=n("0kuo"),l=n("RRF2"),u=n("2swC"),d=n("ksEe"),p=n("ySi0"),m=n("nWMp"),f=n("Frap");const h=2*Math.PI*32,g=(e,t,n)=>e<t?t:e>n?n:e,b=e=>{switch(e){case v.IconSize.pdf:return 110;case v.IconSize.normal:return 52;case v.IconSize.outcome:return 32;case v.IconSize.small:return 24;case v.IconSize.extraSmall:return 16;default:return Object(c.c)(e)}};class v extends o.Component{render(){const{percentage:e,aimValue:t=100,colorType:n=v.ColorType.logan,fontSize:a=v.FontSize.normal,iconSize:u=v.IconSize.normal,description:m,theme:f=C}=this.props,y=[o.createElement("circle",{key:"circle",id:"circle",cx:36,cy:36,r:32,fill:"none"})],O=(e=>{switch(e){case v.FontSize.normal:return 32;case v.FontSize.small:return 24;default:return Object(c.c)(e)}})(a),S=(e=>{switch(e){case v.IconSize.pdf:case v.IconSize.normal:case v.IconSize.outcome:return 5;case v.IconSize.small:return 3;case v.IconSize.extraSmall:return 10;default:return Object(c.c)(e)}})(u),w=g(e,0,100),k=g(t,w,100),E=w*h/100,j=k*h/100,_=360*S/h,x=w?h-E-2*S:h;let A,I,T,M,P;const N=(e=>{switch(e){case v.ColorType.eggBlue:return{type:"gradient",value:{coordinates:{x1:"0%",y1:"50%",x2:"50%",y2:"50%"},start:"#0bc7c3",end:"#0fd5bf"},background:"#f1f2fa",outline:"#fff"};case v.ColorType.dandelion:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"35%",y2:"100%"},start:"#ffde66",end:"#ffc148"},background:"#f1f2fa",outline:"#fff"};case v.ColorType.radicalRed:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"50%",x2:"40%",y2:"100%"},start:"#ff4562",end:"#ff153e"},background:"#f1f2fa",outline:"#fff"};case v.ColorType.lightVisteria:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"50%",y2:"100%"},start:"#e191e2",end:"#c770c8"},background:"#f1f2fa",outline:"#fff"};case v.ColorType.royalBlue:return{type:"gradient",value:{coordinates:{x1:"17%",y1:"15%",x2:"50%",y2:"100%"},start:"#2a42ef",end:"#6391ff"},background:"#f1f2fa",outline:"#fff"};case v.ColorType.logan:return{type:"plain",value:"#a6adc9",background:"#f1f2fa",outline:"#fff"};case v.ColorType.electricViolet:return{type:"plain",value:"#913dcc",background:"#eed6ff"};case v.ColorType.crimson:return{type:"plain",value:"#ea1537",background:"#ffccd5"};case v.ColorType.blueRibbon:return{type:"plain",value:"#1a57ff",background:"#cdf"};case v.ColorType.green:return{type:"plain",value:"#15c39a",background:"#dcf6f6"};case v.ColorType.lightBlue:return{type:"plain",value:"#00bbcc",background:"#ccfbff"};case v.ColorType.orange:return{type:"plain",value:"#ffa600",background:"#fee8b4"};case v.ColorType.neoBlue:return{type:"plain",value:"#4A6EE0",background:"#DBEBFF"};case v.ColorType.white:return{type:"plain",value:"#fff",background:"#fff",backgroundOpacity:.2};default:return Object(c.c)(e)}})(n);if("plain"===N.type)A=N.value,I=A,T=N.outline,M=N.background,P=void 0===N.backgroundOpacity?1:N.backgroundOpacity;else{const e=N.value;this._gradientId=Boolean(this._gradientId)?this._gradientId:"pb-gradient-"+v._nextGradientId++,y.push(o.createElement("linearGradient",Object(r.a)({id:this._gradientId,key:this._gradientId,gradientUnits:"userSpaceOnUse"},e.coordinates),o.createElement("stop",{stopColor:e.start,offset:"0%"}),o.createElement("stop",{stopColor:e.end,offset:"100%"}))),A=`url(#${this._gradientId})`,I="#2b2d38",T=N.outline,M=N.background,P=void 0===N.backgroundOpacity?1:N.backgroundOpacity}return o.createElement(d.a.Context.Consumer,null,e=>o.createElement(p.e,Object(i.a)(Object(r.a)({},Object(s.c)(C.iconWrapper,f.radialProgressBar)),{width:b(u),viewBox:"0 0 72 72"}),o.createElement("defs",null,y),o.createElement("g",null,o.createElement("use",{className:C.valueCircle,stroke:w>=94&&Boolean(T)?T:M,strokeOpacity:P,strokeWidth:S,strokeDasharray:h,strokeDashoffset:h-j,transform:"rotate(-90 36 36)",strokeLinecap:"round",xlinkHref:"#circle"}),Boolean(T)?o.createElement("use",{className:C.valueCircle,stroke:T,strokeWidth:S,strokeDasharray:h,strokeDashoffset:x,transform:`rotate(${-90-_} 36 36)`,strokeLinecap:"round",xlinkHref:"#circle"}):null,o.createElement("use",{className:C.valueCircle,stroke:A,strokeDasharray:h,strokeDashoffset:h-E,strokeLinecap:"round",transform:"rotate(-90 36 36)",strokeWidth:S,xlinkHref:"#circle"}),o.createElement("text",Object(r.a)({className:f.radialProgressText,y:"38",x:"36",fill:I,fontSize:O,fontStyle:"normal",textAnchor:"middle"},l.c.svgVerticalAlignment(e.has(d.a.Flag.supportsSVGDominantBaseline))),w),Boolean(m)?o.createElement("text",{className:f.radialProgressDescription,fill:I,x:"50%",y:"80%",fontStyle:"normal",textAnchor:"middle"},m):null)))}constructor(...e){super(...e),Object(a.a)(this,"_gradientId",void 0)}}Object(a.a)(v,"_nextGradientId",0),function(e){let t,n,a;!function(e){e.eggBlue="eggBlue",e.dandelion="dandelion",e.radicalRed="radicalRed",e.lightVisteria="lightVisteria",e.royalBlue="royalBlue",e.logan="logan",e.electricViolet="electricViolet",e.crimson="crimson",e.blueRibbon="blueRibbon",e.green="green",e.lightBlue="lightBlue",e.orange="orange",e.white="white",e.neoBlue="neoBlue"}(t=e.ColorType||(e.ColorType={})),function(e){e.normal="normal",e.small="small"}(n=e.FontSize||(e.FontSize={})),function(e){e.normal="normal",e.small="small",e.extraSmall="extraSmall",e.outcome="outcome",e.pdf="pdf"}(a=e.IconSize||(e.IconSize={}))}(v||(v={}));const y={width:m.a.percent(100),height:m.a.percent(100),fontWeight:"bold",fill:u.a.CoreNeutral90},O={fontSize:m.a.rem(2),fill:u.a.CoreNeutral90},S={fontWeight:"normal",fontSize:m.a.px(11),fill:f.ui600},C=m.a.stylesheet({radialProgressBar:[y],radialProgressText:[O],radialProgressDescription:[S],valueCircle:[{transition:"stroke-dashoffset .5s"}],iconWrapper:[{stroke:"none",fill:"none",$nest:{"&[data-hovered='true']":{stroke:"none",fill:"none"}}}]})},"2xUq":function(e){e.exports=JSON.parse('{"whiteReferenceLink":"_40c4132b-plagiarism-whiteReferenceLink","content":"_2266bd35-plagiarism-content","fakeTop":"_5fa2fc7b-plagiarism-fakeTop","scrollWrapper":"_8019ac5b-plagiarism-scrollWrapper"}')},"354Z":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("000W"),s=n("U9Go"),c=n("DTwm"),l=n("tiWp"),u=n("mgiE"),d=n("TKPA"),p=n("D2TP"),m=n("ZDrO"),f=n("SOPW"),h=n("d3CI"),g=n("rtUA");!function(e){let t;function n(e,t){return`${e.id}_${t.id}`}e.isInSuccess=function(e,t=c.constTrue){return n=>0===n.meta.count&&(0===n.items.filter(t).size||u.g.isNone(n.items.filter(t).find(t=>!e.isScheduledToDispose(t))))},function(e){function t(e){return t=>h.e.hasSuccess(t)&&h.e.hasItems(t)&&a.isInSuccess(e)(t.currentLens)}e.isInSuccess=t;e.isInGlobalSuccess=e=>n=>h.e.is(p.a.SpecialId.AllAlerts)(n)&&t(e)(n)}(t=e.State||(e.State={})),e.getCardId=n,e.create=function(e,t,n,a){const r=m.a.Sorted.empty(f.a.getId,a.compare),i=u.g.none;return{id:e,type:h.i.lensview,kind:h.f.persistent,meta:t,cardIndex:i,items:r,itemsOrd:a,animation:h.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return g.a.lensHash.hashCode(this)},equals(e){return g.a.getEq(n).equals(this,e)}}};var b=e.add=(e,t,a)=>o=>c=>{const l=o.map(r=>{const i=t.createAdded(c.id)(n(c.meta,r),r);return e(c,r)?i:g.a.Items.hideItem(i,a)}),d=c.items.add(l),p=h.k.getActiveItemIndex(d)(c),m=u.g.getEq(s.g).equals(p,c.cardIndex)?h.b.force:h.b.skip;return Object(i.a)(Object(r.a)({},c),{cardIndex:p,items:d,animation:m})},v=e.remove=e=>t=>n=>{const a=new Set(t.map(e=>e.id)),o=n.items.map(e.remove(Object(c.flow)(e.hasActiveAlert,u.g.map(e=>e.alert),u.g.fold(c.constFalse,e=>a.has(e.id))),e=>Object(l.pipe)(h.k.getActiveItem(n),u.g.map(t=>n.itemsOrd.compare(e,t)>0),u.g.getOrElse(c.constTrue)))),s=Object(l.pipe)(n.cardIndex,u.g.chain(t=>Object(l.pipe)(o.findRightFrom(t=>e.isScheduledToDispose(t),t),u.g.map(e=>e.index))),u.g.isSome)?h.b.skip:h.b.force,d=Object(l.pipe)(n,h.k.getActiveItemIndex(o));return Object(i.a)(Object(r.a)({},n),{cardIndex:d,items:o,animation:s})},y=e.update=(e,t,n)=>a=>r=>O(t,e,n)(a.filter(Object(d.m)(t.shouldAnimateAlertApply)))(r),O=e.updateWithAlerts=(e,t,a)=>s=>d=>{if(0===s.length)return d;const p=Object(l.pipe)(s,g.a.filterAlertInLens(d,a),o.zb(e=>[n(d.meta,e),e]),o.Jb(d.items,(n,[r,i])=>Object(l.pipe)(n.update(r,a.updateWithAlerts([i])),u.b.fold(()=>{const o=e.createAdded(d.id)(r,i);return n.add(t(d,i)?o:g.a.Items.hideItem(o,a))},c.identity)))),m=h.k.getActiveItemIndex(p)(d);return Object(i.a)(Object(r.a)({},d),{cardIndex:m,items:p,animation:h.b.proceed})};e.getAlertHandler=function(e,t,n=c.constTrue){return(a,r)=>{const i=g.a.ApplyDiff.applyWithFilter(r,g.a.ApplyDiff.apply);return r=>Object(l.pipe)(r,i(a,b(n,e,t),y(n,e,t),v(t)))}}}(a||(a={}))},"3Atx":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("B8yO");const r=function(){return a.useMemo(()=>({name:"forcePopperUpdateEffect",phase:"afterMain",enabled:!0,fn:()=>{},effect:({instance:e})=>{const t=setTimeout(()=>e.forceUpdate(),0);return()=>clearTimeout(t)}}),[])}},"3I9b":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return l}));var a,r,i=n("a5gI"),o=n("8O/t"),s=n("X76w"),c=n("+vYo");!function(e){let t,n,a;!function(e){e.VerySatisfied="VerySatisfied",e.SomewhatSatisfied="SomewhatSatisfied",e.Neutral="Neutral",e.SomewhatDissatisfied="SomewhatDissatisfied",e.VeryDissatisfied="VeryDissatisfied"}(t=e.Experience||(e.Experience={})),function(e){e.PlagiarismChecker="PlagiarismChecker",e.ClaritySuggestions="ClaritySuggestions",e.EngagementSuggestions="EngagementSuggestions",e.ToneSuggestions="ToneSuggestions",e.UsingMultipleDevices="UsingMultipleDevices"}(n=e.SatisfactionReason||(e.SatisfactionReason={})),function(e){e.LowQualitySuggestions="LowQualitySuggestions",e.PoorPlagiarismSuggestions="PoorPlagiarismSuggestions",e.NoSupportForDesirableApp="NoSupportForDesirableApp",e.AggressivePremiumPromotion="AggressivePremiumPromotion",e.NoPremiumSuggestions="NoPremiumSuggestions",e.PremiumAndFreeAreIdentical="PremiumAndFreeAreIdentical"}(a=e.DissatisfactionReason||(e.DissatisfactionReason={}))}(a||(a={})),function(e){var t=e.isCompleted=e=>"answer1"in e&&"answer2"in e;e.isFirstQuestion=e=>!("answer1"in e)&&!("answer2"in e),e.isSecondQuestion=e=>"answer1"in e&&!("answer2"in e);const n=[a.Experience.Neutral,a.Experience.SomewhatDissatisfied,a.Experience.VeryDissatisfied];e.isSecondQuestionAboutDissatisfaction=e=>"answer1"in e&&n.includes(e.answer1),e.isSecondAnswerAboutDissatisfaction=e=>t(e)&&Object.keys(a.DissatisfactionReason).includes(e.answer2)}(r||(r={}));class l{answer(e){const t=this.state.view(r.isFirstQuestion).get(),n=t?"answer1":"answer2";this.state.modify(t=>Object(s.a)(Object(o.a)({},t),{[n]:e})),t?this._tracking.onFirstAnswer(e):this._tracking.onSecondAnswer(e)}constructor(e){Object(i.a)(this,"_tracking",void 0),Object(i.a)(this,"state",void 0),this._tracking=e,this.state=c.a.create({})}}},"3PdT":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n("Wy1Y"),r=n("uKMM"),i=n("a5gI"),o=n("8O/t"),s=n("hcme"),c=n("000W"),l=n("DTwm"),u=n("tiWp"),d=n("+vYo"),p=n("ShUL"),m=n("gg7t"),f=n("fr9z"),h=n("UK5+"),g=n("xk6L"),b=n("yIk2"),v=n("jH4R"),y=n("mgiE"),O=n("TKPA"),S=n("0kuo"),C=n("M3t0"),w=n("Gouu"),k=n("CcDN"),E=function(){function e(t,n,r,o,c,f,h,v,S,E,j){var _=this;Object(a.a)(this,e),Object(i.a)(this,"_inlineManager",void 0),Object(i.a)(this,"_positionManager",void 0),Object(i.a)(this,"_synonymsModel",void 0),Object(i.a)(this,"_networkState",void 0),Object(i.a)(this,"_ded",void 0),Object(i.a)(this,"_notificationsManager",void 0),Object(i.a)(this,"_activeAlertChanges",void 0),Object(i.a)(this,"_trackUndoCloseButton",void 0),Object(i.a)(this,"_trackSynonymPopupOpen",void 0),Object(i.a)(this,"_trackSynonymPopupDismiss",void 0),Object(i.a)(this,"_trackSynonymAccept",void 0),Object(i.a)(this,"_log",void 0),Object(i.a)(this,"_style",void 0),Object(i.a)(this,"viewState",void 0),Object(i.a)(this,"popupShown",void 0),Object(i.a)(this,"_defaultClassName",void 0),Object(i.a)(this,"_subs",void 0),Object(i.a)(this,"disposeFirstSynonym",void 0),Object(i.a)(this,"query",void 0),Object(i.a)(this,"close",void 0),Object(i.a)(this,"_withRegisteredWord",void 0),Object(i.a)(this,"_listenQuery",void 0),Object(i.a)(this,"_createSynonymsState",void 0),Object(i.a)(this,"_removeMark",void 0),Object(i.a)(this,"_createMark",void 0),Object(i.a)(this,"_emitCloseWhen",void 0),Object(i.a)(this,"_isOnline",void 0),this._inlineManager=t,this._positionManager=n,this._synonymsModel=r,this._networkState=o,this._ded=c,this._notificationsManager=f,this._activeAlertChanges=h,this._trackUndoCloseButton=v,this._trackSynonymPopupOpen=S,this._trackSynonymPopupDismiss=E,this._trackSynonymAccept=j,this._log=C.d.Logging.getLogger("LegacySynonymsViewModel"),this.viewState=d.a.create(y.g.none),this.popupShown=this.viewState.view(y.g.fold((function(){return!1}),(function(e){return e.popupVisible}))),this._defaultClassName="defaultSynonymClass",this._subs=[],this.disposeFirstSynonym=function(e){_._ded.changeMarks([p.a.Change.getRemoveAction({range:function(){return y.b.getOrElse((function(e){return e}))(e.range())}},p.a.Change.RemoveType.full)(e.id)]),_._deregisterRange(e.id)},this.query=function(e){return _._ded.flushChanges(),_._synonymsModel.query(e)},this.close=function(e){"closedByUser"===e&&Object(u.pipe)(_.viewState.get(),y.g.map((function(e){return e.synonymsState})),y.g.filter(Object(O.p)(w.a.isReady,w.a.isEmpty)),y.g.tap((function(e){_._synonymsModel.ignore(e.synonyms.id),_._trackSynonymPopupDismiss(e.pname,e.stats,w.c.getTimeToClose(e.readyAt))}))),_._inlineManager.closeSynonyms.next()},this._withRegisteredWord=function(e,t){return g.a.Observable.create((function(n){var a=_._synonymsModel.positionManager.registerRange(m.a.SynonymMark.generateActiveWordRandomId(),e),r=t(a).subscribe(n);return function(){r.unsubscribe(),_._deregisterRange(a.meta.id)}}))},this._listenQuery=function(e){return g.a.Observable.create((function(t){return _._request(e).then((function(n){var a;null!==(a=t.closed)&&void 0!==a&&a||Object(u.pipe)(n,y.g.fold((function(){return _.close("error")}),(function(n){return t.next([e,n])})))})),function(){_._synonymsModel.abortQuery()}}))},this._createSynonymsState=function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];return g.a.Observable.create((function(e){var t=_._canShowPopup(a);return Object(u.pipe)(_._createMark(n,t),(function(r){return Object(u.pipe)(r.range(),y.b.fold((function(e){_._log.error("Error creating Synonym state",e)}),(function(i){var o=_._synonymsModel.positionManager.registerRange(r.id,i),s={synonymsState:a,activeWord:n,activeMark:o,popupVisible:t};return e.next(s),function(){_._deregisterRange(s.activeMark.meta.id),setTimeout((function(){return _._removeMark(s)}),10)}})))}))}))},this._removeMark=function(e){try{_._ded.flushChanges(),Object(u.pipe)(_._ded.getMarkById(e.activeMark.meta.id),y.b.map((function(t){_._ded.changeMarks([p.a.Change.getRemoveAction({range:function(){return Object(u.pipe)(t.range(),y.b.getOrElse((function(e){return e})))}},p.a.Change.RemoveType.full)(e.activeMark.meta.id)])})))}catch(e){_._log.error("Cannot remove synonym",e)}},this._createMark=function(e,t){return Object(u.pipe)(_._ded.changeMarks([p.a.Change.getCreateAction({range:function(){return e},classes:t?[_._defaultClassName,_._style.synonym,_._style.markSelected]:[_._defaultClassName,_._style.markHidden],order:0})(m.a.SynonymMark.id)]),(function(e){return e.created.get(m.a.SynonymMark.id)}),y.b.fold((function(){return null}),l.identity))},this._emitCloseWhen=g.b.listenWhenSome((function(){return g.a.mergeStatic(_._ded.contentUpdated,_._activeAlertChanges.pipe(g.a.skip(1)),g.a.fromEvent(document,"keydown")).pipe(g.a.mapTo(b.b.voidValue),g.a.tap((function(){return _.close("closedByUser")})))})),this._isOnline=function(){return"offline"!==_._networkState.getOnlineStatus()},this._style=Object(k.a)(),this._handleState()}return Object(r.a)(e,[{key:"getFirstSynonymRect",value:function(){return this.getFirstSynonym().pipe(g.a.map(y.g.chain((function(e){return y.g.fromEither(e.getRect())}))))}},{key:"getSynonymMarkRect",value:function(e){return y.l.fromEither(this._ded.getMarkRect(e))}},{key:"scrollToMark",value:function(e,t,n){return this._ded.scrollToMark(e,{animate:n,paddingTop:t})}},{key:"onPopupOpen",value:function(){var e=this;Object(u.pipe)(this.viewState.get(),y.g.map((function(e){return e.synonymsState})),y.g.filter(Object(O.p)(w.a.isReady,w.a.isEmpty)),y.g.map((function(e){return{stats:e.stats,pname:e.pname}})),y.g.getOrElse((function(){return{stats:w.c.emptySynonymsStats,pname:"unknown"}})),(function(t){var n=t.pname,a=t.stats;e._trackSynonymPopupOpen(n,a)}))}},{key:"getFirstSynonym",value:function(){var e=this;return g.a.Observable.create((function(t){var n=y.g.none,a=j(e._ded.getText()),r=a.length?y.g.some(f.b.create(a[0].start,a[a.length-1].end)):y.g.none,i=Object(u.pipe)(r,y.g.fold((function(){return[]}),(function(t){return e._positionManager.findRanges((function(e){return h.b.isVisible(e)&&f.b.isOverlap(e,t)}))}))),o=g.a.from(Promise.all(_(a,i).map(e.query))).pipe(g.a.map(Object(l.flow)(Object(c.Y)(w.a.isReady),y.g.chain((function(t){var n=m.a.SynonymMark.generateSynonymOnboardingId(t.synonyms.id),a=f.b.create(t.query.start,t.query.start+t.query.word.length),r=e._synonymsModel.positionManager.registerRange(n,a);return Object(u.pipe)(e._ded.changeMarks([p.a.Change.getCreateAction({range:function(){return r},order:0,classes:[]})(n)]),(function(e){return e.created.get(n)}),y.g.fromEither)})))),g.a.first()).subscribe((function(e){n=e,t.next(e)}));return function(){y.g.map(e.disposeFirstSynonym)(n),o.unsubscribe()}}))}},{key:"apply",value:function(e){var t=this,n=this.viewState.get();Object(u.pipe)(n,y.g.map((function(n){var a=n.synonymsState,r=n.activeWord;if(!w.a.isReady(a))throw new S.b("Synonym should exist.");t._trackSynonymAccept(a.pname,Object(o.a)({},a.stats,w.c.getSynonymStats(e,a.synonyms.synonymsOrGroups)),w.c.getTimeToClose(a.readyAt));var i=t._synonymsModel.applySynonym({id:a.synonyms.id,dispose:O.e,range:r},e);Object(v.d)((function(){return t._notificationsManager.enqueue("alertUndo",{params:Object(v.e)([i])})}),t._trackUndoCloseButton,(function(){return t._ded.flushChanges(),t._ded.contentUpdated})).subscribe((function(e){return"commit"===e?i.commit():i.undo()}))}))),this.close("apply")}},{key:"dispose",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]}},{key:"_request",value:function(e){var t=this;return this.query({start:e.start,word:e.meta.value}).then(y.g.some).catch((function(e){return t._log.error("Error querying synonyms",e),y.g.none}))}},{key:"_canShowPopup",value:function(e){return w.a.isReady(e)||w.a.isEmpty(e)}},{key:"_deregisterRange",value:function(e){var t=this;Object(u.pipe)(this._synonymsModel.positionManager.findById(e),y.g.fold(O.e,(function(n){t._ded.flushChanges(),t._synonymsModel.positionManager.deregisterRange(e)})))}},{key:"_handleState",value:function(){var e=this;this._subs.push(this._inlineManager.doubleClickedWord.pipe(g.a.switchMap(this._emitCloseWhen),g.a.map(y.g.filter(this._isOnline)),g.b.chain((function(t){return e._ded.flushChanges(),e._withRegisteredWord(t,Object(l.flow)(e._listenQuery,g.a.switchMap(e._createSynonymsState),g.a.map(y.g.some)))}))).subscribe(b.b.toAtom(this.viewState),(function(t){return e._log.error("can not change syns state",t)})))}}]),e}(),j=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=/( |^)[a-z]{3,}\b/gim,r=[],i=0;(t=a.exec(e))&&i<n;i++){var o=t[0].replace(" ",""),s=a.lastIndex-o.length,c=s+o.length;r.push({start:s,word:o,end:c})}return r},_=function(e,t){return 0===t.length||0===e.length?e:(n=e[e.length-1].end,a=t.findIndex((function(e){return e.start>n})),r=a>=0?t.slice(0,a):t,e.filter((function(e){return r.every((function(t){return!(e.start<=t.end&&t.start<=e.end)}))})));var n,a,r}},"3ewz":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n("B8yO"),r=n("To5e"),i=(n("B4nd"),n("jVAy")),o=function(e){var t=e.activeWord,n=a.useContext(r.a.Context);return a.createElement("div",{className:i.emptyResultWrapper},n.synonyms.empty(a.createElement("span",{className:i.activeWord},t)))},s=function(e){var t=e.activeWord,n=a.useContext(r.a.Context);return a.createElement("div",{className:i.emptyResultWrapper},n.synonyms.symfony.empty(a.createElement("span",{className:i.activeWord},t)))}},"3fSS":function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return a}));var a,r=n("LzOy"),i=n("Wy1Y"),o=n("uKMM"),s=n("a5gI"),c=n("0Uv3"),l=n("pFSi"),u=n("DTwm"),d=n("tiWp"),p=n("+vYo"),m=n("5AnK"),f=n("rOJn"),h=n("B/Ki"),g=n("QRPm"),b=n("0Qjk"),v=n("lXop"),y=n("D2TP"),O=n("/taW"),S=n("xk6L"),C=n("La5+"),w=n("yIk2"),k=n("mgiE"),E=n("fKHc"),j=n("QPnx"),_=n("VzV2"),x=function(){function e(t){Object(i.a)(this,e),Object(s.a)(this,"_changes",void 0),Object(s.a)(this,"changes",void 0),this._changes=p.a.create(t),this.changes=this._changes.pipe(S.a.skip(1))}return Object(o.a)(e,[{key:"_updateValue",value:function(e,t){this._changes.modify((function(n){return Object.assign({},n,Object(s.a)({},e,t))}))}},{key:"template",get:function(){return this._changes.get().template},set:function(e){this._updateValue("template",e)}},{key:"outcomes",get:function(){return this._changes.get().outcomes},set:function(e){this._updateValue("outcomes",e)}},{key:"checkedPlagiarism",get:function(){return this._changes.view("checkedPlagiarism").get()},set:function(e){this._updateValue("checkedPlagiarism",e)}}]),e}(),A=function(){function e(t,n,a,r,o,c,l,g){var b=this;Object(i.a)(this,e),Object(s.a)(this,"id",void 0),Object(s.a)(this,"_doxInit",void 0),Object(s.a)(this,"_ded",void 0),Object(s.a)(this,"_getStats",void 0),Object(s.a)(this,"_doxApi",void 0),Object(s.a)(this,"_enableTrackingOnDownload",void 0),Object(s.a)(this,"rtfMode",void 0),Object(s.a)(this,"saved",void 0),Object(s.a)(this,"checkingState",void 0),Object(s.a)(this,"asyncChecksState",void 0),Object(s.a)(this,"counters",void 0),Object(s.a)(this,"title",void 0),Object(s.a)(this,"context",void 0),Object(s.a)(this,"defaultContext",void 0),Object(s.a)(this,"contextCompleteness",void 0),Object(s.a)(this,"score",void 0),Object(s.a)(this,"scoreStatus",void 0),Object(s.a)(this,"textInfo",void 0),Object(s.a)(this,"proofit",void 0),Object(s.a)(this,"recentDocumentStats",void 0),Object(s.a)(this,"documentLength",void 0),Object(s.a)(this,"extraSettings",void 0),Object(s.a)(this,"_subs",void 0),Object(s.a)(this,"originalFilename",void 0),Object(s.a)(this,"flush",void 0),Object(s.a)(this,"updateContext",void 0),Object(s.a)(this,"updateDefaultContext",void 0),Object(s.a)(this,"getCheckingForState",void 0),this.id=t,this._doxInit=n,this._ded=a,this._getStats=r,this._doxApi=o,this._enableTrackingOnDownload=c,this.rtfMode=l,this.saved=new S.a.Subject,this.checkingState=p.a.create("full"),this.asyncChecksState=p.a.create({plagiarism:"full",writing_expert_check:"full"}),this.counters=p.a.create(O.b.group.empty),this.defaultContext=p.a.create(k.g.none),this.score=p.a.create(k.g.none),this.scoreStatus=p.a.create(k.g.none),this.textInfo=p.a.create(k.g.none),this.recentDocumentStats=p.a.create(k.g.none),this.extraSettings=new x(Object(d.pipe)(this._doxInit.meta.settings.extraSettings,k.g.getOrElse((function(){return m.a.Extra.empty})))),this._subs=new C.a.Keeper,this.flush=function(){return b._ded.flushChanges(),b._doxInit.remoteDocument.flush()},this.updateContext=function(e){var t=!f.a.eq.equals(b.context.get(),e);return b.context.set(e),t},this.updateDefaultContext=function(e){var t=!Object(d.pipe)(Object(u.tuple)(b.defaultContext.get(),e),Object(u.tupled)(k.g.map2(f.a.Default.eq.equals)),k.g.getOrElse(u.constFalse));return b.defaultContext.set(e),t},this.getCheckingForState=function(e){return e!==y.a.SpecialId.Plagiarism?b.checkingState.view((function(e){return{kind:O.c.CheckingKind.Document,type:e}})):p.a.combine(b.checkingState,b.asyncChecksState.view("plagiarism"),(function(e,t){return"full"===e?{kind:O.c.CheckingKind.Document,type:e}:"idle"!==t?{kind:O.c.CheckingKind.Plagiarism,type:t}:{kind:O.c.CheckingKind.Document,type:e}}))},this.title=p.a.create(n.meta.title),this.proofit=g(this.title),this.context=p.a.create(Object(d.pipe)(n.meta.settings.context,k.g.getOrElse((function(){return f.a.unset}))));var E=n.initialDelta.length-1;this.documentLength=p.a.create({full:E,trimmed:h.a.isInsertString(n.initialDelta.delta)?h.a.getTrimmedInsertLength(n.initialDelta.delta):E}),this.contextCompleteness=this.context.view(O.a.calculateCompleteness),this._subs.push(a.contentUpdated.pipe(S.a.filter(v.b.isTextMaybeWithFormatting),S.a.debounceTime(200),S.a.map((function(){return a.getText()})),S.a.map((function(e){return{full:e.length-1,trimmed:e.trim().length}}))).subscribe(w.b.toAtom(this.documentLength)))}return Object(o.a)(e,[{key:"template",get:function(){return E.a.decodeTemplate(this.extraSettings.template)}},{key:"updateTemplate",value:function(e){this.extraSettings.template=E.a.serializeTemplate(e)}},{key:"isInitialRevision",get:function(){return this._doxInit.remoteDocument.isInitialRevision}},{key:"isDemoDocument",get:function(){return this._doxInit.meta.isDemoDocument}},{key:"documentText",get:function(){return this._ded.getText()}},{key:"downloadOriginal",value:function(e){var t=this;return Object(d.pipe)(this.flush,l.map((function(){return e})),l.chain(k.g.fold((function(){return function(){return t._doxApi.downloadOriginal(t.id,t._enableTrackingOnDownload)}}),(function(e){return function(){return t._doxApi.downloadInFormat(t.id,e,t._enableTrackingOnDownload)}}))),l.map(g.a.saveToFS))()}},{key:"downloadProofread",value:function(){var e=this;return Object(r.a)((function(){return Object(c.c)(this,(function(t){switch(t.label){case 0:return[4,e._doxApi.downloadProofread(e.id).then(g.a.saveToFS)];case 1:return t.sent(),[2]}}))}))()}},{key:"generateReport",value:function(e,t){var n=this;return Object(r.a)((function(){return Object(c.c)(this,(function(a){switch(a.label){case 0:return[4,n._doxApi.generateReport(n.id,e,t).then(g.a.saveToFS)];case 1:return a.sent(),[2]}}))}))()}},{key:"calculateStats",value:function(){var e=this;return k.l.toPromise(this._getStats).then((function(t){return e.recentDocumentStats.set(k.g.some(t)),t}))}},{key:"dispose",value:function(){this._subs.dispose()}}]),e}();!function(e){var t=function(){function e(){var t;Object(i.a)(this,e),Object(s.a)(this,"template",k.g.none),Object(s.a)(this,"id",void 0),Object(s.a)(this,"rtfMode",j.DocumentFeatures.FormattingMode.on),Object(s.a)(this,"originalFilename",void 0),Object(s.a)(this,"isInitialRevision",void 0),Object(s.a)(this,"score",p.a.create(k.g.none)),Object(s.a)(this,"scoreStatus",p.a.create(k.g.none)),Object(s.a)(this,"textInfo",p.a.create(k.g.none)),Object(s.a)(this,"title",p.a.create("")),Object(s.a)(this,"downloadOriginal",(t=Object(r.a)((function(e){return Object(c.c)(this,(function(e){return[2,Promise.resolve()]}))})),function(e){return t.apply(this,arguments)})),Object(s.a)(this,"downloadProofread",Object(r.a)((function(){return Object(c.c)(this,(function(e){return[2,Promise.resolve()]}))}))),Object(s.a)(this,"documentText",""),Object(s.a)(this,"documentLength",p.a.create({full:0,trimmed:0})),Object(s.a)(this,"counters",p.a.create(O.b.group.empty)),Object(s.a)(this,"saved",p.a.create(!0)),Object(s.a)(this,"checkingState",p.a.create("idle")),Object(s.a)(this,"asyncChecksState",p.a.create({plagiarism:"idle",writing_expert_check:"idle"})),Object(s.a)(this,"isDemoDocument",!1),Object(s.a)(this,"calculateStats",(function(){return Promise.resolve(b.a.DocumentStatistics.generateStats(210,1601))})),Object(s.a)(this,"flush",(function(){return Promise.resolve()})),Object(s.a)(this,"context",p.a.create(f.a.fromDomain("general"))),Object(s.a)(this,"defaultContext",p.a.create(k.g.some(f.a.defaultContextFallback))),Object(s.a)(this,"contextCompleteness",p.a.create(0)),Object(s.a)(this,"updateContext",(function(){return!0})),Object(s.a)(this,"updateDefaultContext",(function(){return!0})),Object(s.a)(this,"proofit",new _.a.Mock),Object(s.a)(this,"extraSettings",new x(m.a.Extra.empty)),Object(s.a)(this,"recentDocumentStats",p.a.create(k.g.none)),Object(s.a)(this,"generateReport",(function(){return Promise.resolve()}))}return Object(o.a)(e,[{key:"updateTemplate",value:function(e){}},{key:"getCheckingForState",value:function(){return p.a.create({type:"idle",kind:O.c.CheckingKind.Document})}}]),e}();e.Mock=t}(a||(a={}))},"3jKF":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n("a5gI"),r=n("8O/t"),i=n("X76w"),o=n("000W"),s=n("DTwm"),c=n("tiWp"),l=n("5KcF"),u=n("6ar+"),d=n("gg7t"),p=n("fr9z"),m=n("0kuo"),f=n("mgiE"),h=n("RRF2"),g=n("+3dY"),b=n("TKPA"),v=n("M3t0"),y=n("UK5+"),O=n("Hj2R"),S=n("phaH"),C=n("hzat"),w=n("Hby5");class k{get state(){return{current:this._currentState,scheduled:this._scheduledState}}get alert(){return this._alert()}scheduleApply(e){return this._throwWhenNotAllowedState(e),this._throwWhenInFinaleState(e),Object(m.f)(e!==w.c.initial,`Cannot schedule change ${this.id} from ${this._currentState.visualState} to initial state`),this._currentState.visualState!==w.c.initial||e!==w.c.disposed&&!w.c.isApplied(e)?this._scheduledState&&this._scheduledState.forceUpdate?this._scheduledState=w.b.updateVisualState(this._scheduledState,e):this._currentState.visualState!==e||this._currentState.updateRanges?this._scheduledState=w.b.updateVisualState(this._currentState,e):this._scheduledState=null:(this._scheduledState=null,this._currentState=w.b.from(w.c.disposed),this._dispose()),this}scheduleUpdate(){this._throwWhenInFinaleState(),this._scheduledState=w.b.updateRanges(this._scheduledState||this._currentState,!0)}scheduleForceUpdate(){this._throwWhenInFinaleState(),this._scheduledState=w.b.forceUpdate(this._scheduledState||this._currentState,!0)}apply(){if(!w.a.isPending(this))return;this._throwWhenInFinaleState();const e=this._getTransition();Object(c.pipe)(this.change(),f.g.filter(e=>e.rawMark.length>0),f.g.map(t=>{this._handleBasicEvent(t.rawMark),t.commit(),this._onTransitionEnd(e,this)}))}applyWith(e){const t=[this,...e];this._handleMultipleHighlights(t,e=>e.change())}markByIndex(e){try{return this._throwWhenInFinaleState(),this._shouldInitMark&&(this._shouldInitMark=!1,this.apply()),this._markbyIndex(e)}catch(e){return f.g.none}}get enclosingMark(){const e=Array.from(this._marksMap.values()).findIndex(Object(s.flow)(f.g.chain(e=>f.g.fromEither(e.range())),f.g.filter(y.b.isEnclosingView),f.g.isSome));return e>-1?this.markByIndex(e):f.g.none}get mark(){return this.markByIndex(0)}_iterateOverMarkAlerts(e,t){e.forEach(({change:e,ma:n})=>{e.rawMark.forEach(e=>{"create"===e.action?n._setMarkAndCheckFinaleState(e.id,Object(c.pipe)(t.created.get(e.id)||f.b.left(new Error("Cannot get unknown mark")),f.g.fromEither)):"remove"===e.action&&n._removeMark(e.id)}),e.commit(),n._disposeIfEmpty()})}_handleMultipleHighlights(e,t){const n=e.map(e=>[e,t(e)]).filter(([e,t])=>Object(c.pipe)(t,f.g.filter(t=>0!==t.rawMark.length||(E("markAlert").warn("rawAction must have rawMark array",{rawAction:t.action,state:Object(i.a)(Object(r.a)({},e.toJSON()),{alert:void 0})}),!1)),f.g.isSome)).map(([e,t])=>({ma:e,change:f.g.unsafeGet(t)}));if(0===n.length)return;const a=h.a.flatMap(n.map(e=>e.change.rawMark)),o=this._changeMarksInDEd(a);this._iterateOverMarkAlerts(n,o)}get _mark(){return this._markbyIndex(0)}_markbyIndex(e){return this._marksMap.size>e?0===e?this._marksMap.values().next().value:Array.from(this._marksMap.values())[e]:f.g.none}_setMarkAndCheckFinaleState(e,t){this._throwWhenInFinaleState(),this._setMark(e,t)}_setMark(e,t){this._shouldInitMark=!1,this._marksMap.set(e,t)}_removeMark(e){this._marksMap.delete(e)}change(){Object(m.f)(w.a.isPending(this),"Next state should be scheduled to change it",()=>JSON.stringify({currentState:this._currentState,aid:this.id}));const e=this._commitTransition();return e.from.visualState!==e.to.visualState||e.to.forceUpdate||e.to.updateRanges?f.g.some(this._getRawActionForApply(e)):f.g.none}_handleBasicEvent(e){const t=this._changeMarksInDEd(e);e.forEach(e=>{if(e.action===d.a.Change.ActionType.remove)this._removeMark(e.id);else{const n=Object(c.pipe)(f.g.fromNullable(this._marksMap.get(e.id)),f.g.chain(l.a),f.g.alt(()=>Object(c.pipe)((e.action===d.a.Change.ActionType.create?t.created.get(e.id):t.updated.get(e.id))||f.b.left(new Error("Cannot get unknown mark")),f.g.fromEither)));this._setMark(e.id,n)}}),this._disposeIfEmpty()}_getTransition(){return Object(m.f)(w.a.isPending(this),"Next state should be scheduled to change it",()=>JSON.stringify({currentState:this._currentState,aid:this.id})),{from:this._currentState,to:this._scheduledState}}_commitTransition(){const e=this._getTransition();return this._currentState=Object(i.a)(Object(r.a)({},e.to),{updateRanges:!1,forceUpdate:!1}),this._scheduledState=null,e}_getRawActionForApply(e){switch(e.from.visualState){case w.c.initial:return Object(c.pipe)(this._tryToUpdateRangesInAlert(e),f.g.map(e=>e.commit())),{action:"create",commit:u.a,rawMark:this._getHighlightRanges(t=>this._create(()=>t,e)(t.meta.id))};default:switch(e.to.visualState){case w.c.disposed:const t=w.c.isApplied(e.from.visualState)||O.a.State.isRemoved(this.alert.state)&&C.a.isApplicableAlert(this.alert)&&this._getAppliedRanges(s.constVoid).length>0?this._getAppliedRanges((e,t)=>({id:t().meta.id,range:t})):this._getHighlightRanges(e=>({id:e.meta.id,range:()=>e}));return{action:"remove",commit:Object(c.pipe)(this._tryToUpdateRangesInAlert(e),f.g.map(({commit:e})=>e),f.g.getOrElse(()=>s.constVoid)),rawMark:t.map(e=>this._remove(e.range)(e.id))};case w.c.applied:const n=this._getHighlightRanges(e=>this._remove(()=>e)(e.meta.id));return{action:"replace",commit:Object(c.pipe)(this._tryToUpdateRangesInAlert(e),f.g.map(({commit:e})=>e),f.g.getOrElse(()=>s.constVoid)),rawMark:[...n,...this._getAppliedRanges((t,n)=>this._create(n,e)(n().meta.id))]};default:const a=()=>O.a.State.isBulkApplied(this._alert("_getRawActionForApply").state)?this._getAppliedRanges((e,t)=>t()):this._getHighlightRanges(l.a);return Object(c.pipe)(this._tryToUpdateRangesInAlert(e),f.g.map(({commit:t,ranges:n})=>this._getReplaceAction(e,a(),n.removed,t)),f.g.getOrElse(()=>({action:"update",commit:u.a,rawMark:a().map(t=>this._update(()=>t,e)(t.meta.id))})))}}}_getReplaceAction(e,t,n,a){return{action:"replace",commit:a,rawMark:[...n.map(e=>this._remove(()=>e)(e.meta.id)),...t.map(t=>this._create(()=>t,e)(t.meta.id))]}}_getAppliedRanges(e){return Object(c.pipe)(this._alertRangeService.getAppliedRanges(this.id),f.b.fold(e=>(E("markAlert").error("cannot get applied ranges",{error:e.message,alert:C.a.snapshot(this._alert("_getAppliedRanges"))}),[]),o.Ab(e)))}_getHighlightRanges(e){return Object(c.pipe)(this._alertRangeService.getHighlightRanges(this.id),f.b.fold(t=>(E("markAlert").warn("cannot get highlight ranges via range service",{error:t,alert:this._alert("_getHighlightRanges")}),Object(c.pipe)(this._alert("_getHighlightRanges_Fallback").getHighlightRanges(),o.zb(e))),o.zb(e)))}_throwWhenNotAllowedState(e){const t=this._alert("_throwWhenNotAllowedState");Object(m.f)(!!C.a.isApplicableAlert(t)||(!Boolean(e)||O.a.State.isBulkApplied(t.state)||!w.c.isApplied(e)),"Applied state isn't allowed for "+this.id)}_throwWhenInFinaleState(e){Object(m.f)(Boolean(e)&&w.a.isOneOf(w.c.applied)(this)?e===w.c.disposed||O.a.State.isBulkApplied(this._alert("_throwWhenInFinaleState").state):w.a.notAnyOf(w.c.disposed)(this),`'${this._currentState.visualState}' MarkAlert '${this.id}' cannot be changed${Boolean(e)?` to '${e}' `:""}`)}toJSON(){return{current:this._currentState,scheduled:this._scheduledState,mark:{id:Object(c.pipe)(this._mark,f.g.map(e=>e.id),f.g.toUndefined),range:Object(c.pipe)(this._mark,f.g.map(e=>e.range),f.g.toUndefined)},alert:this._alert("toJSON")}}equals(e){return w.a.eq.equals(this,e)}hashCode(){return Object(S.b)(this.id)}constructor(e,t,n,r,i,o,u,d){Object(a.a)(this,"_alert",void 0),Object(a.a)(this,"_alertsService",void 0),Object(a.a)(this,"_alertRangeService",void 0),Object(a.a)(this,"_changeMarksInDEd",void 0),Object(a.a)(this,"_create",void 0),Object(a.a)(this,"_update",void 0),Object(a.a)(this,"_remove",void 0),Object(a.a)(this,"_onTransitionEnd",void 0),Object(a.a)(this,"_currentState",void 0),Object(a.a)(this,"_scheduledState",void 0),Object(a.a)(this,"id",void 0),Object(a.a)(this,"_marksMap",void 0),Object(a.a)(this,"_alertRef",void 0),Object(a.a)(this,"_shouldInitMark",void 0),Object(a.a)(this,"_tryToUpdateRangesInAlert",void 0),Object(a.a)(this,"_dispose",void 0),Object(a.a)(this,"_disposeIfEmpty",void 0),this._alert=e,this._alertsService=t,this._alertRangeService=n,this._changeMarksInDEd=r,this._create=i,this._update=o,this._remove=u,this._onTransitionEnd=d,this._currentState=w.b.from(w.c.initial),this._scheduledState=w.b.from(w.c.visible),this.id=this._alert("id").id,this._marksMap=new Map,this._alertRef=this._alertsService.takeReference(this._alert("_alertRef"),"mark"),this._shouldInitMark=!0,this._tryToUpdateRangesInAlert=e=>{if(!e.to.updateRanges||!Object(c.pipe)(this._alertRangeService.hasNewRangesForUpdate(this.id),f.b.fold(s.constFalse,l.a)))return f.g.none;const t=Object(c.pipe)(this._alertRangeService.applyPendingRangesUpdate(this.id),f.b.mapLeft(e=>E("markAlert").error("cannot apply pending ranges",e)),f.g.fromEither,f.g.chain(l.a),f.g.filter(({addedHighlightedRanges:e,removedHighlightedRanges:t})=>e.length>0||t.length>0));return Object(c.pipe)(t,f.g.map(e=>({commit:()=>e.removedHighlightedRanges[1](),ranges:{added:e.addedHighlightedRanges,removed:e.removedHighlightedRanges[0]}})))},this._dispose=()=>{this._marksMap.clear(),f.b.either.map(this._alertRef,e=>e.dispose())},this._disposeIfEmpty=()=>{0===this._marksMap.size&&this._dispose()},f.b.either.mapLeft(this._alertRef,e=>E("markAlert").warn("can not take alertRef",e))}}!function(e){e.compareTo=e=>{const t=Object(g.a)(p.b.distanceFrom)(e);return(e,n)=>Object(b.d)(Math.min(...e.alert.getHighlightRanges().map(t)),Math.min(...n.alert.getHighlightRanges().map(t)))}}(k||(k={}));const E=Object(b.l)(v.d.Logging.getLogger)},"3n8C":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return p}));var a,r=n("a5gI"),i=n("8O/t"),o=n("X76w"),s=n("2zNz");!function(e){var t=function(e){return"@media ".concat(e)},n=(e.screenXS=t("only screen"),e.screenS=t("only screen and (min-width: 600px)"),e.screenM=t("only screen and (min-width: 800px)"),e.screenL=t("only screen and (min-width: 1270px)"),e.screenXL=t("only screen and (min-width: 1360px)"),e.screenHD=t("only screen and (min-width: 1430px)"),e.threeColumnsMax=t("only screen and (max-width: 1100px)"),e.fourColumnsMax=t("only screen and (max-width: 1250px)"),e.xss=t("(max-width: 700px)"),e.xssUpper=t("(max-width: 780px)"),e.xsLower=t("(max-width: 960px)"),e.xs=t("(max-width: 1024px)"),e.tiny=t("(max-width: 1279px)"),e.small=t("(max-width: 1359px)"),e.normal=t("(min-width: 1360px) and (max-width: 1599px)"),e.big=t("(min-width: 1600px)"),e.bigUpper=t("(min-width: 1920px)"),e.retina=t("(min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)"),e.smallHeight=t("(max-height: 760px)"),e.xssHeight=t("(max-height: 520px)"),e.print=t("print"),e.collapsedSidebarQuery="((min-width: 1600px) and (max-height: 750px)), ((min-width: 1360px) and (max-width: 1599px) and (max-height: 680px)), ((max-width: 1359px) and (max-height: 590px))"),a=e.compactSidebarQuery="((min-width: 1600px) and (max-height: 900px)), ((min-width: 1360px) and (max-width: 1599px) and (max-height: 800px)), ((max-width: 1359px) and (max-height: 710px))";e.compactSidebar=t(a),e.collapsedSidebar=t(n),e.normalLower=t("(min-width: 1360px) and (max-width: 1471px)"),e.bigHigher=t("(min-width: 1600px) and (max-width: 1647px)"),e.maxWidth=function(e){return t("(max-width: ".concat(e,"px)"))},e.minWidth=function(e){return t("(min-width: ".concat(e,"px)"))},e.maxHeight=function(e){return t("(max-height: ".concat(e,"px)"))},e.minHeight=function(e){return t("(min-height: ".concat(e,"px)"))}}(a||(a={}));var c=function(){return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"png",n="./img/".concat(e,".").concat(t),s={backgroundImage:"url(".concat(n,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat"};if("png"!==t)return s;var c="./img/".concat(e,"@2x.").concat(t);return Object(o.a)(Object(i.a)({},s),{$nest:Object(r.a)({},a.retina,{backgroundImage:"url(".concat(c,")")})})},u={boxShadow:"0 0 0 1px ".concat(s.D.Color.White,", 0 0 0 3px ").concat(s.D.Color.Blue40),zIndex:1,outline:"none"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{$nest:{"&:focus":Object(i.a)({},u,e),"&:focus:not(:focus-visible)":{boxShadow:"none",$unique:!0},"&:focus-visible":Object(o.a)(Object(i.a)({},u,e),{$unique:!0})}}},p={position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0,0,0,0)",whiteSpace:"nowrap",border:0}},"4EEI":function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){var t;!function(e){!function(e){e.create=function(e){return e.toString()}}(e.Id||(e.Id={}))}(e.RawSduiItem||(e.RawSduiItem={})),function(e){e.Add="sdui_add",e.Remove="sdui_remove",e.Update="sdui_update"}(t=e.SduiEventKind||(e.SduiEventKind={})),e.isSduiEvent=function(e){return e.kind===t.Add||e.kind===t.Remove||e.kind===t.Update}}(a||(a={}))},"4JHS":function(e,t,n){e.exports=n.p+"files/28aa0d261b04149285b4ec9850b7ae97/inter-medium.woff2"},"4MM/":function(e,t,n){"use strict";n.r(t);var a=n("nWMp"),r=n("x4IX"),i=n.n(r),o=n("ygWn"),s=n.n(o),c=n("uzqA"),l=n.n(c);a.a.fontFace({fontFamily:"Grammarly Product BETA",fontStyle:"normal",fontWeight:700,src:`url('${i.a}') format('woff2')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Grammarly Product BETA",fontStyle:"normal",fontWeight:400,src:`url('${l.a}') format('woff2')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Grammarly Product BETA",fontStyle:"normal",fontWeight:500,src:`url('${s.a}') format('woff2')`,fontDisplay:"swap"})},"4N81":function(e,t,n){e.exports=n.p+"files/de9b0866cf73188ae7ca0292a439d6a4/inter-mediumitalic.woff"},"4UH3":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a,r,i=n("a5gI"),o=n("8O/t"),s=n("X76w"),c=n("hcme"),l=n("DTwm"),u=n("tiWp"),d=n("+vYo"),p=n("0Qjk"),m=n("uxqH"),f=n("xk6L"),h=n("yIk2"),g=n("0kuo"),b=n("mgiE"),v=n("RRF2");!function(e){!function(e){e.Like="Like",e.Dislike="Dislike"}(e.FeedbackType||(e.FeedbackType={}))}(a||(a={})),function(e){var t=function(e){switch(e){case a.FeedbackType.Like:return p.a.EmotionFeedbackType.EMOTION_LIKE;case a.FeedbackType.Dislike:return p.a.EmotionFeedbackType.EMOTION_DISLIKE;default:return Object(g.c)(e)}},n=function(e){return Object(u.pipe)(m.b.fromNumber(e.confidence),b.b.map((function(t){return{emoji:e.emoji,name:e.name,confidence:t,feedback:b.g.none}})))},r=function(e){return e.reduce((function(e,t){return e[t.name]=t,e}),{})};e.toCapiFeedback=t,e.create=function(e,a,g){var y=d.a.create({}),O=[e.pipe(f.a.filter(p.a.CAPIEvent.is("emotions")),f.a.map((function(e){return Object(u.pipe)((t=e.emotions,a=Object(c.a)(v.a.partition(t.map(n),b.b.isRight),2),i=a[0],o=a[1],i.length===t.length?b.b.right(i.map(b.b.unsafeGet)):b.b.left(Object(u.pipe)(o.map(b.b.swap).map(b.b.unsafeGet).join(";")))),b.b.map(r),b.b.fold((function(e){return g.error("Failed to parse emotions from capi",{rejectionReason:e}),{}}),l.identity));var t,a,i,o}))).subscribe(h.b.toAtom(y))];return{emotions:y.view((function(e){return Object.values(e).sort((function(e,t){return m.b.ord.compare(t.confidence,e.confidence)}))})),sendEmotionFeedback:function(e,n){return Object(u.pipe)(function(e,t){return void 0===e[t]?b.b.left(new Error("Tried to send feedback for non-existing emotion")):Object(u.pipe)(e[t].feedback,b.g.fold((function(){return b.b.right(void 0)}),(function(){return b.b.left(new Error("Tried to send feedback for an emotion which already has one"))})))}(y.get(),e),b.b.map((function(){a.sendFeedback({emotionName:e,kind:t(n)})(),y.modify((function(t){return Object(s.a)(Object(o.a)({},t),Object(i.a)({},e,Object(s.a)(Object(o.a)({},t[e]),{feedback:b.g.some(n)})))}))})))},dispose:function(){return O.forEach((function(e){return e.unsubscribe()}))}}}}(r||(r={}))},"4Yir":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n("2swC"),r=n("nWMp"),i=n("NbNH");const o={$nest:{"&:before":{position:"absolute",width:r.a.px(10),height:r.a.px(10),borderRadius:r.a.percent(50),content:"''",transform:"scale(.5)"}}},s={opacity:1,transition:"opacity .3s"},c={color:a.a.CoreNeutral50,textTransform:"uppercase",letterSpacing:a.h.SubheadingLetterSpacing,fontSize:r.a.rem(a.h.SubheadingSize),lineHeight:r.a.rem(a.h.SubheadingLineHeight),$nest:{"&:not(:last-child)":{marginRight:r.a.rem(.25)}}},l={position:"relative",display:"inline-block",$nest:{"&:before":{top:0,bottom:r.a.px(2),left:r.a.rem(-1.1),margin:"auto 0"}}},u={$nest:{"&:before":{top:0,bottom:0,left:r.a.rem(-1.1),margin:r.a.rem(.25)+" 0 auto 0"}}},d={margin:`0 ${r.a.rem(.4)} 0 ${r.a.rem(.2)}`,width:r.a.rem(.85),height:r.a.rem(.85),objectFit:"contain"},p={position:"absolute",top:0,bottom:0,left:r.a.rem(-1),margin:"auto",transform:"translateX(-50%)"},m={minWidth:"initial",minHeight:"initial",padding:`${r.a.rem(.3)} ${r.a.rem(.25)}`,cursor:"pointer",borderRadius:r.a.percent(100),marginLeft:r.a.rem(.5),$nest:{"&:hover":{background:a.a.CoreNeutral10}}},f={display:"flex",alignItems:"center",padding:"0 "+r.a.rem(.25),borderRadius:r.a.rem(i.t),cursor:"pointer",background:a.a.CoreYellow20,color:a.a.CoreYellow80,marginLeft:r.a.rem(.5),$nest:{"&:hover":{background:a.a.CoreYellow10}}},h={minWidth:"initial",minHeight:"initial",fill:a.a.CoreYellow80,marginLeft:r.a.rem(.3)},g={display:"flex",alignItems:"flex-start",top:r.a.rem(.125),minWidth:"initial",minHeight:"initial",background:a.a.CoreNeutral0},b={color:a.a.CoreNeutral90,textTransform:"none",letterSpacing:a.h.SmallLetterSpacing,fontWeight:a.h.SmallWeight,fontSize:r.a.rem(a.h.SmallSize),lineHeight:r.a.rem(a.h.SmallLineHeight),$nest:{"&:first-letter":{textTransform:"uppercase"}}},v={color:a.a.CoreNeutral50,textTransform:"none"},y={width:r.a.rem(1),height:r.a.rem(1)},O={display:"inline-flex",padding:"0 "+r.a.rem(.25),borderRadius:r.a.rem(i.t),background:"linear-gradient(269.73deg, rgba(215, 248, 240, .8) .02%, rgba(202, 235, 250, .8) 99.98%)",textTransform:"uppercase"},S={display:"inline-flex",marginLeft:r.a.rem(.1),minWidth:0,minHeight:0},C=r.a.stylesheet({lessIcon:[{transform:"rotate(180deg)"}],more:[s],moreHidden:[s,{position:"absolute",overflow:"hidden",height:0,opacity:0,transition:"none"}],commonLabel:[c],labelContainer:[{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"start"}],lens:[c,l],lensMinimal:[u],voxLogo:[d],cardLogo:[p],dualItemLabel:[{display:"inline-flex",alignItems:"center"}],premiumPersistentTooltipIcon:[m],newPremiumLabel:[f],newPremiumLabelIcon:[h],takeawayIcon:[g],minimalTitle:[b],voxTitle:[{display:"flex",alignItems:"center"}],toneTitle:[v],toneLogo:[p,y],fluencyLabel:[c,O],fluencyInfo:[S],dot:[o],ethicalAILabel:[{textTransform:"none"}]})},"4kcV":function(e,t,n){e.exports=n.p+"files/da83100fc42a3c359ae8e3038a4a5e90/inter-regular.woff"},"4nE6":function(e,t,n){e.exports=n.p+"files/c85c7276ae2b89bc5aadf1b1cb256291/inter-mediumitalic.woff2"},"4qtA":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("a5gI"),i=n("mgiE"),o=n("TKPA"),s=n("xk6L"),c=n("lXTq");!function(e){let t,n;!function(e){let t;!function(e){e[e.ERROR=0]="ERROR",e[e.EMPTY=1]="EMPTY",e[e.LOADING=2]="LOADING",e[e.SHORT_CONTENT=3]="SHORT_CONTENT",e[e.READY=4]="READY"}(t=e.Type||(e.Type={}))}(t=e.State||(e.State={})),function(e){e.Mock=class{constructor(e={type:t.Type.EMPTY},n=i.g.some(new c.a.ViewModel.Mock)){Object(r.a)(this,"statisticsState",void 0),Object(r.a)(this,"reportViewModel",void 0),Object(r.a)(this,"state",void 0),Object(r.a)(this,"onModalClose",void 0),this.statisticsState=e,this.reportViewModel=n,this.state=s.a.of(this.statisticsState),this.onModalClose=o.e}}}(n=e.ViewModel||(e.ViewModel={}))}(a||(a={}))},"4wwO":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("DTwm"),s=n("tiWp"),c=n("mgiE"),l=n("0kuo"),u=n("Hj2R"),d=n("hzat"),p=n("SOPW"),m=n("8XoQ"),f=n("/1wo"),h=n("eAYH"),g=n("mDV6");!function(e){e.Kind="AlertsBundle";e.getId=function(e){return e.id},e.bundleTitle=function(e){return e.bundleInfo.title};e.ord=Object(s.pipe)(c.h.ordNumber,c.h.contramap(Object(o.flow)(e=>e.activeAlert.bundleInfo,c.g.fold(()=>Number.MAX_SAFE_INTEGER,e=>e.rank))));var t=e.isExtendableWithAlerts=e=>{switch(e.visualState.transition.type){case"added":case"expanded":case"focused":case"hidden":case"rendered":return!0;case"feedback_form":case"removed":case"presuccess":case"success":case"muted":return!1;default:return Object(l.c)(e.visualState.transition.type)}},n=(e.getAlertOutcomeBundle=e=>Object(s.pipe)(e.bundleInfo,c.g.fold(()=>({id:"other",title:"Other"}),e=>({id:e.title.toLowerCase().split(" ").join("_"),title:e.title}))),e.eq={equals:(e,t)=>h.b.eq.equals(e,t)&&c.g.getEq(c.c.eqString).equals(e.lensId,t.lensId)});let b;!function(e){const t=e=>(t,i)=>Object(r.a)({id:t,kind:a.Kind,bundleInfo:e,activeAlert:h.b.getAlertByIndex(i.activeAlertIndex,i.alerts),transform:Object(s.pipe)(i.cachedTransform,c.g.map(e=>e.labels)),equals(e){return n.equals(this,e)},hashCode(){return h.b.hashCode(this)}},i);e.create=function(e,n,r,i){const o=j.getAnimatable(e).changeVisualState,p=e=>f.a.getCreate(t(e),n,o,i,r),m=v(r);return{create:e=>(t,n,a,i,o,s,l)=>p(o)(t,n,a,i,f.a.getApplicableCardMeta(n[a],s,r),e,c.g.some(s),l),createAdded:e=>(t,n,a,i)=>{const o=g.a.VisualState.initial({type:"added",clockwise:!0},!0);return p(n)(t,a,0,0,f.a.getApplicableCardMeta(a[0],o,r),e,c.g.some(o),i)},createFocused:e=>(t,n,a,i,o)=>{const s=g.a.VisualState.initial({type:"focused",clockwise:!0},!0);return p(n)(t,a,i,0,f.a.getApplicableCardMeta(a[i],s,r),e,c.g.some(s),o)},createRendered:e=>(t,n,a,i)=>{const o=g.a.VisualState.initial({type:"rendered",clockwise:!0},!1);return p(n)(t,a,0,0,f.a.getApplicableCardMeta(a[0],o,r),e,c.g.some(o),i)},updateWith:(t,n)=>r=>{Object(l.f)(t.every(e=>u.a.isRegistered(e)),"cannot add non registered alerts");const i=new Set(t.map(e=>e.id)),o=new Set(r.removedAlertsIds);i.forEach(e=>{o.delete(e)});const c=r.alerts.filter(e=>!i.has(e.id)).concat(t.map(d.a.fromModel)).sort(n.compare);return Object(s.pipe)(r,m(c,o,h.b.getIndexByAlert(r.activeAlert.id,c)),a.getCardHydrator(e))}}}}(b=e.ItemFactory||(e.ItemFactory={}));const v=e=>(t,n,a)=>o=>{const s=h.b.getAlertByIndex(a,t),c=d.a.isApplicableAlert(s)?f.a.getApplicableCardMeta(s,o.visualState,e):m.a.empty(void 0);return Object(i.a)(Object(r.a)({},o),{alerts:t,activeAlert:s,meta:c,removedAlertsIds:n,activeAlertIndex:a})};var y=e.changePosition=e=>t=>Object(i.a)(Object(r.a)({},t),{positionState:e}),O=e.updateVisualState=e=>t=>Object(i.a)(Object(r.a)({},t),{visualState:e}),S=e.getCardHydrator=e=>f.a.getCardHydrator(e=>e.cachedTransform,p.a.canHydrate,w,e),C=e.changeUserInput=e=>t=>Object(i.a)(Object(r.a)({},t),{userInput:e});const w=e=>t=>Object(i.a)(Object(r.a)({},t),{cachedTransform:e,transform:Object(s.pipe)(e,c.g.map(e=>e.labels))}),k=e=>t=>Object(i.a)(Object(r.a)({},t),{meta:e});e.unselect=f.a.getUnselectItem(O,y);var E=e.getSelectByAlert=(e,t,n)=>f.a.getSelectByAlert(v(t),C,O,y,k,n,e,t);e.getSelect=(e,t,n)=>f.a.getSelectFirstAlert(E(e,t,n));let j;!function(e){function n(e){const t=f.a.getChangeVisualState(O,S(e));return{completeTransition:e=>n=>t(g.a.VisualState.complete(n.visualState,e))(n),transitionTo:f.a.getTransitionTo(t,y),changeVisualState:t}}e.getAnimatable=n;var a=e.getRemove=(e,t)=>f.a.getRemove(v(e),n(t).transitionTo);e.getUpdatableWithAlertsCapability=(e,a)=>r=>Object(o.flow)(e.updateWith(r,u.d.ord),e=>t(e)?e:n(a).transitionTo({type:"added",clockwise:!0})(e)),e.getRemoveAlertsCapability=(e,t,n,r)=>(i,l)=>{const u=E(e,t,S(n)),d=f.a.getSelectNextAlert(f.a.getCardSelections(e),u);return e=>{const u=new Set(i.map(e=>e.id));if(!h.b.hasAnyOfAlerts(u)(e))return e;const p=a(t,n)(i,Object(s.pipe)(l,c.g.map(t=>r.compare(e,t)>0),c.g.getOrElse(o.constTrue)))(e);return Object(s.pipe)(l,c.g.exists(t=>t.id===e.id))?d(r)(p):p}}}(j=e.Capabilities||(e.Capabilities={}))}(a||(a={}))},"4yB1":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("Wy1Y"),r=n("uKMM"),i=n("a5gI"),o=n("D2TP"),s=n("La5+"),c=n("xk6L"),l=n("d3CI"),u=n("0kuo"),d=n("RRF2"),p=n("M3t0"),m=n("MKsy"),f=p.d.Logging.getLogger("pageTelemetry"),h=function(){function e(t,n,r){Object(a.a)(this,e),Object(i.a)(this,"_state",void 0),Object(i.a)(this,"_isSidebarOpened",void 0),Object(i.a)(this,"_telemetry",void 0),Object(i.a)(this,"_subs",void 0),this._state=t,this._isSidebarOpened=n,this._telemetry=r,this._subs=new s.a.Keeper,this._subs.push(c.a.mergeStatic(this._trackLensChange(),this._trackAdvancedLensOpen(),this.trackSidebarState(this._isSidebarOpened)).pipe(c.a.catchError((function(e){return f.warn("Page telemetry error",e),c.a.EMPTY}))).subscribe())}return Object(r.a)(e,[{key:"dispose",value:function(){this._subs.dispose()}},{key:"trackSidebarState",value:function(e){var t=this;return e.pipe(c.a.skip(1),c.a.switchMap((function(e){return e?c.a.from(t._telemetry.gnarSpec.assistantSidebarShow(t._telemetry.pageId)):c.a.from(t._telemetry.gnarSpec.assistantSidebarClose(t._telemetry.pageId))})))}},{key:"_trackLensChange",value:function(){var e=this;return this._state.pipe(c.a.skip(1),c.a.filter((function(e){if(m.a.isInGlobalSuccess(e))return!1;switch(e.currentLens.type){case l.i.lensview:case l.i.advanced:case l.i.plagiarism:case l.i.draftAI:case l.i.cheetah:return!0;case l.i.closed:return!1;default:return Object(u.c)(e.currentLens)}})),c.a.map((function(e){return d.f.camelize(e.currentLens.meta.title)})),c.a.distinctUntilChanged(),c.a.switchMap((function(t){return c.a.from(e._telemetry.gnarSpec.lensSidebarShow(t,e._telemetry.pageId))})))}},{key:"_trackAdvancedLensOpen",value:function(){var e=this;return this._state.pipe(c.a.distinctUntilChanged((function(e,t){return e.currentLens.id===t.currentLens.id})),c.a.filter(l.e.is(o.a.SpecialId.Premium)),c.a.switchMap((function(t){return c.a.from(e._telemetry.gnarSpec.advancedIssuesSidebarShow(t.currentLens.meta.count,e._telemetry.pageId))})))}}]),e}()},"55o/":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a,r=n("Wy1Y"),i=n("a5gI"),o=n("+vYo"),s=n("xk6L"),c=n("TKPA"),l=function e(t,n){var a=this;Object(r.a)(this,e),Object(i.a)(this,"_notificationsManager",void 0),Object(i.a)(this,"_sendFeedback",void 0),Object(i.a)(this,"currentText",void 0),Object(i.a)(this,"modalShown",void 0),Object(i.a)(this,"sendFeedback",void 0),this._notificationsManager=t,this._sendFeedback=n,this.currentText=o.a.create({brief:"",detailed:""}),this.modalShown=new s.a.Subject,this.sendFeedback=function(){return a.currentText.pipe(s.a.first(),s.a.switchMap(a._sendFeedback),s.a.switchMap((function(){return a._notificationsManager.enqueue("feedbackSend").pipe(s.a.filter((function(e){return"shown"===e})),s.a.tap((function(){return a.currentText.set({brief:"",detailed:""})})),s.a.takeUntil(a.modalShown))})),s.a.catchError((function(){return a._notificationsManager.enqueue("error")}))).toPromise()}};!function(e){e.Mock=function e(){Object(r.a)(this,e),Object(i.a)(this,"modalShown",new s.a.Subject),Object(i.a)(this,"currentText",o.a.create({brief:"",detailed:""})),Object(i.a)(this,"sendFeedback",(function(){return new Promise(c.e)}))}}(a||(a={}))},"5Dsw":function(e,t,n){e.exports=n.p+"files/d5e790be1041e248afed3159b60a25a8/inter-bolditalic.woff2"},"5KSR":function(e){e.exports=JSON.parse('{"downloadPdfReportButton":"_16595d1f-performance-downloadPdfReportButton","preparingForReportLabel":"_5f117457-performance-preparingForReportLabel","downloadPdfSpinner":"_6fe9ef4b-performance-downloadPdfSpinner","loaderContainer":"_31b5a8f7-performance-loaderContainer","downloadIcon":"_6fac0ad7-performance-downloadIcon","performanceText":"_58973c79-performance-performanceText"}')},"5OHN":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("xk6L"),r=n("imRW"),i=n("M3t0"),o=n("txgs");function s(e,t){var n=t.has(o.b.Flag.useSetDataOnCopy);return function(t,o){return a.a.from(r.a.copy(t,n)).pipe(a.a.switchMap((function(){return e.enqueue("copySuccess",{copyType:o})})),a.a.catchError((function(t){return r.a.copyApiAvailable.next(!1),i.d.Logging.getLogger("clipboard").warn("Copy to clipboard failed",t),e.enqueue("copyToClipboardFailed")}))).toPromise()}}},"5QQ2":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n("B8yO"),r=n("OwvP"),i=n("+vYo"),o=n("Hj2R"),s=n("LzNK"),c=n("s7eP"),l=n("NDcT"),u=n("fC5a"),d=n("hSa3"),p=n("sX1a"),m=n("0kuo"),f=n("xAs4"),h=(n("dzVI"),n("Wn5C")),g=(n("/cuZ"),n("/jTu")),b=function(e){var t=e.switchToCritical,n=e.switchToAdvanced,i=e.counters,o=e.features,c=a.useContext(l.a.Context),b=a.useContext(s.a.Context),v=b.pageId,y=b.gnarSpec,O=o.denali.alertGroupNames===f.a.CRITICAL_ADVANCED?{critical:c.sidebar.critical,advanced:c.sidebar.advanced,criticalLabel:c.sidebar.criticalLabel,advancedLabel:c.sidebar.advancedLabel}:{critical:c.sidebar.free,advanced:c.sidebar.premium,criticalLabel:c.sidebar.freeLabel,advancedLabel:c.sidebar.premiumLabel},S=i.view(function(e){switch(e){case f.a.CRITICAL_ADVANCED:return"critical";case f.a.FREE_PREMIUM:return"free";default:return Object(m.c)(e)}}(o.denali.alertGroupNames)),C=i.view(function(e){switch(e){case f.a.CRITICAL_ADVANCED:return"advanced";case f.a.FREE_PREMIUM:return"paid";default:return Object(m.c)(e)}}(o.denali.alertGroupNames));return a.createElement(r.a.div,{className:h.counters},S.view((function(e){return e>0?a.createElement(u.a,{key:"critical-issues",name:"critical-issues","aria-label":O.criticalLabel(e),styleType:p.Typography.Type.H3Legacy,className:g.issuesWrapper,onClick:function(){t(),y.assistantOpenButtonClick(v,"critical")}},a.createElement(d.a.OutcomeCounter,{theme:{counterWrapper:g.criticalCounterWrapper,counterContent:g.criticalCounterContent},count:e}),a.createElement("span",null," ",O.critical(e))):null})),C.view((function(e){return e>0?a.createElement(u.a,{key:"advanced-issues",name:"advanced-issues","aria-label":O.advancedLabel(e),styleType:p.Typography.Type.H3Legacy,className:g.issuesWrapper,onClick:function(){n(),y.assistantOpenButtonClick(v,"advanced")}},a.createElement(d.a.OutcomeCounter,{theme:{counterWrapper:g.advancedCounterWrapper,counterContent:g.advancedCounterContent},count:e}),a.createElement("span",null," ",O.advanced(e))):null})))};var v=function(e){var t=e.features,n=e.documentModel,l=e.navigationViewModel,u=a.useContext(s.a.Context),d=u.gnarSpec,p=u.pageId;return a.createElement(r.a.section,{className:h.wrapper},a.createElement(b,{features:t,switchToCritical:function(){return l.events.next({type:"switchToCritical",actionSource:o.b.sidebar})},switchToAdvanced:function(){return l.events.next({type:"switchToAdvanced",actionSource:o.b.sidebar})},counters:n.counters}),a.createElement(c.a,{checking:n.checkingState.view((function(e){return"idle"!==e})),hasErrors:i.a.combine(n.counters.view("critical"),n.counters.view("advanced"),(function(e,t){return e>0||t>0})),onClick:function(){l.events.next({type:"toggleSidebar",actionSource:o.b.sidebar}),d.assistantOpenButtonClick(p,"default")}}))}},"5bvJ":function(e){e.exports=JSON.parse('{"wrapper":"_8d820c72-feedback-popup-wrapper","description":"_5a633a50-feedback-popup-description","inputField":"_1f7f6c02-feedback-popup-inputField","briefDescriptionInput":"_dde4098c-feedback-popup-briefDescriptionInput","feedbackInput":"_8af6c552-feedback-popup-feedbackInput","helpdesk":"_83d6ee84-feedback-popup-helpdesk","buttons":"_1c9a94d2-feedback-popup-buttons","feedbackPopupBody":"_52a56165-feedback-popup-feedbackPopupBody","feedbackPopupFooter":"_001a2b32-feedback-popup-feedbackPopupFooter"}')},"5d0x":function(e){e.exports=JSON.parse('{"z100":"_917f3060-denali-editor-page-z100","z200":"_03fb1575-denali-editor-page-z200","z300":"_72c43d77-denali-editor-page-z300"}')},"5eEL":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("tiWp"),s=n("4GyQ"),c=n("OwvP"),l=n("xk6L"),u=n("mgiE"),d=n("NDcT"),p=n("jY3z"),m=n("wuWi"),f=n("D2TP"),h=n("4wwO"),g=n("KH+i"),b=n("LqiM"),v=n("7Cqk"),y=n("KYWP"),O=n("+vYo"),S=n("t39C"),C=n("ySi0"),w=n("SOPW"),k=n("eAYH"),E=n("/Q61");const j=({text:e,className:t})=>i.createElement("div",{className:t},e),_=(e,t,n)=>{const c=w.a.miniTitle(e,t),l=Object(o.pipe)(e.activeAlert.extraProperties.vox,u.g.map(e=>(({vox:e,theme:t={}})=>({icon:Object(o.pipe)(e.logoUrl,u.g.map(e=>i.createElement(E.d,Object(r.a)(Object(a.a)({},Object(s.c)(t.logo)),{logoUrl:e})))),action:i.createElement(E.c,Object(r.a)(Object(a.a)({vox:e},Object(s.c)(t.label)),{isMinimalCard:!1}))}))({vox:e,theme:{logo:n.voxLogo,label:n.voxLabel}}))),d=Object(o.pipe)(((e,t)=>Object(o.pipe)(e.activeAlert.extraProperties.tone,u.g.map(({emojiId:e})=>({action:t.replace(S.a,""),emojiId:e}))))(e,c),u.g.map(({action:e,emojiId:t})=>({icon:u.g.some(i.createElement(S.c,{id:t,className:Object(s.c)(n.emojiLogo).className})),action:i.createElement(j,{text:e,className:n.wrapper})}))),p=({className:e})=>i.createElement(C.d.PaidLink,{width:14,className:e});return Object(o.pipe)(l,u.g.orElse(d),u.g.getOrElse(()=>{return{icon:(t=e.activeAlert,Object(o.pipe)(t.freePremium,u.g.exists(e=>"unlocked"===e))?u.g.some(i.createElement(p,{className:Object(s.c)(n.freePremiumIcon).className})):k.b.isTakeawayItem(e)?u.g.some(i.createElement(C.d.Megaphone,{width:16,className:n.takeawayLogo})):u.g.none),action:i.createElement(j,{text:c,className:n.wrapper})};var t}))},x=(e,t,n)=>{const{action:a,icon:r}=_(e,t,n);return{actionComponent:a,iconComponent:Object(o.pipe)(r,u.g.fold(()=>e.renderOptions.cardVisualMode.view(g.a.CardVisualMode.match({onRegular:()=>u.g.none,onContrast:()=>{return u.g.fromNullable((t=e.activeAlert.lensType,a=n.lensLogo,f.a.outcomeTypeMatch({correctness:i.createElement(C.d.Correctness,{className:a}),clarity:i.createElement(C.d.ClarityOutcome,{className:a}),premium:i.createElement(C.d.Star,{className:a}),engagement:i.createElement(C.d.EngagementOutcome,{className:a}),delivery:i.createElement(C.d.DeliveryOutcome,{className:a}),vox:null,knowledgeHub:null})(t)));var t,a}})),e=>O.a.create(u.g.some(e))))}},A=e=>e?b.a.MiniContrast:b.a.Mini,I=e=>[f.a.outcomeTypeMatch({correctness:v.a.dotCorrectness,clarity:v.a.dotClarity,premium:v.a.dotAdvanced,engagement:v.a.dotEngagement,delivery:v.a.dotDelivery,vox:v.a.dotVox,knowledgeHub:v.a.knowledgeHub})(e.lensType),y.a.cta],T=()=>{const e=i.useContext(d.a.Context);return i.createElement(p.a.Regular,{className:y.a.newLabel},e.new)},M=e=>e.hasOwnProperty("features")&&e.features.has(g.a.Features.a11yContrast),P=e=>e.hasOwnProperty("features")&&e.features.has(g.a.Features.sduiContainerStyle);var N,D;(D=N||(N={})).Bundle=({card:e,actions:t})=>{const[n]=I(e.activeAlert),l=Object(o.pipe)(e.renderOptions,M,A);return i.createElement(l,Object(r.a)(Object(a.a)({},Object(s.c)(y.b.wrapper,y.b.bundleContainer,y.b.dot,n)),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],inert:e.positionState.inert,counter:i.createElement(m.m,{className:y.b.alertsCounter},e.alerts.length),sduiStyle:P(e.renderOptions)}),i.createElement(c.a.div,Object(s.c)(y.b.miniContainer),i.createElement("div",{className:y.b.highlightedText},h.a.bundleTitle(e))))},D.Standard=({card:e,actions:t})=>{const n=i.useContext(d.a.Context),[p,m]=I(e.activeAlert),f=Object(o.pipe)(e.renderOptions,M,A),{actionComponent:h,iconComponent:g}=x(e,n,{wrapper:Object(s.c)(m,y.a.ctaText).className,voxLogo:Object(s.c)(y.a.cardLogo,y.b.cardLogo).className,voxLabel:y.a.cta,emojiLogo:Object(s.c)(y.a.cardLogo,y.b.cardLogo).className,lensLogo:Object(s.c)(y.a.cardLogo,y.b.cardLogo,y.a.lensIcon).className,takeawayLogo:y.c.takeawayIconStandard,freePremiumIcon:Object(s.c)(y.a.diamondIcon,y.a.cardLogo,y.b.cardLogo).className});return i.createElement(f,Object(r.a)(Object(a.a)({},Object(s.c)(y.b.wrapper,g.view(e=>u.g.isSome(e)?y.b.invisibleDot:y.b.dot),p)),{actions:t,cardId:e.id,getActiveAlert:()=>e.activeAlert,inert:e.positionState.inert,sduiStyle:P(e.renderOptions)}),i.createElement(c.a.div,Object(s.c)(y.b.miniContainer),Object(o.pipe)(g.view(u.g.toNullable)),i.createElement("div",{className:y.b.highlightedText},e.activeAlert.highlightTexts[0]),i.createElement("div",{className:y.b.middleDot},"·"),h,Object(o.pipe)(e.renderOptions.isNew,l.a.map(e=>u.g.isSome(e)?i.createElement(T,{key:"new-label"}):null))))},D.TwoLined=({card:e,actions:t})=>{const n=i.useContext(d.a.Context),[l,p]=I(e.activeAlert),m=Object(o.pipe)(e.renderOptions,M,A),{actionComponent:f,iconComponent:h}=x(e,n,{wrapper:Object(s.c)(p,y.a.ctaText,y.c.ctaText,y.c.subTitle).className,voxLogo:Object(s.c)(y.a.cardLogo,y.c.cardLogo).className,voxLabel:Object(s.c)(y.a.cta,y.c.subTitle).className,emojiLogo:Object(s.c)(y.a.cardLogo,y.c.cardLogo).className,lensLogo:Object(s.c)(y.a.cardLogo,y.c.lensIcon,y.a.lensIcon).className,takeawayLogo:y.c.takeawayIconMini,freePremiumIcon:Object(s.c)(y.a.diamondIcon,y.a.cardLogo,y.c.cardLogo).className});return i.createElement(m,Object(r.a)(Object(a.a)({},Object(s.c)(y.c.wrapper,h.view(e=>u.g.isSome(e)?y.c.invisibleDot:y.c.dot),l)),{actions:t,cardId:e.id,getActiveAlert:()=>e.activeAlert,inert:e.positionState.inert,sduiStyle:P(e.renderOptions)}),i.createElement(c.a.div,Object(s.c)(y.c.miniContainer),f,Object(o.pipe)(h.view(u.g.toNullable)),i.createElement("div",{className:y.d},e.activeAlert.highlightTexts[0])))}},"5lyU":function(e,t,n){"use strict";n.d(t,"a",(function(){return me}));var a=n("B8yO"),r=n("KqOJ");function i(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function o(e){return e instanceof i(e).Element||e instanceof Element}function s(e){return e instanceof i(e).HTMLElement||e instanceof HTMLElement}function c(e){return"undefined"!=typeof ShadowRoot&&(e instanceof i(e).ShadowRoot||e instanceof ShadowRoot)}var l=Math.max,u=Math.min,d=Math.round;function p(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function m(){return!/^((?!chrome|android).)*safari/i.test(p())}function f(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),r=1,c=1;t&&s(e)&&(r=e.offsetWidth>0&&d(a.width)/e.offsetWidth||1,c=e.offsetHeight>0&&d(a.height)/e.offsetHeight||1);var l=(o(e)?i(e):window).visualViewport,u=!m()&&n,p=(a.left+(u&&l?l.offsetLeft:0))/r,f=(a.top+(u&&l?l.offsetTop:0))/c,h=a.width/r,g=a.height/c;return{width:h,height:g,top:f,right:p+h,bottom:f+g,left:p,x:p,y:f}}function h(e){var t=i(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function g(e){return e?(e.nodeName||"").toLowerCase():null}function b(e){return((o(e)?e.ownerDocument:e.document)||window.document).documentElement}function v(e){return f(b(e)).left+h(e).scrollLeft}function y(e){return i(e).getComputedStyle(e)}function O(e){var t=y(e),n=t.overflow,a=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+a)}function S(e,t,n){void 0===n&&(n=!1);var a,r,o=s(t),c=s(t)&&function(e){var t=e.getBoundingClientRect(),n=d(t.width)/e.offsetWidth||1,a=d(t.height)/e.offsetHeight||1;return 1!==n||1!==a}(t),l=b(t),u=f(e,c,n),p={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(o||!o&&!n)&&(("body"!==g(t)||O(l))&&(p=(a=t)!==i(a)&&s(a)?{scrollLeft:(r=a).scrollLeft,scrollTop:r.scrollTop}:h(a)),s(t)?((m=f(t,!0)).x+=t.clientLeft,m.y+=t.clientTop):l&&(m.x=v(l))),{x:u.left+p.scrollLeft-m.x,y:u.top+p.scrollTop-m.y,width:u.width,height:u.height}}function C(e){var t=f(e),n=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:a}}function w(e){return"html"===g(e)?e:e.assignedSlot||e.parentNode||(c(e)?e.host:null)||b(e)}function k(e,t){var n;void 0===t&&(t=[]);var a=function e(t){return["html","body","#document"].indexOf(g(t))>=0?t.ownerDocument.body:s(t)&&O(t)?t:e(w(t))}(e),r=a===(null==(n=e.ownerDocument)?void 0:n.body),o=i(a),c=r?[o].concat(o.visualViewport||[],O(a)?a:[]):a,l=t.concat(c);return r?l:l.concat(k(w(c)))}function E(e){return["table","td","th"].indexOf(g(e))>=0}function j(e){return s(e)&&"fixed"!==y(e).position?e.offsetParent:null}function _(e){for(var t=i(e),n=j(e);n&&E(n)&&"static"===y(n).position;)n=j(n);return n&&("html"===g(n)||"body"===g(n)&&"static"===y(n).position)?t:n||function(e){var t=/firefox/i.test(p());if(/Trident/i.test(p())&&s(e)&&"fixed"===y(e).position)return null;var n=w(e);for(c(n)&&(n=n.host);s(n)&&["html","body"].indexOf(g(n))<0;){var a=y(n);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||t&&"filter"===a.willChange||t&&a.filter&&"none"!==a.filter)return n;n=n.parentNode}return null}(e)||t}var x="top",A="bottom",I="right",T="left",M=[x,A,I,T],P=M.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),N=[].concat(M,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),D=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function B(e){var t=new Map,n=new Set,a=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||function e(r){n.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach((function(a){if(!n.has(a)){var r=t.get(a);r&&e(r)}})),a.push(r)}(e)})),a}var L={placement:"bottom",modifiers:[],strategy:"absolute"};function F(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function R(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,a=void 0===n?[]:n,r=t.defaultOptions,i=void 0===r?L:r;return function(e,t,n){void 0===n&&(n=i);var r,s,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},L,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,d={state:c,setOptions:function(n){var r="function"==typeof n?n(c.options):n;p(),c.options=Object.assign({},i,c.options,r),c.scrollParents={reference:o(e)?k(e):e.contextElement?k(e.contextElement):[],popper:k(t)};var s=function(e){var t=B(e);return D.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(a,c.options.modifiers)));return c.orderedModifiers=s.filter((function(e){return e.enabled})),c.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,a=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var i=r({state:c,name:t,instance:d,options:a});l.push(i||function(){})}})),d.update()},forceUpdate:function(){if(!u){var e=c.elements,t=e.reference,n=e.popper;if(F(t,n)){c.rects={reference:S(t,_(n),"fixed"===c.options.strategy),popper:C(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(e){return c.modifiersData[e.name]=Object.assign({},e.data)}));for(var a=0;a<c.orderedModifiers.length;a++)if(!0!==c.reset){var r=c.orderedModifiers[a],i=r.fn,o=r.options,s=void 0===o?{}:o,l=r.name;"function"==typeof i&&(c=i({state:c,options:s,name:l,instance:d})||c)}else c.reset=!1,a=-1}}},update:(r=function(){return new Promise((function(e){d.forceUpdate(),e(c)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(r())}))}))),s}),destroy:function(){p(),u=!0}};if(!F(e,t))return d;function p(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var H={passive:!0};function V(e){return e.split("-")[0]}function U(e){return e.split("-")[1]}function W(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function z(e){var t,n=e.reference,a=e.element,r=e.placement,i=r?V(r):null,o=r?U(r):null,s=n.x+n.width/2-a.width/2,c=n.y+n.height/2-a.height/2;switch(i){case x:t={x:s,y:n.y-a.height};break;case A:t={x:s,y:n.y+n.height};break;case I:t={x:n.x+n.width,y:c};break;case T:t={x:n.x-a.width,y:c};break;default:t={x:n.x,y:n.y}}var l=i?W(i):null;if(null!=l){var u="y"===l?"height":"width";switch(o){case"start":t[l]=t[l]-(n[u]/2-a[u]/2);break;case"end":t[l]=t[l]+(n[u]/2-a[u]/2)}}return t}var G={top:"auto",right:"auto",bottom:"auto",left:"auto"};function q(e){var t,n=e.popper,a=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,c=e.position,l=e.gpuAcceleration,u=e.adaptive,p=e.roundOffsets,m=e.isFixed,f=s.x,h=void 0===f?0:f,g=s.y,v=void 0===g?0:g,O="function"==typeof p?p({x:h,y:v}):{x:h,y:v};h=O.x,v=O.y;var S=s.hasOwnProperty("x"),C=s.hasOwnProperty("y"),w=T,k=x,E=window;if(u){var j=_(n),M="clientHeight",P="clientWidth";if(j===i(n)&&"static"!==y(j=b(n)).position&&"absolute"===c&&(M="scrollHeight",P="scrollWidth"),j=j,r===x||(r===T||r===I)&&"end"===o)k=A,v-=(m&&j===E&&E.visualViewport?E.visualViewport.height:j[M])-a.height,v*=l?1:-1;if(r===T||(r===x||r===A)&&"end"===o)w=I,h-=(m&&j===E&&E.visualViewport?E.visualViewport.width:j[P])-a.width,h*=l?1:-1}var N,D=Object.assign({position:c},u&&G),B=!0===p?function(e){var t=e.x,n=e.y,a=window.devicePixelRatio||1;return{x:d(t*a)/a||0,y:d(n*a)/a||0}}({x:h,y:v}):{x:h,y:v};return h=B.x,v=B.y,l?Object.assign({},D,((N={})[k]=C?"0":"",N[w]=S?"0":"",N.transform=(E.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",N)):Object.assign({},D,((t={})[k]=C?v+"px":"",t[w]=S?h+"px":"",t.transform="",t))}var K={left:"right",right:"left",bottom:"top",top:"bottom"};function $(e){return e.replace(/left|right|bottom|top/g,(function(e){return K[e]}))}var Z={start:"end",end:"start"};function Y(e){return e.replace(/start|end/g,(function(e){return Z[e]}))}function X(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&c(n)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Q(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function J(e,t,n){return"viewport"===t?Q(function(e,t){var n=i(e),a=b(e),r=n.visualViewport,o=a.clientWidth,s=a.clientHeight,c=0,l=0;if(r){o=r.width,s=r.height;var u=m();(u||!u&&"fixed"===t)&&(c=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:c+v(e),y:l}}(e,n)):o(t)?function(e,t){var n=f(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Q(function(e){var t,n=b(e),a=h(e),r=null==(t=e.ownerDocument)?void 0:t.body,i=l(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=l(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-a.scrollLeft+v(e),c=-a.scrollTop;return"rtl"===y(r||n).direction&&(s+=l(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:s,y:c}}(b(e)))}function ee(e,t,n,a){var r="clippingParents"===t?function(e){var t=k(w(e)),n=["absolute","fixed"].indexOf(y(e).position)>=0&&s(e)?_(e):e;return o(n)?t.filter((function(e){return o(e)&&X(e,n)&&"body"!==g(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),c=i[0],d=i.reduce((function(t,n){var r=J(e,n,a);return t.top=l(r.top,t.top),t.right=u(r.right,t.right),t.bottom=u(r.bottom,t.bottom),t.left=l(r.left,t.left),t}),J(e,c,a));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function te(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ne(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ae(e,t){void 0===t&&(t={});var n=t,a=n.placement,r=void 0===a?e.placement:a,i=n.strategy,s=void 0===i?e.strategy:i,c=n.boundary,l=void 0===c?"clippingParents":c,u=n.rootBoundary,d=void 0===u?"viewport":u,p=n.elementContext,m=void 0===p?"popper":p,h=n.altBoundary,g=void 0!==h&&h,v=n.padding,y=void 0===v?0:v,O=te("number"!=typeof y?y:ne(y,M)),S="popper"===m?"reference":"popper",C=e.rects.popper,w=e.elements[g?S:m],k=ee(o(w)?w:w.contextElement||b(e.elements.popper),l,d,s),E=f(e.elements.reference),j=z({reference:E,element:C,strategy:"absolute",placement:r}),_=Q(Object.assign({},C,j)),T="popper"===m?_:E,P={top:k.top-T.top+O.top,bottom:T.bottom-k.bottom+O.bottom,left:k.left-T.left+O.left,right:T.right-k.right+O.right},N=e.modifiersData.offset;if("popper"===m&&N){var D=N[r];Object.keys(P).forEach((function(e){var t=[I,A].indexOf(e)>=0?1:-1,n=[x,A].indexOf(e)>=0?"y":"x";P[e]+=D[n]*t}))}return P}function re(e,t,n){return l(e,u(t,n))}function ie(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function oe(e){return[x,I,A,T].some((function(t){return e[t]>=0}))}var se=R({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,a=e.options,r=a.scroll,o=void 0===r||r,s=a.resize,c=void 0===s||s,l=i(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",n.update,H)})),c&&l.addEventListener("resize",n.update,H),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",n.update,H)})),c&&l.removeEventListener("resize",n.update,H)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=z({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,a=n.gpuAcceleration,r=void 0===a||a,i=n.adaptive,o=void 0===i||i,s=n.roundOffsets,c=void 0===s||s,l={placement:V(t.placement),variation:U(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,q(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,q(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},a=t.attributes[e]||{},r=t.elements[e];s(r)&&g(r)&&(Object.assign(r.style,n),Object.keys(a).forEach((function(e){var t=a[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var a=t.elements[e],r=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});s(a)&&g(a)&&(Object.assign(a.style,i),Object.keys(r).forEach((function(e){a.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,a=e.name,r=n.offset,i=void 0===r?[0,0]:r,o=N.reduce((function(e,n){return e[n]=function(e,t,n){var a=V(e),r=[T,x].indexOf(a)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,o=i[0],s=i[1];return o=o||0,s=(s||0)*r,[T,I].indexOf(a)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,i),e}),{}),s=o[t.placement],c=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[a]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var r=n.mainAxis,i=void 0===r||r,o=n.altAxis,s=void 0===o||o,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,f=void 0===m||m,h=n.allowedAutoPlacements,g=t.options.placement,b=V(g),v=c||(b===g||!f?[$(g)]:function(e){if("auto"===V(e))return[];var t=$(e);return[Y(e),t,Y(t)]}(g)),y=[g].concat(v).reduce((function(e,n){return e.concat("auto"===V(n)?function(e,t){void 0===t&&(t={});var n=t,a=n.placement,r=n.boundary,i=n.rootBoundary,o=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?N:c,u=U(a),d=u?s?P:P.filter((function(e){return U(e)===u})):M,p=d.filter((function(e){return l.indexOf(e)>=0}));0===p.length&&(p=d);var m=p.reduce((function(t,n){return t[n]=ae(e,{placement:n,boundary:r,rootBoundary:i,padding:o})[V(n)],t}),{});return Object.keys(m).sort((function(e,t){return m[e]-m[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:f,allowedAutoPlacements:h}):n)}),[]),O=t.rects.reference,S=t.rects.popper,C=new Map,w=!0,k=y[0],E=0;E<y.length;E++){var j=y[E],_=V(j),D="start"===U(j),B=[x,A].indexOf(_)>=0,L=B?"width":"height",F=ae(t,{placement:j,boundary:u,rootBoundary:d,altBoundary:p,padding:l}),R=B?D?I:T:D?A:x;O[L]>S[L]&&(R=$(R));var H=$(R),W=[];if(i&&W.push(F[_]<=0),s&&W.push(F[R]<=0,F[H]<=0),W.every((function(e){return e}))){k=j,w=!1;break}C.set(j,W)}if(w)for(var z=function(e){var t=y.find((function(t){var n=C.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},G=f?3:1;G>0;G--){if("break"===z(G))break}t.placement!==k&&(t.modifiersData[a]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,a=e.name,r=n.mainAxis,i=void 0===r||r,o=n.altAxis,s=void 0!==o&&o,c=n.boundary,d=n.rootBoundary,p=n.altBoundary,m=n.padding,f=n.tether,h=void 0===f||f,g=n.tetherOffset,b=void 0===g?0:g,v=ae(t,{boundary:c,rootBoundary:d,padding:m,altBoundary:p}),y=V(t.placement),O=U(t.placement),S=!O,w=W(y),k="x"===w?"y":"x",E=t.modifiersData.popperOffsets,j=t.rects.reference,M=t.rects.popper,P="function"==typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b,N="number"==typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,B={x:0,y:0};if(E){if(i){var L,F="y"===w?x:T,R="y"===w?A:I,H="y"===w?"height":"width",z=E[w],G=z+v[F],q=z-v[R],K=h?-M[H]/2:0,$="start"===O?j[H]:M[H],Z="start"===O?-M[H]:-j[H],Y=t.elements.arrow,X=h&&Y?C(Y):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},J=Q[F],ee=Q[R],te=re(0,j[H],X[H]),ne=S?j[H]/2-K-te-J-N.mainAxis:$-te-J-N.mainAxis,ie=S?-j[H]/2+K+te+ee+N.mainAxis:Z+te+ee+N.mainAxis,oe=t.elements.arrow&&_(t.elements.arrow),se=oe?"y"===w?oe.clientTop||0:oe.clientLeft||0:0,ce=null!=(L=null==D?void 0:D[w])?L:0,le=z+ie-ce,ue=re(h?u(G,z+ne-ce-se):G,z,h?l(q,le):q);E[w]=ue,B[w]=ue-z}if(s){var de,pe="x"===w?x:T,me="x"===w?A:I,fe=E[k],he="y"===k?"height":"width",ge=fe+v[pe],be=fe-v[me],ve=-1!==[x,T].indexOf(y),ye=null!=(de=null==D?void 0:D[k])?de:0,Oe=ve?ge:fe-j[he]-M[he]-ye+N.altAxis,Se=ve?fe+j[he]+M[he]-ye-N.altAxis:be,Ce=h&&ve?function(e,t,n){var a=re(e,t,n);return a>n?n:a}(Oe,fe,Se):re(h?Oe:ge,fe,h?Se:be);E[k]=Ce,B[k]=Ce-fe}t.modifiersData[a]=B}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,a=e.name,r=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,s=V(n.placement),c=W(s),l=[T,I].indexOf(s)>=0?"height":"width";if(i&&o){var u=function(e,t){return te("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ne(e,M))}(r.padding,n),d=C(i),p="y"===c?x:T,m="y"===c?A:I,f=n.rects.reference[l]+n.rects.reference[c]-o[c]-n.rects.popper[l],h=o[c]-n.rects.reference[c],g=_(i),b=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,v=f/2-h/2,y=u[p],O=b-d[l]-u[m],S=b/2-d[l]/2+v,w=re(y,S,O),k=c;n.modifiersData[a]=((t={})[k]=w,t.centerOffset=w-S,t)}},effect:function(e){var t=e.state,n=e.options.element,a=void 0===n?"[data-popper-arrow]":n;null!=a&&("string"!=typeof a||(a=t.elements.popper.querySelector(a)))&&X(t.elements.popper,a)&&(t.elements.arrow=a)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,a=t.rects.reference,r=t.rects.popper,i=t.modifiersData.preventOverflow,o=ae(t,{elementContext:"reference"}),s=ae(t,{altBoundary:!0}),c=ie(o,a),l=ie(s,r,i),u=oe(c),d=oe(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),ce=n("WyFC"),le=n.n(ce),ue=function(e){return e.reduce((function(e,t){var n=t[0],a=t[1];return e[n]=a,e}),{})},de="undefined"!=typeof window&&window.document&&window.document.createElement?a.useLayoutEffect:a.useEffect,pe=[],me=function(e,t,n){void 0===n&&(n={});var i=a.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||pe},s=a.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=s[0],l=s[1],u=a.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);r.flushSync((function(){l({styles:ue(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:ue(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),d=a.useMemo((function(){var e={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[u,{name:"applyStyles",enabled:!1}])};return le()(i.current,e)?i.current||e:(i.current=e,e)}),[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,u]),p=a.useRef();return de((function(){p.current&&p.current.setOptions(d)}),[d]),de((function(){if(null!=e&&null!=t){var a=(n.createPopper||se)(e,t,d);return p.current=a,function(){a.destroy(),p.current=null}}}),[e,t,n.createPopper]),{state:p.current?p.current.state:null,styles:c.styles,attributes:c.attributes,update:p.current?p.current.update:null,forceUpdate:p.current?p.current.forceUpdate:null}}},"6+Mz":function(e){e.exports=JSON.parse('{"wrapper":"_fc36500a-vbars-wrapper","description":"_c2ea3f61-vbars-description","inputField":"_45ccffb4-vbars-inputField","briefDescriptionInput":"_1dd3b374-vbars-briefDescriptionInput","feedbackInput":"_2386cde3-vbars-feedbackInput","helpdesk":"_102a6954-vbars-helpdesk","buttons":"_b774a096-vbars-buttons","feedbackPopupBody":"_6ff7ea12-vbars-feedbackPopupBody","feedbackPopupFooter":"_ff8c6c8f-vbars-feedbackPopupFooter"}')},"6+at":function(e,t,n){"use strict";n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return R}));var a=n("a5gI"),r=n("8O/t"),i=n("X76w"),o=n("vGXj"),s=n("B8yO"),c=n("DTwm"),l=n("tiWp"),u=n("5KcF"),d=n("OwvP"),p=n("4GyQ"),m=n("+vYo"),f=n("mgiE"),h=n("0kuo"),g=n("RRF2"),b=n("koeM"),v=n("XQlQ"),y=n("xk6L"),O=n("yIk2"),S=n("6c0D"),C=n("0IPU"),w=n("2YEY"),k=n("2swC"),E=n("fC5a"),j=n("ySi0"),_=n("AVzG"),x=n("wuWi"),A=n("sX1a");const I=e=>s.createElement(E.a,{className:w.a.completeButton,onClick:e.onClick},e.text),T=({alignment:e,rect:t,onClose:n,className:a,children:o,icon:c,pinTargetRect:u,hideCloseButton:m,onMount:h})=>s.createElement(_.a.ByRelativeRect,Object(i.a)(Object(r.a)({rect:t,className:w.b.notificationContainer},_.a.Alignment.toSelector(e)),{pinTargetRect:u,withPin:!0}),s.createElement(d.a.div,Object(i.a)(Object(r.a)({},Object(p.c)(w.b.stepWrapper,a)),{mount:h}),Object(l.pipe)(c,f.g.fold(()=>s.createElement(j.d.Grammarly,{className:w.b.alertIcon}),e=>s.createElement(e,{className:w.b.alertIcon}))),o,!(null!=m&&m)&&s.createElement(E.a,{name:"onboard-close",className:w.b.closeIconWrapper,onClick:()=>n&&n()},s.createElement(j.d.Close,{className:w.b.closeIcon,width:12})))),M=({alignment:e,rect:t,onClose:n,className:a,children:o,pinTargetRect:c,hideCloseButton:l,onMount:u})=>s.createElement(_.a.ByRelativeRect,Object(i.a)(Object(r.a)({rect:t,className:w.b.notificationContainer},_.a.Alignment.toSelector(e)),{pinTargetRect:c,withPin:!0}),s.createElement(d.a.div,Object(i.a)(Object(r.a)({},Object(p.c)(w.a.stepWrapper,a)),{mount:u}),o,!(null!=l&&l)&&s.createElement(E.a,{name:"onboard-close",className:w.a.closeIconWrapper,onClick:()=>{var e;return null===(e=n)||void 0===e?void 0:e()}},s.createElement(j.d.Close,{className:w.a.closeIcon,width:12,color:k.a.CoreNeutral40})))),P=e=>{var{title:t,description:n}=e,a=Object(o.a)(e,["title","description"]);return s.createElement(T,a,s.createElement("span",{className:w.b.content},Boolean(t)?s.createElement(x.i,{className:w.b.header},t):null,s.createElement(x.a,{className:w.b.description},n)))},N=e=>{var{title:t,description:n,isLastStep:a,onComplete:r}=e,i=Object(o.a)(e,["title","description","isLastStep","onComplete"]);return s.createElement(M,i,s.createElement("div",{className:w.a.contentWrapper},s.createElement("div",{className:w.b.content},Boolean(t)?s.createElement(A.Typography.Base,{className:w.b.header},t):null,s.createElement(A.Typography.Base,{className:w.a.description},n)),s.createElement(I,{text:a?"Done":"Next",onClick:r})))},D=({className:e,onClick:t,customStyle:n})=>s.createElement(d.a.div,Object(i.a)(Object(r.a)({},Object(p.c)(w.b.pulseWrapper,e)),{style:n,onClick:()=>t&&t()}),s.createElement("div",{className:w.b.pulseOptimized}));var B;function L(e){const t=s.useContext(L.Context),{stepId:n,onboardingViewModel:a}=e,c=Object(o.a)(e,["stepId","onboardingViewModel"]),u=a||t,d=F(n,u),p=s.useContext(v.a.Context).pipe(y.a.map(e=>e.rect));return Object(l.pipe)(d,f.g.fold(()=>s.Children.only(e.children),e=>{var t,a;return s.createElement(R,Object(i.a)(Object(r.a)({},c),{onboardingStep:e,viewportRect:p,isLastStep:null===(t=(a=u).isLastStep)||void 0===t?void 0:t.call(a,n)}))}))}!function(e){e.leftTop="leftTop",e.leftCenter="leftCenter",e.leftBottom="leftBottom",e.center="center",e.rightTop="rightTop",e.rightCenter="rightCenter",e.rightBottom="rightBottom"}(B||(B={}));const F=(e,t)=>(Object(h.f)(Boolean(t),"onboardingViewModel should be set either in context or in props"),t.isStepEnabled(e)?f.g.some(t.subscribeForStep(e)):f.g.none);class R extends s.Component{componentWillUnmount(){const e=this.props.onboardingStep;"popup"!==e.state.get()&&"popover"!==e.state.get()||e.popupIgnored(),this._subs.forEach(e=>e.unsubscribe())}componentDidMount(){const e=this.props.dotPosition;var t;e?this._subs.push(y.a.mergeStatic(this.context,this.props.onboardingStep.state.pipe(y.a.filter(e=>"dot"===e||"popup"===e||"popover"===e))).pipe(y.a.delay(500),y.a.withLatestFrom(this._wrapperElement,this._containerElement),y.a.switchMap(([t,n,a])=>Object(l.pipe)(Object(c.tuple)(n,a),Object(c.tupled)(f.g.map2((t,n)=>{switch(e.kind){case"findFirstButton":return O.b.toObservable(e.buttonOrder).pipe(y.a.switchMap(a=>y.a.of(void 0).pipe(y.a.delay(500),y.a.map(()=>{const[r,i]=U(t,n,e.position,a,e.selector);return this._exactTargetRect.set(i),r}),y.b.compact)));case"dotAtPosition":return y.a.of(H(e.position));default:return Object(h.c)(e)}})),f.g.fold(()=>y.a.EMPTY,u.a)))).subscribe(e=>{this._spotStyle.set(e),this._visibilityState.set(!0)}),y.a.combineLatestStatic([null!==(t=this.props.dismissalTrigger)&&void 0!==t?t:y.a.EMPTY,this.props.onboardingStep.state]).pipe(y.a.filter(([e,t])=>e&&("dot"===t||"popup"===t||"popover"===t)),y.a.take(1)).subscribe(()=>{this.props.onboardingStep.actionTaken()})):this._visibilityState.set(!0)}render(){const e=this.props.onboardingStep;return s.createElement(d.a.div,Object(i.a)(Object(r.a)({key:"onboarding-wrapper"},Object(p.c)(w.b.containerWrapper,this.props.themes&&this.props.themes.containerWrapperClassName)),{mount:e=>this._wrapperElement.set(f.g.fromNullable(e))}),s.createElement("div",Object(i.a)(Object(r.a)({key:"container",ref:e=>this._containerElement.set(f.g.fromNullable(e))},Object(p.c)(w.b.containerDiv,this.props.themes&&this.props.themes.containerClassName)),{onClickCapture:this._onEventActionTaken(e,"onclick"===this.props.eventType),onMouseEnter:t=>"onhover"===this.props.eventType&&this._onEventActionTaken(e,!1)(t)}),this.props.children),m.a.combine(e.state,this._visibilityState,(t,n)=>{if(!n)return null;switch(t){case C.a.Dot:const t=this.props.themes&&this.props.themes.spotClassName;return this.props.onboardingStep.dotShown(),s.createElement(D,Object(i.a)(Object(r.a)({customStyle:this._spotStyle,key:"spot"},Object(p.c)(w.b.onboardingSpot,t)),{onClick:()=>e.dotClicked()}));case C.a.Popup:return s.createElement(P,{key:"step",title:this.props.title,alignment:this.props.alignment,rect:this._containerElement.view(f.g.fold(()=>g.c.Rect.empty,g.c.Rect.fromEl)),className:this.props.themes&&this.props.themes.notificationClassName,description:this.props.message,icon:f.g.fromNullable(this.props.icon),onClose:()=>e.popupClosed(),pinTargetRect:this._exactTargetRect.view(f.g.orUndefined)});case C.a.Popover:return s.createElement(N,{key:"step",title:this.props.title,isLastStep:Boolean(this.props.isLastStep),alignment:this.props.alignment,rect:this._containerElement.view(f.g.fold(()=>g.c.Rect.empty,g.c.Rect.fromEl)),className:this.props.themes&&this.props.themes.notificationClassName,description:this.props.message,onClose:()=>e.popupClosed(),onComplete:()=>e.actionTaken(),pinTargetRect:this._exactTargetRect.view(f.g.orUndefined)});default:return null}}))}constructor(...e){super(...e),Object(a.a)(this,"context",void 0),Object(a.a)(this,"_subs",[]),Object(a.a)(this,"_wrapperElement",m.a.create(f.g.none)),Object(a.a)(this,"_containerElement",m.a.create(f.g.none)),Object(a.a)(this,"_exactTargetRect",m.a.create(f.g.none)),Object(a.a)(this,"_visibilityState",m.a.create(!1)),Object(a.a)(this,"_spotStyle",m.a.create({})),Object(a.a)(this,"_onEventActionTaken",(e,t=!0)=>n=>{const a=e.state.get();if("popup"===a||"popover"===a||t&&"dot"===a){var r;const a=n.target;if(g.c.isDisabled(a))return;const i=t||g.c.hasParentWithClassName(a,w.b.containerDiv);if("findFirstButton"===(null===(r=this.props.dotPosition)||void 0===r?void 0:r.kind)&&!g.c.hasParentWithAttribute(a,"role","button"))return;i&&e.actionTaken()}else"dot"===a&&(n.preventDefault(),n.stopPropagation())})}}Object(a.a)(R,"contextType",b.a.Context),Object(a.a)(R,"defaultProps",{alignment:"left"});const H=e=>{switch(e){case B.leftTop:return{top:0,left:0};case B.leftCenter:return{top:"50%",left:0};case B.leftBottom:return{top:"100%",left:0};case B.rightTop:return{top:0,left:"100%"};case B.rightCenter:return{top:"50%",left:"100%"};case B.rightBottom:return{top:"100%",left:"100%"};case B.center:return{top:"50%",left:"50%"};default:return Object(h.c)(e)}},V=(e,t,n)=>{switch(n){case B.rightTop:return{top:e.top-t.top,left:e.left-t.left+e.width};case B.center:return{top:e.top-t.top+e.height/2,left:e.left-t.left+e.width/2};default:return Object(h.c)(n)}},U=(e,t,n,a,r)=>{const i=t.querySelectorAll(null!=r?r:'[role="button"], [role="insertion"], [role="deletion"]'),o=i.length>0&&(void 0===a?i[i.length-1]:i[a]);if(Boolean(o)){const t=g.c.Rect.fromEl(Object(c.unsafeCoerce)(o)),a=g.c.Rect.fromEl(e);return[f.g.some(V(t,a,n)),f.g.some(t)]}return Boolean(r)?[f.g.none,f.g.none]:[f.g.some({top:"50%",left:"50%"}),f.g.none]};var W,z;W=L||(L={}),z=W.Context=s.createContext(null),W.ContextMock=({children:e})=>s.createElement(z.Provider,{value:new S.a,children:e})},"6EPH":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var a=n("B8yO"),r=n("NDcT"),i=n("RRF2"),o=function(e){var t=e.value,n=e.currency,r="USD"===n?"$":"".concat(n," ");return a.createElement(a.Fragment,null,r,i.f.formatPrice(t))},s=function(e){var t=e.value,n=e.currency,i=e.periodInMonths,s=t/Math.max(1,i),c=a.useContext(r.a.Context).changePlan;return a.createElement(a.Fragment,null,a.createElement(o,{currency:n,value:s}),"/",c.perMonth)},c=function(e){var t=e.value,n=e.currency,i=e.periodInMonths,s=12*(t/Math.max(1,i)),c=a.useContext(r.a.Context).changePlan;return a.createElement(a.Fragment,null,a.createElement(o,{currency:n,value:s}),"/",c.perYear)}},"6K6r":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("+ndJ"),r=n("B8yO");function i(e){let t=(0,a.a)(e),[n,i]=(0,r.useState)(null);return{focusStrategy:n,...t,open(e=null){i(e),t.open()},toggle(e=null){i(e),t.toggle()}}}},"6M1r":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return fb}));var a={};n.r(a),n.d(a,"ActionNotifyUserAction",(function(){return da})),n.d(a,"ActionInteractPopoverInteraction",(function(){return pa})),n.d(a,"ActionOpenGrammarlyGoEntryPoint",(function(){return ma})),n.d(a,"AnimationName",(function(){return fa})),n.d(a,"ButtonKind",(function(){return ha})),n.d(a,"ButtonShape",(function(){return ga})),n.d(a,"ButtonState",(function(){return ba})),n.d(a,"Color",(function(){return va})),n.d(a,"ComponentKnownName",(function(){return ya})),n.d(a,"ContentAssistantFeedOrderingDirection",(function(){return Oa})),n.d(a,"ContentAssistantFeedFilteringCondition",(function(){return Sa})),n.d(a,"ContentProgressBarState",(function(){return Ca})),n.d(a,"HorizontalAlign",(function(){return wa})),n.d(a,"IconKnownName",(function(){return ka})),n.d(a,"LensKind",(function(){return Ea})),n.d(a,"Position",(function(){return ja})),n.d(a,"Radius",(function(){return _a})),n.d(a,"Space",(function(){return xa})),n.d(a,"TextFormat",(function(){return Aa})),n.d(a,"TextSize",(function(){return Ia})),n.d(a,"TimeCurve",(function(){return Ta})),n.d(a,"TooltipAlignment",(function(){return Ma})),n.d(a,"VerticalAlign",(function(){return Pa}));var r={};n.r(r),n.d(r,"interpreter",(function(){return Fa.a})),n.d(r,"Root",(function(){return Ha})),n.d(r,"Action",(function(){return Va})),n.d(r,"ActionNotifyUserAction",(function(){return Ua})),n.d(r,"ActionNotify",(function(){return Wa})),n.d(r,"ActionOpenSettings",(function(){return za})),n.d(r,"ActionOpenLearnMore",(function(){return Ga})),n.d(r,"ActionOpenPerformanceScore",(function(){return qa})),n.d(r,"ActionOpenToneDetector",(function(){return Ka})),n.d(r,"ActionUpgradeToPremium",(function(){return $a})),n.d(r,"ActionShowHighlights",(function(){return Za})),n.d(r,"ActionHideHighlights",(function(){return Ya})),n.d(r,"ActionOpenFeedback",(function(){return Xa})),n.d(r,"ActionOpenCreateSnippetModal",(function(){return Qa})),n.d(r,"ActionCloseCard",(function(){return Ja})),n.d(r,"ActionNextCard",(function(){return er})),n.d(r,"ActionPrevCard",(function(){return tr})),n.d(r,"ActionRemoveRoot",(function(){return nr})),n.d(r,"ActionRemoveAlerts",(function(){return ar})),n.d(r,"ActionApplyAlerts",(function(){return rr})),n.d(r,"ActionSelectAlternative",(function(){return ir})),n.d(r,"ActionTransition",(function(){return or})),n.d(r,"ActionOpenLink",(function(){return sr})),n.d(r,"ActionCopyToClipboard",(function(){return cr})),n.d(r,"ActionNativeOpenAssistant",(function(){return lr})),n.d(r,"ActionPushAssistantFeed",(function(){return ur})),n.d(r,"ActionPopAssistantFeed",(function(){return dr})),n.d(r,"ActionFocusAssistantCard",(function(){return pr})),n.d(r,"ActionSwitchView",(function(){return mr})),n.d(r,"ActionNewRevision",(function(){return fr})),n.d(r,"ActionHighlightAlert",(function(){return hr})),n.d(r,"ActionStopApplyingAlerts",(function(){return gr})),n.d(r,"ActionClosePopover",(function(){return br})),n.d(r,"ActionInteractPopoverInteraction",(function(){return vr})),n.d(r,"ActionInteractPopover",(function(){return yr})),n.d(r,"ActionOpenGrammarlyGoEntryPoint",(function(){return Or})),n.d(r,"ActionOpenGrammarlyGo",(function(){return Sr})),n.d(r,"ActionEnablePlagiarismCheck",(function(){return Cr})),n.d(r,"ActionDisablePlagiarismCheck",(function(){return wr})),n.d(r,"ActionEnableWritingExpertCheck",(function(){return kr})),n.d(r,"ActionDisableWritingExpertCheck",(function(){return Er})),n.d(r,"ActionNativeOpenUserSatisfactionFeedback",(function(){return jr})),n.d(r,"Actions",(function(){return _r})),n.d(r,"AnimationName",(function(){return xr})),n.d(r,"Behavior",(function(){return Ar})),n.d(r,"BehaviorStrongAlertRef",(function(){return Tr})),n.d(r,"BehaviorAnimationFadeIn",(function(){return Mr})),n.d(r,"BehaviorAnimationFadeOut",(function(){return Pr})),n.d(r,"BehaviorPopoverAnchor",(function(){return Nr})),n.d(r,"BehaviorLifecycle",(function(){return Br})),n.d(r,"Behaviors",(function(){return Lr})),n.d(r,"BorderRadius",(function(){return Fr})),n.d(r,"ButtonKind",(function(){return Rr})),n.d(r,"ButtonShape",(function(){return Hr})),n.d(r,"ButtonState",(function(){return Vr})),n.d(r,"Color",(function(){return Ur})),n.d(r,"ComponentKnownName",(function(){return Wr})),n.d(r,"ComponentMeta",(function(){return zr})),n.d(r,"ComponentName",(function(){return Gr})),n.d(r,"ComponentNameUnknown",(function(){return qr})),n.d(r,"ComponentNameKnown",(function(){return Kr})),n.d(r,"Content",(function(){return $r})),n.d(r,"ContentText",(function(){return Yr})),n.d(r,"ContentAssistantFeedOrderingDirection",(function(){return Xr})),n.d(r,"ContentAssistantFeedOrdering",(function(){return Qr})),n.d(r,"ContentAssistantFeedFilteringCondition",(function(){return Jr})),n.d(r,"ContentAssistantFeedFiltering",(function(){return ei})),n.d(r,"ContentAssistantFeed",(function(){return ti})),n.d(r,"ContentAssistantCard",(function(){return ai})),n.d(r,"ContentPopoverStack",(function(){return ii})),n.d(r,"ContentInlineCard",(function(){return si})),n.d(r,"ContentGButtonDefault",(function(){return li})),n.d(r,"ContentGButtonTone",(function(){return ui})),n.d(r,"ContentGButtonProofit",(function(){return di})),n.d(r,"ContentGButtonGetStarted",(function(){return pi})),n.d(r,"ContentGButtonPlagiarism",(function(){return mi})),n.d(r,"ContentGButtonWritingExpert",(function(){return fi})),n.d(r,"ContentGButton",(function(){return hi})),n.d(r,"ContentProofitButton",(function(){return gi})),n.d(r,"ContentLensesSwitchPanelLensSwitchButton",(function(){return bi})),n.d(r,"ContentLensesSwitchPanel",(function(){return vi})),n.d(r,"ContentStrongAlertRef",(function(){return yi})),n.d(r,"ContentColumn",(function(){return Si})),n.d(r,"ContentRow",(function(){return wi})),n.d(r,"ContentBlockInnerSpacing",(function(){return Ei})),n.d(r,"ContentBlock",(function(){return ji})),n.d(r,"ContentBox",(function(){return xi})),n.d(r,"ContentScroll",(function(){return Ii})),n.d(r,"ContentListItemSecondaryButtonLabel",(function(){return Mi})),n.d(r,"ContentListItemSecondaryButtonLabelText",(function(){return Pi})),n.d(r,"ContentListItemSecondaryButtonLabelIcon",(function(){return Ni})),n.d(r,"ContentListItemSecondaryButton",(function(){return Di})),n.d(r,"ContentListItem",(function(){return Bi})),n.d(r,"ContentList",(function(){return Fi})),n.d(r,"ContentSelectableDropDownMenu",(function(){return Hi})),n.d(r,"ContentDropDownMenuButton",(function(){return Vi})),n.d(r,"ContentIconSource",(function(){return Ui})),n.d(r,"ContentIconSourceKnown",(function(){return Wi})),n.d(r,"ContentIconSourceUrl",(function(){return zi})),n.d(r,"ContentIcon",(function(){return Gi})),n.d(r,"ContentImage",(function(){return qi})),n.d(r,"ContentButton",(function(){return Ki})),n.d(r,"ContentTooltip",(function(){return Zi})),n.d(r,"ContentClickableText",(function(){return Xi})),n.d(r,"ContentCount",(function(){return Qi})),n.d(r,"ContentAlertsCount",(function(){return Ji})),n.d(r,"ContentAlternativeChoiceAlterna",(function(){return eo})),n.d(r,"ContentAlternativeChoice",(function(){return no})),n.d(r,"ContentSliderChoiceIcon",(function(){return ro})),n.d(r,"ContentSliderChoiceIconIconSource",(function(){return io})),n.d(r,"ContentSliderChoiceIconIcon",(function(){return oo})),n.d(r,"ContentSliderChoice",(function(){return so})),n.d(r,"ContentSlider",(function(){return co})),n.d(r,"ContentAlternativeSliderChoiceIcon",(function(){return lo})),n.d(r,"ContentAlternativeSliderChoice",(function(){return uo})),n.d(r,"ContentAlternativeSlider",(function(){return mo})),n.d(r,"ContentNativeSkillsModal",(function(){return ho})),n.d(r,"ContentNativeSkillsList",(function(){return go})),n.d(r,"ContentNativeSkillsView",(function(){return bo})),n.d(r,"ContentNativeToneInsightsModal",(function(){return vo})),n.d(r,"ContentNativeLearnMoreModal",(function(){return yo})),n.d(r,"ContentNativeSettingsModal",(function(){return Oo})),n.d(r,"ContentNativeFeedbackModal",(function(){return So})),n.d(r,"ContentNativeGetStartedChecklistModal",(function(){return Co})),n.d(r,"ContentNativeProofitModal",(function(){return wo})),n.d(r,"ContentNativeKeyTakeawaysAssistantCard",(function(){return ko})),n.d(r,"ContentNativeInlineCardContent",(function(){return Eo})),n.d(r,"ContentNativePerformanceScoreButton",(function(){return jo})),n.d(r,"ContentViewStack",(function(){return _o})),n.d(r,"ContentNativeExperimentalGbconsistencyUpsellFooter",(function(){return Ao})),n.d(r,"ContentRadioButtonsGroupOption",(function(){return Io})),n.d(r,"ContentRadioButtonsGroup",(function(){return To})),n.d(r,"ContentNativeExperimentalGbtoneInsightsUpsellFooter",(function(){return Mo})),n.d(r,"ContentCollapsedCard",(function(){return Po})),n.d(r,"ContentShortFormCard",(function(){return Do})),n.d(r,"ContentLongFormCard",(function(){return Lo})),n.d(r,"ContentProgressBarState",(function(){return Ro})),n.d(r,"ContentProgressBar",(function(){return Ho})),n.d(r,"ContentHorizontalRule",(function(){return Vo})),n.d(r,"ContentGlobalPart",(function(){return Uo})),n.d(r,"ContentGlobalPartPlaceholder",(function(){return zo})),n.d(r,"FeedProperties",(function(){return qo})),n.d(r,"FeedReference",(function(){return Ko})),n.d(r,"HorizontalAlign",(function(){return $o})),n.d(r,"IconContent",(function(){return Zo})),n.d(r,"IconKnownName",(function(){return Yo})),n.d(r,"Id",(function(){return Xo})),n.d(r,"LensKind",(function(){return Qo})),n.d(r,"MenuSectionItem",(function(){return Jo})),n.d(r,"MenuSection",(function(){return es})),n.d(r,"Menu",(function(){return ts})),n.d(r,"Percentage",(function(){return ns})),n.d(r,"PopoverViewAnchor",(function(){return as})),n.d(r,"PopoverViewAnchorComponent",(function(){return rs})),n.d(r,"PopoverViewAnchorGButton",(function(){return is})),n.d(r,"PopoverViewAnchorNativeComponent",(function(){return os})),n.d(r,"PopoverView",(function(){return ss})),n.d(r,"Position",(function(){return ls})),n.d(r,"Radius",(function(){return us})),n.d(r,"RemSize",(function(){return ds})),n.d(r,"SelectItem",(function(){return ps})),n.d(r,"Select",(function(){return ms})),n.d(r,"SelectedView",(function(){return fs})),n.d(r,"Space",(function(){return hs})),n.d(r,"Spacing",(function(){return gs})),n.d(r,"TextFormat",(function(){return bs})),n.d(r,"TextSize",(function(){return vs})),n.d(r,"TimeCurve",(function(){return ys})),n.d(r,"TooltipAlignment",(function(){return Os})),n.d(r,"VerticalAlign",(function(){return Ss}));var i={};n.r(i),n.d(i,"version",(function(){return ac})),n.d(i,"unsupportedComponents",(function(){return rc}));var o,s=n("Vv+i"),c=n("Wy1Y"),l=n("uKMM"),u=n("a5gI"),d=n("4mQT"),p=n("8O/t"),m=n("X76w"),f=n("hcme"),h=n("t5lx"),g=n("B8yO"),b=n("DTwm"),v=n("OwvP"),y=n("+vYo"),O=n("mgiE"),S=n("aQxY"),C=n("FAyr"),w=n("koeM"),k=n("Va3c"),E=n("0hKP"),j=n("nWMp"),_=n("7IMz"),x=n("xk6L"),A=n("yIk2"),I=n("gV67"),T=n("M3t0"),M=n("Eve8"),P=n("LzNK"),N=n("s1NC"),D=n("fKHc"),B=n("ElpI"),L=n("mybP"),F=n("TTev"),R=n("M5RY"),H=n("B/Ki"),V=n("lXop"),U=n("wuWi"),W=n("IjjT"),z=n("TKPA"),G=n("RRF2"),q=n("O2Mh"),K=n("kPsJ"),$=n("14g4"),Z=n("PDPC"),Y=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,null,[{key:"create",value:function(e){var t=Object($.a)(Object(Z.a)(n),"create",this).call(this,e);return t.setAttribute("data-type",e),t}},{key:"formats",value:function(e){if(G.c.Guardians.isOL(e))return"ordered";if(G.c.Guardians.isUL(e))switch(e.getAttribute("data-type")){case"dashed":return"dashed";default:return"bullet"}}}]),n}(R.import("formats/list")),X=n("ivjH"),Q=n("cdwJ"),J=n("Djdf"),ee=n("+8xi"),te=n("txgs"),ne=n("jSIJ"),ae=n("KIX2"),re=n("fn2K"),ie=n("TncE"),oe=n("x0iF"),se=n("0Qjk"),ce=n("NSaG");!function(e){e.isDraftAIMode=function(e,n){return O.g.isSome(t(e.template,n))};var t=function(e,t){return Object(b.pipe)(t.ideas,O.g.map((function(e){var t=e.tactics,n=e.outcomeRequest;return{kind:oe.a.Kind.card,stateRequest:{tactics:t,outcomeRequest:n}}})),O.g.orElse(Object(b.pipe)(e,O.g.filter((function(e){return e.kind===se.b.DoxDocumentSettings.Template.Kind.draft_ai})),O.g.map((function(e){return e.state})))))};e.create=function(e,n){var a=y.a.create(O.g.none),r=ce.a.create(),i=function(e){return O.l.fromIO((function(){a.set(O.g.some(e))}))},o=function(t){return Object(b.pipe)(r.getGoalData(t),O.l.chain((function(n){return O.l.sequenceSeqArray([i(n),O.l.fromIO((function(){return e.updateTemplate(O.g.some(D.a.fromStateRequest({outcomeRequest:t.outcomeRequest,tactics:Object(b.pipe)(n.tactics,O.f.map((function(e){return e.id})))})))}))])})),O.l.map(b.constVoid))};return Object(b.pipe)(t(e.template,n),O.g.filter(oe.a.isCard),O.g.tap((function(e){o(e.stateRequest)()}))),{editorState:a,getGalleryData:r.getGoalsGalleryData,loadPhrases:r.getPhrases,initializeEditorState:o,dismiss:function(){a.set(O.g.none),e.updateTemplate(O.g.none)}}}}(o||(o={}));var le,ue=n("yiiS"),de=n("tiWp"),pe=n("NDcT"),me=n("111I"),fe=n("Z8fX"),he=n("QPnx"),ge=n("1vTd"),be=n("4GyQ"),ve=n("D6wy"),ye=n("sX1a"),Oe=n("fuW0"),Se=n("6+at"),Ce=n("IzGB");!function(e){e.HEADER_TITLE_INPUT_NAME="header-title-input",e.TOOLTIP_DURATION=2e3,e.TITLE_MAX_LENGTH=5e3,e.TITLE_WIDTH_BUFFER=10,e.TITLE_WIDTH_BUFFER_DELAY=500;var t=e.TITLE_VISIBILITY_OFFSET=3.45;e.create=function(e,n,a,r,i){var o=new x.a.BehaviorSubject(0),s=new x.a.BehaviorSubject(!1),c=x.a.combineLatestStatic([n.scrollPosition,n.viewport.pipe(x.a.map((function(e){return e.text}))),a]).pipe(x.a.map((function(e){var t=Object(f.a)(e,3),n=t[0],a=t[1],r=t[2];return{textTop:a.top-n,remSize:r}})),x.a.auditTime(100),x.a.skip(1),x.a.map((function(e){return e.textTop<e.remSize*t})),x.a.startWith(!1),x.a.distinctUntilChanged(),x.a.tap((function(e){return e||s.next(!1)}))),l=function(t){return e.title.set(t)};return{title:e.title,isSidebarOpened:r,isFocused:s,isVisible:c,isSaved:e.saved,inputWidth:o,setInputWidth:function(e){return o.next(e)},setFocus:function(e){return s.next(e)},trackTitleClick:function(){return i.gnarSpec.newTitleButtonClick(i.pageId)},setTitle:l,setPastedTitle:function(e){var t,n=G.f.sanitize(e,{allowedTags:[]}),a=window.getSelection();null!=(null===(t=a)||void 0===t?void 0:t.rangeCount)&&(a.deleteFromDocument(),a.getRangeAt(0).insertNode(document.createTextNode(n)));var r=Object(b.pipe)(a,O.g.fromNullable,O.g.chain((function(e){return O.g.fromNullable(e.focusNode)})),O.g.map((function(e){return e.textContent})),O.g.getOrElse(Object(b.constant)(n)));l(r)}}}}(le||(le={}));var we,ke,Ee,je,_e=n("PltQ"),xe=j.a.keyframes({"5%":{opacity:1},"95%":{opacity:1},"100%":{opacity:0}}),Ae={display:"inline-block",marginTop:j.a.rem(1),color:_e.i,verticalAlign:"top",fontSize:j.a.rem(.6875),lineHeight:j.a.rem(2),opacity:0,pointerEvents:"none",flexShrink:0},Ie={animation:"".concat(xe," 2s linear")},Te=j.a.stylesheet({notSaved:[Ae],saved:[Ae,Ie]}),Me=function(e){var t=e.isSaved,n=e.className;return g.createElement(U.l,Object(p.a)({key:"saved-wrapper","data-name":"save-status"},Object(be.c)(t.pipe(x.a.audit((function(e){return x.a.timer(e?1e3:0)})),x.a.startWith(!1),x.a.map((function(e){return e?Te.saved:Te.notSaved}))),n)),g.createElement(v.a.span,{"data-saved":t.pipe(x.a.startWith(!0))}),"Saved")},Pe=n("2swC"),Ne=n("3n8C"),De={position:"absolute",top:0,right:j.a.rem(1),left:0,zIndex:j.d.level4,marginLeft:j.a.rem(-3),paddingLeft:j.a.rem(3),height:j.a.rem(j.d.toolbarHeight+.5),background:j.c.toolbarGradient,textAlign:"center",lineHeight:j.a.rem(j.d.toolbarHeight),pointerEvents:"all",$nest:{"@media print":{display:"none"}}},Be={position:"relative",display:"inline-block",marginTop:j.a.rem(1),marginRight:j.a.rem(.5),maxWidth:"calc(100% - ".concat(j.a.rem(3),")")},Le={$nest:{"&:before":{position:"absolute",top:0,left:j.a.rem(-.375),zIndex:-1,width:j.a.percent(100),height:j.a.rem(2),borderRadius:j.a.rem(j.d.radius2),background:Pe.a.CoreNeutral10,content:'""',opacity:0,transition:"all .2s"},"&:hover:before":{opacity:1}}},Fe={$nest:(we={},Object(u.a)(we,Ne.a.normal,{maxWidth:"calc(100% - 5rem)"}),Object(u.a)(we,Ne.a.small,{maxWidth:"calc(100% -10rem)"}),Object(u.a)(we,Ne.a.tiny,{maxWidth:"calc(100% - 12rem)"}),Object(u.a)(we,Ne.a.xs,{maxWidth:"calc(100% - 15rem)"}),Object(u.a)(we,Ne.a.xsLower,{maxWidth:"calc(100% - 21rem)"}),Object(u.a)(we,Ne.a.xssUpper,{marginRight:j.a.rem(.5),maxWidth:"calc(100% - 24rem)"}),we)},Re={display:"inline-block",overflow:"hidden",padding:".25rem 0",maxWidth:"calc(100% - .5rem)",outline:"none",border:"none",background:"transparent",verticalAlign:"top",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:"bold",cursor:"pointer",transition:"all .2s",pointerEvents:"all",$nest:{"&[placeholder]:empty:before":{color:Pe.a.CoreNeutral50,opacity:1,content:"attr(placeholder)"},"&:focus":{textOverflow:"unset"}}},He={opacity:1,transition:"opacity .2s",pointerEvents:"none"},Ve={opacity:0},Ue={position:"absolute",left:0,opacity:1},We={fontSize:j.a.rem(.75)},ze={position:"relative",padding:0,letterSpacing:j.a.rem(.05),minWidth:j.a.px(250),maxWidth:j.a.rem(46),width:j.a.percent(100),$nest:Object(u.a)({},Ne.a.xs,{padding:0})},Ge={position:"relative",width:j.a.percent(100),height:j.a.vh(100),pointerEvents:"none"},qe={position:"relative",zIndex:j.d.level5,display:"flex",width:j.a.percent(100),justifyContent:"center"},Ke={width:j.a.percent(100)},$e={position:"absolute",top:0,zIndex:j.d.level4,width:j.a.percent(100),height:j.a.percent(100)},Ze={position:"relative",height:j.a.percent(100)},Ye={marginLeft:j.a.rem(-.75),$nest:Object(u.a)({},Ne.a.xs,{marginLeft:j.a.rem(-1.5)})},Xe={marginRight:j.a.rem(2.25),padding:"0 ".concat(j.a.rem(.125)," 0 0"),background:Pe.a.CoreNeutral0,$nest:(ke={},Object(u.a)(ke,Ne.a.xs,{marginRight:j.a.rem(1.75)}),Object(u.a)(ke,Ne.a.xsLower,{marginRight:j.a.rem(1.75)}),ke)},Qe={left:j.a.important(0)},Je={right:j.a.important(0)},et=j.a.prefixedStylesheet("toolbar",{toolbarTitleContainer:[De],titleWrapper:[{position:"relative"}],headerTitleContainer:[Be],headerTitleHighlight:[Le],headerTitleContainerFull:[Be,Fe],headerTitleContainerFocused:[Le,{$nest:{"&:before":{opacity:1}}}],savedContainer:[He],savedContainerHidden:[He,Ve],savedContainerAbsolute:[He,Ue],savedContainerAbsoluteHidden:[Ve,Ue],savedIndicator:[We],headerContainer:[ze],toolbarWrapperTier:[Ge],headerWrapper:[qe],headerWrapperSqueezed:[qe,{paddingLeft:0}],headerOnboardingWrapper:[Ke],absoluteWrapper:[$e],toolbarContainer:[Ze],formattingShiftedLeft:[Ye],wordCounter:[Xe],footerEmotions:[{position:"absolute",right:0}],flex:[{display:"flex"}],dropdownContainer:[{lineHeight:"normal"}],dropdownListRight:[Qe],dropdownListLeft:[Je]}),tt=j.a.style({position:"absolute",visibility:"hidden",paddingLeft:j.a.important(j.a.rem(1)),maxWidth:j.a.important("calc(100% - ".concat(j.a.rem(3),")")),width:"auto",height:0,whiteSpace:j.a.important("pre")}),nt=j.a.style(Re),at=j.a.style({opacity:0,pointerEvents:"none"}),rt=j.a.joinClasses([ye.Typography.style.base,nt,tt]),it=j.a.joinClasses([ye.Typography.style.base,nt]),ot=j.a.joinClasses([it,at]),st=Object(m.a)(Object(p.a)({},et),{shadow:rt,headerTitle:it,headerTitleHidden:ot}),ct=n("bOc0"),lt=(n("XeeO"),n("ekGJ")),ut=function(e){var t=e.position,n=e.children,a=e.className,r="top"===t;return g.createElement("div",Object(be.c)(lt.container,a),g.createElement("div",{className:lt.scrollWrap},g.createElement("div",{className:r?lt.editorTopContentWrap:lt.editorContentWrap},g.createElement("div",{className:r?lt.editorTopContent:lt.editorContent},n))))},dt=function(e){var t=e.children,n=e.selectionEffect,a=(0,g.useContext(fe.a.Context).withSelectionEffect)(ct.b,n);return g.createElement(a,{theme:{editorContent:lt.editorContentFullWidth,editorContentWrap:lt.editorContentWrapFullWidth}},t)},pt=function(e){return Object(b.flow)(O.g.fromNullable,O.g.tap((function(t){return e({kind:"mount",element:t})()})))},mt=me.b.Grid.make((function(e){var t=e.slots,n=e.state,a=e.view,r=e.notify,i=g.useContext(pe.a.Context),o=g.useContext(fe.a.Context).withSelectionEffect,s=ge.b.createComponent({component:v.a.div,section:ge.b.create(ge.b.Id.title),behavior:Oe.a.FocusBehavior.captureTab}),c=o(fe.a.Effect.PlainContainer,fe.a.Effect.collapse),l=A.b.chooseWhen(a("isOpened")),u=A.b.chooseWhen(a("isFocused"));return g.createElement(v.a.Fragment,null,g.createElement(c,Object(m.a)(Object(p.a)({},Object(be.c)(st.toolbarTitleContainer)),{onMount:pt(r)})),g.createElement("div",{className:st.absoluteWrapper},g.createElement(dt,{selectionEffect:fe.a.Effect.prevent},g.createElement(v.a.div,Object(be.c)(l(st.headerWrapperSqueezed,st.headerWrapper)),g.createElement("div",{className:st.headerContainer},g.createElement(v.a.div,{className:st.titleWrapper},g.createElement(s,Object(be.c)(st.headerTitleHighlight,l(st.headerTitleContainer,st.headerTitleContainerFull),u(st.headerTitleContainerFocused,void 0)),g.createElement(v.a.Fragment,null,n.pipe(x.a.map((function(e){var n=e.showOnboardingTourA11yUpdates;return g.createElement(Se.b,{alignment:"bottom",eventType:"onclick",themes:{containerWrapperClassName:st.headerOnboardingWrapper},stepId:Ce.b.StepId.DocumentTitle,title:n?i.toolbar.title.detailedOnboarding.title:void 0,message:n?i.toolbar.title.detailedOnboarding.message:i.toolbar.title.onboarding.message},g.createElement(ve.a,{title:i.toolbar.title.rename,align:"bottomCenter",duration:le.TOOLTIP_DURATION},t.input))}))))),t.savedIndicator))))),t.measurer)})),ft=me.b.Node.make((function(e){var t=e.view;return g.createElement(v.a.span,{"data-name":"saved-container",className:st.savedContainer},g.createElement(Me,{className:st.savedIndicator,isSaved:t("saved")}))})),ht=me.b.Node.make((function(e){var t=e.view,n=e.notify,a=g.useContext(pe.a.Context);return g.createElement("span",{ref:pt(n),className:st.shadow},g.createElement(v.a.Fragment,null,t("title").pipe(x.a.map((function(e){return Boolean(e)?e:a.toolbar.title.untitledDocument})))))})),gt=me.b.Node.make((function(e){var t=e.state,n=e.view,a=e.notify,r=g.useContext(pe.a.Context);return g.createElement(v.a.Fragment,null,n("key").pipe(x.a.map((function(e){return g.createElement(ye.Typography.H1,{key:e,style:n("inputWidth").pipe(x.a.map((function(e){return{width:e}}))),"data-name":le.HEADER_TITLE_INPUT_NAME,mount:pt(a),contentEditable:!0,spellCheck:!1,maxLength:le.TITLE_MAX_LENGTH,onClick:a({kind:"click"}),onFocus:a({kind:"focus"}),onBlur:a({kind:"blur"}),onKeyDown:function(e){return e.persist(),a({kind:"keydown",event:e})()},onPaste:function(e){e.preventDefault(),a({kind:"paste",value:e.clipboardData.getData("text")})()},onDrop:function(e){return e.preventDefault()},placeholder:r.toolbar.title.untitledDocument,className:st.headerTitle,"aria-label":t.pipe(x.a.map((function(e){var t=e.title;return Boolean(t)?r.toolbar.title.renameLabel(t):r.toolbar.title.untitledDocumentLabel}))),onInput:function(e){return a({kind:"input",element:e.currentTarget})()}})}))))})),bt=me.b.Knot.make(mt,{input:gt,measurer:ht,savedIndicator:ft}),vt=n("5ioF"),yt=n("0kuo"),Ot=function(e,t,n){return me.a.fromSideEffect((function(e){return t(e.element)}),x.a.combineLatestStatic([e.isSidebarOpened,e.isFocused]).pipe(x.a.map((function(e){var t=Object(f.a)(e,2);return{isOpened:t[0],isFocused:t[1],showOnboardingTourA11yUpdates:n.denali.showOnboardingTourA11yUpdates}}))))},St=function(e){return Object(b.flow)(x.a.switchMap((function(t){var n=t.element;return e.title.pipe(x.a.scan((function(e,t){return[e[1],Boolean(t)?t.length:0]}),[0,0]),x.a.switchMap((function(e){var t=Object(f.a)(e,2),a=t[0],r=t[1];return x.a.timer(0,le.TITLE_WIDTH_BUFFER_DELAY).pipe(x.a.map((function(e){return n.offsetWidth+(Boolean(e)||!Boolean(r)||a>r?0:le.TITLE_WIDTH_BUFFER)})),x.a.take(2))})),x.a.startWith(0),x.a.distinctUntilChanged(),x.a.tap(e.setInputWidth))})),x.a.switchMapTo(e.title),x.a.startWith(e.title.get()),x.a.distinctUntilChanged(),x.a.map((function(e){return{title:e}})))},Ct=function(e){return me.a.fromSideEffect(b.constVoid,e.isSaved.pipe(x.a.startWith(!0),x.a.map((function(e){return{saved:e}}))))},wt=function(e){var t=new x.a.BehaviorSubject(G.f.alphanumeric(5));return me.a.fromSideEffect((function(n){switch(n.kind){case"mount":var a;return n.element.textContent=null!==(a=e.title.get())&&void 0!==a?a:"";case"input":var r=Boolean(n.element.textContent)?G.f.sanitize(n.element.textContent,{allowedTags:[]}):"";return Boolean(r)||(n.element.innerHTML=""),r!==n.element.textContent&&(n.element.textContent=r,function(e){var t,n,a=document.createRange();a.selectNodeContents(e),a.collapse(!1);var r=window.getSelection();null===(t=r)||void 0===t||t.removeAllRanges(),null===(n=r)||void 0===n||n.addRange(a)}(n.element)),e.setTitle(r);case"click":return e.trackTitleClick();case"focus":return e.setFocus(!0);case"blur":return t.next(G.f.alphanumeric(5)),e.setFocus(!1);case"keydown":return void(n.event.keyCode===vt.a.ENTER_CODE&&n.event.preventDefault());case"paste":return e.setPastedTitle(n.value);default:return Object(yt.c)(n)}}),x.a.combineLatestStatic([e.title,e.inputWidth,t]).pipe(x.a.map((function(e){var t=Object(f.a)(e,3),n=t[0];return{inputWidth:t[1],title:n,key:t[2]}}))))},kt=function(e,t,n){return me.a.composeKnot({root:Ot(e,t,n),input:wt(e),measurer:St(e),savedIndicator:Ct(e)})};(je=Ee||(Ee={})).UI=bt,je.Flow=kt;var Et=n("vGXj"),jt=n("mMt2"),_t=n("RYaW"),xt=n("ySi0"),At=(n("TQGS"),n("kgER")),It=function(e,t){var n=t.footer;switch(e[0]){case ne.b.wordsCount:return"".concat(e[1].toLocaleString()," ").concat(G.f.pluralize(e[1],n.word,n.words));case ne.b.charsCount:return"".concat(e[1].toLocaleString()," ").concat(G.f.pluralize(e[1],n.character,n.characters));case ne.b.readingTime:return"".concat(G.d.convertTimeToShortString(e[1])," ").concat(n.readingTime);case ne.b.speakingTime:return"".concat(G.d.convertTimeToShortString(e[1])," ").concat(n.speakingTime);case ne.b.readabilityScore:return Object(de.pipe)(e[1],O.g.fold((function(){return n.disabledReadabilityScore}),(function(e){return"".concat(e," ").concat(n.readabilityScore)})));default:return Object(yt.c)(e[1])}},Tt=function(e,t){return t===ne.b.readabilityScore&&O.g.isNone(e[t])},Mt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isSidebarOpen,n=e.className,a=e.children,r=e.mount;return g.createElement(pe.a.Context.Consumer,null,(function(e){return g.createElement(v.a.aside,Object(m.a)(Object(p.a)({},Object(be.c)(t.view(Object(z.c)(At.footerSqueezed,At.footerWrapper)),n)),{"aria-label":e.toolbar.label,mount:r}),g.createElement(dt,{selectionEffect:fe.a.Effect.collapse},a))}))}}]),n}(g.Component);!function(e){e.Container=function(e){var t=e.children,n=e.mount;return g.createElement(v.a.div,Object(m.a)(Object(p.a)({},Object(be.c)(At.footerContainer,At.fContainer)),{mount:n}),t)},e.Item=function(e){var t=e.children,n=e.order,a=e.className,r=e.ariaLabel,i=e.responsive,o=void 0!==i&&i;return g.createElement("section",Object(p.a)({style:{zIndex:n},"aria-label":r},Object(be.c)(a,At.fItem,o&&At.fItemResponsive)),t)},e.IconCounters=function(e){var t=e.counterTuple;return g.createElement(v.a.div,null,t.view(Object(b.flow)(O.g.map((function(e){return g.createElement(xt.d.WordCounter,{key:e[0],className:At.footerWordCounter})})),O.g.toNullable)))},e.Counters=function(e){var t=e.counterTuple,n=g.useContext(pe.a.Context);return g.createElement(v.a.div,{className:At.footerLabelContainer},t.view(Object(b.flow)(O.g.map((function(e){return g.createElement("div",{key:e[0],className:At.counterContainer},g.createElement("div",{className:At.footerLabel},It(e,n)),g.createElement(xt.d.TriangleArrow,{className:At.footerArrow}))})),O.g.toNullable)))};var t=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u.a)(Object(s.a)(e),"context",void 0),Object(u.a)(Object(s.a)(e),"_subs",[]),Object(u.a)(Object(s.a)(e),"_counters",y.a.create(O.g.none)),Object(u.a)(Object(s.a)(e),"_currentCounter",e.props.settingsModel.footerCounterType),Object(u.a)(Object(s.a)(e),"_setCounter",(function(t){return e.props.settingsModel.updateFooterCounterType(t)})),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._subs.push(this.props.documentModel.checkingState.pipe(x.a.filter((function(e){return"idle"===e})),x.a.first(),x.a.switchMapTo(this.props.documentModel.score),x.a.combineLatest(this.props.documentModel.textInfo)).subscribe((function(t){var n=Object(f.a)(t,2),a=n[0],r=n[1];return e._counters.set(Object(de.pipe)(r,O.g.map((function(e){return{wordsCount:e.wordsCount,charsCount:e.charsCount,readingTime:e.readingTime,speakingTime:e.speakingTime,readabilityScore:Object(de.pipe)(a,O.g.map((function(){return e.readabilityScore})))}}))))})))}},{key:"componentWillUnmount",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]}},{key:"render",value:function(){var e=this,t=this.props,n=t.renderLabel,a=t.id,r=t.theme,i=this.context.footer,o=y.a.combine(this._counters,this._currentCounter,(function(e,t){return Object(de.pipe)(e,O.g.map((function(e){return[t,e[t]]})))}));return g.createElement(_t.a.DropdownLifted,{id:a,name:"footer-stats",placement:"top end",onAction:this._setCounter,selectionMode:"single",selectedKeys:Object(de.pipe)(this._currentCounter,x.a.map((function(e){return new Set([e])}))),theme:r,"aria-label":o.view(Object(b.flow)(O.g.map((function(e){return It(e,{footer:i})})),O.g.getOrElse((function(){return"Statistics unavailable"})))),label:n(o),items:y.a.combine(this._counters,this._currentCounter,(function(t,n){return Object(de.pipe)(t,O.g.fold((function(){return[]}),(function(t){return Object.keys(t).map((function(a){return{type:a,key:a,isDisabled:Tt(t,a),currentCounter:n,label:It([a,t[a]],e.context)}}))})))}))},(function(e){return g.createElement(_t.a.Item,{key:e.key,textValue:e.type},e.label)}))}}]),n}(g.Component);Object(u.a)(t,"contextType",pe.a.Context),e.WordCounter=t;e.ResponsiveWordCounter=function(e){var n=e.alignToEnd,a=e.renderLabel,r=e.renderCompactLabel,i=Object(Et.a)(e,["alignToEnd","renderLabel","renderCompactLabel"]),o=_.a.useRectWatcher(),s=o.rect,c=o.onMount,l=_.a.useRectWatcher(),u=l.rect,d=l.onMount,h=x.a.combineLatestStatic([s.pipe(x.b.compact),u.pipe(x.b.compact)]).pipe(x.a.map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return n.width<a.width})),x.a.startWith(!1));return g.createElement(v.a.div,Object(p.a)({mount:c},Object(be.c)(n?At.counterWrapperEnd:At.counterWrapperStart)),g.createElement(t,Object(m.a)(Object(p.a)({},i),{renderLabel:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.createElement(g.Fragment,null,g.createElement(v.a.div,Object(p.a)({mount:d},Object(be.c)(At.counterLabelContainerFull,h.pipe(x.a.map(Object(z.c)(At.counterLabelShadow,null))))),a.apply(void 0,Object(jt.a)(t))),g.createElement(v.a.div,Object(be.c)(h.pipe(x.a.map(Object(z.c)(null,At.counterLabelShadow)))),r.apply(void 0,Object(jt.a)(t))))}})))}}(Mt||(Mt={}));var Pt,Nt=n("fC5a"),Dt=n("zK/v"),Bt=n("CRC+"),Lt=n("t39C"),Ft=n("AvMM"),Rt=(n("rxvB"),n("IPPO")),Ht=function(e){var t=e.view,n=g.useContext(pe.a.Context).emogenie.popup,a=n.title,r=n.subtitle,i=g.useContext(P.a.Context),o=i.gnarSpec,s=i.pageId;return g.useEffect((function(){var e=t.subscribe((function(e){if(Ft.a.View.isReport(e)){var t=e.primaryItem.name;o.emotionsPopupShow(t,s)}}));return function(){return e.unsubscribe()}}),[t,o,s]),g.createElement(v.a.Fragment,null,t.view((function(e){return Ft.a.View.isReport(e)?g.createElement(Bt.a,{key:"emogenie-dropdown",name:"emotions",align:"right",appearanceBehavior:"mouseHover",dontCloseOnClickInside:!0,theme:{dropdownList:Rt.wrapper},onVisibilityChange:function(t){if(t){var n=e.primaryItem.name;o.emotionsPopupClick(n,s)}},label:g.createElement(v.a.Fragment,null,t.view((function(e){return e})).view((function(e){var t=e.primaryItem;return g.createElement("div",{className:Rt.primaryItemWrapper},g.createElement(Lt.b,{className:Rt.primaryItem},t.emoji))})))},g.createElement(g.Fragment,null,g.createElement(U.e,null,a),g.createElement(U.a,null,r),g.createElement(v.a.div,{className:Rt.report},t.view((function(e){return e})).view((function(e){var t=e.primaryItem,n=e.secondaryItems;return g.createElement(g.Fragment,null,g.createElement(Vt,{item:t}),n.map((function(e){return g.createElement(Vt,{item:e,key:e.name})})))}))))):g.createElement(Nt.a.Ghost,{name:"emogenie-zero",disabled:!0,title:Object(de.pipe)(e.tooltipText,O.g.map((function(e){return g.createElement("div",{className:Rt.zeroStateTooltip},e)})),O.g.orUndefined)},g.createElement(xt.d.NoTone,{className:Rt.primaryItemIcon}))})))},Vt=function(e){var t=e.item;return g.createElement("div",{className:Rt.reportItem},g.createElement(Lt.b,{className:Rt.reportItemEmoji},t.emoji),g.createElement(U.a,{className:Rt.reportItemName},t.name),g.createElement(Ut,{className:Rt.reportItemIntensity,intensity:t.intensity,caption:t.intensityCaption}),g.createElement("div",{className:Rt.reportItemActions},g.createElement(Nt.a.Ghost,{className:Rt.button,animationMode:Dt.a.None,title:t.actions.like.tooltip,name:t.actions.like.name,onClick:t.actions.like.handler,disabled:t.actions.like.disabled,active:t.actions.like.active},g.createElement(xt.d.VotedUp,null)),g.createElement(Nt.a.Ghost,{className:Rt.button,animationMode:Dt.a.None,disabled:t.actions.dislike.disabled,title:t.actions.dislike.tooltip,name:t.actions.dislike.name,onClick:t.actions.dislike.handler,active:t.actions.dislike.active},g.createElement(xt.d.VotedDown,null))))},Ut=function(e){var t=e.intensity,n=e.caption,a=e.className;return g.createElement("span",{className:a},g.createElement(ve.a,{title:n,align:"topCenter"},g.createElement("span",null,Ft.a.intensitiesOrder.map((function(e){return g.createElement("span",Object(p.a)({key:e},Object(be.c)(Rt.intensityItem,e<=t?Rt.intensityColor:Rt.intensityNoColor)))})))))},Wt=(n("IDuB"),n("Tqii")),zt=function(){var e=g.useContext(pe.a.Context).footer.rtfCompatibilityInfo,t=g.useContext(P.a.Context),n=t.gnarSpec,a=t.pageId;return g.useEffect((function(){n.rtfCompatibilityViewBlockShow(a)})),g.createElement(U.l,{className:Wt.rtfDisabledMessage},g.createElement(Lt.b,null,e.message.plainText),g.createElement(ve.a,{align:"topCenter",title:g.createElement("div",{className:Wt.rtfTooltip},e.tooltip)},g.createElement("span",{className:Wt.rtfDisabled},e.message.textWithTooltip)),".")},Gt=n("Y5pM");!function(e){e.isTitleInput=function(e){return Boolean(e)&&e.dataset.name===le.HEADER_TITLE_INPUT_NAME};e.Component=function(e){var t=e.denaliEditor,a=e.documentModel,r=e.settingsModel,i=e.formattingViewModel,o=e.emotionsViewModel,s=e.viewportPadding,c=e.navigationViewModel,l=e.features,u=g.useContext(w.a.Context),d=g.useContext(P.a.Context),p=_.a.useElWatcher(),m=p.ref,h=p.onMount,b=y.a.create(O.g.none);return _.a.useSubscriptionTo(x.a.combineLatestStatic([b,m.pipe(x.b.compact),u]).pipe(x.a.map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return s.set({top:a.offsetHeight,bottom:Object(de.pipe)(n,O.g.fold((function(){return 0}),(function(e){return e.offsetHeight})))})})))),g.createElement(v.a.div,{className:st.toolbarWrapperTier},me.b.mount(Ee.UI,Ee.Flow(le.create(a,t,u,c.state.view("isSidebarOpen"),d),h,l)),g.createElement(v.a.div,{className:st.toolbarContainer},g.createElement(n,{footerEl:b,formattingViewModel:i,documentModel:a,settingsModel:r,emotionsViewModel:o,navigationViewModel:c})))};var t=ge.b.createComponent({component:Mt.Container,section:ge.b.create(ge.b.Id.formatting)}),n=function(e){var n=e.footerEl,r=e.navigationViewModel,i=e.formattingViewModel,o=e.documentModel,s=e.settingsModel,c=e.emotionsViewModel;return g.createElement(Mt,{className:lt.overlayClickableEl,mount:function(e){return n.set(O.g.fromNullable(e))},isSidebarOpen:r.state.view("isSidebarOpen")},g.createElement(t,null,g.createElement(a,{rtfMode:o.rtfMode,toolbarViewModel:Object(de.pipe)(i,O.g.map((function(e){return e.toolbarViewModel})))}),g.createElement(Mt.Item,{className:st.wordCounter,order:2,responsive:!0},g.createElement(Mt.ResponsiveWordCounter,{id:"big-word-counter",alignToEnd:o.rtfMode!==he.DocumentFeatures.FormattingMode.off,theme:{button:st.dropdownContainer,list:o.rtfMode!==he.DocumentFeatures.FormattingMode.off?st.dropdownListLeft:st.dropdownListRight},documentModel:o,settingsModel:s,renderLabel:function(e){return g.createElement(Mt.Counters,{counterTuple:e})},renderCompactLabel:function(e){return g.createElement(Mt.IconCounters,{counterTuple:e})}})),g.createElement(v.a.Fragment,null,Object(de.pipe)(c,O.g.map((function(e){return g.createElement(Mt.Item,{className:st.footerEmotions,order:2},g.createElement(Ht,{view:e.visualState}))})),O.g.orNull))))},a=function(e){var t=e.rtfMode,n=e.toolbarViewModel,a=g.useContext(fe.a.Context).withSelectionEffect,r=g.useContext(pe.a.Context),i=a(fe.a.Effect.PlainContainer,fe.a.Effect.resetAsap),o=t===he.DocumentFeatures.FormattingMode.compatibility;return g.createElement(g.Fragment,null,o?g.createElement(Mt.Item,{order:0},g.createElement(zt,null)):Object(de.pipe)(n,O.g.fold(b.constNull,(function(e){return g.createElement(Mt.Item,{className:st.formattingShiftedLeft,order:0,ariaLabel:r.toolbar.formatting.head},g.createElement(i,null,g.createElement(Gt.b,{viewModel:e})))}))))}}(Pt||(Pt={}));var qt=n("eGLn"),Kt=n("/taW"),$t=function(){function e(t,n,a,r){var i=this;Object(c.a)(this,e),Object(u.a)(this,"_docModel",void 0),Object(u.a)(this,"_doxInit",void 0),Object(u.a)(this,"_doxEvents",void 0),Object(u.a)(this,"_log",void 0),Object(u.a)(this,"_subs",void 0),Object(u.a)(this,"_settingsHolder",void 0),Object(u.a)(this,"_title",void 0),this._docModel=t,this._doxInit=n,this._doxEvents=a,this._log=T.d.Logging.getLogger("DoxSyncManager"),this._log.debug("Got initial text, len: "+n.initialDelta.length),this._settingsHolder=n.meta.settings,this._title=n.meta.title;var o=Object(de.pipe)(a.dox,x.a.filter((function(e){return"metadata_change"===e.kind})),x.a.map((function(e){return e})));this._subs=[r.subscribe((function(){return i._docModel.saved.next(!1)})),this._docModel.title.pipe(x.a.filter((function(e){return e!==i._title})),x.a.tap((function(e){return i._docModel.saved.next(!1)})),x.a.debounceTime(1e3)).subscribe((function(e){i._updateTitle(Boolean(e)?e:"")})),this._docModel.context.pipe(x.a.skip(1)).subscribe((function(e){var t=i._settingsHolder.changeContext(e);i._updateSettings(t)})),this._docModel.extraSettings.changes.subscribe((function(e){var t=i._settingsHolder.changeExtra(e);i._updateSettings(t)})),this._docModel.checkingState.pipe(x.a.combineLatest(this._docModel.counters),x.a.filter((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return"idle"===n&&Kt.b.isValid(a)})),x.a.map((function(e){var t=Object(f.a)(e,2);t[0];return t[1]})),x.a.skip(1),x.a.debounceTime(1e3),x.a.distinctUntilChanged()).subscribe((function(e){i._updateMetadata({errors:e.advanced+e.critical})})),o.subscribe((function(e){var t=e.documentMetadata;i._settingsHolder=t.settings,Object(de.pipe)(t.proofit,O.g.fold(z.e,(function(e){return i._docModel.proofit.updateState(e)}))),i._title=t.title,i._docModel.title.set(t.title)})),this._doxEvents.acceptedMessage.subscribe((function(){i._docModel.saved.next(i._doxInit.remoteDocument.inSync)})),this._doxEvents.droppedMessages.subscribe((function(e){var t=e.messages,n=e.reason,a=i._groupMessages(t);Boolean(a.change)&&i._log.warn("got dropped messages",{counts:a,reason:n}),i._docModel.saved.next(i._doxInit.remoteDocument.inSync)}))]}return Object(l.a)(e,[{key:"dispose",value:function(){this._subs.forEach((function(e){return e.unsubscribe()}))}},{key:"_updateSettings",value:function(e){this._docModel.saved.next(!1),this._settingsHolder=e,this._updateMetadata({settings:e})}},{key:"_updateTitle",value:function(e){this._docModel.saved.next(!1),this._title=e,this._updateMetadata({title:e})}},{key:"_updateMetadata",value:function(e){var t=this;O.l.toPromise(this._doxInit.remoteDocument.updateMetadata(e)).catch((function(e){return qt.b.isNotConnectedError(e)?t._log.warn("Could not update document metadata",e):t._log.error("Error on update document metadata",e)}))}},{key:"_groupMessages",value:function(e){return e.reduce((function(e,t){return void 0===e[t.kind]&&(e[t.kind]=0),e[t.kind]++,e}),{})}}],[{key:"createDoxEventsCollector",value:function(){return{dox:new x.a.Subject,acceptedMessage:new x.a.Subject,droppedMessages:new x.a.Subject}}}]),e}(),Zt=n("LzOy"),Yt=n("0Uv3"),Xt=n("MK74"),Qt=n("Hj2R"),Jt=n("AHUV"),en=n("mEGS"),tn=n("La5+"),nn=n("K40b"),an=n("80m+"),rn=n("aSrO"),on=n("f38j"),sn=n("4EEI"),cn=n("Hkin");function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||hn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(e){return function(e){if(Array.isArray(e))return ln(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||hn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e,t){if(e){if("string"==typeof e)return ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(e,t):void 0}}var gn=function(){function e(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new cn.a,i=this;un(this,e),pn(this,"_getByRawAlertId",void 0),pn(this,"popoverManager",void 0),pn(this,"state",void 0),pn(this,"_sduiManager",void 0),pn(this,"_subs",void 0),pn(this,"_log",void 0),pn(this,"alertIdResolver",void 0),pn(this,"findFirstCardWithContent",void 0),pn(this,"onSessionStarted",void 0),pn(this,"onFirstCheckingFinished",void 0),pn(this,"notifyAlertsChanged",void 0),pn(this,"loadItems",void 0),pn(this,"_toRemovedAlertIdsByClient",void 0),this._getByRawAlertId=a,this.popoverManager=r,this._subs=new tn.a.Keeper,this._log=T.d.Logging.getLogger("SDUIManager",T.a.LogLevel.TRACE,T.a.LogColor.Manager.getColor()),this.findFirstCardWithContent=function(e){return i._sduiManager.findFirstCardWithContent(e)},this.onSessionStarted=function(){return i._sduiManager.onSessionStarted()},this.onFirstCheckingFinished=function(){return i._sduiManager.onFirstCheckingFinished()},this.notifyAlertsChanged=function(){return i._sduiManager.notifyAlertsChanged()},this.loadItems=function(e){return i._sduiManager.loadItems(e)},this._toRemovedAlertIdsByClient=function(e){var t=function(e,t,n){return Object(z.p)(Qt.a.isRemovedByTextChange,Qt.a.isDuplicated)(t.alert)?Object(b.pipe)(n,O.g.fromNullable,O.g.chain((function(e){return e.alert.rawId})),O.g.alt((function(){return t.alert.rawId})),O.g.fold((function(){return e}),(function(n){var a,r=Qt.a.isRemovedByTextChange(t.alert)?rn.c.TextChange:rn.c.RemoveDuplicate;return i._log.debug("[Optimistic update] alert ".concat(Qt.a.State.Type.REMOVED," by ").concat(r," ").concat(Jt.a.show.show(t))),e.set(r,fn(null!==(a=e.get(r))&&void 0!==a?a:[]).concat([on.a.AlertId.from(n)]))}))):e};return e.pipe(x.a.pairwise(),x.a.map(Object(b.tupled)(en.a.diff)),x.a.map((function(e){return nn.a.reduce(new Map,(function(e,n){return t(e,n)}),(function(e,n,a){return t(e,a,n)}),b.identity)(e)})),x.a.filter((function(e){return Object(b.pipe)(Array.from(e.values()),O.a.flatten,Object(z.m)(O.a.isEmpty))})))};var o=n.pipe(x.a.filter(sn.a.isSduiEvent),x.a.map(rn.a.fromSource(rn.c.CAPI))),s=Object(b.flow)(Xt.A.Id.create,this._getByRawAlertId,O.g.map((function(e){return on.a.AlertId.from(e.id)})));this._sduiManager=new an.b(o,s,r),this.alertIdResolver=s,this.state=this._sduiManager.state,this._subs.push(t.subscribe((function(e){return i._sduiManager.notifyAlertsChanged()})),this._toRemovedAlertIdsByClient(t).subscribe((function(e){return e.forEach((function(e,t){return i.pushRemovedAlerts([e,t])}))})),n.pipe(x.a.filter(se.a.CAPIEvent.is("session_started")),x.a.filter((function(e){return e.isNewSession}))).subscribe((function(e){return i._sduiManager.onSessionStarted()})),n.pipe(x.a.filter(se.a.CAPIEvent.is("finish")),x.a.filter((function(e){return 0===e.revision}))).subscribe((function(e){return i._sduiManager.onFirstCheckingFinished()})))}var t,n,a;return t=e,(n=[{key:"onAlertsRefEmpty",get:function(){return this._sduiManager.onAlertsRefEmpty}},{key:"pushRemovedRoot",value:function(e){this._sduiManager.pushRemovedRoot(e)}},{key:"pushRemovedAlerts",value:function(e){var t=mn(e,2),n=t[0],a=t[1];this._sduiManager.pushRemovedAlerts([n,a])}},{key:"pushRemovedDenaliAlerts",value:function(e){var t=mn(e,2),n=t[0],a=t[1];this._sduiManager.pushRemovedAlerts([n.map(on.a.AlertId.from),a])}},{key:"pushSwitchView",value:function(e){this._sduiManager.pushSwitchView(e)}},{key:"resolveStrongAlertRefAlerts",value:function(e){return this._sduiManager.resolveStrongAlertRefAlerts(e)}},{key:"flush",value:function(){this._sduiManager.flush()}},{key:"dispose",value:function(){this._subs.dispose(),this._sduiManager.dispose()}}])&&dn(t.prototype,n),a&&dn(t,a),e}(),bn=n("yQCL"),vn=n("wqt/"),yn=n("Yqho"),On=n("vf87"),Sn=n("eBv/"),Cn=n("tCI5"),wn=n("Fg+b");function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function En(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){jn(e,t,n[t])}))}return e}function xn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function An(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var In=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jn(this,"onFeedRemove",new x.a.Subject),jn(this,"onFeedEmpty",new x.a.Subject),jn(this,"_header",new x.a.ReplaySubject(1)),jn(this,"_footer",new x.a.ReplaySubject(1)),jn(this,"_feeds",new Map),jn(this,"_currentCards",y.a.create(Sn.a.empty)),jn(this,"_feed",new x.a.BehaviorSubject(void 0)),jn(this,"_feedStack",new x.a.BehaviorSubject([])),jn(this,"_cardIdToFocus",new x.a.Subject),jn(this,"_subs",new tn.a.Keeper),jn(this,"_log",T.d.Logging.getLogger("SDUIFeedManager",T.a.LogLevel.TRACE,T.a.LogColor.Manager.getColor())),jn(this,"_forceFeedInternalInfo",new x.a.Subject),jn(this,"_getFeedContent",Object(b.flow)(this._getFeed,O.b.map((function(e){return e.content})),O.b.unsafeGet)),jn(this,"_changeFeed",(function(e){n._feed.next(e),Object(b.pipe)(e.cards,Sn.a.applyDiff,O.j.map(vn.a.recover((function(e){return n._log.error("conflicts on diff apply",e)}))),(function(t){var a=n._currentCards.get(),r=t(a);if(a.entries.size>0&&0===r.entries.size){var i=n._feeds.get(e.feedId);void 0!==i&&n.onFeedEmpty.next(i)}n._currentCards.modify(t)}))}));var a=x.a.mergeStatic(this._feedStack.pipe(x.a.map((function(e){return O.g.fromNullable(e[e.length-1])})),x.b.compact,x.a.map((function(e){return n._getFeedInternalInfo(e.feedId,e.focusedCardId)}))),this._forceFeedInternalInfo),r=x.a.mergeStatic(this._feedStack.pipe(x.a.distinctUntilKeyChanged("length"),x.a.map((function(e){return O.g.fromNullable(e[e.length-1])})),x.b.compact,x.a.map((function(e){return n._getFeedInternalInfo(e.feedId,e.focusedCardId)}))),this._forceFeedInternalInfo),i=this._cardIdToFocus.pipe(x.a.withLatestFrom(this._feedStack.pipe(x.a.map((function(e){var t;return null===(t=e[e.length-1])||void 0===t?void 0:t.focusedCardId})))),x.a.filter((function(e){var t=An(e,2);return t[0]!==t[1]})),x.a.map((function(e){return An(e,1)[0]})),x.a.withLatestFrom(this.feed),x.a.map((function(e){var t=An(e,2),a=t[0],r=t[1];return n._getFeedInternalInfo(r.feedId,on.a.Item.Id.from(a))}))),o=t.pipe(x.a.startWith(On.a.empty),x.a.pairwise(),x.a.map((function(e){var t=An(e,2),n=t[0],a=t[1];return On.a.diff(n,a)})),x.a.map((function(e){return n._processSDUIItems(e)})),x.a.withLatestFrom(a),x.a.map((function(e){var t=An(e,2),n=t[0],a=t[1],r=a.feedOrd,i=a.feedFilter;return{feedId:a.feedId,cards:Object(b.pipe)(n,nn.a.filter(i,(function(e,t){return i(t)}),i)),feedOrd:r,itemIdToSelect:O.g.none}}))),s=x.a.mergeStatic(r,i).pipe(x.a.withLatestFrom(t,this._currentCards),x.a.map((function(e){var t=An(e,3),n=t[0],a=n.feedOrd,r=n.feedFilter,i=n.feedId,o=n.itemIdToSelect,s=t[1],c=t[2],l=Object(b.pipe)(s,Sn.a.iso.unwrap,(function(e){return Object(b.pipe)(e.entries,yn.g(r))}));return{feedId:i,cards:Sn.a.diffFromEntries(c.entries,l),feedOrd:a,itemIdToSelect:o}})));this._subs.push(x.a.mergeStatic(o,s).subscribe(this._changeFeed)),this._subs.push(r.pipe(x.a.pluck("header")).subscribe((function(e){return n._header.next(e)}))),this._subs.push(r.pipe(x.a.pluck("footer")).subscribe((function(e){return n._footer.next(e)})))}var t,n,a;return t=e,(n=[{key:"header",get:function(){return this._header.asObservable()}},{key:"footer",get:function(){return this._footer.asObservable()}},{key:"feed",get:function(){return this._feed.pipe(x.a.filter(z.i))}},{key:"currentFeed",get:function(){return O.g.fromNullable(this._feed.getValue())}},{key:"_getFeed",value:function(e){var t=this._feeds.get(e);return void 0===t?O.b.left("Cannot switch to feed. Feed with id '".concat(e,"' not found.")):O.b.right(t)}},{key:"_getFeedInternalInfo",value:function(e,t){var n=this._getFeedContent(e);return{feedId:e,feedFilter:function(e){var t=Tn(e.content);return!O.g.isNone(t)&&n.filtering.reduce((function(e,n){return!1===e?e:Object(b.pipe)(t,O.g.chain((function(e){return O.g.fromNullable(e[n.property])})),O.g.fold((function(){return n.condition===Cn.a.ContentAssistantFeedFilteringCondition.NotEqualTo}),(function(e){return n.condition===Cn.a.ContentAssistantFeedFilteringCondition.EqualTo?e===n.value:e!==n.value})))}),!0)},feedOrd:Object(bn.fold)(O.h.getMonoid())(n.ordering.map((function(e){return Object(b.pipe)(O.h.ordNumber,O.h.contramap(Object(b.flow)(Tn,O.g.chain((function(t){return O.g.fromNullable(t[e.orderBy])})),O.g.fold((function(){return Number.MAX_VALUE}),(function(t){return e.direction===Cn.a.ContentAssistantFeedOrderingDirection.Asc?t:-1*t})))))}))),itemIdToSelect:O.g.some(t),header:n.header,footer:O.g.fromNullable(n.footer)}}},{key:"pushFeed",value:function(e,t){var n=this;return Object(b.pipe)(this._getFeed(e),O.b.map((function(){var a=n._feedStack.getValue();return a=a.concat({feedId:e,focusedCardId:t?on.a.Item.Id.from(t):void 0}),n._feedStack.next(a),null})))}},{key:"popFeed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O.g.none,t=this,n=this._feedStack.getValue();if(n.length>1)return n=n.slice(0,n.length-1),void this._feedStack.next(n);Object(b.pipe)(e,O.g.fold((function(){return t._log.warn("Invoked `popFeed()` when there are less than 2 feeds in the feed stack, this is a no-op. No fallback feed provided.")}),(function(e){t.pushFeed(on.a.Item.Id.from(e.feedId),e.cardId),t._log.debug("Invoked 'popFeed()' when there are less than 2 feeds in the feed stack. Switching to the provided fallback feed. ".concat(JSON.stringify(e)))})))}},{key:"focusCard",value:function(e){var t=this;return Object(b.pipe)(this.currentFeed,O.b.fromOption((function(){return"Cannot focus card when there is no active feed."})),O.b.map((function(){return t._cardIdToFocus.next(e),null})))}},{key:"notifyCardFocused",value:function(e){var t=this._feedStack.getValue(),n=t[t.length-1];Object(yt.f)(void 0!==n,"notifyCardFocused: Feed stack cannot be empty."),t=t.slice(0,t.length-1).concat(xn(_n({},n),{focusedCardId:e})),this._feedStack.next(t)}},{key:"_processSDUIItems",value:function(e){var t=this;return nn.a.fromMutation((function(n){Object(b.pipe)(e,nn.a.forEach((function(e){void 0!==t._feeds.get(e.id)?(t._feeds.delete(e.id),Object(b.pipe)(t.currentFeed,O.g.filter((function(t){return t.feedId.toString()===e.id.toString()})),O.g.tap((function(){return t.onFeedRemove.next(e)})))):n.set(e.id,O.m.left(e))}),(function(e,a){if("assistantFeed"===a.content.type){var r=a.content;void 0!==t._feeds.get(e.id)?(t._feeds.set(e.id,xn(_n({},a),{content:r})),Object(b.pipe)(t.currentFeed,O.g.filter((function(t){return t.feedId===e.id})),O.g.map((function(e){t._header.next(r.header),t._footer.next(O.g.fromNullable(r.footer))})))):t._log.warn("Feed with id '".concat(e.id,"' not found for update"))}else n.set(e.id,O.m.both(e,a))}),(function(e){if("assistantFeed"===e.content.type){var a=e.content;t._feeds.set(e.id,xn(_n({},e),{content:a}))}else n.set(e.id,O.m.right(e))})))}))}},{key:"dispose",value:function(){this._subs.dispose()}}])&&En(t.prototype,n),a&&En(t,a),e}();function Tn(e){var t=!0,n=!1,a=void 0;try{for(var r,i=wn.a.traverse(e)[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;if("longFormCard"===o.type)return O.g.some(o.feedProperties);if("assistantCard"===o.type&&o.properties)return O.g.some(o.properties)}}catch(e){n=!0,a=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}return O.g.none}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Pn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Bn=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Nn(this,"_state",new Map),Nn(this,"_subs",new tn.a.Keeper),Nn(this,"_log",T.d.Logging.getLogger("SDUIInlineManager",T.a.LogLevel.TRACE,T.a.LogColor.Manager.getColor())),this._subs.push(t.pipe(x.a.startWith(On.a.empty),x.a.pairwise(),x.a.map((function(e){var t=Dn(e,2),n=t[0],a=t[1];return On.a.diff(n,a)})),x.a.map((function(e){return n._processSDUIItems(e)}))).subscribe())}var t,n,a;return t=e,(n=[{key:"getInlineItemForAlert",value:function(e){return O.g.fromNullable(this._state.get(e))}},{key:"_processSDUIItems",value:function(e){var t=this;Object(b.pipe)(e,nn.a.forEach((function(e){Ln(e)&&(t._log.trace("inline item removed",{alertIds:e.alertIds,itemId:e.id}),e.alertIds.forEach((function(e){return t._state.delete(e)})))}),(function(e,n){Ln(n)&&(t._log.trace("inline item updated",{alertIds:n.alertIds,itemId:n.id}),n.alertIds.forEach((function(e){return t._state.set(e,n)})))}),(function(e){Ln(e)&&(t._log.trace("inline item added",{alertIds:e.alertIds,itemId:e.id}),e.alertIds.forEach((function(n){return t._state.set(n,e)})))})))}},{key:"dispose",value:function(){this._subs.dispose()}}])&&Pn(t.prototype,n),a&&Pn(t,a),e}(),Ln=function(e){return Object(b.pipe)(wn.a.findFirst(e.content,"inlineCard"),O.g.isSome)};function Fn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Rn(this,"_capiSDUIClient",void 0),Rn(this,"_log",void 0),this._capiSDUIClient=t,this._log=T.d.Logging.getLogger("SDUIFeedbackServiceImpl")}var t,n,a;return t=e,(n=[{key:"sendUserAction",value:function(e,t){var n=this;this._log.debug("Sending user action",{componentId:e,userAction:t}),Object(b.pipe)(this._capiSDUIClient.sendUserAction(e,t),O.l.toPromise,(function(e){return e.catch((function(e){qt.a.isDroppedError(e)?n._log.debug("Stopped listening for sendUserAction message acknowledge",e):qt.b.isNotConnectedError(e)?n._log.warn("Failed to sendUserAction as CAPI was not connected",e):n._log.error("Failed to sendUserAction",e)}))}))}}])&&Fn(t.prototype,n),a&&Fn(t,a),e}(),Vn=n("CulD"),Un=n("0mi2"),Wn=n("cMhG"),zn=n("2pro"),Gn=n("Vqae"),qn=n("zOHC"),Kn=n("lA0O"),$n=n("rOJn"),Zn=n("qcZB"),Yn=n("cj5G"),Xn=n("F0Vm"),Qn=n("/edk");class Jn{pushChanges(e){return()=>Qn.a.isReset(e)&&!this._capiConnection.wasStarted?(this._log.debug("Got new Reset, triggering connection"),this._initialDelta=e,this._capiConnection.connect(this._connectFromResetSource,!1).then(([e,t])=>O.b.right(void 0!==t?O.g.some(t):O.g.none)).catch(e=>(this._log.warn("failed to connect to CAPI",e),O.b.left(e)))):this._capiConnection.wasStarted?this._isReady?this._capi.pushChanges(e)():(this._log.debug("Skipped sending change to CAPI as it is not ready yet"),this._initialDelta&&Qn.a.isDelta(e)&&(this._log.debug("Got change while establishing new CAPI connection, appending to initial Delta"),Object(de.pipe)(this._initialDelta.compose(e),O.b.fold(()=>{this._log.error("Got invalid change while establishing new CAPI connection, skiping")},e=>{this._initialDelta=e}))),this._capiConnection.isIdle?(this._log.debug("received new change while CAPI is idle, connecting"),this._capiConnection.connect(this._connectFromIdleSource,!1).catch(e=>this._log.warn("failed to connect to CAPI",e)).then(()=>O.b.right(O.g.none))):(this._log.debug("capi is not idle, skip capi reconnect"),Promise.resolve(O.b.right(O.g.none)))):(this._log.debug("Skipped sending change to CAPI as it is not started yet, triggering new connection"),this._capiConnection.connect(this._connectFromIdleSource,!1).catch(e=>this._log.warn("failed to connect to CAPI",e)).then(()=>O.b.right(O.g.none)))}registerExternalMessageHandler(e){this._capi.registerExternalMessageHandler(e)}get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}_checkConnected(){this._capiConnection.isIdle?(this._log.debug("received new command while CAPI connection is idle, connecting"),this._capiConnection.connect(this._connectFromIdleSource,!1).catch(e=>this._log.warn("failed to connect to CAPI",e))):this._log.trace("already connected or cannot connect, skipping")}dispose(){this._subs.forEach(e=>e.unsubscribe())}constructor(e,t,n,a){Object(u.a)(this,"_events",void 0),Object(u.a)(this,"_capi",void 0),Object(u.a)(this,"_ded",void 0),Object(u.a)(this,"_capiConnection",void 0),Object(u.a)(this,"_log",void 0),Object(u.a)(this,"_subs",void 0),Object(u.a)(this,"_initialDelta",void 0),Object(u.a)(this,"_isReady",void 0),Object(u.a)(this,"_connectFromIdleSource",void 0),Object(u.a)(this,"_connectFromResetSource",void 0),Object(u.a)(this,"setSessionOption",void 0),Object(u.a)(this,"sendFeedback",void 0),Object(u.a)(this,"requestDocStats",void 0),Object(u.a)(this,"requestSynonyms",void 0),Object(u.a)(this,"requestSnippets",void 0),Object(u.a)(this,"requestWritingExpert",void 0),Object(u.a)(this,"shortenItSubmit",void 0),Object(u.a)(this,"enablePlagiarismSearch",void 0),Object(u.a)(this,"disablePlagiarismSearch",void 0),Object(u.a)(this,"enableWritingExpert",void 0),Object(u.a)(this,"disableWritingExpert",void 0),Object(u.a)(this,"realtimeProofitSubmit",void 0),Object(u.a)(this,"realtimeProofitCancel",void 0),Object(u.a)(this,"submitRecipients",void 0),Object(u.a)(this,"submitScoreSurveyResult",void 0),Object(u.a)(this,"submitSurvey",void 0),Object(u.a)(this,"sendUserAction",void 0),Object(u.a)(this,"sendDebugReport",void 0),Object(u.a)(this,"ping",void 0),Object(u.a)(this,"getText",void 0),Object(u.a)(this,"close",void 0),Object(u.a)(this,"isClosed",void 0),Object(u.a)(this,"resetReconnectInfo",void 0),Object(u.a)(this,"updateContextInfo",void 0),Object(u.a)(this,"setContext",void 0),Object(u.a)(this,"published",void 0),Object(u.a)(this,"enqueueExternalCommand",void 0),this._events=e,this._capi=t,this._ded=n,this._capiConnection=a,this._log=T.d.Logging.getLogger("CapiSyncManager"),this._subs=[],this._isReady=!1,this._connectFromIdleSource=()=>{this._ded.flushChanges();const e=this._ded.getContents();return this._log.debug("sending ded current delta",H.a.anonymizeTextAndStringAttrs(e.delta)),e},this._connectFromResetSource=()=>{const e=this._initialDelta?this._initialDelta:this._ded.getContents();return this._initialDelta=void 0,e},this.setSessionOption=e=>Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.setSessionOption(e))),this.sendFeedback=e=>Object(de.pipe)(this._capi.sendFeedback(e),O.l.fold(e=>Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.fold(yt.c,()=>O.l.left(e))),()=>O.l.right(void 0))),this.requestDocStats=Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.requestDocStats)),this.requestSynonyms=(e,t)=>Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.requestSynonyms(e,t))),this.requestSnippets=e=>Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.requestSnippets(e))),this.requestWritingExpert=()=>Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.requestWritingExpert())),this.shortenItSubmit=e=>Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.shortenItSubmit(e))),this.enablePlagiarismSearch=Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.enablePlagiarismSearch)),this.disablePlagiarismSearch=Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.disablePlagiarismSearch)),this.enableWritingExpert=Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.enableWritingExpert)),this.disableWritingExpert=Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.disableWritingExpert)),this.realtimeProofitSubmit=e=>Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.realtimeProofitSubmit(e))),this.realtimeProofitCancel=Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.realtimeProofitCancel)),this.submitRecipients=e=>Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.submitRecipients(e))),this.submitScoreSurveyResult=(e,t)=>Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.submitScoreSurveyResult(e,t))),this.submitSurvey=e=>Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.submitSurvey(e))),this.sendUserAction=(e,t)=>Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.sendUserAction(e,t))),this.sendDebugReport=(e,t)=>Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.sendDebugReport(e,t))),this.ping=Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.ping)),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.resetReconnectInfo=()=>this._capi.resetReconnectInfo(),this.updateContextInfo=e=>Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.updateContextInfo(e))),this.setContext=e=>Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.setContext(e))),this.published=()=>Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.published())),this.enqueueExternalCommand=e=>Object(de.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.enqueueExternalCommand(e))),this._subs.push(this._events.pipe(x.a.filter(se.a.CAPIEvent.is("ready")),x.a.switchMapTo(this._events.pipe(x.a.filter(se.a.CAPIEvent.is("disconnect")),x.a.take(1),x.a.mapTo(!1),x.a.startWith(!0))),x.a.startWith(!1)).subscribe(e=>{this._isReady=e}))}}class ea{dispose(){this._subs.dispose()}constructor(e,t=new Set){Object(u.a)(this,"_events",void 0),Object(u.a)(this,"_debugTools",void 0),Object(u.a)(this,"_subs",void 0),Object(u.a)(this,"_allMessages",void 0),this._events=e,this._debugTools=t,this._subs=new tn.a.Keeper,this._allMessages=[],this._debugTools.has("captureCapiMessages")&&(this._subs.push(this._events.subscribe(e=>{se.a.CAPIEvent.is("message_sent")(e)&&this._allMessages.push({direction:"SENT",data:e.message}),se.a.CAPIEvent.is("message_received")(e)&&this._allMessages.push({direction:"RECEIVED",data:e.message})})),Object(z.r)("popAllMessages",()=>JSON.stringify(this._allMessages.splice(0,this._allMessages.length))))}}class ta{get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}dispose(){this._subs.forEach(e=>e.unsubscribe())}_updateAsyncChecksState(){this._sessionChecksState.asyncChecksState.set(this._capi.asyncChecksState)}constructor(e,t,n,a,r,i=0){Object(u.a)(this,"_capi",void 0),Object(u.a)(this,"events",void 0),Object(u.a)(this,"_sessionChecksState",void 0),Object(u.a)(this,"_log",void 0),Object(u.a)(this,"_subs",void 0),Object(u.a)(this,"_checkingStateInt",void 0),Object(u.a)(this,"pushChanges",void 0),Object(u.a)(this,"setSessionOption",void 0),Object(u.a)(this,"resetReconnectInfo",void 0),Object(u.a)(this,"sendFeedback",void 0),Object(u.a)(this,"requestDocStats",void 0),Object(u.a)(this,"requestSynonyms",void 0),Object(u.a)(this,"requestSnippets",void 0),Object(u.a)(this,"requestWritingExpert",void 0),Object(u.a)(this,"shortenItSubmit",void 0),Object(u.a)(this,"enablePlagiarismSearch",void 0),Object(u.a)(this,"disablePlagiarismSearch",void 0),Object(u.a)(this,"enableWritingExpert",void 0),Object(u.a)(this,"disableWritingExpert",void 0),Object(u.a)(this,"realtimeProofitSubmit",void 0),Object(u.a)(this,"realtimeProofitCancel",void 0),Object(u.a)(this,"submitRecipients",void 0),Object(u.a)(this,"submitScoreSurveyResult",void 0),Object(u.a)(this,"submitSurvey",void 0),Object(u.a)(this,"sendUserAction",void 0),Object(u.a)(this,"sendDebugReport",void 0),Object(u.a)(this,"ping",void 0),Object(u.a)(this,"getText",void 0),Object(u.a)(this,"close",void 0),Object(u.a)(this,"isClosed",void 0),Object(u.a)(this,"updateContextInfo",void 0),Object(u.a)(this,"setContext",void 0),Object(u.a)(this,"published",void 0),Object(u.a)(this,"enqueueExternalCommand",void 0),Object(u.a)(this,"registerExternalMessageHandler",void 0),this._capi=e,this.events=t,this._sessionChecksState=n,this._log=T.d.Logging.getLogger("CheckingStateCAPIClient"),this._subs=[],this._checkingStateInt=new x.a.Subject,this.pushChanges=e=>Object(de.pipe)(this._capi.pushChanges(e),O.l.map(e=>(this._checkingStateInt.next(this._capi.checkingState),this._updateAsyncChecksState(),e))),this.setSessionOption=e=>Object(de.pipe)(O.l.fromIOEither(()=>(e.kind===se.a.CAPISessionOptionType.Context&&(this._sessionChecksState.score.set(O.g.none),this._sessionChecksState.scoreStatus.set(O.g.none),this._checkingStateInt.next(this._capi.checkingState)),O.b.right(null))),O.l.chain(()=>this._capi.setSessionOption(e))),this.resetReconnectInfo=()=>this._capi.resetReconnectInfo(),this.sendFeedback=e=>this._capi.sendFeedback(e),this.requestDocStats=()=>this._capi.requestDocStats(),this.requestSynonyms=(e,t)=>this._capi.requestSynonyms(e,t),this.requestSnippets=e=>this._capi.requestSnippets(e),this.requestWritingExpert=()=>this._capi.requestWritingExpert(),this.shortenItSubmit=e=>this._capi.shortenItSubmit(e),this.enablePlagiarismSearch=()=>this._capi.enablePlagiarismSearch(),this.disablePlagiarismSearch=()=>this._capi.disablePlagiarismSearch(),this.enableWritingExpert=()=>this._capi.enableWritingExpert(),this.disableWritingExpert=()=>this._capi.disableWritingExpert(),this.realtimeProofitSubmit=e=>this._capi.realtimeProofitSubmit(e),this.realtimeProofitCancel=()=>this._capi.realtimeProofitCancel(),this.submitRecipients=e=>this._capi.submitRecipients(e),this.submitScoreSurveyResult=(e,t)=>this._capi.submitScoreSurveyResult(e,t),this.submitSurvey=e=>this._capi.submitSurvey(e),this.sendUserAction=(e,t)=>this._capi.sendUserAction(e,t),this.sendDebugReport=(e,t)=>this._capi.sendDebugReport(e,t),this.ping=()=>this._capi.ping(),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.updateContextInfo=e=>this._capi.updateContextInfo(e),this.setContext=e=>this._capi.setContext(e),this.published=()=>this._capi.published(),this.enqueueExternalCommand=e=>this._capi.enqueueExternalCommand(e),this.registerExternalMessageHandler=e=>this._capi.registerExternalMessageHandler(e),this._log.debug("Constructing client with _hasAlertsCache = "+a);const o=se.a.CAPIEvent.is("session_started"),s=se.a.CAPIEvent.is("session_started","queue_msgs_dropped");this._subs.push(this.events.subscribe(e=>{"finish"===e.kind&&this._checkingStateInt.next(this._capi.checkingState)}),this.events.pipe(x.a.filter(s),x.a.map(o),x.a.switchMap(A.b.orEmptyRight(x.a.of(void 0).pipe(x.a.delay(1e3)))),x.a.map(()=>this._capi.checkingState)).subscribe(this._checkingStateInt));const c=t.pipe(x.a.filter(o),x.a.skip(1),x.a.switchMapTo(t.pipe(x.a.filter(se.a.CAPIEvent.is("finish")),x.a.first(),x.a.mapTo(!1),x.a.startWith(!0))),x.a.startWith(!1)),l=this._checkingStateInt.pipe(x.a.withLatestFrom(c,(e,t)=>t&&"full"===e?"checking":e),x.a.share()),d=l.pipe(x.a.takeWhile(e=>"full"!==e)),f=l.pipe(x.a.filter(e=>"full"===e),x.a.switchMap(()=>d.pipe(x.a.combineLatest(x.a.timer(i),e=>e),x.a.startWith("full"))));this._subs.push(t.subscribe(e=>{"text_info"===e.kind?n.textInfo.set(O.g.some(e.data)):"finish"===e.kind?(n.score.set(e.score),n.scoreStatus.set(e.scoreStatus)):"feedback_ack"===e.kind?(Object(de.pipe)(e,O.g.fromPredicate(se.a.CAPIEvent.isUserFeedbackWithGeneralScore),O.g.map(e=>e.outcomeScores.GeneralScore),O.g.map(e=>Math.trunc(100*e)),O.g.tap(e=>n.score.modify(Object(b.flow)(O.g.map(t=>Object(m.a)(Object(p.a)({},t),{rank:e})),O.g.orElse(O.g.some({errorRateScore:0,rank:e})))))),Object(de.pipe)(e,O.g.fromPredicate(se.a.CAPIEvent.isUserFeedbackWithScoreStatus),O.g.map(e=>e.scoreStatus),O.g.tap(e=>n.scoreStatus.set(O.g.some(e))))):"async_check_finished"===e.kind&&this._updateAsyncChecksState()})),this._subs.push(x.a.mergeStatic(d,f).pipe(x.a.skipWhile(e=>a&&"idle"!==e),x.a.startWith(r>1?a?"checking":"full":"idle"),x.a.distinctUntilChanged()).subscribe(e=>{this._log.debug("Switching checking state to "+e),n.checkingState.set(e),"full"===e&&O.l.toPromise(this.sendFeedback({kind:se.a.SystemFeedbackType.RECHECK_SHOWN})).catch(e=>{qt.b.isNotConnectedError(e)?this._log.error("tried to send RECHECK_SHOWN event to Capi when not connected and failed to wait for new connection",e):this._log.error("Failed to send RECHECK_SHOWN event on Capi",e)})}))}}var na=n("r7ur"),aa=n("Jqlq");class ra{get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}_untilWaitingForOT(e){return this._untilEvent(e,"wait_for_ot")}_untilFinished(e){return this._untilEvent(e,"finish")}_untilEvent(e,t){return qt.b.isNotConnectedError(e)?Object(de.pipe)(this._events,x.a.filter(e=>e.kind===t),x.a.take(1),x.a.map(z.e),A.b.toTask,O.g.some):O.g.none}constructor(e,t){Object(u.a)(this,"_events",void 0),Object(u.a)(this,"_capi",void 0),Object(u.a)(this,"retryCommandWhen",void 0),Object(u.a)(this,"pushChanges",void 0),Object(u.a)(this,"setSessionOption",void 0),Object(u.a)(this,"resetReconnectInfo",void 0),Object(u.a)(this,"sendFeedback",void 0),Object(u.a)(this,"requestSynonyms",void 0),Object(u.a)(this,"requestSnippets",void 0),Object(u.a)(this,"requestWritingExpert",void 0),Object(u.a)(this,"shortenItSubmit",void 0),Object(u.a)(this,"requestDocStats",void 0),Object(u.a)(this,"enablePlagiarismSearch",void 0),Object(u.a)(this,"disablePlagiarismSearch",void 0),Object(u.a)(this,"enableWritingExpert",void 0),Object(u.a)(this,"disableWritingExpert",void 0),Object(u.a)(this,"realtimeProofitSubmit",void 0),Object(u.a)(this,"realtimeProofitCancel",void 0),Object(u.a)(this,"submitRecipients",void 0),Object(u.a)(this,"submitScoreSurveyResult",void 0),Object(u.a)(this,"submitSurvey",void 0),Object(u.a)(this,"sendUserAction",void 0),Object(u.a)(this,"sendDebugReport",void 0),Object(u.a)(this,"ping",void 0),Object(u.a)(this,"getText",void 0),Object(u.a)(this,"close",void 0),Object(u.a)(this,"isClosed",void 0),Object(u.a)(this,"updateContextInfo",void 0),Object(u.a)(this,"setContext",void 0),Object(u.a)(this,"published",void 0),Object(u.a)(this,"enqueueExternalCommand",void 0),Object(u.a)(this,"registerExternalMessageHandler",void 0),this._events=e,this._capi=t,this.retryCommandWhen=Object(z.p)(qt.a.isDroppedError,qt.d.isTimeoutError),this.pushChanges=e=>this._capi.pushChanges(e),this.setSessionOption=e=>this._capi.setSessionOption(e),this.resetReconnectInfo=()=>this._capi.resetReconnectInfo(),this.sendFeedback=e=>{switch(e.kind){case se.a.MutedFeedbackType.MUTE:case se.a.MutedFeedbackType.UNMUTE:return Object(de.pipe)(O.l.tryDelay(this._capi.sendFeedback(e),e=>this._untilWaitingForOT(e),1e4),Object(qt.h)([aa.limitRetries(2),aa.exponentialBackoff(200)],this.retryCommandWhen));case se.a.SystemFeedbackType.RECHECK_SHOWN:return Object(de.pipe)(this._capi.sendFeedback(e),O.l.orElse(()=>O.l.right(Object(z.e)())));default:return this._capi.sendFeedback(e)}},this.requestSynonyms=(e,t)=>Object(de.pipe)(O.l.tryDelay(this._capi.requestSynonyms(e,t),e=>this._untilFinished(e),1e4),Object(qt.h)([aa.limitRetries(2),aa.exponentialBackoff(200)],this.retryCommandWhen)),this.requestSnippets=e=>Object(de.pipe)(O.l.tryDelay(this._capi.requestSnippets(e),e=>this._untilFinished(e),1e4),Object(qt.h)([aa.limitRetries(2),aa.exponentialBackoff(200)],this.retryCommandWhen)),this.requestWritingExpert=()=>Object(de.pipe)(O.l.tryDelay(this._capi.requestWritingExpert(),e=>this._untilFinished(e),1e4),Object(qt.h)([aa.limitRetries(2),aa.exponentialBackoff(200)],this.retryCommandWhen)),this.shortenItSubmit=e=>Object(de.pipe)(O.l.tryDelay(this._capi.shortenItSubmit(e),e=>this._untilFinished(e),1e4),Object(qt.h)([aa.limitRetries(2),aa.exponentialBackoff(200)],this.retryCommandWhen)),this.requestDocStats=Object(de.pipe)(O.l.tryDelay(this._capi.requestDocStats,e=>this._untilFinished(e),1e4),Object(qt.h)([aa.limitRetries(2),aa.exponentialBackoff(200)],this.retryCommandWhen)),this.enablePlagiarismSearch=Object(de.pipe)(O.l.tryDelay(this._capi.enablePlagiarismSearch,e=>this._untilFinished(e),1e4),Object(qt.h)([aa.limitRetries(2),aa.exponentialBackoff(200)],this.retryCommandWhen)),this.disablePlagiarismSearch=()=>this._capi.disablePlagiarismSearch(),this.enableWritingExpert=Object(de.pipe)(O.l.tryDelay(this._capi.enableWritingExpert,e=>this._untilFinished(e),1e4),Object(qt.h)([aa.limitRetries(2),aa.exponentialBackoff(200)],this.retryCommandWhen)),this.disableWritingExpert=()=>this._capi.disableWritingExpert(),this.realtimeProofitSubmit=e=>this._capi.realtimeProofitSubmit(e),this.realtimeProofitCancel=()=>this._capi.realtimeProofitCancel(),this.submitRecipients=e=>Object(de.pipe)(O.l.tryDelay(this._capi.submitRecipients(e),e=>this._untilFinished(e),1e4),Object(qt.h)([aa.limitRetries(2),aa.exponentialBackoff(200)],this.retryCommandWhen)),this.submitScoreSurveyResult=(e,t)=>this._capi.submitScoreSurveyResult(e,t),this.submitSurvey=e=>this._capi.submitSurvey(e),this.sendUserAction=(e,t)=>this._capi.sendUserAction(e,t),this.sendDebugReport=(e,t)=>this._capi.sendDebugReport(e,t),this.ping=()=>this._capi.ping(),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.updateContextInfo=e=>this._capi.updateContextInfo(e),this.setContext=e=>this._capi.setContext(e),this.published=()=>this._capi.published(),this.enqueueExternalCommand=e=>this._capi.enqueueExternalCommand(e),this.registerExternalMessageHandler=e=>this._capi.registerExternalMessageHandler(e)}}var ia,oa;!function(e){e.noopSync={pushChanges:z.e};e.ignoreResult=function(e){return{pushChanges:t=>{e.pushChanges(t)}}},e.ignoreTEResult=function(e){return{pushChanges:Object(b.flow)(e.pushChanges,O.l.map(z.e))}},e.pushDeleteThenInsert=function(e){return{pushChanges:t=>{(Qn.a.isDelta(t)?Qn.a.fromArrayOfDeltas(H.a.splitToDeleteThenInsert(t.delta).filter(H.a.nonEmpty),t.prevLen):[t]).forEach(t=>e.pushChanges(t))}}}}(ia||(ia={})),(oa||(oa={})).merge=function(e){return{changes:x.a.mergeStatic(...e.map(e=>e.changes))}};class sa{static init(e,t,n,a,r,i){const o=new x.a.Subject;return new sa(e,t,n,a,r,i,o),o}constructor(e,t,n,a,r,i,o){const s=sa.NamedChangesSink.factory(o),c={pm:s(sa.Receiver.PM,a),dm:s(sa.Receiver.PM,r),capi:s(sa.Receiver.CAPI,n),userTextEcho:s(sa.Receiver.UserText,e)};sa.Producer.create(sa.Producer.UserText,{changes:e.changes})(c.dm,c.pm,c.capi),sa.Producer.create(sa.Producer.ALERT_APPLY,i)(c.userTextEcho),t.subscribe(t=>{"before_alert"===t.kind&&e.flushChanges()})}}!function(e){let t,n,a,r;!function(e){e.DEd="denali_editor",e.UserText="user_text",e.DOX="remote_document",e.ALERT_APPLY="alert_synonyms_manager"}(t=e.Producer||(e.Producer={})),function(e){e.create=function(e,t){return(...n)=>t.changes.subscribe(t=>{n.forEach(n=>n.pushChanges(e,t))})}}(t=e.Producer||(e.Producer={})),function(e){e.DEd="denali_editor",e.UserText="user_text",e.DOX="remote_document",e.CAPI="checking_service",e.PM="position_manager"}(n=e.Receiver||(e.Receiver={})),function(e){function t(e,t,n){return{pushChanges:(a,r)=>{try{let i=t.pushChanges(r);"function"==typeof i&&(i=O.l.toPromise(i)),void 0!==i&&i.catch(t=>n.next({exception:t,details:{from:a,to:e}}))}catch(t){n.next({exception:t,details:{from:a,to:e}})}}}}e.factory=function(e){return(n,a)=>t(n,a,e)},e.create=t}(a=e.NamedChangesSink||(e.NamedChangesSink={})),function(e){e.create=e=>({changes:e.changes,pushChanges(t){e.pushChanges(t,"user")},getContents:()=>e.getContents(),flushChanges:()=>e.flushChanges()})}(r=e.UserTextChangesSync||(e.UserTextChangesSync={}))}(sa||(sa={}));var ca=n("mUkt"),la=n("F0rY");const ua={disabledFeedbacks:Object.keys(se.a.AlertFeedbackType).map(e=>se.a.AlertFeedbackType[e]).filter(e=>e!==se.a.AlertFeedbackType.CLOSED&&e!==se.a.AlertFeedbackType.LOOKED&&e!==se.a.AlertFeedbackType.IGNORE)};var da,pa,ma,fa,ha,ga,ba,va,ya,Oa,Sa,Ca,wa,ka,Ea,ja,_a,xa,Aa,Ia,Ta,Ma,Pa,Na=n("ZDrO"),Da=n("cZKX"),Ba=n("WBKC"),La=n("9raK"),Fa=n("w8H4"),Ra=n("IMGo");!function(e){e.Click="click",e.SelectSliderChoice="selectSliderChoice",e.Focus="focus",e.CloseAssistant="closeAssistant"}(da||(da={})),function(e){e.Dismiss="dismiss",e.Fulfill="fulfill"}(pa||(pa={})),function(e){e.Ideation="ideation",e.QuickReply="quickReply",e.QuickRewrite="quickRewrite",e.Rewrite="rewrite",e.PushRewrite="pushRewrite"}(ma||(ma={})),function(e){e.FadeIn="fadeIn",e.FadeOut="fadeOut",e.SlideLeft="slideLeft",e.SlideRight="slideRight"}(fa||(fa={})),function(e){e.Primary="primary",e.Secondary="secondary",e.Toggle="toggle",e.Yellow="yellow",e.Outlined="outlined",e.Link="link",e.DarkPrimary="darkPrimary",e.DarkSecondary="darkSecondary",e.GgoPrimary="ggoPrimary"}(ha||(ha={})),function(e){e.Round="round",e.Square="square"}(ga||(ga={})),function(e){e.Enabled="enabled",e.Disabled="disabled",e.Deselected="deselected",e.Selected="selected",e.Hidden="hidden"}(ba||(ba={})),function(e){e.CoreNeutral90="CoreNeutral90",e.CoreNeutral80="CoreNeutral80",e.CoreNeutral70="CoreNeutral70",e.CoreNeutral60="CoreNeutral60",e.CoreNeutral50="CoreNeutral50",e.CoreNeutral40="CoreNeutral40",e.CoreNeutral30="CoreNeutral30",e.CoreNeutral20="CoreNeutral20",e.CoreNeutral10="CoreNeutral10",e.CoreNeutral1="CoreNeutral1",e.CoreNeutral0="CoreNeutral0",e.CoreGreen70="CoreGreen70",e.CoreGreen60="CoreGreen60",e.CoreGreen50="CoreGreen50",e.CoreGreen40="CoreGreen40",e.CoreGreen30="CoreGreen30",e.CoreGreen20="CoreGreen20",e.CoreGreen10="CoreGreen10",e.CoreGreen1="CoreGreen1",e.CoreBlue70="CoreBlue70",e.CoreBlue60="CoreBlue60",e.CoreBlue50="CoreBlue50",e.CoreBlue40="CoreBlue40",e.CoreBlue30="CoreBlue30",e.CoreBlue20="CoreBlue20",e.CoreBlue10="CoreBlue10",e.CoreBlue1="CoreBlue1",e.CoreRed70="CoreRed70",e.CoreRed60="CoreRed60",e.CoreRed50="CoreRed50",e.CoreRed40="CoreRed40",e.CoreRed30="CoreRed30",e.CoreRed20="CoreRed20",e.CoreRed10="CoreRed10",e.CoreRed1="CoreRed1",e.CoreYellow80="CoreYellow80",e.CoreYellow70="CoreYellow70",e.CoreYellow60="CoreYellow60",e.CoreYellow50="CoreYellow50",e.CoreYellow40="CoreYellow40",e.CoreYellow30="CoreYellow30",e.CoreYellow20="CoreYellow20",e.CoreYellow10="CoreYellow10",e.CoreYellow1="CoreYellow1",e.CorePurple60="CorePurple60",e.CorePurple50="CorePurple50",e.CorePurple40="CorePurple40",e.CorePurple30="CorePurple30",e.CorePurple20="CorePurple20",e.CorePurple10="CorePurple10",e.CorePurple1="CorePurple1",e.CoreCyan60="CoreCyan60",e.CoreCyan50="CoreCyan50",e.CoreCyan40="CoreCyan40",e.CoreCyan30="CoreCyan30",e.CoreCyan20="CoreCyan20",e.CoreCyan10="CoreCyan10",e.CoreCyan1="CoreCyan1",e.CoreSky70="CoreSky70",e.CoreSky60="CoreSky60",e.CoreSky50="CoreSky50",e.CoreSky40="CoreSky40",e.CoreSky30="CoreSky30",e.CoreSky20="CoreSky20",e.CoreSky10="CoreSky10",e.CoreSky1="CoreSky1",e.CoreIndigo70="CoreIndigo70",e.CoreIndigo60="CoreIndigo60",e.CoreIndigo50="CoreIndigo50",e.CoreIndigo40="CoreIndigo40",e.CoreIndigo30="CoreIndigo30",e.CoreIndigo20="CoreIndigo20",e.CoreIndigo10="CoreIndigo10",e.CoreIndigo1="CoreIndigo1",e.CoreMagenta70="CoreMagenta70",e.CoreMagenta60="CoreMagenta60",e.CoreMagenta40="CoreMagenta40",e.CoreMagenta30="CoreMagenta30",e.CoreMagenta10="CoreMagenta10",e.CoreMagenta1="CoreMagenta1",e.CoreCoral60="CoreCoral60",e.CoreCoral50="CoreCoral50",e.CoreCoral40="CoreCoral40",e.CoreCoral30="CoreCoral30",e.CoreCoral10="CoreCoral10",e.CoreCoral1="CoreCoral1",e.CoreYellowBrand50="CoreYellowBrand50",e.CoreYellowBrand40="CoreYellowBrand40",e.CoreYellowBrand30="CoreYellowBrand30",e.CoreYellowBrand20="CoreYellowBrand20",e.CoreYellowBrand10="CoreYellowBrand10",e.CoreYellowBrand1="CoreYellowBrand1",e.CoreLime50="CoreLime50",e.CoreLime40="CoreLime40",e.CoreLime30="CoreLime30",e.CoreLime20="CoreLime20",e.CoreLime10="CoreLime10",e.CoreLime1="CoreLime1"}(va||(va={})),function(e){e.ButtonPrev="button:prev",e.ButtonNext="button:next",e.ButtonAccept="button:accept",e.ButtonDismiss="button:dismiss",e.StrongAlertRefBulkAccept="strongAlertRef:BulkAccept",e.StrongAlertRefBulkDismiss="strongAlertRef:BulkDismiss",e.StrongAlertRefBulkDismissBufferOuter="strongAlertRef:BulkDismissBufferOuter",e.StrongAlertRefUpgradeHook="strongAlertRef:UpgradeHook",e.StrongAlertRefConsolidatedLockedCard="strongAlertRef:ConsolidatedLockedCard",e.ButtonGoPremiumYellow="button:goPremiumYellow",e.AssistantCardToneInsights="assistantCard:toneInsights",e.AssistantCardPerformanceScore="assistantCard:performanceScore",e.AssistantFeedPerformanceScore="assistantFeed:performanceScore",e.ButtonPerformanceScore="button:performanceScore",e.GlobalPartPlagiarismWinFooter="globalPart:plagiarismWinFooter",e.GlobalPartPlagiarismWinHeader="globalPart:plagiarismWinHeader",e.GlobalPartWritingExpertWinFooter="globalPart:writingExpertWinFooter",e.GlobalPartWritingExpertWinHeader="globalPart:writingExpertWinHeader",e.GlobalPartPerformanceScoreCard="globalPart:performanceScoreCard",e.GlobalPartPerformanceScoreButton="globalPart:performanceScoreButton"}(ya||(ya={})),function(e){e.Asc="asc",e.Desc="desc"}(Oa||(Oa={})),function(e){e.EqualTo="equalTo",e.NotEqualTo="notEqualTo"}(Sa||(Sa={})),function(e){e.Default="default",e.Loading="loading"}(Ca||(Ca={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(wa||(wa={})),function(e){e.Close="close",e.ArrowRight="arrow-right",e.ArrowLeft="arrow-left",e.Dictionary="dictionary",e.Gear="gear",e.Clarity="clarity",e.Correctness="correctness",e.Engagement="engagement",e.Delivery="delivery",e.Diamond="diamond",e.DiamondSmall="diamondSmall",e.Feedback="feedback",e.Sensitivity="sensitivity",e.ExternalLink="external-link",e.Sparkles="sparkles",e.Ignore="ignore",e.Info="info",e.Proofreader="proofreader",e.More="more",e.Mute="mute",e.Report="report",e.Controls="controls",e.Performance="performance",e.BulletList="bullet-list",e.Accept="accept",e.Copy="copy",e.GButtonSmall="gButtonSmall",e.NewSmall="newSmall",e.Edit="edit",e.User="user",e.Plagiarism="plagiarism",e.QuestionMark="questionMark",e.NewFeature="newFeature",e.Assistant="assistant"}(ka||(ka={})),function(e){e.AllSuggestions="allSuggestions",e.Correctness="correctness",e.Clarity="clarity",e.Engagement="engagement",e.Delivery="delivery",e.StyleGuide="styleGuide",e.SmartGuidelines="smartGuidelines"}(Ea||(Ea={})),function(e){e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left"}(ja||(ja={})),function(e){e.Radius0="Radius0",e.RadiusHalf="RadiusHalf",e.Radius1="Radius1",e.Radius2="Radius2",e.Radius3="Radius3"}(_a||(_a={})),function(e){e.D0="0",e.D0125="0.125",e.D025="0.25",e.D03125="0.3125",e.D0375="0.375",e.D05="0.5",e.D075="0.75",e.D1="1",e.D125="1.25"}(xa||(xa={})),function(e){e.Italic="italic",e.Bold="bold",e.StrikeoutHorizontal="strikeoutHorizontal",e.StrikeoutDiagonal="strikeoutDiagonal",e.Outline="outline"}(Aa||(Aa={})),function(e){e.Small="small",e.Regular="regular",e.Medium="medium",e.HeadingLevel1="headingLevel1",e.HeadingLevel3="headingLevel3",e.HeadingLevel4="headingLevel4"}(Ia||(Ia={})),function(e){e.Linear="linear",e.EaseIn="easeIn",e.EaseOut="easeOut",e.EaseInOut="easeInOut"}(Ta||(Ta={})),function(e){e.Auto="auto",e.Center="center",e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.TopCenter="topCenter",e.TopLeft="topLeft",e.TopRight="topRight",e.BottomCenter="bottomCenter",e.BottomLeft="bottomLeft",e.BottomRight="bottomRight"}(Ma||(Ma={})),function(e){e.Top="top",e.Middle="middle",e.Bottom="bottom"}(Pa||(Pa={}));var Ha=Object(Fa.b)((function(e){return $r(e)})),Va=Object(Fa.b)((function(e){var t;return e.sum("type")(((t={}).notify=Wa(e),t.openSettings=za(e),t.openLearnMore=Ga(e),t.openPerformanceScore=qa(e),t.openToneDetector=Ka(e),t.upgradeToPremium=$a(e),t.showHighlights=Za(e),t.hideHighlights=Ya(e),t.openFeedback=Xa(e),t.openCreateSnippetModal=Qa(e),t.closeCard=Ja(e),t.nextCard=er(e),t.prevCard=tr(e),t.removeRoot=nr(e),t.removeAlerts=ar(e),t.applyAlerts=rr(e),t.selectAlternative=ir(e),t.transition=or(e),t.openLink=sr(e),t.copyToClipboard=cr(e),t.nativeOpenAssistant=lr(e),t.pushAssistantFeed=ur(e),t.popAssistantFeed=dr(e),t.focusAssistantCard=pr(e),t.switchView=mr(e),t.newRevision=fr(e),t.highlightAlert=hr(e),t.stopApplyingAlerts=gr(e),t.closePopover=br(e),t.interactPopover=yr(e),t.openGrammarlyGo=Sr(e),t.enablePlagiarismCheck=Cr(e),t.disablePlagiarismCheck=wr(e),t.enableWritingExpertCheck=kr(e),t.disableWritingExpertCheck=Er(e),t.nativeOpenUserSatisfactionFeedback=jr(e),t))})),Ua=Cs(da),Wa=Object(Fa.b)((function(e){return e.intersect(e.partial({sourceId:Xo(e)}))(e.struct({type:e.literal("notify"),userAction:Ua(e)}))})),za=Object(Fa.b)((function(e){return e.struct({type:e.literal("openSettings")})})),Ga=Object(Fa.b)((function(e){return e.struct({type:e.literal("openLearnMore")})})),qa=Object(Fa.b)((function(e){return e.struct({type:e.literal("openPerformanceScore")})})),Ka=Object(Fa.b)((function(e){return e.struct({type:e.literal("openToneDetector")})})),$a=Object(Fa.b)((function(e){return e.struct({type:e.literal("upgradeToPremium")})})),Za=Object(Fa.b)((function(e){return e.struct({type:e.literal("showHighlights")})})),Ya=Object(Fa.b)((function(e){return e.struct({type:e.literal("hideHighlights")})})),Xa=Object(Fa.b)((function(e){return e.struct({type:e.literal("openFeedback")})})),Qa=Object(Fa.b)((function(e){return e.struct({type:e.literal("openCreateSnippetModal"),snippetContent:e.string})})),Ja=Object(Fa.b)((function(e){return e.struct({type:e.literal("closeCard")})})),er=Object(Fa.b)((function(e){return e.struct({type:e.literal("nextCard")})})),tr=Object(Fa.b)((function(e){return e.struct({type:e.literal("prevCard")})})),nr=Object(Fa.b)((function(e){return e.struct({type:e.literal("removeRoot")})})),ar=Object(Fa.b)((function(e){return e.struct({type:e.literal("removeAlerts")})})),rr=Object(Fa.b)((function(e){return e.struct({type:e.literal("applyAlerts"),alternativeIndex:e.number})})),ir=Object(Fa.b)((function(e){return e.struct({type:e.literal("selectAlternative"),alternativeIndex:e.number})})),or=Object(Fa.b)((function(e){return e.struct({type:e.literal("transition"),fromName:e.string,toName:e.string,animateFrom:xr(e),animateTo:xr(e)})})),sr=Object(Fa.b)((function(e){return e.struct({type:e.literal("openLink"),url:e.string})})),cr=Object(Fa.b)((function(e){return e.struct({type:e.literal("copyToClipboard"),text:e.string})})),lr=Object(Fa.b)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({type:e.literal("nativeOpenAssistant")}))})),ur=Object(Fa.b)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({type:e.literal("pushAssistantFeed"),feedId:e.string}))})),dr=Object(Fa.b)((function(e){return e.intersect(e.partial({fallbackFeed:Ko(e)}))(e.struct({type:e.literal("popAssistantFeed")}))})),pr=Object(Fa.b)((function(e){return e.struct({type:e.literal("focusAssistantCard"),cardId:e.string})})),mr=Object(Fa.b)((function(e){return e.struct({type:e.literal("switchView"),where:Xo(e),selected:fs(e)})})),fr=Object(Fa.b)((function(e){return e.struct({type:e.literal("newRevision")})})),hr=Object(Fa.b)((function(e){return e.struct({type:e.literal("highlightAlert"),highlightIndex:e.number})})),gr=Object(Fa.b)((function(e){return e.struct({type:e.literal("stopApplyingAlerts")})})),br=Object(Fa.b)((function(e){return e.struct({type:e.literal("closePopover"),rootPopoverId:Xo(e)})})),vr=Cs(pa),yr=Object(Fa.b)((function(e){return e.struct({type:e.literal("interactPopover"),rootPopoverId:Xo(e),popoverViewId:Xo(e),interaction:vr(e)})})),Or=Cs(ma),Sr=Object(Fa.b)((function(e){return e.intersect(e.partial({alertId:e.number}))(e.struct({type:e.literal("openGrammarlyGo"),entryPoint:Or(e)}))})),Cr=Object(Fa.b)((function(e){return e.struct({type:e.literal("enablePlagiarismCheck")})})),wr=Object(Fa.b)((function(e){return e.struct({type:e.literal("disablePlagiarismCheck")})})),kr=Object(Fa.b)((function(e){return e.struct({type:e.literal("enableWritingExpertCheck")})})),Er=Object(Fa.b)((function(e){return e.struct({type:e.literal("disableWritingExpertCheck")})})),jr=Object(Fa.b)((function(e){return e.struct({type:e.literal("nativeOpenUserSatisfactionFeedback")})})),_r=Object(Fa.b)((function(e){return e.readonly(e.array(Va(e)))})),xr=Cs(fa),Ar=Object(Fa.b)((function(e){return e.lazy("Behavior",(function(){return Ir(e)}))})),Ir=Object(Fa.b)((function(e){var t;return e.sum("type")(((t={})["behavior:strongAlertRef"]=Tr(e),t["behavior:animation:fadeIn"]=Mr(e),t["behavior:animation:fadeOut"]=Pr(e),t["behavior:popoverAnchor"]=Nr(e),t["behavior:lifecycle"]=Br(e),t))})),Tr=Object(Fa.b)((function(e){return e.intersect(e.partial({name:Gr(e)}))(e.struct({type:e.literal("behavior:strongAlertRef"),id:Xo(e),alertIds:e.readonly(e.array(e.string)),onEmpty:_r(e)}))})),Mr=Object(Fa.b)((function(e){return e.struct({type:e.literal("behavior:animation:fadeIn"),id:Xo(e),timeCurve:ys(e)})})),Pr=Object(Fa.b)((function(e){return e.struct({type:e.literal("behavior:animation:fadeOut"),id:Xo(e),timeCurve:ys(e)})})),Nr=Object(Fa.b)((function(e){return e.lazy("BehaviorPopoverAnchor",(function(){return Dr(e)}))})),Dr=Object(Fa.b)((function(e){return e.intersect(e.partial({view:ss(e)}))(e.struct({type:e.literal("behavior:popoverAnchor"),id:Xo(e),positionHint:ls(e)}))})),Br=Object(Fa.b)((function(e){return e.struct({type:e.literal("behavior:lifecycle"),onMount:_r(e),onUnmount:_r(e)})})),Lr=Object(Fa.b)((function(e){return e.readonly(e.array(Ar(e)))})),Fr=Object(Fa.b)((function(e){return e.struct({topLeft:us(e),topRight:us(e),bottomRight:us(e),bottomLeft:us(e)})})),Rr=Cs(ha),Hr=Cs(ga),Vr=Cs(ba),Ur=Cs(va),Wr=Cs(ya),zr=Object(Fa.b)((function(e){return e.intersect(e.partial({label:e.string}))(e.intersect(e.partial({description:e.string}))(e.struct({})))})),Gr=Object(Fa.b)((function(e){var t;return e.sum("kind")(((t={}).unknown=qr(e),t.known=Kr(e),t))})),qr=Object(Fa.b)((function(e){return e.struct({kind:e.literal("unknown"),value:e.string})})),Kr=Object(Fa.b)((function(e){return e.struct({kind:e.literal("known"),value:Wr(e)})})),$r=Object(Fa.b)((function(e){return e.lazy("Content",(function(){return Zr(e)}))})),Zr=Object(Fa.b)((function(e){var t;return e.sum("type")(((t={}).text=Yr(e),t.assistantFeed=ti(e),t.assistantCard=ai(e),t.popoverStack=ii(e),t.inlineCard=si(e),t["gButton:default"]=li(e),t["gButton:tone"]=ui(e),t["gButton:proofit"]=di(e),t["gButton:get-started"]=pi(e),t["gButton:plagiarism"]=mi(e),t["gButton:writingExpert"]=fi(e),t.gButton=hi(e),t.proofitButton=gi(e),t.lensesSwitchPanel=vi(e),t.strongAlertRef=yi(e),t.column=Si(e),t.row=wi(e),t.block=ji(e),t.box=xi(e),t.scroll=Ii(e),t.list=Fi(e),t.selectableDropDownMenu=Hi(e),t.dropDownMenuButton=Vi(e),t.icon=Gi(e),t.image=qi(e),t.button=Ki(e),t.tooltip=Zi(e),t.clickableText=Xi(e),t.count=Qi(e),t.alertsCount=Ji(e),t.alternativeChoice=no(e),t.slider=co(e),t.alternativeSlider=mo(e),t.nativeSkillsModal=ho(e),t.nativeSkillsList=go(e),t.nativeSkillsView=bo(e),t.nativeToneInsightsModal=vo(e),t.nativeLearnMoreModal=yo(e),t.nativeSettingsModal=Oo(e),t.nativeFeedbackModal=So(e),t.nativeGetStartedChecklistModal=Co(e),t.nativeProofitModal=wo(e),t.nativeKeyTakeawaysAssistantCard=ko(e),t.nativeInlineCardContent=Eo(e),t.nativePerformanceScoreButton=jo(e),t.viewStack=_o(e),t.nativeExperimentalGBConsistencyUpsellFooter=Ao(e),t.radioButtonsGroup=To(e),t.nativeExperimentalGBToneInsightsUpsellFooter=Mo(e),t.collapsedCard=Po(e),t.shortFormCard=Do(e),t.longFormCard=Lo(e),t.progressBar=Ho(e),t.horizontalRule=Vo(e),t.globalPart=Uo(e),t.globalPartPlaceholder=zo(e),t))})),Yr=Object(Fa.b)((function(e){return e.intersect(e.partial({backgroundColor:Ur(e)}))(e.intersect(e.partial({outlineColor:Ur(e)}))(e.struct({type:e.literal("text"),id:Xo(e),meta:zr(e),size:vs(e),text:e.string,textColor:Ur(e),format:e.readonly(e.array(bs(e)))})))})),Xr=Cs(Oa),Qr=Object(Fa.b)((function(e){return e.struct({orderBy:e.string,direction:Xr(e)})})),Jr=Cs(Sa),ei=Object(Fa.b)((function(e){return e.struct({property:e.string,condition:Jr(e),value:e.number})})),ti=Object(Fa.b)((function(e){return e.lazy("ContentAssistantFeed",(function(){return ni(e)}))})),ni=Object(Fa.b)((function(e){return e.intersect(e.partial({footer:$r(e)}))(e.intersect(e.partial({onEmpty:_r(e)}))(e.intersect(e.partial({onAssistantClose:_r(e)}))(e.intersect(e.partial({name:Gr(e)}))(e.struct({type:e.literal("assistantFeed"),id:Xo(e),header:$r(e),ordering:e.readonly(e.array(Qr(e))),filtering:e.readonly(e.array(ei(e))),onRemove:_r(e)})))))})),ai=Object(Fa.b)((function(e){return e.lazy("ContentAssistantCard",(function(){return ri(e)}))})),ri=Object(Fa.b)((function(e){return e.intersect(e.partial({properties:e.readonly(e.record(e.nullable(e.number)))}))(e.intersect(e.partial({footer:$r(e)}))(e.intersect(e.partial({name:Gr(e)}))(e.struct({type:e.literal("assistantCard"),id:Xo(e),meta:zr(e),child:$r(e),onFocus:_r(e),onBlur:_r(e)}))))})),ii=Object(Fa.b)((function(e){return e.lazy("ContentPopoverStack",(function(){return oi(e)}))})),oi=Object(Fa.b)((function(e){return e.struct({type:e.literal("popoverStack"),id:Xo(e),views:e.readonly(e.record(ss(e))),selected:fs(e)})})),si=Object(Fa.b)((function(e){return e.lazy("ContentInlineCard",(function(){return ci(e)}))})),ci=Object(Fa.b)((function(e){return e.intersect(e.partial({minWidth:ds(e)}))(e.intersect(e.partial({maxWidth:ds(e)}))(e.intersect(e.partial({behaviors:Lr(e)}))(e.struct({type:e.literal("inlineCard"),id:Xo(e),meta:zr(e),child:$r(e),onFocus:_r(e)}))))})),li=Object(Fa.b)((function(e){return e.struct({type:e.literal("gButton:default"),id:Xo(e),meta:zr(e),actions:_r(e)})})),ui=Object(Fa.b)((function(e){return e.struct({type:e.literal("gButton:tone"),id:Xo(e),meta:zr(e),actions:_r(e)})})),di=Object(Fa.b)((function(e){return e.struct({type:e.literal("gButton:proofit"),id:Xo(e),meta:zr(e),actions:_r(e)})})),pi=Object(Fa.b)((function(e){return e.struct({type:e.literal("gButton:get-started"),id:Xo(e),meta:zr(e),actions:_r(e)})})),mi=Object(Fa.b)((function(e){return e.struct({type:e.literal("gButton:plagiarism"),id:Xo(e),meta:zr(e),actions:_r(e)})})),fi=Object(Fa.b)((function(e){return e.struct({type:e.literal("gButton:writingExpert"),id:Xo(e),meta:zr(e),actions:_r(e)})})),hi=Object(Fa.b)((function(e){return e.struct({type:e.literal("gButton"),id:Xo(e),meta:zr(e),actions:_r(e)})})),gi=Object(Fa.b)((function(e){return e.struct({type:e.literal("proofitButton"),id:Xo(e),meta:zr(e),actions:_r(e)})})),bi=Object(Fa.b)((function(e){return e.struct({id:Xo(e),meta:zr(e),kind:Qo(e),label:e.string,onClickActions:_r(e)})})),vi=Object(Fa.b)((function(e){return e.struct({type:e.literal("lensesSwitchPanel"),id:Xo(e),meta:zr(e),lensSwitchButtons:e.readonly(e.array(bi(e)))})})),yi=Object(Fa.b)((function(e){return e.lazy("ContentStrongAlertRef",(function(){return Oi(e)}))})),Oi=Object(Fa.b)((function(e){return e.intersect(e.partial({name:Gr(e)}))(e.struct({type:e.literal("strongAlertRef"),id:Xo(e),alertIds:e.readonly(e.array(e.string)),onEmpty:_r(e),child:$r(e)}))})),Si=Object(Fa.b)((function(e){return e.lazy("ContentColumn",(function(){return Ci(e)}))})),Ci=Object(Fa.b)((function(e){return e.intersect(e.partial({name:Gr(e)}))(e.intersect(e.partial({behaviors:Lr(e)}))(e.struct({type:e.literal("column"),id:Xo(e),children:e.readonly(e.array($r(e)))})))})),wi=Object(Fa.b)((function(e){return e.lazy("ContentRow",(function(){return ki(e)}))})),ki=Object(Fa.b)((function(e){return e.intersect(e.partial({name:Gr(e)}))(e.intersect(e.partial({spacing:gs(e)}))(e.intersect(e.partial({behaviors:Lr(e)}))(e.struct({type:e.literal("row"),id:Xo(e),left:e.readonly(e.array($r(e))),right:e.readonly(e.array($r(e))),verticalAlign:Ss(e)}))))})),Ei=Object(Fa.b)((function(e){return e.struct({vertical:hs(e),horizontal:hs(e)})})),ji=Object(Fa.b)((function(e){return e.lazy("ContentBlock",(function(){return _i(e)}))})),_i=Object(Fa.b)((function(e){return e.intersect(e.partial({name:Gr(e)}))(e.intersect(e.partial({fraction:e.number}))(e.intersect(e.partial({spacing:gs(e)}))(e.intersect(e.partial({innerSpacing:Ei(e)}))(e.intersect(e.partial({horizontalAlign:$o(e)}))(e.intersect(e.partial({verticalAlign:Ss(e)}))(e.intersect(e.partial({maxLines:e.number}))(e.struct({type:e.literal("block"),id:Xo(e),parts:e.readonly(e.array($r(e)))}))))))))})),xi=Object(Fa.b)((function(e){return e.lazy("ContentBox",(function(){return Ai(e)}))})),Ai=Object(Fa.b)((function(e){return e.intersect(e.partial({name:Gr(e)}))(e.intersect(e.partial({padding:gs(e)}))(e.intersect(e.partial({borderRadius:Fr(e)}))(e.intersect(e.partial({backgroundColor:Ur(e)}))(e.intersect(e.partial({minWidth:ds(e)}))(e.intersect(e.partial({behaviors:Lr(e)}))(e.struct({type:e.literal("box"),id:Xo(e),child:$r(e)})))))))})),Ii=Object(Fa.b)((function(e){return e.lazy("ContentScroll",(function(){return Ti(e)}))})),Ti=Object(Fa.b)((function(e){return e.intersect(e.partial({name:Gr(e)}))(e.struct({type:e.literal("scroll"),id:Xo(e),child:$r(e),maxHeight:ds(e)}))})),Mi=Object(Fa.b)((function(e){var t;return e.sum("type")(((t={}).text=Pi(e),t.icon=Ni(e),t))})),Pi=Object(Fa.b)((function(e){return e.struct({type:e.literal("text"),text:e.string})})),Ni=Object(Fa.b)((function(e){return e.struct({type:e.literal("icon"),icon:Zo(e)})})),Di=Object(Fa.b)((function(e){return e.intersect(e.partial({tooltip:e.string}))(e.struct({id:Xo(e),meta:zr(e),label:Mi(e),onClickActions:_r(e)}))})),Bi=Object(Fa.b)((function(e){return e.lazy("ContentListItem",(function(){return Li(e)}))})),Li=Object(Fa.b)((function(e){return e.intersect(e.partial({behaviors:Lr(e)}))(e.intersect(e.partial({tooltip:e.string}))(e.struct({id:Xo(e),meta:zr(e),label:$r(e),actions:_r(e),secondaryButtons:e.readonly(e.array(Di(e)))})))})),Fi=Object(Fa.b)((function(e){return e.lazy("ContentList",(function(){return Ri(e)}))})),Ri=Object(Fa.b)((function(e){return e.intersect(e.partial({name:Gr(e)}))(e.intersect(e.partial({itemFocusedColor:Ur(e)}))(e.intersect(e.partial({itemHoveredColor:Ur(e)}))(e.struct({type:e.literal("list"),id:Xo(e),meta:zr(e),items:e.readonly(e.array(Bi(e)))}))))})),Hi=Object(Fa.b)((function(e){return e.intersect(e.partial({name:Gr(e)}))(e.intersect(e.partial({selectedItem:Xo(e)}))(e.intersect(e.partial({placeholder:e.string}))(e.struct({type:e.literal("selectableDropDownMenu"),id:Xo(e),meta:zr(e),onSelectActions:_r(e),select:ms(e)}))))})),Vi=Object(Fa.b)((function(e){return e.intersect(e.partial({name:Gr(e)}))(e.struct({type:e.literal("dropDownMenuButton"),id:Xo(e),meta:zr(e),icon:Zo(e),onClickActions:_r(e),menu:ts(e)}))})),Ui=Object(Fa.b)((function(e){var t;return e.sum("kind")(((t={}).known=Wi(e),t.url=zi(e),t))})),Wi=Object(Fa.b)((function(e){return e.struct({kind:e.literal("known"),name:Yo(e)})})),zi=Object(Fa.b)((function(e){return e.intersect(e.partial({size:hs(e)}))(e.struct({kind:e.literal("url"),name:e.string,url:e.string}))})),Gi=Object(Fa.b)((function(e){return e.intersect(e.partial({backgroundColor:Ur(e)}))(e.struct({type:e.literal("icon"),id:Xo(e),meta:zr(e),source:Ui(e)}))})),qi=Object(Fa.b)((function(e){return e.intersect(e.partial({backgroundColor:Ur(e)}))(e.intersect(e.partial({borderRadius:ds(e)}))(e.struct({type:e.literal("image"),id:Xo(e),meta:zr(e),name:Gr(e),url:e.string,width:ds(e),height:ds(e)})))})),Ki=Object(Fa.b)((function(e){return e.lazy("ContentButton",(function(){return $i(e)}))})),$i=Object(Fa.b)((function(e){return e.intersect(e.partial({tooltip:e.string}))(e.intersect(e.partial({horizontalAlign:$o(e)}))(e.intersect(e.partial({behaviors:Lr(e)}))(e.struct({type:e.literal("button"),id:Xo(e),meta:zr(e),name:Gr(e),kind:Rr(e),state:Vr(e),label:$r(e),actions:_r(e),shape:Hr(e)}))))})),Zi=Object(Fa.b)((function(e){return e.lazy("ContentTooltip",(function(){return Yi(e)}))})),Yi=Object(Fa.b)((function(e){return e.struct({type:e.literal("tooltip"),id:Xo(e),meta:zr(e),name:Gr(e),text:e.string,child:$r(e),alignment:Os(e)})})),Xi=Object(Fa.b)((function(e){return e.struct({type:e.literal("clickableText"),id:Xo(e),meta:zr(e),name:Gr(e),onClickActions:_r(e),text:e.string,size:vs(e),textColor:Ur(e),format:e.readonly(e.array(bs(e)))})})),Qi=Object(Fa.b)((function(e){return e.struct({type:e.literal("count"),id:Xo(e),meta:zr(e),value:e.string,backgroundColor:Ur(e)})})),Ji=Object(Fa.b)((function(e){return e.intersect(e.partial({backgroundColor:Ur(e)}))(e.intersect(e.partial({outlineColor:Ur(e)}))(e.struct({type:e.literal("alertsCount"),id:Xo(e),meta:zr(e),size:vs(e),textColor:Ur(e),format:e.readonly(e.array(bs(e)))})))})),eo=Object(Fa.b)((function(e){return e.lazy("ContentAlternativeChoiceAlterna",(function(){return to(e)}))})),to=Object(Fa.b)((function(e){return e.struct({label:$r(e),preview:$r(e)})})),no=Object(Fa.b)((function(e){return e.lazy("ContentAlternativeChoice",(function(){return ao(e)}))})),ao=Object(Fa.b)((function(e){return e.struct({type:e.literal("alternativeChoice"),id:Xo(e),meta:zr(e),alternatives:e.readonly(e.array(eo(e)))})})),ro=Object(Fa.b)((function(e){var t;return e.sum("type")(((t={}).icon=oo(e),t))})),io=Object(Fa.b)((function(e){var t;return e.sum("kind")(((t={}).known=Wi(e),t.url=zi(e),t))})),oo=Object(Fa.b)((function(e){return e.intersect(e.partial({backgroundColor:Ur(e)}))(e.struct({type:e.literal("icon"),id:Xo(e),source:io(e)}))})),so=Object(Fa.b)((function(e){return e.struct({id:Xo(e),icon:ro(e),label:e.string,actions:_r(e)})})),co=Object(Fa.b)((function(e){return e.struct({type:e.literal("slider"),id:Xo(e),meta:zr(e),segmentSize:ds(e),fillColor:Ur(e),choices:e.readonly(e.array(so(e)))})})),lo=Object(Fa.b)((function(e){var t;return e.sum("type")(((t={}).icon=oo(e),t))})),uo=Object(Fa.b)((function(e){return e.lazy("ContentAlternativeSliderChoice",(function(){return po(e)}))})),po=Object(Fa.b)((function(e){return e.struct({id:Xo(e),icon:lo(e),label:e.string,actions:_r(e),preview:$r(e)})})),mo=Object(Fa.b)((function(e){return e.lazy("ContentAlternativeSlider",(function(){return fo(e)}))})),fo=Object(Fa.b)((function(e){return e.struct({type:e.literal("alternativeSlider"),id:Xo(e),meta:zr(e),segmentSize:ds(e),fillColor:Ur(e),choices:e.readonly(e.array(uo(e)))})})),ho=Object(Fa.b)((function(e){return e.struct({type:e.literal("nativeSkillsModal"),id:Xo(e)})})),go=Object(Fa.b)((function(e){return e.struct({type:e.literal("nativeSkillsList"),id:Xo(e),onSelect:_r(e)})})),bo=Object(Fa.b)((function(e){return e.struct({type:e.literal("nativeSkillsView"),id:Xo(e)})})),vo=Object(Fa.b)((function(e){return e.struct({type:e.literal("nativeToneInsightsModal"),id:Xo(e)})})),yo=Object(Fa.b)((function(e){return e.struct({type:e.literal("nativeLearnMoreModal"),id:Xo(e)})})),Oo=Object(Fa.b)((function(e){return e.struct({type:e.literal("nativeSettingsModal"),id:Xo(e)})})),So=Object(Fa.b)((function(e){return e.struct({type:e.literal("nativeFeedbackModal"),id:Xo(e)})})),Co=Object(Fa.b)((function(e){return e.struct({type:e.literal("nativeGetStartedChecklistModal"),id:Xo(e),onComplete:_r(e)})})),wo=Object(Fa.b)((function(e){return e.struct({type:e.literal("nativeProofitModal"),id:Xo(e)})})),ko=Object(Fa.b)((function(e){return e.struct({type:e.literal("nativeKeyTakeawaysAssistantCard"),id:Xo(e)})})),Eo=Object(Fa.b)((function(e){return e.struct({type:e.literal("nativeInlineCardContent"),id:Xo(e),onDetailsClick:_r(e)})})),jo=Object(Fa.b)((function(e){return e.struct({type:e.literal("nativePerformanceScoreButton"),id:Xo(e)})})),_o=Object(Fa.b)((function(e){return e.lazy("ContentViewStack",(function(){return xo(e)}))})),xo=Object(Fa.b)((function(e){return e.struct({type:e.literal("viewStack"),id:Xo(e),views:e.readonly(e.record($r(e))),selected:fs(e)})})),Ao=Object(Fa.b)((function(e){return e.struct({type:e.literal("nativeExperimentalGBConsistencyUpsellFooter"),id:Xo(e)})})),Io=Object(Fa.b)((function(e){return e.struct({id:Xo(e),meta:zr(e),label:e.string,onSelect:_r(e)})})),To=Object(Fa.b)((function(e){return e.struct({type:e.literal("radioButtonsGroup"),id:Xo(e),meta:zr(e),options:e.readonly(e.array(Io(e)))})})),Mo=Object(Fa.b)((function(e){return e.struct({type:e.literal("nativeExperimentalGBToneInsightsUpsellFooter"),id:Xo(e)})})),Po=Object(Fa.b)((function(e){return e.lazy("ContentCollapsedCard",(function(){return No(e)}))})),No=Object(Fa.b)((function(e){return e.intersect(e.partial({quickActions:$r(e)}))(e.struct({type:e.literal("collapsedCard"),id:Xo(e),meta:zr(e),child:$r(e)}))})),Do=Object(Fa.b)((function(e){return e.lazy("ContentShortFormCard",(function(){return Bo(e)}))})),Bo=Object(Fa.b)((function(e){return e.struct({type:e.literal("shortFormCard"),id:Xo(e),child:$r(e)})})),Lo=Object(Fa.b)((function(e){return e.lazy("ContentLongFormCard",(function(){return Fo(e)}))})),Fo=Object(Fa.b)((function(e){return e.struct({type:e.literal("longFormCard"),id:Xo(e),collapsedContent:$r(e),fullContent:$r(e),behaviors:Lr(e),feedProperties:qo(e)})})),Ro=Cs(Ca),Ho=Object(Fa.b)((function(e){return e.intersect(e.partial({pinPointValue:ns(e)}))(e.intersect(e.partial({borderColor:Ur(e)}))(e.intersect(e.partial({height:ds(e)}))(e.struct({type:e.literal("progressBar"),id:Xo(e),meta:zr(e),backgroundColor:Ur(e),fillColor:Ur(e),value:ns(e),state:Ro(e)}))))})),Vo=Object(Fa.b)((function(e){return e.struct({type:e.literal("horizontalRule"),id:Xo(e),meta:zr(e)})})),Uo=Object(Fa.b)((function(e){return e.lazy("ContentGlobalPart",(function(){return Wo(e)}))})),Wo=Object(Fa.b)((function(e){return e.struct({type:e.literal("globalPart"),id:Xo(e),content:$r(e),name:Gr(e)})})),zo=Object(Fa.b)((function(e){return e.lazy("ContentGlobalPartPlaceholder",(function(){return Go(e)}))})),Go=Object(Fa.b)((function(e){return e.intersect(e.partial({child:$r(e)}))(e.struct({type:e.literal("globalPartPlaceholder"),id:Xo(e),globalPartId:Xo(e)}))})),qo=Object(Fa.b)((function(e){return e.readonly(e.record(e.nullable(e.number)))})),Ko=Object(Fa.b)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({feedId:e.string}))})),$o=Cs(wa),Zo=Object(Fa.b)((function(e){var t;return e.sum("type")(((t={}).icon=Gi(e),t))})),Yo=Cs(ka),Xo=Object(Fa.b)((function(e){return e.string})),Qo=Cs(Ea),Jo=Object(Fa.b)((function(e){return e.intersect(e.partial({icon:Zo(e)}))(e.struct({id:Xo(e),meta:zr(e),text:e.string,onClickActions:_r(e)}))})),es=Object(Fa.b)((function(e){return e.intersect(e.partial({title:e.string}))(e.struct({items:e.readonly(e.array(Jo(e)))}))})),ts=Object(Fa.b)((function(e){return e.struct({meta:zr(e),label:e.string,sections:e.readonly(e.array(es(e)))})})),ns=Object(Fa.b)((function(e){return e.number})),as=Object(Fa.b)((function(e){var t;return e.sum("kind")(((t={}).component=rs(e),t.gButton=is(e),t.nativeComponent=os(e),t))})),rs=Object(Fa.b)((function(e){return e.struct({kind:e.literal("component"),id:Xo(e)})})),is=Object(Fa.b)((function(e){return e.struct({kind:e.literal("gButton")})})),os=Object(Fa.b)((function(e){return e.struct({kind:e.literal("nativeComponent"),knownName:Wr(e)})})),ss=Object(Fa.b)((function(e){return e.lazy("PopoverView",(function(){return cs(e)}))})),cs=Object(Fa.b)((function(e){return e.intersect(e.partial({onShow:_r(e)}))(e.intersect(e.partial({onDismiss:_r(e)}))(e.intersect(e.partial({onFulfill:_r(e)}))(e.struct({id:Xo(e),rootPopoverId:Xo(e),anchor:as(e),child:$r(e)}))))})),ls=Cs(ja),us=Cs(_a),ds=Object(Fa.b)((function(e){return e.number})),ps=Object(Fa.b)((function(e){return e.struct({id:Xo(e),meta:zr(e),label:e.string,onClickActions:_r(e)})})),ms=Object(Fa.b)((function(e){return e.struct({meta:zr(e),label:e.string,items:e.readonly(e.array(ps(e)))})})),fs=Object(Fa.b)((function(e){return e.string})),hs=Cs(xa),gs=Object(Fa.b)((function(e){return e.struct({top:hs(e),right:hs(e),bottom:hs(e),left:hs(e)})})),bs=Cs(Aa),vs=Cs(Ia),ys=Cs(Ta),Os=Cs(Ma),Ss=Cs(Pa);function Cs(e){var t=Object.keys(e).map((function(t){return e[t]})),n=t[0],a=t.slice(1);return Object(Fa.b)((function(e){return e.literal.apply(e,Object(Yt.d)([n],a,!1))}))}var ws,ks,Es,js,_s,xs,As,Is,Ts,Ms,Ps,Ns,Ds,Bs,Ls,Fs,Rs,Hs,Vs,Us,Ws,zs,Gs,qs,Ks,$s,Zs,Ys,Xs,Qs,Js,ec,tc,nc,ac="4.42.8",rc=["proofitButton","newRevision","gButton:default","gButton:tone","gButton:proofit","gButton:get-started","gButton:plagiarism","gButton:writingExpert","nativePerformanceScoreButton","globalPart","enableWritingExpertCheck","disableWritingExpertCheck"];function ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function oc(e){if(Array.isArray(e))return e}function sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cc(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function lc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function uc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){sc(e,t,n[t])}))}return e}function dc(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function pc(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mc(e,t){return oc(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||hc(e,t)||lc()}function fc(e){return function(e){if(Array.isArray(e))return ic(e)}(e)||cc(e)||hc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hc(e,t){if(e){if("string"==typeof e)return ic(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ic(e,t):void 0}}function gc(e,t){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function bc(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vc(e){return i.unsupportedComponents.includes(e.type)}!function(e){e.isStrongAlertRefComponent=function(e){return"child"in e},e.isStrongAlertRefBehavior=function(e){return!("child"in e)}}(ws||(ws={})),function(e){e.isStrongAlertRef=function(e){return"strongAlertRef"===e.type},e.create=function(e,t,n){return{type:"strongAlertRef",alertIds:t,child:e,onEmpty:n,id:Ys.from("strongAlertRef")}}}(ks||(ks={})),function(e){e.isLongFormCard=function(e){return"longFormCard"===e.type},e.create=function(e,t,n){return{type:"longFormCard",fullContent:e,collapsedContent:t,id:Ys.from("longFormCard"),behaviors:[js.StrongAlertRef.create(n,[])],feedProperties:{}}}}(Es||(Es={})),(As=js||(js={})).isStrongAlertRef=function(e){return"behavior:strongAlertRef"===e.type},(xs=As.StrongAlertRef||(As.StrongAlertRef={})).create=function(e,t){return{id:Ys.from("behavior:strongAlertRef"),type:"behavior:strongAlertRef",alertIds:e,onEmpty:t}},xs.eq=Fa.a(La.a)(r.BehaviorStrongAlertRef),As.isPopoverAnchor=function(e){return"behavior:popoverAnchor"===e.type},(_s=As.PopoverAnchor||(As.PopoverAnchor={})).create=function(e,t){return{type:"behavior:popoverAnchor",id:e,positionHint:t}},_s.nonEmpty=function(e){return!!e.view},(Ts=Is||(Is={})).create=function(e,t,n,r,i){return{type:"row",left:e,right:t,spacing:n,verticalAlign:r,id:Ys.from("row"),behaviors:i?[js.PopoverAnchor.create(i,a.Position.Top)]:void 0}},Ts.isRow=function(e){return"row"===e.type},function(e){e.create=function(e){return{type:"column",children:e,id:Ys.from("column")}}}(Ms||(Ms={})),function(e){var t=e.Type="block";e.create=function(e,n,a){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return{type:t,name:Xs.unknown(e),parts:i,spacing:n,innerSpacing:a,id:Ys.from(e)}},e.isBlock=function(e){return e.type===t},e.hasOnlyTextParts=function(e){return e.parts.every(Ns.isText)}}(Ps||(Ps={})),function(e){var t=e.Type="text";e.create=function(e,n,a,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return{type:t,text:e,size:n,format:a,textColor:r,backgroundColor:i,outlineColor:o,id:Ys.from(t),meta:s}},e.isText=function(e){return e.type===t}}(Ns||(Ns={})),function(e){e.create=function(e,t){return{label:e,preview:t}}}(Ds||(Ds={})),function(e){e.create=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return{type:"alternativeChoice",alternatives:n,id:Ys.from("alternativeChoice"),meta:e}}}(Bs||(Bs={})),function(e){e.create=function(e,t){return{type:"viewStack",id:Ys.from("ViewStack"),views:t,selected:e}}}(Ls||(Ls={})),Hs=Fs||(Fs={}),Vs=Hs.Type="button",(Rs=Hs.Action||(Hs.Action={})).isTransitionAction=function(e){return"transition"===e.type},Rs.isApplyAlertsAction=function(e){return"applyAlerts"===e.type},Rs.createSelectAlternativeAction=function(e){return{type:"selectAlternative",alternativeIndex:e}},Hs.isButton=function(e){return"button"===e.type},Hs.create=function(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:a.ButtonShape.Square,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=Ys.from(e);return{type:Vs,id:l,name:Xs.unknown(e),tooltip:i,kind:r,state:a.ButtonState.Enabled,label:{type:Ps.Type,name:Xs.unknown(""),parts:[Ns.create(t,a.TextSize.Regular,[],a.Color.CoreNeutral0,void 0,void 0)],spacing:o,id:Ys.from("label-button-"+l)},actions:n,shape:s,meta:c}},Hs.createIcon=function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:a.ButtonShape.Square,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=Ys.from(e),l="icon-button-"+e;return{type:Vs,id:c,name:Xs.unknown(e),tooltip:i,kind:r,state:a.ButtonState.Enabled,label:{type:Ps.Type,name:Xs.unknown(l),spacing:Ws.create("0","0.25","0","0.25"),parts:[Us.create(t,void 0)],id:Ys.from(l)},actions:n,shape:o,meta:s}},function(e){var t=e.Type="icon";!function(e){e.createKnown=function(e){return{kind:"known",name:e}},e.createUrl=function(e,t,n){return{kind:"url",name:t,url:e,size:n}}}(e.Source||(e.Source={})),e.create=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:t,source:e,backgroundColor:n,id:Ys.from(t),meta:a}}}(Us||(Us={})),function(e){e.create=function(e,t,n,a){return{top:e,bottom:n,left:a,right:t}}}(Ws||(Ws={})),function(e){e.create=function(e,t){return{vertical:t,horizontal:e}}}(zs||(zs={})),function(e){var t=e.Type="count";e.create=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:"count",backgroundColor:n,value:e,id:Ys.from(t),meta:a}}}(Gs||(Gs={})),function(e){!function(e){e.create=function(e,t,n){return{type:"sliderChoice",id:Ys.from("slider-choice-"+t.toLowerCase()),icon:e,label:t,actions:n}}}(e.Choice||(e.Choice={})),e.create=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"slider",segmentSize:e,fillColor:t,choices:n,id:Ys.from("slider"),meta:a}}}(qs||(qs={})),function(e){!function(e){e.create=function(e,t,n,a){return{id:Ys.from("alternative-slider-choice-"+t.toLowerCase()),icon:e,label:t,actions:n,preview:a}}}(e.Choice||(e.Choice={})),e.create=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"alternativeSlider",segmentSize:e,fillColor:t,choices:n,id:Ys.from("alternativeSlider"),meta:a}}}(Ks||(Ks={})),(Zs=$s||($s={})).create=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"list",items:e,id:Ys.from("list"),meta:t}},(Zs.Item||(Zs.Item={})).create=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{id:Ys.from("listItem"),label:e,behaviors:n,actions:t,secondaryButtons:a,meta:r}},(Ys||(Ys={})).from=function(e){return e+"#"+G.f.alphanumeric(6)},function(e){e.unknown=function(e){return{kind:"unknown",value:e}}}(Xs||(Xs={})),(Js=Qs||(Qs={})).create=function(e,t,n){return{type:"popoverStack",id:e,views:n,selected:t}},Js.createView=function(e,t,n,a){return{id:e,rootPopoverId:t,child:n,anchor:{kind:"component",id:a||G.f.alphanumeric(3)}}},function(e){var t=e.Type="globalPart";e.create=function(e,n,a){return{type:t,id:e,content:n,name:Xs.unknown(a)}},e.isGlobalPart=function(e){return e.type===t}}(ec||(ec={})),function(e){var t=e.Type="globalPartPlaceholder";e.create=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ys.from(t),a=arguments.length>2?arguments[2]:void 0;return{type:t,id:n,globalPartId:e,child:a}},e.isGlobalPartPlaceholder=function(e){return e.type===t}}(tc||(tc={})),function(e){var t,n=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=fc(r).concat([e.id]);switch(a){case t.PreOrder:return n(e,i),A(e,n,a,i);case t.PostOrder:return A(e,n,a,i),n(e,i);default:Object(yt.c)(a)}},i=function(e){var n,a=arguments;return gc(this,(function(r){switch(r.label){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:t.PreOrder,[5,bc(p(e,n,[]))];case 1:return r.sent(),[2]}}))},o=function(e,t,n,a){var r=a;return nc.forEach(e,(function(e,n){return r=t(r,e,n)}),n),r},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nc.TreeTraversal.PreOrder,a=!0,r=!1,o=void 0;try{for(var s,c=i(e,n)[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value;if(l.type===t)return O.g.some(l)}}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return O.g.none},c=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(a){case t.PreOrder:return Object(b.pipe)(n(e),(function(e){return w(e,n,a)}));case t.PostOrder:return Object(b.pipe)(w(e,n,a),O.g.map(n));default:Object(yt.c)(a)}},l=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(a){case t.PreOrder:return Object(b.pipe)(e,O.g.fromPredicate(n),O.g.chain((function(e){return Object(b.pipe)(k(e,n,a),O.g.map((function(t){return uc({},e,t)})))})));case t.PostOrder:return Object(b.pipe)(k(e,n,a),O.g.chain((function(t){return O.g.fromPredicate(n)(uc({},e,t))})));default:Object(yt.c)(a)}},u=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(a){case t.PreOrder:return Object(b.pipe)(n(e),O.g.chain((function(e){return Object(b.pipe)(E(e,n,a),O.g.map((function(t){return uc({},e,t)})))})));case t.PostOrder:return Object(b.pipe)(E(e,n,a),O.g.chain((function(t){return n(uc({},e,t))})));default:Object(yt.c)(a)}},d=function(e){return l(e,Object(z.m)(C),t.PostOrder)},p=function(e){var n,a,r,i=arguments;return gc(this,(function(o){switch(o.label){case 0:switch(n=i.length>1&&void 0!==i[1]?i[1]:t.PreOrder,a=i.length>2&&void 0!==i[2]?i[2]:[],r=fc(a).concat([e.id]),n){case t.PreOrder:return[3,1];case t.PostOrder:return[3,4]}return[3,7];case 1:return[4,e];case 2:return o.sent(),[5,bc(f(e,n,r))];case 3:return o.sent(),[3,8];case 4:return[5,bc(f(e,n,r))];case 5:return o.sent(),[4,e];case 6:return o.sent(),[3,8];case 7:Object(yt.c)(n),o.label=8;case 8:return[2]}}))},m=function(e){var n,a,r,i=arguments;return gc(this,(function(o){switch(o.label){case 0:n=i.length>1&&void 0!==i[1]?i[1]:t.PreOrder,a=i.length>2?i[2]:void 0,r=0,o.label=1;case 1:return r<e.length?[5,bc(p(e[r],n,a))]:[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2]}}))},f=function(e){var n,a,r,i,o,s,c,l,u=arguments;return gc(this,(function(d){switch(d.label){case 0:switch(n=u.length>1&&void 0!==u[1]?u[1]:t.PreOrder,a=u.length>2?u[2]:void 0,e.type){case"column":return[3,1];case"assistantCard":return[3,3];case"popoverStack":return[3,8];case"strongAlertRef":return[3,10];case"row":return[3,12];case"block":return[3,15];case"box":case"scroll":case"inlineCard":case"shortFormCard":return[3,17];case"globalPart":return[3,19];case"globalPartPlaceholder":return[3,21];case"list":return[3,23];case"button":return[3,25];case"alternativeChoice":return[3,27];case"alternativeSlider":return[3,32];case"assistantFeed":return[3,37];case"viewStack":return[3,42];case"collapsedCard":return[3,44];case"longFormCard":return[3,49];case"tooltip":return[3,52];case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return[3,54]}return[3,55];case 1:return[5,bc(m(e.children,n,a))];case 2:return d.sent(),[3,56];case 3:return null==e.footer?[3,5]:[5,bc(p(e.footer,n,a))];case 4:return d.sent(),[3,6];case 5:null,d.label=6;case 6:return[5,bc(p(e.child,n,a))];case 7:return d.sent(),[3,56];case 8:return[5,bc(m(Object.values(e.views).map((function(e){return e.child})),n,a))];case 9:return d.sent(),[3,56];case 10:return[5,bc(p(e.child,n,a))];case 11:return d.sent(),[3,56];case 12:return[5,bc(m(e.left,n,a))];case 13:return d.sent(),[5,bc(m(e.right,n,a))];case 14:return d.sent(),[3,56];case 15:return[5,bc(m(e.parts,n,a))];case 16:return d.sent(),[3,56];case 17:return[5,bc(p(e.child,n,a))];case 18:return d.sent(),[3,56];case 19:return[5,bc(p(e.content,n,a))];case 20:return d.sent(),[3,56];case 21:return e.child?[5,bc(p(e.child,n,a))]:[2];case 22:return d.sent(),[3,56];case 23:return[5,bc(m(e.items.map((function(e){return e.label})),n,a))];case 24:return d.sent(),[3,56];case 25:return[5,bc(p(e.label,n,a))];case 26:return d.sent(),[3,56];case 27:r=0,d.label=28;case 28:return r<e.alternatives.length?(i=e.alternatives[r],o=i.label,s=i.preview,[5,bc(m([o,s],n,a))]):[3,31];case 29:d.sent(),d.label=30;case 30:return r++,[3,28];case 31:return[3,56];case 32:c=0,d.label=33;case 33:return c<e.choices.length?(l=e.choices[c].preview,[5,bc(p(l,n,a))]):[3,36];case 34:d.sent(),d.label=35;case 35:return c++,[3,33];case 36:return[3,56];case 37:return null==e.footer?[3,39]:[5,bc(p(e.footer,n,a))];case 38:return d.sent(),[3,40];case 39:null,d.label=40;case 40:return[5,bc(p(e.header,n,a))];case 41:return d.sent(),[3,56];case 42:return[5,bc(m(Object.values(e.views),n,a))];case 43:return d.sent(),[3,56];case 44:return null==e.quickActions?[3,46]:[5,bc(p(e.quickActions,n,a))];case 45:return d.sent(),[3,47];case 46:null,d.label=47;case 47:return[5,bc(p(e.child,n,a))];case 48:return d.sent(),[3,56];case 49:return[5,bc(p(e.collapsedContent,n,a))];case 50:return d.sent(),[5,bc(p(e.fullContent,n,a))];case 51:return d.sent(),[3,56];case 52:return[5,bc(p(e.child,n,a))];case 53:return d.sent(),[3,56];case 54:return[2];case 55:if(vc(e))return[2];Object(yt.c)(e),d.label=56;case 56:return[2]}}))};!function(e){e.PreOrder="PreOrder",e.PostOrder="PstOrder"}(t=e.TreeTraversal||(e.TreeTraversal={})),e.forEach=n,e.traverse=i,e.reduce=o,e.findFirst=s,e.findFirstWithPredicate=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nc.TreeTraversal.PreOrder,a=!0,r=!1,o=void 0;try{for(var s,c=i(e,n)[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value;if(t(l))return O.g.some(l)}}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return O.g.none};var h=e.over=function(e,n,a){var r,i=oc(r=n)||cc(r)||hc(r)||lc(),o=i[0],s=i.slice(1);return O.a.isEmpty(s)&&o===e.id?a(e):_(e,b.constVoid,t.PreOrder,(function(t){return e.id===o&&t.id===s[0]?h(t,s,a):O.g.some(t)}))};e.map=c,e.filter=l,e.filterMap=u,e.compact=d;var g=e.getAlertRefs=function(e){switch(e.type){case"alternativeChoice":case"alternativeSlider":case"block":case"button":case"count":case"alertsCount":case"icon":case"image":case"row":case"box":case"slider":case"text":case"clickableText":case"column":case"scroll":case"assistantFeed":case"assistantCard":case"popoverStack":case"gButton":case"lensesSwitchPanel":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"viewStack":case"proofitButton":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"collapsedCard":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"tooltip":case"globalPartPlaceholder":return O.g.none;case"shortFormCard":return g(e.child);case"longFormCard":return Object(b.pipe)(e.behaviors,Da.O(js.isStrongAlertRef),Ra.E);case"strongAlertRef":return O.g.some([e]);case"inlineCard":return Object(b.pipe)(Object(b.pipe)(e.behaviors,O.g.fromNullable,O.g.chain(Object(b.flow)(Da.O(js.isStrongAlertRef),Ra.E))));case"list":return Object(b.pipe)(e.items,Da.ub((function(e){return Object(b.pipe)(e.behaviors,O.g.fromNullable,O.g.chain(Object(b.flow)(O.a.filter(js.isStrongAlertRef),Ra.E)))})),O.g.sequenceArray,O.g.map(Ra.A));default:if(vc(e))return O.g.none;Object(yt.c)(e)}},v=(e.getAlertIds=Object(b.flow)(g,O.g.chain(Object(b.flow)(Da.w(G.e.pick("alertIds")),Ra.F))),e.getAllAlertIds=function(e){return o(e,(function(e,t){return Object(b.pipe)(nc.getAlertIds(t),O.g.map((function(t){return e.concat(t)})),O.g.getOrElse((function(){return e})))}),t.PreOrder,[])},e.getSDUIId=function(e){return O.g.fromNullable(e.id)},e.setPopoverView=function(e,t){return c(e,(function(e){switch(e.type){case"box":case"row":case"button":return Object(b.pipe)(O.g.fromNullable(e.behaviors),O.g.chain(Da.S(js.isPopoverAnchor)),O.g.fold(Object(b.constant)(e),(function(n){var a=n.view,r=pc(n,["view"]);return Object(b.pipe)(O.g.fromNullable(a),O.g.fold((function(){return Object(b.pipe)(t,O.g.filter((function(e){return"component"===e.anchor.kind&&e.anchor.id===r.id})),O.g.fold(Object(b.constant)(e),(function(t){return dc(uc({},e),{behaviors:[dc(uc({},r),{view:t})]})})))}),(function(n){return Object(b.pipe)(t,O.g.filter((function(e){return G.e.isEqual(e.anchor,n.anchor)})),O.g.fold((function(){return dc(uc({},e),{behaviors:[r]})}),(function(t){return t.rootPopoverId===n.rootPopoverId&&t.id===n.id?e:dc(uc({},e),{behaviors:[dc(uc({},r),{view:t})]})})))})))})));default:return e}}))},e.setGlobalPartPlaceholderContent=function(e,t){return c(e,(function(e){switch(e.type){case"globalPartPlaceholder":return Object(b.pipe)(t(e.globalPartId),O.g.fold((function(){return e}),(function(t){return dc(uc({},e),{child:t.content})})));default:return e}}))},e.removeStrongAlertRef=function(e){return function(t){var n=Object(b.pipe)(t,Da.ub((function(e){return e.alertIds})),Da.Y,(function(e){return new Set(e)})),a=Object(b.pipe)(t,Ra.y(ws.isStrongAlertRefComponent)),r=Object(b.pipe)(t,Ra.y(ws.isStrongAlertRefBehavior));return Object(b.pipe)(u(e,y(n,a,r)),O.g.chain(d))}},function(e,t){var n;return dc(uc({},e),{behaviors:null===(n=e.behaviors)||void 0===n?void 0:n.map((function(e){return"behavior:strongAlertRef"===e.type?dc(uc({},e),{alertIds:e.alertIds.filter((function(e){return!t.has(e)}))}):e}))})}),y=function(e,t,n){return function(a){switch(a.type){case"alternativeChoice":case"alternativeSlider":case"box":case"block":case"button":case"count":case"alertsCount":case"icon":case"image":case"row":case"slider":case"text":case"column":case"scroll":case"assistantFeed":case"assistantCard":case"popoverStack":case"gButton":case"lensesSwitchPanel":case"clickableText":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeGetStartedChecklistModal":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"viewStack":case"proofitButton":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"collapsedCard":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"tooltip":case"globalPartPlaceholder":return O.g.some(a);case"shortFormCard":return y(e,t,n)(a.child);case"longFormCard":return O.g.some(dc(uc({},a),{behaviors:a.behaviors.map((function(t){return js.isStrongAlertRef(t)?dc(uc({},t),{alertIds:t.alertIds.filter((function(t){return!e.has(t)}))}):t}))}));case"strongAlertRef":return Object(b.pipe)(t,O.g.exists((function(e){return e.some((function(e){return S.equals(a,e)}))})))?O.g.none:O.g.some(dc(uc({},a),{alertIds:a.alertIds.filter((function(t){return!e.has(t)}))}));case"inlineCard":return a.behaviors&&a.behaviors.some((function(e){return js.isStrongAlertRef(e)&&Object(b.pipe)(n,O.g.exists((function(t){return t.some((function(t){return js.StrongAlertRef.eq.equals(e,t)}))})))}))?O.g.none:O.g.some(v(a,e));case"list":var r=a.items.filter((function(e){return!e.behaviors||!e.behaviors.some((function(e){return js.isStrongAlertRef(e)&&Object(b.pipe)(n,O.g.exists((function(t){return t.some((function(t){return js.StrongAlertRef.eq.equals(e,t)}))})))}))}));return 0===r.length?O.g.none:O.g.some(dc(uc({},a),{items:r.map((function(t){return v(t,e)}))}));default:if(vc(a))return O.g.some(a);Object(yt.c)(a)}}},S=(e.switchViewStack=function(e,t,n){return Object(b.pipe)(h(e,t,(function(e){return"viewStack"!==e.type&&"popoverStack"!==e.type||null==e.views[n]?O.g.some(e):O.g.some(dc(uc({},e),{selected:n}))})),O.g.fold((function(){return e}),b.identity))},e.toContentMap=function(e){return nc.reduce(e,(function(e,t,n){return e[t.id]={content:t,path:n},e}),t.PreOrder,{})},e.eq=Fa.a(La.a)(r.Content)),C=e.isEmpty=function(e){if(null==e)return!0;switch(e.type){case"column":return Da.nb(e.children);case"assistantCard":return null==e.child&&null==e.footer;case"box":case"scroll":case"strongAlertRef":case"collapsedCard":case"inlineCard":case"shortFormCard":case"globalPartPlaceholder":return null==e.child;case"row":return Da.nb(e.left)&&Da.nb(e.right);case"block":return Da.nb(e.parts);case"list":return Da.nb(e.items);case"button":return null==e.label;case"alternativeChoice":return Da.nb(e.alternatives);case"alternativeSlider":return Da.nb(e.choices);case"assistantFeed":return null==e.header&&null==e.footer;case"viewStack":return G.e.isEmptyObject(e.views);case"longFormCard":return null==e.fullContent;case"tooltip":return null==e.child;case"globalPart":return null==e.content;case"count":case"alertsCount":case"icon":case"image":case"slider":case"text":case"clickableText":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"popoverStack":return!1;default:if(vc(e))return!1;Object(yt.c)(e)}};e.isSwitchViewAction=function(e){return"switchView"===e.type};e.bulkSwitchView=function(e,t,n){var a=null!=n?n:nc.toContentMap(e);return t.reduce((function(e,t){var n=t.selected,r=t.where;return Object(b.pipe)(a[r],O.g.fromNullable,O.g.map(G.e.pick("path")),O.g.fold((function(){return e}),(function(t){return nc.switchViewStack(e,t,n)})))}),e)},e.getCardPropsForFeed=function(e){return e.filtering.filter((function(e){return e.condition===a.ContentAssistantFeedFilteringCondition.EqualTo})).reduce((function(e,t){return dc(uc({},e),sc({},t.property,t.value))}),{})};var w=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return _(e,n,a,c)},k=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return _(e,n,a,l)},E=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return _(e,n,a,u)},j=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,r=arguments.length>3?arguments[3]:void 0;return Object(b.pipe)(e,Da.Fb(new Array,(function(e,t){return Object(b.pipe)(r(t,n,a),O.g.fold(b.constVoid,(function(t){return e.push(t)}))),e})))},_=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,r=arguments.length>3?arguments[3]:void 0;switch(e.type){case"column":return Object(b.pipe)(j(e.children,n,a,r),(function(t){return dc(uc({},e),{children:t})}),O.g.some);case"assistantCard":var i=Object(b.pipe)(O.g.fromNullable(e.footer),O.g.chain((function(e){return r(e,n,a)})),O.g.getOrElse((function(){})));return Object(b.pipe)(r(e.child,n,a),O.g.map((function(t){return dc(uc({},e),{child:t,footer:i})})));case"strongAlertRef":case"scroll":case"inlineCard":case"shortFormCard":case"box":return Object(b.pipe)(r(e.child,n,a),O.g.map((function(t){return dc(uc({},e),{child:t})})));case"row":var o=j(e.right,n,a,r),s=j(e.left,n,a,r);return O.g.some(dc(uc({},e),{left:s,right:o}));case"block":return Object(b.pipe)(j(e.parts,n,a,r),(function(t){return dc(uc({},e),{parts:t})}),O.g.some);case"list":return Object(b.pipe)(e.items,Da.ub((function(e){return Object(b.pipe)(r(e.label,n,a),O.g.map((function(t){return dc(uc({},e),{label:t})})))})),Da.O(O.g.isSome),Da.ub(O.g.unsafeGet),(function(t){return dc(uc({},e),{items:t})}),O.g.some);case"button":return Object(b.pipe)(r(e.label,n,a),O.g.map((function(t){return dc(uc({},e),{label:t})})));case"alternativeChoice":return Object(b.pipe)(e.alternatives,Da.ub((function(e){return Object(b.pipe)([r(e.label,n,a),r(e.preview,n,a)],O.g.sequenceArray,O.g.map((function(e){return e})),O.g.map((function(t){var n=mc(t,2),a=n[0],r=n[1];return dc(uc({},e),{label:a,preview:r})})))})),Da.O(O.g.isSome),Da.ub(O.g.unsafeGet),(function(t){return dc(uc({},e),{alternatives:t})}),O.g.some);case"alternativeSlider":return Object(b.pipe)(e.choices,Da.ub((function(e){return Object(b.pipe)(r(e.preview,n,a),O.g.map((function(t){return dc(uc({},e),{preview:t})})))})),Da.O(O.g.isSome),Da.ub(O.g.unsafeGet),(function(t){return dc(uc({},e),{choices:t})}),O.g.some);case"assistantFeed":return Object(b.pipe)(O.g.fromNullable(e.footer),O.g.chain((function(e){return r(e,n,a)})),O.g.map((function(t){return dc(uc({},e),{footer:t})})),O.g.alt((function(){return O.g.some(e)})),O.g.chain((function(e){return Object(b.pipe)(r(e.header,n,a),O.g.map((function(t){return dc(uc({},e),{header:t})})))})));case"popoverStack":return Object(b.pipe)(Object.keys(e.views),Da.Fb({},(function(t,i){return Object(b.pipe)(r(e.views[i].child,n,a),O.g.fold((function(){return delete t[i],t}),(function(n){return t[i]=dc(uc({},e.views[i]),{child:n}),t})))})),(function(t){return dc(uc({},e),{views:t})}),O.g.some);case"viewStack":return Object(b.pipe)(Object.keys(e.views),Da.Fb({},(function(t,i){return Object(b.pipe)(r(e.views[i],n,a),O.g.fold((function(){return delete t[i],t}),(function(e){return t[i]=e,t})))})),(function(t){return dc(uc({},e),{views:t})}),O.g.some);case"collapsedCard":var c=Object(b.pipe)(O.g.fromNullable(e.quickActions),O.g.chain((function(e){return r(e,n,a)})),O.g.getOrElse((function(){})));return Object(b.pipe)(r(e.child,n,a),O.g.map((function(t){return dc(uc({},e),{child:t,quickActions:c})})));case"longFormCard":return Object(b.pipe)(r(e.fullContent,n,a),O.g.chain((function(t){return Object(b.pipe)(r(e.collapsedContent,n,a),O.g.map((function(n){return dc(uc({},e),{fullContent:t,collapsedContent:n})})))})));case"tooltip":return Object(b.pipe)(r(e.child,n,a),O.g.map((function(t){return dc(uc({},e),{child:t})})));case"globalPart":return Object(b.pipe)(r(e.content,n,a),O.g.map((function(t){return dc(uc({},e),{content:t})})));case"globalPartPlaceholder":return e.child?Object(b.pipe)(r(e.child,n,a),O.g.map((function(t){return dc(uc({},e),{child:t})}))):O.g.some(e);case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return O.g.some(e);default:if(vc(e))return O.g.some(e);Object(yt.c)(e)}},x=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,i=arguments.length>3?arguments[3]:void 0;return e.forEach((function(e){return n(e,a,r,i)}))},A=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,i=arguments.length>3?arguments[3]:void 0;switch(e.type){case"column":return x(e.children,a,r,i);case"assistantCard":return null!=e.footer&&n(e.footer,a,r,i),n(e.child,a,r,i);case"popoverStack":return x(Object.values(e.views).map((function(e){return e.child})),a,r,i);case"strongAlertRef":return n(e.child,a,r,i);case"row":return x(e.left,a,r,i),x(e.right,a,r,i);case"block":return x(e.parts,a,r,i);case"box":case"scroll":case"inlineCard":case"shortFormCard":return n(e.child,a,r,i);case"list":return x(e.items.map((function(e){return e.label})),a,r,i);case"button":return n(e.label,a,r,i);case"alternativeChoice":return e.alternatives.forEach((function(e){var t=e.label,n=e.preview;return x([t,n],a,r,i)}));case"alternativeSlider":return e.choices.forEach((function(e){var t=e.preview;return n(t,a,r,i)}));case"assistantFeed":return null!=e.footer&&n(e.footer,a,r,i),n(e.header,a,r,i);case"viewStack":return x(Object.values(e.views),a,r,i);case"collapsedCard":return null!=e.quickActions&&n(e.quickActions,a,r,i),n(e.child,a,r,i);case"longFormCard":return n(e.collapsedContent,a,r,i),n(e.fullContent,a,r,i);case"tooltip":return n(e.child,a,r,i);case"globalPart":return n(e.content,a,r,i);case"globalPartPlaceholder":return e.child?n(e.child,a,r,i):void 0;case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return;default:if(vc(e))return;Object(yt.c)(e)}},I=(e.Functor={map:function(e,n){return c(e,n,t.PreOrder)}},e.checkForGlobalPartWithPlaceholder=function(e){return ec.isGlobalPart(e)?Object(b.pipe)(s(e,"globalPartPlaceholder"),O.g.fold((function(){return O.b.right(e)}),(function(t){return O.b.left(new Error("globalPart can not contain globalPartPlaceholder. globalPartPlaceholder (id: ".concat(t.id,") found in globalPart (id: ").concat(e.id,")")))}))):O.b.right(e)}),T=Fa.a(Ba.Schemable)(r.Content);e.dslRootParser=Object(b.flow)(T.decode,O.b.mapLeft((function(e){return new Error(Ba.draw(e))})),O.b.chain(I))}(nc||(nc={}));var yc,Oc,Sc,Cc=n("HOlR"),wc=n("lKCo"),kc=n("gIH0"),Ec=n("yRey"),jc=n("GMJx"),_c=n("ezee"),xc=n("8Z+1"),Ac={patterns:{email:{regex:'(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))',prefixes:[],priority:0,description:"Email"},url:{regex:"[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b((([-a-zA-Z0-9()@%_\\+~#&//=\\[\\]])|([.:?](?!$|\\s)))*)?",prefixes:["http://","https://"],priority:1,description:"URL"},creditCardNumber:{regex:"(\\d{4}\\d{4}\\d{4}\\d{4})|(\\d{4}\\-\\d{4}\\-\\d{4}\\-\\d{4})|(\\d{4}\\s\\d{4}\\s\\d{4}\\s\\d{4})",prefixes:[],priority:2,description:"Credit card number"},phoneNumber:{regex:"[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}",prefixes:[],priority:3,description:"Phone number"},usSSN:{regex:"[0-9]{3}[-]*[0-9]{2}[-]*[0-9]{4}",prefixes:[],priority:4,description:"US SSN"},caSSN:{regex:"[0-9]{3}[\\s\\-]?[0-9]{3}[\\s\\-]?[0-9]{3}",prefixes:[],priority:5,description:"CA SIN"},ukSSN:{regex:"[A-Z]{2}[\\s\\-]?\\d{2}[\\s\\-]?\\d{2}[\\s\\-]?\\d{2}[\\s\\-]?[A-Z]",prefixes:[],priority:6,description:"UK NI NO"},iban:{regex:"[A-Z]{2}(-?|\\ )\\d{2}-?(?:\\ ?[A-Z]{4}-?)?(?:\\d{13,}|(?:\\ \\d{4}){3,5}\\ \\d{1,4})",prefixes:[],priority:7,description:"IBAN number"},variousID:{regex:"[A-Z]{0,2}(?:\\d{3,8}[\\ -])(?:\\d{2,8}[\\ -]){1,4}\\d{2,4}|\\d{7}[A-Z]?|\\d{5,18}",prefixes:[],priority:8,description:"Various ID number"}}},Ic=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=this;Object(c.a)(this,e),Object(u.a)(this,"_externalMessagesSchemas",void 0),Object(u.a)(this,"_sanitizationSeed",void 0),Object(u.a)(this,"_sensitiveToSanitizedMap",void 0),Object(u.a)(this,"_sanitizedToSensitiveMap",void 0),Object(u.a)(this,"_dlpRegexConfiguration",void 0),Object(u.a)(this,"sanitizeMessage",void 0),Object(u.a)(this,"sanitizeStaticMessage",void 0),Object(u.a)(this,"sanitizeChange",void 0),Object(u.a)(this,"sanitizeDelta",void 0),Object(u.a)(this,"sanitizeSdui",void 0),Object(u.a)(this,"sanitizeText",void 0),Object(u.a)(this,"unsanitizeMessage",void 0),Object(u.a)(this,"unsanitizeChange",void 0),Object(u.a)(this,"unsanitizeDelta",void 0),Object(u.a)(this,"unsanitizeSdui",void 0),Object(u.a)(this,"unsanitizeText",void 0),Object(u.a)(this,"matchInText",void 0),Object(u.a)(this,"clear",void 0),Object(u.a)(this,"_sanitizeDlpMatch",void 0),Object(u.a)(this,"_unsanitizeDlpMatch",void 0),Object(u.a)(this,"_sanitizingEncoder",void 0),Object(u.a)(this,"_unsanitizingEncoder",void 0),Object(u.a)(this,"_sensitiveGuard",void 0),Object(u.a)(this,"_externalMessagesHandlers",void 0),this._externalMessagesSchemas=n,this._sanitizationSeed=-1,this._sensitiveToSanitizedMap=new Map,this._sanitizedToSensitiveMap=new Map,this.sanitizeMessage=function(e){var t=a._externalMessagesHandlers.find((function(t){return t.is(e)}));return t?t.sanitizer.encode(e):Sc.replaceInRequest(e,a.sanitizeText,a.matchInText)},this.sanitizeStaticMessage=function(e){return Sc.replaceInStaticRequest(e,a.sanitizeText,a.matchInText)},this.sanitizeChange=function(e){return Sc.replaceInChangeWithAttributes(e,a.sanitizeText,a.matchInText)},this.sanitizeDelta=function(e){return Sc.replaceInDeltaWithAttributes(e,a.sanitizeText,a.matchInText)},this.sanitizeSdui=function(e){return Sc.replaceInSdui(e,a.sanitizeText)},this.sanitizeText=function(e){return yc.replaceInText(a._dlpRegexConfiguration,e,a._sanitizeDlpMatch)},this.unsanitizeMessage=function(e){var t=a._externalMessagesHandlers.find((function(t){return t.is(e)}));return t?t.unsanitizer.encode(e):Sc.replaceInResponse(e,a.unsanitizeText)},this.unsanitizeChange=function(e){return Sc.replaceInChange(e,a.unsanitizeText)},this.unsanitizeDelta=function(e){return Sc.replaceInDelta(e,a.unsanitizeText)},this.unsanitizeSdui=function(e){return Sc.replaceInSdui(e,a.unsanitizeText)},this.unsanitizeText=function(e){return yc.replaceInText(a._dlpRegexConfiguration,e,a._unsanitizeDlpMatch)},this.matchInText=function(e){return yc.matchInText(a._dlpRegexConfiguration,e)},this.clear=function(){a._sanitizationSeed=-1,a._sensitiveToSanitizedMap.clear(),a._sanitizedToSensitiveMap.clear()},this._sanitizeDlpMatch=function(e){var t=e.text;if(!a._sensitiveToSanitizedMap.has(t)){var n=Oc.sanitizeDlpMatch(e,++a._sanitizationSeed);a._sensitiveToSanitizedMap.set(t,n),a._sanitizedToSensitiveMap.set(n,t)}return a._sensitiveToSanitizedMap.get(t)},this._unsanitizeDlpMatch=function(e){var t=e.text;return a._sanitizedToSensitiveMap.has(t)?a._sanitizedToSensitiveMap.get(t):t},this._sanitizingEncoder=xc.a.extend(xc.b)({any:kc.id(),sensitiveString:{encode:this.sanitizeText},sensitiveDelta:{encode:this.sanitizeDelta}}),this._unsanitizingEncoder=xc.a.extend(xc.b)({any:kc.id(),sensitiveString:{encode:this.unsanitizeText},sensitiveDelta:{encode:this.unsanitizeDelta}}),this._sensitiveGuard=xc.a.extend(Ec.Schemable)({any:Ec.id(),sensitiveString:Ec.string,sensitiveDelta:Ec.id()}),this._externalMessagesHandlers=this._externalMessagesSchemas.map((function(e){return Object(m.a)(Object(p.a)({},xc.a.interpreter(a._sensitiveGuard)(e)),{sanitizer:xc.a.interpreter(a._sanitizingEncoder)(e),unsanitizer:xc.a.interpreter(a._unsanitizingEncoder)(e)})})),this._dlpRegexConfiguration=yc.getRegexConfiguration(t)};!function(e){e.getRegexConfiguration=function(e){return{dlpConfiguration:e,dlpRegex:t(e)}},e.replaceInText=function(e,t,a){var r=e.dlpConfiguration,i=e.dlpRegex;return t.replace(i,(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return a(n(r,{groups:t[t.length-1],index:t[t.length-3]}))}))},e.matchInText=function(e,t){var r=e.dlpConfiguration,i=e.dlpRegex;return a(i,t).map((function(e){return n(r,e)}))};var t=function(e){var t=e.patterns;return new RegExp(Object.entries(t).sort((function(e,t){return Object(f.a)(e,2)[1].priority-Object(f.a)(t,2)[1].priority})).map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1],r=a.regex,i=a.prefixes;return r=i.length?"(".concat(i.join("|"),")").concat(r):r,"(?<".concat(n,">").concat(r,")")})).join("|"),"g")},n=function(e,t){var n=t.groups,a=t.index,r=Object(f.a)(Object.entries(n).find((function(e){return void 0!==Object(f.a)(e,2)[1]})),2),i=r[0],o=r[1],s=e.patterns[i];return Object(m.a)(Object(p.a)({id:i},s),{text:o,start:a,end:a+o.length})},a=function(e,t){var n=[];for(e.lastIndex=0;;){var a=e.exec(t);if(!a)break;n.push(a)}return e.lastIndex=0,n}}(yc||(yc={})),function(e){e.sanitizeDlpMatch=function(e,t){var n=e.prefixes,a=e.text,r=n.find((function(e){return 0===a.indexOf(e)}));return void 0!==r?"".concat(r).concat(u(a.slice(r.length),t)):u(a,t)};var t="a".charCodeAt(0),n="z".charCodeAt(0),a="A".charCodeAt(0),r="Z".charCodeAt(0),i="0".charCodeAt(0),o="9".charCodeAt(0),s=function(e){return e>=t&&e<=n},c=function(e){return e>=a&&e<=r},l=function(e){return e>=i&&e<=o},u=function(e,n){for(var r,o=new Array(e.length),u=n,d=e.length-1;d>=0;d--){var p=e.charCodeAt(d);s(p)?(o[d]=t+(d+u)%26,u/=26):c(p)?(o[d]=a+(d+u)%26,u/=26):l(p)?(o[d]=i+(d+1+u)%10,u/=10):o[d]=p}return(r=String).fromCharCode.apply(r,Object(jt.a)(o))}}(Oc||(Oc={})),function(e){e.replaceInRequest=function(e,t,n){switch(e.action){case"submit_ot":return s(e,t,n);default:return e}},e.replaceInStaticRequest=function(e,n,a){switch(e.action){case"update_context_info":return t(e,n,a);default:return e}},e.replaceInResponse=function(e,t){switch(e.action){case"alert":return d(e,t);case"alert_changes":return f(e,t);case"sdui:add":return h(e,t);case"sdui:update":return g(e,t);default:return e}};var t=e.replaceInUpdateContextInfoMessage=function(e,t,a){return"docContext"in e?Object(m.a)(Object(p.a)({},e),{docContext:n(e.docContext,t,a)}):e},n=function(e,t,r){var i,o,s;return Object(m.a)(Object(p.a)({},e),{delta:void 0!==e.delta?a(e.delta,t,r):void 0,siblings:null===(i=e.siblings)||void 0===i?void 0:i.map((function(e){return n(e,t,r)})),children:null===(o=e.children)||void 0===o?void 0:o.map((function(e){return n(e,t,r)})),parents:null===(s=e.parents)||void 0===s?void 0:s.map((function(e){return n(e,t,r)})),audience:void 0,authors:void 0})},a=(e.replaceInChangeWithAttributes=function(e,t,n){return Qn.a.isDelta(e)?c(e,t,n):Qn.a.isReset(e)?u(e,t):e},e.replaceInChange=function(e,t){return Qn.a.isDelta(e)?l(e,t):Qn.a.isReset(e)?u(e,t):e},e.replaceInDeltaWithAttributes=function(e,t,n){var a=o(e),r=a.text,i=a.ranges,s=t(r);return{ops:e.ops.map((function(e,t){return H.a.match((function(e){if(H.a.isInsertString(e)){var a=i[t],r=a.start,o=a.end,c=s.slice(r,o),l=Object(m.a)(Object(p.a)({},e),{insert:c}),u=n(c);if(u.length>0){var d=Object.values(u).map((function(e){return{type:e.id,start:e.start,end:e.end}}));l=void 0!==l.attributes&&null!==l.attributes?Object(m.a)(Object(p.a)({},l),{attributes:_c.a.compose(l.attributes,{sanitized:{matches:d}},!1)}):Object(m.a)(Object(p.a)({},l),{attributes:{sanitized:{matches:d}}})}return l}return e}),b.identity,b.identity)(e)}))}}),r=e.replaceInDelta=function(e,t){var n=o(e),a=n.text,r=n.ranges,i=t(a);return{ops:e.ops.map((function(e,t){return H.a.match((function(e){if(H.a.isInsertString(e)){var n=r[t],a=n.start,o=n.end,s=i.slice(a,o);return Object(m.a)(Object(p.a)({},e),{insert:s})}return e}),b.identity,b.identity)(e)}))}},i=e.replaceInSdui=function(e,t){return Object(b.pipe)(e,nc.dslRootParser,Cc.map((function(e){return y(e,t)})),Cc.getOrElse(Object(b.constant)(e)))},o=function(e){return e.ops.reduce((function(e,t){var n=e.text,a=e.ranges,r=H.a.match((function(e){return H.a.isInsertString(e)?e.insert:"\n"}),Object(b.constant)(""),Object(b.constant)("\n"))(t),i=0!==a.length?a[a.length-1].end:0;return{text:n+r,ranges:Object(jt.a)(a).concat([{start:i,end:i+r.length}])}}),{text:"",ranges:[]})},s=function(e,t,n){if("deltas"in e){var r=e.deltas.map((function(e){return a(e,t,n)}));return Object(m.a)(Object(p.a)({},e),{deltas:r,deltasString:JSON.stringify(r)})}return e},c=function(e,t,n){return Qn.a.delta(new jc.a(a(e.delta,t,n).ops),e.prevLen)},l=function(e,t){return Qn.a.delta(new jc.a(r(e.delta,t).ops),e.prevLen)},u=function(e,t){return Qn.a.unsafeRes(new jc.a(r(e.delta,t).ops))},d=function(e,t){var n=Object(m.a)(Object(p.a)({},e),{replacements:e.replacements.map(t)});return void 0!==e.text&&(n.text=t(e.text)),void 0!==e.highlightText&&(n.highlightText=t(e.highlightText)),void 0!==e.transforms&&(n.transforms=e.transforms.map(t)),e.transformJson&&(n.transformJson=v(e.transformJson,t)),e.subalerts&&(n.subalerts=e.subalerts.map((function(e){return Object(m.a)(Object(p.a)({},e),{highlightText:t(e.highlightText),transformJson:v(e.transformJson,t)})}))),n},f=function(e,t){return e.transformJson?Object(m.a)(Object(p.a)({},e),{transformJson:v(e.transformJson,t)}):e},h=function(e,t){return Object(m.a)(Object(p.a)({},e),{sdui:i(e.sdui,t)})},g=function(e,t){return Object(m.a)(Object(p.a)({},e),{sdui:i(e.sdui,t)})},v=function(e,t){return e.alternatives?Object(m.a)(Object(p.a)({},e),{alternatives:e.alternatives.map((function(e){return r(e,t)}))}):e},y=function(e,t){return Object(b.pipe)(nc.map(e,(function(e){return O(e,t)})),wc.getOrElse(Object(b.constant)(e)))},O=function(e,t){switch(e.type){case"text":return Object(m.a)(Object(p.a)({},e),{text:t(e.text)});default:return e}}}(Sc||(Sc={}));var Tc=function e(t,n){var a=this;Object(c.a)(this,e),Object(u.a)(this,"_innerWSHandler",void 0),Object(u.a)(this,"_dlpDataSanitizer",void 0),Object(u.a)(this,"onConnecting",void 0),Object(u.a)(this,"onConnect",void 0),Object(u.a)(this,"onDisconnect",void 0),Object(u.a)(this,"onMessage",void 0),Object(u.a)(this,"connect",void 0),Object(u.a)(this,"isDisconnected",void 0),this._innerWSHandler=t,this._dlpDataSanitizer=n,this.onConnecting=function(e){return a._innerWSHandler.onConnecting(e),a},this.onConnect=function(e){return a._innerWSHandler.onConnect(e),a},this.onDisconnect=function(e){return a._innerWSHandler.onDisconnect((function(t){return a._dlpDataSanitizer.clear(),e(t)})),a},this.onMessage=function(e){return a._innerWSHandler.onMessage((function(t,n){e(t,a._dlpDataSanitizer.unsanitizeMessage(n))})),a},this.connect=function(e){return a._innerWSHandler.connect(e)},this.isDisconnected=function(){return a._innerWSHandler.isDisconnected()}},Mc=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac,n=arguments.length>1?arguments[1]:void 0,a=this;Object(c.a)(this,e),Object(u.a)(this,"_dlpDataSanitizer",void 0),Object(u.a)(this,"sanitizeWS",(function(e,t){return e.writer((function(e){return t(a._dlpDataSanitizer.sanitizeMessage(e))}))})),Object(u.a)(this,"sanitizeStaticWS",(function(e,t){return e.writer((function(e){return t(a._dlpDataSanitizer.sanitizeStaticMessage(e))}))})),Object(u.a)(this,"sanitizeWSHandler",(function(e){return new Tc(e,a._dlpDataSanitizer)})),this._dlpDataSanitizer=new Ic(t,n)},Pc=n("ZbAF"),Nc=n("iHcv"),Dc=n("G9KH"),Bc=n("VzV2"),Lc=n("000W"),Fc=n("nJ/j"),Rc=n("D2TP"),Hc=function(){function e(t,n,a,r,i,o,s,l,d,p){var m=this;Object(c.a)(this,e),Object(u.a)(this,"_documentId",void 0),Object(u.a)(this,"_checkingDomain",void 0),Object(u.a)(this,"_mutedCategoriesModel",void 0),Object(u.a)(this,"_context",void 0),Object(u.a)(this,"_isFree",void 0),Object(u.a)(this,"_alertCache",void 0),Object(u.a)(this,"_scoresCache",void 0),Object(u.a)(this,"_mutedCategoriesCache",void 0),Object(u.a)(this,"_log",void 0),Object(u.a)(this,"_subs",void 0),Object(u.a)(this,"saveScores",void 0),Object(u.a)(this,"_saveMutedCategories",void 0),this._documentId=t,this._checkingDomain=a,this._mutedCategoriesModel=r,this._context=o,this._isFree=s,this._alertCache=l,this._scoresCache=d,this._mutedCategoriesCache=p,this._log=T.d.Logging.getLogger("CacheManager"),this.saveScores=function(e){return m._scoresCache.save(m._documentId,m._context.get(),m._isFree,e)},this._saveMutedCategories=function(e){m._mutedCategoriesCache.save("mutedCategoriesDocumentId","mutedCategoriesContextId",m._isFree,Array.from(e.values()))},this._subs=[n.view((function(e){return"idle"===e})).pipe(x.a.switchMap((function(e,t){return e?x.a.mergeStatic(x.a.of("update"),i.pipe(x.a.skip(1),x.a.mapTo("update"),x.a.auditTime(1500))):0===t?x.a.EMPTY:x.a.of("clear")}))).subscribe((function(e){switch(e){case"clear":return m._alertCache.remove(m._documentId);case"update":return m.saveAlerts(m._getCacheableAlerts());default:return Object(yt.c)(e)}})),this._checkingDomain.lensesScores.pipe(x.a.auditTime(3e3),x.a.map(Object(b.flow)(Fc.H(Rc.a.Id.ord),Lc.V(Object(b.flow)(O.g.fromPredicate((function(e){return Object(f.a)(e,1)[0]!==Rc.a.SpecialId.Plagiarism})),O.g.map((function(e){var t=Object(f.a)(e,2);return{lensId:t[0],score:t[1]}}))))))).subscribe(this.saveScores),this._mutedCategoriesModel.events.pipe(x.a.filter(ca.a.CategoriesModel.Events.isChangedEvent),x.a.tap((function(){m._saveMutedCategories(m._mutedCategoriesModel.mutedCategories.get())}))).subscribe()]}return Object(l.a)(e,[{key:"getCorrectAlerts",value:function(e,t){var n=this;return Object(de.pipe)(this._alertCache.load(this._documentId,this._context.get(),this._isFree),O.g.fromNullable,O.g.tap((function(e){return n._log.isEnabled(T.a.LogLevel.TRACE)&&n._log.trace("loaded alerts from cache: ",e)})),O.g.map((function(t){return t.filter((function(t){return Yn.a.isHighlightValid(t,e)}))})),O.g.map((function(e){return[e,e.map(Vc(t))]})),O.g.tap((function(e){var t=Object(f.a)(e,2),a=t[0],r=t[1];n._logChangedOfMutedState(a,r),n._logDuplicates(a,"save")})),O.g.map(Vn.d))}},{key:"getScores",value:function(){return Object(de.pipe)(O.g.fromNullable(this._scoresCache.load(this._documentId,this._context.get(),this._isFree)),O.g.filter(Lc.tb),O.g.map((function(e){return new Map(e.map((function(e){return[e.lensId,e.score]})))})))}},{key:"getMutedCategories",value:function(){var e=this._mutedCategoriesCache.load("mutedCategoriesDocumentId","mutedCategoriesContextId",this._isFree);return Object(de.pipe)(O.g.fromNullable(e),O.g.map((function(e){return new Map(e.map((function(e){return[e.id,e]})))})))}},{key:"saveAlerts",value:function(e){this._logDuplicates(e,"save"),this._alertCache.save(this._documentId,this._context.get(),this._isFree,e)}},{key:"dispose",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]}},{key:"_logDuplicates",value:function(e,t){var n=new Map,a=e.reduce((function(e,t){if(!Xt.A.hasPosition(t))return e;var a=function(e){return"".concat(e.pname,"_").concat(e.begin,"_").concat(e.end)}(t);if(n.has(a)){var r=n.get(a);e.push({existing:{begin:r.begin,end:r.end,pname:r.pname},duplicate:{begin:t.begin,end:t.end,pname:t.pname}})}return n.set(a,t),e}),[]);a.length&&this._log.info("Found duplicates in cache on ".concat(t),a)}},{key:"_logChangedOfMutedState",value:function(e,t){var n=[];e.length!==t.length&&T.d.Logging.getLogger("CacheManager").warn("Cannot calculate change of mute state"),e.forEach((function(e,a){var r=t[a];r.muted!==e.muted&&n.push({range:Xt.A.hasPosition(e)?{begin:e.begin,end:e.end,pname:e.pname}:{pname:e.pname},was:e.muted,now:r.muted})})),n.length&&T.d.Logging.getLogger("CacheManager").info("Muted state was changed on load from cache",n)}},{key:"_getCacheableAlerts",value:function(){return Object(de.pipe)(this._checkingDomain.state.get(),en.a.reduce([],(function(e,t){return Qt.a.isCacheable(t.alert)&&e.push(t.alert.toLocalRawAlert()),e})))}}]),e}(),Vc=function(e){return function(t){return Object(de.pipe)(O.g.fromNullable(t.cardLayout.userMuteCategory),O.g.alt((function(){return Object(de.pipe)(Array.from(e.keys()),Lc.U(ca.a.Category.isSpecial),Lc.Y(Xt.A.belongsToSpecialCategory(t)))})),O.g.fold((function(){return t}),(function(n){var a=t.muted,r=Object(Et.a)(t,["muted"]);return e.has(n)?Object(m.a)(Object(p.a)({},r),{muted:se.a.MutedAlerts.MutedByType.MUTED_BY_USER}):Object(m.a)(Object(p.a)({},r),{muted:void 0===a?void 0:se.a.MutedAlerts.MutedByType.NOT_MUTED})})))}};function Uc(e,t){var n=function(e){const t=t=>{e.next(t)};return{onSessionStarted:t,onWaitForOT:t,onReady:t,onSessionInbound:t,beforeAlert:t,onAlert:t,onRemove:t,onChange:t,onSynonyms:t,onPlagiarism:t,onTextInfo:t,onEmotions:t,onBeforeAsyncCheckFinish:t,onAsyncCheckFinish:t,onError:t,onBeforeFinish:t,onFinish:t,onConnect:t,onDisconnect:t,onQueueMsgDropped:t,onAck:t,onPong:t,onMessageReceived:t,onMessageSent:t,onAutoComplete:t,onAttentionHeatmap:t,onAttentionInfo:t,onProofitAvailability:t,onProofitCancelled:t,onProofitCompleted:t,onProofitProgress:t,onProofitProgressProblem:t,onProofitSubmit:t,onShortenItFinished:t,onSDUI:t,onGbRuleCreated:t,onReconnectInfo:t,onShowSurvey:t}}(e),a=new x.a.Subject;return a.pipe(x.a.debounceTime(1e3),x.a.distinctUntilChanged()).subscribe((function(e){return t.setState({type:"wsCapi",state:{type:e}})})),Object(m.a)(Object(p.a)({},n),{onFinish:function(e){a.next("online"),n.onFinish&&n.onFinish(e)},onDisconnect:function(e){e.reason.code===S.a.WsCodes.UNAUTHORIZED?a.next("unauthorized"):(e.reconnectCounter>1||O.b.isLeft(e.reconnectResult))&&a.next("offline"),n.onDisconnect&&n.onDisconnect(e)}})}var Wc=n("pFSi"),zc=n("5FCM"),Gc=n("uXag"),qc=n("K+fu"),Kc=function(){function e(t,n,a,r,i){Object(c.a)(this,e),Object(u.a)(this,"_storage",void 0),Object(u.a)(this,"_sendStorageMessage",void 0),Object(u.a)(this,"_canSaveEntryToStorage",void 0),Object(u.a)(this,"getCAPIWSMessageSizeLimit",void 0),Object(u.a)(this,"_monitoringHandler",void 0),Object(u.a)(this,"_guardStorageServerMessage",void 0),this._storage=t,this._sendStorageMessage=n,this._canSaveEntryToStorage=a,this.getCAPIWSMessageSizeLimit=r,this._monitoringHandler=i,this._guardStorageServerMessage=Fa.a(Ec.Schemable)(zn.d.ServerMessageImplementations)}return Object(l.a)(e,[{key:"handleMessage",value:function(e){return this._guardStorageServerMessage.is(e)?(this._handleStorageMessage(e),!0):!!zn.a.is(e)}},{key:"_handleStorageMessage",value:function(e){var t=this;switch(e.action){case"storage:get":return Object(b.pipe)(this._storage.get(Object(m.a)(Object(p.a)({},e),{maxResponseSize:Object(b.pipe)(this.getCAPIWSMessageSizeLimit(),wc.map((function(e){return e-1e3})),wc.toUndefined)})),zc.B((function(n){return Object(b.pipe)(t._sendStorageMessage({id:e.id,action:"storage:entries",data:n.entries}),zc.p((function(e){return new Gc.a("Error sending storage:entries",e)}),(function(){return{data:n}})))})),Wc.map(Cc.fold((function(n){return t._monitoringHandler.onStorageGetError({request:e,error:n})}),(function(n){var a=n.data;t._monitoringHandler.onStorageGetSuccess({request:e,entriesCount:a.entries.length,entriesDropped:a.entriesDropped})}))))().catch((function(n){return t._monitoringHandler.onStorageGetError({request:e,error:new Gc.a("Promise rejection",n)})}));case"storage:clear":return Object(b.pipe)(this._storage.clear(e),Wc.map(Cc.fold((function(n){return t._monitoringHandler.onStorageClearError({request:e,error:n})}),(function(){return t._monitoringHandler.onStorageClearSuccess({request:e})}))))().catch((function(n){return t._monitoringHandler.onStorageClearError({request:e,error:new Gc.a("Promise rejection",n)})}));case"storage:save":return this._canSaveEntryToStorage.catch((function(){return!1})).then((function(n){return n?Object(b.pipe)(t._storage.save(e),Wc.map(Cc.fold((function(n){return t._monitoringHandler.onStorageSaveError({request:e,error:n})}),(function(){return t._monitoringHandler.onStorageSaveSuccess({request:e,bytesCount:Object(qc.a)(e.data)})}))))().catch((function(n){return t._monitoringHandler.onStorageSaveError({request:e,error:new Gc.a("Promise rejection",n)})})):t._monitoringHandler.onCannotSaveEntry({request:e})}));default:return Object(b.absurd)(e)}}}]),e}();function $c(e,t,n){return Object(b.pipe)(O.l.tryDelay(e.enqueueExternalCommand(n),(function(e){return!0===se.a.NotConnectedError.isNotConnectedError(e)?wc.some(function(e){return Object(b.pipe)(e,x.a.filter(se.a.CAPIEvent.is("session_started")),x.a.take(1),x.a.map(b.constVoid),A.b.toTask)}(t)):wc.none}),1e4),Object(qt.h)([aa.limitRetries(2),aa.exponentialBackoff(200)],Object(z.p)(se.a.DroppedError.isDroppedError,se.a.TimeoutError.isTimeoutError)))}var Zc=n("3fSS");var Yc,Xc=n("4UH3"),Qc=n("fr9z");(Yc||(Yc={})).create=function(e){var t=new x.a.Subject;function n(e){t.next(Qn.a.flush()),t.next(e)}return{changes:t,insertLink:function(t,a){return O.b.tryCatchError((function(){n(Qn.a.delta((new jc.a).retain(t.start).retain(Qc.b.size(t),Object(u.a)({},V.e.Type.link,a)),e.getTextLength()))}))},insertLinkWithCaption:function(t,a,r){return Object(de.pipe)(O.b.tryCatchError((function(){n(Qn.a.delta((new jc.a).retain(t).insert(r,Object(u.a)({},V.e.Type.link,a)),e.getTextLength()))})))},removeLink:function(t){return O.b.tryCatchError((function(){n(Qn.a.delta((new jc.a).retain(t.start).retain(Qc.b.size(t),Object(u.a)({},V.e.Type.link,null)),e.getTextLength()))}))},pushChanges:t.next.bind(t)}};var Jc,el=n("xTTF"),tl={supportedComponents:(Jc={},Object(u.a)(Jc,"text",!0),Object(u.a)(Jc,"clickableText",!0),Object(u.a)(Jc,"button",!0),Object(u.a)(Jc,"alternativeChoice",!0),Object(u.a)(Jc,"count",!0),Object(u.a)(Jc,"icon",!0),Object(u.a)(Jc,"block",!0),Object(u.a)(Jc,"box",!0),Object(u.a)(Jc,"row",!0),Object(u.a)(Jc,"column",!0),Object(u.a)(Jc,"slider",!0),Object(u.a)(Jc,"alternativeSlider",!0),Object(u.a)(Jc,"transition",!0),Object(u.a)(Jc,"openSettings",!0),Object(u.a)(Jc,"openToneDetector",!0),Object(u.a)(Jc,"openFeedback",!0),Object(u.a)(Jc,"openLearnMore",!1),Object(u.a)(Jc,"notify",!0),Object(u.a)(Jc,"closeCard",!0),Object(u.a)(Jc,"nextCard",!0),Object(u.a)(Jc,"prevCard",!0),Object(u.a)(Jc,"selectAlternative",!0),Object(u.a)(Jc,"upgradeToPremium",!0),Object(u.a)(Jc,"strongAlertRef",!0),Object(u.a)(Jc,"openLink",!0),Object(u.a)(Jc,"scroll",!0),Object(u.a)(Jc,"list",!0),Object(u.a)(Jc,"image",!0),Object(u.a)(Jc,"assistantFeed",!0),Object(u.a)(Jc,"assistantCard",!0),Object(u.a)(Jc,"gButton",!0),Object(u.a)(Jc,"gButton:default",!1),Object(u.a)(Jc,"gButton:tone",!1),Object(u.a)(Jc,"gButton:proofit",!1),Object(u.a)(Jc,"gButton:get-started",!1),Object(u.a)(Jc,"nativePerformanceScoreButton",!1),Object(u.a)(Jc,"stopApplyingAlerts",!1),Object(u.a)(Jc,"alertsCount",!0),Object(u.a)(Jc,"applyAlerts",!0),Object(u.a)(Jc,"removeAlerts",!0),Object(u.a)(Jc,"removeRoot",!0),Object(u.a)(Jc,"nativeToneInsightsModal",!1),Object(u.a)(Jc,"nativeLearnMoreModal",!1),Object(u.a)(Jc,"nativeSettingsModal",!1),Object(u.a)(Jc,"nativeFeedbackModal",!1),Object(u.a)(Jc,"viewStack",!0),Object(u.a)(Jc,"switchView",!0),Object(u.a)(Jc,"dropDownMenuButton",!0),Object(u.a)(Jc,"radioButtonsGroup",!0),Object(u.a)(Jc,"proofitButton",!1),Object(u.a)(Jc,"nativeProofitModal",!1),Object(u.a)(Jc,"nativeKeyTakeawaysAssistantCard",!1),Object(u.a)(Jc,"nativeExperimentalGBConsistencyUpsellFooter",!1),Object(u.a)(Jc,"nativeExperimentalGBToneInsightsUpsellFooter",!1),Object(u.a)(Jc,"nativeSkillsModal",!1),Object(u.a)(Jc,"openCreateSnippetModal",!1),Object(u.a)(Jc,"showHighlights",!1),Object(u.a)(Jc,"hideHighlights",!1),Object(u.a)(Jc,"pushAssistantFeed",!0),Object(u.a)(Jc,"popAssistantFeed",!0),Object(u.a)(Jc,"focusAssistantCard",!0),Object(u.a)(Jc,"lensesSwitchPanel",!0),Object(u.a)(Jc,"newRevision",!1),Object(u.a)(Jc,"shortFormCard",!1),Object(u.a)(Jc,"longFormCard",!0),Object(u.a)(Jc,"collapsedCard",!0),Object(u.a)(Jc,"inlineCard",!0),Object(u.a)(Jc,"nativeSkillsList",!1),Object(u.a)(Jc,"nativeSkillsView",!1),Object(u.a)(Jc,"nativeGetStartedChecklistModal",!1),Object(u.a)(Jc,"nativeInlineCardContent",!1),Object(u.a)(Jc,"nativeOpenAssistant",!1),Object(u.a)(Jc,"behavior:strongAlertRef",!0),Object(u.a)(Jc,"behavior:animation:fadeIn",!0),Object(u.a)(Jc,"behavior:animation:fadeOut",!0),Object(u.a)(Jc,"behavior:popoverAnchor",!1),Object(u.a)(Jc,"behavior:lifecycle",!0),Object(u.a)(Jc,"progressBar",!0),Object(u.a)(Jc,"highlightAlert",!0),Object(u.a)(Jc,"horizontalRule",!0),Object(u.a)(Jc,"copyToClipboard",!0),Object(u.a)(Jc,"popoverStack",!1),Object(u.a)(Jc,"closePopover",!1),Object(u.a)(Jc,"interactPopover",!1),Object(u.a)(Jc,"openGrammarlyGo",!1),Object(u.a)(Jc,"tooltip",!0),Object(u.a)(Jc,"gButton:plagiarism",!0),Object(u.a)(Jc,"gButton:writingExpert",!0),Object(u.a)(Jc,"enablePlagiarismCheck",!0),Object(u.a)(Jc,"disablePlagiarismCheck",!0),Object(u.a)(Jc,"enableWritingExpertCheck",!0),Object(u.a)(Jc,"disableWritingExpertCheck",!0),Object(u.a)(Jc,"selectableDropDownMenu",!0),Object(u.a)(Jc,"globalPart",!1),Object(u.a)(Jc,"globalPartPlaceholder",!1),Object(u.a)(Jc,"openPerformanceScore",!1),Object(u.a)(Jc,"nativeOpenUserSatisfactionFeedback",!0),Jc),dslParser:wn.a.dslRootParser,dslSchemaVersion:Cn.c.version},nl=n("Gouu"),al=function(){function e(t,n,a,r,i,o,s,l,d,p,m,h,g,v,S,C,w,k,E,j,_,x,A,I,M,P,N,D){var B=this;Object(c.a)(this,e),Object(u.a)(this,"obsCapiClient",void 0),Object(u.a)(this,"latestCAPIMessageByActionName",void 0),Object(u.a)(this,"_remoteDocument",void 0),Object(u.a)(this,"sessionModel",void 0),Object(u.a)(this,"positionManager",void 0),Object(u.a)(this,"alternativeManager",void 0),Object(u.a)(this,"checkingDomain",void 0),Object(u.a)(this,"alertsService",void 0),Object(u.a)(this,"alertsReader",void 0),Object(u.a)(this,"alertsRepository",void 0),Object(u.a)(this,"synonymsModel",void 0),Object(u.a)(this,"plagiarismModel",void 0),Object(u.a)(this,"formattingModel",void 0),Object(u.a)(this,"emotionsModel",void 0),Object(u.a)(this,"sduiService",void 0),Object(u.a)(this,"mutedAlertsModel",void 0),Object(u.a)(this,"mutingAlertsReader",void 0),Object(u.a)(this,"hasAlertsCache",void 0),Object(u.a)(this,"_sduiFactory",void 0),Object(u.a)(this,"_sduiInlineFactory",void 0),Object(u.a)(this,"_sduiFeedFactory",void 0),Object(u.a)(this,"rangeChanged",void 0),Object(u.a)(this,"_onShutdown",void 0),Object(u.a)(this,"_capiConnection",void 0),Object(u.a)(this,"_doxConnection",void 0),Object(u.a)(this,"_capiWatcher",void 0),Object(u.a)(this,"_doxSyncManager",void 0),Object(u.a)(this,"_capiConManager",void 0),Object(u.a)(this,"sduiFeedManager",void 0),Object(u.a)(this,"sduiManager",void 0),Object(u.a)(this,"sduiInlineManager",void 0),Object(u.a)(this,"resetSDUI",void 0),this.obsCapiClient=t,this.latestCAPIMessageByActionName=n,this._remoteDocument=a,this.sessionModel=r,this.positionManager=i,this.alternativeManager=o,this.checkingDomain=s,this.alertsService=l,this.alertsReader=d,this.alertsRepository=p,this.synonymsModel=m,this.plagiarismModel=h,this.formattingModel=g,this.emotionsModel=v,this.sduiService=S,this.mutedAlertsModel=C,this.mutingAlertsReader=w,this.hasAlertsCache=k,this._sduiFactory=E,this._sduiInlineFactory=j,this._sduiFeedFactory=_,this.rangeChanged=x,this._onShutdown=A,this._capiConnection=I,this._doxConnection=M,this._capiWatcher=P,this._doxSyncManager=N,this._capiConManager=D,this.sduiFeedManager=O.g.none,this.sduiManager=O.g.none,this.sduiInlineManager=O.g.none,this.resetSDUI=function(e,t){return function(){T.d.Logging.getLogger("StEngine").debug("resetting SDUI managers, reason: ".concat(t)),Object(b.pipe)(O.g.sequenceT(B.sduiFeedManager,B.sduiManager),O.g.tapLeft((function(){var e=B._sduiFactory();B.sduiManager=Object(b.pipe)(e,O.g.map((function(e){return y.a.create(e)}))),Object(b.pipe)(B._sduiInlineFactory(e),O.g.tap((function(e){B.sduiInlineManager=O.g.some(y.a.create(e))}))),Object(b.pipe)(B._sduiFeedFactory(e),O.g.tap((function(e){B.sduiFeedManager=O.g.some(y.a.create(e))})))})),O.g.tap((function(t){var n=Object(f.a)(t,2),a=n[0],r=n[1];a.get().dispose(),"full"===e&&(r.get().dispose(),Object(b.pipe)(B._sduiFactory(),O.g.map((function(e){return r.set(e)})))),Object(b.pipe)(B._sduiFeedFactory(Object(b.pipe)(B.sduiManager,O.g.map((function(e){return e.get()})))),O.g.tap((function(e){a.set(e)})))})))}},this.resetSDUI("full","engine init")()}return Object(l.a)(e,[{key:"shutdown",value:function(){var e=this;return Object(Zt.a)((function(){return Object(Yt.c)(this,(function(t){switch(t.label){case 0:return T.d.Logging.getLogger("StEngine").debug("shutdown"),e._onShutdown(),[4,e._capiConnection.close(void 0,"StEngine shutdown")];case 1:return t.sent(),[4,e._doxConnection.close(void 0,"StEngine shutdown")];case 2:return t.sent(),e._doxSyncManager&&e._doxSyncManager.dispose(),null!=e._capiConManager&&e._capiConManager.dispose(),e.plagiarismModel.dispose(),e.checkingDomain.dispose(),e._capiWatcher.dispose(),e.sessionModel.dispose(),Object(b.pipe)(e.sduiManager,O.g.map((function(e){return e.get().dispose()}))),Object(b.pipe)(e.sduiFeedManager,O.g.map((function(e){return e.get().dispose()}))),Object(b.pipe)(e.emotionsModel,O.g.map((function(e){return e.dispose()}))),[2]}}))}))()}}],[{key:"create",value:function(t,n,a,r,i,o,s,c,l,d,h,g,v,S){var C=new tn.a.Keeper;o.setState({type:"wsDox",state:{type:"online"}});var w=l.features.denali.supportUkraineCardAppearanceLimit,k="Style/Sensitivity/SupportUkraine/WarLanguage",E=function(e){return"alert_received"===e.kind&&e.alert.pname===k||"message_received"===e.kind&&"alert"===e.message.action&&e.message.pname===k},j=new x.a.Subject,_=j.pipe(x.a.withLatestFrom(l.settings.supportUkraineCardAppearanceCount),x.a.filter((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return!E(n)||a<w})),x.a.map(Vn.b),x.a.tap((function(e){"alert_received"===e.kind&&E(e)&&l.settings.supportUkraineCardSeen()})),x.a.share()),A=x.a.raceStatic(_.pipe(x.a.skipWhile((function(e){return"session_inbound"!==e.kind})),x.a.scan((function(e,t){return"alert_received"===t.kind?e+1:e}),0),x.a.skipUntil(x.a.timer(12e4).pipe(x.a.take(1)))),_.pipe(x.a.filter((function(e){return"finish"===e.kind})))).pipe(x.a.switchMap((function(e){return"number"==typeof e?x.a.of(e):x.a.EMPTY})),x.a.take(1));C.push(j.pipe(x.a.filter((function(e){return"session_inbound"===e.kind})),x.a.take(1)).subscribe((function(){return Object(Pc.a)("capiSessionInbound")})),A.subscribe((function(e){return Ie.warn("CAPI finish didn't happen within timeout",{suggestionsReceived:e,timeout:12e4})})));var I,M,P=Object(b.pipe)(l.settings.dialect.get(),O.g.getOrElse((function(){return"undefined"}))),D=he.DocumentFeatures.getFormattingMode(t.meta.originalFilename,t.meta.createdAt,l.features.denali),B=new qn.a(se.a.MAX_SAFE_ID,0,!1),L=new se.a.AccessTokenWSHandler(l.features.denali.dlp?(I=new Mc(O.g.toUndefined(Nc.b.getDLPConfig(l)),[Wn.a.Message])).sanitizeWSHandler(new se.a.LatencyMeasuringWSHandler(I.sanitizeWS(Kn.b.create(v),se.a.optimizedOTSerializer),B,10)):new se.a.LatencyMeasuringWSHandler(Kn.b.create(v).writer(se.a.optimizedOTSerializer),B,10),g),F=l.features.denali.sdui,R=O.g.isSome(l.features.denali.oggy),H=F?{sduiConfig:tl,shouldSendFeedback:function(e){return!0!==ua.disabledFeedbacks.some((function(t){return t===e.kind}))||"subtype"in e&&e.subtype===se.a.FeedbackSubtype.Vbar}}:{shouldSendFeedback:b.constTrue},V=new se.a.CAPIConnection(Object(p.a)({client:d.names.capi,clientVersion:d.buildVersion.toString(),context:Object(b.pipe)(t.meta.settings.context,O.g.getOrElse((function(){return $n.a.unset}))),handler:Uc(j,o),docid:c,dialect:P,clientSupports:(M=[Gn.a.textInfo,Gn.a.freeAdvancedChecks,Gn.a.readability,Gn.a.sentenceVariety,Gn.a.fillerWords,Gn.a.alertsUpdate,Gn.a.alertsChanges,Gn.a.freeClarityChecks,Gn.a.superAlerts,Gn.a.consistency,Gn.a.setGoalsLink,Gn.a.voxCheck,Gn.a.toneCards,Gn.a.plagiarismAlertsUpdate,Gn.a.alternativeDeletesCard,Gn.a.fullSentenceRewrite,Gn.a.listCard,Gn.a.muteQuotedAlerts,Gn.a.userMutes,Gn.a.supportsButtonTransformCards,Gn.a.gapTransformCard,Gn.a.enclosingHighlight,Gn.a.drilldownCard,Gn.a.ideasGalleryLink,Gn.a.freeOccasionalPremiumAlerts,Gn.a.ethicalAI,Gn.a.citations,Gn.a.citation_detection_card,Gn.a.citation_gap,Gn.a.toneAI],l.features.denali.toneDetector&&M.push(Gn.a.emogenieCheck),D===he.DocumentFeatures.FormattingMode.on&&M.push(Gn.a.supportsFormatting),l.features.denali.cheetah&&M.push(Un.b),l.features.denali.backendManagedStorageEnabled&&void 0!==S&&M.push(zn.b),l.features.denali.writingExpertVbarsEnabled&&M.push(Gn.a.vbarAlerts),M),isDemoDoc:t.meta.isDemoDocument,idGenerator:B},H),(function(e){return e.connect(a.api.capiWsUrl)}),L),U=new Jn(_,V.client,s,V),W=new ra(_,U);if(Object(z.r)("capi",V.client),l.features.denali.backendManagedStorageEnabled&&void 0!==S){var G=S.getStorageInstanceForUser(l.email),q=G.instance,K=G.setupErrors,$=G.canSaveToStorage;C.push(K.subscribe((function(e){return T.d.Logging.getLogger("BackendManagedStorage.Setup").warn(String(e),e)}))),C.push(q),C.push(function(e,t,n,a,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:T.d.Logging.getLogger("BackendManagedStorage.CAPIMessageHandler"),o=function(){var e=s.filter((function(e){return"storage:get"===e.request.action})),t=s.filter((function(e){return"storage:save"===e.request.action}));e.length>0&&i.info("storage:get success aggregate",{eventsCount:e.length,averageEntryCount:e.reduce((function(e,t){return e+t.entriesCount}),0)/e.length,averageEntriesDropped:e.reduce((function(e,t){return e+t.entriesDropped}),0)/e.length}),t.length>0&&i.info("storage:save success aggregate",{eventsCount:t.length,averageBytesCount:t.reduce((function(e,t){return e+t.bytesCount}),0)/t.length}),s.splice(0,s.length)},s=[],c={onCannotSaveEntry:function(e){return i.warn("storage:save not allowed",{key:e.request.key})},onStorageGetError:function(e){return i.warn("storage:get error "+String(e.error),e.error,{keyPrefixes:e.request.keyPrefixes})},onStorageSaveError:function(e){return i.warn("storage:save error "+String(e.error),e.error,{key:e.request.key})},onStorageClearError:function(e){return i.warn("storage:clear error "+String(e.error),e.error,{keyPrefixes:e.request.keyPrefixes})},onStorageGetSuccess:function(e){s.push(e),e.entriesDropped>0&&i.warn("storage:get data dropped",{entriesDropped:e.entriesDropped,keyPrefixes:e.request.keyPrefixes})},onStorageSaveSuccess:function(e){return s.push(e)},onStorageClearSuccess:function(e){return i.info("storage:clear success",{keyPrefixes:e.request.keyPrefixes})}},l=new Kc(n,(function(n){return Object(b.pipe)($c(t,e,(function(){return n})),O.l.map((function(){})))}),a,r,c);return t.registerExternalMessageHandler((function(e){return l.handleMessage(e)?se.a.ExternalHandler.Result.STOP_HANDLING:se.a.ExternalHandler.Result.CONTINUE_HANDLING})),{dispose:function(){return o()}}}(_,W,q,$,(function(){return V.maxWsMessageSize})))}var Z,Y=e._getDocumentModel(c,t,s,W.requestDocStats,i,l.features,D),X=new $t(Y,t,n,h.outgoingChanges),Q=Y.context.view((function(e){return(Boolean(e.domain)?e.domain:"_default_")+"."+P})),J=new Dc.a((function(e){return e.filter((function(e){return Xt.A.isRawAlert(e)}))}),(function(e){return e}),"DN-"+a.alertCache.prefix,a.alertCache.version,Na.c.DenaliStorage.fromLocalStorage(Na.c.ls),12096e5),ee=new Dc.a((function(e){return e}),(function(e){return e}),a.outcomeScoreCache.prefix,a.outcomeScoreCache.version,Na.c.DenaliStorage.fromLocalStorage(Na.c.ls),12096e5),te=new Dc.a(b.identity,b.identity,a.mutedCategoriesCache.prefix,a.mutedCategoriesCache.version,Na.c.DenaliStorage.fromLocalStorage(Na.c.ls),12096e5),ne=Q.get(),ae=l.features.isFree.get(),re=!F&&J.hasCache(c,ne,ae)&&ee.hasCache(c,ne,ae),ie=new ta(W,_,Y,re,t.initialDelta.length),oe=new ea(_,(Z=new Set,"off"!==l.features.denali.recordCapiMessages&&Z.add("captureCapiMessages"),Z)),ce=new na.b(ie,_,Y,l.settings,r),le=y.a.create({});ce.registerExternalMessageHandler((function(e){return le.modify((function(t){return Object(m.a)(Object(p.a)({},t),Object(u.a)({},e.action,e))})),se.a.ExternalHandler.Result.CONTINUE_HANDLING}));var ue=l.features.denali.useTransformJson?Yn.a.Transform.identity:Yn.a.Transform.forcePositionOverTransformJson,de=O.g.none,pe=function(){return Object(b.pipe)(de,O.g.fold((function(){return t.initialDelta.delta}),(function(e){return e()})))},me=Object(Xn.a)(pe,ue,ce,_,Y.counters),fe=me.alertManager,ge=me.alertsService,be=me.alertsReader,ve=me.alertsRepository,ye=me.positionManager,Oe=me.altManager;Object(z.r)("alertManager",fe);var Se=new nl.b(ye,pe,ce,s),Ce=Object(b.pipe)(O.g.fromNullable(Y.rtfMode===N.d.DocumentFeatures.FormattingMode.on),O.g.filter(Boolean),O.g.map((function(){return Yc.create(s)}))),we=new el.b(Y,_,ce),ke=l.features.denali.toneDetector?O.g.some(Xc.b.create(_,ce,T.d.Logging.getLogger("EmotionsModel"))):O.g.none,Ee=sa.UserTextChangesSync.create(s),je=Object(b.pipe)(Ce,O.g.fold((function(){return[fe,Se]}),(function(e){return[fe,Se,e]})));C.push(sa.init(Ee,_,ia.ignoreTEResult(ce),ia.ignoreResult(ia.pushDeleteThenInsert(ye)),Oe,oa.merge(je)).subscribe(e._getChangesDispatcherFailHandler()));var _e=ca.a.CategoriesModel.create(_,ce,fe.state,ge,l.features.demoMode?se.a.MutedAlerts.ScopeType.DOCUMENT:se.a.MutedAlerts.ScopeType.GLOBAL),xe=Object(b.pipe)(l.features.denali.mutedAlerts,O.g.fromPredicate(b.identity),O.g.map((function(){return la.a.create(be)}))),Ae=new Hc(c,Y.checkingState,fe,_e,Y.counters.view("unread"),Q,ae,J,ee,te),Ie=T.d.Logging.getLogger("StEngine");try{Object(b.pipe)(Ae.getMutedCategories(),O.g.tap((function(e){Ie.debug("Loading muted alerts categories from cache..."),_e.loadCachedMutedCategories(e)}))),F||Object(b.pipe)(Ae.getCorrectAlerts(O.b.unsafeGet(t.initialDelta.text),_e.mutedCategories.get()),O.g.tap((function(e){Ie.debug("Loading alerts from cache..."),fe.loadAlerts(e),Ie.debug("".concat(e.length," cached alert(s) where loaded")),fe.flushAlerts(),Object(b.pipe)(Ae.getScores(),O.g.tap((function(e){return fe.loadScores(e)})))})))}catch(e){Ie.warn("Cannot read alerts OR muted categories cache",e)}de=O.g.some((function(){return s.getContents().delta}));var Te=O.g.none,Me=Object(b.constant)(O.g.none),Pe=Object(b.constant)(O.g.none),Ne=Object(b.constant)(O.g.none),De=function(e){return function(){var t=new gn(fe.state,e,ve.getByRawAlertId.bind(ve));return Object(z.r)("sduiManager",t),O.g.some(t)}},Be=function(e){return Object(b.pipe)(e,O.g.map((function(e){var t=new Bn(e.state);return Object(z.r)("sduiInlineManager",t),t})))};(F&&!R&&(Te=O.g.some(new Hn(ce)),Me=De(j),Pe=Be,Ne=function(e){return Object(b.pipe)(e,O.g.map((function(e){var t=new In(e.state);return Object(z.r)("sduiFeedManager",t),t})))}),F&&R)&&(Te=O.g.some(new Hn(ce)),Me=De(Object(b.pipe)(j,x.a.filter((function(e){return"sdui_add"!==e.kind&&"sdui_update"!==e.kind&&"sdui_remove"!==e.kind||e.sduiRootId.toLowerCase().endsWith("@inline")})))),Pe=Be);var Le=new x.a.Subject,Fe=new e(ce,le,t.remoteDocument,Y,ye,Oe,fe,ge,be,ve,Se,we,Ce,ke,Te,_e,xe,re,Me,Pe,Ne,Le,(function(){return C.dispose()}),V,t.remoteConnection,oe,X,U);return R||C.push(j.pipe(x.a.filter(se.a.CAPIEvent.is("connect")),x.a.skip(1),x.a.tap(Fe.resetSDUI("full","CAPI reconnect"))).subscribe()),Object(z.r)("engine",Fe),Object(z.r)("text",(function(){ie.getText().then((function(e){var t=s.getText();t!==e?console.log("Text DIFF",{capiText:e,capiLen:e.length,dedText:t,dedTextLen:t.length}):console.log("Texts are the same, len: "+t.length)})).catch((function(e){throw e}))})),Fe}},{key:"_getDocumentModel",value:function(e,t,n,a,r,i,o){return new Zc.b(e,t,n,a,r,i.enableTrackingOnDownload.get(),o,(function(e){return Object(b.pipe)(i.proofitTest,O.g.fold((function(){return new Bc.b(t.remoteDocument,e)}),(function(e){return new Bc.a.Mock(e,i.proofitLastJob)})))}))}},{key:"_getChangesDispatcherFailHandler",value:function(){var e=T.d.Logging.getLogger("ChangesDispatcher");return function(t){"UnsubscriptionError"===t.exception.name?e.warn("shutdown error",t):t.details.to===sa.Receiver.CAPI&&Boolean(qt.b.isNotConnectedError(t.exception))?e.warn("tried to send change to not connected CAPI",t):t.details.to===sa.Receiver.CAPI&&Boolean(qt.c.isNotReadyError(t.exception))?e.warn("tried to send delta change to CAPI that expected a reset",t):t.details.to===sa.Receiver.CAPI?e.warn("failed pushing changes to CAPI",t):e.error("can not dispatch changes",t.exception,t.details)}}}]),e}();Object(u.a)(al,"getDoxInit",(function(e,t,n,a,r){var i=Zn.a.Queue.create({acceptedMsgHandler:function(e){return a.acceptedMessage.next(e)},droppedMsgsHandler:function(e){return a.droppedMessages.next(e)}});return t.openDocumentById(e,function(e,t,n){var a,r=T.d.Logging.getLogger("DoxConnectivity");return{changeHandler:function(t,n){return e.dox.next({kind:"change",doc:t,change:n})},connectHandler:function(){r.debug("WS DOX connectivity online"),t.setState({type:"wsDox",state:{type:"online"}})},disconnectHandler:(a=Object(Zt.a)((function(e,n,a){var i;return Object(Yt.c)(this,(function(o){switch(r.debug("Disconnected from dox",{reason:e,reconnectStatus:n,reconnectResult:a}),i=function(e){O.b.isLeft(a)?r.debug("WS DOX connectivity error: ".concat(e)):r.debug("WS DOX connectivity error, reconnecting: ".concat(e)),t.setState({type:"wsDox",state:{type:e}})},e.code){case S.a.WsCodes.NOT_FOUND:i("documentNotFoundError");break;case S.a.WsCodes.UNAUTHORIZED:i("unauthorized");break;case S.a.WsCodes.BLOCKED_BY_CLIENT:i("blockedByClient");break;case S.a.WsCodes.CLIENT_MALFUNCTION:case S.a.WsCodes.PRECONDITION_FAILED:i("unknownConnectionError");break;default:n.iterNumber>=2?[0,S.a.WsCodes.UNKNOWN_WS_ERROR,S.a.WsCodes.CLOSED_ABNORMALLY].indexOf(e.code)>=0?i("unknownConnectionError"):i("serverError"):O.b.isLeft(a)&&i("serverError")}return[2]}))})),function(e,t,n){return a.apply(this,arguments)}),metadataChangeHandler:function(t,n){return e.dox.next({kind:"metadata_change",doc:t,documentMetadata:n})},updateTokenHandler:Object(b.pipe)(n,O.g.fromNullable,O.g.map((function(e){return Object(b.pipe)("function"==typeof e?e:Wc.of(e),O.l.fromTask,O.l.map(O.g.fromNullable))})),O.g.getOrElse((function(){return O.l.right(O.g.none)})))}}(a,n,r),i,5e3)}));var rl,il,ol=n("6o9b"),sl=n("CA3N"),cl=n("G0RH"),ll=n("5OZM"),ul=n("Nsc4"),dl=n("y9id"),pl=n("JLFM"),ml=n("osAs"),fl=n("p81r"),hl=n("TFiY"),gl=n("4Pfx"),bl=n("VOhR"),vl=n("LFoX"),yl=n("s4G0"),Ol=n("KH+i"),Sl=n("d3CI"),Cl=n("wdnv"),wl=n("4Fvf"),kl=n("aaNd"),El=n("Gwvb"),jl=n("B8sb"),_l=n("QYPR"),xl=n("/VNA"),Al=n("XLv6"),Il=n("aZd8");(rl||(rl={})).create=function(e){var t=new x.a.Subject,n=e.getLogger("OggyUphookEvents"),a=function(){return x.a.tap((function(e){return n.info(e.kind,e)}))};return{push:t.next.bind(t),incomming:t.pipe(x.a.filter(Il.b.isIncoming),a()),outgoing:t.pipe(x.a.filter(Il.b.isOutgoing),a())}},(il||(il={})).create=function(e){var t=y.a.create(!1),n=y.a.create(!1),a=new tn.a.Keeper;return a.push(e.incomming.pipe(x.a.tap((function(e){switch(e.kind){case Il.b.Kind.AvailabilityChanged:return t.set(e.available);case Il.b.Kind.FocusChanged:return n.set(e.focused);default:Object(yt.c)(e)}}))).subscribe()),{isAvailable:t,isFocused:n,requestUphook:function(){return t.pipe(x.a.filter(Boolean),x.a.take(1),x.a.map((function(){return e.push({kind:Il.b.Kind.FocusRequested})})))},dispose:function(){a.dispose()}}};var Tl,Ml=n("iUFV"),Pl=n("8SdM"),Nl=n("hzat");!function(e){e.empty=function(){return{selectedAlertHighlight:O.g.none,alertsVisibilityCollection:new Map}},e.changeAlertVisibility=function(e,t,n){return function(a){a.alertsVisibilityCollection.set(e,{alertId:t,visibility:n})}};!function(e){e.create=function(e,t){var n=y.a.create(Tl.empty()),a=function(t){return Object(b.pipe)(e.getByAlertId(t.alert.id),O.g.chain((function(e){return e.rawId})))},r=function(t){return function(n){return Object(b.pipe)(e.getByRawAlertId(n.alertId),O.g.map((function(e){return[e,Object(m.a)(Object(p.a)({},n),{source:t})]})))}},i=function(e,t){return Object(b.pipe)(e,O.a.findFirst((function(e){return"emphasized"===e.visibility})),O.g.chain(r(t)),O.g.map((function(e){var n=Object(f.a)(e,1)[0];return{highlightIndex:0,source:t,alert:Nl.a.fromModel(n)}})),O.g.filter((function(e){return Object(b.pipe)(n.get().selectedAlertHighlight,O.g.forAll((function(t){return!Nl.a.eq.equals(t.alert,e.alert)})))})),O.g.alt((function(){return n.get().selectedAlertHighlight})))},o=function(e,t){return function(n){return Object(b.pipe)(e,a,O.b.fromOption((function(){return new Error("cannot get raw alert id from highlight")})),O.b.map((function(a){return Tl.changeAlertVisibility(e.alert.id,a,t)(n)})))}};return{selectedAlertId:n.pipe(x.a.map((function(e){return e.selectedAlertHighlight})),x.a.filter(O.g.exists((function(e){return[Sl.c.forceText,Qt.b.api].includes(e.source)}))),x.a.skipBy(O.g.getEq(vl.a.eq)),x.a.map(Object(b.flow)(O.g.chain(a),O.g.toNullable))),alertVisibilityFilter:n.view("alertsVisibilityCollection").view((function(e){return function(t){return Object(b.pipe)(e.get(t.id),O.g.fromNullable,O.g.map((function(e){return"hidden"!==e.visibility})),O.g.getOrElse(b.constFalse))}})),alertHighlightChanges:n.view("selectedAlertHighlight"),setState:function(e){var a=i(e,Qt.b.sidebar);t.debug("setAlertsVisibility",{alertsVisibilityInfo:e,selectedAlertHighlight:a}),n.modify((function(n){t.debug("setAlertsVisibility —> changeAlertsVisibility",{current:n.selectedAlertHighlight,next:a});var i=new Map(Object(b.pipe)(e,O.a.filterMap(r(Qt.b.sidebar)),O.a.map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return[n.id,a]}))));return{selectedAlertHighlight:a,alertsVisibilityCollection:i}}))},updateState:function(e){var a=i(e,Sl.c.forceSidebar);t.debug("updateAlertsVisibility",{alertsVisibilityInfo:e,selectedAlertHighlight:a}),n.modify((function(n){t.debug("updateAlertsVisibility —> changeAlertsVisibility",{current:n.selectedAlertHighlight,next:a});var i=Object(b.pipe)(e,O.a.filterMap(r(Sl.c.forceSidebar)),O.a.reduce(new Map(n.alertsVisibilityCollection),(function(e,t){var n=Object(f.a)(t,2),a=n[0],r=n[1];return e.set(a.id,r)})));return{selectedAlertHighlight:a,alertsVisibilityCollection:i}}))},focusAlertHighlight:function(e){var a=n.get();n.modify((function(n){return Object(b.pipe)(n,o(e,"emphasized"),O.b.fold((function(e){return t.error("Cannot emphasize the alert",e)}),b.constVoid)),Object(b.pipe)(a.selectedAlertHighlight,O.g.tap((function(e){return o(e,"visible")(n)}))),t.debug("focusAlertHighlight",e),{selectedAlertHighlight:O.g.some(e),alertsVisibilityCollection:new Map(n.alertsVisibilityCollection)}}))},unfocusAlertHighlight:function(){n.modify((function(e){return Object(b.pipe)(e.selectedAlertHighlight,O.g.map((function(t){return o(t,"visible")(e),{selectedAlertHighlight:O.g.none,alertsVisibilityCollection:new Map(e.alertsVisibilityCollection)}})),O.g.getOrElse(Object(b.constant)(e)))}))}}}}(e.Holder||(e.Holder={}))}(Tl||(Tl={}));var Dl,Bl,Ll,Fl,Rl,Hl,Vl=n("8h56"),Ul=n("QYB8"),Wl=Wc.of(void 0);Bl=Dl||(Dl={}),Ll=Bl.isAssistantSDUIEvent=Object(z.b)(Object(z.p)(se.a.CAPIEvent.is("sdui_add"),se.a.CAPIEvent.is("sdui_update"),se.a.CAPIEvent.is("sdui_remove")),(function(e){return!e.sduiRootId.endsWith("suggestion@Inline")})),Fl=Bl.isSessionEvent=Object(z.p)(se.a.CAPIEvent.is("session_started"),se.a.CAPIEvent.is("finish")),Rl=Bl.isResetEvent=se.a.CAPIEvent.is("connect"),Bl.is=Object(z.p)(Ll,Fl,Rl),function(e){var t,n=function(e,n){switch(n.kind){case"connect":return t.empty();case"session_started":return n.isNewSession?t.empty():e;case"finish":return e;case"sdui_remove":return e.delete(n.sduiRootId),e;case"sdui_add":case"sdui_update":return e.set(n.sduiRootId,Object(m.a)(Object(p.a)({},n),{kind:"sdui_add"})),e;default:Object(yt.c)(n)}};e.create=function(e,a){var r=a.getLogger("SDUIBuffer"),i=new tn.a.Keeper,o=y.a.create([]),s=e.pipe(x.a.filter(Dl.is)),c=function(e){return JSON.stringify(Dl.isAssistantSDUIEvent(e)?{kind:e.kind,sduiRootId:e.sduiRootId}:e)};return i.push(s.pipe(x.a.tap((function(e){return r.trace("sduiCapiEvent IN ".concat(c(e)))})),x.a.scan(n,t.empty()),x.a.map((function(e){return Array.from(e.values())})),x.a.tap((function(e){return r.trace("sduiBuffer OUT:\n ".concat(e.map(c).join("\n")))})),x.a.tap(A.b.toAtom(o))).subscribe()),{capiEvents:x.a.concatStatic(x.a.defer((function(){return x.a.from(o.get())})),s),dispose:function(){o.set([]),i.dispose()}}};!function(e){e.empty=function(){return new Map}}(t||(t={}))}(Hl||(Hl={}));var zl,Gl,ql,Kl=n("CDtd");(zl||(zl={})).create=function(e,t,n,a,r,i,o){var s=o.getLogger("Manager");s.debug("Creating new Oggy manager");var c=Tl.Holder.create(t,o),l=new tn.a.Keeper,u=Hl.create(r,s);l.push(u);var d=function(e,t,n,a){var r=function(e){return Qt.a.isRemovedByTextChange(e)?"textChange":"other"};return{selectedAlertId:a.selectedAlertId,alertCollectionChanges:e.state.pipe(x.a.startWith(en.a.empty),x.a.pairwise(),x.a.map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return en.a.diff(a,n)})),x.a.map(en.a.Diff.toRegistered),x.a.map(nn.a.reduce([],(function(e,t){return Object(b.pipe)(t.alert.rawId,O.g.tap((function(t){return e.push(Object(Ul.a)(t))}))),e}),(function(e,t,n){return Object(b.pipe)(t.alert.rawId,O.g.tap((function(n){return e.push(Object(Ul.b)(n,r(t)))}))),Object(b.pipe)(n.alert.rawId,O.g.tap((function(t){return e.push(Object(Ul.a)(t))}))),e}),(function(e,t){return Object(b.pipe)(t.alert.rawId,O.g.tap((function(n){return e.push(Object(Ul.b)(n,r(t)))}))),e}))),x.a.filter((function(e){return e.length>0}))),applyAlerts:Object(b.flow)(O.a.filterMap((function(e){return Object(b.pipe)(n.getByRawAlertId(e.alertId),O.g.map((function(t){return[t.id,{alternativeIndex:e.alternativeIndex,source:Qt.b.sidebar,feedbackSubtype:se.a.FeedbackSubtype.Sidebar}]})))})),O.l.traverseArray((function(e){var n=Object(f.a)(e,2),a=n[0],r=n[1];return Object(b.pipe)(t.apply(a,r),O.l.fromEither)})),O.l.map(b.constVoid),O.l.toPromise),removeAlerts:Object(b.flow)(O.a.filterMap((function(e){return Object(b.pipe)(n.getByRawAlertId(e.alertId),O.g.map((function(t){return{alert:t,reason:e.removalReason}})))})),O.l.traverseArray((function(e){var a=e.alert;switch(e.reason){case"alertApplied":return Object(b.pipe)(Vl.i(n.remove(a)),O.l.fromIO);case"other":default:return Object(b.pipe)(t.dismissBatch([a.id],se.a.FeedbackSubtype.Sidebar),O.l.fromEither)}})),O.l.map(b.constVoid),O.l.toPromise),setAlertsVisibility:Object(b.flow)(a.setState,Wl),updateAlertsVisibility:Object(b.flow)(a.updateState,Wl)}}(e,n,t,c),h=function(e,t){return{sduiItemCollectionChanges:e,supportedForms:["longForm"],autofocusNextLongFormCardOnApplyOrDismiss:t}}(u.capiEvents.pipe(x.a.filter(Object(z.p)(Dl.isAssistantSDUIEvent,Dl.isResetEvent)),x.a.map((function(e){switch(e.kind){case"sdui_add":return Object(Kl.a)(e.sduiRootId,e.sdui);case"sdui_update":return Object(Kl.c)(e.sduiRootId,e.sdui);case"sdui_remove":return Object(Kl.b)(e.sduiRootId);case"connect":return Object(Kl.d)();default:return Object(b.absurd)(e)}})),x.a.bufferTime(0),x.a.filter((function(e){return e.length>0}))),i);return Object(m.a)(Object(p.a)({},c),{alertService:d,sduiService:h,lifecycleEvents:a.events,dispose:function(){s.debug("Disposing Oggy manager"),l.dispose()}})},(ql=Gl||(Gl={})).focusAlertByClickedMark=function(e){return function(t){return{name:"focus alert by clicked mark",source:e.pipe(x.a.skip(1),x.b.compact,x.a.filter((function(e){return Qt.a.State.isRegistered(e.alert.state)})),x.a.tap((function(e){return t.focusAlertHighlight(Object(m.a)(Object(p.a)({},e),{source:Sl.c.forceText}))})))}}},ql.unfocusAlertHighlightOnSidebarClose=function(e){return function(t){return{name:"unfocus alert highlight on sidebar close",source:e.state.view("isSidebarOpen").pipe(x.a.filter(Object(b.not)(b.identity)),x.a.tap(t.unfocusAlertHighlight))}}},ql.moveFocusedMarkIntoViewport=function(e){return function(t){return{name:"move focused mark into viewport",source:t.alertHighlightChanges.pipe(x.b.compact,x.a.filter((function(e){return[Sl.c.forceSidebar,Qt.b.api].includes(e.source)&&!Nl.a.isWritingExpertDebug(e.alert)})),x.a.switchMap((function(t){return e.ensureAlertHighlightInViewport(t,200,V.a.initial).pipe(x.a.mapTo(t))})))}}},ql.openInlineAlerts=function(e,t){return function(n){return{name:"open inline alert",source:t.pipe(x.a.tap((function(t){n.focusAlertHighlight({alert:t.alert,highlightIndex:t.highlightIndex,source:Sl.c.forceText}),e.toggleSidebar(!0,Qt.b.text)})))}}},ql.openAssistantWithActiveCard=function(e,t){return function(n){return{name:"open assistant with an active card",source:x.a.mergeStatic(e.alertSwitchChanges.pipe(x.a.tap((function(t){n.focusAlertHighlight(Object(m.a)(Object(p.a)({},t),{source:Qt.b.api})),t.source!==Qt.b.api&&e.toggleSidebar(!0,Qt.b.api)}))),e.activeLensId.pipe(x.a.withLatestFrom(e.state.view("isSidebarOpen")),x.a.switchMap((function(a){var r=Object(f.a)(a,2),i=r[0],o=r[1];return Object(z.p)(Rc.a.isPremiumId,Rc.a.isFreePremiumId)(i)?o?t.requestUphook():(e.toggleSidebar(!0,Qt.b.api),n.lifecycleEvents.pipe(x.a.filter(Il.a.isVisuallyReady),x.a.take(1),x.a.switchMap(t.requestUphook))):x.a.EMPTY}))))}}},ql.updateLoaderStateOnReady=function(e){return function(t){return{name:"update loader state on ready",source:t.lifecycleEvents.pipe(x.a.filter(Il.a.isVisuallyReady),x.a.tap((function(){return e.state.modify((function(e){return Object(m.a)(Object(p.a)({},e),{lens:O.g.none})}))})),x.a.map(z.e))}}},ql.create=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return function(t){var a,r=new tn.a.Keeper,i=e.getLogger("Integration",T.a.LogLevel.DEBUG,T.a.LogColor.ViewModel.base);return r.push(t.pipe(x.b.compact,x.a.switchMap((function(e){return(a=x.a).mergeStatic.apply(a,Object(jt.a)(n.map((function(t){var n=t(e),a=n.name;return n.source.pipe(x.a.tap((function(e){return i.debug(a,e)})))}))))}))).subscribe()),r}};var $l=n("DHNH"),Zl=n("PR1L"),Yl=n("zRh/"),Xl=n("3PdT"),Ql=n("/9H4"),Jl=n("5OHN"),eu=n("LqyO"),tu=n("wxju"),nu=n("Jr5U"),au=n("6x3U"),ru=n("m1oj"),iu=n("OMUe"),ou=n("55o/"),su=n("YyPR"),cu=n("KXIk"),lu=n("L4BC"),uu=n("zQvz"),du=n("jnnb"),pu=n("how3"),mu=n("gEtV"),fu=n("x1PS"),hu=n("NMQX"),gu=n("4yB1"),bu=n("/u+j"),vu=n("Ga/O"),yu=function(){function e(t,n,a,r,i,o,s,l,d,h,g,v,S,C,w,k,E,j,_,I,P,D){var B=this;Object(c.a)(this,e),Object(u.a)(this,"_engine",void 0),Object(u.a)(this,"_denaliEditorModel",void 0),Object(u.a)(this,"_userAccount",void 0),Object(u.a)(this,"_upgradeHook",void 0),Object(u.a)(this,"_subscription",void 0),Object(u.a)(this,"_environment",void 0),Object(u.a)(this,"_platformEnvironment",void 0),Object(u.a)(this,"_telemetry",void 0),Object(u.a)(this,"_remSizeObs",void 0),Object(u.a)(this,"_networkState",void 0),Object(u.a)(this,"_docId",void 0),Object(u.a)(this,"_uploadViewModel",void 0),Object(u.a)(this,"_notificationsManager",void 0),Object(u.a)(this,"_dialectSettings",void 0),Object(u.a)(this,"documentLoader",void 0),Object(u.a)(this,"_textResources",void 0),Object(u.a)(this,"_config",void 0),Object(u.a)(this,"_router",void 0),Object(u.a)(this,"_telemetryContainerId",void 0),Object(u.a)(this,"_bannersFeatures",void 0),Object(u.a)(this,"bannersModel",void 0),Object(u.a)(this,"_experimentClient",void 0),Object(u.a)(this,"capabilities",void 0),Object(u.a)(this,"cardsViewModel",void 0),Object(u.a)(this,"inlineCardViewModel",void 0),Object(u.a)(this,"inlineUpgradeHookViewModel",void 0),Object(u.a)(this,"feedUpgradeViewModel",void 0),Object(u.a)(this,"cardsListScrollManager",void 0),Object(u.a)(this,"lensState",void 0),Object(u.a)(this,"lensStateProvider",void 0),Object(u.a)(this,"lensPreviewViewModel",void 0),Object(u.a)(this,"alignmentViewModel",void 0),Object(u.a)(this,"marksViewModel",void 0),Object(u.a)(this,"alertUserEvents",void 0),Object(u.a)(this,"synonymsViewModel",void 0),Object(u.a)(this,"proofitViewModel",void 0),Object(u.a)(this,"successLensViewModel",void 0),Object(u.a)(this,"onboardingViewModel",void 0),Object(u.a)(this,"upgradeViewModel",void 0),Object(u.a)(this,"searchViewModel",void 0),Object(u.a)(this,"downloadViewModel",void 0),Object(u.a)(this,"surveyManager",void 0),Object(u.a)(this,"feedbackViewModel",void 0),Object(u.a)(this,"navigationViewModel",void 0),Object(u.a)(this,"obtainGradesNotificationManager",void 0),Object(u.a)(this,"modalManager",void 0),Object(u.a)(this,"hotkeyManager",void 0),Object(u.a)(this,"formattingViewModel",void 0),Object(u.a)(this,"emotionsViewModel",void 0),Object(u.a)(this,"documentSettingsViewModel",void 0),Object(u.a)(this,"autofocusListener",void 0),Object(u.a)(this,"documentPlaceholderViewModel",void 0),Object(u.a)(this,"showConfetti",void 0),Object(u.a)(this,"focus",void 0),Object(u.a)(this,"cheetahViewModel",void 0),Object(u.a)(this,"cheetahAvailabilityService",void 0),Object(u.a)(this,"capiSession",void 0),Object(u.a)(this,"notificationsManager",void 0),Object(u.a)(this,"sduiInlineViewModel",void 0),Object(u.a)(this,"_getAlertClosestToCursor",void 0),Object(u.a)(this,"_oggyManager",void 0),Object(u.a)(this,"_oggyIntegration",void 0),Object(u.a)(this,"_oggyUphookModel",void 0),Object(u.a)(this,"_cheetahInlineAvailabilityProvider",void 0),Object(u.a)(this,"_cheetahViewModel",void 0),Object(u.a)(this,"_inlineManager",void 0),Object(u.a)(this,"_reportViewModel",void 0),Object(u.a)(this,"_pageTelemetry",void 0),Object(u.a)(this,"_gbRuleCreatedViewModel",void 0),Object(u.a)(this,"_openInlineAlert",void 0),Object(u.a)(this,"_inlineAlertHovered",void 0),Object(u.a)(this,"_inlineUpgradeHookClicked",void 0),Object(u.a)(this,"vbarsViewModel",void 0),Object(u.a)(this,"_log",void 0),Object(u.a)(this,"_hydrateTransforms",void 0),Object(u.a)(this,"_subs",void 0),Object(u.a)(this,"_editorWrapperViewport",void 0),Object(u.a)(this,"_remSize",void 0),Object(u.a)(this,"_autoScrollToNextAlert",void 0),this._engine=t,this._denaliEditorModel=n,this._userAccount=a,this._upgradeHook=r,this._subscription=i,this._environment=o,this._platformEnvironment=s,this._telemetry=l,this._remSizeObs=d,this._networkState=h,this._docId=g,this._uploadViewModel=v,this._notificationsManager=S,this._dialectSettings=C,this.documentLoader=w,this._textResources=k,this._config=E,this._router=j,this._telemetryContainerId=_,this._bannersFeatures=I,this.bannersModel=P,this._experimentClient=D,this.obtainGradesNotificationManager=O.g.none,this.formattingViewModel=O.g.none,this.emotionsViewModel=O.g.none,this.sduiInlineViewModel=y.a.create(O.g.none),this._oggyManager=y.a.create(O.g.none),this._cheetahViewModel=y.a.create(O.g.none),this._reportViewModel=O.g.none,this._openInlineAlert=new x.a.Subject,this._inlineAlertHovered=new x.a.Subject,this._inlineUpgradeHookClicked=new x.a.Subject,this._log=T.d.Logging.getLogger("ViewModels"),this._hydrateTransforms=Object(bl.b)(this._denaliEditorModel.getContents),this._subs=new tn.a.Keeper,this._editorWrapperViewport=y.a.create(this._denaliEditorModel.viewport.value.wrapper),this._remSize=y.a.create(16),this._autoScrollToNextAlert=this._userAccount.settings.editorPreferences.view("autoScrollToNextAlert").view(Na.b.O.unwrap(!this._userAccount.features.denali.autoJumpSettings.isDisabledByDefault));var L=this._engine.obsCapiClient.events.pipe(x.a.filter(se.a.CAPIEvent.is("session_started")),x.a.take(1));this.proofitViewModel=new Zl.b(this._subscription,this._engine.sessionModel,this._denaliEditorModel,this._userAccount,this._notificationsManager,this._router,this._config),this.notificationsManager=S,this.lensState=y.a.create(Sl.e.create({currentLens:Cl.a.Cheetah.create(),alertSource:Qt.b.api,switchOrder:"lensOrder"}));var F=this._log.getLogger("Oggy"),R=rl.create(F);this._oggyUphookModel=il.create(R);var H=new fl.a.Impl(this._engine.checkingDomain.state,this._engine.positionManager,this._engine.alertsReader,Object(z.b)(Qt.a.isRegistered,Object(z.m)(Qt.a.isMuted)));this._getAlertClosestToCursor=Object(yl.d)((function(e){switch(e){case"cursor":return Object(Ce.d)(B._denaliEditorModel)();case"middleOfTheViewport":return Object(de.pipe)(B._denaliEditorModel.getPossibleCursorPosition(O.b.left(V.c.X.middle),O.b.left(V.c.Y.middle)),O.b.getOrElse(Object(Ce.d)(B._denaliEditorModel)));default:return Object(yt.c)(e)}}),H);var U=Object(de.pipe)(this._userAccount.features.denali.mutedAlerts,O.g.fromPredicate(b.identity),O.g.map((function(){return B._engine.mutedAlertsModel}))),W=new jl.a(this._denaliEditorModel),G=new xl.a(this._denaliEditorModel,this._engine.positionManager),q=y.a.create(O.g.none),K=y.a.create(!1),$=Object(nu.a)(this._engine.obsCapiClient,this._engine.latestCAPIMessageByActionName,!0),Z=$.capiService,Y=$.capiMessages,X=y.a.create({enabled:!1});this._subs.push(Y.pipe(x.a.filter((function(e){return"start"===e.action})),x.a.filter((function(e){var t;return null===(t=e.allowedFeatures)||void 0===t?void 0:t.includes(Un.a)})),x.a.map(Object(b.flow)((function(e){return O.g.fromNullable(e.cheetahState)}),O.g.fold((function(){return{enabled:!1}}),(function(e){return{enabled:!0,userState:e}})))),x.a.take(1)).subscribe(A.b.toAtom(X))),this.cheetahAvailabilityService=new cl.a(Z,X),this.lensPreviewViewModel=new wl.a.Mock,this.upgradeViewModel=new bu.b(this._engine.checkingDomain,this.lensState,this.lensPreviewViewModel,this._docId,this._platformEnvironment,this._upgradeHook,this._config,this._userAccount.features.denali.uphookFormat,this._userAccount.features.denali.uphookDestination,this._telemetry,(function(){B._router.navigate(M.a.routes.documents.href())}),(function(){return B._userAccount.features.isEligibleForFreeTrial})),this.feedbackViewModel=new ou.a(this._notificationsManager,(function(e){return T.d.Logging.getLogger("userFeedback").info("Submit form feedback",{briefDescription:e.brief,detailedFeedback:e.detailed}),B._telemetry.gnarSpec.feedbackFormSubmit(e.brief,e.detailed,B._telemetry.pageId)}));var Q=ml.a.create(ml.a.defaultLensFilters,ml.a.defaultTextFilters),J=y.a.create(dl.a.defaultState);this._subs.push(this._engine.checkingDomain.state.pipe((function(e){return dl.a.get(e,B._engine.checkingDomain.lensesScores,Q)})).subscribe(A.b.toAtom(J))),this._reportViewModel=this._environment.has(te.b.Flag.supportsDownloadPDF)?O.g.some(new Yl.a(this._engine,this._userAccount.profile,this._userAccount.features,this._notificationsManager,this._denaliEditorModel.contentUpdated.pipe(x.a.startWith(null),x.a.delay(0),x.a.map(this._denaliEditorModel.getHTML)),this._hydrateTransforms,(function(){return B.lensState}),(function(){return B.marksViewModel}),(function(){return B.navigationViewModel}),J.view("lenses"),this._telemetry)):O.g.none,this.modalManager=new ll.b(new Ql.c(this._userAccount,this._textResources,this._engine.sessionModel,this.upgradeViewModel,this._config,this._platformEnvironment,this.feedbackViewModel,this._notificationsManager,this._engine.sessionModel,this._reportViewModel,this._telemetry,this._engine.mutedAlertsModel,this.bannersModel,this._bannersFeatures,this._userAccount.logout)),this.navigationViewModel=new Pl.c(this._telemetry,this.modalManager,this.lensState,this._userAccount.features,this._getAlertClosestToCursor,this._engine.sessionModel,U,Object(b.constant)(Object(b.unsafeCoerce)({})),y.a.create(Ol.a.CardVisualMode.ContrastLightMode),y.a.create(!0),this.capabilities,(function(e){return J.view("lenses").view(Object(b.flow)(ul.a.lookup("advanced"===e?Rc.a.SpecialId.Premium:Rc.a.SpecialId.FreePremiumAlerts),O.g.map((function(e){return e.count})),O.g.getOrElse(Object(b.constant)(0)),(function(e){return{title:"Premium",count:e}})))}),O.g.some(this._oggyUphookModel)),this._pageTelemetry=new gu.a(this.lensState,this.navigationViewModel.state.view("isSidebarOpen"),this._telemetry);var ee=new _l.a(this.navigationViewModel,this._denaliEditorModel),ne=Object(nu.d)(this._telemetryContainerId,this._environment,this._platformEnvironment,ee,this._log,Al.a.fitContainer),ie=Object(nu.e)(this._denaliEditorModel,W,G,(function(){K.set(!0)}),q,Object(Jl.a)(this.notificationsManager,this._environment)),oe=Object(nu.f)(this._telemetry,this._platformEnvironment,this._config,this.upgradeViewModel,R),ce=Object(nu.b)(this._experimentClient),le=y.a.create(O.g.none),ue=this._oggyManager.pipe(x.b.compact,x.a.switchMap((function(e){return y.a.combine(e.alertVisibilityFilter,pe,(function(e,t){return t?e:Qt.a.isInline}))}))),pe=this.navigationViewModel.state.view("isSidebarOpen");this._subs.push(x.a.from(ne).pipe(x.a.map((function(e){return O.g.some(zl.create(B._engine.checkingDomain,B._engine.alertsRepository,B._engine.alertsService,e,B._engine.obsCapiClient.events,B._autoScrollToNextAlert,F))})),x.a.tap(A.b.toAtom(this._oggyManager))).subscribe(),this._oggyManager.pipe(x.b.compact,x.a.switchMap((function(e){return e.alertHighlightChanges.pipe(x.a.tap(A.b.toAtom(le)))}))).subscribe()),this.focus=hl.a.create({contentFocusChanges:ge.a.create(this._denaliEditorModel),eq:ge.b.eq,ord:ge.b.ord,show:ge.b.show,contentSection:O.g.some(ge.b.create(ge.b.Id.editor))}),this.vbarsViewModel=O.g.none,this._subs.push(this._denaliEditorModel.viewport.pipe(x.a.distinctUntilChanged(),x.a.map((function(e){return e.wrapper}))).subscribe(A.b.toAtom(this._editorWrapperViewport)),this._remSizeObs.subscribe(A.b.toAtom(this._remSize)),ge.b.initTracking(this.focus,this._telemetry),this._denaliEditorModel.dontFreezeWhen(this.focus.state.pipe(x.a.map(O.g.exists((function(e){return e.id!==ge.b.Id.editor})))),"focus-manager")),this.searchViewModel=new re.c(this._denaliEditorModel,this._engine.positionManager,this._editorWrapperViewport);var me=this._engine.sessionModel.rtfMode===N.d.DocumentFeatures.FormattingMode.on?O.g.some(Object(hu.c)(this._denaliEditorModel.getCursor.bind(this._denaliEditorModel),(function(e){B._denaliEditorModel.setFormatting(Object(m.a)(Object(p.a)({},e),{meta:Object(m.a)(Object(p.a)({},e.meta),{formatting:Object(p.a)({},e.meta.formatting)})}))}),this._denaliEditorModel.selectedFormatting,this._denaliEditorModel.isEditorFocused,this._textResources.denali,this._telemetry.gnarSpec,this._telemetry.pageId,this._environment)):O.g.none,fe=ue.pipe(x.a.map((function(e){return{filter:e,lensId:Rc.a.SpecialId.AllAlerts}})));this.marksViewModel=new pu.a(this._denaliEditorModel,this._engine.checkingDomain,this._engine.alertsReader,this._engine.alertsService,this._engine.alertsService,this._environment.has(te.b.Flag.highHighlights),new kl.a(le),Q,fe,this._userAccount.settings.editorPreferences.view("suggestionsVisualMode"),le),this.capiSession=new eu.a(Y),this.alertUserEvents=new pl.a(this._denaliEditorModel,this.marksViewModel,this._engine.alertsReader,le,ue);var he=x.a.combineLatestStatic([pe,ue]).pipe(x.a.map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return n?a:b.constTrue})));this.downloadViewModel=new iu.a(this._engine.sessionModel,this._notificationsManager),this.documentSettingsViewModel=Object(mu.b)(this._denaliEditorModel,this._router,this._textResources.denali,this._userAccount,this._dialectSettings,this.downloadViewModel,this.upgradeViewModel,this.modalManager,this._uploadViewModel,this._environment,this._notificationsManager,this.searchViewModel,this._telemetry,this._docId,this._engine.sessionModel);var be=Ml.a.create();this._cheetahInlineAvailabilityProvider=tu.a.create(this.navigationViewModel,this.documentSettingsViewModel.viewModel.visualState,this.cheetahAvailabilityService.availability,this._userAccount.features.denali),this._inlineManager=Object(lu.a)(this._denaliEditorModel,this.alertUserEvents,this._engine.alertsReader,me,be,this._cheetahInlineAvailabilityProvider),this.vbarsViewModel=this._userAccount.features.denali.writingExpertVbarsEnabled?O.g.some(new vu.a(this._engine.obsCapiClient.events,this._denaliEditorModel,this._engine.alertsService,this._engine.checkingDomain.state,he,this.marksViewModel,this._inlineManager,pe)):O.g.none;var ve,ye=Object(de.pipe)(this.vbarsViewModel,O.g.map((function(e){return e.highlightedVbarAlert.pipe(x.a.map(O.g.map((function(e){return{alert:e,highlightIndex:0,source:Qt.b.text}}))))})),O.g.getOrElse((function(){return x.a.EMPTY})));this._subs.push(El.a.getHighlightSubscription(x.a.mergeStatic(le,ye).pipe(x.a.switchMap(A.b.Scheduler.rafScheduler),x.a.skipBy(O.g.getEq(vl.a.getEq())),x.a.map(O.g.filter((function(e){return O.g.isSome(B._engine.alertsReader.getRegistered(e.alert.id))}))),x.a.map(O.g.map((function(e){return e.alert})))),this.marksViewModel,F.getLogger("HighlightMarkFromText")).subscribe(),(ve=F.getLogger("HightlightMarkFromSidebar"),le.pipe(x.a.switchMap(A.b.Scheduler.rafScheduler),x.a.skipBy(O.g.getEq(vl.a.getEq())),x.a.map(O.g.filter((function(e){return O.g.isSome(B._engine.alertsReader.getRegistered(e.alert.id))}))),x.a.switchMap(O.g.fold((function(){return ve.debug("Nothing to focus"),x.a.EMPTY}),(function(e){return x.a.Observable.create((function(){return ve.debug("Focus mark: ".concat(e.alert.id," | ").concat(e.highlightIndex)),e.source===Sl.c.forceSidebar&&B.marksViewModel.moveCursorToHighlight(e,"start"),Object(de.pipe)(B.marksViewModel.focusAlertHighlight(e),O.b.fold((function(t){return ve.error("Cannot focus mark",t,{alertId:e.alert.id,highlightIndex:e.highlightIndex}),z.e}),(function(t){return function(){ve.debug("Unfocus mark: ".concat(e.alert.id," | ").concat(e.highlightIndex,"'")),t.dispose()}})))}))})))).subscribe())),this._oggyIntegration=Gl.create(F,Gl.focusAlertByClickedMark(x.a.mergeStatic(this.alertUserEvents.alertClicked,Object(de.pipe)(this.vbarsViewModel,O.g.map((function(e){return e.alertClickedInAssistantMode})),O.g.getOrElse((function(){return x.a.EMPTY}))))),Gl.moveFocusedMarkIntoViewport(this.marksViewModel),Gl.openInlineAlerts(this.navigationViewModel,this._openInlineAlert),Gl.updateLoaderStateOnReady(this.documentLoader),Gl.openAssistantWithActiveCard(this.navigationViewModel,this._oggyUphookModel),Gl.unfocusAlertHighlightOnSidebarClose(this.navigationViewModel))(this._oggyManager),this._gbRuleCreatedViewModel=new su.a(this._config,this._engine.obsCapiClient,this._notificationsManager,this._telemetry),this._subs.push(this._denaliEditorModel.clickedWord.pipe(x.a.map(O.g.filter((function(e){return 2===e.meta.clicks}))),x.a.withLatestFrom(this.alertUserEvents.alertClicked.pipe(x.a.startWith(O.g.none)),(function(e,t){return O.g.isNone(t)?e:O.g.none})),x.b.compact).subscribe(be.doubleClickedWord));var Oe=ae.a.ViewModel.getInlineHighlightFilter(pe),Se=Object(b.flow)(this.marksViewModel.getMarkByAlert,O.b.fromOption((function(){return new Error("mark not found")})),O.b.chain((function(e){return e.getRect()})),O.l.fromEither);this.inlineCardViewModel=new ae.b(this._inlineManager,Se,x.a.mergeStatic(this._denaliEditorModel.contentUpdated.pipe(x.a.mapTo(A.b.voidValue))),this._engine.checkingDomain,this._engine.alertsReader,this._engine.alertsService,this._telemetry,this._openInlineAlert,this._inlineAlertHovered,this._hydrateTransforms,Oe),this.inlineUpgradeHookViewModel=new uu.b(this._inlineManager,Se,this._denaliEditorModel.contentUpdated.pipe(x.a.mapTo(A.b.voidValue)),this._engine.checkingDomain,this._inlineUpgradeHookClicked,this._userAccount.settings,this.upgradeViewModel);Object(de.pipe)(O.g.sequenceT(B._engine.sduiService,B._engine.sduiManager,B._engine.sduiInlineManager),O.g.filter((function(e){return B._userAccount.features.denali.writingExpertInlineSDUI})),O.g.tap((function(e){var t=Object(f.a)(e,3),n=t[0],a=t[1],r=t[2],i=new cu.a(n,a.get(),r.get(),B.inlineCardViewModel,B._engine.alertsReader,B._engine.obsCapiClient);Object(de.pipe)(B.sduiInlineViewModel.get(),O.g.tap((function(e){return e.dispose()}))),B.sduiInlineViewModel.set(O.g.some(i))}))),this.synonymsViewModel=new Xl.a(this._inlineManager,this._engine.positionManager,this._engine.synonymsModel,this._networkState,this._denaliEditorModel,this._notificationsManager,le,(function(){return B._telemetry.gnarSpec.notificationCloseButtonClick("alertUndo",B._telemetry.pageId)}),(function(e,t){B._telemetry.gnarSpec.synonymsPopupShow(t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,B._telemetry.pageId,e)}),(function(e,t,n){B._telemetry.gnarSpec.synonymsPopupClose(t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,n,B._telemetry.pageId,e)}),(function(e,t,n){B._telemetry.gnarSpec.synonymsAcceptButtonClick(t.meaningIndex,t.synonymIndexInGroup,t.synonymIndexAbs,t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,n,B._telemetry.pageId,e)})),this.surveyManager=O.g.none,this.formattingViewModel=Object(de.pipe)(O.g.sequenceT(me,this._engine.formattingModel),O.g.map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1],r=fu.a.createManager(B._denaliEditorModel,a,B._inlineManager);return B._subs.push(n,r),{toolbarViewModel:n.viewModel,linksManager:r}}))),this.documentPlaceholderViewModel=new ru.a(this._uploadViewModel,this._denaliEditorModel,this._userAccount,this._environment),this.emotionsViewModel=Object(de.pipe)(this._engine.emotionsModel,O.g.map((function(e){return Ft.a.ViewModel.create(e,B._engine.sessionModel,B._textResources.denali)})));var we=Object(de.pipe)(me,O.g.map((function(e){return[e.viewModel,B.searchViewModel,B.documentSettingsViewModel.viewModel]})),O.g.getOrElse((function(){return[B.searchViewModel,B.documentSettingsViewModel.viewModel]})));this.hotkeyManager=new gl.a(O.a.UniqueArray.from(we),this._environment.has(te.b.Flag.isAppleSystem),this._environment.platform===te.b.Platform.IPAD),this.showConfetti=y.a.create(!1),this._subs.push(x.a.combineLatestStatic([this._oggyManager.pipe(x.b.compact),L]).pipe(x.a.switchMap((function(e){var t=Object(f.a)(e,1)[0];return x.a.from(au.a.create({capi:B._engine.obsCapiClient,sessionModel:B._engine.sessionModel,denaliEditorModel:B._denaliEditorModel,capiService:Z,userAccount:B._userAccount,navigation:ee,navigationVM:B.navigationViewModel,dialect:B._dialectSettings,isDemoDocument:B._engine.sessionModel.isDemoDocument,availabilityService:B.cheetahAvailabilityService,telemetry:B._telemetry,inlineManager:B._inlineManager,config:B._config,lifecycleService:ne,modalManager:B.modalManager,selectionRange:q,textEditorService:ie,uphookService:oe,experimentService:ce,usedDuringSession:K,alertService:O.g.some(t.alertService),sduiService:O.g.some(t.sduiService)}))})),x.a.take(1),x.a.tap((function(e){return B._subs.push(x.a.fromEvent(window,"beforeunload").subscribe((function(){return e.dispose()})))})),x.a.map(O.g.some)).subscribe(A.b.toAtom(this._cheetahViewModel))),this.cheetahViewModel=this._cheetahViewModel.view();this.onboardingViewModel=new $l.a(this._userAccount.settings,this._denaliEditorModel,this._engine.sessionModel,this._engine.alertsReader,this._userAccount.features.onboardingMode(),this._telemetry,le,(function(){return B.marksViewModel.getFirstMark().pipe(x.b.compact,x.a.map((function(e){return O.g.fromEither(e.getRect())})))}),this.cheetahViewModel,this.navigationViewModel,this._userAccount.features)}return Object(l.a)(e,[{key:"dispose",value:function(){this._oggyIntegration.dispose(),this._oggyUphookModel.dispose(),Object(de.pipe)(this._oggyManager.get(),O.g.tap((function(e){return e.dispose()}))),this._engine.shutdown(),this.searchViewModel.dispose(),this.marksViewModel.dispose(),this.synonymsViewModel.dispose(),O.g.option.map(this._reportViewModel,(function(e){return e.dispose()})),this.downloadViewModel.dispose(),Object(de.pipe)(this.surveyManager,O.g.map((function(e){return e.dispose()}))),this.documentSettingsViewModel.dispose(),Object(de.pipe)(this.obtainGradesNotificationManager,O.g.map((function(e){return e.dispose()}))),this._pageTelemetry.dispose(),this._gbRuleCreatedViewModel.dispose(),this.inlineCardViewModel.dispose(),this.hotkeyManager.dispose(),this.cheetahAvailabilityService.dispose(),Object(de.pipe)(this.cheetahViewModel.get(),O.g.tap((function(e){return e.dispose()}))),this._subs.dispose()}},{key:"createLoaderViewModel",value:function(e){return new du.b(this.documentLoader.state,this.navigationViewModel,this._engine.sessionModel,e,this._denaliEditorModel,this._userAccount.features)}}]),e}(),Ou=n("uLrj"),Su=n("ksEe"),Cu=n("VrFq"),wu=n("Zg2C"),ku=n("WLOZ"),Eu=n("Wq6W"),ju=n("6Fzp"),_u=n("Y8fD"),xu=n("ykgB"),Au=n("skc2"),Iu=n("xAs4"),Tu=n("dLmm"),Mu=n("ycnv"),Pu=function(){function e(t,n,a,r,i,o,s,l,d,p,m,f){var h=this;Object(c.a)(this,e),Object(u.a)(this,"_modalManager",void 0),Object(u.a)(this,"_userAccount",void 0),Object(u.a)(this,"_documentModel",void 0),Object(u.a)(this,"_loaderViewModel",void 0),Object(u.a)(this,"_documentLoaderState",void 0),Object(u.a)(this,"_appRouter",void 0),Object(u.a)(this,"_notificationsManager",void 0),Object(u.a)(this,"_config",void 0),Object(u.a)(this,"_telemetry",void 0),Object(u.a)(this,"_environment",void 0),Object(u.a)(this,"_cheetahUsedDuringSession",void 0),Object(u.a)(this,"_bannersModel",void 0),Object(u.a)(this,"_showGBBillingMigrationNotification",void 0),this._modalManager=t,this._userAccount=n,this._documentModel=a,this._loaderViewModel=r,this._documentLoaderState=i,this._appRouter=o,this._notificationsManager=s,this._config=l,this._telemetry=d,this._environment=p,this._cheetahUsedDuringSession=m,this._bannersModel=f,this._showGBBillingMigrationNotification=function(e){var t=e.expiryDate;return h._notificationsManager.enqueue("gbBillingMigration",{expiryDate:t}).pipe(x.a.takeWhile(Object(z.m)((function(e){return _u.a.isCloseAction(e)||"cta"===e})),!0),x.a.switchMap((function(e){return h._handleGBBillingMigrationNotificationAction(e)})))}}return Object(l.a)(e,[{key:"init",value:function(){var e,t=this;this._initBanners();var n=this._documentLoaderState.view("text").pipe(x.a.filter(O.g.isNone),x.a.first(),x.a.filter((function(){return Object(de.pipe)(t._appRouter.locationState,O.g.exists((function(t){return!(null===(e=t.showDocumentUploadedNotification)||void 0===e||!e)})))})),x.a.switchMap((function(){return t._showUploadNotification(t._documentModel.rtfMode)}))),a=this._userAccount.features.denali.gbBillingMigrationNotification.pipe(x.b.compactMap(this._showGBBillingMigrationNotification)),r=this._userAccount.settings.dunningSettings.pipe(x.a.combineLatest(this._userAccount.settings.dunningStatus,this._userAccount.subscription.state.pipe(x.a.filter(xu.a.isOk))),x.a.first(),x.a.filter((function(e){var n=Object(f.a)(e,3),a=n[0],r=n[1],i=n[2];return t._shouldShowDunningModal(a,r,i.value)})),x.a.switchMap((function(){return t._showDunningModal()}))),i=this._bannersModel.state.pipe(x.a.filter((function(e){return e.active===ne.q.deDeprecationPopup})),x.a.switchMap((function(){return t._modalManager.show(Ql.a.deDeprecation)})));return this._loadModal().pipe(x.a.tap((function(){return t._loaderViewModel.init()})),x.a.switchMap(O.g.fold((function(){return x.a.EMPTY}),(function(e){return t._modalManager.showPreloaded(e)}))),x.a.merge(x.a.concatStatic(n,this._showChangePlanNotification()),this._showPremiumUngatingRenewalNotification(),a,this._showSafariExtActivationNotification(),r,i))}},{key:"_loadModal",value:function(){var e=this;return this._shouldShowTour()?this._modalManager.preload(Ql.a.tour).pipe(x.a.map(O.g.some)):this._shouldShowWhatsNew()?this._modalManager.preload(Ql.a.news).pipe(x.a.map(O.g.some)):this._shouldShowSetGoals()?this._modalManager.preload(ll.c.setGoals("setGoalsLoader")).pipe(x.a.map(O.g.some),x.a.tap((function(){return e._loaderViewModel.init()})),x.a.switchMap((function(t){return e._loaderViewModel.loaderState.pipe(x.a.first(Object(z.p)(O.g.contains(du.a.Checking),O.g.contains(du.a.CheckingIn))),x.a.mapTo(t))})),x.a.delay(50),x.a.map((function(t){return e._cheetahUsedDuringSession.get()?O.g.none:t}))):x.a.of(O.g.none)}},{key:"_shouldShowTour",value:function(){return O.g.isSome(this._userAccount.features.denali.tour)}},{key:"_shouldShowWhatsNew",value:function(){return this._userAccount.features.denali.showcaseNewFeaturesOnStartup}},{key:"_shouldShowSetGoals",value:function(){var e=this._userAccount.features.denali.removeWelcomeTour&&this._documentModel.isDemoDocument;return this._documentModel.isInitialRevision&&this._userAccount.settings.enableSetGoalsLoader.get()&&!e}},{key:"_shouldShowDunningModal",value:function(e,t,n){var a=Object(de.pipe)(t,O.g.map((function(e){return"IN_PROGRESS"===e})),O.g.getOrElse((function(){return Boolean(n.isDunning)})));return Iu.e.isPremium(this._userAccount.features.denaliUserType)&&Object(Tu.a)(e)&&!this._shouldShowTour()&&a}},{key:"_showDunningModal",value:function(){return this._telemetry.gnarSpec.inProductDunningNotificationShow(this._telemetry.pageId),this._modalManager.show(Ql.a.dunning)}},{key:"_showUploadNotification",value:function(e){var t=this,n=e===he.DocumentFeatures.FormattingMode.compatibility?"denaliFormattingCompatibility":"denaliDocumentUploaded";return this._notificationsManager.enqueue(n).pipe(x.a.filter((function(e){return"navigateToDocuments"===e})),x.a.tap((function(){return t._appRouter.navigate(M.a.routes.documents.href())})))}},{key:"_handleGBBillingMigrationNotificationAction",value:function(e){switch(e){case"shown":return this._telemetry.gnarSpec.gbBillingMigrationNotificationShow(this._telemetry.pageId);case"closedByUser":return this._telemetry.gnarSpec.gbBillingMigrationCloseButtonClick(this._telemetry.pageId),this._userAccount.settings.dismissGBBillingMigrationNotification();case"cta":return this._telemetry.gnarSpec.gbBillingMigrationUpdateBillingButtonClick(this._telemetry.pageId),this._environment.actions.openPopup(new Au.a(this._config.account.adminSubscription,new URLSearchParams({popup:"add_billing_info"}))),Promise.resolve();default:return Object(yt.c)(e)}}},{key:"_showChangePlanNotification",value:function(){var e=this;return this._userAccount.features.denali.changePlanHook.pipe(x.b.compactMap((function(){return e._userAccount.subscription.state})),x.a.filter(xu.a.isOk),x.a.first(),x.a.map((function(t){var n=t.value;return Mu.a.create(n,e._userAccount.subscription)})),x.a.switchMap(O.b.fold((function(e){return T.d.Logging.getLogger("change.plan.hook").warn(e),x.a.EMPTY}),(function(t){return t.shouldShowOffer?e._notificationsManager.enqueue("changePlanCta",{model:t}).pipe(x.a.takeWhile(Object(z.m)((function(e){return _u.a.isCloseAction(e)||"changePlan"===e})),!0),x.a.switchMap((function(n){return e._handleChangePlanNotificationAction(n,t)}))):x.a.EMPTY}))))}},{key:"_handleChangePlanNotificationAction",value:function(e,t){var n=this;switch(e){case"shown":return this._telemetry.gnarSpec.changePlanNotificationShow(t.daysToRenewal,t.currentPlanType,this._telemetry.pageId),this._userAccount.settings.changePlanHookSeen();case"closedByUser":return this._telemetry.gnarSpec.changePlanNotificationCloseButtonClick(t.daysToRenewal,t.currentPlanType,this._telemetry.pageId),this._userAccount.settings.dismissChangePlanHook();case"changePlan":return this._telemetry.gnarSpec.changePlanNotificationSwitchPlanButtonClick(t.daysToRenewal,t.currentPlanType,this._telemetry.pageId),this._modalManager.show(Ql.a.changePlan(t)).pipe(x.a.filter((function(e){return"closed"===e})),x.a.first(),x.a.switchMap((function(){return n._userAccount.settings.dismissChangePlanHook()}))).toPromise().catch((function(e){return T.d.Logging.getLogger("change.plan.modal").error(e)}));default:return Promise.resolve()}}},{key:"_showSafariExtActivationNotification",value:function(){var e=this;return this._userAccount.features.denali.safariExtActivationWeb||this._userAccount.features.denali.safariExtActivationNative?this._notificationsManager.enqueue("safariExtActivation",{}).pipe(x.a.tap((function(t){switch(t){case"shown":return e._telemetry.gnarSpec.safariExtensionActivationNotificationShow(e._telemetry.pageId),void e._userAccount.settings.markSafariExtNotificationSeen();case"activate":return e._telemetry.gnarSpec.safariExtensionActivationCtaButtonClick(e._telemetry.pageId),void e._environment.actions.openUrl(new Au.a("grammarly.extension://enable"));case"closedByUser":return void e._telemetry.gnarSpec.safariExtensionActivationCloseButtonClick(e._telemetry.pageId);case"timeout":case"closedByMaxNotificationOnScreen":case"closedByNotificationWithMorePriority":return;default:Object(yt.c)(t)}}))):x.a.EMPTY}},{key:"_showPremiumUngatingRenewalNotification",value:function(){var e=this;return this._userAccount.features.denali.premiumUngatingRenewalNotification.pipe(x.b.compactMap((function(t){return e._telemetry.gnarSpec.premiumUngatingRenewalNotificationShow(e._telemetry.pageId),e._userAccount.settings.ungatedRenewalNotificationSeen(),e._notificationsManager.enqueue("premiumUngatingRenewal",{trialEndDate:t}).pipe(x.a.first((function(t){return _u.a.isCloseAction(t)?(e._telemetry.gnarSpec.premiumUngatingRenewalDismissButtonClick(e._telemetry.pageId),e._userAccount.settings.ungatedRenewalNotificationDismissed(),!0):"ctaManageSubscription"===t&&(e._telemetry.gnarSpec.premiumUngatingRenewalCtaButtonClick(e._telemetry.pageId),e._userAccount.settings.ungatedRenewalNotificationDismissed(),e._environment.actions.openPopup(new Au.a(e._config.account.adminSubscription)),!0)})))})))}},{key:"_initBanners",value:function(){var e=this;Object(de.pipe)(this._userAccount.features.banners,O.g.chain((function(e){return e.mockedBannersState})),O.g.fold((function(){e._bannersModel.initialize(e._userAccount.settings.banners.get())}),(function(t){return e._bannersModel.initialize(t)})))}}]),e}(),Nu=n("hPn0"),Du=n("NbNH"),Bu=j.a.keyframes({from:{transform:"scale(0)"},to:{transform:"scale(6)"}}),Lu={margin:"".concat(j.a.rem(1.7)," 0 ").concat(j.a.rem(1.15)),$nest:{"@media print":{marginTop:0}}},Fu=Object(m.a)(Object(p.a)({},Object(Ne.b)()),{padding:j.a.rem(0),width:j.a.percent(95),outline:"none",border:"none",background:"transparent",lineHeight:"normal",$nest:{"@media print":{display:"none"},"&::placeholder":{color:_e.i}}}),Ru={position:"relative",zIndex:Du.i,paddingTop:j.a.rem(4)},Hu={color:_e.i},Vu={display:"block",minHeight:j.a.px(100)},Uu={position:"absolute",top:0,left:0,zIndex:Du.o,overflow:"hidden",width:j.a.percent(100),height:j.a.percent(100),background:Pe.a.CoreNeutral0},Wu={position:"absolute",top:j.a.percent(32),left:j.a.percent(38),margin:"0 auto",width:j.a.px(300),height:j.a.px(300),border:"20px solid ".concat(Pe.a.CoreNeutral1),borderRadius:j.a.percent(50),pointerEvents:"none"},zu={animation:"".concat(Bu," 4s infinite linear")},Gu={animation:"".concat(Bu," 3s infinite linear")},qu={animation:"".concat(Bu," 2s infinite linear")},Ku=j.a.stylesheet({textWrapper:[Ru],text:[Hu],titleWrap:[Hu,Lu],title:[Hu,Fu],content:[Hu,Vu],animation:[Uu],circle:[Wu],one:[Wu,zu],two:[Wu,Gu],three:[Wu,qu]}),$u=function(e){var t=g.useContext(pe.a.Context);return g.createElement(Nu.b,{documentUpload:e.documentUpload,multiple:!1,canDrop:function(){return!0},render:function(n,a){return g.createElement(v.a.Fragment,null,y.a.combine(n,a,(function(n,a){return(n||a)&&g.createElement(te.c,{className:Ku.animation,onMount:function(){return e.modalManager.hideAll()}},g.createElement("div",{className:Ku.one}),g.createElement("div",{className:Ku.two}),g.createElement("div",{className:Ku.three}),g.createElement(ut,{position:"center",className:Ku.textWrapper},g.createElement("div",{className:Ku.titleWrap},g.createElement(U.c,{className:Ku.title},t.uploadDropZone)),g.createElement(U.j,{className:Ku.content},t.uploadDropZoneTypes)))})))}})},Zu=n("XQlQ"),Yu=n("CcwN"),Xu=n("Jqms"),Qu=n("h+d6"),Ju=n("SXX6"),ed=n("2YEY");function td({stepId:e,onboardingViewModel:t,denaliEditorModel:n,getFirstTargetRect:a,overlay:r,completionTrigger:i},o){const s=g.useContext(w.a.Context),c=y.a.create({display:"none",pointerEvents:"none"}),l=y.a.create(!1),u=t.subscribeForStep(e),d=y.a.create(O.g.none);return _.a.useSubscriptionTo(x.a.mergeStatic(u.state.pipe(x.a.tap(e=>{"popup"!==e&&"popover"!==e||!r||l.set(!0),c.modify(t=>Object(m.a)(Object(p.a)({},t),{pointerEvents:"dot"===e?"all":"none"}))}),x.a.merge(n.changes,o),x.a.combineLatest(s,d.pipe(x.a.skip(1))),x.a.tap(([e,t,a])=>((e,t)=>requestAnimationFrame(()=>{n.flushChanges(),Object(de.pipe)(t,O.g.map(Ju.b.relativeToRoot),O.g.fold(()=>{c.set({display:"none"})},({top:t,left:n,width:a,height:r})=>{c.modify(i=>Object(m.a)(Object(p.a)({},i),{position:"absolute",left:n/e+"rem",top:t/e+"rem",width:a/e+"rem",height:r/e+"rem",display:"block"}))}))}))(t,a))),u.state.view(e=>"dot"===e||"popup"===e||"popover"===e).pipe(x.a.switchMap(e=>e?a():x.a.EMPTY),x.a.tap(A.b.toAtom(d))),x.a.mergeStatic(A.b.orEmpty(l.pipe(x.a.skip(1),x.a.filter(e=>!e)))(!!r),i).pipe(x.a.tap(t.getStepCompletionCallback(e))),l.pipe(x.a.switchMap(A.b.orEmpty(x.a.fromEvent(document,"click",{capture:!0,passive:!0}))),x.a.tap(()=>l.set(!1))))),{visibilityOverlay:l,customStyles:c,onboardingStep:u}}const nd=e=>{const t=g.useContext(Zu.a.Context).pipe(x.a.map(e=>e.rect)),{visibilityOverlay:n,customStyles:a,onboardingStep:r}=td(e,t);return g.createElement(g.Fragment,null,e.overlay&&e.overlay(n),g.createElement("div",{className:ed.b.editor},g.createElement(v.a.div,{style:a,className:ed.b.onboardingPopup},g.createElement(Se.c,Object(m.a)(Object(p.a)({},e),{onboardingStep:r,viewportRect:t,eventType:"none"}),g.createElement(v.a.div,{style:a.view(({width:e,height:t})=>({width:e,height:t}))})))))},ad=e=>e.onboardingViewModel.isStepEnabled(e.stepId)?g.createElement(nd,e):null;var rd=n("OUbY"),id=function e(t,n){var a=this;Object(c.a)(this,e),Object(u.a)(this,"_ded",void 0),Object(u.a)(this,"_env",void 0),Object(u.a)(this,"_log",void 0),Object(u.a)(this,"state",void 0),this._ded=t,this._env=n,this._log=T.d.Logging.root.getLogger("GraySelection"),this.state=this._ded.isEditorFocused.pipe(x.a.switchMap(Object(z.c)(x.a.of(!1),x.a.mergeStatic(this._ded.contentUpdated.pipe(x.a.auditTime(50)),A.a.windowResize.pipe(x.a.auditTime(50))).pipe(x.a.startWith(A.b.toVoid()),x.a.mapTo(!0)))),x.a.switchMap((function(e){return e?x.a.of(Object(de.pipe)(a._ded.getSelectionRect(),O.b.chain((t=a._env.has(rd.a.Flag.supportsMixBlendMode),function(e){return Object(de.pipe)(e.getRect(),O.b.map((function(e){var t=e.clientRects,n=e.rootClientRect;return t.map((function(e){return G.c.absToRelative(e,n)}))})),O.b.map((function(e){return e.map((function(e){return{top:e.top,left:e.left,width:Math.max(e.width,2),height:e.height,zIndex:t?"inherit":"-1",mixBlendMode:t?"darken":"inherit"}}))})))})),O.g.fromEither)):x.a.of(O.g.none);var t})),x.a.tap((function(e){O.g.isSome(e)&&!document.hasFocus()&&Object(de.pipe)(Na.e.collapseSelection(),O.b.mapLeft((function(e){a._log.info("Cannot collapse selection",e)})))})),x.a.share())},od=(n("ATMU"),n("n8j0")),sd=function(e){var t=e.ded,n=g.useContext(rd.a.Context);return g.createElement(v.a.Fragment,null,new id(t,n).state.pipe(x.a.map((function(e){return g.createElement(g.Fragment,null,Object(de.pipe)(e,O.g.fold((function(){return null}),(function(e){return e.map((function(e,t){return g.createElement("div",{"data-name":"gray-selection",key:"gray-selection-".concat(t),style:e,className:od.graySelection})}))}))))})),x.a.startWith(null)))},cd=n("Bl9I"),ld=function(e,t){var n={root:e,rootMargin:"0px",threshold:[0,1]};return A.a.getIntersectionObservable(t,n).pipe(x.a.filter(z.n),x.a.map((function(e){return 1!==e[0].intersectionRatio})),x.a.startWith(t.offsetHeight>e.offsetHeight))},ud=function e(){var t=this;Object(c.a)(this,e),Object(u.a)(this,"_log",T.d.Logging.getLogger("DocumentView")),Object(u.a)(this,"_nativeScrollbarState",Object(de.pipe)(G.c.Scrollbar.getState(),O.b.getOrElse((function(e){return t._log.error("Cannot get scrollbar width",e),G.c.Scrollbar.UNKNOWN_SCROLLBAR})))),Object(u.a)(this,"detector",y.a.create(O.g.none)),Object(u.a)(this,"target",y.a.create(O.g.none)),Object(u.a)(this,"_xssWindowSize",A.a.getResizeObservable(document.body).pipe(x.a.map((function(e){return e.width<=cd.a.navigationHideWidthThreshold})),x.a.distinctUntilChanged(),x.a.startWith(!1))),Object(u.a)(this,"_visible","visible"===this._nativeScrollbarState.type?y.a.combine(this.target,this.detector,O.g.map2(ld)).pipe(x.a.switchMap(O.g.fold((function(){return x.a.EMPTY}),b.identity)),x.a.onErrorResumeNext(x.a.of(!0))):y.a.create(!0)),Object(u.a)(this,"width",x.a.combineLatestStatic([this._visible,this._xssWindowSize]).pipe(x.a.map((function(e){var n=Object(f.a)(e,2),a=n[0];return!n[1]&&a?t._nativeScrollbarState.width:0})),x.a.startWith(0),x.a.shareReplay({bufferSize:1,refCount:!0}))),Object(u.a)(this,"scrollTop",this.target.pipe(x.b.compact,x.a.switchMap((function(e){return x.a.fromEvent(e,"scroll").pipe(x.a.debounceTime(50),x.a.map((function(e){return e.target.scrollTop})))})),x.a.startWith(0))),Object(u.a)(this,"fakeWidth",this._xssWindowSize.pipe(x.a.map((function(e){return e||"hidden"!==t._nativeScrollbarState.type?0:t._nativeScrollbarState.width}))))},dd=n("KpDw"),pd={color:Pe.a.CoreNeutral50},md={borderBottom:"1px solid ".concat(Pe.a.CoreNeutral30),cursor:"pointer",pointerEvents:"auto"},fd=j.a.stylesheet({placeholder:[pd],hiddenPlaceholder:[{display:"none"}],label:[md],input:[{display:"none"}]}),hd=function(e){var t=e.viewModel,n=e.strings,a=e.className;return g.createElement(v.a.div,Object(be.c)(a,U.o.paper,t.visible.pipe(x.a.map(Object(z.c)(fd.placeholder,fd.hiddenPlaceholder))),t.size.view(ne.e.match("",ie.a.bigSize))),n.typeOrPasteText,g.createElement("label",{className:fd.label},n.upload,g.createElement("input",{className:fd.input,onChange:function(e){var n=e.target;return n.files&&t.upload(n.files)},type:"file",accept:t.uploadInputAccept})),n.ending)},gd=n("Q+ti"),bd=n("PN6M"),vd=n("2zNz"),yd=n("5aph"),Od=n("PYgo"),Sd=n("+Zdc"),Cd=n("0dDw"),wd=n("yDh2"),kd=n("Pkcy"),Ed=n("nvxh"),jd=function(e){var t=e.viewModel,n=g.useContext(P.a.Context),a=n.gnarSpec,r=n.pageId,i=g.useContext(pe.a.Context);return g.createElement("div",Object(be.c)(kd.a.card,kd.a.cardUphook),g.createElement(U.l,{className:kd.a.title},i.inlineUpgradeHook.suggestionIsPartOfPremium),g.createElement(Nt.a.Group,{align:"vertical"},g.createElement(Nt.a.Ghost,{className:kd.a.upgradeButton,name:"upgrade",onClick:function(){Ed.a.create(a).trackClick({pageId:r,bannerType:"upgradeToPremium",placement:"inlinePremiumCard"}),t.upgrade()}},g.createElement(xt.d.PaidSmall,{width:15,className:kd.a.upgradeIcon}),g.createElement(U.l,{className:kd.a.upgradeButtonText},i.inlineUpgradeHook.upgradeToPremium))))},_d=function(e,t){return e.right+300>t.width?"right":"left"},xd=function(e,t){return G.c.classes(function(e){switch(e){case"invisible":return kd.a.invisible;case"visible":return kd.a.visible;default:return Object(yt.c)(e)}}(e),"up"===t&&kd.a.directionUp)};function Ad(e,t){var n=g.useRef(null),a=Object(f.a)(g.useState((function(){return y.a.create({visibility:"visible",position:{top:0,left:0},direction:"down"})})),1)[0],r=g.useContext(Zu.a.Context),i=function(e){var r=n.current;r&&function(e,t,n,a){Object(b.pipe)(e,O.g.map((function(e){var r=e.abs,i=e.relative,o=t.offsetHeight,s=r.height+r.top+o>n.height+n.top&&i.height<n.height?"up":"down";a.modify((function(e){return Object(m.a)(Object(p.a)({},e),{direction:s,position:{top:"up"===s?i.top-o-8:i.top+i.height,left:i.left}})}))})))}(t,r,e,a)},o=Object(f.a)(g.useState((function(){return x.a.combineLatestStatic(r.pipe(x.a.map((function(e){return e.rect}))),a.pipe(x.a.filter((function(e){return"visible"===e.visibility}))),(function(e){return e})).pipe(x.a.tap(i))})),1)[0];return _.a.useSubscriptionTo(o),g.useEffect((function(){switch(e){case"removed":a.modify((function(e){return Object(m.a)(Object(p.a)({},e),{visibility:"invisible"})}));break;case"added":requestAnimationFrame((function(){return a.modify((function(e){return Object(m.a)(Object(p.a)({},e),{visibility:"visible"})}))}));break;default:Object(yt.c)(e)}}),[e,a]),{_el:n,_state:a}}var Id=function(e){var t=e.card,n=e.position,a=e.mode,r=e.name,i=e.onMouseEnter,o=void 0===i?z.e:i,s=e.onMouseLeave,c=void 0===s?z.e:s;g.useEffect((function(){"added"===a&&c()}),[a]);var l={onMouseEnter:o,onMouseLeave:c,"data-name":r},u=Ad(a,n),d=u._el,m=u._state;return g.createElement(v.a.div,Object(p.a)({tabIndex:-1,mount:function(e){return d.current=e},style:m.view("position")},Object(be.c)(kd.a.container,m.view((function(e){var t=e.visibility,n=e.direction;return xd(t,n)}))),l),t)};var Td=function(e,t,n){var a=t(e),r=a.key,i=a.card,o=a.onMouseEnter,s=a.onMouseLeave,c=a.name,l=a.isHidden,u=function(e,t){return"added"===t?Object(b.pipe)(e.rect,Ju.b.relativeAndAbs,O.g.fromNullable):O.g.some({abs:G.c.Rect.empty,relative:G.c.Rect.empty})}(n,e);return!(null!=l&&l)&&g.createElement(Id,{key:r,position:u,mode:e,card:i,name:c,onMouseEnter:o,onMouseLeave:s})},Md=function(e){var t=e.viewModel,n=e.entry,a=e.sdui,r=e.features,i=e.index;return function(e){var o=Qt.a.State.isBulkApplied(n.alert.state),s="added"===e?i+1:i,c="added"===e?t.events:A.b.noopObserver(),l=ae.a.DATA_NAME,d=Object(b.pipe)(a,x.a.switchMap(O.g.fold((function(){return x.a.of(O.g.none)}),(function(e){return Object(b.pipe)(e.getInlineItemForAlert(n.alert.id),x.a.map(O.g.map((function(t){return{item:t,vm:e}}))))})))),f=r.refreshLogo?Object(m.a)(Object(p.a)({},gd.a),{icon:Object(m.a)(Object(p.a)({},bd.a),Object(u.a)({},Cn.a.IconKnownName.GButtonSmall,(function(e){return g.createElement(vd.e,{icon:vd.B,accessibilityLabel:"Open in Grammarly",className:kd.a.inlineCardUpdatedLogo})})))}):gd.a;return{key:s,card:g.createElement(v.a.Fragment,null,d.pipe(x.a.map(Object(b.flow)(O.g.filter((function(){return r.inlineSDUI})),O.g.filter((function(e){var t=e.item;return O.g.isNone(wn.a.findFirst(t.content,"nativeInlineCardContent"))})),O.g.fold((function(){return g.createElement(wd.a,{alert:n.alert,hydrate:t.hydrate,events:c,highlightIndex:n.highlightIndex})}),(function(e){var t=e.item,a=e.vm;return g.createElement(wd.b,{viewModel:a,item:t,highlightIndex:n.highlightIndex,events:a.events,designSystem:f})})))))),onMouseEnter:function(){return t.events.next({type:Od.b.Type.hovered})},onMouseLeave:function(){return t.events.next({type:Od.b.Type.unhovered})},name:l,isHidden:o}}};var Pd=function(e){var t=e.viewModel,n=e.index;return function(e){return{key:"added"===e?n+1:n,card:g.createElement(jd,{viewModel:t})}}};function Nd(e,t,n,a,r){return Object(b.pipe)(t.state,x.b.chain((function(e){return Object(b.pipe)(x.a.from(e.getMarkRect()),x.a.tap(O.b.mapLeft((function(t){return console.error("Could not get mark rect",{error:t,entry:e})}))),x.a.map(O.g.fromEither),x.a.map(O.g.map((function(t){return Object(m.a)(Object(p.a)({},e),{rect:t})}))))})),x.a.startWith(O.g.none),x.a.pairwise(),x.a.tap((function(e){var t=Object(f.a)(e,2),n=(t[0],t[1]);return O.g.isNone(n)&&r&&r()})),x.a.map((function(r,i){var o=Object(f.a)(r,2),s=o[0],c=o[1];return[Object(b.pipe)(s,O.g.map((function(r){return Td("removed",e({viewModel:t,entry:r,sdui:n,features:a,index:i}),r)})),O.g.toNullable),Object(b.pipe)(c,O.g.map((function(r){return Td("added",e({viewModel:t,entry:r,sdui:n,features:a,index:i}),r)})),O.g.toNullable)]})),x.a.startWith(null))}var Dd,Bd=g.memo((function(e){var t=e.className,n=e.inlineCardVM,a=e.inlineUpgradeHookVM,r=e.sduiInlineCardVM,i=e.features,o=g.useContext(Zu.a.Context).pipe(x.a.map((function(e){return e.rect}))),s=g.useMemo((function(){return yd.a.emptyWithName("inline-card")}),[]);return g.createElement(yd.a.Context.Provider,{value:s},g.createElement(v.a.Fragment,null,g.createElement("div",{className:t},me.b.mount(Cd.a.View,Sd.a.Flow.create(n.state,n.events,o,n.hydrate,_d))),g.createElement(v.a.div,{className:t},Nd(Md,n,r,i,(function(){return n.events.next({type:Od.b.Type.closed})}))),g.createElement(v.a.div,{className:t},Nd(Pd,a,r,i))))})),Ld=n("qCVM"),Fd=n("ldOx"),Rd=n("phaH"),Hd=n("itj6"),Vd=n("XGM8"),Ud=n("e71X"),Wd=n("6uQI"),zd=n("To5e"),Gd=n("MKsy"),qd=n("Sqy8"),Kd=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u.a)(Object(s.a)(e),"_subs",[]),Object(u.a)(Object(s.a)(e),"_el",void 0),Object(u.a)(Object(s.a)(e),"_classes",y.a.create("")),Object(u.a)(Object(s.a)(e),"_state",y.a.create(O.g.none)),Object(u.a)(Object(s.a)(e),"_content",y.a.create(null)),Object(u.a)(Object(s.a)(e),"_onTransitionEnd",(function(){var t=e._state.get();Object(b.pipe)(t,O.g.contains(sl.a.Type.checkingOut))&&e._state.set(O.g.none),O.g.isNone(t)&&e._content.set(null)})),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.theme,a=t.state;this._subs.push(this._state.pipe(x.a.pairwise(),x.a.map((function(e){var t=Object(f.a)(e,2),a=t[0],r=t[1];return Object(b.pipe)(r,O.g.fold((function(){return Object(b.pipe)(a,O.g.fold((function(){throw new yt.b("Cannot animate sidebar loader from None to None")}),(function(e){switch(e){case sl.a.Type.checkingOut:return[n.checkingOutEnd+" "+n.hideEnd];case sl.a.Type.checkingIn:return[n.checkingInEnd+" "+n.hideEnd];case sl.a.Type.checking:return[n.hideStart,n.hideEnd];default:return Object(yt.c)(e)}})))}),(function(e){switch(e){case sl.a.Type.checkingOut:return Object(b.pipe)(a,O.g.contains(sl.a.Type.checkingIn))?[n.checkingOutEnd]:O.g.isNone(a)?[n.hideEnd]:[n.checkingOutStart,n.checkingOutEnd];case sl.a.Type.checkingIn:return Object(b.pipe)(a,O.g.contains(sl.a.Type.checkingOut))?[n.checkingInEnd]:Object(b.pipe)(a,O.g.contains(sl.a.Type.checking))?[]:[n.checkingInStart,n.checkingInEnd];case sl.a.Type.checking:return[n.checkingStart,n.checkingEnd];default:return Object(yt.c)(e)}})))})),x.a.switchMap((function(e){return qd.a.rafSequence(e,!0)}))).subscribe(A.b.toAtom(this._classes)),a.subscribe((function(t){e._state.set(t),null===e._content.get()&&O.g.isSome(t)&&e._content.set(e.props.children)})),a.pipe(x.a.switchMap((function(){return x.a.timer(500)}))).subscribe(this._onTransitionEnd))}},{key:"componentWillUnmount",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]}},{key:"render",value:function(){var e=this;return g.createElement(v.a.div,{"data-role":"loader-content",key:"content",className:this._classes,mount:function(t){return t&&(e._el=t)},onTransitionEnd:function(t){return t.target===e._el&&e._onTransitionEnd()}},this._content)}}]),n}(g.Component),$d=n("0sTm"),Zd=n("hSa3"),Yd=n("uxqH"),Xd=n("A8UT"),Qd=n("/pMd"),Jd=(n("pTR/"),n("izp7")),ep=function(e){var t=e.plagiarismModel,n=e.lensPreviewVM,a=e.navigationViewModel,r=e.proofitViewModel,i=e.features,o=g.useContext(P.a.Context),s=o.gnarSpec,c=o.pageId,l=g.useContext(pe.a.Context),u=a.state.view("isSidebarOpen"),d=function(){return u.get()?"wiritingAssistant":"writingMode"},p=a.activeLensId.view(Rc.a.isPlagiarismId),m=function(e){return"disabled"===e.kind&&(e.reason===Xd.e.EmptyDocument||e.reason===Xd.e.DemoDoc)},f=function(e){return"disabled"===e.kind&&e.reason===Xd.d.EmptyDocument},h=g.createElement(Qd.a,{name:"proofread",isDisabled:a.documentActions.view((function(e){return e.proofit})).view(m),tooltipAlignment:"left",tooltip:a.documentActions.view((function(e){return e.proofit})).view((function(e){return m(e)?l.documentActions.proofit.tooltip.disabled(e.reason):l.documentActions.proofit.tooltip.available})),title:g.createElement(v.a.div,{className:u.view(Object(z.c)("",Jd.hidden))},l.sidebar.sendToProofreaders),"aria-label":l.sidebar.sendToProofreadersLabel,onClick:function(){i.proofit.get()===Iu.m.enabled?r.showOrderModal():a.popover.set(O.g.some(Xd.b.ProofitHook)),s.professionalProofreadingButtonClick(c,d())},className:u.view(Object(z.c)(j.a.joinClasses([Jd.proofitBtn,Jd.outcomeBtnLeft]),Jd.proofitBtnTeaser))},g.createElement(xt.d.ProofreadOutcomes,{className:u.view(Object(z.c)(j.a.joinClasses([Jd.actionIconTeaser,Jd.actionIconTeaserLeft]),Jd.actionIcon))})),b=g.createElement(Qd.a,{onClick:function(){a.events.next({type:"switchToLens",id:Rc.a.SpecialId.Plagiarism,focusFirst:!0,actionSource:Qt.b.sidebar}),s.plagiarismButtonClick(c,d())},name:"plagiarism",isActive:p,isDisabled:a.documentActions.view((function(e){return e.plagiarism})).view(f),tooltipAlignment:"left",tooltip:a.documentActions.view((function(e){return e.plagiarism})).view((function(e){return Object(z.c)(l.documentActions.plagiarism.tooltip.emptyDocument,l.documentActions.plagiarism.tooltip.available)(f(e))})),title:u.view(Object(z.c)(l.plagiarism.title,"")),"aria-label":l.plagiarism.title,className:u.view(Object(z.c)(j.a.joinClasses([Jd.plagiarismBtn,Jd.outcomeBtnLeft]),Jd.plagiarismBtnTeaser))},g.createElement(v.a.Fragment,null,y.a.combine(p,t.checkingState,(function(e,a){return e&&"full"!==a?g.createElement(Zd.a.PlagiarismOutcomesMeter,{key:"plagiarism-counter",className:j.a.joinClasses([Jd.plagiarismScore,Jd.actionIconTeaserLeft]),isChecking:t.checkingState.view((function(e){return"checking"===e})),count:n.getLens(Rc.a.SpecialId.Plagiarism).view("percentile").view(Yd.a.fromRatio)}):g.createElement(xt.d.PlagiarismOutcomes,{className:u.view(Object(z.c)(j.a.joinClasses([Jd.actionIconTeaser,Jd.actionIconTeaserLeft]),Jd.actionIcon)),key:"plagiarism-icon"})}))));return g.createElement(v.a.Fragment,null,a.documentActions.view((function(e){return g.createElement(v.a.div,{className:u.view(Object(z.c)(Jd.outcomeDocumentActionsFull,Jd.outcomeDocumentActionsTeaser))},i.premiumLensButtonInFooter?g.createElement(v.a.Fragment,null,g.createElement(tp,{navigationViewModel:a,isSidebarOpen:u}),u.view((function(e){return e&&g.createElement("div",{className:Jd.buttonsDelimiter})}))):null,("available"===(t=e.proofit).kind||t.reason!==Xd.e.NotAvailable)&&g.createElement(v.a.Fragment,null,h,u.view((function(e){return e&&g.createElement("div",{className:Jd.buttonsDelimiter})}))),function(e){return"available"===e.kind||e.reason===Xd.d.EmptyDocument}(e.plagiarism)&&b);var t})))},tp=function(e){var t=e.isSidebarOpen,n=e.navigationViewModel,a=function(e){return function(){n.events.next({type:"switchToLens",id:e,focusFirst:!0,actionSource:Qt.b.sidebar})}},r=t.view(Object(z.c)(Qd.b,ap));return g.createElement(v.a.Fragment,null,r.view((function(e){return g.createElement(v.a.Fragment,null,n.premiumButtonData.view(O.g.fold((function(){return g.createElement(e,{id:Rc.a.SpecialId.FreePremiumAlerts,name:"lens-free-premium",activeLensId:n.activeLensId,data:n.freePremiumButtonData,onClick:a(Rc.a.SpecialId.FreePremiumAlerts)})}),(function(){return g.createElement(e,{id:Rc.a.SpecialId.Premium,name:"lens-premium",activeLensId:n.activeLensId,data:n.premiumButtonData,onClick:a(Rc.a.SpecialId.Premium)})}))))})))},np={counterWrapper:Jd.premiumCounterWrapper,counterContent:Jd.premiumCounterContent},ap=function(e){var t=e.id,n=e.data,a=e.name,r=e.onClick;return g.createElement(v.a.Fragment,null,n.view(Object(b.flow)(O.g.map((function(e){return g.createElement(Qd.a,{className:Jd.premiumButton,id:t,key:e.id,name:a,onClick:r},g.createElement(v.a.Fragment,null,e.alerts.view((function(e){return g.createElement(Zd.a.OutcomeCounter,{theme:np,count:e})}))))})),O.g.toNullable)))},rp=n("mxxk"),ip={opacity:1},op=j.a.stylesheet({baseNavigationLoader:[ip],checkingInStart:[dd.d,ip],checkingInEnd:[dd.c,ip],checkingOutStart:[dd.f,ip],checkingOutEnd:[dd.e,ip],checkingStart:[{opacity:.99}],checkingEnd:[{opacity:1,transition:"opacity .01s"}],hideStart:[{pointerEvents:"none"}],hideEnd:[{opacity:0,transition:"opacity .01s",pointerEvents:"none"}]}),sp=n("H2Tl"),cp=n("Vs1e"),lp=n("PKYJ"),up={overflowY:"hidden"},dp={marginLeft:j.a.rem(-4),paddingLeft:j.a.rem(4),height:j.a.percent(100)},pp={zIndex:j.d.level2},mp={marginTop:j.a.rem(j.d.sidebarHeaderHeight),paddingTop:0,$nest:{"&:before":{position:"absolute",top:j.a.rem(-4),width:"100%",height:j.a.rem(4),boxShadow:lp.a.z100,content:"",pointerEvents:"none"}}},fp={background:Pe.a.CoreNeutral0,color:Pe.a.CoreNeutral90},hp={width:j.a.rem(j.d.navigationWidth),boxShadow:lp.a.z100,$nest:Object(u.a)({},Ne.a.xs,{width:j.a.rem(j.d.navigationWidthXs)})},gp={boxShadow:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 1px 3px rgba(0, 0, 0, .15)"},bp={marginTop:j.a.rem(-4),paddingTop:j.a.rem(4),height:"calc(100% + ".concat(j.a.rem(4),")"),boxShadow:"none"},vp={padding:j.a.rem(1)},yp={boxShadow:"none"},Op={zIndex:j.d.level2},Sp={position:"relative",zIndex:j.d.level2,height:"100%"},Cp={marginTop:j.a.rem(-.4)},wp=j.a.stylesheet({fullHeightLoaderNavigation:[up],fullHeightLoader:[up,dp],navigationWrapper:[pp],navigationWrapperHidden:[{width:0,pointerEvents:"none"}],navigationLoaderWrapper:[pp,{position:"absolute",right:0}],navigationLoaderWithToolbar:[mp],baseWrapper:[fp],wrapper:[fp,hp],oggyWrapper:[fp,hp,gp],oggyLoaderWrapperNoShadow:[fp,hp,bp,vp,yp],loaderWrapper:[fp,hp,bp],loaderWrapperNoShadow:[fp,hp,bp,yp],narrowWrapper:[fp,hp,Op],oggyNarrowWrapper:[fp,hp,Op,gp],lensesAnimationWrapper:[Sp],onboardingNotification:[Cp],ensureClickable:[{pointerEvents:"auto"}]}),kp=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return n}(Fd.a);function Ep(e,t){var n;return e&&e.isSidebarOpen!==t.isSidebarOpen&&t.navigationSource!==Sl.c.forceSidebar?(null===(n=e)||void 0===n?void 0:n.isSidebarOpen)?{prev:{start:{base:dd.a.navigationLeaveRightStart},end:{base:dd.a.navigationLeaveRight}},next:{start:{},end:{}}}:{prev:{start:{},end:{}},next:{start:{base:dd.a.navigationEnterLeftStart},end:{base:dd.a.navigationEnterLeft}}}:{prev:{start:{},end:{}},next:{start:{},end:{}}}}function jp(e){var t=e.navigationViewModel,n=e.checkingState,a=e.children,r=e.isOggy,i=_.a.useElWatcher(),o=i.ref,s=i.onMount,c=t.state.view("isSidebarOpen");return _.a.useSubscriptionTo(Object(b.pipe)(o,x.b.compact,x.a.switchMap((function(e){return t.state.view("isSidebarOpen").pipe(x.a.tap((function(t){return t?e.removeAttribute("inert"):e.setAttribute("inert","true")})))})))),g.createElement(kp,{state:t.state.pipe(x.a.distinctUntilChanged((function(e,t){return e.isSidebarOpen===t.isSidebarOpen}))),stateToClassMapper:Ep,onMount:s,className:A.b.chooseWhen(c)(wp.navigationWrapper,wp.navigationWrapperHidden)},(function(e){var t=e.state,i=e.view;return t.isSidebarOpen?g.createElement(v.a.div,Object(p.a)({key:"sidebar","data-name":r?"oggy-wrapper":void 0},Object(be.c)(i.pipe(x.a.map((function(e){return e.base}))),c.view((function(e){return e?r?wp.oggyWrapper:wp.wrapper:r?wp.oggyNarrowWrapper:wp.narrowWrapper})))),r?a:n.view((function(e){return"full"===e?null:a}))):null}))}(Dd=jp||(jp={})).Loader=function(e){var t=e.baseLoaderClass,n=e.state,a=e.showToolbar,r=e.isOggy;return g.createElement(Kd,{state:n.view("navigation"),theme:op},g.createElement(v.a.div,Object(be.c)(wp.navigationLoaderWrapper,t,a.view((function(e){return e&&!r&&j.a.joinClasses([wp.navigationLoaderWithToolbar])}))),g.createElement(v.a.div,{className:n.view("lens").view(O.g.fold((function(){return wp.fullHeightLoader}),(function(e){return e===sl.a.Type.checkingOut?wp.fullHeightLoaderNavigation:wp.fullHeightLoader})))},g.createElement(v.a.div,{className:r?wp.oggyLoaderWrapperNoShadow:n.view("lens").view(O.g.fold((function(){return wp.loaderWrapperNoShadow}),(function(e){return e===sl.a.Type.checkingOut?wp.loaderWrapperNoShadow:wp.loaderWrapper})))},r?g.createElement($d.c,null):g.createElement(sp.a,null)))))},Dd.Content=function(e){var t=e.denaliViewModels,n=t.lensPreviewViewModel,a=t.cheetahViewModel,r=t.navigationViewModel,i=t.proofitViewModel,o=t.documentLoader,s=e.documentModel,c=e.plagiarismModel,l=e.modalManager,u=e.features;return g.createElement(rp.b,null,g.createElement(cp.a,{documentModel:s,isIdle:o.state.view(sl.a.State.isIdle),modalManager:l,navigationViewModel:r,cheetahViewModel:a,features:u}),O.g.isSome(u.denali.oggy)?g.createElement("div",{style:{height:"100%"}}):g.createElement(rp.a,{navigationViewModel:r,features:u,renderLensButtons:rp.c}),r.state.view("isSidebarOpen").view(Object(z.c)(g.createElement(ep,{plagiarismModel:c,proofitViewModel:i,lensPreviewVM:n,features:u,navigationViewModel:r}),null)))};var _p,xp,Ap=n("WRJe"),Ip=n("jY3z"),Tp=n("S6rj"),Mp=(n("Rqkq"),n("Kz57")),Pp=function(e){var t=e.desc,n=g.useContext(pe.a.Context);return g.createElement(xt.d.CheckmarkOutcomes,{role:"figure",title:n.proofitOrderModal.promo.step3.header.editingOptions.checkedLabel,desc:t,className:Mp.optionCheckedIcon,width:16})},Np=function(e){var t=e.option,n=t.title,a=t.description,r=t.availableInCorrectness,i=t.availableInClarity,o=t.isNew,s=g.useContext(pe.a.Context).proofitOrderModal.promo;return g.createElement("tr",{className:Mp.option},g.createElement("th",{className:Mp.optionCell},g.createElement(ye.Typography.Base,{className:Mp.optionTitle},g.createElement("span",{className:Mp.optionTitleTextWithBadge},n,o&&g.createElement(Ip.a.New,null)),Object(de.pipe)(a,O.g.mapOrDefault((function(e){return g.createElement(ve.a,{title:e,align:"right"},g.createElement(xt.d.QuestionMark,{className:Mp.questionMarkIcon}))}),null)))),g.createElement("td",{className:Mp.optionChecked},r?g.createElement(Pp,{desc:s.step3.header.editingOptions.featureIsAvailable(n,s.step3.header.correctness.h1)}):g.createElement(Tp.a,null,s.step3.header.editingOptions.unavailable)),g.createElement("td",{className:Mp.optionChecked},i?g.createElement(Pp,{desc:s.step3.header.editingOptions.featureIsAvailable(n,s.step3.header.correctnessClarity.h1)}):g.createElement(Tp.a,null,s.step3.header.editingOptions.unavailable)))},Dp=function(e){var t=e.title,n=e.description,a=e.className;return g.createElement("th",{className:a},g.createElement(ye.Typography.Base,{className:Mp.columnTitle},t),g.createElement(ye.Typography.Small,{className:Mp.columnDescription},n))},Bp=function(){var e=g.useContext(pe.a.Context).proofitOrderModal.promo.step3,t=[{title:e.spelling.h1,description:O.g.none,availableInCorrectness:!0,availableInClarity:!0,isNew:!1},{title:e.grammar.h1,description:O.g.none,availableInCorrectness:!0,availableInClarity:!0,isNew:!1},{title:e.punctuation.h1,description:O.g.none,availableInCorrectness:!0,availableInClarity:!0,isNew:!1},{title:e.conciseness.h1,description:O.g.some(e.conciseness.h2),availableInCorrectness:!1,availableInClarity:!0,isNew:!1},{title:e.preciseness.h1,description:O.g.some(e.preciseness.h2),availableInCorrectness:!1,availableInClarity:!0,isNew:!1},{title:e.focus.h1,description:O.g.some(e.focus.h2),availableInCorrectness:!1,availableInClarity:!0,isNew:!0},{title:e.flow.h1,description:O.g.some(e.flow.h2),availableInCorrectness:!1,availableInClarity:!0,isNew:!0}];return g.createElement("table",{className:Mp.optionsTable},g.createElement("thead",null,g.createElement("tr",null,g.createElement("th",{className:Mp.optionsTableColumn1},g.createElement(Tp.a,null,e.header.features)),g.createElement(Dp,{title:e.header.correctness.h1,description:e.header.correctness.h2,className:Mp.optionsTableColumn2}),g.createElement(Dp,{title:e.header.correctnessClarity.h1,description:e.header.correctnessClarity.h2,className:Mp.optionsTableColumn3}))),g.createElement("tbody",null,t.map((function(e){return g.createElement(Np,{option:e,key:"proofit-option-".concat(e.title)})}))))};(xp=_p||(_p={})).Dots=function(){return g.createElement("svg",{"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},g.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(16 16)"},g.createElement("circle",{cx:"10",cy:"10",r:"26",fill:"#EFF4FF"}),g.createElement("circle",{cx:"10",cy:"10",r:"18",fill:"#DCE7FF"}),g.createElement("circle",{cx:"10",cy:"10",r:"9",fill:"#9DBBFF"})))},xp.PathFrom1To2=function(){return g.createElement("svg",{"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 314 99"},g.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#EBF0FF",strokeWidth:"2",d:"M1 0v58c0 8.837 7.163 16 16 16h280c8.837 0 16 7.163 16 16V89"}))},xp.PathFrom2To3=function(){return g.createElement("svg",{"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 314 49"},g.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#EBF0FF",strokeWidth:"2",d:"M313 0v8.5c0 8.837-7.163 16-16 16H17c-8.837 0-16 7.163-16 16v8.054"}))},xp.Illustration=function(){return g.createElement("svg",{viewBox:"0 0 432 296",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},g.createElement("defs",null,g.createElement("path",{d:"M562,3 C562,83 430.204272,225.039762 318.380193,227 C251.656819,228.169638 194.76078,245.646649 156.426437,283 C122.849899,315.7173 28.718061,288.818016 12.9452193,301.609489 C-20.6124065,328.824083 12.9452193,419 94.3182261,362.425988 C175.691233,305.851977 173.663757,404.669157 238.24,392.399927 C269.889017,386.386739 323.865886,388.63911 362.242863,396.392987 C511.421672,426.533823 511.844211,635.1185 548,615.5 C605.82398,584.124119 562,-42.6094389 562,3 Z",id:"path-1"}),g.createElement("path",{d:"M19.3089215,7.937541 C17.6497662,9.75781021 11.3030739,19.3772256 10.9573251,21.58956 C10.6111662,23.8014846 9.82369558,40.4892442 10.9573251,40.6740835 C12.0905445,40.8589229 15.6173464,40.6740835 15.6173464,40.6740835 C15.6173464,40.6740835 17.6217051,25.3197123 18.1934416,23.656568 C18.7647679,21.9934237 27.4076677,15.0137914 31.660419,10.9481454 C35.9135805,6.88290921 34.064255,2.91029763 34.064255,2.91029763 L20.0579422,0.319267969 C20.0579422,0.319267969 7.57079144,7.18291455 1.97728943,15.2236312 C-0.695188878,19.0655028 0.323601194,33.676828 0.323601194,33.676828 C0.323601194,33.676828 3.2155049,34.1965094 4.57799307,33.1940326 C4.94794019,29.6824948 5.23339828,24.3360883 6.50155404,20.4544619 C6.66437999,19.9565022 6.94286568,19.5048549 7.32921843,19.1507502",id:"path-3"}),g.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-5"},g.createElement("stop",{stopColor:"#B6CAFF",offset:"0%"}),g.createElement("stop",{stopColor:"#7CA1FF",offset:"100%"})),g.createElement("path",{d:"M0.260606478,48.0753261 L12.1340822,48.0753261 C17.114047,57.187615 26.7976771,63.3697253 37.9276223,63.3697253 C54.1444201,63.3697253 67.2907322,50.2452817 67.2907322,34.0554601 C67.2907322,25.5804005 63.6882211,17.9453528 57.9285812,12.593295 L57.9285812,0.815669031 C68.6856756,7.78180737 75.8017785,19.8765665 75.8017785,33.6306157 C75.8017785,55.2170445 58.2733624,72.7163027 36.6509653,72.7163027 C20.1393555,72.7163027 6.01510052,62.5118246 0.260610064,48.0753266 Z",id:"path-6"}),g.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-8"},g.createElement("stop",{stopColor:"#B6CAFF",offset:"0%"}),g.createElement("stop",{stopColor:"#7CA1FF",offset:"100%"}))),g.createElement("g",{id:"Page-1",fill:"none",fillRule:"evenodd"},g.createElement("g",{id:"Initial---Proofread-02-08",transform:"translate(-288 -265)"},g.createElement("g",{id:"Popup",transform:"translate(288 60)"},g.createElement("g",{id:"Left",transform:"translate(0 68)"},g.createElement("g",{transform:"translate(-28 -27)",id:"Illustration"},g.createElement("g",{id:"Group-3"},g.createElement("mask",{id:"mask-2",fill:"#fff"},g.createElement("use",{xlinkHref:"#path-1"})),g.createElement("use",{id:"Oval-5",fill:"#F5F5FF",xlinkHref:"#path-1"}),g.createElement("path",{d:"M146.788506,257.081856 L280.453567,257.081856 C287.080984,257.081856 292.453567,262.454439 292.453567,269.081856 L292.453567,390.02113 L134.788506,372.12887 L134.788506,269.081856 C134.788506,262.454439 140.161089,257.081856 146.788506,257.081856 Z",id:"Rectangle",fill:"#E4E6F2",mask:"url(#mask-2)"})),g.createElement("ellipse",{id:"Oval",fill:"#F1F2FA",cx:"130.315",cy:"408.986",rx:"43.706",ry:"5.763"}),g.createElement("ellipse",{id:"Oval",fill:"#F1F2FA",cx:"329.556",cy:"436.032",rx:"75.885",ry:"12.968"}),g.createElement("g",{id:"Paper",transform:"translate(131.678 263.563)"},g.createElement("path",{d:"M8,0 L144.952351,-3.01980663e-14 C149.370629,-3.10096908e-14 152.952351,3.581722 152.952351,8 L152.952351,126.001947 C152.952351,130.386158 149.423632,133.953611 145.039682,134.001471 L70.9944988,134.809829 L0,112.933059 L0,8 C-5.41083001e-16,3.581722 3.581722,8.11624501e-16 8,0 Z",id:"Rectangle",fill:"#FFF"}),g.createElement("path",{d:"M25.1170739,54.1515434 C24.314287,54.1515434 23.6634997,53.5038202 23.6634997,52.7048131 C23.6634997,51.905806 24.314287,51.2580827 25.1170739,51.2580827 L128.391903,51.2580827 C129.19469,51.2580827 129.845477,51.905806 129.845477,52.7048131 C129.845477,53.5038202 129.19469,54.1515434 128.391903,54.1515434 L25.1170739,54.1515434 Z M25.1170739,65.002021 C24.314287,65.002021 23.6634997,64.3542978 23.6634997,63.5552907 C23.6634997,62.7562835 24.314287,62.1085603 25.1170739,62.1085603 L76.1646321,62.1085603 C76.967419,62.1085603 77.6182064,62.7562835 77.6182064,63.5552907 C77.6182064,64.3542978 76.967419,65.002021 76.1646321,65.002021 L25.1170739,65.002021 Z M71.0771224,42.9393832 C70.2743355,42.9393832 69.6235482,42.29166 69.6235482,41.4926529 C69.6235482,40.6936458 70.2743355,40.0459225 71.0771224,40.0459225 L128.391903,40.0459225 C129.19469,40.0459225 129.845477,40.6936458 129.845477,41.4926529 C129.845477,42.29166 129.19469,42.9393832 128.391903,42.9393832 L71.0771224,42.9393832 Z M25.1170739,75.8524986 C24.314287,75.8524986 23.6634997,75.2047754 23.6634997,74.4057682 C23.6634997,73.6067611 24.314287,72.9590379 25.1170739,72.9590379 L128.391903,72.9590379 C129.19469,72.9590379 129.845477,73.6067611 129.845477,74.4057682 C129.845477,75.2047754 129.19469,75.8524986 128.391903,75.8524986 L25.1170739,75.8524986 Z M25.1170739,30.3457684 C24.314287,30.3457684 23.6634997,29.6980452 23.6634997,28.8990381 C23.6634997,28.100031 24.314287,27.4523077 25.1170739,27.4523077 L128.391903,27.4523077 C129.19469,27.4523077 129.845477,28.100031 129.845477,28.8990381 C129.845477,29.6980452 129.19469,30.3457684 128.391903,30.3457684 L25.1170739,30.3457684 Z M25.1170739,86.7029762 C24.314287,86.7029762 23.6634997,86.0552529 23.6634997,85.2562458 C23.6634997,84.4572387 24.314287,83.8095155 25.1170739,83.8095155 L58.7217415,83.8095155 C59.5245284,83.8095155 60.1753157,84.4572387 60.1753157,85.2562458 C60.1753157,86.0552529 59.5245284,86.7029762 58.7217415,86.7029762 L25.1170739,86.7029762 Z",id:"Combined-Shape",fill:"#E4E6F2",fillRule:"nonzero"}),g.createElement("path",{d:"M64.5360384,86.7029762 C63.7332515,86.7029762 63.0824642,86.0552529 63.0824642,85.2562458 C63.0824642,84.4572387 63.7332515,83.8095155 64.5360384,83.8095155 L87.7932259,83.8095155 C88.5960128,83.8095155 89.2468001,84.4572387 89.2468001,85.2562458 C89.2468001,86.0552529 88.5960128,86.7029762 87.7932259,86.7029762 L64.5360384,86.7029762 Z M25.1170739,42.9393832 C24.314287,42.9393832 23.6634997,42.29166 23.6634997,41.4926529 C23.6634997,40.6936458 24.314287,40.0459225 25.1170739,40.0459225 L64.5360384,40.0459225 C65.3388253,40.0459225 65.9896126,40.6936458 65.9896126,41.4926529 C65.9896126,42.29166 65.3388253,42.9393832 64.5360384,42.9393832 L25.1170739,42.9393832 Z M81.978929,65.002021 C81.1761421,65.002021 80.5253548,64.3542978 80.5253548,63.5552907 C80.5253548,62.7562835 81.1761421,62.1085603 81.978929,62.1085603 L128.391903,62.1085603 C129.19469,62.1085603 129.845477,62.7562835 129.845477,63.5552907 C129.845477,64.3542978 129.19469,65.002021 128.391903,65.002021 L81.978929,65.002021 Z",id:"Combined-Shape",fill:"#EC5050",fillRule:"nonzero"})),g.createElement("g",{id:"Man-w-Pencil",transform:"translate(85.83 290.871)"},g.createElement("g",{id:"Pencil",transform:"rotate(-20 53.447 9.198)"},g.createElement("polygon",{id:"Fill-7",fill:"#6089F3",points:"42.7306681 76.025911 38.0871006 78.5584871 5.7923657 19.3303867 10.4363805 16.7978106"}),g.createElement("polygon",{id:"Fill-9",fill:"#7CA1FF",points:"47.3737436 73.4936929 42.7306234 76.0258215 10.4363358 16.7981685 15.0799033 14.2651451"}),g.createElement("polygon",{id:"Fill-14",fill:"#A2BCFF",points:"52.0172216 70.9610721 47.3736541 73.4936481 15.0798138 14.2655477 19.7233813 11.7329717"}),g.createElement("path",{d:"M52.6528102,81.32316 L53.0585241,87.968432 C53.0938619,88.6260697 52.3455054,89.0345208 51.8190167,88.6444119 L46.4534843,84.7044018 L52.6528102,81.32316 Z",id:"Fill-16",fill:"#EC5050"}),g.createElement("polygon",{id:"Fill-19",fill:"#FFF",points:"19.7232471 11.7331059 5.79254463 19.3299393 3.91695668 15.889197 17.8467646 8.29191616"}),g.createElement("path",{d:"M17.8466304,8.29178195 L3.91682248,15.8890627 L0.608487518,9.82269085 C-0.349659249,8.06406932 0.298051544,5.86165421 2.05644321,4.90293482 L9.61962974,0.777712456 C11.3780214,-0.181006937 13.5801486,0.4672359 14.5387427,2.22496268 L17.8466304,8.29178195 Z",id:"Fill-21",fill:"#FFC2C2"})),g.createElement("g",{id:"Foots",transform:"translate(20.342 66.04)"},g.createElement("path",{d:"M22.9728849,46.0241608 C22.9728849,46.0241608 21.9372998,46.5011779 20.2725812,46.4607201 L20.3172716,49.3228228 C20.3172716,49.3228228 21.4903955,49.511626 22.2682401,49.3659778 L22.5687447,48.62926 L23.2051981,49.4106741 C23.2051981,49.4106741 26.9314554,49.9512678 28.8535292,49.7882806 C28.8535292,49.7882806 29.0738993,48.9529226 28.1581307,48.5676099 C27.2419769,48.1826825 25.1542403,47.6494098 24.5624773,47.2259511 C23.9703291,46.8024925 22.9728849,46.0241608 22.9728849,46.0241608",id:"Fill-23",fill:"#3B3E4D"}),g.createElement("path",{d:"M4.13320993,43.43983 C4.13320993,43.43983 3.0267365,43.166258 1.7511329,42.095474 L-0.000269683636,44.3588008 C-0.000269683636,44.3588008 0.79837914,45.238855 1.49685976,45.6110671 L2.19148775,45.2226718 L2.20073405,46.2302646 C2.20073405,46.2302646 4.77428646,48.9794707 6.37736304,50.0517959 C6.37736304,50.0517959 7.07160577,49.5370181 6.59657731,48.6646702 C6.12116358,47.7915516 4.82321477,46.071901 4.62480467,45.3714026 C4.42677983,44.6705188 4.13320993,43.43983 4.13320993,43.43983",id:"Fill-27",fill:"#3B3E4D"}),g.createElement("path",{d:"M7.77756387,2.8459536 C4.72919113,8.61268399 11.8341253,20.6008102 14.5745244,24.8489352 L14.5745244,24.8489352 C15.2562232,25.9060036 15.7062805,27.095158 15.8990002,28.3419567 L15.8990002,28.3419567 L18.6223946,45.4535629 L23.2922583,44.4736081 C23.2922583,44.4736081 23.8662608,28.355318 23.2079906,24.1999585 L23.2079906,24.1999585 C22.5497205,20.0438355 21.233558,6.05724289 21.233558,6.05724289 L21.233558,6.05724289 C21.233558,6.05724289 15.8555438,0.360372931 11.5612947,0.360372931 L11.5612947,0.360372931 C10.0841546,0.360372931 8.73511643,1.03454517 7.77756387,2.8459536",id:"Fill-33",fill:"#C6CBDE"}),g.createElement("path",{d:"M6.76242072,28.533 C6.07445196,30.0274634 1.70046824,40.3121095 1.70046824,40.3121095 L6.66086342,43.2651117 C6.66086342,43.2651117 14.3506694,30.8491914 15.3564142,27.5225733 C18.010205,20.3519742 22.5283497,6.65570873 20.917261,3.88569821 C20.917261,3.88569821 17.7020601,3.3933421 14.1358546,3.3933421 C9.65376155,3.39372025 4.61801741,4.17120425 4.71817068,7.68047057 C4.89882098,13.9816456 7.45038948,27.0389147 6.76242072,28.533 Z",id:"Clip-37",fill:"#E4E6F2"}),g.createElement("path",{d:"M15.8990002,28.3419567 L18.6223946,45.4535629 L23.2922583,44.4736081 C23.2922583,44.4736081 23.8662608,28.355318 23.2079906,24.1999585 C22.9678434,22.6837403 22.6401371,19.8591813 22.3207189,16.8826816",id:"Fill-33",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M4.38018352,7.17986789 C4.43184215,9.38630245 4.71940381,12.415885 5.04863335,15.492005 C5.66561059,21.2566637 6.42892078,27.1847565 6.06024614,28.1651834 C5.49484045,29.6691633 1.90009107,40.0193007 1.90009107,40.0193007 L5.97678149,42.9911073 C5.97678149,42.9911073 13.5016783,30.5767367 14.3282476,27.2289352 C15.8990002,24.0434641 17.0905734,21.1594864 17.9675545,17.6725218",id:"Clip-37",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),g.createElement("g",{id:"Group-53",transform:"translate(23.743 31.196)"},g.createElement("path",{d:"M5.88330653,16.7886512 C7.71829147,14.4054718 11.7570817,13.3014505 14.1361803,16.3023169 C17.4145376,20.4378064 18.8620539,42.1072252 18.6917335,47.5251683 C18.6917335,47.5251683 6.00348395,47.8151799 0,46.8961822 C0,46.8961822 2.46653803,21.226393 5.88330653,16.7886512",id:"Fill-39",fill:"#FFF"}),g.createElement("path",{d:"M18.6917335,39.5094009 L18.6917335,47.5251683 C18.6917335,47.5251683 6.00348395,47.8151799 0,46.8961822 C0,46.8961822 2.46653803,21.226393 5.88330653,16.7886512",id:"Fill-39",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M14.9421691,6.41326474 C14.9962749,6.53196769 15.0809118,6.73057424 15.1705729,6.94454687 C15.3603297,7.397462 15.7529832,7.70132618 16.1916267,7.92567091 C16.2426408,7.95140909 16.278969,7.98713522 16.2901766,8.03592251 C16.3160701,8.14771073 16.1672791,8.35745768 15.9995511,8.5499178 C15.7522103,8.83572684 15.6629357,9.22256784 15.7553021,9.58828048 C15.9381024,10.3108703 16.1576174,11.4456551 15.8101808,11.6784512 C15.2923109,12.0257245 13.5605386,12.6253857 13.5605386,12.6253857 L13.0909775,15.5234279 C13.0909775,15.5234279 12.4730119,16.4661367 9.75651385,15.8707012 C8.83671512,15.6694056 8.451018,15.2871744 8.451018,15.2871744 L8.80541104,12.4456026 C8.80541104,12.4456026 6.16929879,9.67471467 7.54088102,6.97796808 C8.91284972,4.28045319 13.6583155,3.58244913 14.9421691,6.41326474",id:"Fill-41",fill:"#FFF"}),g.createElement("path",{d:"M8.86995889,8.11469929 C9.21616083,7.20911238 11.7652159,6.145276 13.841969,5.96876698 C15.917805,5.79225796 18.9854752,3.72675465 18.028032,2.76073731 C17.0701302,1.79471997 14.8594818,1.50474087 14.2207277,1.6855974 C13.5815151,1.86688868 14.5687638,0.307870601 13.5310751,0.190053005 C12.4929278,0.0722354085 6.21910668,1.50126286 5.62162174,4.7505939 C4.94022295,8.45510954 6.59144572,11.67053 8.8589538,12.9252222 L8.79521596,11.3579438 C8.79521596,11.3579438 6.91151056,10.5271341 7.1793012,9.5476395 C7.34942162,8.92507567 8.18168192,9.13940805 8.56502606,9.52590193 C8.56502606,9.52590193 8.74064903,8.45337053 8.86995889,8.11469929",id:"Fill-45",fill:"#3B3E4D"}),g.createElement("path",{d:"M22.1015227,32.9159145 C22.9821402,33.1976128 26.5951289,32.8827012 26.9494449,32.731806 C27.555489,32.4738901 27.4128144,32.2475474 27.4128144,32.2475474 C28.0925666,32.0560582 28.0214448,31.655448 28.0214448,31.655448 C28.7339561,31.2376161 27.8498903,31.0022524 27.8498903,31.0022524 C28.4878315,30.2088228 26.7028892,30.2289148 26.1843465,30.300262 C25.9033075,30.3388059 24.6748396,30.3215841 24.6748396,30.3215841 C24.6748396,30.3215841 24.7382027,30.0296348 25.053725,29.811903 C25.3024359,29.6405058 25.8597723,29.5023219 26.0317578,29.034875 C26.1472769,28.7220136 24.1950906,29.3026319 23.5226661,29.7134931 C22.9812781,30.0443963 22.1105746,31.1535576 22.1105746,31.1535576 L16.7876448,30.0800699 L15.6165055,32.6235552 L22.1015227,32.9159145 Z",id:"Fill-47",fill:"#FFF"}),g.createElement("path",{d:"M13.9235043,20.3536067 C13.7079836,22.6699292 14.0597134,26.8658803 14.566618,27.8548996 M17.4433881,33.6118774 C17.4433881,33.6118774 12.4351185,32.5711929 11.3368251,31.4837638 C9.57731428,29.7410889 6.91261659,24.0698097 7.28288112,20.0723185 C7.53719552,17.3283231 10.6174171,15.5606357 12.440291,16.8022403",id:"Fill-49",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M17.2332067,35.5617231 C17.2332067,35.5617231 18.6601238,35.9953446 19.5185243,35.786864 C19.5185243,35.786864 20.0910119,31.1840821 19.2306259,30.0664823",id:"Fill-51",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),g.createElement("g",{id:"Man-on-the-ladder",transform:"translate(324.404 272.184)"},g.createElement("g",{id:"Ladder",transform:"translate(0 53.704)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"},g.createElement("path",{d:"M42.2873305,0.458915597 L63.6754936,103.759193",id:"Path-3",stroke:"#8189A9"}),g.createElement("path",{d:"M32.9242085,34.1090085 L44.562667,103.759193",id:"Path-3",stroke:"#8189A9"}),g.createElement("path",{d:"M32.9242085,8.08373708 L16.0882387,103.759193",id:"Path-3",stroke:"#C6CBDE"}),g.createElement("path",{d:"M18.1687635,14.8540285 L0.61595046,103.759193",id:"Path-3",stroke:"#C6CBDE"}),g.createElement("path",{d:"M0.910134603,95.109066 L14.1070863,95.109066",id:"Path-4",stroke:"#C6CBDE"}),g.createElement("path",{d:"M48.237134,95.109066 L61.4340857,95.109066",id:"Path-4",stroke:"#8189A9"}),g.createElement("path",{d:"M33.6749803,22.2982978 L46.8719321,22.2982978",id:"Path-4",stroke:"#8189A9"}),g.createElement("path",{d:"M4.55067302,79.6367778 L17.7476248,79.6367778",id:"Path-4",stroke:"#C6CBDE"}),g.createElement("path",{d:"M10.0114806,65.0746241 L23.2084324,65.0746241",id:"Path-4",stroke:"#C6CBDE"}),g.createElement("path",{d:"M10.0114806,50.5124705 L23.2084324,50.5124705",id:"Path-4",stroke:"#C6CBDE"}),g.createElement("path",{d:"M12.7418844,35.0401822 L25.9388362,35.0401822",id:"Path-4",stroke:"#C6CBDE"})),g.createElement("g",{id:"Group-26",transform:"translate(6.502 20.418)"},g.createElement("path",{d:"M9.75957787,4.94046636 C9.70096056,4.96496089 7.92645459,4.90005037 7.38004284,5.42586642 C7.07670849,5.72388328 4.6406057,5.16132543 4.27578465,5.44342084 C4.03885593,5.62141447 3.76708474,5.80675646 3.48383604,5.97291107 C3.21083512,5.87901535 1.43263995,5.25317994 1.09241358,2.89803026 C1.66956868,2.83434446 0.252505354,2.4861138 0.252505354,2.4861138 C1.04814317,2.24198492 1.29572958,1.88477293 0.612817377,1.15810168 C0.471807893,1.00827677 0.353753442,0.462865091 0.428357297,0.257519227 C0.530425208,-0.0449882986 0.861633529,0.0272705839 1.0313368,0.27425716 C1.86878556,1.45407733 2.9193882,1.53613403 3.80889569,2.4175291 C3.86259407,2.46366048 8.4716366,3.5589745 8.61141635,3.48385792 C9.60053229,2.9090528 10.7417253,4.47180423 9.75957787,4.94046636",id:"Fill-16",fill:"#E4E6F2"}),g.createElement("path",{d:"M19.1178936,61.1367709 C18.9617174,59.9696062 18.3821028,57.9504399 18.3821028,57.9504399 L16.5395516,58.1945688 C16.5395516,58.1945688 16.1427574,58.8383669 14.7556176,59.2437515 C13.3705274,59.6536267 11.7304723,59.3119279 10.9135191,59.6287239 C10.4413013,59.8095752 10.2392151,60.6517791 10.1478049,61.330686 C10.128539,61.4809191 10.1150119,61.6229874 10.1059939,61.7487261 C10.0863182,62.0144918 10.2998819,62.2398415 10.5683738,62.2382085 C12.3908394,62.2275942 18.7665996,62.1712568 19.0773124,61.9287609 C19.1724118,61.8569103 19.171592,61.5486873 19.1178936,61.1367709",id:"Fill-18",fill:"#3B3E4D"}),g.createElement("path",{d:"M16.024744,55.4544875 L16.2956954,58.3966896 C16.343655,58.9176067 16.7711924,59.3229913 17.2962888,59.3446281 C17.8845115,59.3695309 18.3780447,58.9061759 18.3882925,58.3195318 L18.4374818,55.4508133 L16.024744,55.4544875 Z",id:"Fill-20",fill:"#FBD4C1"}),g.createElement("path",{d:"M9.41693303,53.5304825 C9.00251271,52.4274118 7.98470298,50.5886886 7.98470298,50.5886886 L6.24339983,51.2365691 C6.24339983,51.2365691 6.00073235,51.9526261 4.74025513,52.6564358 C3.48182748,53.3643279 1.80652004,53.3957625 1.08138697,53.8864697 C0.662047722,54.1681569 0.653439585,55.0336305 0.716565924,55.7158034 C0.732142553,55.8664448 0.750588561,56.0081048 0.769854391,56.133027 C0.81084552,56.3963432 1.06990945,56.5682132 1.33020312,56.5069769 C3.10429918,56.0905698 9.30625698,54.6172234 9.55466322,54.3110417 C9.63090672,54.2200037 9.56163171,53.9199456 9.41693303,53.5304825",id:"Fill-22",fill:"#3B3E4D"}),g.createElement("path",{d:"M5.12647355,48.6801968 L6.05123342,51.4880872 C6.21478802,51.984918 6.72266811,52.2845679 7.23833651,52.1890392 C7.81795107,52.0820797 8.19506946,51.5207466 8.07291589,50.9467579 L7.47731479,48.1396841 L5.12647355,48.6801968 Z",id:"Fill-24",fill:"#FFF"})),g.createElement("g",{id:"Pants",transform:"translate(11.147 37.124)"},g.createElement("path",{d:"M1.97728943,15.6736851 C-0.695188878,19.5155567 0.323601194,35.5397524 0.323601194,35.5397524 C0.323601194,35.5397524 3.2155049,36.0594337 4.57799307,35.0569569 C4.94794019,31.5454191 5.23339828,26.1990126 6.50155404,22.3173862 C6.66437999,21.8194265 7.28479942,19.3389047 7.67115217,18.9848 L14.5536139,14.3084832 C13.4338227,16.1287524 11.2610683,19.7492958 10.9573251,23.3763675 C10.6111662,25.5882921 9.82369558,42.3521685 10.9573251,42.5370079 C12.0905445,42.7218472 15.6173464,42.5370079 15.6173464,42.5370079 C15.6173464,42.5370079 17.6217051,27.1826366 18.1934416,25.5194923 C18.7647679,23.856348 27.4076677,16.8767157 31.660419,12.8110697 C35.9135805,8.74583353 34.4643543,3.84193529 34.4643543,3.84193529 L20.0579422,2.18219229 C19.5823752,2.04419469 18.4615527,1.58713727 17.2986473,2.18219229 C13.2916383,4.23256619 7.237262,7.62135444 2.90194591,13.8534159 L1.97728943,15.6736851 Z",id:"pants",fill:"#E4E6F2"}),g.createElement("mask",{id:"mask-4",fill:"#fff"},g.createElement("use",{xlinkHref:"#path-3"})),g.createElement("use",{id:"pants",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",xlinkHref:"#path-3"})),g.createElement("g",{id:"Group-45",transform:"translate(11.963)"},g.createElement("path",{d:"M18.3145525,16.5980195 C20.3469798,14.9770238 24.6738011,16.4716869 22.9237479,20.3879993 C21.1741111,24.3043117 12.6000165,27.8383448 10.7108586,28.4741098 C8.82211722,29.1094646 1.8906237,27.745236 0.367552635,27.2009391 L0.483750837,23.8670694 L9.55720621,25.077484 C9.55720621,25.077484 16.1151163,18.3527309 18.3145525,16.5980195",id:"Fill-30",fill:"#F37878"}),g.createElement("path",{d:"M23.3314411,13.1776448 C23.3314411,13.1776448 28.3446231,14.308076 31.0792374,22.8437339 C33.8130188,31.379802 34.2586535,40.8075817 34.2586535,40.8075817 C34.2586535,40.8075817 24.8261915,42.569266 17.2645622,39.0967586 C17.2645622,39.0967586 16.8559943,23.8289646 17.8151501,17.3466225 C18.2353794,14.5037276 23.3314411,13.1776448 23.3314411,13.1776448",id:"Fill-32",fill:"#FFC2C2"}),g.createElement("path",{d:"M23.3314411,13.1776448 C23.3314411,13.1776448 28.3446231,14.308076 31.0792374,22.8437339 C33.8130188,31.379802 34.2586535,40.8075817 34.2586535,40.8075817 C34.2586535,40.8075817 24.8261915,42.569266 17.2645622,39.0967586",id:"Fill-32",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M16.8292146,4.5304204 C16.8292146,4.5304204 16.469375,6.32860994 16.4069028,7.1386976 C16.3448472,7.94960561 15.5389564,8.19037597 15.482315,8.44550232 C15.4331702,8.66371327 15.9741791,9.19570502 15.9741791,9.19570502 C15.9741791,9.19570502 16.1045376,11.5911035 16.8429585,12.2646042 C17.5817958,12.938105 18.9174504,12.6948736 18.9174504,12.6948736 L19.1964927,15.1887131 C19.1964927,15.1887131 18.926613,16.6181589 23.8806546,14.0094715 L23.609109,12.2412245 C23.609109,12.2412245 26.2462668,7.07471093 24.0755678,4.54723741 C21.9052852,2.01935372 16.8292146,4.5304204 16.8292146,4.5304204",id:"Fill-34",fill:"#FFF"}),g.createElement("path",{d:"M18.841276,5.5197938 C18.0924432,5.64776714 17.338196,5.76958792 16.5835324,5.68222151 C15.4211339,5.5480956 14.5515216,5.2810743 14.0629894,3.99231711 C13.1754683,1.64942052 14.3828468,0.250737514 14.3828468,0.250737514 C14.3828468,0.250737514 15.0071518,1.06574723 17.5989132,0.495609584 C19.1199018,0.160910072 22.0481798,0.417266928 24.183478,2.66664453 C27.2362838,5.88361545 25.0293509,11.2273229 23.6091507,12.2412655 L23.2538924,10.1046849 C23.2538924,10.1046849 23.8490437,9.87129763 24.0222998,9.33233297 C24.1918076,8.8048531 23.5679191,7.34505462 22.6566586,8.1563728 C21.7766342,8.94020952 22.3372177,11.4779373 21.2364583,12.3872864 C20.135699,13.2962252 17.0999689,13.2921235 16.4006973,12.1510279 C15.6485326,10.9237963 16.0433566,9.90780284 16.0433566,9.90780284 C16.0433566,9.90780284 17.8346414,9.51814042 19.3189797,10.2543973 C20.7670842,10.9721965 21.6625184,8.96071807 21.3784784,7.77163243 C21.1277568,6.72282526 20.1032135,5.30404387 18.841276,5.5197938",id:"Fill-36",fill:"#3B3E4D"}),g.createElement("path",{d:"M20.961183,18.9681961 C22.6955209,16.6950306 27.7604342,17.1340365 26.9664724,21.781086 C26.1725105,26.4281355 19.5968064,33.4712 17.7423812,34.6540771 C15.8893416,35.8374058 3.75867565,34.9756534 1.97029846,34.802219 L2.02895649,31.9626816 L15.1909877,31.3095925 C15.1909877,31.3095925 19.084126,21.4283456 20.961183,18.9681961",id:"Fill-43",fill:"#F37878"}),g.createElement("path",{d:"M15.1909877,31.3095925 C15.1909877,31.3095925 19.084126,21.4283456 20.961183,18.9681961 M26.9664724,21.781086 C26.1725105,26.4281355 19.5968064,33.4712 17.7423812,34.6540771 C15.8893416,35.8374058 3.75867565,34.9756534 1.97029846,34.802219",id:"Fill-43",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),g.createElement("g",{id:"Microscope",transform:"translate(235.569 289.818)"},g.createElement("path",{d:"M18.7214141,98.1589757 L27.5103085,98.1589757 C32.7568134,105.752299 41.5416826,110.73039 51.4934723,110.73039 C67.5630006,110.73039 80.5899271,97.7506293 80.5899271,81.7392826 C80.5899271,74.4458025 77.8868661,67.7813704 73.4244562,62.6862814 L73.4244562,51.5460728 C85.3038994,58.0661856 93.3524515,70.661726 93.3524515,85.1303003 C93.3524515,106.291867 76.1352753,123.446706 54.8968121,123.446706 C38.2493548,123.446706 24.0725672,112.906811 18.7214141,98.1589757 Z",id:"Combined-Shape",fill:"#FFF"}),g.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"48.756",y:"115.255",width:"11.832",height:"20.933"}),g.createElement("g",{id:"Combined-Shape-2",transform:"translate(13 48)"},g.createElement("mask",{id:"mask-7",fill:"#fff"},g.createElement("use",{xlinkHref:"#path-6"})),g.createElement("use",{id:"Combined-Shape",fill:"url(#linearGradient-5)",xlinkHref:"#path-6"}),g.createElement("circle",{id:"Oval",fill:"#8FABF4",mask:"url(#mask-7)",cx:"59",cy:"7",r:"14"})),g.createElement("path",{d:"M68.9407352,60.0450769 L68.9407352,48.815669 C80.7802671,55.3357818 88.8017785,67.9313222 88.8017785,82.3998965 C88.8017785,103.561463 71.6424468,120.716303 50.4753383,120.716303 M15.0808757,97.1240807 L15.0808757,97.1240807 M25.4898376,97.1240807 C30.5355849,105.663304 39.8363985,111.391004 50.4753383,111.391004 C66.4908779,111.391004 79.474038,98.4112431 79.474038,82.3998965",id:"Combined-Shape",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M0.518722035,89.7717262 L35.103837,89.7717262",id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M0.518722035,93.4122646 L35.103837,93.4122646",id:"Rectangle",stroke:"#E4E6F2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("polyline",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",points:"35.9670574 138.00886 68.1689333 138.00886 77.7675693 138.00886 83.3409709 138.00886 83.3409709 144.379802 74.3616017 144.379802 47.7331274 144.379802 30.0840224 144.379802 23.2720871 144.379802"}),g.createElement("g",{id:"Group-2",transform:"rotate(-45 94.818 5.34)"},g.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",y:"5.922",width:"96.041",height:"7.106"}),g.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",x:"87.741",y:"2.369",width:"8.3",height:"14.212"}),g.createElement("path",{d:"M53.3483652,22.3447006 C53.1368783,27.7177952 48.7090794,32.0089156 43.2778645,32.0089156 C37.8466496,32.0089156 33.4188507,27.7177952 33.2073637,22.3447006 L15.0426441,22.3447006 C13.9380746,22.3447006 13.0426441,21.4492701 13.0426441,20.3447006 L13.0426441,2 C13.0426441,0.8954305 13.9380746,-1.84720821e-12 15.0426441,-1.84741111e-12 L70.1467549,-1.84741111e-12 C71.2513244,-1.8436898e-12 72.1467549,0.8954305 72.1467549,2 L72.1467549,20.3447006 C72.1467549,21.4492701 71.2513244,22.3447006 70.1467549,22.3447006 L53.3483652,22.3447006 Z",id:"Combined-Shape",fill:"#FFF"}),g.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"10.312",width:"64.565",height:"18.704",rx:"2"}),g.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"url(#linearGradient-8)",strokeLinecap:"round",strokeLinejoin:"round",x:"13.043",width:"59.285",height:"18.949"}),g.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"15.592",y:"2.547",width:"54.185",height:"4.517",rx:"1"}),g.createElement("ellipse",{id:"Oval",fill:"#FFF",cx:"43.278",cy:"19.541",rx:"10.078",ry:"10.067"}),g.createElement("path",{d:"M52.6436093,23.2665564 C53.1034261,22.1142813 53.3562713,20.8571999 53.3562713,19.5411324 C53.3562713,13.9814784 48.8440149,9.47448842 43.2778645,9.47448842 C37.7117141,9.47448842 33.1994577,13.9814784 33.1994577,19.5411324 C33.1994577,25.1007863 37.7117141,29.6077763 43.2778645,29.6077763 L43.2778645,29.6077763",id:"Oval",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(-110 43.278 19.541)"})),g.createElement("path",{d:"M56.4920001,122.536572 L56.4920001,134.368322",id:"Path-2",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M48.3007887,120.812477 L48.3007887,134.758379",id:"Path-2",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}))))))))};n("Js1K");var Lp,Fp=n("/5dq"),Rp=function(){var e=g.useContext(pe.a.Context).proofitOrderModal.promo.step2;return g.createElement(g.Fragment,null,g.createElement(ye.Typography,{nodeType:"h3",styleType:ye.Typography.Type.H1,className:Fp.stepTitle},e.title),g.createElement("ul",{className:Fp.step2Path},g.createElement("li",Object(be.c)(Fp.step2PathLi,Fp.step2PathLi1),g.createElement(Hp,{index:1}),g.createElement(ye.Typography.Base,{className:Fp.step2LiDescription},e.li1),g.createElement("div",{className:Fp.pathFrom1To2},g.createElement(_p.PathFrom1To2,null))),g.createElement("li",Object(be.c)(Fp.step2PathLi,Fp.step2PathLi2),g.createElement(Hp,{index:2,position:Fp.right}),g.createElement(ye.Typography.Base,{className:Fp.step2LiDescription},e.li2),g.createElement("div",{className:Fp.pathFrom2To3},g.createElement(_p.PathFrom2To3,null))),g.createElement("li",Object(be.c)(Fp.step2PathLi,Fp.step2PathLi3),g.createElement(Hp,{index:3}),g.createElement(ye.Typography.Base,{className:Fp.step2LiDescription},e.li3)),g.createElement("li",Object(be.c)(Fp.step2PathLi,Fp.moreInformation),g.createElement(ye.Typography.Base,{className:Fp.step2LiDescription},e.moreInformation(),g.createElement(xt.d.OuterLink,{className:Fp.moreInformationIcon})))))},Hp=function(e){var t=e.index,n=e.position;return g.createElement("div",Object(be.c)(Fp.dots,Boolean(n)?n:Fp.left),g.createElement(ye.Typography.Base,{className:Fp.dotIndex},t),g.createElement(_p.Dots,null))},Vp=function(){var e=g.useContext(pe.a.Context).proofitOrderModal.promo.step1,t=g.useContext(ku.a.TitleIdContext);return g.createElement(g.Fragment,null,g.createElement(ye.Typography,{nodeType:"h2",styleType:ye.Typography.Type.H1,id:t,className:Fp.stepTitle},e.title),g.createElement(ye.Typography.Base,{className:Fp.description},e.description),g.createElement("div",{className:Fp.step1Illustration},g.createElement(_p.Illustration,null)))},Up=n("wZNN"),Wp=function(){var e=g.useContext(pe.a.Context).proofitOrderModal.promo.step5,t=g.useContext(ju.a.Context);return g.createElement("section",{className:Fp.terms},g.createElement(ye.Typography.H4,{className:Fp.termsTitle},e.title),g.createElement(ye.Typography.Small,null,g.createElement("p",{className:Fp.termsSubTitle},e.credits,g.createElement(Up.a,{href:t.termsOfService},e.termsOfService),e.andFollowingTerms)),g.createElement(ye.Typography.SmallLight,null,g.createElement("ul",{className:Fp.termsList},g.createElement("li",{className:Fp.termListItem},e.term1),g.createElement("li",{className:Fp.termListItem},e.term2),g.createElement("li",{className:Fp.termListItem},e.term3),g.createElement("li",{className:Fp.termListItem},e.term4))))},zp=n("8Cs3"),Gp=n("oIsx"),qp=n("L8Yl"),Kp=n("Butu"),$p=n("f82Z"),Zp=(n("d9yF"),n("rwYK")),Yp=function(){return g.createElement("span",{"aria-hidden":!0,className:Zp.iconArrow},"▼")},Xp=function(){return g.useContext(pe.a.Context).proofitOrderModal.promo.step4},Qp=function(e){var t=e.title,n=e.id,a=e.tooltip;return g.createElement(ye.Typography,{id:n,nodeType:"label",styleType:ye.Typography.Type.Base,className:Zp.userInputTitle},t,Boolean(a)&&g.createElement(ve.a,{title:g.createElement("p",{className:Zp.tooltip},a),align:"topCenter"},g.createElement("span",{"aria-describedby":a},g.createElement(xt.d.QuestionMark,null))))},Jp=function(e,t,n){return Object(de.pipe)(t,O.g.fold((function(){return{labelTitle:e.choose,active:!1,iconSelected:function(e){}}}),(function(e){return{labelTitle:n(e),active:!0,iconSelected:function(t){return t===e?g.createElement(xt.d.DocumentSettings.Selected,null):void 0}}})))},em=function(e){var t=e.name,n=e.selected,a=e.items,r=e.ariaDescribedBy,i=e.onSelect,o=e.selectedLabel,s=void 0===o?b.identity:o,c=Xp(),l=Jp(c,n,s),u=l.labelTitle,d=l.active,p=l.iconSelected;return g.createElement(Bt.a,{name:"proofit-user-inputs-dropdown-".concat(t),id:t,showDelay:0,label:g.createElement(tm,{ariaDescribedBy:r,active:d,name:t},u),theme:{dropdownList:Zp.dropdownList},activeDescendantId:O.g.toUndefined(n)},g.createElement(im,{name:t,items:a,iconSelected:p,onSelect:Object(b.flow)(O.g.some,i)}))},tm=function(e){var t=e.name,n=e.children,a=e.active,r=e.ariaDescribedBy;return g.createElement(Nt.a.White,{active:a,name:"proofit-user-inputs-dropdown-button-".concat(t),className:Zp.dropdown,"aria-describedby":r,tag:qp.b.div},g.createElement("span",{className:Zp.dropdownButton},n),g.createElement(Yp,null))},nm=function(e){var t=e.name,n=e.selected,a=e.items,r=e.ariaDescribedBy,i=e.onSelect,o=e.selectedLabel,s=void 0===o?b.identity:o,c=e.extra,l=g.useRef(new x.a.Subject),u=Xp(),d=Jp(u,n,s),p=d.labelTitle,m=d.active,f=d.iconSelected;return g.createElement(Bt.a,{name:"proofit-user-inputs-dropdown-".concat(t),id:t,showDelay:0,dontCloseOnClickInside:!0,forceHide:l.current,label:g.createElement(tm,{ariaDescribedBy:r,active:m,name:t},p),theme:{dropdownList:Zp.dropdownList},activeDescendantId:O.g.toUndefined(n)},g.createElement(am,{name:t,items:a,extra:c,iconSelected:f,onSelect:function(e){return l.current.next(),i(O.g.some(e))}}))},am=function(e){var t=y.a.create(""),n=g.useContext(zd.a.Context);return g.createElement(g.Fragment,null,g.createElement(rm,{value:t,placeholder:n.search}),g.createElement(Bt.a.Delimiter,null),g.createElement(v.a.div,{className:Zp.dropdownOptionsContainer},t.view((function(t){return Object(de.pipe)(e.items,O.a.filter((function(e){return e.value.toLowerCase().includes(t.toLowerCase())})),O.f.fromArray,O.g.fold((function(){return g.createElement(ye.Typography.Base,{key:"empty",className:Zp.dropdownSearchNoMatches},n.noMatches)}),(function(t){return g.createElement(g.Fragment,{key:"items"},t.map((function(t){var n=t.value,a=t.content;return g.createElement(om,Object(m.a)(Object(p.a)({},e),{key:n,value:n,content:a}))})))})))})),e.extra&&g.createElement(g.Fragment,null,g.createElement(Bt.a.Delimiter,null),g.createElement(om,Object(p.a)({},e,e.extra)))))},rm=function(e){return g.createElement("div",{className:Zp.dropdownSearchContainer},g.createElement(xt.d.SearchQuestion,{className:Zp.dropdownSearchIcon}),g.createElement(Kp.a,{className:Zp.dropdownSearch,value:e.value,placeholder:e.placeholder,autofocus:!0}),g.createElement(Nt.a.Tertiary,{name:"clearSearch",className:Zp.dropdownSearchClear,onClick:function(){return e.value.set("")}},g.createElement(xt.d.Close,null)))},im=function(e){return g.createElement("div",{className:Zp.dropdownOptionsContainer},e.items.map((function(t){var n=t.value,a=t.content;return g.createElement(om,Object(m.a)(Object(p.a)({},e),{key:n,value:n,content:a}))})))},om=function(e){var t=e.name,n=e.value,a=e.content,r=e.iconSelected,i=e.onSelect;return g.createElement(Nt.a.Flat,{id:n,name:"proofit-user-inputs-dropdown-".concat(t,"-item-").concat(G.f.camelize(n)),className:Zp.dropdownOption,tag:qp.b.div,onClick:function(){return i(n)}},g.createElement(ye.Typography.Base,null,a),r(n))},sm=function(e){var t=e.selected,n=e.onSelect,a=e.showNoteToEditor,r=void 0!==a&&a,i=Xp(),o=Object.values(zp.c.PrimaryLanguage).filter((function(e){return e!==zp.c.PrimaryLanguage.Other})).map((function(e){return{value:e,content:g.createElement(cm,null,e)}}));return g.createElement("div",{className:r?Zp.userInputWrapper:Zp.userInputWrapperSparse},g.createElement("div",{className:Zp.userInputContainer},g.createElement(Qp,{id:"native-language-title",title:i.primaryLanguage}),g.createElement(nm,{name:"language",ariaDescribedBy:"native-language-title",selected:t,items:o,extra:{value:zp.c.PrimaryLanguage.Other,content:g.createElement(cm,null,g.useContext(zd.a.Context).primaryLanguageNotListed)},onSelect:n})))},cm=function(e){return g.createElement("span",{className:Zp.languageDropdownOption},e.children)},lm=function(e){var t=e.selected,n=e.onSelect,a=e.showNoteToEditor,r=void 0!==a&&a,i=Xp(),o=function(e){return g.createElement("span",null,function(e){switch(e){case Gp.a.Dialect.American:return g.createElement(xt.d.DocumentSettings.USFlag,null);case Gp.a.Dialect.British:return g.createElement(xt.d.DocumentSettings.GBFlag,null);case Gp.a.Dialect.Canadian:return g.createElement(xt.d.DocumentSettings.CanadianFlag,null);case Gp.a.Dialect.Australian:return g.createElement(xt.d.DocumentSettings.AustralianFlag,null);default:return g.createElement(xt.d.DocumentSettings.USFlag,null)}}(e),e," English")};return g.createElement("div",{className:r?Zp.userInputWrapper:Zp.userInputWrapperSparse},g.createElement("div",{className:Zp.userInputContainer},g.createElement(Qp,{id:"dialect-title",title:i.dialect}),g.createElement("div",{className:Zp.dialectDropdown},g.createElement(em,{name:"dialect",ariaDescribedBy:"dialect-title",selected:t,selectedLabel:o,items:Object.keys(Gp.a.Dialect).map((function(e){return{value:e,content:o(e)}})),onSelect:n}))))},um=function(e){var t=e.ariaDescribedBy,n=e.left,a=e.right,r=e.selected,i=e.onSelect,o=function(e,t,n){return O.g.fold((function(){return{leftSelected:!1,rightSelected:!1}}),(function(n){return{leftSelected:e===n,rightSelected:t===n}}))(n)}(n.value,a.value,r),s=o.leftSelected,c=o.rightSelected;return g.createElement(Nt.a.Group,{sticky:!0,className:Zp.splitButton},g.createElement(Nt.a.White,{name:"proofit-user-inputs-split-button-".concat(n.value),key:n.value,active:s,className:Zp.splitButtonOption,"aria-describedby":t,onClick:function(){return i(s?O.g.none:O.g.some(n.value))}},n.title),g.createElement(Nt.a.White,{name:"proofit-user-inputs-split-button-".concat(a.value),key:a.value,active:c,className:Zp.splitButtonOption,"aria-describedby":t,onClick:function(){return i(c?O.g.none:O.g.some(a.value))}},a.title))},dm=function(e){var t=e.selected,n=e.onSelect,a=e.showNoteToEditor,r=void 0!==a&&a,i=Xp();return g.createElement("div",{className:r?Zp.userInputWrapper:Zp.userInputWrapperSparse},g.createElement("div",{className:Zp.userInputContainer},g.createElement(Qp,{id:"quotation-type-title",title:i.quotationType,tooltip:i.quotationTypeTooltip}),g.createElement(um,{ariaDescribedBy:"quotation-type-title",left:{title:i.quotationTypeSingle,value:Gp.a.QuotationType.Single},right:{title:i.quotationTypeDouble,value:Gp.a.QuotationType.Double},selected:t,onSelect:n})))},pm=function(e){var t=e.selected,n=e.onSelect,a=e.showNoteToEditor,r=void 0!==a&&a,i=Xp();return g.createElement("div",{className:r?Zp.userInputWrapper:Zp.userInputWrapperSparse},g.createElement("div",{className:Zp.userInputContainer},g.createElement(Qp,{id:"space-type-title",title:i.spaceType,tooltip:i.spaceTypeTooltip}),g.createElement(um,{ariaDescribedBy:"space-type-title",left:{title:i.spaceTypeSingle,value:Gp.a.SpaceType.Single},right:{title:i.spaceTypeDouble,value:Gp.a.SpaceType.Double},selected:t,onSelect:n})))},mm=function(e){var t=e.note,n=e.onChange,a=Xp(),r=Object(de.pipe)(t,O.g.getOrElse((function(){return""})));return g.createElement("div",{className:Zp.userInputWrapper},g.createElement("span",null,g.createElement(Ip.a.New,{className:Zp.newBadge}),g.createElement(Qp,{id:"note-to-editor",title:a.noteToEditor})),g.createElement("div",{className:Zp.noteContainer},g.createElement("textarea",{placeholder:a.notePlaceholder,maxLength:200,value:r,onChange:n,className:Zp.noteTextarea}),g.createElement("span",{className:Zp.noteCounter},r.length,"/",200," characters")))},fm=function(e){var t=e.proofit;_.a.useSubscriptionTo(t.requestPlans);var n=Xp(),a=t.noteToEditor;return g.createElement(g.Fragment,null,g.createElement(ye.Typography.H2,{className:Zp.title},n.title),g.createElement(ye.Typography.H4,{className:Zp.subtitle},n.subtitle),g.createElement(v.a.div,{className:Zp.userInputsWrapper},t.viewState.pipe(x.a.map(O.g.fold((function(){return g.createElement($p.a,{variation:"blue",className:Zp.loader})}),(function(e){var n=e.userInputs,r=n.nativeLanguage,i=n.dialect,o=n.quotationType,s=n.spaceType,c=n.noteToEditor;return g.createElement(g.Fragment,null,g.createElement(sm,{selected:r,onSelect:function(e){return t.selectUserInput("nativeLanguage",e)},showNoteToEditor:a}),g.createElement(lm,{selected:i,onSelect:function(e){return t.selectUserInput("dialect",e)},showNoteToEditor:a}),g.createElement(dm,{selected:o,onSelect:function(e){return t.selectUserInput("quotationType",e)},showNoteToEditor:a}),g.createElement(pm,{selected:s,onSelect:function(e){return t.selectUserInput("spaceType",e)},showNoteToEditor:a}),a&&g.createElement(mm,{note:c,onChange:function(e){return t.selectUserInput("noteToEditor",O.g.of(e.target.value))}}))}))))))},hm={position:"absolute",width:j.a.percent(100),background:Pe.a.CoreNeutral0,transition:"transform ".concat(j.a.seconds(.5)),willChange:"transform"},gm={},bm={pointerEvents:"none"},vm={pointerEvents:"none"},ym={position:"relative"},Om={},Sm=j.a.stylesheet({animation:[hm],stepShow:[hm,gm],step1Hide:[hm,bm,{transform:"translateX(-100%)"}],step2Hide:[hm,vm,{transform:"translateX(100%)"}],step1:[hm,ym],step2:[hm,Om]}),Cm=j.a.stylesheet({animation:[hm],stepShow:[hm,gm],step1Hide:[hm,bm,{transform:"translateY(-100%)"}],step2Hide:[hm,vm,{transform:"translateY(100%)"}],step1:[hm,ym],step2:[hm,Om]});!function(e){e.Vertical="Vertical",e.Horizontal="Horizontal"}(Lp||(Lp={}));var wm,km,Em=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return n}(Fd.a),jm=function(e){var t=_.a.useElWatcher(),n=t.ref,a=t.onMount;_.a.useSubscriptionTo(n.pipe(x.b.compact,x.a.pairwise(),x.a.map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];n.setAttribute("inert","true"),a.removeAttribute("inert")}))));return g.createElement(Em,{state:e.state,stateToClassMapper:function(t){return function(t,n){return void 0===t?{prev:{start:n.step1Hide,end:n.stepShow},next:{start:"",end:n.stepShow}}:t<e.state.get()?{prev:{start:n.stepShow,end:n.step1Hide},next:{start:n.step2Hide,end:n.stepShow}}:{prev:{start:n.stepShow,end:n.step2Hide},next:{start:n.step1Hide,end:n.stepShow}}}(t,e.direction===Lp.Vertical?Cm:Sm)}},(function(t){return Boolean(e.steps[t.state])?g.createElement(v.a.div,{key:"step"+(t.state+1),"data-step":t.state,mount:a,className:t.view,onTransitionEnd:function(e){"prev"===t.type&&"top"===e.propertyName&&t.done()}},e.steps[t.state]):Object(yt.c)(t.state)}))},_m=function(e){var t=e.proofit,n=g.useContext(pe.a.Context),a=g.useContext(P.a.Context),r=a.gnarSpec,i=a.pageId,o=a.docId;return g.createElement(g.Fragment,null,g.createElement("div",{className:Fp.stepWrapper},g.createElement(v.a.Fragment,null,t.leftStep.view((function(e){return e>0&&g.createElement(Nt.a,{name:"proofit-order-promo-to-step-1",className:Fp.backButton,onClick:function(){return t.changeLeftStep(Zl.c.Step1)}},"←",g.createElement("span",{className:Fp.backButtonText},n.back))}))),g.createElement(jm,{state:t.leftStep,direction:Lp.Horizontal,steps:[g.createElement(Vp,{key:"PromoStep1"}),g.createElement(Rp,{key:"PromoStep2"}),g.createElement(Bp,{key:"PromoStep3"}),g.createElement(fm,{key:"PromoStep4",proofit:t}),g.createElement(Wp,{key:"PromoStep5"})]})),g.createElement("div",{className:Fp.nav},g.createElement(Nt.a,{name:"proofit-order-promo-to-step-2",className:Fp.navButton,disabled:t.leftStep.view((function(e){return e===Zl.c.Step2})),onClick:function(){r.professionalProofreadingLearningButtonClick(o,i),t.changeLeftStep(Zl.c.Step2)}},n.proofitOrderModal.promo.stepsNavigation.howItWorks),g.createElement("div",{className:Fp.delimiter}),g.createElement(Nt.a,{name:"proofit-order-promo-to-step-3",className:Fp.navButton,disabled:t.leftStep.view((function(e){return e===Zl.c.Step3})),onClick:function(){r.professionalProofreadingCompareOptionsButtonClick(o,i),t.changeLeftStep(Zl.c.Step3)}},g.createElement(Ip.a.New,{className:Fp.newBadge}),n.proofitOrderModal.promo.stepsNavigation.compareOptions),g.createElement("div",{className:Fp.delimiter}),g.createElement(Nt.a,{name:"proofit-order-promo-to-step-4",className:Fp.navButton,disabled:t.leftStep.view((function(e){return e===Zl.c.Step4})),onClick:function(){r.professionalProofreadingProvideDetailsButtonClick(o,i),t.changeLeftStep(Zl.c.Step4)}},n.proofitOrderModal.promo.stepsNavigation.provideDetails)))},xm=(n("7oRm"),n("J9kq")),Am=n("4lxU"),Im=n("k4jz");(km=wm||(wm={})).SlowPlane=function(){return g.createElement("svg",{"aria-hidden":!0,width:"48",height:"46",xmlns:"http://www.w3.org/2000/svg"},g.createElement("g",{fill:"none",fillRule:"evenodd"},g.createElement("path",{d:"M2.99 37.27l31.972 8.01a3 3 0 0 0 3.63-2.144l8.463-32.043a3 3 0 0 0-4.433-3.345L2.187 31.78a3 3 0 0 0 .803 5.49z",fill:"#C5F7EB"}),g.createElement("path",{d:"M3.314 26.08l9.196 2.235a1 1 0 0 1 .634.479l4.621 8.153a1 1 0 0 0 1.83-.21l1.56-5.308a1 1 0 0 1 1.21-.686l11.6 3.007a1 1 0 0 0 1.218-.712l8.12-30.675a1 1 0 0 0-1.477-1.116l-38.786 23a1 1 0 0 0 .274 1.833z",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinejoin:"round"}),g.createElement("path",{d:"M12.929 28.5L42.25 1.803a.5.5 0 0 1 .733.675L21.429 30.5l-1.838 6.247a1 1 0 0 1-1.827.214L12.929 28.5z",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinejoin:"round"})))},km.MiddlePlane=function(){return g.createElement("svg",{"aria-hidden":!0,width:"59",height:"34",xmlns:"http://www.w3.org/2000/svg"},g.createElement("g",{fill:"none",fillRule:"evenodd"},g.createElement("path",{d:"M6.865 15.93a13.498 13.498 0 0 1-.19-2.153c0-7.49 6.153-13.563 13.74-13.563 5.966 0 11.028 3.762 12.928 9.005 1.41-.773 3.01-1.255 4.74-1.255 4.822 0 8.813 3.444 9.638 7.97 3.473.802 6.065 3.86 6.065 7.53 0 4.28-3.516 7.75-7.852 7.75H8.638c-4.337 0-7.852-3.47-7.852-7.75 0-3.674 2.599-6.737 6.079-7.534z",fill:"#CDDBFF",fillRule:"nonzero"}),g.createElement("path",{d:"M45.341 21.214l1.34 8.994a1 1 0 0 1-.518 1.03l-3.053 1.626a1 1 0 0 1-1.181-.18l-8.143-8.239",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M40.616 10.086A20.928 20.928 0 0 1 52.99 8.548l3.235.584c1.036.187 1.72 1.158 1.528 2.168-.06.314-.2.607-.41.852l-1.49 1.745a18.883 18.883 0 0 1-8.918 5.794l-22.534 6.786a38.953 38.953 0 0 1-9.334 1.607l-2.64.129c-.686.033-1.271-.483-1.306-1.153a1.19 1.19 0 0 1 .13-.604l.707-1.378a.91.91 0 0 0-.06-.932l-3.952-4.6a.916.916 0 0 1 .265-1.29l1.607-1.045a.975.975 0 0 1 .956-.058l7.632 2.79c.26.128-2.172 1.516-1.908 1.396l24.118-11.253z",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M29.343 18.964L15.347 10.47a1 1 0 0 1 .077-1.752l2.732-1.342a1 1 0 0 1 .68-.074l22.776 5.595a1 1 0 0 1 .107 1.91l-11.511 4.242a1 1 0 0 1-.865-.084z",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M52.786 9.214a17.195 17.195 0 0 1-3.796 1.927l-.204.073",stroke:"#353847",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})))},km.QuickPlane=function(){return g.createElement("svg",{"aria-hidden":!0,width:"42",height:"55",xmlns:"http://www.w3.org/2000/svg"},g.createElement("g",{fill:"none",fillRule:"evenodd"},g.createElement("path",{d:"M21 29c6.684 4.124 8.984 13.275 5.136 20.439a14.624 14.624 0 0 1-4.209 4.88L21 55l-.927-.681c-6.362-4.673-7.986-13.989-3.626-20.808A14.392 14.392 0 0 1 21 29zM35 27c4.785 3.027 6.422 9.726 3.654 14.961a10.64 10.64 0 0 1-2.989 3.538L35 46l-.665-.5c-4.553-3.43-5.704-10.248-2.569-15.23A10.421 10.421 0 0 1 35 27zM7 27c4.785 3.027 6.422 9.726 3.654 14.961A10.64 10.64 0 0 1 7.665 45.5L7 46l-.665-.5C1.782 42.07.631 35.251 3.766 30.27A10.421 10.421 0 0 1 7 27z",fill:"#FFC2C2"}),g.createElement("path",{d:"M2.337 27.657l16-14.28a4 4 0 0 1 5.326 0l16 14.28A4 4 0 0 1 41 30.641V35H1v-4.359a4 4 0 0 1 1.337-2.984z",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinejoin:"round"}),g.createElement("path",{d:"M15.963 4.877L18 2.5a3.951 3.951 0 0 1 6 0l2.037 2.377A4 4 0 0 1 27 7.48V39H15V7.48a4 4 0 0 1 .963-2.603z",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinejoin:"round"}),g.createElement("path",{d:"M18 7.414l.249-.366 1.02-1.5c.975-1.435 2.487-1.435 3.462 0l1.027 1.51.242.356",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M21 21v15",stroke:"#353847",strokeWidth:"1.5",strokeLinecap:"round"})))};n("Syxj");var Tm,Mm,Pm,Nm=n("zjpx"),Dm=function(e){var t=e.proofit;_.a.useSubscriptionTo(t.requestPlans);var n=g.useContext(pe.a.Context),a=g.useContext(ju.a.Context),r=g.useContext(P.a.Context),i=r.gnarSpec,o=r.pageId,s=r.docId,c=t.isInternalUser;return g.createElement("div",{className:Nm.content},g.createElement(v.a.div,{className:Nm.proofitDetailsWrapper},t.viewStateAndSubscription.pipe(x.a.map((function(e){var r=Object(f.a)(e,2),l=r[0],u=r[1];return Object(b.pipe)(l,O.g.fold((function(){return g.createElement($p.a,{variation:"blue",className:Nm.loader})}),(function(e){var r,l=u.value,d=Boolean(c||(null===(r=l)||void 0===r?void 0:r.paymentMethod)),p=e.selectedPlans.some((function(e){return e.details.enabled&&Object(b.pipe)(e.details.credits,O.g.fold((function(){return!1}),(function(e){return e.canBeUsed&&e.balance>0})))}));return Bc.c.isSendingState(e.proofitState)?g.createElement($p.a,{variation:"blue",className:Nm.loader}):g.createElement(g.Fragment,null,g.createElement("div",{className:Nm.tierTitleContainer},g.createElement(ye.Typography,{nodeType:"h3",id:"tier-title",styleType:ye.Typography.Type.Base,className:Nm.tierTitle},n.proofitOrderModal.order.tierTitle),g.createElement(Nt.a,{name:"helpMeChoose",className:Nm.helpMeChooseBtn,disabled:t.leftStep.view((function(e){return e===Zl.c.Step3})),onClick:function(){i.professionalProofreadingHelpMeChooseButtonClick(s,o),t.changeLeftStep(Zl.c.Step3)}},g.createElement("span",{className:Nm.helpMeChoose},n.proofitOrderModal.order.compareOptions))),g.createElement(Nt.a.Group,{sticky:!0,className:Nm.claritySplitButton},g.createElement(Nt.a.White,{name:"proofit-order-split-button-tier-base",key:"proofit-order-split-button-tier-base",active:e.selectedPlanTier===Gp.a.PlanTier.Base,className:Nm.claritySplitButtonBase,"aria-describedby":"tier-title",onClick:function(){i.professionalProofreadingSelectPlanTierButtonClick(s,o,Gp.a.PlanTier.Base),t.selectPlanTier(Gp.a.PlanTier.Base)}},n.proofitOrderModal.order.tierBase),g.createElement(Nt.a.White,{name:"proofit-order-split-button-tier-clarity",key:"proofit-order-split-button-tier-clarity",active:e.selectedPlanTier===Gp.a.PlanTier.Clarity,className:Nm.claritySplitButtonClarity,"aria-describedby":"tier-title",onClick:function(){i.professionalProofreadingSelectPlanTierButtonClick(s,o,Gp.a.PlanTier.Clarity),t.selectPlanTier(Gp.a.PlanTier.Clarity)}},n.proofitOrderModal.order.tierClarity)),g.createElement(ye.Typography.Base,{className:Nm.plansTitle},n.proofitOrderModal.order.title),g.createElement(v.a.div,{className:Nm.plansContainer,"data-name":"proofit-order"},e.selectedPlans.map((function(n,a){return g.createElement(Bm,{key:"".concat(n.details.tier,"-").concat(n.details.turnaround),proofitState:e.proofitState,freeProofit:p,hasBillingInfo:d,plan:n,allPlans:e.selectedPlans,words:e.words,index:a,onPlanSelect:function(){return i.professionalProofreadingSelectButtonClick(s,o,Gp.a.getPlanName(n.details.turnaround),n.details.tier),t.changeLeftStep(Zl.c.Step4),n.select()},onPlanUnselect:function(){return i.professionalProofreadingUnselectButtonClick(s,o,Gp.a.getPlanName(n.details.turnaround),n.details.tier),n.unselect()}})}))),g.createElement("div",{className:Nm.summary},Object(b.pipe)(e.selectedPlan,O.g.fold((function(){return g.createElement(ye.Typography.Lawyer,{className:Nm.paymentWarning},d||!p?n.proofitOrderModal.order.warningConfirm():g.createElement(Up.a,{href:a.account.subscription},n.proofitOrderModal.order.paymentWarnings.updateBilling))}),(function(a){var r=Object(b.pipe)(a.details.credits,O.g.fold((function(){return{canBeUsed:!1,balance:0,maxWordsPerCredit:0}}),(function(e){return e}))),c=r.canBeUsed,u=r.balance,d=r.maxWordsPerCredit;return Boolean(p&&c&&u>0&&d>=e.words)?g.createElement("div",{className:Nm.termsContainer},g.createElement(Am.a,{className:Nm.agreeTermsCheckbox,checked:t.freeProofitTermsAgreed,name:"agreeTerms"},g.createElement(ye.Typography.Lawyer,null,n.proofitOrderModal.order.iAgree)),g.createElement(Nt.a,{name:"termsAndConditions",className:Nm.termsLinkBtn,disabled:t.leftStep.view((function(e){return e===Zl.c.Step5})),onClick:function(){i.professionalProofreadingTermsAndConditionsButtonClick(s,o),t.changeLeftStep(Zl.c.Step5)}},g.createElement(ye.Typography.Lawyer,{className:Nm.termsLink},n.proofitOrderModal.order.terms))):g.createElement(Lm,{key:"PaymentWarning"+a.details.turnaround,price:a.details.price,subscription:l})}))),g.createElement("div",{className:Nm.summaryButtons},Object(b.pipe)(e.selectedPlan,O.g.fold((function(){return g.createElement(Nt.a.Primary,{key:"place-order",name:"place-order",className:Nm.placeOrderButton,title:n.proofitOrderModal.order.chooseOptions,disabled:!0},n.proofitOrderModal.order.placeOrder)}),(function(a){var r=Object(b.pipe)(a.details.credits,O.g.fold((function(){return{canBeUsed:!1,balance:0,maxWordsPerCredit:0}}),(function(e){return e}))),c=r.canBeUsed,l=r.balance,u=r.maxWordsPerCredit,d=Boolean(p&&c&&l>0&&u>=e.words),m=t.freeProofitTermsAgreed.view((function(e){return d&&!e}));return g.createElement(Nt.a.Primary,{key:"place-order",name:"place-order",className:Nm.placeOrderButton,onClick:Na.d.callOnce((function(){return i.professionalProofreadingPlaceOrderButtonClick(s,o,Gp.a.getPlanName(a.details.turnaround),a.details.tier,t.requirePaymentCheck.get(),d),!d&&t.requirePaymentCheck.get()?t.changeRightStep(Zl.d.Step2):a.placeOrder(O.g.none,d)})),active:!0,disabled:Bc.c.isSendingState(e.proofitState)||m},d?n.proofitOrderModal.order.orderForFree:n.proofitOrderModal.order.placeOrder,Object(b.pipe)(e.proofitState,O.g.fold((function(){return g.createElement($p.a,{className:Nm.planLoading,variation:"white",size:18})}),(function(){return null}))))}))),g.createElement(Nt.a.Ghost,{key:"close",name:"close",className:Nm.closeButton,onClick:function(){i.professionalProofreadingCloseButtonClick(s,o),t.closeModal()}},n.actions.close))))})))})))))},Bm=function(e){var t=e.plan,n=e.allPlans,a=e.words,r=e.proofitState,i=e.freeProofit,o=e.hasBillingInfo,s=e.index,c=e.onPlanSelect,l=e.onPlanUnselect,u=t.details,d=u.label,f=g.useContext(pe.a.Context),h=Object(b.pipe)(u.credits,O.g.fold((function(){return{canBeUsed:!1,balance:0,maxWordsPerCredit:0}}),(function(e){return e}))),y=h.canBeUsed,S=h.balance,C=h.maxWordsPerCredit,w=Boolean(i&&y)&&S>0&&C>=a,k=t.details.enabled&&(!i||w||o),E="$".concat(G.f.formatPrice(u.price)),j="$".concat(u.perWord),_=A.b.chooseWhen(t.active);return g.createElement(v.a.div,{className:k?Nm.planWrapper:Nm.planWrapperDisabled,"data-name":d.replace(" ","")},g.createElement("div",{className:Nm.iconContainer},function(e){var t=[g.createElement(wm.SlowPlane,null),g.createElement(wm.MiddlePlane,null),g.createElement(wm.QuickPlane,null)];return Boolean(t[e])?t[e]:Object(yt.c)(e)}(s)),g.createElement(v.a.div,{className:Nm.plans},g.createElement(v.a.div,{className:Nm.planContainer},g.createElement("div",null,t.isRecommended(n)&&g.createElement(ye.Typography.Button,{className:Nm.recommended},f.proofitOrderModal.order.recommended),g.createElement(ye.Typography.Base,{className:Nm.planTitle},d),g.createElement("div",{className:Nm.priceWrapper},g.createElement(ye.Typography.Base,{className:w?Nm.priceFree:Nm.price,"data-name":"turnaround-price"},E),g.createElement(ye.Typography.Small,{className:w?Nm.priceFree:""},g.createElement("span",{"data-name":"price-per-word"},j)," ",f.proofitOrderModal.order.perWord))),g.createElement(Nt.a.Animated,Object(m.a)(Object(p.a)({name:t.active.view((function(e){return e?"selected-order":"select-order"})),styleType:_(ye.Typography.Type.Button,ye.Typography.Type.Base)},Object(be.c)(w?Nm.selectFreePlanButton:Nm.selectPlanButton,_(Im.l,Im.p))),{"aria-label":_(f.proofitOrderModal.order.planIsSelected(d,E,j),f.proofitOrderModal.order.selectPlan(d,E,j)),"aria-live":_("assertive","off"),onClick:function(){return t.active.get()?l():c()},active:t.active,disabled:!k||Bc.c.isSendingState(r)}),_(f.statuses.selected,k?w?f.actions.free:f.actions.select:f.statuses.unavailable))),g.createElement(ye.Typography.SmallLight,{className:Nm.freeCreditsRemained},w?f.proofitOrderModal.order.freeReviewsLeft(S):"")))},Lm=function(e){var t=e.price,n=e.subscription,a=g.useContext(ju.a.Context),r=g.useContext(pe.a.Context).proofitOrderModal.order.paymentWarnings;switch(n.paymentMethod){case"payPal":return g.createElement(ye.Typography.Small,{className:Nm.paymentWarning},r.payPal(t));case"creditCard":return n.creditCard||T.d.Logging.getLogger("ProofitView").warn("Missing credit card"),g.createElement(ye.Typography.Small,{className:Nm.paymentWarning},r.creditCard(t)," ",g.createElement(Up.a,{href:a.account.subscription},r.updateBilling));default:return T.d.Logging.getLogger("ProofitView").warn("Unknown payment method: "+n.paymentMethod),g.createElement(g.Fragment,null)}},Fm=(n("ewL9"),n("W2lE")),Rm=Na.d.lazy((function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"sbgk"))})),Hm=function(e){var t=e.proofit,n=g.createElement("div",{className:Fm.stepWrapper},g.createElement(Dm,{key:"OrderStep1",proofit:t})),a=g.createElement("div",{className:Fm.stepWrapper},g.createElement(g.Suspense,{fallback:g.createElement($p.a,{variation:"blue",className:xm.spinner})},g.createElement(Rm,{key:"OrderStep2",proofit:t})));return g.createElement(jm,{state:t.rightStep,direction:Lp.Vertical,steps:[n,a]})},Vm=(n("/kBH"),n("DkqI")),Um=function(e){var t=e.proofit;return g.createElement("div",{className:Vm.wrapper},g.createElement("div",{className:Vm.row},g.createElement("div",{className:Vm.leftCol},g.createElement(_m,{proofit:t})),g.createElement("div",{className:Vm.col},g.createElement(Hm,{proofit:t}))))},Wm=(n("3jw8"),n("oLzq")),zm=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u.a)(Object(s.a)(e),"_modalClassName",(function(e,t){switch(e){case Zl.a.Order:return t.proofitOrderModal;case Zl.a.Success:return t.proofitOrderSuccess;default:return Object(yt.c)(e)}})),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.proofit;return g.createElement(P.a.Context.Consumer,null,(function(n){return g.createElement(v.a.Fragment,null,t.isVisibleModal.view((function(a){return a?g.createElement(ku.b,{positionType:"fixed",visible:t.isVisibleModal,animate:!0,smallResolution:"resize",key:"overlay"},g.createElement(ku.a,{close:function(){n.gnarSpec.professionalProofreadingCloseButtonClick(n.docId,n.pageId),t.closeModal()},className:Wm.proofitModal,focusTrapMode:"dynamic",key:"modal"},g.createElement(v.a.div,Object(p.a)({name:"modalBody"},Object(be.c)(Wm.proofitModalBody,t.modal.view(O.g.fold((function(){return""}),(function(t){return e._modalClassName(t.type,Wm)}))))),t.modal.view(Object(b.flow)(O.g.map((function(e){return g.createElement(Gm,{key:e.type,proofit:t,modal:e})})),O.g.orNull))))):null})))}))}},{key:"componentWillUnmount",value:function(){this.props.proofit.clearModals()}}]),n}(g.Component),Gm=function(e){var t=e.proofit,n=e.modal;switch(g.useEffect((function(){return function(){t.changeLeftStep(Zl.c.Step1),t.freeProofitTermsAgreed.modify((function(){return!1}))}}),[t]),n.type){case Zl.a.Order:return g.createElement(Um,{proofit:t,key:"order"});case Zl.a.Success:return g.createElement(Ap.a,{payload:n.payload,close:function(){return t.closeModal()},key:"success"});default:return Object(yt.c)(n)}},qm=n("0LHr");!function(e){var t;!function(e){e.Default="default",e.TacticSelected="tacticSelected"}(t=e.Type||(e.Type={})),function(e){e.Idle="Idle",e.Loading="Loading"}(e.LoadingState||(e.LoadingState={})),e.isDefault=function(e){return e.type===t.Default},e.isPhrases=function(e){return e.type===t.TacticSelected}}(Tm||(Tm={})),function(e){e.create=function(e,o,s,c,l,u){var d=y.a.create(t(e)),f=new x.a.Subject,h=x.a.mergeStatic(Object(b.pipe)(f,x.a.tap(Object(b.flow)(Pm.match({onUpdatePhrases:Object(b.constant)((function(e){return u.gnarSpec.ideasGenerateMoreMoreIdeasButtonClicked(u.pageId,e.name,u.pageSessionId),Tm.isPhrases(e)?Object(m.a)(Object(p.a)({},e),{loadingState:Tm.LoadingState.Loading}):e})),onCollapse:i(s),onInsertPhrase:a((function(e,t){var n=t.name;o(e),u.gnarSpec.ideasSmartPhrasesButtonClicked(u.pageId,e.content,n,u.pageSessionId)})),onDismiss:r((function(){c(),h.unsubscribe()})),onSelectTactic:n,onIdeate:Object(b.constant)((function(e){return Object(m.a)(Object(p.a)({},e),{type:Tm.Type.TacticSelected,loadingState:Tm.LoadingState.Idle})}))}),d.modify.bind(d)))),Object(b.pipe)(d,x.a.switchMap((function(e){if(Tm.isPhrases(e)&&e.loadingState===Tm.LoadingState.Loading){var t=O.f.last(e.phrases);return Object(b.pipe)(l({tacticId:e.id,lastPhraseId:t.id,outcomeRequest:e.outcomeRequest}),O.l.map((function(t){return{prevId:e.id,phrases:t}})))()}return x.a.EMPTY})),x.a.filter(O.b.isRight),x.a.map(O.b.unsafeGet),x.a.delay(1e3),x.a.tap((function(e){return d.modify((function(t){return Tm.isPhrases(t)&&e.prevId===t.id?Object(m.a)(Object(p.a)({},t),{phrases:e.phrases,loadingState:Tm.LoadingState.Idle}):t}))})))).subscribe();return{state:d,actions:f}};var t=function(e){return Object(p.a)({type:Tm.Type.Default},O.f.head(e.tactics),e)},n=function(e){return function(t){var n=t.tactics.find((function(t){return t.id===e.tacticId}));return n?Object(p.a)({},t,n):(o("DraftAIEditorViewModel").error("Trying to select a missing section",{tactics:t.tactics.map((function(e){return e.id})),selected:e.tacticId}),t)}},a=function(e){return function(t){return function(n){if(Tm.isPhrases(n)){var a=n.phrases.find((function(e){return e.id===t.phraseId}));a?e(a,n):o("DraftAIEditorViewModel").error("Trying to insert a missing phrase")}else o("DraftAIEditorViewModel").error("Cannot send phrase from Sections state");return n}}},r=Vl.h(Object(b.constant)(b.identity)),i=Vl.h(Object(b.constant)(t)),o=Object(z.l)(T.d.Logging.getLogger)}(Mm||(Mm={})),function(e){var t;!function(e){e[e.UpdatePhrases=0]="UpdatePhrases",e[e.Collapse=1]="Collapse",e[e.Dismiss=2]="Dismiss",e[e.SelectTactic=3]="SelectTactic",e[e.Ideate=4]="Ideate",e[e.InsertPhrase=5]="InsertPhrase",e[e.SelectMiniCard=6]="SelectMiniCard"}(t=e.Type||(e.Type={}));e.match=function(e){return function(n){switch(n.type){case t.UpdatePhrases:return e.onUpdatePhrases(n);case t.Collapse:return e.onCollapse(n);case t.Dismiss:return e.onDismiss(n);case t.InsertPhrase:return e.onInsertPhrase(n);case t.SelectTactic:return e.onSelectTactic(n);case t.Ideate:return e.onIdeate(n);default:return Object(yt.c)(n)}}}}(Pm||(Pm={}));var Km,$m=n("4Yir"),Zm=n("jEie"),Ym=n("ZCrp"),Xm=n.n(Ym);!function(e){e.GenerateButton=function(e){return g.createElement(Nt.a.Primary,Object(p.a)({},e,Object(be.c)(Jm.button,e.className)),g.createElement("img",{className:Jm.logo,src:Xm.a,alt:"","aria-hidden":!0}),e.children)};var t=function(){var e=g.useContext(zd.a.Context).draftAI.gallery.harvardRecommends,t=e.title,n=e.body;return g.createElement("div",{className:Jm.tooltipRecommends},g.createElement("div",null,g.createElement(xt.d.IdeasRecommended,{width:"12",height:"14",className:Jm.tooltipRecommendsIcon}),g.createElement("b",null,t)),g.createElement("div",null,n))};e.TacticButton=function(e){return g.createElement(Nt.a.Primary,Object(m.a)(Object(p.a)({},e,Object(be.c)(e.className,Jm.tactic)),{title:e.isRecommended?g.createElement(t,null):void 0,titleAlign:"topCenter"}),e.isRecommended?g.createElement(xt.d.IdeasRecommended,{className:Jm.tacticRecommendedIcon}):null,e.children,Boolean(e.active)?g.createElement(xt.d.Cross,{className:Jm.tacticSelectionIcon,width:12}):g.createElement(xt.d.NewSmall,{className:Jm.tacticSelectionIcon}))},e.MoreButton=function(e){var t=g.useContext(zd.a.Context).draftAI.gallery.more;return g.createElement(Nt.a.Primary,Object(p.a)({},e,Object(be.c)(e.className,Jm.tactic,Jm.more)),g.createElement("div",{className:Jm.counter},g.createElement(Zd.a.Counter,{count:e.count,type:"blue"})),t,g.createElement(xt.d.Arrow,{className:Jm.tacticSelectionIcon}))}}(Km||(Km={}));var Qm=j.a.rem(1.375),Jm=j.a.prefixedStylesheet("ideas_button",{button:[{height:j.a.rem(2.5),borderRadius:j.a.rem(2.125),display:"flex",flexDirection:"row",alignItems:"center",$nest:{"&[data-textpos='right']":{padding:"".concat(j.a.rem(.5)," ").concat(j.a.rem(1)," ").concat(j.a.rem(.5)," ").concat(j.a.rem(.5))}}}],logo:[{width:Qm,height:Qm,marginRight:j.a.rem(.5)}],tactic:[{paddingLeft:j.a.rem(1),paddingRight:j.a.rem(1),color:Pe.a.CoreBlue50,height:j.a.rem(2.5),display:"inline-flex",flexDirection:"row",alignItems:"center",backgroundColor:Pe.a.CoreNeutral10,border:"1px solid transparent",$nest:{"&:not([data-disabled='true']) > i":{fill:Pe.a.CoreNeutral50,stroke:Pe.a.CoreNeutral50},"&:not([data-hovered='true']) > i":{fill:Pe.a.CoreNeutral50,stroke:Pe.a.CoreNeutral50},"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:Pe.a.CoreBlue10,borderColor:Pe.a.CoreBlue50,$nest:{"& > i":{fill:Pe.a.CoreBlue50,stroke:Pe.a.CoreBlue50}}},"&:not([data-disabled='true'])[data-active='true']":{backgroundColor:Pe.a.CoreBlue10,borderColor:Pe.a.CoreBlue50,$nest:{"& > i":{fill:Pe.a.CoreBlue50,stroke:Pe.a.CoreBlue50}}}}}],more:[{$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{border:"1px solid transparent"}}}],tacticRecommendedIcon:[{marginLeft:j.a.rem(-.5)}],tacticSelectionIcon:[{marginRight:j.a.rem(-1),marginLeft:j.a.rem(.25)}],tooltipRecommends:[{fontSize:j.a.rem(.75),lineHeight:j.a.rem(1.125)}],tooltipRecommendsIcon:[{marginLeft:j.a.rem(-1.5),minHeight:j.a.rem(1.125),'& path[data-figure="bg"]':{fill:Pe.a.CoreNeutral0},'& path[data-figure="arrow"]':{stroke:Pe.a.CoreNeutral70},'& path[data-figure="arrow_spire"]':{fill:Pe.a.CoreNeutral70}}],counter:[{width:j.a.rem(1.125),display:"inline-flex",marginRight:j.a.rem(.5)}]}),ef=n("UnJg"),tf=n("wvT7");function nf(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function af(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function rf(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return af(n.overflowY,t)||af(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function of(e,t,n,a,r,i,o,s){return i<e&&o>t||i>e&&o<t?0:i<=e&&s<=n||o>=t&&s>=n?i-e-a:o>t&&s<n||i<e&&s>n?o-t+r:0}var sf=function(e,t){var n=window,a=t.scrollMode,r=t.block,i=t.inline,o=t.boundary,s=t.skipOverflowHiddenElements,c="function"==typeof o?o:function(e){return e!==o};if(!nf(e))throw new TypeError("Invalid target");for(var l=document.scrollingElement||document.documentElement,u=[],d=e;nf(d)&&c(d);){if((d=d.parentElement)===l){u.push(d);break}null!=d&&d===document.body&&rf(d)&&!rf(document.documentElement)||null!=d&&rf(d,s)&&u.push(d)}for(var p=n.visualViewport?n.visualViewport.width:innerWidth,m=n.visualViewport?n.visualViewport.height:innerHeight,f=window.scrollX||pageXOffset,h=window.scrollY||pageYOffset,g=e.getBoundingClientRect(),b=g.height,v=g.width,y=g.top,O=g.right,S=g.bottom,C=g.left,w="start"===r||"nearest"===r?y:"end"===r?S:y+b/2,k="center"===i?C+v/2:"end"===i?O:C,E=[],j=0;j<u.length;j++){var _=u[j],x=_.getBoundingClientRect(),A=x.height,I=x.width,T=x.top,M=x.right,P=x.bottom,N=x.left;if("if-needed"===a&&y>=0&&C>=0&&S<=m&&O<=p&&y>=T&&S<=P&&C>=N&&O<=M)return E;var D=getComputedStyle(_),B=parseInt(D.borderLeftWidth,10),L=parseInt(D.borderTopWidth,10),F=parseInt(D.borderRightWidth,10),R=parseInt(D.borderBottomWidth,10),H=0,V=0,U="offsetWidth"in _?_.offsetWidth-_.clientWidth-B-F:0,W="offsetHeight"in _?_.offsetHeight-_.clientHeight-L-R:0;if(l===_)H="start"===r?w:"end"===r?w-m:"nearest"===r?of(h,h+m,m,L,R,h+w,h+w+b,b):w-m/2,V="start"===i?k:"center"===i?k-p/2:"end"===i?k-p:of(f,f+p,p,B,F,f+k,f+k+v,v),H=Math.max(0,H+h),V=Math.max(0,V+f);else{H="start"===r?w-T-L:"end"===r?w-P+R+W:"nearest"===r?of(T,P,A,L,R+W,w,w+b,b):w-(T+A/2)+W/2,V="start"===i?k-N-B:"center"===i?k-(N+I/2)+U/2:"end"===i?k-M+F+U:of(N,M,I,B,F+U,k,k+v,v);var z=_.scrollLeft,G=_.scrollTop;w+=G-(H=Math.max(0,Math.min(G+H,_.scrollHeight-A+W))),k+=z-(V=Math.max(0,Math.min(z+V,_.scrollWidth-I+U)))}E.push({el:_,top:H,left:V})}return E};function cf(e){return e===Object(e)&&0!==Object.keys(e).length}var lf,uf=function(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(cf(t)&&"function"==typeof t.behavior)return t.behavior(n?[]:sf(e,t));if(!n){var a=function(e){return!1===e?{block:"end",inline:"nearest"}:cf(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var a=e.el,r=e.top,i=e.left;a.scroll&&n?a.scroll({top:r,left:i,behavior:t}):(a.scrollTop=r,a.scrollLeft=i)}))}(sf(e,a),a.behavior)}},df=function(){return lf||(lf="performance"in window?performance.now.bind(performance):Date.now),lf()};function pf(e,t,n,a,r,i){var o,s,c;void 0===a&&(a=600),void 0===r&&(r=function(e){return 1+--e*e*e*e*e}),o=e,s=e.scrollLeft,c=e.scrollTop,function e(t){var n=df(),a=Math.min((n-t.startTime)/t.duration,1),r=t.ease(a),i=t.startX+(t.x-t.startX)*r,o=t.startY+(t.y-t.startY)*r;t.method(i,o),i!==t.x||o!==t.y?requestAnimationFrame((function(){return e(t)})):t.cb()}({scrollable:o,method:function(t,n){e.scrollLeft=Math.ceil(t),e.scrollTop=Math.ceil(n)},startTime:df(),startX:s,startY:c,x:t,y:n,duration:a,ease:r,cb:i})}var mf=function(e,t){var n=t||{};return function(e){return e&&!e.behavior||"smooth"===e.behavior}(n)?uf(e,{block:n.block,inline:n.inline,scrollMode:n.scrollMode,boundary:n.boundary,behavior:function(e){return Promise.all(e.reduce((function(e,t){var a=t.el,r=t.left,i=t.top,o=a.scrollLeft,s=a.scrollTop;return o===r&&s===i?e:[].concat(e,[new Promise((function(e){return pf(a,r,i,n.duration,n.ease,(function(){return e({el:a,left:[o,r],top:[s,i]})}))}))])}),[]))}}):Promise.resolve(uf(e,t))},ff=n("SNOG"),hf=me.b.Grid.make((function(e){var t=e.slots;return g.createElement("div",{className:Mf.container},t.body)})),gf=me.b.Node.make((function(e){var t=e.state,n=e.notify,a=g.createRef();return _.a.useSubscriptionTo(Object(b.pipe)(t,x.a.map((function(e){return e.scrollTo})),x.a.distinctUntilChanged(),x.a.tap((function(e){return Object(b.pipe)(O.g.fromNullable(a.current),O.g.chain((function(t){return O.g.fromNullable(t.querySelector("."+bf(e)))})),Of)})))),g.createElement(v.a.div,{mount:a},t.pipe(x.a.map((function(e){return Object(b.pipe)(e.phrases,O.f.map((function(e){return g.createElement(Nt.a.White,Object(p.a)({key:e.id,name:"phrase",onClick:n({type:Pm.Type.InsertPhrase,phraseId:e.id})},Object(be.c)(U.o.button,Mf.phrase,bf(e.id))),e.content)})))}))))})),bf=function(e){return"phrase-id-"+e},vf=me.b.Node.make((function(e){var t=e.state,n=g.createRef();return _.a.useSubscriptionTo(t.pipe(x.a.distinctUntilChanged(),x.a.switchMap(A.b.Scheduler.rafScheduler),x.a.tap((function(e){return Boolean(e)&&Object(b.pipe)(n.current,O.g.fromNullable,Of)})))),g.createElement(v.a.div,{className:t.pipe(x.a.map((function(e){return e?Mf.loader:Mf.loaderHidden}))),mount:n},g.createElement(ff.a,null))})),yf=me.b.Grid.make((function(e){var t=e.slots,n=e.state,a=_.a.useElWatcher(),r=a.ref,i=a.onMount;return _.a.useSubscriptionTo(Object(b.pipe)(x.a.combineLatestStatic([r.pipe(x.b.compact),n.pipe(x.a.filter((function(e){return e.resetScroll})))]).pipe(x.a.tap((function(e){return Object(f.a)(e,1)[0].scrollTop=0}))))),g.createElement(v.a.div,{mount:i,className:Mf.phrases,style:n.pipe(x.a.map((function(e){return e.isScrollable})),x.a.distinctUntilChanged(),x.a.startWith(!0),x.a.map((function(e){return{overflow:e?void 0:"hidden"}})))},t.phrases,t.loader)})),Of=O.g.tap((function(e){return mf(e,{behavior:"smooth",block:"nearest",inline:"start",scrollMode:"if-needed"})})),Sf=me.b.Knot.make(yf,{phrases:gf,loader:vf}),Cf=me.b.Union.asOption(me.b.Knot.make(hf,{body:Sf})),wf=Object(b.flow)(x.a.map(O.g.fromPredicate(Tm.isPhrases)),(function(e){var t=e.pipe(x.a.distinctUntilChanged(O.g.getEq(O.c.getStructEq({id:O.c.eqStrict,phrases:O.c.eqStrict})).equals),x.a.map(O.g.map((function(e){return Object(m.a)(Object(p.a)({},e),{phrases:{scrollTo:e.phrases[0].id,phrases:e.phrases}})}))),x.a.scan((function(e,t){return Object(b.pipe)(t,O.g.map((function(t){var n=t.id,a=t.phrases;return Object(b.pipe)(e,O.g.filter((function(e){return e.id===n})),O.g.fold(Object(b.constant)({id:n,phrases:a}),(function(e){return{id:e.id,phrases:kf(e.phrases.phrases,a.phrases)}})))})))})),x.a.map(O.g.map((function(e){return e.phrases})))),n=e.pipe(x.a.map(O.g.map((function(e){return e.loadingState}))),x.a.distinctUntilChanged(O.g.getEq(O.c.eqStrict).equals),x.a.map(O.g.map((function(e){return e===Tm.LoadingState.Loading})))),a=n.pipe(x.a.map(O.g.map((function(e){return!e})))),r=e.pipe(x.a.pairwise(),x.a.map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return Object(b.pipe)(a,O.g.map((function(e){var t=e.id;return O.g.exists((function(e){return e.id!==t}))(n)})))})),x.a.startWith(O.g.none));return x.a.combineLatestStatic([t,n,a,r]).pipe(x.a.map((function(e){var t=Object(f.a)(e,4),n=t[0],a=t[1],r=t[2],i=t[3];return Object(b.pipe)(Object(tf.a)(O.g.Applicative)({phrases:n,loader:a,resetScroll:i,isScrollable:r}))})),x.a.map(O.g.map((function(e){var t=e.phrases,n=e.loader,a=e.isScrollable;return{body:{phrases:t,loader:n,root:{resetScroll:e.resetScroll,isScrollable:a}}}}))))}));function kf(e,t){for(var n=O.f.copy(e),a=0;a<t.length;a++){var r=t[a];n[0].id===r.id&&n.shift(),n.push(r)}return{scrollTo:e[e.length-1].id,phrases:n}}var Ef,jf,_f=j.a.rem(1.375),xf=j.a.keyframes({to:{opacity:0}}),Af=j.a.keyframes({"0%":{opacity:0,transform:"translateY(50%)"},"50%":{opacity:0},"100%":{opacity:1}}),If={height:j.a.rem(16.625),overflowY:"auto",animationDuration:"".concat(300,"ms"),animationFillMode:"forwards"},Tf={height:j.a.rem(11),pointerEvents:"none",display:"flex",justifyContent:"center",alignItems:"center",width:j.a.percent(100),backgroundColor:Pe.a.CoreNeutral0},Mf=j.a.prefixedStylesheet("draft_ai_phrase_selector",{title:[{paddingTop:j.a.rem(1.5)}],loader:[Tf],loaderHidden:[Tf,{position:"absolute",opacity:0,bottom:0}],smartPhrasesTitle:[{color:Pe.a.CoreNeutral50,textTransform:"uppercase",letterSpacing:Pe.h.SubheadingLetterSpacing,fontSize:j.a.rem(Pe.h.SubheadingSize),lineHeight:j.a.rem(Pe.h.SubheadingLineHeight),borderBottom:"1px solid ".concat(Pe.a.CoreNeutral20),marginTop:0,paddingBottom:j.a.rem(.5),marginBottom:j.a.rem(.5)}],phrase:[{width:j.a.percent(100),whiteSpace:"initial",textTransform:"none",lineHeight:j.a.important(j.a.rem(1.375)),padding:"".concat(j.a.rem(.3)," ").concat(j.a.rem(.5)),$nest:{"&:not(:last-child)":{marginBottom:j.a.rem(.5)}}}],addPhraseIcon:[{minWidth:_f,minHeight:_f,marginTop:j.a.important(0)}],container:[{paddingBottom:j.a.rem(.75)}],phrases:[If],phrasesRemoving:[If,{animationName:xf}],phrasesAppearing:[If,{animationName:Af}]}),Pf=function(e){var t=e.tactics,n=e.description,a=e.selectedTactic,r=e.onSelect;return g.createElement(g.Fragment,null,t.map((function(e){return g.createElement(Nf,{key:e.id,tactic:e,selected:e.id===a,onClick:function(){return r(e.id)}})})),g.createElement(U.a,{className:Lf.description},n))},Nf=function(e){var t=e.tactic,n=e.selected,a=e.onClick,r={name:"ideas-tactic-".concat(t.id),children:t.name,onClick:a};return n?g.createElement(Nt.a.Primary,Object(m.a)(Object(p.a)({},r),{className:Lf.sectionButtonSelected})):g.createElement(Nt.a.Ghost,Object(m.a)(Object(p.a)({},r),{className:Lf.sectionButton}))},Df={marginRight:j.a.rem(.5),marginBottom:j.a.rem(.5),border:"1px solid ".concat(Pe.a.CoreNeutral20),backgroundColor:Pe.a.CoreNeutral0,color:Pe.a.CoreBlue50},Bf={color:Pe.a.CoreNeutral0,backgroundColor:Pe.a.CoreBlue50},Lf=j.a.prefixedStylesheet("ideas_tactic_selector",{sectionButton:[Df],sectionButtonSelected:[Df,Bf],description:[{marginTop:j.a.rem(.5),lineHeight:j.a.rem(1.375),marginBottom:j.a.rem(1)}]}),Ff=function(e){var t,n=Object(Zm.b)({layoutDensity:"minimal"});return g.createElement("div",{className:n.container},g.createElement(v.a.div,{className:ef.a.cardHeader},Object(b.pipe)(e.state.view("title"),x.a.map((function(e){return g.createElement(Vf,null,e)}))),g.createElement("div",{className:ef.a.cornerButton},g.createElement(Nt.a.Ghost,{name:"collapse",onClick:function(){return e.actions.next({type:Pm.Type.Collapse})}},g.createElement(xt.f.Collapse,null)))),g.createElement("div",{className:ef.a.cardWrapper},g.createElement("div",{className:ef.a.cardSectionsRow},g.createElement(v.a.Fragment,null,Object(b.pipe)(e.state,x.a.map((function(t){var n=t.tactics,a=t.description,r=t.id;return g.createElement(Pf,{tactics:n,description:a,selectedTactic:r,onSelect:function(t){return e.actions.next({type:Pm.Type.SelectTactic,tacticId:t})}})})))),me.b.mount(Wf,(t=e,me.a.fromSideEffect((function(e){return t.actions.next(e.action.action.action.action)}),wf(t.state))))),g.createElement(v.a.div,{className:ef.a.cardActionsRow},me.b.mount(Gf,me.a.fromSideEffect((function(t){return e.actions.next(t.action)}),e.state)),g.createElement("div",{className:ef.a.cardActionsSeparator}),g.createElement(Nt.a.Ghost,{name:"dismiss",onClick:function(){return e.actions.next({type:Pm.Type.Dismiss})}},g.createElement(xt.d.Ignore,null)))))},Rf=me.b.Node.make((function(e){var t=e.notify;return g.createElement(Km.GenerateButton,{name:"generate-more-phrases",onClick:t({type:Pm.Type.UpdatePhrases})},g.useContext(zd.a.Context).draftAI.morePhrases)})),Hf=me.b.Node.make((function(e){var t=e.notify;return g.createElement(Km.GenerateButton,{name:"inspire-me",onClick:t({type:Pm.Type.Ideate})},g.useContext(zd.a.Context).draftAI.inspireMe)})),Vf=function(e){return g.createElement("span",Object(be.c)($m.a.lens,$m.a.dot,$m.a.commonLabel,ef.a.cardHeaderSpan),g.createElement("img",{className:ef.a.titleIcon,src:Xm.a,alt:"","aria-hidden":!0}),e.children)},Uf=me.b.Grid.make((function(e){var t=e.slots;return g.createElement(Se.b,{alignment:"left",eventType:"onclick",stepId:Qu.a.StepId.Step15,title:"Click an idea to use and modify it.",message:"",themes:{notificationClassName:ef.a.onboardingNotification}},g.createElement(g.Fragment,null,t.phrases))})),Wf=Object(b.pipe)(Cf,me.b.patch("Some","value","body")((function(e){return me.b.Composite.make(Uf,e)}))),zf=me.b.Grid.make((function(e){var t=e.slots;return g.createElement(Se.b,{alignment:"left",eventType:"onclick",stepId:Qu.a.StepId.Step14,title:"Click to explore ideas",message:"",themes:{notificationClassName:ef.a.onboardingNotification}},g.createElement(g.Fragment,null,t.ideate))})),Gf=me.b.Union.make("type",(Ef={},Object(u.a)(Ef,Tm.Type.Default,me.b.Composite.make(zf,Hf)),Object(u.a)(Ef,Tm.Type.TacticSelected,Rf),Ef)),qf=function(e){var t=e.draftAIEditorVM,n=e.lensPreviewVM,a=e.onTransitionEnd,r=e.transition,i=n.getLens(Rc.a.SpecialId.AllAlerts).view("count"),o=new x.a.Subject;return _.a.useSubscriptionTo(o.pipe(x.a.filter((function(e){return e.type===Hd.b.Type.switchToClosestByViewport})),x.a.mapTo({type:Pm.Type.Collapse}),x.a.tap(t.actions))),g.createElement(Vd.b.FixedContent,{key:Rc.a.SpecialId.DraftAI,label:t.state.get().title},g.createElement(v.a.div,Object(m.a)(Object(p.a)({},Object(be.c)(Kf.lensContainer,r.pipe(x.a.map((function(e){return e.base}))))),{onTransitionEnd:a}),g.createElement(v.a.div,Object(be.c)(Kf.cardWrapper,r.pipe(x.a.map((function(e){return e.content})))),g.createElement(Ff,t))),g.createElement(Vd.b.SeeAlerts,{cardsViewportState:i.view((function(e){return e>0?qm.a.below:qm.a.hidden})),actionEvents:o,cardsAmount:i}))},Kf=j.a.prefixedStylesheet("draft_ai_lens",{lensContainer:[{width:j.a.percent(100),paddingBottom:j.a.rem(3)}],cardWrapper:[{paddingRight:j.a.rem(2),paddingTop:j.a.rem(4.5)}]}),$f=n("9QYy"),Zf=n("SDkL"),Yf=n("+ySe"),Xf=n("VY6k"),Qf=n("Qq8L"),Jf=n("gfa6"),eh=(n("5IbU"),n("AAy5")),th=function(){var e=g.useContext(pe.a.Context);return g.createElement("div",{className:eh.content},g.createElement(U.a,{className:eh.originality100Text},e.plagiarism.originalText),g.createElement(ah,{className:eh.illusration}))},nh=function(e){var t=e.variation,n=void 0===t?"violet":t;return g.createElement("div",{className:eh.content},g.createElement($p.a,{variation:n,className:eh.loader}),g.createElement(U.a,{className:eh.loadingText},"Please wait.",g.createElement("br",null),"We’re checking your text against billions of web pages.",g.createElement("br",null),"It'll just take a moment."))},ah=function(e){var t=e.className;return g.createElement("svg",Object(m.a)(Object(p.a)({},Object(be.c)(t)),{width:"334",height:"375",viewBox:"0 0 334 375",xmlns:"http://www.w3.org/2000/svg"}),g.createElement("g",{fill:"none",fillRule:"evenodd"},g.createElement("path",{d:"M160.3 199.297C145.842 196.217 135 183.375 135 168c0-17.673 14.327-32 32-32 17.673 0 32 14.327 32 32 0 14.726-9.947 27.128-23.488 30.856 1.032-4.938 2.81-9.608 5.193-13.675.144-.214.215-.357.36-.572 1.504-2.576 2.15-5.438 2.006-8.372-.214-4.15-2.15-7.943-5.088-10.52l-1.362-1.144c-2.222-1.574-4.874-2.576-7.74-2.72-4.302-.285-8.315 1.146-11.47 4.08-3.08 2.862-4.8 6.94-4.8 11.09 0 2.362.5 4.652 1.576 6.727.358.787.716 1.43 1.218 2.075 2.323 4.075 3.954 8.634 4.895 13.472z",fill:"#F7EAF7"}),g.createElement("path",{d:"M176.62 164.617c-2.222-1.577-4.874-2.58-7.74-2.723-4.302-.287-8.315 1.146-11.47 4.085-3.08 2.866-4.8 6.952-4.8 11.11 0 2.364.5 4.658 1.576 6.736.358.79.716 1.434 1.218 2.08 2.365 4.156 4.014 8.815 4.946 13.76.286 1.362.5 2.796.645 4.158.358 1.075 1.075 1.72 2.007 1.935.215 1.36 1.29 2.507 2.795 3.01l1.147.286c.286.07.645.07.93.07.647 0 1.292-.07 1.865-.285 0 0 1.002-.358 1.002-.43 1.076-.644 1.792-1.576 1.936-2.65 1.003-.288 1.792-1.148 2.078-2.223.072-.86.215-1.65.36-2.437.93-5.734 2.866-11.18 5.59-15.84.143-.215.214-.36.358-.574 1.505-2.58 2.15-5.447 2.007-8.386-.214-4.157-2.15-7.956-5.088-10.536l-1.362-1.147zm-8.745 19.71c.932.718 2.294 1.506 3.728 1.864-1.076 3.872-1.936 9.463-2.222 11.254h-3.01c-.286-1.79-1.147-7.454-2.222-11.253 1.434-.357 2.796-1.074 3.727-1.862zm-1.29-3.08c0-.073-.143-1.506 1.075-1.72h.36c1.217.214 1.074 1.647 1.074 1.72-.072.716-.79 1.432-1.29 1.79-.43-.43-1.147-1.074-1.22-1.79zm-1.003 17.344c.143.073.215.145.358.073.072 0 .144-.072.215-.072h3.297c.072.073.144.073.215.073h.072c.142 0 .214-.072.286-.072h4.3c-.143.79-.287 1.506-.43 2.295 0 .072 0 .143-.072.287h-12.04c-.073-.574-.144-1.147-.288-1.65-.07-.286-.143-.572-.215-.86l4.302-.07zm2.293 9.462c-1.79 0-3.368-.93-3.727-2.222h7.383c-.286 1.29-1.863 2.222-3.655 2.222zm3.943-3.297h-7.956c-.79 0-1.506-.5-1.792-1.147-.072-.43-.144-.93-.144-1.36h11.898c-.07.357-.07.715-.143 1.074-.214.86-.93 1.433-1.862 1.433zm10.106-28.455c.143 2.724-.502 5.376-1.792 7.67v.07c-.143.216-.215.43-.36.646-2.292 3.87-3.94 8.243-5.087 12.83h-4.23c.287-1.935 1.148-7.382 2.223-11.11.573.072 1.146.072 1.648-.07 1.22-.36 1.72-1.578 1.65-2.58-.073-.933-.646-1.578-1.435-1.722-.5-.07-1.432.144-1.934 1.29-.215.502-.43 1.147-.645 1.864-1.146-.287-2.364-.932-3.153-1.505.574-.502 1.362-1.29 1.434-2.365.072-1.22-.5-2.652-2.006-2.867H167.59c-1.506.287-2.08 1.72-2.008 2.868.072 1.075.86 1.863 1.433 2.365-.788.573-2.007 1.218-3.153 1.505-.215-.717-.43-1.362-.645-1.864-.502-1.146-1.434-1.36-1.936-1.29-.787.072-1.36.79-1.432 1.72-.072 1.004.43 2.222 1.648 2.58.502.144 1.076.144 1.65.072 1.002 3.656 1.934 9.103 2.22 11.11h-4.228c-1.003-4.372-2.58-8.458-4.66-12.185-.357-.644-.787-1.29-1.146-1.934 0 0 0-.072-.07-.072-.933-1.935-1.435-4.085-1.435-6.235 0-3.872 1.65-7.67 4.516-10.322 2.867-2.724 6.665-4.014 10.608-3.8 2.653.216 5.16 1.076 7.24 2.58.07.073.143.144.215.144 3.082 2.366 5.304 6.236 5.52 10.608zm-8.96 9.03c.215-.644.43-1.217.574-1.647.286-.717.788-.645.788-.645.43.07.502.573.502.717.072.573-.215 1.29-.86 1.433-.287.143-.645.215-1.004.143zm-10.177 0c-.36 0-.717 0-1.004-.07-.645-.215-.932-.86-.86-1.434 0-.143.072-.645.502-.717.143 0 .5.07.788.645.143.43.358.93.574 1.576z",fill:"#8189A9",fillRule:"nonzero"}),g.createElement("path",{d:"M167.804 157.88c-.287 0-.502-.287-.574-.574v-8.457c0-.36.287-.575.574-.575.358 0 .573.287.573.574v8.456c0 .36-.287.574-.573.574zm-10.75 2.58l-4.302-7.31c-.143-.216-.072-.574.215-.717.215-.144.573-.072.717.215l4.3 7.31c.144.215.072.574-.215.717-.072.072-.216.072-.287.072-.144 0-.36-.144-.43-.287zm-14.55 3.44c-.217-.143-.288-.43-.145-.716.142-.287.43-.36.716-.215l7.382 4.156c.287.143.36.43.215.717-.143.215-.286.286-.5.286-.145 0-.216 0-.288-.072l-7.383-4.157zm-3.442 14.48c-.287 0-.573-.288-.573-.503-.073-.358.214-.573.5-.573l8.458-.072c.358 0 .573.215.573.502.073.358-.214.573-.5.573l-8.458.072zm10.966 9.03c.215-.143.574-.072.79.215.142.215.07.573-.216.717l-7.31 4.23c-.073.07-.216.07-.288.07-.215 0-.43-.143-.5-.286-.145-.215-.073-.574.214-.717l7.31-4.23zm12.472-29.458l-1.505-4.874c-.072-.287.07-.574.358-.645.287-.072.573.07.645.358l1.505 4.875c.072.287-.07.573-.358.645h-.143c-.215 0-.43-.143-.502-.358zm-9.103 5.303l-3.727-3.44c-.215-.215-.215-.573 0-.788.215-.215.573-.215.788 0l3.728 3.44c.215.215.215.573 0 .788-.144.072-.287.144-.43.144-.144 0-.287-.073-.36-.145zm-4.66 8.816c0 .217-.214.432-.5.432h-.144l-4.945-1.076c-.287-.07-.502-.358-.43-.645.07-.285.358-.5.645-.43l4.945 1.076c.287.072.502.36.43.646zm-5.733 11.47l4.874-1.577c.287-.072.574.07.645.358.072.288-.07.574-.358.646l-4.874 1.577h-.142c-.215 0-.43-.143-.502-.358-.072-.287.072-.574.358-.646zm9.748 7.884c.143-.215.502-.215.788 0 .287.215.287.573.072.788l-3.44 3.727c-.144.07-.287.143-.43.143-.144 0-.287-.072-.36-.144-.285-.216-.285-.574-.07-.79l3.44-3.726zm40.063-27.523l-7.382 4.158c-.072.07-.143.07-.287.07-.215 0-.358-.07-.502-.285-.143-.287-.07-.574.216-.717l7.382-4.157c.287-.145.573-.073.717.214.142.286.07.573-.145.717zm3.372 14.48l-8.458-.073c-.287 0-.574-.215-.502-.573 0-.287.215-.502.573-.502l8.46.072c.285 0 .572.215.5.573 0 .215-.286.502-.573.502zm-10.608 9.03l7.31 4.23c.287.142.358.5.215.716-.072.143-.287.286-.502.286-.07 0-.215 0-.286-.07l-7.31-4.23c-.288-.144-.36-.502-.216-.717.216-.287.574-.358.79-.215zm.86-15.34c-.072-.285.143-.572.43-.644l4.945-1.075c.287-.07.573.145.645.43.072.288-.143.575-.43.646l-4.946 1.076h-.143c-.286 0-.5-.215-.5-.43zm6.163 11.47c.287.07.43.358.36.645-.073.215-.288.358-.503.358h-.143l-4.874-1.577c-.287-.072-.43-.358-.36-.645.073-.286.36-.43.646-.357l4.873 1.577zm-9.46 7.884l3.44 3.727c.215.216.215.574-.072.79-.07.07-.214.143-.357.143-.144 0-.287-.072-.43-.144l-3.44-3.728c-.216-.215-.216-.573.07-.788.288-.215.646-.215.79 0zm-5.233-30.82c-.287-.144-.358-.43-.215-.717l4.3-7.31c.144-.288.43-.36.717-.216s.36.43.215.718l-4.3 7.31c-.072.215-.215.287-.43.287-.072 0-.215 0-.287-.072zm-5.447-2.294c-.287-.072-.43-.358-.36-.645l1.506-4.874c.07-.286.358-.43.645-.357.286.07.43.358.358.645l-1.505 4.874c-.072.215-.287.358-.502.358h-.143zm9.102 4.945c-.215-.215-.215-.573 0-.788l3.727-3.44c.216-.215.574-.215.79 0 .214.215.214.573 0 .788l-3.728 3.44c-.072.072-.215.144-.36.144-.142 0-.357 0-.43-.145z",fillOpacity:".5",fill:"#C770C8",fillRule:"nonzero"}),g.createElement("g",{fillRule:"nonzero"},g.createElement("path",{d:"M297.125 147.025c.3.3.3.8-.1 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8zm3.9 4l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm6.8-5.7c.3.3.3.8-.1 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0zM121.425 366.225l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm5.6 5.7l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm5.7-5.7c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zM195.025 57.125l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm5.7 5.6l-1.9-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm-6.9.2c-.2 0-.4 0-.5-.1-.3-.3-.3-.8 0-1.1l1.7-1.9c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2zm5.7-5.6c-.2 0-.4-.1-.6-.2-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2z",fill:"#F9E799"}),g.createElement("path",{d:"M62.8 135.5c.5 0 .8-.2.8-.7 0-.5-.4-.8-.8-.8H48.3c-.4 0-.9.2-.9.7 0 .5.4.8.8.8h14.6zm-19.3 0c.4 0 .8-.2.8-.7 0-.5-.4-.8-.8-.8h-4.7c-.4 0-.8.2-.8.7 0 .5.4.8.8.8h4.7zm-4.7 5H49c.5 0 .8-.3.8-.8s-.4-.8-.8-.8H38.8c-.5 0-.8.3-.8.8s.4.8.8.8zm14.5 0h3.3c.5 0 .8-.3.8-.8s-.4-.8-.8-.8h-3.3c-.5 0-.8.3-.8.8s.4.8.8.8zM311 12.3c0 .4-.3.7-.8.8h-14.6c-.5 0-.8-.3-.8-.8s.4-.8.8-.8h14.6c.5 0 .8.4.8.8zm4 .7c-.4 0-.8-.3-.8-.8s.4-.8.8-.8h4.7c.5 0 .8.3.8.8s-.4.8-.8.8H315zm4.7 3.5c.5 0 .8.4.8.8 0 .5-.4.8-.8.8h-10.1c-.5 0-.8-.4-.8-.8 0-.5.4-.8.8-.8h10.1zm-14.5 0c.5 0 .8.4.9.8 0 .5-.4.8-.8.8H302c-.5 0-.8-.4-.8-.8 0-.5.4-.8.8-.8h3.2z",fill:"#A4D3FF"}),g.createElement("path",{d:"M0 3.9c0 2.2 1.8 3.9 3.9 3.9 2.2 0 3.9-1.8 3.9-3.9C7.8 1.7 6 0 3.9 0 1.7 0 0 1.7 0 3.9zm6.3 0c0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.3 1.1-2.4 2.4-2.4 1.3 0 2.4 1 2.4 2.4zM330.4 301c-1.9 0-3.4 1.5-3.4 3.4s1.5 3.4 3.4 3.4 3.4-1.5 3.4-3.4c-.1-1.9-1.6-3.4-3.4-3.4zm0 5.2c-1 0-1.9-.8-1.9-1.9 0-1 .8-1.9 1.9-1.9 1 0 1.9.8 1.9 1.9-.1 1.1-.9 1.9-1.9 1.9zM113.6 101.2c2.2 0 3.9-1.8 3.9-3.9 0-2.2-1.8-3.9-3.9-3.9-2.2 0-3.9 1.8-3.9 3.9 0 2.1 1.7 3.9 3.9 3.9zm0-6.3c1.3 0 2.4 1.1 2.4 2.4 0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.4 1.1-2.4 2.4-2.4z",fill:"#A1E7D7"}))))},rh=(n("nEY+"),n("2xUq"));!function(e){e.NearTitle="NearTitle",e.AboveCards="AboveCards"}(jf||(jf={}));var ih,oh,sh=function(e){var t=g.useContext(pe.a.Context);return g.createElement(ih.Content,Object(m.a)(Object(p.a)({},e),{theme:{viewport:Jf.a.viewport,lensviewContentWrapper:Jf.a.lensviewContentWrapper},loaderVariation:"cyan"}),g.createElement(v.a.div,Object(be.c)(Jf.a.headerWrapper,e.transition.pipe(x.a.map((function(e){return e.title})))),g.createElement(Ud.a.Title,{lensAlertsCount:e.state.view("currentLens","meta","percentile").view(Object(b.flow)(Yd.a.fromRatio,Yd.a.prism.reverseGet)),lensId:Rc.a.SpecialId.Plagiarism,lensPreviewVM:e.lensPreviewVM,customInfoButton:g.createElement(v.a.Fragment,null,e.getPlagiarismText(jf.NearTitle)(t,e.plagiarismModel.checkingState,e.state.view("currentLens","meta","percentile").view(Yd.a.fromRatio),e.state.view("currentLens").view(e.capabilities.getActiveAlertsCount),e.state.view("currentLens","items","size")))})))};(oh=ih||(ih={})).getPlagiarismTextNearTitle=function(e,t,n,a,r){return y.a.combine(t,n,a,r,(function(t,n,a,r){var i="full"===t?e.plagiarism.loadingDescription:e.plagiarism.helpIconDescription(n,a,r);return a>0||"full"===t?g.createElement(Nt.b,{key:i,title:i}):null}))},oh.getPlagiarismTextAboveCards=function(e,t,n,a,r){return y.a.combine(n,a,r,(function(t,n,a){return e.plagiarism.lensDescription(t,n,a,Object(Xf.a)(rh.whiteReferenceLink))}))},oh.Content=function(e){return g.createElement(g.Fragment,{key:Rc.a.SpecialId.Plagiarism},g.createElement(Vd.b.FixedContent,{label:e.state.get().currentLens.meta.title,onTransitionEnd:e.onTransitionEnd},e.children,g.createElement(Vd.b.SeeAlerts,{key:"seeAlerts",cardsViewportState:Yf.c.getCardsViewportState(e.state,e.cardsListScrollManager,e.capabilities),actionEvents:e.cardsVM.actionEvents,cardsAmount:e.state.view("currentLens").view("items").view("size")}),g.createElement(v.a.div,{className:e.theme.viewport},g.createElement(v.a.div,Object(be.c)(rh.content,e.transition.pipe(x.a.map((function(e){return e.base})))),y.a.combine(e.state.view("currentLens").view(e.capabilities.getActiveAlertsCount),e.plagiarismModel.checkingState,(function(t,n){switch(n){case"idle":case"checking":return t>0?null:g.createElement(th,{key:"originality100"});case"full":return g.createElement(nh,{key:"loading",variation:e.loaderVariation});default:return Object(yt.c)(n)}}))))),g.createElement(v.a.div,null,y.a.combine(e.state.view("currentLens").view(e.capabilities.getActiveAlertsCount),e.plagiarismModel.checkingState,(function(t,n){switch(n){case"idle":case"checking":return t>0?g.createElement(ch,Object(p.a)({key:"cards-view"},e)):null;case"full":return null;default:return Object(yt.c)(n)}}))))};var ch=function(e){var t=e.cardsVM,n=e.state,a=e.scrollEl,r=e.cardsListScrollManager,i=e.isMaster,o=e.transition,s=e.theme,c=e.checksFeedItem,l=e.capabilities,u=e.comparator,d=Qf.a.Elements.create(),p=n.lens(Sl.e.Prism.getLens()),m=y.a.create(O.g.none),f=new x.a.ReplaySubject;_.a.useSubscriptionTo(f.pipe(x.a.tap((function(e){return d.lens("scrollConsumer").set(e)}))));var h=$f.a.cardList(c(t.actionEvents)),b=Yf.c.getScrollObserver(r).pipe(x.a.startWith(!1)),S=Gd.a.createCardListFlow(t,O.g.none,O.g.none)(t,p,f,b,l,u);return g.createElement(Qf.a,{stateSyncListener:Qf.a.superScrollListener(r,d),height:Yf.c.getAssistantHeight(n,r,l),className:o.pipe(x.a.map((function(e){return e.assistantWrapper}))),name:"plagiarism",isMaster:i},g.createElement(g.Fragment,null,g.createElement("div",{ref:function(e){return m.set(O.g.fromNullable(e))},className:rh.fakeTop}),g.createElement(v.a.div,{className:s.viewport},g.createElement(v.a.div,Object(be.c)(s.lensviewContentWrapper,o.pipe(x.a.map((function(e){return e.content})))),g.createElement(te.c,{onMount:function(){return x.a.mergeStatic(a.pipe(x.a.tap(A.b.toAtom(d.lens("scrollProvider")))),m.pipe(x.a.tap(A.b.toAtom(d.lens("viewport"))))).subscribe()}},me.b.mount(Zf.a,(function(){return Yf.c.getPlaceholderState(n,r)})),me.b.mount(h,S))))))},lh=n("5QQ2"),uh=(n("YEfA"),n("xryS")),dh=function(){return g.createElement("svg",{"aria-hidden":!0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},g.createElement("path",{d:"M4.6665 4.66663L7.99984 7.99996L4.6665 11.3333M9.33317 4.66663L12.6665 7.99996L9.33317 11.3333",stroke:"#4D536E",strokeLinecap:"round"}))},ph=function(e){var t=e.navigationViewModel,n=e.isOggy,a=g.useContext(P.a.Context),r=a.gnarSpec,i=a.pageId,o=g.useContext(pe.a.Context),s=function(){t.events.next({type:"toggleSidebar",actionSource:Qt.b.sidebar}),r.assistantCloseButtonClick(i,Sl.i.fromLensId(t.activeLensId.get()))};return n?g.createElement("div",{className:uh.overviewBtnOggy},g.createElement(vd.a,{accessibilityLabel:"Hide assistant panel",variant:"tertiary",onClick:s,text:G.f.capitalize(o.hideAssistant.toLocaleLowerCase()),iconEnd:vd.j})):g.createElement(Nt.a.SidebarFlat,{name:"hide-assistant",className:uh.overviewBtn,onClick:s,tag:qp.b.div},g.createElement(U.l,{className:uh.hideAssistantOutcomeText},o.hideAssistant),g.createElement(dh,null))},mh=function(e){var t=e.documentModel,n=e.features,a=e.navigationViewModel;return g.createElement(v.a.div,{className:uh.sidebarHeader},a.state.view("isSidebarOpen").view((function(e){return e?g.createElement(ph,{key:"hide-assistant",navigationViewModel:a,isOggy:O.g.isSome(n.denali.oggy)}):g.createElement("div",{"data-name":"toggler",key:"toggle-wrapper",className:uh.togglerWrapper},g.createElement(lh.a,{documentModel:t,features:n,navigationViewModel:a}))})))},fh=n("hmxm"),hh=n("Vt5D"),gh=me.b.Node.make((function(e){var t=e.state,n=e.notify;return g.createElement(Nt.a.Primary,{name:"draftai-mini",className:yh.button,onClick:n("click")},t.pipe(x.a.map((function(e){return e.title}))))})),bh=me.b.Union.asOption(gh),vh={transition:"opacity 100ms"},yh=j.a.prefixedStylesheet("draftai_minibutton",{button:[{position:"absolute",right:j.a.rem(2),padding:"0 ".concat(j.a.rem(.5)),transition:"opacity 100ms"}],icon:[{display:"inline-flex",minHeight:j.a.rem(2),minWidth:j.a.rem(2),verticalAlign:"top"}],fadeIn:[vh,{opacity:1}],fadeOut:[vh,{opacity:0}]}),Oh=me.b.Transition.make({fadein:yh.fadeIn},{fadeout:yh.fadeOut}),Sh=me.b.Animated.make(Oh,bh),Ch=n("YqdJ"),wh=n("A/YC");function kh(e,t,n){return me.a.animatingFlow(function(e,t,n){var a=x.a.of(!0).pipe(x.a.delay(500));return me.a.fromSideEffect((function(){return e.events.next({kind:wh.b.Event.Kind.draftAIMiniCardClick,cardPosition:{top:0}})}),x.a.combineLatestStatic([n.viewport,e.state,t,n.scrollTop,a]).pipe(x.a.map((function(e){var t=Object(f.a)(e,3),n=t[0],a=t[1],r=a.node,i=a.title,o=t[2];return Object(b.pipe)(r,O.g.filter((function(e){return Ch.b.FromWindowTop.ISO.unwrap(n.top)>e.getBoundingClientRect().bottom})),O.g.chain((function(){return o})),O.g.map((function(){return{title:i}})))})),x.a.startWith(O.g.none),x.b.distinct))}(e,t,n),O.g.fold((function(){return O.g.some(O.m.right("fadein"))}),(function(){return O.g.some(O.m.both("fadeout","fadein"))})))}var Eh,jh,_h,xh,Ah,Ih,Th,Mh,Ph,Nh,Dh,Bh,Lh,Fh=function(e){return j.a.color(vd.D.Color.BlueGray40).toRGBA().fade(e).toString()},Rh={boxShadow:"0px 0px 0px 0.5px ".concat(vd.D.Color.BlueGray40,", 0px 0px 2px 0.5px ").concat(Fh(.5),", 0px 1px 8px 0.5px ").concat(Fh(.1),", 0px 2px 12px 0.5px ").concat(Fh(.1),", 0px 4px 20px 0.5px ").concat(Fh(.25)),borderRadius:j.a.rem(vd.D.Radius.Radius2),marginRight:j.a.rem(2),marginBottom:j.a.rem(2),marginLeft:j.a.rem(1),$nest:{"& input[type='radio']":{display:"unset"},iframe:{boxSizing:"content-box"}}},Hh=j.a.prefixedStylesheet("cheetah_lens",{assistantContainer:[Rh]}),Vh=Object(m.a)(Object(p.a)({height:j.a.vh(100)},dd.g.root),{$nest:Object(m.a)(Object(p.a)({},dd.g.$nest),{"& > div":Object(p.a)({width:j.a.important("inherit"),borderRadius:0,borderRight:"none",borderTop:"none",borderBottom:"none"},vd.D.Elevation.Elevation100),'& [data-name*="headerClose"]':{display:j.a.important("none")}})}),Uh=j.a.prefixedStylesheet("oggy",{oggyWrapper:[Vh]}),Wh=x.a.map(Object(b.flow)(O.g.map((function(e){return g.createElement(e,null)})),O.g.toNullable)),zh=function(e){var t=e.cheetahViewModel,n=e.mode,a=_.a.useElWatcher(),r=a.ref,i=a.onMount;return _.a.useSubscription(Object(b.pipe)(r.pipe(x.b.compact,x.a.switchMap((function(e){return A.a.getMutationObservable(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["aria-expanded"]}).pipe(x.a.map(O.a.filter((function(e){return"aria-expanded"===e.attributeName}))),x.a.filter(O.a.isNonEmpty),x.a.map((function(e){return e.some((function(e){return"true"===e.target.getAttribute("aria-expanded")}))})))})),x.a.startWith(!1)),t.acquireFocusWhen)),g.createElement(v.a.div,Object(m.a)(Object(p.a)({"data-name":"cheetah-view"},Object(be.c)("oggy"===n?Uh.oggyWrapper:Hh.assistantContainer)),{mount:i}),Wh("oggy"===n?t.assistantUI:t.ggoUI))},Gh=function(e){var t=e.transition.pipe(x.a.map((function(e){return e.base})));return g.createElement(v.a.div,Object(m.a)(Object(p.a)({},Object(be.c)(t)),{onTransitionEnd:e.onTransitionEnd}),t.pipe(x.a.map((function(t){return null!=t?g.createElement(Se.b,{alignment:"bottom",eventType:"onclick",stepId:Qu.a.StepId.Step4,title:"Review suggestions",message:"Grammarly checks for mistakes and suggests ways to improve your text.",dotPosition:{kind:"findFirstButton",position:Se.a.center,selector:'[data-name*="'.concat(Cn.a.ComponentKnownName.ButtonAccept,'"]'),buttonOrder:0}},g.createElement(zh,{mode:"oggy",cheetahViewModel:e.cheetahViewModel})):null}))))},qh=function(e){var t=e.onTransitionEnd,n=e.transition,a=e.cheetahViewModel,r=e.oggyMode;return g.createElement(v.a.div,Object(p.a)({key:Rc.a.SpecialId.Cheetah},Object(be.c)(n.pipe(x.a.map((function(e){return e.base}))))),g.createElement(Yu.a.Bottom,{className:Object(b.pipe)(r,O.g.filter((function(e){return e===Iu.j.splitSharedAssistants})),O.g.map((function(){return Jf.a.splitSharedAssistantsLensContent})),O.g.getOrElse((function(){return Jf.a.fixedLensContent}))),"aria-label":"Grammarly GO",role:"region",onTransitionEnd:t},g.createElement(Vd.c.Consumer,null,(function(){return g.createElement(zh,{mode:"ggo",cheetahViewModel:a})}))))},Kh=n("1MPA"),$h=n("AcQZ"),Zh=n("XIJR"),Yh=(n("LY2w"),n("M9C+")),Xh=function(e){var t=e.children,n=e.onVisible,a=_.a.useVisibilityObserverOnce(n);return g.createElement("div",{ref:a},t)},Qh=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u.a)(Object(s.a)(e),"getPremiumButtonShow",T.d.TimeSeries.rootFemetrics.getMetric(Zh.a.Metrics.GetPremiumButton).getCounter(Zh.a.MetricsActions.Show)),Object(u.a)(Object(s.a)(e),"getPremiumButtonClick",T.d.TimeSeries.rootFemetrics.getMetric(Zh.a.Metrics.GetPremiumButton).getCounter(Zh.a.MetricsActions.Click)),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.transition,a=t.theme,r=t.upgradeViewModel,i=t.isDemoDoc,o=t.features,s=i&&O.g.isSome(o.denali.getStartedType);return g.createElement(te.b.Context.Consumer,null,(function(t){return g.createElement(P.a.Context.Consumer,null,(function(i){var o=Ed.a.create(i.gnarSpec);return g.createElement(v.a.div,Object(be.c)(a.contentWrapper,n.pipe(x.a.map((function(e){return e.content})))),g.createElement(Kh.a,{name:"advanced"},r.advancedAlerts.view(Object(b.flow)(O.g.map((function(n){var c=n.alerts(),l=c.reduce((function(e,t){return e+t.count}),0);return[g.createElement("div",{key:"some",className:a.advancedBlockWrapper},g.createElement(U.a,null,"We found"," ",g.createElement("b",null,l," additional writing"," ",G.f.pluralize(l,"issue","issues")),g.createElement("br",null),"in this text available only for Premium users."),g.createElement("div",{key:"advanced-block",className:a.advancedBlock},g.createElement("div",{className:a.alertList},c.map((function(e){return g.createElement(U.a,{key:e.category,className:a.alertBlock},g.createElement(Zd.a.Counter,{count:e.count,type:"yellow",theme:{counterWrapper:Object(be.c)(a.counter).className,counterContent:a.counterContent}}),r.displayValue(e))}))),g.createElement("div",{className:a.graphBlock},g.createElement("div",{className:a.graphCircle2},g.createElement("div",{className:a.graphCircle1},g.createElement(U.c,Object(be.c)(a.graphCounter,"windows"===t.info.os&&a.graphCounterWin),l)))))),g.createElement("div",{key:"upgrade-block",className:a.upgradeBlock},g.createElement(Xh,{onVisible:function(){var t={pageId:i.pageId,upgradeHookName:Zh.a.UpgradeHookName.AdvancedIssues,upgradeHookSlot:Zh.a.UpgradeHookSlot.Assistant,upgradeHookVariant:e.props.upgradeViewModel.isEligibleForFreeTrial?Zh.a.UpgradeHookVariant.premiumTrial:Zh.a.UpgradeHookVariant.premium};e.getPremiumButtonShow.setContext(t).increment(),o.trackShow({pageId:i.pageId,sessionUuid:i.sessionUuid,placement:"advancedIssues",bannerType:"goPremium",upgradeHookName:"advancedIssues",upgradeHookSlot:"assistant",upgradeHookVariant:e.props.upgradeViewModel.isEligibleForFreeTrial?"premiumTrial":"premium"})}},g.createElement($h.a,{size:"big",title:e.props.upgradeViewModel.isEligibleForFreeTrial?"Try for Free":void 0,isEligibleForFreeTrial:e.props.upgradeViewModel.isEligibleForFreeTrial,upgradeAction:function(){var t={pageId:i.pageId,upgradeHookName:Zh.a.UpgradeHookName.AdvancedIssues,upgradeHookSlot:Zh.a.UpgradeHookSlot.Assistant,upgradeHookVariant:e.props.upgradeViewModel.isEligibleForFreeTrial?Zh.a.UpgradeHookVariant.premiumTrial:Zh.a.UpgradeHookVariant.premium};e.getPremiumButtonClick.setContext(t).increment(),o.trackClick({pageId:i.pageId,sessionUuid:i.sessionUuid,placement:"advancedIssues",bannerType:"goPremium",upgradeHookName:"advancedIssues",upgradeHookSlot:"assistant",upgradeHookVariant:e.props.upgradeViewModel.isEligibleForFreeTrial?"premiumTrial":"premium"}),e.props.upgradeViewModel.openUpgradeUrl(N.i.Place.DenaliDocument.editorDenaliAdvanced)}})),s&&g.createElement(M.a.Context.Consumer,null,(function(e){return g.createElement(Nt.a,{className:Yh.secondaryCta,name:"go-to-homepage",onClick:function(){return function(e,t){e.gnarSpec.continueFreeButtonClick(e.pageId),t.navigate(M.a.routes.documents.href())}(i,e)}},"Continue with free plan")})))].concat(Object(jt.a)(s?[]:[g.createElement("footer",{key:"footer",className:a.footer},g.createElement(U.i,{className:a.footerText},"It’s an online service that quickly and easily makes",g.createElement("br",null),"your writing better and makes you sound like a pro,",g.createElement("br",null),"or at least helps you avoid looking like a fool."),g.createElement(Jh,{className:a.footerLogo}))]))})),O.g.orNull))))}))}))}}]),n}(g.Component),Jh=function(e){var t=e.className;return g.createElement("svg",{"aria-hidden":!0,width:"77",height:"20",viewBox:"0 0 77 20",className:t},g.createElement("path",{d:"M15.58138.367837l.088647 5.412045-.885505.275407c-.884542-2.75209-2.12367-4.31141-4.51328-4.31141H7.17438c-.08961 1.742595-.177293 4.67895-.177293 7.797587l2.12367-.091142c1.327775 0 1.94734-1.100637 2.212316-2.660947h.796858v6.512683h-.796858c-.264977-1.559318-.88454-2.659955-2.212317-2.659955l-2.12367-.091142c0 2.38455.087682 4.310417.177293 5.504178.17633 1.742594.6186 2.568815 1.769082 2.659957l1.0628.184266v.734088H.004586v-.734087l.885505-.184266c1.150482-.091142 1.592753-.917363 1.769083-2.659956.178257-2.84323.266904-8.80708 0-12.108993-.17633-1.743584-.6186-2.477673-1.769083-2.660947l-.885505-.092133v-.82523H15.58138zm31.331168 5.319616c3.009175 0 5.31014 2.75308 5.31014 6.514664 0 4.77108-2.831883 7.797586-7.522457 7.797586-1.682362 0-3.363762-.274417-4.956514-.641956.088647-1.92686.177294-13.670294 0-15.87058-.177294-1.101627-.44227-1.560308-1.23913-1.743583l-.619563-.092132v-.549824L43.814726 0c-.088647.918354-.088647 3.57831-.088647 6.513674.97415-.550814 1.94734-.82622 3.186468-.82622zM20.62606 5.50517c4.425597 0 6.638878 3.118637 6.638878 7.24677 0 3.94486-2.478258 7.247763-6.903855 7.247763-4.425598 0-6.637915-3.118638-6.637915-7.247763 0-3.943868 2.478258-7.24677 6.902892-7.24677zm32.74759 7.3392c0-3.761584 2.300964-7.339895 6.815208-7.339895 3.716423 0 5.487433 2.845213 5.487433 6.605807h-8.23163c-.088646 3.394045 1.50507 5.870727 4.691538 5.870727 1.41546 0 2.12367-.36556 3.009175-1.008506l.353624.45868C64.613492 18.715098 62.667117 20 60.188857 20c-3.983325 0-6.815207-2.935364-6.815207-7.15563zm22.83408-6.604815l.088646 3.57732-.6186.183274c-.79686-2.477674-1.858694-3.48618-3.45241-3.48618-1.061835 0-1.858693.82523-1.858693 2.018 0 1.193762.88454 1.835718 3.3628 2.844223 2.301926.917363 3.275114 2.018 3.275114 3.94486C77.004587 18.164282 74.79227 20 71.340824 20c-1.682362 0-3.629702-.36655-4.691538-.82523l-.088646-4.036992.619564-.184265c.974152 2.75209 2.21328 3.761584 3.89468 3.761584 1.416422 0 2.212317-1.009495 2.212317-2.110133 0-1.100637-.619563-1.743584-2.83188-2.567824-2.124634-.73508-3.62874-1.743584-3.62874-4.128133 0-2.38653 2.035987-4.404532 5.31014-4.404532 1.592752 0 3.009174.275407 4.07101.73508zM38.77024 5.87152l-1.416424 3.761584c-1.770046-1.19277-3.716423-.641956-4.159657 0-.087684 2.202266-.087684 5.687453.088646 7.432028.088647 1.099647.354587 1.64947 1.23913 1.741603l1.061834.092132v.73409h-8.230667v-.73409l.619564-.092132c.796858-.092133 1.150482-.641956 1.23913-1.741603.088646-1.92686.177293-5.780576 0-7.982842-.088648-1.19277-.442272-1.65046-1.23913-1.742593l-.619564-.092133V6.69774l5.929703-1.19277-.088647 3.21077c1.416422-3.302902 4.071973-3.761583 5.57608-2.84422zm6.107285 13.118687c1.85773 0 3.185505-2.84323 3.185505-6.513674 0-2.935363-1.061835-5.319913-3.009175-5.319913-.44227 0-.795895.091142-1.327776.275408-.087684 4.77009 0 10.183125.088646 11.467037.26594.091142.70821.091142 1.0628.091142zM20.361083 6.422532c-1.94734 0-2.478258 2.75209-2.478258 6.329408 0 3.486178.885505 6.3304 2.655552 6.3304 2.035023 0 2.566904-2.75209 2.566904-6.3304 0-3.486177-.885504-6.329408-2.744197-6.329408zm37.083577 4.679245l4.159657-.092133c0-1.834726-.264977-4.586815-1.769082-4.586815-1.50507 0-2.301928 2.567823-2.390575 4.678947z",fill:"#C6CBDE",fillRule:"evenodd"}))},eg=function(e){var t=e.transition,n=e.upgradeViewModel,a=e.lensPreviewVM,r=e.features,i=e.isDemoDoc,o=g.useContext(rd.a.Context).platform===rd.a.Platform.IPAD?Object(m.a)(Object(p.a)({},Yh),{paidView:Yh.paidViewIPad,graphCircle2:Yh.graphCircle2IPad}):Yh,s=g.useContext(pe.a.Context).sidebar.premiumAlertsTitle;return g.createElement(Vd.b.FixedContent,{label:s},g.createElement(v.a.div,Object(be.c)(o.paidView,t.pipe(x.a.map((function(e){return e.base})))),g.createElement(v.a.div,Object(be.c)(Jf.a.headerWrapper,t.pipe(x.a.map((function(e){return e.title})))),g.createElement(Vd.b.Title,{lensPreviewVM:a,lensId:Rc.a.SpecialId.Premium})),g.createElement(Qh,{transition:t,upgradeViewModel:n,lensPreviewVM:a,theme:o,features:r,isDemoDoc:i})))},tg=n("RS1+"),ng=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return n}(Fd.a);jh=Eh||(Eh={}),_h=function(e){return g.useContext(rd.a.Context).platform===rd.a.Platform.IPAD?dd.a.iPadWrapper:e?dd.a.oggyWrapper:dd.a.wrapper},xh=function(e){return new Map([[jf.NearTitle,ih.getPlagiarismTextNearTitle],[jf.AboveCards,function(){return y.a.create(null)}]]).get(e)},Ah=function(e){return"prev"===e.type?e.done:b.constVoid},jh.OggyView=function(e){var t=_h(!0),n=Object(de.pipe)(e.oggyMode,O.g.exists((function(e){return e===Iu.j.splitSharedAssistants}))),a=ge.b.createComponent({section:ge.b.create(ge.b.Id.checksFeed),component:v.a.div,focusStrategy:function(e){return Object(de.pipe)(e.querySelector("input"),O.g.fromNullable,O.g.fold((function(){return Object(de.pipe)(e,Oe.a.FocusStrategy.focusRootOrFirstFocusable)}),Oe.a.FocusStrategy.focusRootOrFirstFocusable))}}),r=e.navigationViewModel.state.pipe(x.a.skipBy(Pl.b.UIState.eq));return g.createElement(v.a.Fragment,null,e.cheetahViewModel.view(Object(b.flow)(O.g.map((function(i){return g.createElement(a,null,g.createElement(Fd.a,{key:"animationWrapper",className:t,state:r,stateToClassMapper:Eh.ogglyStateToClassMapper},(function(t){return n&&Boolean(t.state.isGgoOpen)?g.createElement(qh,{cheetahViewModel:i,onTransitionEnd:Ah(t),transition:t.view,oggyMode:e.oggyMode}):g.createElement(Gh,{cheetahViewModel:i,transition:t.view,onTransitionEnd:Ah(t)})})))})),O.g.getOrElse((function(){return g.createElement("div",{className:t})})))))},jh.TheView=function(e){var t=g.useContext(rd.a.Context),n=cd.a.useCollapsibleNavbarThreshold(),a=_h(O.g.isSome(e.features.denali.oggy)),r=A.b.atomSwitchBy((function(e){var t=7;return t=31*(t=31*t+Object(Rd.b)(e.currentLens.id))+(Gd.a.isInSuccess(e)?1231:1237)}),e.denaliViewModels.lensState),i=Object(fh.a)(!t.has(rd.a.Flag.supportsLottie)),o=(0,g.useContext(fe.a.Context).withNeutralForSelection)(ng),s=new x.a.Subject;return _.a.useSubscriptionTo(s.pipe(x.a.distinctUntilChanged(),x.a.tap((function(){return Wd.a.setTimeToGlobalTimers("timer_cardApply")})))),g.createElement(o,{key:"animationWrapper",className:a,state:r,stateToClassMapper:Eh.stateToClassMapper,onMouseDown:e.onMouseDown},function(e){return function(t){var n,a=e.denaliViewModels,r=a.successLensViewModel,i=a.lensPreviewViewModel,o=a.cardsViewModel,s=a.upgradeViewModel,c=a.cardsListScrollManager,l=a.navigationViewModel,u=a.cheetahViewModel,d=e.capabilities,m=e.plagiarismModel,f=e.features,h=e.scrollEl,S=e.successIllustrations,C=e.documentModel,w=e.cardApplyTimer,k=y.a.create(O.g.none),E=O.g.none,j=t.state.get(),_={navigateToAllAlerts:function(){return l.events.next({type:"switchToAll",focusFirst:!1,actionSource:Qt.b.sidebar})}},A=ge.b.createComponent({section:ge.b.create(ge.b.Id.checksFeed),component:v.a.div,skipDirection:"backwards",focusStrategy:function(e){return Object(de.pipe)(e.querySelector('.fullCard, [id*="card-assistantCard"]'),O.g.fromNullable,O.g.map((function(e){return e.contains(document.activeElement)?document.activeElement:e})),O.g.fold((function(){return Object(de.pipe)(Array.from(e.querySelectorAll('div[role="button"]')),Lc.U((function(e){var t=e.getBoundingClientRect();return t.top>t.height&&t.bottom<window.innerHeight})),Lc.nb,O.g.chain(Oe.a.FocusStrategy.focusRootOrFirstFocusable))}),Oe.a.FocusStrategy.focusRootOrFirstFocusable))}}),I=Gd.a.isInSuccess(e.denaliViewModels.lensState.get()),T=function(e){var t=Object(p.a)({},e);return t.next=function(t){Boolean(Hd.b.isAlertApplyAction(t))&&w.next(t),e.next(t)},Gd.a.item(t)};switch(j.currentLens.type){case Sl.i.closed:return null;case Sl.i.plagiarism:return g.createElement(Vd.c.Provider,{value:_},g.createElement(A,null,g.createElement(sh,{"data-name":"plagiarism-view",transition:t.view,plagiarismModel:m,cardsVM:o,state:t.state,isMaster:"next"===t.type,onTransitionEnd:"prev"===t.type?t.done:b.constVoid,scrollEl:h,cardsListScrollManager:c,getPlagiarismText:xh,lensPreviewVM:i,checksFeedItem:T,capabilities:d,comparator:Gd.a.listItemOrd})));case Sl.i.draftAI:return g.createElement(Vd.c.Provider,{value:_},g.createElement(v.a.Fragment,null,k.view(O.g.fold((function(){return null}),(function(e){return g.createElement(qf,{"data-name":"draftai-lens-view",draftAIEditorVM:e,lensPreviewVM:i,onTransitionEnd:Ah(t),transition:t.view})})))));case Sl.i.cheetah:var M=ge.b.createComponent({section:ge.b.create(ge.b.Id.checksFeed),component:v.a.div,focusStrategy:function(e){return Object(de.pipe)(e.querySelector("input"),O.g.fromNullable,O.g.fold((function(){return Object(de.pipe)(e,Oe.a.FocusStrategy.focusRootOrFirstFocusable)}),Oe.a.FocusStrategy.focusRootOrFirstFocusable))}});return g.createElement(v.a.Fragment,null,u.view(Object(b.flow)(O.g.map((function(e){return g.createElement(Vd.c.Provider,{value:_},g.createElement(M,null,g.createElement(qh,{cheetahViewModel:e,onTransitionEnd:Ah(t),transition:t.view,oggyMode:O.g.none})))})),O.g.toNullable)));case Sl.i.advanced:var P=ge.b.createComponent({section:ge.b.create(ge.b.Id.checksFeed),component:v.a.div});if(f.denali.premiumUphookCardUI){var N=t.state,D=Gd.a.createCardListFlow(o,Object(de.pipe)(E,O.g.map((function(e){return e.events}))),O.g.some(s.events));return g.createElement(Vd.c.Provider,{value:_},g.createElement(A,null,g.createElement(Vd.a,{"data-name":"paid-cards-view",transition:t.view,cardsVM:o,lensPreviewVM:i,navigationVM:l,state:N,isMaster:"next"===t.type,onTransitionEnd:Ah(t),scrollEl:h,cardsListScrollManager:c,cardListFlow:D,checksFeedItem:Gd.a.upgradeHookOnlyItem,capabilities:d,comparator:Gd.a.listItemOrd,title:g.createElement(Vd.b.Title,{lensPreviewVM:i,lensId:Rc.a.SpecialId.Premium,density:e.isXssViewport.pipe(x.a.map((function(e){return e?"compact":"cozy"})))})})))}return g.createElement(Vd.c.Provider,{value:_},g.createElement(P,null,g.createElement(eg,{"data-name":"paidview",transition:t.view,upgradeViewModel:s,lensPreviewVM:i,features:f,isDemoDoc:C.isDemoDocument})));case Sl.i.lensview:var B=j.currentLens.meta,L=Ah(t),F=t.state,R=t.state,H=g.createElement(Ud.a.Component,{lensPreviewVM:i,lensId:F.get().currentLens.id,navigationVM:l,type:l.lensTitleType,lensAlertsCount:R.view("currentLens").view(d.getVisibleAlertsCount),customSideButton:Rc.a.isAllAlerts(F.get().currentLens.id)&&Object(de.pipe)(E,O.g.map((function(e){return me.b.mount(Sh,kh(e,k,c))})),O.g.toUndefined),density:e.isXssViewport.pipe(x.a.map((function(e){return e?"compact":"cozy"})))}),V=Rc.a.isMainLens(B.id),U=Object(de.pipe)(Gd.a.createCardListFlow(o,Object(de.pipe)(E,O.g.map((function(e){return e.events}))),O.g.some(s.events)),(function(e){return Object(b.flow)(e,me.a.extendActions(x.a.tap((function(e){"content"===e.key&&"key"in e.action.action.action.action&&"alertRefSDUI"===e.action.action.action.action.key&&Ld.a.isSduiCardAction(e.action.action.action.action.action)&&e.action.action.action.action.action.actions.some((function(e){return"applyAlerts"===e.type}))&&w.next(e.action.action.action.action.action)}))))}));return g.createElement(Vd.c.Provider,{value:_},I?g.createElement(tg.a.View,{lens:B,transition:t.view,successLensViewModel:r,preventAnimation:f.preventAnimation,illustrations:S,onTransitionEnd:L,title:H,showTitle:V,scoreStatus:C.scoreStatus}):(n=g.createElement(Vd.a,{"data-name":"lensview",transition:t.view,cardsVM:o,lensPreviewVM:i,navigationVM:l,state:F,isMaster:"next"===t.type,onTransitionEnd:L,scrollEl:h,cardsListScrollManager:c,cardListFlow:U,checksFeedItem:T,capabilities:d,comparator:Gd.a.listItemOrd,title:H}),g.createElement(A,null,f.denali.sdui?g.createElement(Se.b,{alignment:"bottom",eventType:"onclick",stepId:Ce.b.StepId.Step4,title:"Review suggestions",message:"Grammarly checks for mistakes and suggests ways to improve your text.",dotPosition:{kind:"findFirstButton",position:Se.a.rightTop,selector:'[data-name*="'.concat(Cn.a.ComponentKnownName.ButtonAccept,'"]'),buttonOrder:0},themes:{containerWrapperClassName:dd.a.onboardingWrapper},dismissalTrigger:R.pipe(x.a.pluck("currentLens"),x.a.map(d.getActiveAlert),x.b.compact,x.a.skipBy(vl.a.eq),x.a.skip(1),x.a.map(b.constTrue))},n):n)));default:return Object(yt.c)(j.currentLens)}}}(Object(m.a)(Object(p.a)({},e),{successIllustrations:i,isXssViewport:n,cardApplyTimer:s})))},Ih=ge.b.createComponent({component:v.a.nav,section:ge.b.create(ge.b.Id.navigation),refocusOnMutation:!1}),Th=function(e){var t=e.expand,n=g.useContext(zd.a.Context).sidebar,a=A.b.chooseWhen(t);return g.createElement(v.a.button,{onClick:function(){return t.modify((function(e){return!e}))},"aria-label":a(n.toggle.collapse,n.toggle.expand),className:a(dd.a.navExpandButton,dd.a.navCollapseButton),"aria-controls":"navbar-right","aria-expanded":t},g.createElement(xt.d.Arrow,null))},Mh=jh.NavigationWrapper=function(e){var t=e.isSidebarOpened,n=e.onMount,a=e.onMouseDown,r=e.children,i=y.a.create(!1),o=g.useContext(ge.b.Context).state,s=_.a.useElWatcher(),c=s.ref,l=s.onMount,u=x.a.combineLatestStatic([i,t]).pipe(x.a.map((function(e){var t=Object(f.a)(e,2),n=t[0];return t[1]?n?dd.a.expandedNavWrapperTier:dd.a.collapsedNavWrapperTier:dd.a.hiddenNavigationWrapperTier}))),d=cd.a.useCollapsibleNavbarThreshold();return _.a.useSubscriptionTo(x.a.mergeStatic(o.pipe(x.a.map(Object(b.flow)(O.g.map(G.e.pick("id")),O.g.contains(ge.b.Id.navigation))),x.a.distinctUntilChanged(),x.a.tap(A.b.toAtom(i))),c.pipe(x.b.compact,x.a.switchMap((function(e){return x.a.combineLatestStatic([i,d,t]).pipe(x.a.tap((function(t){var n=Object(f.a)(t,3),a=n[0],r=n[1],i=n[2];!a&&r&&i?e.setAttribute("inert","true"):e.removeAttribute("inert")})))}))))),g.createElement(Ih,{id:"navbar-right","data-name":"navigation-view",mount:n,onMouseDown:a,className:u},g.createElement(v.a.Fragment,null,x.a.combineLatestStatic([d,t]).pipe(x.a.map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return n&&a?g.createElement(Th,{expand:i}):null})))),g.createElement("div",{ref:l},r))},jh.NavigationView=function(e){var t=(0,g.useContext(fe.a.Context).withNeutralForSelection)(Mh);return g.createElement(t,{onMouseDown:e.onMouseDown,isSidebarOpened:e.denaliViewModels.navigationViewModel.state.view("isSidebarOpen")},g.createElement(Bh,e,g.createElement(Lh,e),g.createElement(v.a.Fragment,null,e.features.isFree.view((function(t){return t||e.features.denali.gbVoxLensUphook||Iu.e.isBusinessAdmin(e.features.denaliUserType)?g.createElement(hh.a,{key:"freemium-notification-host",isSidebarOpen:e.denaliViewModels.navigationViewModel.state.view("isSidebarOpen"),upgradeViewModel:e.denaliViewModels.upgradeViewModel,navigationViewModel:e.denaliViewModels.navigationViewModel}):null})))))},jh.TheViewPlaceholder=function(e){var t=e.isOggy,n=_h(t);return g.createElement("div",{className:n})},jh.Grid=function(e){var t=e.name,n=e.className,a=e.opened,r=e.children;return g.createElement(v.a.div,Object(p.a)({key:"sidebar-tier","data-name":"sidebar-tier"},Object(be.c)(dd.a.sidebarTier,a.view((function(e){return!e&&dd.a.hiddenWrapper})),n)),g.createElement("div",{key:"sidebar-wrapper","data-name":t,className:dd.a.sidebarWrapper},r))},jh.Aside=function(e){var t=e.opened,n=e.children,a=e.className,r=g.useContext(pe.a.Context).landmark;return g.createElement(v.a.aside,Object(p.a)({"data-name":"sidebar-tier","arial-label":r.sidebar},Object(be.c)(dd.a.sidebarTier,t.view((function(e){return!e&&dd.a.hiddenWrapper})),a)),g.createElement("div",{key:"sidebar-wrapper","data-name":"sidebar",className:dd.a.sidebarWrapper},n))},Ph=[Sl.i.closed,Sl.i.lensview,Sl.i.advanced,Sl.i.plagiarism],Nh=function(e){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Object(jt.a)(n).concat([e]).join(" ")}},Dh=function(e){return Sl.e.isLensview(e)&&!Gd.a.isInSuccess(e)||e.currentLens.type===Sl.i.advanced},jh.stateToClassMapper=function(e,t){var n,a,r=void 0!==e&&e.get(),i=t.get();if(!1===r)return{prev:{start:{},end:{}},next:{start:{base:dd.a.sidebarEnterLeft,title:dd.a.titleEnterLeft},end:{base:dd.a.sidebarEnterLeft,title:dd.a.titleEnterLeft}}};if(Sl.e.isSidebarOpened(r)){if(Sl.e.isSidebarOpened(i)){if(i.alertSource===Sl.c.forceSidebar||i.alertSource===Sl.c.forceText)return{prev:{start:{base:dd.a.lensHideStart,content:dd.a.contentHideStart},end:{base:dd.a.lensHide,content:dd.a.contentHide}},next:{start:{},end:{}}};if(Dh(i)&&Dh(r)){var o="textOrder"===i.switchOrder?"lensMoveUp":Rc.a.ord.compare(r.currentLens.meta,i.currentLens.meta)>0?"lensMoveDown":"lensMoveUp",s=Nh(o);return{prev:{start:{base:"",title:dd.a.lensLeaveStartTitle,content:s(dd.a.lensLeaveStartContent,dd.a.lensLeaveStart),allAlertsButton:dd.a.allAlertsVisible,assistantWrapper:dd.a.absoluteAssistant},end:{base:"",title:dd.a.lensLeaveTitle,content:s(dd.a.lensLeaveContent,dd.a.lensLeave),allAlertsButton:dd.a.allAlertsHidden,assistantWrapper:dd.a.absoluteAssistant}},next:{start:{base:"",title:dd.a.lensEnterStartTitle,content:s(dd.a.lensEnterStartContent,dd.a.lensEnterStart),allAlertsButton:dd.a.allAlertsHidden},end:{base:"",title:dd.a.lensEnterTitle,content:s(dd.a.lensEnterContent,dd.a.lensEnter),allAlertsButton:dd.a.allAlertsVisible}}}}var c=Ph.indexOf(r.currentLens.type)-Ph.indexOf(i.currentLens.type)>0||Gd.a.isInSuccess(i)?"lensMoveUp":"lensMoveDown",l=Nh(c),u=Gd.a.isInSuccess(i)?dd.a.stateEnterStart:dd.a.lensEnterStart,d=Gd.a.isInSuccess(i)?dd.a.stateEnter:dd.a.lensEnter;return{prev:{start:{base:l(dd.a.stateLeaveStart),content:l(dd.a.lensLeaveStartContent),title:dd.a.lensLeaveStartTitle,assistantWrapper:dd.a.absoluteAssistant},end:{base:l(dd.a.stateLeave),content:l(dd.a.lensLeaveContent),title:dd.a.lensLeaveTitle,assistantWrapper:dd.a.absoluteAssistant}},next:{start:{base:i.currentLens.id===Rc.a.SpecialId.DraftAI?(n=i.currentLens,a=u,Object(de.pipe)(n.transitionSource,O.g.map((function(e){return e.top})),O.g.filter((function(e){var t=G.c.Rect.fromEl(document.body);return t.top<e&&e<t.bottom})),O.g.fold(Object(b.constant)(a),(function(e){return j.a.style({opacity:0,transform:"translateY(".concat(e,"px)")})})))):l(u),content:l(dd.a.lensEnterStartContent),title:dd.a.lensEnterStartTitle},end:{base:l(d),content:i.currentLens.id===Rc.a.SpecialId.DraftAI?dd.a.draftAILensContent:l(dd.a.lensEnterContent),title:dd.a.lensEnterTitle}}}}return{prev:{start:{base:dd.a.sidebarLeaveRightStart},end:{base:dd.a.sidebarLeaveRight,title:dd.a.titleLeaveRight}},next:{start:{},end:{}}}}return{prev:{start:{},end:{}},next:{start:{base:dd.a.sidebarEnterLeftStart,title:dd.a.titleEnterLeftStart},end:{base:dd.a.sidebarEnterLeft,title:dd.a.titleEnterLeft}}}},jh.ogglyStateToClassMapper=function(e,t){var n=void 0!==e&&e,a=t;if(0!=n){if(n.isGgoOpen&&!a.isGgoOpen)return n.isSidebarOpen&&!a.isSidebarOpen?{prev:{start:{base:dd.a.sidebarLeaveRightStart},end:{base:dd.a.sidebarLeaveRight}},next:{start:{},end:{}}}:{prev:{start:{base:dd.a.ggoEnterStart},end:{base:dd.a.ggoEnterStart}},next:{start:{base:dd.a.oggyEnterLeftStart},end:{base:dd.a.oggyEnterLeft}}};if(!n.isGgoOpen&&a.isGgoOpen)return{prev:{start:{base:dd.a.oggyLeaveRightStart},end:{base:dd.a.oggyLeaveRight}},next:{start:{base:dd.a.ggoEnterStart},end:{base:dd.a.ggoEnter}}}}return!1===n&&a.isSidebarOpen?{prev:{start:{},end:{}},next:{start:{base:dd.a.oggyEnterLeft},end:{base:dd.a.oggyEnterLeft}}}:!1===n||n.isSidebarOpen?a.isSidebarOpen?a.navigationSource===Sl.c.forceSidebar||a.navigationSource===Sl.c.forceText?{prev:{start:{base:dd.a.lensHideStart},end:{base:dd.a.lensHide}},next:{start:{},end:{}}}:{prev:{start:{},end:{}},next:{start:{},end:{}}}:{prev:{start:{base:dd.a.oggyLeaveRightStart},end:{base:dd.a.oggyLeaveRight}},next:{start:{},end:{}}}:{prev:{start:{},end:{}},next:{start:{base:dd.a.oggyEnterLeftStart},end:{base:dd.a.oggyEnterLeft}}}},jh.Loader=function(e){var t=e.state,n=e.baseLoaderClass,a=e.showToolbar,r=e.isOggy;return g.createElement(Eh.Grid,{name:"sidebar-loader",opened:y.a.create(!0)},g.createElement(Kd,{state:t.view("lens"),theme:dd.b},g.createElement(v.a.div,Object(be.c)(r?dd.a.oggyLoaderWrapper:dd.a.loaderWrapper,n),g.createElement(Vd.b.Rechecking,{"data-name":"lensviewRechecking",key:"lensview-rechecking"}))),g.createElement(jp.Loader,{baseLoaderClass:n,state:t,showToolbar:a,isOggy:r}))},Bh=jh.ActionsView=function(e){var t=e.denaliViewModels,n=t.navigationViewModel,a=t.proofitViewModel,r=t.lensPreviewViewModel,i=e.documentModel,o=e.plagiarismModel,s=e.features,c=e.JSXPortal,l=e.children;return g.createElement(v.a.div,Object(be.c)(dd.a.actionsWrapper),g.createElement(mh,{documentModel:i,features:s,navigationViewModel:n}),l,n.state.view("isSidebarOpen").view(Object(z.c)(null,g.createElement(ep,{plagiarismModel:o,proofitViewModel:a,lensPreviewVM:r,features:s,navigationViewModel:n}))),g.createElement(c,null,g.createElement(zm,{proofit:a})))},Lh=jh.LensNavigationView=function(e){var t=e.denaliViewModels,n=e.documentModel,a=e.plagiarismModel,r=e.features;return g.createElement(jp,{navigationViewModel:t.navigationViewModel,checkingState:n.checkingState,isOggy:O.g.isSome(r.denali.oggy)},g.createElement(jp.Content,{documentModel:n,plagiarismModel:a,modalManager:t.modalManager,denaliViewModels:t,features:r}))};var ag=n("020W"),rg=j.a.rem(2),ig={opacity:0,pointerEvents:"none",position:"absolute",bottom:0,zIndex:j.d.level4},og={display:"flex",flexDirection:"row",width:"auto",height:j.a.rem(2),borderRadius:rg,backgroundColor:vd.D.SemanticColor.Color.Background.Base.Default,boxShadow:"0 0 .5px rgba(0, 0, 0, .4), 0 1px 3px rgba(0, 0, 0, .09), 0 4px 8px rgba(0, 0, 0, .09)",alignItems:"center"},sg={position:"relative",boxSizing:"border-box",minWidth:j.a.rem(2),height:j.a.rem(2),border:"none",background:"none",fontSize:j.a.rem(.75),cursor:"pointer",$nest:{svg:Object(m.a)(Object(p.a)({},{"--path-fill-1":"#018374","--path-fill-2":"#018374","--path-fill-3":"#00FFCE","--path-fill-4":"#018374"}),{fill:"none",stroke:"none"}),"&:hover":{backgroundColor:vd.D.Color.BlueGray10},"&:first-child":{borderTopLeftRadius:rg,borderBottomLeftRadius:rg,paddingLeft:j.a.rem(.25),paddingRight:0},"&:last-child":{borderTopRightRadius:rg,borderBottomRightRadius:rg,paddingLeft:0}}},cg=j.a.rem(1.5),lg={width:cg,height:cg,backgroundPosition:"center",backgroundSize:cg},ug=j.a.prefixedStylesheet("cheetah_inline_button",{buttonWrapper:[ig],button:[og],buttonItem:[sg],icon:[lg]}),dg={message:"Select any text to rewrite it with GrammarlyGO."},pg={title:"Rewrite your text",message:"You can also select any text to quickly improve or rewrite it with generative AI."},mg=function(e){var t=e.inlineViewModel,n=e.cheetahNavigation;return g.createElement(v.a.div,{style:t.inlineButtonState.view(fg),className:ug.buttonWrapper,"aria-hidden":t.inlineButtonState.view(O.g.isNone)},g.createElement(Se.b,{message:t.showOnboardingTourA11yUpdates?pg.message:dg.message,title:t.showOnboardingTourA11yUpdates?pg.title:void 0,eventType:"onclick",stepId:Qu.a.StepId.GrammarlyGORewrite,alignment:"right",dotPosition:{kind:"dotAtPosition",position:Se.a.leftCenter},dismissalTrigger:t.inlineButtonState.pipe(x.a.map(O.g.isNone))},g.createElement("div",{className:ug.button},t.magicRewriteEnabled&&g.createElement(Nt.a,{className:ug.buttonItem,name:"inline-magic-rewrite","aria-label":"Improve it by Grammarly",onClick:function(){T.d.Logging.getLogger("Cheetah").info("Inline button clicked: magic rewrite"),n.toCheetahLens(!0,!0)},title:"Improve it"},g.createElement(ag.a.Rewrite,{className:ug.icon})),t.inlineRewriteEnabled&&g.createElement(Nt.a,{className:ug.buttonItem,onClick:function(){T.d.Logging.getLogger("Cheetah").info("Inline button clicked: GrammarlyGO"),n.toCheetahLens(!0,!1)},name:"inline-grammarly-go",title:"Rewrite with Grammarly","aria-label":"Rewrite with Grammarly"},g.createElement(ag.a.GrammarlyGO,{className:ug.icon})))))},fg=function(e){return Object(de.pipe)(e,O.g.fold(Object(b.constant)(gg),hg))},hg=function(e){var t=e.top,n=e.left;return{top:t+bg,left:n,bottom:"auto",opacity:1,transition:"opacity .1s linear",pointerEvents:"auto"}},gg={},bg=8,vg=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u.a)(Object(s.a)(e),"_editorHeight",y.a.create(0)),e}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this.props,t=e.denaliEditor,n=e.scrollbarViewModel,a=e.children,r=e.scrollEl,i=e.featuresViewModel,o=e.navigationViewModel,s=Zu.a.withViewportContainer(Cg(Sg,{isSidebarOpen:o.state.view("isSidebarOpen")}),{type:Zu.a.ContainerType.inherit});return g.createElement(s,{name:"editorComponent",className:lt.scrollWrapFixed},g.createElement(q.b,{denaliEditor:t,customTitlePlaceholder:i.denali.customTitlePlaceholder,theme:{editorContent:lt.editorContent,editorContentWrap:lt.editorContentWrap,printTitle:lt.printTitle,titleWrap:lt.titleWrap},scrollEl:r,editorHeight:this._editorHeight,scrollTop:n.scrollTop},a(new x.a.Subject,this._editorHeight)))}}]),n}(g.Component),yg=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isSidebarOpen,n=e.children,a=Cg(Og,{isSidebarOpen:t});return g.createElement(a,{name:"editorComponent",className:lt.scrollWrapFixed},g.createElement(g.Fragment,null,g.createElement(dt,{selectionEffect:fe.a.Effect.collapse},g.createElement("div",{className:lt.textContent})),n))}}]),n}(g.Component),Og=function(e){var t=e.className,n=e.onMount,a=e.children,r=e.name;return g.createElement(v.a.div,{"data-name":r,name:"text",key:"denaliEditorWrapper",className:t,mount:n},a)},Sg=function(e){var t=e.className,n=e.onMount,a=e.children,r=e.name;return g.createElement(v.a.main,{role:"main","data-name":r,name:"text",key:"denaliEditorWrapper",className:t,mount:n},a)};function Cg(e,t){return function(n){Object(d.a)(r,n);var a=Object(h.a)(r);function r(){var e;return Object(c.a)(this,r),e=a.apply(this,arguments),Object(u.a)(Object(s.a)(e),"_textTransition",t.isSidebarOpen.pipe(x.a.skip(1),x.a.switchMap((function(e){return qd.a.rafSequence(e?[lt.toWritingStart,lt.toWritingStart,lt.toWritingEnd]:[lt.toEditingStart,lt.toEditingStart,lt.toEditingEnd],!0)})),x.a.startWith(void 0))),e}return Object(l.a)(r,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var t=this.props.className;return g.createElement(e,Object(p.a)({},this.props,Object(be.c)(t,lt.editorComponentWrapper,lt.container,this._textTransition)))}}]),r}(g.Component)}var wg=n("eUGc"),kg=n("Lnjj"),Eg=(n("B4nd"),n("jVAy")),jg=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u.a)(Object(s.a)(e),"context",void 0),Object(u.a)(Object(s.a)(e),"_log",T.d.Logging.getLogger("SynonymsPopup")),Object(u.a)(Object(s.a)(e),"_el",void 0),Object(u.a)(Object(s.a)(e),"_state",y.a.create(O.g.none)),Object(u.a)(Object(s.a)(e),"_getPosition",(function(t){var n=Object(f.a)(t,2),a=n[0],r=n[1];return e._el?Object(de.pipe)(e.props.synonyms.getSynonymMarkRect(e.props.synonymsInfo.activeMark.meta.id),O.l.bimap((function(t){return e._log.info("Cannot get synonym popup position",t),t}),(function(t){var n=Ju.b.relativeToRoot(t),i=Ju.b.relativeToViewport(t),o=e._el.getBoundingClientRect(),s=o.width,c=o.height,l=r<n.bottom+c+32&&c<n.top+150,u=l?n.top-c:n.bottom,d=i.left+s,p=d<a.right?0:d-a.right+32,m=n.left-p,f=(l?i.top-a.top-c:a.bottom-i.bottom-c)<70?O.g.some(l?Math.min(a.top+c+70,a.bottom-n.height):Math.max(a.bottom-c-70,n.height+70)):O.g.none;return O.g.some({card:{top:u,left:m},markOffset:f})}))):O.l.right(O.g.none)})),Object(u.a)(Object(s.a)(e),"_sub",null),Object(u.a)(Object(s.a)(e),"_rendered",!1),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.synonyms,a=t.synonymsInfo,r=t.editorHeight;this._sub=this.context.pipe(x.a.map((function(e){return e.rect})),x.a.combineLatest(r),x.a.delay(1),x.a.switchMap(Object(b.flow)(this._getPosition,x.a.defer))).subscribe((function(t){e._rendered||(e._rendered=!0,Object(de.pipe)(t,O.b.map(O.g.chain((function(e){return e.markOffset}))),O.b.map(O.g.map((function(t){n.scrollToMark(a.activeMark.meta.id,t,V.a.fast).subscribe({error:function(t){return e._log.error("Cannot scroll to synonym",t)}})}))))),Object(de.pipe)(t,O.b.fold((function(t){return e._log.error("Cannot get position",t)}),(function(t){return e._state.set(O.g.map((function(e){return e.card}))(t))})))}))}},{key:"componentWillUnmount",value:function(){this._sub&&(this._sub.unsubscribe(),this._sub=null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.synonyms,a=t.synonymsInfo;return g.createElement(v.a.div,{mount:function(t){return e._el=t},key:"synonymsPopupWrapper",style:this._state.view((function(e){return O.g.getOrElse((function(){return{visibility:"hidden",pointerEvents:"none"}}))(e)})),className:Eg.synonymsPopupWrapper},g.createElement(wg.a,{hide:function(){return n.close("closedByUser")}},this.props.features.synonymsSynfony?g.createElement(kg.b,{synonymsInfo:a,apply:function(e){return function(){return n.apply(e)}}}):g.createElement(kg.a,{synonymsInfo:a,apply:function(e){return function(){return n.apply(e)}}})))}}]),n}(g.Component);Object(u.a)(jg,"contextType",Zu.a.Context);var _g=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u.a)(Object(s.a)(e),"context",void 0),Object(u.a)(Object(s.a)(e),"_log",T.d.Logging.getLogger("SynonymIconWrapper")),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.markRect,a=t.className,r=t.children;return g.createElement(v.a.div,{className:a,style:this.context.pipe(x.a.tap((function(t){return e._log.debug("Update tooltip position",t.rect)})),x.a.map((function(){return Object(de.pipe)(n,O.b.map((function(e){return Na.d.translate(e.left+e.width,e.top)})),O.g.fromEither,O.g.getOrElse((function(){return{visibility:"hidden"}})))})))},r)}}]),n}(g.Component);Object(u.a)(_g,"contextType",Zu.a.Context);var xg,Ag=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u.a)(Object(s.a)(e),"_log",T.d.Logging.getLogger("SynonymsView")),e}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"renderLoader",value:function(e){return x.a.defer(this.props.synonyms.getSynonymMarkRect(e.activeMark.meta.id)).pipe(x.a.map(O.b.map(Ju.b.relativeToRoot)),x.a.map((function(e){return g.createElement(_g,{className:Eg.iconWrapper,markRect:e},g.createElement(xt.d.SynonymLoader,{className:Eg.loader}))})),x.a.delay(1e3),x.a.startWith(null))}},{key:"renderPopup",value:function(e){return this.props.synonyms.onPopupOpen(),x.a.of(g.createElement(jg,{synonyms:this.props.synonyms,synonymsInfo:e,editorHeight:this.props.editorHeight,features:this.props.features}))}},{key:"render",value:function(){var e=this,t=this.props.synonyms;return g.createElement(v.a.div,{className:Eg.contentWrapper},t.viewState.pipe(x.a.tap((function(t){return e._log.debug("Synonym state changed",Object(de.pipe)(t,O.g.fold((function(){return null}),(function(e){return{kind:e.synonymsState.kind,popupVisible:e.popupVisible}}))))})),x.a.switchMap(O.g.mapOrDefault((function(t){return nl.a.isQuerying(t.synonymsState)?e.renderLoader(t):(nl.a.isReady(t.synonymsState)||nl.a.isEmpty(t.synonymsState))&&t.popupVisible?e.renderPopup(t):x.a.of(null)}),x.a.of(null)))))}}]),n}(g.Component),Ig=n("PY5o"),Tg=n("hZ6A"),Mg=n("NknG"),Pg=function e(t,n){var a=this;Object(c.a)(this,e),Object(u.a)(this,"_notificationsManager",void 0),Object(u.a)(this,"_sendFeedback",void 0),Object(u.a)(this,"currentText",void 0),Object(u.a)(this,"modalShown",void 0),Object(u.a)(this,"sendFeedback",void 0),this._notificationsManager=t,this._sendFeedback=n,this.currentText=y.a.create({detailed:""}),this.modalShown=new x.a.Subject,this.sendFeedback=function(){return a.currentText.pipe(x.a.first(),x.a.switchMap(a._sendFeedback),x.a.switchMap((function(){return a._notificationsManager.enqueue("feedbackSend").pipe(x.a.filter((function(e){return"shown"===e})),x.a.tap((function(){return a.currentText.set({detailed:""})})),x.a.takeUntil(a.modalShown))})),x.a.catchError((function(){return a._notificationsManager.enqueue("error")}))).toPromise()}};(xg||(xg={})).Mock=function e(){Object(c.a)(this,e),Object(u.a)(this,"modalShown",new x.a.Subject),Object(u.a)(this,"currentText",y.a.create({detailed:""})),Object(u.a)(this,"sendFeedback",(function(){return new Promise(z.e)}))};n("kynR");var Ng,Dg=n("6+Mz"),Bg=function(){var e=g.useContext(ku.a.TitleIdContext);return g.createElement(U.c,{id:e},"Give Feedback")},Lg=function(e){var t=e.submitFeedback,n=e.close,a=e.visible,r=e.notificationsManager,i=e.ModalsPortal,o=new Pg(r,t);return g.useEffect((function(){o.modalShown.next()}),[o.modalShown,a]),g.createElement(i,null,g.createElement(ku.b,{positionType:"fixed",visible:a,preventClose:!0,animate:!0},g.createElement(ku.a,{className:Dg.wrapper},g.createElement(ku.a.Header,null,g.createElement(Bg,null)),g.createElement(ku.a.Body,{className:Dg.feedbackPopupBody,name:"feedbackBody"},g.createElement(U.i,{className:Dg.description},"Overall, how useful is this suggestion in improving your writing?"),g.createElement(Kp.d,{placeholder:"Type your feedback",className:Dg.feedbackInput,value:o.currentText.lens("detailed")}),g.createElement(U.a,null,"When you submit feedback, we store and review your text. Don’t submit feedback on text that contains confidential information.")),g.createElement(ku.a.Footer,{className:Dg.feedbackPopupFooter},g.createElement(Nt.a.Ghost,{name:"cancel",onClick:function(){n()}},"Cancel"),g.createElement(Nt.a.Primary,{name:"send",disabled:o.currentText.view((function(e){return""===e.detailed})),onClick:function(){return o.sendFeedback()}},"Send")))))},Fg=(n("s96D"),n("Bf87")),Rg=function(e){var t=e.onClick,n=e.tooltip;return g.createElement(Nt.a.Ghost,{name:"to-home",onClick:t,title:n.view(O.g.orUndefined),className:Fg.toolbarBtn,animationMode:Dt.a.FromCenter},g.createElement(xt.d.Arrow,{className:Fg.backIcon}))},Hg=function(e){var t=e.userAccount,n=g.useContext(pe.a.Context);return g.createElement(Rg,{tooltip:y.a.create(O.g.some(n.toolbar.signOut)),onClick:t.logout})},Vg=function(e){var t=e.type,n=e.userAccount,a=g.useContext(M.a.Context),r=g.useContext(pe.a.Context);return g.createElement("div",{className:Fg.fakeToolbarWrapper,"data-name":"document-tools"},n.features.isMacEditor?null:n.features.demoMode?g.createElement(Hg,{userAccount:n}):g.createElement(Rg,{tooltip:y.a.create(O.g.some(r.toolbar.backToMyGrammarly)),onClick:function(){return a.navigate(M.a.routes.documents.href())}}),g.createElement(U.f,{className:n.features.isMacEditor?Fg.fakeToolbarTitleMacEditor:Fg.fakeToolbarTitle,"data-name":"toolbar-title"},t===sl.a.TextType.loading?r.toolbar.loading:r.toolbar.processing))},Ug=(n("rVSu"),n("JUw6"));!function(e){e.Loader=function(e){var n=e.userAccount,a=e.documentLoader,r=e.isOggy,i=e.className;return g.createElement(v.a.Fragment,null,a.state.view("text").view(O.g.mapOrDefault((function(e){return g.createElement("div",{key:"with-text-loader",className:i},g.createElement("div",Object(p.a)({key:"editor"},Object(be.c)(Ug.secondTierLoader,Ug.baseLoaderClass)),!n.features.denali.hideToolbar&&g.createElement(Vg,{type:e,userAccount:n}),g.createElement(ut,{position:"top"},g.createElement("div",{className:Ug.textLoaderWrap},g.createElement($d.b,null)))),g.createElement(t,{isOggy:r,documentLoader:a}))}),null)))},e.AssistantOnlyLoader=function(e){var n=e.documentLoader,a=e.isOggy,r=e.className;return g.createElement("div",{className:r},g.createElement(t,{isOggy:a,documentLoader:n}))};var t=function(e){var t=e.documentLoader,n=e.isOggy;return g.createElement(Eh.Loader,{key:"sidebar-loader",state:t.state,baseLoaderClass:Ug.baseLoaderClass,showToolbar:t.state.view("text").view(O.g.isNone),isOggy:n})}}(Ng||(Ng={}));n("Bqig");var Wg=n("/3X1"),zg=function(e){var t=e.width,n=e.className,a=e.children;return g.createElement(v.a.div,Object(m.a)(Object(p.a)({},Object(be.c)(Wg.invisibleScrollbar,n)),{style:t.pipe(x.a.map((function(e){return{width:"calc(100vw - ".concat(e,"px)")}})))}),a)},Gg=function(e){var t=e.onMount;return g.createElement("div",{className:Wg.scrollDetector,ref:t})},qg=function(){var e=g.useContext(rd.a.Context);return _.a.useSubscriptionTo(e.has(rd.a.Flag.preventNavigationByOverscrollWithJS)?x.a.fromEvent(document,"wheel").pipe(x.a.tap((function(e){Math.abs(e.deltaX)>=Math.abs(e.deltaY)&&e.preventDefault()}))):x.a.EMPTY),g.useEffect((function(){return document.body.classList.add(Wg.preventOverscroll),function(){return document.body.classList.remove(Wg.preventOverscroll)}})),g.createElement(g.Fragment,null)},Kg=function(e){var t=e.denaliEditorModel,n=e.documentModel,a=e.plagiarismModel,r=e.userAccount,i=e.denaliViewModels,o=e.capabilities,s=e.documentLoader,c=e.loaderClassName,l=y.a.create(O.g.none),u=new ud;_.a.useSubscriptionTo(l.pipe(x.a.tap(A.b.toAtom(u.target)))),_.a.useSubscriptionTo(i.modalManager.state.pipe(x.a.map(O.g.isSome),x.a.withLatestFrom(l.pipe(x.b.compact)),x.a.map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return n?a.setAttribute("inert","true"):a.removeAttribute("inert")}))));var d=g.useContext(fe.a.Context).withSelectionEffect,p=function(){switch(r.features.denali.documentToolbar){case Iu.c.documentSettings:return g.createElement(Ig.a,{documentSettingsViewModel:i.documentSettingsViewModel.viewModel,isSidebarOpen:i.navigationViewModel.state.view("isSidebarOpen"),isDemoMode:r.features.demoMode,isRefreshLogo:r.features.denali.refreshLogo,showOnboardingTourA11yUpdates:r.features.denali.showOnboardingTourA11yUpdates});case Iu.c.none:return null;default:return Object(yt.c)(r.features.denali.documentToolbar)}},m=d((function(e){var a=e.onMouseDown;return g.createElement("div",{className:Ug.horizontalEditorWrapper,onMouseDown:a},g.createElement(Zu.a.InheritVirtualContainer,{name:"withPadding",viewportPadding:C},g.createElement(vg,{denaliEditor:t,settingsModel:r.settings,featuresViewModel:r.features,scrollbarViewModel:u,navigationViewModel:i.navigationViewModel,scrollEl:l,viewportPadding:C},(function(e,a){return g.createElement(Yg,{denaliViewModels:i,denaliEditorModel:t,editorHeight:a,docFeatures:n,features:r.features.denali,ModalsPortal:w.Source})}))),g.createElement(Gg,{key:"scroll-detector",onMount:function(e){return u.detector.set(O.g.fromNullable(e))}}))}),fe.a.Effect.collapse),h=d((function(){return O.g.isSome(r.features.denali.oggy)?g.createElement(Eh.OggyView,{cheetahViewModel:i.cheetahViewModel,navigationViewModel:i.navigationViewModel,oggyMode:r.features.denali.oggy}):g.createElement(Eh.TheView,{denaliViewModels:i,capabilities:o,documentModel:n,plagiarismModel:a,features:r.features,scrollEl:l})}),fe.a.Effect.collapse),S=d(Eh.NavigationView,fe.a.Effect.collapse),C=y.a.create(V.h.empty),w=Na.d.Portal.create("modals-portal");return g.createElement(g.Fragment,null,g.createElement(qg,null),g.createElement(w.Destination,null),g.createElement(v.a.div,{"data-name":"document-content",className:Ug.secondTier,style:u.fakeWidth.pipe(x.a.map((function(e){return{paddingRight:e}}))),mount:function(e){return l.set(O.g.fromNullable(e))}},s.state.view("text").view(O.g.fold((function(){return g.createElement(Yu.a.Top,{className:Ug.fixedLoader,key:"navigation-loader"},g.createElement(zg,{width:u.width,className:Ug.withPlaceForScrollbar},g.createElement(Ng.AssistantOnlyLoader,{documentLoader:s,className:c,isOggy:O.g.isSome(r.features.denali.oggy)})))}),(function(){return null}))),g.createElement($g,{scrollbarWidth:u.width,isOggy:O.g.isSome(r.features.denali.oggy),sidebarOpen:i.navigationViewModel.state.view("isSidebarOpen"),editor:g.createElement(yg,{isSidebarOpen:i.navigationViewModel.state.view("isSidebarOpen"),features:r.features},g.createElement(Pt.Component,{denaliEditor:t,documentModel:n,settingsModel:r.settings,viewportPadding:C,formattingViewModel:i.formattingViewModel,emotionsViewModel:i.emotionsViewModel,navigationViewModel:i.navigationViewModel,features:r.features})),assistant:g.createElement(g.Fragment,null,g.createElement(Eh.TheViewPlaceholder,{isOggy:O.g.isSome(r.features.denali.oggy)}),g.createElement(S,{denaliViewModels:i,capabilities:o,documentModel:n,plagiarismModel:a,features:r.features,scrollEl:l,JSXPortal:w.Source}))},g.createElement(p,null)),g.createElement(Zg,{opened:i.navigationViewModel.state.view("isSidebarOpen"),editor:g.createElement(m,null),isOggy:O.g.isSome(r.features.denali.oggy),assistant:g.createElement(h,null)}),i.cheetahViewModel.view(Object(b.flow)(O.g.map((function(e){var t=e.inlineViewModel,n=e.navigation;return g.createElement(mg,{cheetahNavigation:n,inlineViewModel:t})})),O.g.toNullable))))},$g=function(e){var t=e.sidebarOpen,n=e.editor,a=e.assistant,r=e.scrollbarWidth,i=e.children,o=e.isOggy;return g.createElement(Yu.a.Top,{className:Ug.fixedHorizontal},g.createElement(zg,{width:r,className:Ug.withPlaceForScrollbar},n,g.createElement(Eh.Grid,{name:"sidebar-placeholder",opened:t,className:o?dd.a.sidebarTierOggy:""},a),i))},Zg=function(e){var t=e.opened,n=e.editor,a=e.assistant,r=e.isOggy;return g.createElement("div",{className:Ug.horizontal},n,g.createElement(Eh.Aside,{opened:t,className:r?dd.a.sidebarTierOggy:""},a))},Yg=function(e){var t=e.denaliViewModels,n=e.denaliEditorModel,a=e.editorHeight,r=e.docFeatures,i=e.features,o=e.ModalsPortal,s=g.useContext(pe.a.Context),c=i.showOnboardingTourA11yUpdates,l={denaliEditorModel:n,onboardingViewModel:t.onboardingViewModel},u=Object(m.a)(Object(p.a)({},l),{alignment:"bottomCenter",overlay:function(e){return g.createElement(Yu.a.Top,{className:Ug.fixedOverlay},g.createElement(v.a.div,{className:e.view((function(e){return e?Ug.overlayVisible:""}))},g.createElement(ku.b,{positionType:"fixed",visible:e,alignment:"none",overlayType:"transparent"})))},getFirstTargetRect:function(){return t.onboardingViewModel.getFirstTargetRect()}}),d=(0,g.useContext(fe.a.Context).withSelectionEffect)(fe.a.Effect.PlainContainer,fe.a.Effect.prevent),h=g.useContext(w.a.Context),b=x.a.zipStatic(n.viewport,h).pipe(x.a.map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return n.text.width+Xu.a*a})));return g.createElement(v.a.Fragment,null,t.navigationViewModel.state.view("isSidebarOpen").view((function(e){return e&&g.createElement(ad,Object(m.a)(Object(p.a)({key:"sidebar-opened"},u),{stepId:Qu.a.StepId.Step11,message:"Click underlined words to see more details about what Grammarly has found.",completionTrigger:t.onboardingViewModel.completionTrigger.pipe(x.a.skip(1)),eventType:"onclick"}))})),Object(de.pipe)(t.vbarsViewModel,O.g.map((function(e){return g.createElement(Xu.c,{model:e,InlineCard:function(e){return g.createElement(Cu.a.Context.Consumer,null,(function(a){return g.createElement(v.a.Fragment,null,t.sduiInlineViewModel.pipe(x.a.map((function(t){return Object(Mg.a)(b,n.getContents,i,t,(function(e){return a(e,"somethingCopied")}))(e)}))))}))},suggestionFeedback:function(e){return g.createElement(Lg,Object(p.a)({ModalsPortal:o,notificationsManager:t.notificationsManager},e))}})})),O.g.toNullable),g.createElement(Bd,{className:Ug.inlineCardWrapper,inlineCardVM:t.inlineCardViewModel,inlineUpgradeHookVM:t.inlineUpgradeHookViewModel,features:i,sduiInlineCardVM:t.sduiInlineViewModel}),g.createElement(ad,Object(m.a)(Object(p.a)({},l),{stepId:Qu.a.StepId.Step9,alignment:"bottomRight",eventType:"onhover",title:c?"Synonyms":void 0,message:"Click on a word twice to see the synonyms.",getFirstTargetRect:function(){return t.synonymsViewModel.getFirstSynonymRect()},completionTrigger:t.synonymsViewModel.popupShown.pipe(x.a.skip(1))})),Object(de.pipe)(t.formattingViewModel,O.g.map((function(e){return g.createElement(d,null,g.createElement(Tg.a,{vm:e.linksManager}))})),O.g.toNullable),g.createElement(Ag,{synonyms:t.synonymsViewModel,editorHeight:a,features:i}),g.createElement("div",{className:Ug.documentContainer},i.graySelection&&g.createElement(sd,{ded:n}),g.createElement(hd,{className:Ug.documentPlaceholder,viewModel:t.documentPlaceholderViewModel,strings:i.showUploadInPlaceholderText?r.rtfMode===N.d.DocumentFeatures.FormattingMode.on?s.placeholderRTF:s.placeholder:s.placehoderWithoutUpload})))},Xg=n("7CTu"),Qg=(n("ThDP"),n("Ow/n")),Jg="The changes in your document may be lost if you leave this page.",eb=function(e){var t;return t=e.userAccount.features.track3rdPartyExtensionsInjection,_.a.useSubscriptionTo(t?x.a.fromEvent(document.body,"click",{passive:!0,capture:!0}).pipe(x.a.first(),x.a.delay(1e3),x.a.tap((function(){var e=Object(jt.a)(Array.from(document.documentElement.children)).concat(Object(jt.a)(Array.from(document.body.children))).filter((function(e){return!e.hasAttribute("data-verified")&&"head"!==e.nodeName.toLowerCase()})).map((function(e){return{nodeName:e.nodeName,src:e.getAttribute("src"),content:e.outerHTML.substr(0,255)}}));e.length&&e.forEach((function(e){T.d.Logging.getLogger("3rdPartyInjections").info("found unknown element",e)}))}))):x.a.EMPTY),g.createElement(ob,{actions:e.environment.actions,documentModel:e.documentModel},g.createElement(ab,e))},tb=function(e){var t=e.denaliViewModels,n=e.userAccount,a=e.documentModel,r=e.documentLoader,i=e.notificationsManager,o=e.uploadViewModel,s=g.useContext(M.a.Context),c=g.useContext(ju.a.Context),l=g.useContext(P.a.Context),u=g.useContext(Su.a.Context),d=t.createLoaderViewModel(o),p=y.a.create(!1),m=new Pu(t.modalManager,n,a,d,r.state,s,i,c,l,u,p,t.bannersModel);return _.a.useSubscriptionTo(m.init()),_.a.useEffectOnWillUnmount((function(){return d.dispose()})),_.a.useSubscriptionTo(Object(b.pipe)(t.cheetahViewModel,x.b.compact,x.a.switchMap((function(e){return e.usedDuringSession})),x.a.tap((function(e){return p.set(e)})))),g.createElement(g.Fragment,null)},nb=Na.d.lazy((function(){return n.e(5).then(n.t.bind(null,"1NAz",7))})),ab=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u.a)(Object(s.a)(e),"context",void 0),Object(u.a)(Object(s.a)(e),"_subs",new tn.a.Keeper),e}return Object(l.a)(n,[{key:"_trackAlertActions",value:function(){var e=this;return[this.props.denaliViewModels.navigationViewModel.state.view("isSidebarOpen").pipe(x.a.switchMap(A.b.orEmpty(this.props.denaliViewModels.alertUserEvents.alertClicked)),x.b.compact).subscribe((function(t){e.context.gnarSpec.alertUnderlineClick(e.context.pageId,"assistantOn",e.context.pageSessionId,Rc.a.isPremiumId(t.alert.lensId)?"premiumUphookPreview":t.alert.lensId)}))]}},{key:"componentWillMount",value:function(){T.d.Logging.root.context.add({denali:!0})}},{key:"componentDidMount",value:function(){var e,t=this.props,n=t.documentModel,a=t.selfUpdate,r=t.denaliEditorModel;this.context.gnarSpec.denaliDocumentPageShow(this.context.pageId,document.location.toString(),this.context.isTouchDevice),(e=this._subs).push.apply(e,[a.watch(n.saved.pipe(x.a.startWith(!0)),"saved"),r.dontFreezeWhen(y.a.combine(ku.b.activeCount,Ou.a.activeCount,(function(e,t){return e+t>0})),"overlay")].concat(Object(jt.a)(this._trackAlertActions())))}},{key:"render",value:function(){var e=this,t=this.props,n=t.denaliViewModels,a=t.denaliEditorModel,r=t.notificationsManager,i=t.uploadViewModel,o=t.environment,s=t.children,c=t.userAccount,l=t.subscription,u=t.documentModel,d=t.documentLoader;return g.createElement(g.Fragment,null,g.createElement(Se.b.Context.Provider,{value:n.onboardingViewModel},g.createElement(Cu.a.Context.Provider,{value:Object(Jl.a)(r,o)},g.createElement(ge.b.Context.Provider,{value:n.focus},g.createElement(fe.a.Context.Provider,{value:fe.a.getSelectionHOCs(a)},g.createElement(te.c,Object(p.a)({onUnmount:function(){try{e.props.denaliViewModels.modalManager.hideAll(),n.dispose(),e._subs.dispose()}catch(e){T.d.Logging.getLogger("Main").error("Cannot shutdown the engine",e)}}},Object(be.c)(Qg.firstTier)),g.createElement(tb,{denaliViewModels:n,userAccount:c,subscription:l,documentModel:u,documentLoader:d,notificationsManager:r,uploadViewModel:i}),s,g.createElement(Xg.a,{searchViewModel:n.searchViewModel,key:"search-bar"}),g.createElement(Kg,Object(m.a)(Object(p.a)({},this.props),{loaderClassName:Qg.firstTierLoader})),g.createElement(rb,{modalManager:n.modalManager}),g.createElement(v.a.div,null,n.showConfetti.pipe(x.a.filter(b.identity),x.a.map((function(){return g.createElement(wu.a,{fallback:function(){return null},name:"Confetti"},g.createElement(g.Suspense,{fallback:null},g.createElement(nb,{recycle:!1,tweenDuration:1e4})))})),x.a.startWith(null)))))))),g.createElement($u,{documentUpload:i.uploadModel,modalManager:n.modalManager}))}}]),n}(g.Component);Object(u.a)(ab,"contextType",P.a.Context);var rb=function(e){var t=e.modalManager;return g.createElement(v.a.Fragment,null,t.state.view(Object(b.flow)(O.g.map((function(e){return e.component})),O.g.toNullable)))},ib=function(e){var t=e.documentLoader,n=e.userAccount;return g.createElement(Ng.Loader,{className:Qg.firstTierLoader,userAccount:n,documentLoader:t,isOggy:O.g.isSome(n.features.denali.oggy)})},ob=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u.a)(Object(s.a)(e),"_log",T.d.Logging.getLogger("block_unsaved_changes")),Object(u.a)(Object(s.a)(e),"_blockNavigationWhenUnsavedChanges",(function(){return x.a.fromEvent(window,"beforeunload").pipe(x.a.withLatestFrom(e.props.documentModel.saved,(function(e,t){return t?null:e})),x.a.filter(Boolean)).subscribe((function(e){return e.returnValue=Jg,Jg}))})),Object(u.a)(Object(s.a)(e),"_notifyAboutDocumentStateChange",(function(){return e.props.documentModel.saved.pipe(x.a.startWith(!0)).subscribe((function(t){Object(b.pipe)(e.props.actions.documentStateChanged(t?te.b.DocumentState.SAVED:te.b.DocumentState.NOT_SAVED),O.b.mapLeft((function(t){return e._log.warn("Could not perform documentStateChanged action.",t)})))}))})),Object(u.a)(Object(s.a)(e),"_handleUnsavedChanges",(function(){return e._blockNavigationWhenUnsavedChanges().add(e._notifyAboutDocumentStateChange())})),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return g.createElement(te.c,{onMount:this._handleUnsavedChanges},this.props.children,g.createElement(Eu.b.Block,{when:this.props.documentModel.saved.pipe(x.a.startWith(!0),x.a.map((function(e){return!e}))),message:function(){return e.props.documentModel.flush().catch((function(t){return e._log.error("Could not flush document before exit",t)})),e._log.warn("unsaved changes prompt before navigate"),"You may have unsaved changes in your document that will be lost if you leave the page."}}))}}]),n}(g.Component),sb=n("yIt4"),cb=j.a.style({margin:"".concat(j.a.rem(-10)," ").concat(j.a.rem(-2)," 0 0")}),lb=function(e){var t=e.isRefreshLogo,n=g.useContext(M.a.Context);return g.createElement(sb.a,{name:"doc-not-found",illustration:g.createElement(ub,{className:cb}),title:"Can’t find this document",description:"It looks like this document was removed or URL is incorrect.",isRefreshLogo:t,primaryButton:{title:"Go to your documents",onClick:function(){return n.navigate(M.a.routes.documents.href())}}})},ub=function(e){var t=e.className;return g.createElement("svg",{"aria-hidden":!0,width:"194",height:"128",viewBox:"0 0 194 128",className:t},g.createElement("g",{fill:"none",fillRule:"evenodd"},g.createElement("path",{d:"M44 40h64c2.2 0 4 1.8 4 4v80c0 2.2-1.8 4-4 4H45c-2.76 0-5-2.24-5-5V44c0-2.2 1.8-4 4-4z",fill:"#E4E6F2",opacity:".8"}),g.createElement("rect",{stroke:"#8189A9",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",x:"47",y:"33",width:"72",height:"88",rx:"1"}),g.createElement("path",{d:"M60.28 86h44.67M60.28 96h44.67M60.28 107H73",stroke:"#E4E6F2",strokeWidth:"2",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("g",{transform:"translate(64 47)"},g.createElement("circle",{fill:"#8189A9",cx:"3",cy:"3",r:"3"}),g.createElement("circle",{fill:"#8189A9",cx:"33",cy:"3",r:"3"}),g.createElement("path",{d:"M29.46 21.54C26.66 18.74 22.78 17 18.5 17c-4.28 0-8.16 1.73-10.96 4.54",stroke:"#8189A9",strokeWidth:"2",strokeLinecap:"round"})),g.createElement("path",{d:"M188.13 106.03c.3.3.3.8-.1 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8zm3.9 4l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm6.8-5.7c.3.3.3.8-.1 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0zM86.03 3.13l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm5.7 5.6l-1.9-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm-6.9.2c-.2 0-.4 0-.5-.1-.3-.3-.3-.8 0-1.1l1.7-1.9c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2zm5.7-5.6c-.2 0-.4-.1-.6-.2-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2z",fill:"#F6C2CB",fillRule:"nonzero"}),g.createElement("path",{d:"M4.6 60.2c2.2 0 3.9-1.8 3.9-3.9 0-2.2-1.8-3.9-3.9-3.9-2.2 0-3.9 1.8-3.9 3.9 0 2.1 1.7 3.9 3.9 3.9zm0-6.3C5.9 53.9 7 55 7 56.3c0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.4 1.1-2.4 2.4-2.4z",fill:"#A1E7D7",fillRule:"nonzero"})))},db=function(e){var t=e.docId,n=e.engine,a=e.ded,r=e.userAccount,i=e.upgradeHook,o=e.remSize,s=e.notificationsCenter,c=e.networkState,l=e.uploadViewModel,u=e.notificationsManager,d=e.selfUpdate,p=e.clientsState,m=e.documentLoader,f=e.textResources,h=e.config,b=e.router,v=e.environment,y=e.platformEnvironment,S=e.context,C=e.telemetryContainerId,w=e.bannersFeatures,k=e.bannersModel,E=e.experimentClient,j=g.useContext(P.a.Context),_=new(O.g.isSome(r.features.denali.oggy)?yu:Ce.a)(n,a,r,i,r.subscription,v,y,j,o,c,t,l,u,r.settings,m,f,h,b,C,w,k,E),x=_.capiSession.sessionUuid;return g.createElement(P.a.ContextProvider,{gnarSpec:S.gnarSpec,docId:S.docId,pageId:n.sessionModel.isDemoDocument?"demoDocument":"document",pageSessionId:S.pageSessionId,sessionUuidGetter:function(){return O.g.fromNullable(x.get())}},g.createElement(eb,{denaliEditorModel:a,plagiarismModel:n.plagiarismModel,documentModel:n.sessionModel,uploadViewModel:l,userAccount:r,subscription:r.subscription,selfUpdate:d,denaliViewModels:_,capabilities:_.capabilities,notificationsManager:u,clientsState:p,documentLoader:m,environment:v},s))},pb=C.b.fontsProvider(v.a.div),mb=function(e){var t=e.docId,n=e.userAccount,a=e.networkState,r=e.selfUpdate,i=e.uploadViewModel,o=e.upgradeHook,s=e.engineStream,c=e.notificationsManager,l=e.backendManagedStorageManager,u=e.clientsState,d=e.documentLoader,p=e.textResources,m=e.config,h=e.router,b=e.environment,y=e.platformEnvironment,j=e.telemetryContainerId,A=e.bannersFeatures,M=e.bannersModel,N=e.experimentClient,D=T.d.Logging.getLogger("denali.editorContent"),B=g.useContext(P.a.Context),L=g.createElement(k.a,{key:"platformNotificationsCenter",views:F.a,manager:c,onNotificationClose:function(e){return B.gnarSpec.notificationCloseButtonClick(e.type,B.pageId)}});return _.a.useEffectOnDidMount((function(){document.body.classList.remove("editorTs")})),_.a.useEffectOnWillUnmount((function(){document.body.classList.add("editorTs")})),O.g.isSome(e.userAccount.features.denali.fontAccessibilityTesting)&&(pb=C.a.experimantalFontsProvider(v.a.div)),g.createElement(w.a.DefaultManager,null,g.createElement(I.a.DefaultManager,null,g.createElement(pb,{key:t},g.createElement(ol.a,null),s.pipe(x.a.map(O.g.fold((function(){return L}),O.b.fold((function(e){return e.code===S.a.WsCodes.NOT_FOUND?(D.warn("document not found on init",e),g.createElement(lb,{key:"404",isRefreshLogo:n.features.denali.refreshLogo})):(e.code===S.a.WsCodes.UNAUTHORIZED?D.warn("unauthorized on init",e):D.warn("engine init error",e),L)}),(function(e){var s=Object(f.a)(e,2),v=s[0],O=s[1];return g.createElement(w.a.Context.Consumer,{key:"remSize"},(function(e){return g.createElement(db,{key:"main",docId:t,engine:O,context:B,ded:v,remSize:e,notificationsCenter:L,uploadViewModel:i,networkState:a,userAccount:n,upgradeHook:o,notificationsManager:c,backendManagedStorageManager:l,selfUpdate:r,clientsState:u,documentLoader:d,textResources:p,config:m,router:h,environment:b,platformEnvironment:y,telemetryContainerId:j,bannersFeatures:A,bannersModel:M,experimentClient:N})}))})))),x.a.startWith(L)),g.createElement(E.a,{key:"tooltip"}))))},fb=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u.a)(Object(s.a)(e),"context",void 0),Object(u.a)(Object(s.a)(e),"_uploadViewModel",void 0),Object(u.a)(Object(s.a)(e),"_documentLoader",new sl.b(e.props.router,e.props.userAccount.features.denali)),Object(u.a)(Object(s.a)(e),"_docId",y.a.create(O.g.fromNullable(Number(e.props.docId)))),e}return Object(l.a)(n,[{key:"_renderPageDoc",value:function(e){var t=this.props,n=t.userAccount,a=t.networkState,r=t.upgradeHook,i=t.doxApi,s=t.doxWSApi,c=t.wsConnectivity,l=t.selfUpdate,u=t.notificationsManager,d=t.backendManagedStorageManager,h=t.clientsState,v=t.textResources,y=t.config,S=t.router,C=t.environment,w=t.platformEnvironment,k=t.telemetryContainerId,E=t.fingerprints,j=$t.createDoxEventsCollector(),_=A.b.promiseToStream((function(){return Promise.all([d.catch((function(){return O.g.none})),al.getDoxInit(e,s,c,j,E.accessToken)]).then((function(t){var a=Object(f.a)(t,2),r=a[0],s=a[1],l={id:e,rtfMode:N.d.DocumentFeatures.getFormattingMode(s.meta.originalFilename,s.meta.createdAt,n.features.denali),template:D.a.fromDocSettings(s.meta.settings)},u=B.a.create(s,j.dox,n.features),d=function(e,t,n,a){var r=o.isDraftAIMode(n,e.features.denali),i=n.rtfMode===N.d.DocumentFeatures.FormattingMode.on,s=t.has(te.b.Flag.pasteAsPlainTextInSafariFromMSWord)?[V.f.MSWord]:[],c=R.import("formats/link");c.className=ie.a.rtfLink;var l=R.import("formats/indent");l.className="ql-indent";var u=[Y,c,l];return r&&u.push(W.d),new q.a({theme:ee.a,modules:{history:X.a,clipboard:Object(K.b)(i,s),keyboard:Q.a.getKeyboardWithBindings(i?Object(p.a)({},Q.a.Bindings.rtfBindings,r?Q.a.Bindings.templateSectionBindings:{}):Q.a.Bindings.plainTextBindings),marks:J.a},formats:u},a,i?r?Object(z.p)(W.c.QuillFormatNames.is,(function(e){return e===W.d.blotName})):W.c.QuillFormatNames.is:H.a.skipAny,H.a.skipAny,{classes:e.settings.editorPreferences.view((function(e){var n=e.fontSize,a=e.suggestionsVisualMode,r=Object(ue.a)(a),i=t.has(te.b.Flag.highHighlights)?r.markHeightTall:void 0;return{containerClass:Object(b.pipe)(n,ne.e.match("",ie.a.bigSize),(function(e){return G.c.classes(e,U.o.paper,ie.a.editorContainer)})),markClassesTheme:r,markExtraClass:i,editorContainer:ie.a.editorContainer}})),freezeFocusFeature:!0,allowNavigationTo:function(e){return re.b.isSearchInput(e)||Pt.isTitleInput(e)},shouldFocusEditor:ae.a.isInlineCard})}(n,C,l,u);return[d,al.create(s,j,y,k,i,c,d,e,Object(m.a)(Object(p.a)({},n),{email:n.profile.get().email}),C,u,E.accessToken,void 0,O.g.toUndefined(r))]}))}));return this._documentLoader.listenEngineErrors(_),this._uploadViewModel=new L.b(this.props.doxApi,this.props.router,this.props.notificationsManager,this.context,this.props.platformEnvironment,this.props.environment,this.props.config,this.props.bannersFeatures),g.createElement(M.c,{key:"base-page-".concat(e),title:_.pipe(x.a.switchMap(Object(b.flow)(O.g.chain(O.g.fromEither),O.g.map((function(e){return Object(f.a)(e,2)[1].sessionModel.title})),O.g.getOrElse((function(){return x.a.of(void 0)})))),x.a.map((function(e){return Boolean(e)?"".concat(e," - Grammarly"):"Grammarly"})))},g.createElement(g.Fragment,null,g.createElement(mb,{key:"denali-editor-content",docId:"".concat(e),userAccount:n,upgradeHook:r,networkState:a,uploadViewModel:this._uploadViewModel,engineStream:_,selfUpdate:l,notificationsManager:u,backendManagedStorageManager:d,clientsState:h,documentLoader:this._documentLoader,textResources:v,config:y,router:S,environment:C,platformEnvironment:w,telemetryContainerId:k,bannersFeatures:this.props.bannersFeatures,bannersModel:this.props.bannersModel,experimentClient:this.props.experimentClient}),g.createElement(ib,{key:"loader",userAccount:this.props.userAccount,documentLoader:this._documentLoader})))}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillReceiveProps",value:function(e){var t=Number(e.docId);this._docId.set(O.g.fromNullable(t))}},{key:"componentWillUnmount",value:function(){this._uploadViewModel.dispose(),this._documentLoader.dispose()}},{key:"render",value:function(){var e=this;return g.createElement(v.a.Fragment,null,this._docId.view(Object(b.flow)(O.g.filter((function(e){return!isNaN(e)})),O.g.fold((function(){return g.createElement(M.c,{title:"Grammarly"},g.createElement(lb,{key:"404",isRefreshLogo:e.props.userAccount.features.denali.refreshLogo}))}),(function(t){return e._renderPageDoc("".concat(t))})))))}}]),n}(g.Component);Object(u.a)(fb,"contextType",P.a.Context),j.a.setStylesTarget(document.getElementById("typestyleTarget"))},"6YEU":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("yQCL"),s=n("DTwm"),c=n("mgiE"),l=n("0kuo"),u=n("M3t0"),d=n("Hj2R"),p=n("D2TP"),m=n("xk6L"),f=n("uxqH"),h=n("hzat"),g=n("8XoQ"),b=n("/1wo"),v=n("mDV6"),y=n("eAYH");!function(e){var t=e.Kind="PlagiarismCard";let n;!function(e){const t=e=>t=>Object(i.a)(Object(r.a)({},t),{positionState:e});var n=e.changeVisualState=e=>t=>Object(i.a)(Object(r.a)({},t),{visualState:e});const a=b.a.getTransitionTo(n,t);e.getChangePosition=function(){return{changePosition:t}},e.getAnimatable=function(){return{completeTransition:e=>t=>n(v.a.VisualState.complete(t.visualState,e))(t),transitionTo:a,changeVisualState:n}};const o=(e,t,n)=>a=>Object(i.a)(Object(r.a)({},a),{alerts:e,activeAlert:y.b.getAlertByIndex(n,e),removedAlertsIds:t,activeAlertIndex:n});var u=e.select=(e,a)=>b.a.getSelectByAlert(o,e=>s.identity,n,t,e=>s.identity,s.identity,e,a);e.getSelect=function(e,a){const r=u(e,a);return{select:b.a.getSelectFirstAlert(r),selectByAlert:(e,t,n)=>r(t,e,n),unselect:b.a.getUnselectItem(n,t)}};var p=e.remove=b.a.getRemove(o,a);function m(e,t,n){Object(l.f)(1===t.length,"PlagiarismCard can only handle update with a single alert");const o=t[0];Object(l.f)(void 0!==e.alerts.find(e=>e.id===o.id),"can not receive updates for unknown alert",()=>o.toString());const s=function(e,t,n){const a=b.a.getApplicableCardMeta(t,e.visualState,n);return Object(i.a)(Object(r.a)({},e),{activeHighlightIndex:b.a.getAHI(e,a),meta:a})}(e,o,n);switch(o.state.type){case d.a.State.Type.REGISTERED:return"success"===s.visualState.transition.type||"presuccess"===s.visualState.transition.type?a({type:"focused",clockwise:s.visualState.transition.clockwise})(s):s;case d.a.State.Type.REMOVED:return"focused"!==s.visualState.transition.type&&"expanded"!==s.visualState.transition.type||!s.alerts.every(e=>d.a.isCapiDone(e)&&e.allowUpdate&&d.a.isRated(s.activeAlert))?p(t,!0)(s):a({type:"presuccess",clockwise:s.visualState.transition.clockwise})(s);case d.a.State.Type.APPLIED:case d.a.State.Type.BEING_APPLIED:return p(t,!0)(s);default:return Object(l.c)(o.state)}}e.getRemoveAlert=function(e,t){return{removeAlertFromItem:(n,a)=>r=>{const i=new Set(n.map(e=>e.id));return y.b.hasAnyOfAlerts(i)(r)?p(n,Object(s.pipe)(e(a),c.g.map(e=>t.compare(r,e)>0),c.g.getOrElse(s.constTrue)))(r):r}}},e.getUpdateWithAlert=function(e){return{updateWithAlerts:t=>n=>m(n,t,e)}}}(n=e.Capabilities||(e.Capabilities={}));var a=e.eq=y.b.eq;let O;!function(e){function l(e,n){const o=n.alerts;return Object(i.a)(Object(r.a)({id:e,kind:t,activeAlert:y.b.getAlertByIndex(n.activeAlertIndex,o),equals(e){return a.equals(this,e)},hashCode(){return y.b.hashCode(Object(i.a)(Object(r.a)({},this),{userInput:c.g.none}))}},n),{alerts:o})}function O(e){const t=e.map(e=>e.getHighlightRanges()[0]),n=Object(s.pipe)(e.map(e=>f.b.groupSum.concat(f.b.MAX,f.b.groupSum.inverse(e.progress))),Object(o.fold)(f.b.groupSum),e=>f.b.monoidMin.concat(e,f.b.MAX),f.a.fromRatio);return new g.a.Impl(n,"",g.a.CheckingState.Idle,t,!1)}e.create=function(e,t){const a=u.d.Logging.getLogger("PlagiarismCardFactory"),o=(e,a,r,i)=>b.a.getCreate(l,c.g.none,b.a.getChangeVisualState(n.changeVisualState,s.identity),()=>m.a.EMPTY,t)(e,a,r,0,O(a),p.a.SpecialId.Plagiarism,i),f=b.a.getSelectNextAlert(b.a.getCardSelections(e),n.select(e,t)),g=(e,t)=>Object(i.a)(Object(r.a)({},e),{meta:O(t)});return{createRendered:(e,t)=>o(e,t,0,c.g.some(v.a.VisualState.initial({type:"rendered",clockwise:!0},!1))),createAdded:(e,t)=>o(e,t,0,c.g.some(v.a.VisualState.initial({type:"added",clockwise:!0},!0))),createFocused:(e,t,n)=>o(e,t,n,c.g.some(v.a.VisualState.initial({type:"focused",clockwise:!0},!0))),changePlagiarismMetaWithAlerts:g,addPlagiarismAlerts:(e,t)=>{const n=e.alerts.concat(t.map(e=>h.a.fromModel(e))).sort(d.d.ord.compare).filter(t=>{const n=h.a.isPlagiarism(t);return n||a.error("Encountered non-plagiarism alert in plagiarism card",{alert:t,cardId:e.id}),n});return g(Object(i.a)(Object(r.a)({},e),{alerts:n,activeAlertIndex:y.b.getIndexByAlert(e.activeAlert.id,n)}),n)},remove:(e,t,a)=>n.remove(t,a)(e),selectNextAlert:(e,t)=>f(t)(e),shouldAnimateAlertApply:t.shouldAnimateAlertApply}},e.getPlagiarismCardMeta=O}(O=e.ItemFactory||(e.ItemFactory={}))}(a||(a={}))},"6c0D":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("a5gI"),r=n("DTwm"),i=n("+vYo"),o=n("xk6L"),s=n("M3t0"),c=n("0IPU");class l{isStepEnabled(e){return void 0!==this._steps[e]}relaunchAllSteps(){s.d.Logging.getLogger("OnboardingViewModelImpl").error("Not implemented")}setState(e,t){this.subscribeForStep(e).state.set(t)}subscribeForStep(e){const t=i.a.create(c.a.Hidden);return Boolean(this._steps[e])?this._steps[e]:this._steps[e]={id:e,state:t,dotShown:r.constVoid,dotClicked:()=>t.set(c.a.Popup),popupClosed:()=>t.set(c.a.Passed),popupIgnored:()=>t.set(c.a.Hidden),actionTaken:()=>t.set(c.a.Passed)}}getStepCompletionCallback(e){throw new Error("Method not implemented.")}changeState(e){}constructor(){Object(a.a)(this,"completionTrigger",i.a.create(!1)),Object(a.a)(this,"_steps",{}),Object(a.a)(this,"getFirstTargetRect",()=>o.a.EMPTY)}}},"6dqF":function(e,t,n){"use strict";function a(e){return{kind:"error",source:"core",name:"lifecycleStartingFailed",data:e}}function r(e){return{kind:"error",source:"core",name:"lifecycleVisuallyReadyFailed",data:e}}function i(e){return{kind:"error",source:"core",name:"lifecycleReadyToDragFailed",data:e}}function o(e){return{kind:"error",source:"core",name:"lifecycleFocusStateChangedFailed",data:e}}function s(e){return{kind:"error",source:"core",name:"lifecycleCloseFailed",data:e}}function c(e){return{kind:"error",source:"core",name:"unsanitizeTextOnInboundCAPIMessageFailed",data:e}}function l(e){return{kind:"error",source:"core",name:"sanitizeTextOnOutboundCAPIMessageFailed",data:e}}function u(e){return{kind:"error",source:"core",name:"fetchTreatmentsFailed",data:e}}function d(){return{kind:"error",source:"core",name:"getContextFailed",data:null}}function p(){return{kind:"error",source:"core",name:"getHistoryFailed",data:null}}function m(e){return{kind:"error",source:"core",name:"actionFailed",data:e}}function f(e){return{kind:"error",source:"core",name:"waitForContextTimeout",data:e}}function h(){return{kind:"error",source:"core",name:"waitForHistoryTimeout",data:null}}function g(){return{kind:"error",source:"core",name:"waitForResultTimeout",data:null}}function b(e){return{kind:"error",source:"core",name:"waitForAckTimeout",data:e}}function v(e){return{kind:"error",source:"core",name:"setVoiceProfileFailed",data:e}}function y(e){return{kind:"error",source:"core",name:"setNewVoiceProfileFailed",data:e}}function O(e){return{kind:"error",source:"core",name:"capiErrorUnhandled",data:e}}function S(e){return{kind:"error",source:"core",name:"insertResultFailed",data:e}}function C(e){return{kind:"error",source:"core",name:"copyResultFailed",data:e}}function w(e){return{kind:"error",source:"core",name:"regenerateResultFailed",data:e}}function k(e){return{kind:"error",source:"core",name:"stopInProgressResultFailed",data:e}}function E(e){return{kind:"error",source:"core",name:"getTextFailed",data:e}}function j(e){return{kind:"error",source:"core",name:"reportUphookShowFailed",data:e}}function _(e){return{kind:"error",source:"core",name:"reportUphookClickFailed",data:e}}function x(e){return{kind:"error",source:"core",name:"reportMetricFailed",data:e}}n.d(t,"l",(function(){return a})),n.d(t,"m",(function(){return r})),n.d(t,"k",(function(){return i})),n.d(t,"j",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"v",(function(){return c})),n.d(t,"r",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"x",(function(){return f})),n.d(t,"y",(function(){return h})),n.d(t,"z",(function(){return g})),n.d(t,"w",(function(){return b})),n.d(t,"t",(function(){return v})),n.d(t,"s",(function(){return y})),n.d(t,"b",(function(){return O})),n.d(t,"h",(function(){return S})),n.d(t,"c",(function(){return C})),n.d(t,"n",(function(){return w})),n.d(t,"u",(function(){return k})),n.d(t,"g",(function(){return E})),n.d(t,"q",(function(){return j})),n.d(t,"p",(function(){return _})),n.d(t,"o",(function(){return x}))},"6fTk":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ZDrO");const r=["b","i","br","ul","li"];var i;!function(e){e.renderToHtml=function(e,t){const n=t?{allowedTags:r.concat(["a"]),linkRegExp:t}:{allowedTags:r};return a.d.setInnerHTML(e,n)}}(i||(i={}))},"6o9b":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("Wy1Y"),r=n("uKMM"),i=n("4mQT"),o=n("t5lx"),s=n("B8yO"),c=n("ySi0"),l=n("nWMp"),u={position:"absolute",top:l.a.percent(40),width:l.a.percent(100)},d={position:"absolute",top:l.a.px(-9999),left:l.a.px(-9999),visibility:"hidden"},p=l.a.stylesheet({spinner:[u],wrapper:[{display:"flex",height:"100vh"}],preload:[d]}),m=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return s.createElement(f,null,s.createElement(c.b,null))}}]),n}(s.Component),f=function(e){var t=e.children;return s.createElement("div",{className:p.preload},t)}},"6sgl":function(e,t,n){"use strict";function a(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}t.a=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(r&&(r+=" "),r+=t);return r}},"6uQI":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("a5gI"),i=n("mgiE");!function(e){e.setTimeToGlobalTimers=function(e){window.Grammarly.denali.timers=Object(r.a)({},e,Date.now())},e.popTimeFromGlobalTimers=function(e){var t,n,a,o,s=i.g.fromNullable(null===(o=window)||void 0===o||null===(a=o.Grammarly)||void 0===a||null===(n=a.denali)||void 0===n||null===(t=n.timers)||void 0===t?void 0:t[e]);return window.Grammarly.denali.timers=Object(r.a)({},e,void 0),s}}(a||(a={}))},"6x3U":function(e,t,n){"use strict";n.d(t,"a",(function(){return Iw}));var a=n("LzOy"),r=n("0Uv3"),i=n("uKTw"),o=n("xk6L"),s=n("yIk2"),c=n("+vYo");class l{constructor(e){this._hostAvailability=e,this._sub=new o.a.Subscription,this._availability=c.a.create(null),this.availability=this._availability.view(),this._sub=e.subscribe(s.b.toAtom(this._availability))}augment(e){this._sub.unsubscribe(),this._sub=e(this._hostAvailability).subscribe(s.b.toAtom(this._availability))}dispose(){this._sub.unsubscribe()}}var u=n("DgJv"),d=n("La5+"),p=n("M3t0"),m=n("Wy1Y"),f=n("a5gI"),h=n("hcme"),g=n("tiWp"),b=n("mgiE"),v=n("xAs4"),y=function e(t,n,a){var r=this;Object(m.a)(this,e),Object(f.a)(this,"_ded",void 0),Object(f.a)(this,"_features",void 0),Object(f.a)(this,"_inlineManager",void 0),Object(f.a)(this,"inlineButtonState",void 0),Object(f.a)(this,"magicRewriteEnabled",void 0),Object(f.a)(this,"inlineRewriteEnabled",void 0),Object(f.a)(this,"showOnboardingTourA11yUpdates",void 0),Object(f.a)(this,"_subs",void 0),Object(f.a)(this,"_inlineButtonState",void 0),Object(f.a)(this,"dispose",void 0),this._ded=t,this._features=n,this._inlineManager=a,this.inlineButtonState=c.a.create(b.g.none),this._subs=new d.a.Keeper,this._inlineButtonState=o.a.combineLatestStatic([this._ded.viewport,this._ded.scrollPosition,this._inlineManager.cheetahInlineButtonState]).pipe(o.a.map((function(e){var t=Object(h.a)(e,3),n=t[0],a=t[1],i=t[2];return Object(g.pipe)(i,b.g.fold((function(){return b.g.none}),(function(){var e=n.text.left;return Object(g.pipe)(r._ded.getSelectionRect(),b.b.flatMap((function(e){return e.getRect()})),b.b.map((function(e){return e.clientRects})),b.g.fromEither,b.g.filter(b.a.isNonEmpty),b.g.map((function(t){var n=t[t.length-1],r=t.length>1;return{top:n.bottom+a,left:r?e:n.left}})))})))}))),this.dispose=function(){r._subs.dispose()};var i=Object(g.pipe)(this._features.oggy,b.g.forAll((function(e){return e===v.j.splitSharedAssistants})));this.magicRewriteEnabled=i&&this._features.cheetahMagicRewrite,this.inlineRewriteEnabled=i&&this._features.cheetahInlineRewrite,this.showOnboardingTourA11yUpdates=this._features.showOnboardingTourA11yUpdates,this._subs.push(this._inlineButtonState.subscribe((function(e){return r.inlineButtonState.set(e)})))},O=n("8O/t"),S=n("X76w"),C=n("CulD"),w=n("DTwm"),k=n("dXk0"),E=n("B8yO"),j=n.n(E),_=n("111I"),x=n("lKCo"),A=n("O+SZ"),I=n("0kuo"),T=n("Y9fM"),M=n("wvT7"),P=n("HOlR"),N=n("cZKX"),D=n("IMGo"),B=n("ZZle"),L=n("5FCM"),F=n("L1No"),R=n("Jvac"),H=n("0Qjk"),V=n("TKPA"),U=n("QpYi"),W=n("U9Go"),z=n("024v");function G(e){var t,n;return null===(n=(null===(t=e.activeElement)||void 0===t?void 0:t.shadowRoot)||e)||void 0===n?void 0:n.activeElement}function q(e){return e instanceof HTMLElement}const K=["b","i"];function $(e,t=K){return"string"==typeof e?{dangerouslySetInnerHTML:{__html:Object(U.sanitize)(e,{ALLOWED_TAGS:Array.from(t)})}}:{dangerouslySetInnerHTML:e.pipe(o.a.map(e=>({__html:Object(U.sanitize)(e,{ALLOWED_TAGS:Array.from(t)})})))}}var Z,Y,X,Q,J=n("c+X/");!function(e){function t(e){return"rewrite"===e}function n(e){return"quickRewrite"===e}e.isIdeation=function(e){return"ideation"===e},e.isRewrite=t,e.isQuickReply=function(e){return"quickReply"===e},e.isQuickRewrite=n,e.isPushRewrite=function(e){return"pushRewrite"===e},e.isRewriteOrQuickRewrite=Object(V.p)(t,n)}(Z||(Z={})),function(e){let t,n,a;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={})),function(e){e.create=function(e,t){return{id:e,kind:"string",value:t}}}(n=e.StringValue||(e.StringValue={})),function(e){e.create=function(e,t){return{id:e,kind:"radio",value:t}}}(a=e.RadioValue||(e.RadioValue={}))}(Y||(Y={})),(X||(X={})).match=e=>t=>{const n=t.kind;return"string"===n?e.string(t):"radio"===n?e.radio(t):void Object(I.d)(n)},function(e){function t(e){return"followUpQuestion"===e.kind}function n(e){return"quickAction"===e.kind}let a,r,i,o,s,c,l;e.isFollowUpQuestionActionValue=t,e.isQuickActionValue=n,e.isListableActionValue=Object(V.p)(t,n),e.isUserPromptActionValue=function(e){return"userPrompt"===e.kind},e.isQuickRewriteActionValue=function(e){return"quickRewrite"===e.kind},e.isFollowUpQuestionActionInput=function(e){return"followUpQuestion"===e.kind},e.isQuickActionInput=function(e){return"quickAction"===e.kind},e.isSkillAction=function(e){return"skillAction"===e.kind},e.isToneAction=function(e){return"toneAction"===e.kind},e.isPlagiarismAction=function(e){return"plagiarismAction"===e.kind},e.isWritingExpertAction=function(e){return"writingExpertAction"===e.kind},e.extractActionIcon=function(e){return"plagiarismAction"===e.kind?P.left("plagiarism"):P.right(e.iconUrl)},e.createFollowUpQuestionActionInputOrQuickActionInput=function(t,n,a,o,s){var c;const l=Array.from(new Set(n.map(e=>e.group).filter(Object(w.not)(i.isPinned)))).findIndex(e=>t.group===e),u=i.isPinned(t.group)?r.knownStores.pinned:r.knownStores.ideas,d={id:e.Id.create(t.id),contextId:s,iconUrl:t.iconUrl,store:{id:u,label:i.isPinned(t.group)?"":Z.isQuickReply(a)?"Ways to reply":b.g.isSome(o)?"Work with: "+o.value:"Ideas for you",view:i.isPinned(t.group)?e.Store.View.pinned:e.Store.View.normal,rank:null!==(c=r.ranks[u])&&void 0!==c?c:Number.MAX_SAFE_INTEGER,maxCountBeforeClipping:Z.isQuickReply(a)?b.g.none:b.g.some(3)},group:{id:i.Id.create(t.group),label:t.group,rank:l>-1?l:Number.MAX_SAFE_INTEGER},label:Object(U.sanitize)(t.label,{ALLOWED_TAGS:K}),searchLabel:Object(U.sanitize)(t.label,{ALLOWED_TAGS:[]}),searchTags:t.searchTags,generatesTextType:b.g.fromNullable(t.generatesTextType),disabled:void 0!==t.disabled,notificationOnAttempt:Object(w.pipe)(b.g.fromNullable(t.disabled),b.g.chain(({onActionNotification:e})=>b.g.fromNullable(e)),b.g.map(({text:e})=>e))};if(1===t.args.length){const e=t.args[0],n={id:Y.Id.create(e.name),label:e.label,hints:Object(w.pipe)(b.g.fromNullable(e.hint),b.g.map(e=>({header:e.header,items:e.text})))};return"string"===e.valueType?b.g.some(Object.assign(Object.assign({},d),{kind:"followUpQuestion",args:[Object.assign(Object.assign({},n),{kind:"string"})],generatesTextType:b.g.fromNullable(t.generatesTextType)})):"radioButtonGroup"===e.valueType?Object(w.pipe)(e.radioButtonGroupValues,D.E,b.g.map(e=>Object.assign(Object.assign({},d),{kind:"followUpQuestion",args:[Object.assign(Object.assign({},n),{kind:"radio",radioOptions:e})],generatesTextType:b.g.fromNullable(t.generatesTextType)}))):b.g.none}return 0===t.args.length?b.g.some(Object.assign(Object.assign({},d),{kind:"quickAction",args:[]})):b.g.none},function(e){e.create=function(e){return e},e.eq=W.i}(a=e.Id||(e.Id={})),function(e){let t,n;!function(e){e.eq=W.i}(t=e.Id||(e.Id={})),function(e){e.normal="normal",e.pinned="pinned"}(n=e.View||(e.View={})),e.knownStores={ideas:"ideas",pinned:"pinned",tools:"tools",apps:"Apps"},e.ranks={[e.knownStores.ideas]:0,[e.knownStores.pinned]:1,[e.knownStores.tools]:2,[e.knownStores.apps]:3}}(r=e.Store||(e.Store={})),function(t){let n;!function(e){e.create=function(e){return e},e.eq=W.i}(n=t.Id||(t.Id={})),t.isPinned=function(t){return t===e.knownGroup.pinned}}(i=e.Group||(e.Group={})),e.knownGroup={tools:i.Id.create("tools"),apps:i.Id.create("apps"),pinned:i.Id.create("pinned")},e.knownGroupRank={[e.knownGroup.tools]:-3,[e.knownGroup.apps]:-2,[e.knownGroup.pinned]:-1},e.knowGroupLabels={[e.knownGroup.tools]:"Tools",[e.knownGroup.apps]:"Apps",[e.knownGroup.pinned]:""},function(e){e.fromTextInput=function(e,t){return Object.assign(Object.assign({},e),{args:[Y.StringValue.create(e.args[0].id,t)]})},e.fromRadioInput=function(e,t){return Object.assign(Object.assign({},e),{args:[Y.RadioValue.create(e.args[0].id,t)]})}}(o=e.FollowUpQuestionActionValue||(e.FollowUpQuestionActionValue={})),e.createSkillAction=function(t,n){var i;const o=r.knownStores.apps;return{kind:"skillAction",id:a.create(t.id),store:{id:o,label:"App actions",view:e.Store.View.normal,rank:null!==(i=r.ranks[o])&&void 0!==i?i:Number.MAX_SAFE_INTEGER,maxCountBeforeClipping:Z.isQuickReply(n)?b.g.some(1):b.g.some(3)},group:{id:e.knownGroup.apps,label:"App actions",rank:Number.MAX_SAFE_INTEGER},iconUrl:t.iconUrl,label:Object(U.sanitize)(t.displayName,{ALLOWED_TAGS:K}),searchLabel:Object(U.sanitize)(t.displayName,{ALLOWED_TAGS:[]}),searchTags:t.tags,generatesTextType:b.g.none,args:[],skill:t,disabled:!1,notificationOnAttempt:b.g.none}},e.createToneAction=function(t){return{kind:"toneAction",id:a.create(t.name),store:{id:"",label:"",view:e.Store.View.normal,rank:Number.MAX_SAFE_INTEGER,maxCountBeforeClipping:b.g.none},group:{id:e.knownGroup.tools,label:"Tools",rank:Number.MAX_SAFE_INTEGER},iconUrl:(n=t.emojiId,J.b+n+".svg"),label:"Check my tone",searchLabel:Object(U.sanitize)(t.name,{ALLOWED_TAGS:[]}),searchTags:["Check my tone",t.name],generatesTextType:b.g.none,args:[],tone:t,disabled:!1,notificationOnAttempt:b.g.none};var n},e.createPlagiarismAction=function(){const t="Check for plagiarism";return{kind:"plagiarismAction",id:a.create("plagiarism"),store:{id:"",label:"",view:e.Store.View.normal,rank:Number.MAX_SAFE_INTEGER,maxCountBeforeClipping:b.g.none},group:{id:e.knownGroup.tools,label:"Tools",rank:Number.MAX_SAFE_INTEGER},iconUrl:"",label:t,searchLabel:"plagiarism",searchTags:[t],generatesTextType:b.g.none,args:[],disabled:!1,notificationOnAttempt:b.g.none}},e.createWritingExpertAction=function(){const t="Show ideas tailored to your audience";return{kind:"writingExpertAction",id:a.create("writingExpert"),store:{id:"",label:"",view:e.Store.View.normal,rank:Number.MAX_SAFE_INTEGER,maxCountBeforeClipping:b.g.none},group:{id:e.knownGroup.tools,label:"Tools",rank:Number.MAX_SAFE_INTEGER},iconUrl:"",label:t,searchLabel:"ideas",searchTags:[t],generatesTextType:b.g.none,args:[],disabled:!1,notificationOnAttempt:b.g.none}},function(e){e.ordByGroup=z.contramap(e=>e.group.rank)(z.ordNumber)}(s=e.ListableActionInput||(e.ListableActionInput={})),function(e){e.fromInput=function(e,t,n,a){return Object.assign(Object.assign({},e),{arg:Y.StringValue.create(e.arg.id,t),useReferences:n,omitReferenceIds:a})}}(c=e.UserPromptActionValue||(e.UserPromptActionValue={})),function(e){e.fromInput=function(e){return Object.assign(Object.assign({},e),{args:[]})}}(l=e.QuickRewriteActionValue||(e.QuickRewriteActionValue={}))}(Q||(Q={}));var ee,te=n("IH4a");function ne(e){return Object(w.pipe)(x.fromNullable(e.changesSummary),x.filter(({title:e})=>""!==e),x.chain(({title:e,description:t})=>Object(w.pipe)(D.F(t),x.map(t=>({title:e,description:t})))))}!function(e){let t,n;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={})),e.isPending=function(e){return"pending"===e.kind},e.isReceived=function(e){return"received"===e.kind},function(e){e.empty=function(e){return{id:e,kind:"pending",availableActions:[],specialView:x.none,userPromptAction:x.none,intent:x.none,documentOverview:x.none,selection:x.none,isBoundary:!1,textRevision:x.none}}}(n=e.Pending||(e.Pending={}))}(ee||(ee={}));var ae,re=n("KMes");!function(e){let t;function n(e){switch(e){case"sensitiveResult":return{header:"Assistance is unavailable",text:"Assistance is unavailable for that text or prompt.\nTry something else."};case"overload":return{header:"Couldn’t generate text",text:"We’re handling a lot of prompts right now and couldn’t generate that text.\nPlease try again later."};case"unsupportedLanguage":return{header:"Hmm, don’t know that language",text:"Assistance is currently only available for English."};case"critical":case"timeout":case"emptyResult":case"truncatedResult":case"usageExceeded":return{header:"Something went wrong",text:"We’re not sure what happened, but we couldn’t generate that text.\nPlease try again."};default:return Object(w.absurd)(e)}}!function(e){e.create=function(e){switch(e){case re.c.ErrorKind.Generic:return"critical";case re.c.ErrorKind.Overflow:return"truncatedResult";case re.c.ErrorKind.PromptsLimitExceeded:return"usageExceeded";case re.c.ErrorKind.SensitiveContent:return"sensitiveResult";case re.c.ErrorKind.ServerOverloaded:return"overload";case re.c.ErrorKind.UnsupportedLanguage:return"unsupportedLanguage";default:return Object(w.absurd)(e)}}}(t=e.Reason||(e.Reason={})),e.create=function(e){const a=t.create(e.kind),r=Object(w.pipe)(M.a(x.Applicative)({header:Object(w.pipe)(x.fromNullable(e.title),x.filter(e=>""!==e.trim())),text:Object(w.pipe)(x.fromNullable(e.text),x.filter(e=>""!==e.trim()))}),x.getOrElse(()=>n(a)));return Object.assign({reason:a},r)},e.createCriticalError=function(e){return{reason:"critical",header:"Something went wrong",text:e?"We’re not sure what happened.\nPlease try again later.":"We’re not sure what happened, but we couldn’t generate that text.\nPlease try again."}},e.createEmptyResultError=function(){return Object.assign({reason:"emptyResult"},n("emptyResult"))}}(ae||(ae={}));var ie=n("dDfY"),oe=n("6dqF");var se,ce=n("z+vV");function le(e){return Z.isRewriteOrQuickRewrite(e.mode)}function ue(e){return Z.isQuickReply(e.mode)}function de(e){return Z.isPushRewrite(e.mode)}!function(e){let t,n,a;!function(e){e.restoreDisabled="restoreDisabled",e.unknown="unknown",e.hasHistory="hasHistory",e.noHistory="noHistory",e.historyRequested="historyRequested",e.historyRestored="historyRestored"}(t=e.HistoryStatus||(e.HistoryStatus={})),function(e){e.unknown="unknown",e.static="static",e.dynamic="dynamic"}(n=e.SelectionContextStatus||(e.SelectionContextStatus={})),e.toStarting=function(e){return"starting"===e.kind?x.some(e):x.none},e.toStarted=function(e){return"started"===e.kind?x.some(e):x.none},e.toContextless=function(e){return"contextless"===e.kind?x.some(e):x.none},e.fold=function(e){return t=>"starting"===t.kind?e.starting(t):"started"===t.kind?e.started(t):"contextless"===t.kind?e.contextless(t):void Object(I.d)(t)},e.isStartedWithInProgressResult=function(e){return"started"===e.kind&&x.isSome(e.inProgressResult)},function(e){e.initial=e=>({kind:"starting",mode:e,selectedRange:x.none,selectedText:x.none,quickReplyContext:x.none,historyStatus:t.unknown,writingExpertContext:x.none,error:x.none,textRevision:0,selectionContextStatus:n.unknown})}(a=e.Starting||(e.Starting={}))}(se||(se={}));function pe(e){return"id"in e&&e.email.endsWith("@grammarly.com")&&Object(w.pipe)(e.institution,x.fold(w.constFalse,e=>624392205===e.id))}function me(e){return"id"in e}function fe(e){return me(e)&&e.isPremium}var he,ge=n("GMJx");!function(e){const t={"Cheetah/_System/Push/SimplifyRewrite":{copiablePrompt:x.none,iconUrl:x.some("https://assets.grammarly.com/cheetah/v1/actions/simplify.svg"),label:"Simplify your text"},"Cheetah/_System/Push/ImproveParagraph":{copiablePrompt:x.none,iconUrl:x.some("https://assets.grammarly.com/cheetah/v1/actions/improve.svg"),label:"Improve your text"}};e.toPreviousText=function(e){return Object(w.pipe)(e,x.fromPredicate(e=>e.alertPname in t),x.map(e=>({kind:"writerExpert",suggestionId:e.alertId,pname:e.alertPname,text:e.replacementText})))},e.getInitialResult=function(e){const n=P.left((new ge.a).insert(e.replacementText));return Object(w.pipe)(x.fromNullable(t[e.alertPname]),x.map(t=>({kind:"complete",id:ce.a.Id.create(0),header:t,replacementDelta:n,text:e.replacementText,references:x.none,source:x.none,changesSummary:x.none,timestamp:Date.now(),supportedActions:new Set([ce.a.SupportedAction.insert,ce.a.SupportedAction.copy]),boundaryContextId:x.none})))}}(he||(he={}));var be,ve,ye=n("OpUX"),Oe=n("lkU9");function Se(e){return o.a.from(e).pipe(o.a.take(1)).toPromise()}!function(e){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}e.create=function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(be||(be={})),(ve||(ve={})).create=function(e,t,n,a,r){return"information"===e?{kind:"information",persistent:!!a,customTimeout:r,text:t,id:n||be.create()}:{kind:e,persistent:!!n,customTimeout:"number"==typeof a?a:void 0,id:t||be.create()}};var Ce=n("M8uP");var we,ke,Ee=n("Yqho");!function(e){let t,n,a,r,i,o;!function(e){let t;!function(e){e.create=function(e){return e},e.eq=W.i}(t=e.Id||(e.Id={}))}(t=e.Tone||(e.Tone={})),function(e){let t;!function(e){e.create=function(e){return e},e.eq=W.i}(t=e.Id||(e.Id={}))}(n=e.Style||(e.Style={})),function(e){let t;!function(e){e.create=function(e){return e},e.eq=W.i}(t=e.Id||(e.Id={}))}(a=e.Role||(e.Role={})),function(e){function t(e){switch(e){case"american":return"American English";case"australian":return"Australian English";case"british":return"British English";case"canadian":return"Canadian English";case"indian":return"Indian English";default:return Object(I.d)(e)}}function n(e){switch(e){case"american":return"https://assets.grammarly.com/emoji/v1/1f1fa-1f1f8.svg";case"australian":return"https://assets.grammarly.com/emoji/v1/1f1e6-1f1fa.svg";case"british":return"https://assets.grammarly.com/emoji/v1/1f1ec-1f1e7.svg";case"canadian":return"https://assets.grammarly.com/emoji/v1/1f1e8-1f1e6.svg";case"indian":return"https://assets.grammarly.com/emoji/v1/1f1ee-1f1f3.svg";default:return Object(I.d)(e)}}let a;!function(e){e.create=function(e){return e},e.eq=W.i}(a=e.Id||(e.Id={})),e.american={id:a.create("american"),label:t("american"),iconUrl:n("american")},e.australian={id:a.create("australian"),label:t("australian"),iconUrl:n("australian")},e.british={id:a.create("british"),label:t("british"),iconUrl:n("british")},e.canadian={id:a.create("canadian"),label:t("canadian"),iconUrl:n("canadian")},e.indian={id:a.create("indian"),label:t("indian"),iconUrl:n("indian")},e.all=function(){return[e.american,e.australian,e.british,e.canadian,e.indian]}}(r=e.Dialect||(e.Dialect={})),function(e){e.eq=W.l({selectedStyle:n.Id.eq,selectedTonesPerStyle:Ee.j(n.Id.eq,B.l(t.Id.eq)),selectedRole:x.getEq(a.Id.eq),selectedDialect:r.Id.eq})}(i=e.Selections||(e.Selections={})),e.toLegacyVoiceProfile=function(e){return"legacyVoiceProfile"===e.kind?x.some(e):x.none},function(e){const t=W.l({name:W.i,state:W.i}),n=W.l({name:W.i,tags:N.eb(t)}),i=W.l({name:W.i,summary:W.i,selected:W.e,sections:N.eb(n)}),o=N.eb(i);e.eqByRoleDialectProfileAndIsEnabledByDefault=W.l({profiles:o,selectedRole:x.getEq(a.Id.eq),selectedDialect:r.Id.eq,isEnabledByDefault:W.e})}(o=e.NewSelections||(e.NewSelections={})),e.toNewVoiceProfile=function(e){return"newVoiceProfile"===e.kind?x.some(e):x.none}}(we||(we={})),(ke||(ke={})).createId=({tagName:e,sectionName:t,profileName:n})=>`${t}-${e}-${n}`;var je,_e=n("IOJj"),xe=n("Wa65"),Ae=n("V+fo");!function(e){let t,n;e.fromOuterContext=function(e){var n,a,r,i;const o=e=>Object(w.pipe)(x.fromNullable(null==e?void 0:e.from),x.chain(N.ib),x.fold(()=>t.empty,t.fromNameAndEmailString)),s=e=>Object(w.pipe)(x.fromNullable(null==e?void 0:e.to),x.chain(D.F),x.map(D.R(t.fromNameAndEmailString)),x.getOrElseW(()=>[])),c=Object(w.pipe)(x.fromNullable(e.items),x.chain(N.ib),x.getOrElseW(()=>{}));return{previousMessageInfo:{author:o(null==c?void 0:c.people),directRecipients:s(null==c?void 0:c.people),text:null!==(n=null==c?void 0:c.text)&&void 0!==n?n:""},title:null!==(a=e.title)&&void 0!==a?a:"",author:o(e.people),directRecipients:s(e.people),indirectRecipients:Object(w.pipe)(x.fromNullable(null===(r=e.people)||void 0===r?void 0:r.cc),x.chain(D.F),x.map(D.R(t.fromNameAndEmailString)),x.getOrElseW(()=>[])),undisclosedRecipients:Object(w.pipe)(x.fromNullable(null===(i=e.people)||void 0===i?void 0:i.bcc),x.chain(D.F),x.map(D.R(t.fromNameAndEmailString)),x.getOrElseW(()=>[]))}},e.toOuterContext=function(t){return{title:t.title,people:{from:[e.Person.extractNameAndEmailString(t.author)],to:t.directRecipients.map(e.Person.extractNameAndEmailString),cc:t.indirectRecipients.map(e.Person.extractNameAndEmailString),bcc:t.undisclosedRecipients.map(e.Person.extractNameAndEmailString)},items:[{text:t.previousMessageInfo.text,people:{from:[e.Person.extractNameAndEmailString(t.previousMessageInfo.author)],to:t.previousMessageInfo.directRecipients.map(e.Person.extractNameAndEmailString)}}]}},e.empty={previousMessageInfo:{author:{name:"",email:""},directRecipients:[],text:""},title:"",author:{name:"",email:""},directRecipients:[],indirectRecipients:[],undisclosedRecipients:[]},function(e){e.empty={name:"",email:""},e.fromNameAndEmailString=function(t){return Object(w.pipe)(x.fromNullable(t.match(/^([^<]*)<(.*)>$/)),x.map(e=>{var t,n,a,r;return{name:null!==(n=null===(t=e[1])||void 0===t?void 0:t.trim())&&void 0!==n?n:"",email:null!==(r=null===(a=e[2])||void 0===a?void 0:a.trim())&&void 0!==r?r:""}}),x.getOrElse(()=>e.empty))},e.extractNameAndEmailString=function(e){const t=""!==e.email?`<${e.email}>`:"";return[e.name,t].filter(e=>""!==e).join(" ")}}(t=e.Person||(e.Person={})),function(e){e.empty={author:{name:"",email:""},directRecipients:[],text:""}}(n=e.PreviousMessageInfo||(e.PreviousMessageInfo={}))}(je||(je={}));var Ie=n("HDmH");const Te=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Me(e,t,n,a,r){let i,o,s,c,l,u,d,p,m,f,h,g,b;for(;r>=64;){for(i=t[0],o=t[1],s=t[2],c=t[3],l=t[4],u=t[5],d=t[6],p=t[7],f=0;f<16;f++)h=a+4*f,e[f]=(255&n[h])<<24|(255&n[h+1])<<16|(255&n[h+2])<<8|255&n[h+3];for(f=16;f<64;f++)m=e[f-2],g=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10,m=e[f-15],b=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3,e[f]=(g+e[f-7]|0)+(b+e[f-16]|0);for(f=0;f<64;f++)g=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&u^~l&d)|0)+(p+(Te[f]+e[f]|0)|0)|0,b=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&s^o&s)|0,p=d,d=u,u=l,l=c+g|0,c=s,s=o,o=i,i=g+b|0;t[0]+=i,t[1]+=o,t[2]+=s,t[3]+=c,t[4]+=l,t[5]+=u,t[6]+=d,t[7]+=p,a+=64,r-=64}return a}class Pe{constructor(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(let e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()}update(e,t=e.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let n=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[n++],t--;64===this.bufferLength&&(Me(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(n=Me(this.temp,this.state,e,n,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[n++],t--;return this}finish(e){if(!this.finished){const e=this.bytesHashed,t=this.bufferLength,n=e/536870912|0,a=e<<3,r=e%64<56?64:128;this.buffer[t]=128;for(let e=t+1;e<r-8;e++)this.buffer[e]=0;this.buffer[r-8]=n>>>24&255,this.buffer[r-7]=n>>>16&255,this.buffer[r-6]=n>>>8&255,this.buffer[r-5]=n>>>0&255,this.buffer[r-4]=a>>>24&255,this.buffer[r-3]=a>>>16&255,this.buffer[r-2]=a>>>8&255,this.buffer[r-1]=a>>>0&255,Me(this.temp,this.state,this.buffer,0,r),this.finished=!0}for(let t=0;t<8;t++)e[4*t+0]=this.state[t]>>>24&255,e[4*t+1]=this.state[t]>>>16&255,e[4*t+2]=this.state[t]>>>8&255,e[4*t+3]=this.state[t]>>>0&255;return this}digest(){const e=new Uint8Array(this.digestLength);return this.finish(e),e}_saveState(e){for(let t=0;t<this.state.length;t++)e[t]=this.state[t]}_restoreState(e,t){for(let t=0;t<this.state.length;t++)this.state[t]=e[t];this.bytesHashed=t,this.finished=!1,this.bufferLength=0}}new Uint8Array(32);var Ne=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{c(a.next(e))}catch(e){i(e)}}function s(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))};function De(e,t){switch(e.historyStatus){case se.HistoryStatus.restoreDisabled:return e.historyStatus;case se.HistoryStatus.unknown:case se.HistoryStatus.noHistory:case se.HistoryStatus.hasHistory:return void 0!==t?t>0?se.HistoryStatus.hasHistory:se.HistoryStatus.noHistory:se.HistoryStatus.unknown;case se.HistoryStatus.historyRequested:case se.HistoryStatus.historyRestored:return"started"===e.kind&&void 0!==e.results.find(ce.a.isHistory)?se.HistoryStatus.historyRestored:se.HistoryStatus.restoreDisabled;default:Object(I.d)(e.historyStatus)}}function Be(e,t=!1){return Object(w.pipe)(e.replacementDelta,P.fold(w.identity,({preferVoice:e,generic:n,user:a})=>t?e===ce.a.GeneratedTextVoice.generic?n:a:n),e=>Object(Ie.a)(e,""))}function Le(e){return L.J(()=>"started"===e.kind?P.right(e):P.left(new Error("Session not started")))}function Fe(e,t,n,a){var r;const i=Object(w.pipe)(se.toStarted(n),b.g.fold(()=>[],e=>e.voiceProfile.roles));return{kind:"newVoiceProfile",userName:e.userName,title:e.title,subTitle:e.subTitle,profiles:e.profiles,isEnabledByDefault:e.myVoiceIsEnabledByDefault.state,isEnabledByDefaultLabel:e.myVoiceIsEnabledByDefault.label,dialects:we.Dialect.all(),roles:Object(w.pipe)(null!==(r=t.roles)&&void 0!==r?r:[],N.ub(e=>({id:we.Role.Id.create(e),label:e})),e=>e.length>0?e:i),selectedDialect:Object(w.pipe)(se.toStarted(n),b.g.fold(()=>we.Dialect.Id.create(a),e=>e.voiceProfile.selectedDialect)),selectedRole:Object(w.pipe)(b.g.fromNullable(t.selectedRole),b.g.map(e=>e.trim()),b.g.filter(e=>""!==e),b.g.map(we.Role.Id.create)),needsSetup:!1}}function Re(e,t,n){var a,r;const i=Object(w.pipe)(se.toStarted(t),b.g.map(e=>e.voiceProfile),b.g.chain(we.toLegacyVoiceProfile),b.g.fold(()=>[],e=>e.styles)),o=Object(w.pipe)(se.toStarted(t),b.g.fold(()=>[],e=>e.voiceProfile.roles)),s=Object(w.pipe)(null!==(a=e.styles)&&void 0!==a?a:[],N.ub(e=>({id:we.Style.Id.create(e.button.label),label:e.button.label,iconUrl:e.button.iconUrl,tones:e.tones.map(e=>({id:we.Tone.Id.create(e.label),label:e.label,iconUrl:e.iconUrl,description:e.description})),maxTones:e.maxTones,description:e.button.description})),e=>e.length>0?e:i),c=we.Style.Id.create(e.selectedStyle),l=s.find(e=>we.Style.Id.eq.equals(e.id,c));return{kind:"legacyVoiceProfile",styles:s,roles:Object(w.pipe)(null!==(r=e.roles)&&void 0!==r?r:[],N.ub(e=>({id:we.Role.Id.create(e),label:e})),e=>e.length>0?e:o),selectedStyle:c,selectedTonesPerStyle:(new Map).set(c,new Set(e.selectedTones.filter(e=>null==l?void 0:l.tones.map(e=>e.id.toString()).includes(e)))),selectedRole:Object(w.pipe)(b.g.fromNullable(e.selectedRole),b.g.map(e=>e.trim()),b.g.filter(e=>""!==e),b.g.map(we.Role.Id.create)),dialects:we.Dialect.all(),selectedDialect:Object(w.pipe)(se.toStarted(t),b.g.fold(()=>we.Dialect.Id.create(n),e=>e.voiceProfile.selectedDialect)),needsSetup:e.needSetup}}function He(e,t,n,a,r){return[...Object(w.pipe)(t,N.ub(n=>Q.createFollowUpQuestionActionInputOrQuickActionInput(n,t,a,r,e)),N.B),...n.map(e=>Q.createSkillAction(e,a))]}function Ve(e,t){const n=Object(w.pipe)(e.args,N.ib,b.g.map(t=>({id:Q.Id.create(e.id),kind:"userPrompt",arg:{id:Y.Id.create(t.name),kind:"string",label:t.label,hints:Object(w.pipe)(b.g.fromNullable(t.hint),b.g.map(e=>({header:e.header,items:e.text})))},generatesTextType:b.g.some(re.c.ActionDefGeneratesTextType.Insertable),useReferences:b.g.none,omitReferenceIds:b.g.none,disabled:void 0!==e.disabled,notificationOnAttempt:Object(w.pipe)(b.g.fromNullable(e.disabled),b.g.chain(({onActionNotification:e})=>b.g.fromNullable(e)),b.g.map(({text:e})=>e))})));return b.g.isNone(n)&&t.warn("_extractUserPromptAction() - failed to extract user prompt action, received empty action args",{promptAction:e}),n}function Ue(e){return{kind:"quickRewrite",id:Q.Id.create(e.id),label:Object(U.sanitize)(e.label,{ALLOWED_TAGS:K}),iconUrl:e.iconUrl,generatesTextType:b.g.fromNullable(e.generatesTextType),disabled:void 0!==e.disabled,notificationOnAttempt:Object(w.pipe)(b.g.fromNullable(e.disabled),b.g.chain(({onActionNotification:e})=>b.g.fromNullable(e)),b.g.map(({text:e})=>e))}}function We(e){return Object(w.pipe)(b.g.fromNullable(e),b.g.map(e=>Object(U.sanitize)(e,{ALLOWED_TAGS:[...K,"person"]})),b.g.map(e=>e.trim()),b.g.filter(e=>e.length>0))}function ze(e){return{kind:ce.a.isComplete(e)?"regular":ce.a.isHistory(e)?"history":Object(I.d)(e),text:Be(e)}}function Ge(e){return Object(w.pipe)(b.g.fromNullable(e.references),b.g.map(t=>t.map(t=>{var n;return Object.assign(Object.assign({},t),{id:Ce.a.Id.create(t.id),url:b.g.fromNullable(t.url),contextText:Object(w.pipe)(b.g.fromNullable(null===(n=e.metadata)||void 0===n?void 0:n.knowledge_engine_references),b.g.chainNullableK(e=>{const n=Array.isArray(e)?e.find(e=>e.id===t.id):void 0,a=null==n?void 0:n.contextText;return"string"==typeof a?a:void 0}))})})))}const qe=b.g.fromNullable;function Ke(e){switch(e){case"ideation":return re.c.GenerationMode.Ideation;case"rewrite":return re.c.GenerationMode.Rewrite;case"quickRewrite":return re.c.GenerationMode.QuickRewrite;case"quickReply":return re.c.GenerationMode.QuickReply;case"pushRewrite":return re.c.GenerationMode.PushRewrite;default:return Object(I.d)(e)}}function $e(e){const t=Object(w.pipe)(e,b.g.fromPredicate(e=>function(e){return Z.isIdeation(e.mode)}(e)&&!!e.documentUrl),b.g.map(e=>e.documentUrl),b.g.chain(b.g.fromNullable),b.g.chain(Ye),b.g.map(e=>({pageIdHash:e}))),n=Object(w.pipe)(e,b.g.fromPredicate(ue),b.g.map(e=>je.toOuterContext(e.quickReplyContext)));return b.g.getMonoid(Object(Ae.getFirstSemigroup)()).concat(t,n)}function Ze(e){return Object(w.pipe)(e.quickReplyContext,b.g.map(je.toOuterContext))}function Ye(e){var t;return Object(w.pipe)(null!==(t=function(e){var t;return null===(t=e.match(/^https:\/\/docs.google.com\/[a-zA-Z0-9-_]+\/d\/([a-zA-Z0-9-_]+)/))||void 0===t?void 0:t[1]}(e))&&void 0!==t?t:function(e){var t;const n=null!==(t=e.match(/^https:\/\/([a-zA-Z0-9-_]+).atlassian.net\/wiki\/spaces\/[a-zA-Z0-9-_]+\/pages\/([0-9]+)/))&&void 0!==t?t:[];return n[1]&&n[2]?`${n[1]}:${n[2]}`:void 0}(e),b.g.fromNullable,b.g.map(Xe))}function Xe(e){const t=(new TextEncoder).encode(e);return xe.Buffer.from(function(e){const t=(new Pe).update(e),n=t.digest();return t.clean(),n}(t)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Qe(e,t,n,a,r){var i,o;return Ne(this,void 0,void 0,(function*(){if((null==r?void 0:r.contextUpdatesServer)&&!ee.isPending(e)&&n.textRevision===b.g.toUndefined(e.textRevision)){const r=Object(w.pipe)(b.g.isNone(n.selectedRange)?Object(w.pipe)(b.g.fromNullable(null===(i=t.context)||void 0===i?void 0:i.textScope),b.g.filter(e=>e.start!==e.end)):Object(w.pipe)(M.a(b.g.option)({currentSelectionRange:n.selectedRange,backendSelectionRange:b.g.fromNullable(null===(o=t.context)||void 0===o?void 0:o.textScope)}),b.g.filter(({currentSelectionRange:e,backendSelectionRange:t})=>e.start!==t.start||e.end!==t.end),b.g.map(({backendSelectionRange:e})=>e)),b.g.toUndefined);if(r){if(r.start===r.end)return P.right(b.g.none);{const t=yield a(r)();return P.right(Object(w.pipe)(b.g.fromEither(t),b.g.map(e=>({text:e,range:r})),b.g.alt(()=>e.selection)))}}return P.left(void 0)}return P.left(void 0)}))}var Je=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{c(a.next(e))}catch(e){i(e)}}function s(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))},et=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};class tt{constructor(e){var t,n,a,r,l;if(this._params=e,this._subs=new d.a.Keeper,this._session=c.a.create(se.Starting.initial(this._params.genAIStartSessionOptions.mode)),this._resultById=new Map,this._contextIdByResultId=new Map,this._contextById=new Map,this._historyResultIdByGetContextMessageId=new Map,this._contextMessageIdsTriggeredBySelectionChanges=new Set,this._stateBlobByContextId=new Map,this._initialReceivedContext=null,this._upstreamDialect=c.a.create(we.Dialect.Id.create("american")),this._cheetahAckIds=new Set,this._searchReferencesUrlsById=new Map,this._cheetahAckHandlers=new Array,this._resultTimeout=void 0,this._contextTimeout=void 0,this._historyTimeout=void 0,this._cheetahAckTimeout=void 0,this._historyAckHandler=void 0,this._skills=[],this._capiCheckingStatus=c.a.create("unknown"),this._resultTimeoutMs=null!==(t=this._params.resultTimeoutMs)&&void 0!==t?t:2e4,this._contextTimeoutMs=null!==(n=this._params.contextTimeoutMs)&&void 0!==n?n:2e4,this._historyTimeoutMs=null!==(a=this._params.historyTimeoutMs)&&void 0!==a?a:2e4,this._cheetahAckTimeoutMs=null!==(r=this._params.cheetahAckTimeoutMs)&&void 0!==r?r:2e4,this._logger=null!==(l=this._params.logger)&&void 0!==l?l:new i.a(tt.name),this._notificationHandler=null,this.session=this._session.view(),this._handleCAPIMessage=e=>{switch(e.action){case"error":return this._handleError(e);case"cheetah":return this._handleCheetahAck(e);case"cheetah:setContext":return void this._handleCheetahSetContext(e);case"cheetah:chunk":return this._handleCheetahChunk(e);case"cheetah:result":return void this._handleCheetahResult(e);case"cheetah:error":return this._handleCheetahError(e);case"cheetah:setUserState":return this._handleCheetahSetUserState(e);case"cheetah:searchReferencesResult":return this._handleCheetahSearchReferencesResult(e);case"cheetah:invalidateContext":return void this._getContext();case"cheetah:setHistory":return this._handleCheetahSetHistory(e);case"show_survey":case"emotions":case"finished":case"async_check_finished":return;default:return this._logger.warn("Received unexpected CAPI message",e),Object(I.d)(e)}},this._subs.push(this._params.capiService.relevantInboundCAPIMessages.pipe(o.a.filter(te.a.Finished.is),o.a.map(e=>e.checksStatus)).subscribe(s.b.toAtom(this._capiCheckingStatus))),le(this._params.genAIStartSessionOptions)){const e=this._params.textEditorService.selectedRange.get();Object(w.pipe)(e,b.g.fold(()=>this._init(),e=>Object(Oe.b)("getText",this._params.textEditorService.getText(e),this._logger,t=>this._init({selectedRange:e,selectedText:t}),t=>{this._logger.warn("getText() - failed to get text from host, defaulting to empty text",{selectedRange:e,error:t}),this._params.monitoringService.notify(Object(ie.a)(Object(oe.g)({textRange:e,rawError:Object(ye.b)(t)}))),this._init()})))}else this._init()}registerNotificationHandler(e){this._notificationHandler=e}_pushNotification(e){var t;null===(t=this._notificationHandler)||void 0===t||t.call(this,e)}_init(e){var t;this._session.set({kind:"starting",mode:this._params.genAIStartSessionOptions.mode,selectedRange:b.g.fromNullable(null==e?void 0:e.selectedRange),selectedText:Object(w.pipe)(b.g.fromNullable(null==e?void 0:e.selectedText),b.g.filter(e=>e.length>0)),quickReplyContext:b.g.fromNullable(ue(this._params.genAIStartSessionOptions)?this._params.genAIStartSessionOptions.quickReplyContext:void 0),writingExpertContext:b.g.fromNullable(de(this._params.genAIStartSessionOptions)?this._params.genAIStartSessionOptions.writingExpertContext:void 0),historyStatus:se.HistoryStatus.unknown,error:b.g.none,textRevision:0,selectionContextStatus:this._params.selectionContextAvailability&&(null===(t=this._params.selectionContextAvailability.get())||void 0===t?void 0:t.contextUpdatesClient)?se.SelectionContextStatus.dynamic:se.SelectionContextStatus.static}),this._setupSessionModeUpdater(),this._subs.push(this._params.capiService.relevantInboundCAPIMessages.subscribe(e=>this._handleCAPIMessage(e))),this._subs.push(this._params.userService.user.pipe(o.a.filter(me),o.a.map(({dialect:e})=>e),o.a.map(we.Dialect.Id.create)).subscribe(s.b.toAtom(this._upstreamDialect))),this._subs.push(this._upstreamDialect.subscribe(e=>this._handleUpstreamDialectChange(e))),this._subs.push(this._session.pipe(Object(F.a)((e,t)=>e.kind===t.kind),Object(R.a)(e=>"started"===e.kind)).subscribe(()=>{this._params.userActionTrackingService.trackReadyToInteract(),this._params.metricService.report({name:"assistant_gen_ai_initial_context_ready",labels:void 0},["assistant_lifecycle_starting"])})),this._params.selectionContextAvailability&&this._setUpSelectionAvailabilityChangeHandlers(this._params.selectionContextAvailability),this._setupGenAIAvailabilityHandler(),this._subs.push(this._session.subscribe(e=>this._logger.debug("Session updated:",e)))}_setupGenAIAvailabilityHandler(){this._subs.push(this._params.genAIAvailability.pipe(o.a.map(u.a.isUnavailable),o.a.distinctUntilChanged()).subscribe(e=>{this._logger.debug("gen-ai availability updated, isUnavailable: ",e),e?(this._session.modify(e=>Object.assign(Object.assign({},e),{kind:"contextless",nonContextualActions:[]})),this._getSkills()):"started"!==this._session.get().kind&&(this._session.modify(e=>Object.assign(Object.assign({},e),{kind:"starting"})),this._startSessionWhenAppropriate())}))}_startSessionWhenAppropriate(){var e;this._params.selectionContextAvailability&&null===this._params.selectionContextAvailability.get()?o.a.raceStatic([this._params.selectionContextAvailability.pipe(o.a.filter(e=>null!==e)),o.a.timer(null!==(e=this._params.selectionContextAvailabilityWaitTimeoutMs)&&void 0!==e?e:2e3)]).pipe(o.a.take(1)).subscribe(()=>this._startSession()):this._startSession()}_startSession(e){Object(Oe.b)("flush",this._params.textEditorService.flush(),this._logger,()=>{var t,n;const a=le(this._params.genAIStartSessionOptions)?this._params.textEditorService.selectedRange.get():b.g.fromNullable(void 0),r=$e(this._params.genAIStartSessionOptions),i=b.g.fromNullable(de(this._params.genAIStartSessionOptions)?this._params.genAIStartSessionOptions.writingExpertContext:void 0),o={generationMode:Ke(this._params.genAIStartSessionOptions.mode),selectedRange:b.g.toUndefined(a),outerContext:b.g.toUndefined(r),stateBlob:e,metadata:this._params.genAIStartSessionOptions.metadata,previousText:Object(w.pipe)(i,b.g.chain(he.toPreviousText),b.g.toUndefined),includeDisabledActions:this._params.selectionContextAvailability&&(null===(t=this._params.selectionContextAvailability.get())||void 0===t?void 0:t.contextUpdatesServer)&&(null===(n=this._params.selectionContextAvailability.get())||void 0===n?void 0:n.contextUpdatesClient)};this._getSkills(),this._getContext(o)})}_getSkills(){if(this._params.skillService){const e={skills:0===this._skills.length?this._params.skillService.getSkills():L.eb(this._skills),shouldShowSkills:Object(w.pipe)(this._params.experimentService?this._params.experimentService.isGateEnabled(_e.b.CheetahFetchSkills):L.eb(!1),L.bb(e=>new Error(e)))};Object(Oe.b)("getSkills",M.a(Oe.a)(e),this._logger,({skills:e,shouldShowSkills:t})=>{t&&(this._skills=e,this._session.modify(se.fold({starting:w.identity,contextless:e=>Object.assign(Object.assign({},e),{nonContextualActions:this._skills.map(e=>Q.createSkillAction(e,this._session.get().mode))}),started:e=>e.activeContext.availableActions.some(e=>"skillAction"===e.kind)?e:Object.assign(Object.assign({},e),{activeContext:Object.assign(Object.assign({},e.activeContext),{availableActions:e.activeContext.availableActions.concat(this._skills.map(e=>Q.createSkillAction(e,this._session.get().mode)))}),activeBoundaryContext:Object.assign(Object.assign({},e.activeBoundaryContext),{availableActions:e.activeBoundaryContext.availableActions.concat(this._skills.map(e=>Q.createSkillAction(e,this._session.get().mode)))})})})))},e=>this._params.monitoringService.notify(Object(ie.a)({kind:"error",source:"skill",name:"getSkillsFailed",data:{rawError:Object(ye.b)(e)}})))}}_setUpSelectionAvailabilityChangeHandlers(e){const t=e.pipe(o.a.map(e=>!!(null==e?void 0:e.contextUpdatesClient)));this._subs.push(t.pipe(o.a.switchMap(e=>e?this._params.textEditorService.selectedRange.pipe(o.a.skip(1),o.b.compact,o.a.auditTime(500),o.a.tap(e=>this._handleSelectedRangeUpdate(e))):o.a.EMPTY)).subscribe()),this._subs.push(t.pipe(o.a.switchMap(e=>e?o.a.from(this._params.textEditorService.textUpdated).pipe(o.a.tap(()=>this._handleTextUpdated())):o.a.EMPTY)).subscribe()),this._subs.push(t.pipe(o.a.tap(e=>{this._session.modify(t=>Object.assign(Object.assign({},t),{selectionContextStatus:e?se.SelectionContextStatus.dynamic:se.SelectionContextStatus.static}))})).subscribe())}_handleSelectedRangeUpdate(e){this._logger.debug("_handleSelectedRangeUpdate()",{selectedRange:e}),Object(Oe.b)("getText",this._params.textEditorService.getText(e),this._logger,t=>{t.trim().length?(this._session.modify(se.fold({starting:w.identity,contextless:w.identity,started:n=>Object.assign(Object.assign({},n),{mode:"rewrite",activeContext:Object.assign(Object.assign({},n.activeContext),{kind:"pending",isBoundary:!0,textRevision:b.g.some(n.textRevision),selection:b.g.some({text:t,range:e})}),activeBoundaryContext:Object.assign(Object.assign({},n.activeBoundaryContext),{kind:"pending",isBoundary:!0,textRevision:b.g.some(n.textRevision),selection:b.g.some({text:t,range:e})}),selectedRange:b.g.some(e),selectedText:Object(w.pipe)(b.g.some(t),b.g.filter(e=>e.length>0))})})),this._getContext(void 0,void 0,!0)):this._session.modify(e=>Object.assign(Object.assign({},e),{selectedRange:b.g.none,selectedText:b.g.none}))})}_handleTextUpdated(){this._logger.debug("_handleTextUpdated()"),this._session.modify(se.fold({starting:w.identity,contextless:w.identity,started:e=>Object.assign(Object.assign({},e),{textRevision:e.textRevision+1})}))}_setupSessionModeUpdater(){"quickReply"===this._params.genAIStartSessionOptions.mode&&this._params.textEditorService.trimmedTextLength&&this._subs.push(o.a.from(this._params.textEditorService.trimmedTextLength).pipe(o.a.filter(e=>e>0),o.a.take(1)).subscribe(()=>{this._session.modify(e=>Object.assign(Object.assign({},e),{mode:"quickReply"===e.mode?"ideation":e.mode}))}))}submitAction(e,t){this._logger.debug("submitAction()",{actionValue:e,selectedVoice:t}),this._submitAction(e,void 0,void 0,void 0,void 0,t)}setVoiceProfile(e){return this._logger.debug("setVoiceProfile()",{voiceProfileSelections:e}),Object(w.pipe)(Le(this._session.get()),L.ab(t=>(this._session.set(Object.assign(Object.assign({},t),{voiceProfile:Object.assign(Object.assign({},t.voiceProfile),e),activeContext:Object.assign(Object.assign({},t.activeContext),{kind:"pending"})})),t)),L.u(t=>Object(w.pipe)(this._params.capiService.cheetahSetVoice({voice:{selectedStyle:e.selectedStyle,selectedTones:Array.from(e.selectedTonesPerStyle.get(e.selectedStyle)||[]),selectedRole:Object(w.pipe)(e.selectedRole,b.g.toUndefined),needSetup:!1}}),L.p(e=>new Error("CAPIService.cheetahSetVoice error: "+e.message),()=>!we.Dialect.Id.eq.equals(t.voiceProfile.selectedDialect,e.selectedDialect)),L.u(t=>t?M.b(L.b)(Object(w.pipe)(this._params.capiService.set_context({documentContext:{dialect:e.selectedDialect}}),L.bb(e=>new Error("CAPIService.setContext error: "+e.message))),Object(w.pipe)(this._params.userService.setDialect(e.selectedDialect),L.bb(e=>new Error("CAPIService.setDialect error: "+e.message)))):L.cb(null)),L.p(e=>(this._params.monitoringService.notify(Object(ie.a)(Object(oe.t)({rawError:Object(ye.b)(e)}))),e),w.constVoid))))}setNewVoiceProfile(e){var{selectedDialect:t}=e,n=et(e,["selectedDialect"]);return this._logger.debug("setNewVoiceProfile()",{dialect:t,voiceProfile:n}),Object(w.pipe)(Le(this._session.get()),L.ab(e=>(this._session.set(Object.assign(Object.assign({},e),{activeContext:Object.assign(Object.assign({},e.activeContext),{kind:"pending"})})),e)),L.u(e=>Object(w.pipe)(this._params.capiService.cheetahSetVoiceProfile({role:Object(w.pipe)(n.selectedRole,b.g.toUndefined),isEnabledByDefault:n.isEnabledByDefault,profiles:n.profiles}),L.p(e=>new Error("CAPIService.cheetahSetVoice error: "+e.message),()=>!we.Dialect.Id.eq.equals(e.voiceProfile.selectedDialect,t)),L.u(e=>e?M.b(L.b)(Object(w.pipe)(this._params.capiService.set_context({documentContext:{dialect:t}}),L.bb(e=>new Error("CAPIService.setContext error: "+e.message))),Object(w.pipe)(this._params.userService.setDialect(t),L.bb(e=>new Error("CAPIService.setDialect error: "+e.message)))):L.cb(null)),L.p(e=>(this._params.monitoringService.notify(Object(ie.a)(Object(oe.s)({rawError:Object(ye.b)(e)}))),e),w.constVoid))))}stopInProgressResult(){return this._logger.debug("stopInProgressResult()"),Object(w.pipe)(this._session.get(),L.M(se.isStartedWithInProgressResult,()=>new Error("Session has no in-progress result.")),L.u(e=>(this._clearResultRelatedTimeouts(),this._session.modify(t=>Object.assign(Object.assign({},t),{activeContext:Object(w.pipe)(e.results.length>0?this._extractLatestResultContext(e):this._extractInitialContext(),b.g.getOrElse(()=>e.activeContext)),inProgressResult:ce.a.isInProgressPending(e.inProgressResult.value)?b.g.some(Object.assign(Object.assign({},e.inProgressResult.value),{kind:"inProgressInterrupted"})):ce.a.isInProgressInterrupted(e.inProgressResult.value)?e.inProgressResult:ce.a.isInProgressOngoing(e.inProgressResult.value)?b.g.none:Object(I.d)(e.inProgressResult.value)})),Object(w.pipe)(e.inProgressResult.value,b.g.fromPredicate(ce.a.isInProgressOngoing),b.g.fold(()=>L.cb(-1),e=>this._params.capiService.cheetahInterrupt({promptId:ce.a.Id.toPrimitive(e.id)}))))),L.p(e=>(this._params.monitoringService.notify(Object(ie.a)(Object(oe.u)({rawError:Object(ye.b)(e)}))),e),w.constVoid))}regenerateResult(e,t,n){this._logger.debug("regenerateResult()",{resultId:e,options:t,selectedVoice:n}),Object(w.pipe)(se.toStarted(this._session.get()),b.g.tapLeft(()=>this._logger.warn("regenerateResult() - trying to regenerate result with a session that is not `started`, skipping",{session:this._session.get(),resultId:e})),b.g.chain(t=>Object(w.pipe)(b.g.fromNullable(this._resultById.get(e)),b.g.filter(ce.a.isComplete),b.g.filter(e=>e.supportedActions.has(ce.a.SupportedAction.rephrase)),b.g.map(e=>({session:t,result:e})),b.g.tapLeft(()=>{this._logger.warn("regenerateResult() - could not find a rephraseable result for provided result ID, skipping",{session:t,resultId:e}),this._params.monitoringService.notify(Object(ie.a)(Object(oe.n)({resultId:e,reason:"not-found"})))}))),b.g.chain(({session:t,result:n})=>Object(w.pipe)(M.a(b.g.option)({resultSource:n.source,boundaryContextId:n.boundaryContextId}),b.g.map(({resultSource:e,boundaryContextId:a})=>({resultSource:e,boundaryContextId:a,resultText:Be(n),session:t})),b.g.tapLeft(()=>{this._logger.warn("regenerateResult() - trying to regenerate result without source action or boundaryContext",{session:t,result:n}),this._params.monitoringService.notify(Object(ie.a)(Object(oe.n)({resultId:e,reason:"no-source-action"})))}))),b.g.map(({resultSource:a,boundaryContextId:r,resultText:i})=>{const o=a.actionValue,s=b.g.getMonoid(D.H()).concat,c=Object(w.pipe)(o,b.g.fromPredicate(Q.isUserPromptActionValue),b.g.fold(Object(w.constant)(o),e=>Object.assign(Object.assign({},e),{omitReferenceIds:s(e.omitReferenceIds,t.omitReferenceIds)}))),l=this._contextIdByResultId.get(e);void 0===l&&this._params.monitoringService.notify(Object(ie.a)({kind:"warn",source:"core",name:"regenerateResultContextNotFound",data:null})),this._submitAction(c,a.contextId,l,r,{kind:"regular",text:i},n),this._params.userActionTrackingService.trackResultRephrase(l)}))}searchReferences(e){const t=this._session.get();"started"===t.kind?t.detectedReferences.has(e)||(this._session.set(Object.assign(Object.assign({},t),{detectedReferences:new Map(t.detectedReferences).set(e,b.g.none)})),this._setupCheetahAckHandler("searchReferences",t=>{this._searchReferencesUrlsById.set(t,e)}),Object(Oe.b)("cheetahSearchReferences",this._params.capiService.cheetahSearchReferences({url:e}),this._logger)):this._logger.warn("searchReferences() - trying to search a reference with a session that is not `started`, skipping",{session:t})}dismissResult(e){this._logger.debug("dismissResult()",{resultId:e});const t=this._session.get();let n=null;if("started"===t.kind){if(this._resultById.delete(e)){const a=t.results.findIndex(t=>t.id===e);n=t.results[a];let r=t.activeContext,i=t.activeBoundaryContext,o=null;if(0===a&&t.results.length>1){this._logger.debug("dismissResult() - dismissing latest result, will try to restore context from previous result",{session:t,resultId:e});const n=b.g.toUndefined(this._extractPreviousResultContext(t)),a=Object(w.pipe)(this._extractPreviousResultBoundaryContext(t),b.g.alt(()=>b.g.fromNullable(this._initialReceivedContext)),b.g.toUndefined),s=b.g.toUndefined(this._extractLatestResultBoundaryContext(t));n?a!==s?(this._logger.debug("dismissResult() - previous result was for different boundary context, will keep currently active boundary context",{session:t,resultId:e}),r=t.activeBoundaryContext):(this._logger.debug("dismissResult() - found context for previous result, will restore its context",{session:t,resultId:e,previousResultContext:n}),r=n,a&&(i=a)):t.results[1]&&ce.a.isHistory(t.results[1])&&Object(w.pipe)(b.g.fromNullable(this._contextIdByResultId.get(t.results[1].id)),b.g.chain(e=>b.g.fromNullable(this._contextById.get(e))),b.g.isNone)?o=t.results[1].id:this._logger.warn("dismissResult() - could not find context for previous result, context will not be updated",{session:t,resultId:e})}else 1===t.results.length&&(r=t.activeBoundaryContext);this._session.set(Object.assign(Object.assign({},t),{activeContext:Object.assign(Object.assign({},r),{kind:null!==o?"pending":r.kind,availableActions:o?[]:r.availableActions}),activeBoundaryContext:i,results:t.results.filter(t=>!ce.a.Id.eq.equals(t.id,e))}));const s=this._contextIdByResultId.get(e);this._params.userActionTrackingService.trackResultDismiss(s,ce.a.isHistory(n)?e:void 0),"aiUsageNotification"===n.kind&&this._params.userActionTrackingService.trackAINotificationDismiss("document"),o&&this._getContext(void 0,o)}else this._logger.warn("dismissResult() - could not find result for provided result ID, skipping",{session:t,resultId:e})}else this._logger.warn("dismissResult() - trying to dismiss result with a session that is not `started`, skipping",{session:t,resultId:e})}dismissError(){this._logger.debug("dismissError()"),this._session.lens("error").set(b.g.none)}restoreHistory(){this._getHistory()}trackResultInsert(e,t=!1){this._logger.debug("trackResultInsert()",{resultId:e,isUserVoice:t});const n=this._resultById.get(e);if(n){const a=this._contextIdByResultId.get(e);this._params.userActionTrackingService.trackResultInsert(a,ce.a.isHistory(n)?n.id:void 0,t)}else this._logger.warn("trackResultInsert() - could not find result for provided result ID, skipping",{resultId:e,isUserVoice:t})}trackResultCopy(e,t=!1){this._logger.debug("trackResultCopy()",{resultId:e,isUserVoice:t});const n=this._resultById.get(e);if(n){const a=this._contextIdByResultId.get(e);this._params.userActionTrackingService.trackResultCopy(a,ce.a.isHistory(n)?n.id:void 0,t)}else this._logger.warn("trackResultCopy() - could not find result for provided result ID, skipping",{resultId:e,isUserVoice:t})}_trackResultGenerationCompleted(e){this._logger.debug("trackResultGenerationCompleted()",{resultId:e});const t=this._resultById.get(e);if(t){const n=this._contextIdByResultId.get(e);this._params.userActionTrackingService.trackResultGenerationCompleted(n,ce.a.isHistory(t)?t.id:void 0)}else this._logger.warn("trackResultGenerationCompleted() - could not find result for provided result ID, skipping",{resultId:e})}trackResultOffensive(e){this._logger.debug("trackResultOffensive()",{resultId:e});const t=this._resultById.get(e);if(t){const n=this._contextIdByResultId.get(e);this._params.userActionTrackingService.trackResultOffensive(n,ce.a.isHistory(t)?t.id:void 0)}else this._logger.warn("trackResultOffensive() - could not find result for provided result ID, skipping",{resultId:e})}trackActionsOffensive(){this._logger.debug("trackActionsOffensive()");const e=this._session.get();if("started"!==e.kind)return this._logger.warn("trackActionsOffensive() - tracking actions as offensive with a session that is not `started`, skipping");this._params.userActionTrackingService.trackActionsOffensive(e.activeContext.id)}getContextById(e){return b.g.fromNullable(this._contextById.get(e))}dismissActiveBoundaryContext(){if(this._logger.debug("dismissActiveBoundaryContext()"),Object(w.pipe)(se.toStarted(this._session.get()),b.g.forAll(e=>e.activeContext.id!==e.activeBoundaryContext.id)))return this._logger.warn("dismissActiveBoundaryContext() - there are results within this boundary, can't remove");const e=b.g.toNullable(Object(w.pipe)(this._session.get(),se.toStarted,b.g.chain(e=>this._extractLatestResultContext(e)))),t=b.g.toNullable(Object(w.pipe)(this._session.get(),se.toStarted,b.g.chain(e=>this._extractLatestResultBoundaryContext(e)),b.g.alt(()=>this._extractInitialContext())));this._session.modify(se.fold({starting:w.identity,contextless:w.identity,started:n=>e&&t?Object.assign(Object.assign({},n),{mode:n.results.length?n.mode:"ideation",activeContext:e,activeBoundaryContext:t}):Object.assign(Object.assign({},n),{kind:"starting",activeContext:Object.assign(Object.assign({},n.activeContext),{selection:b.g.none,kind:"pending"}),activeBoundaryContext:void 0,selectedRange:b.g.none,selectedText:b.g.none})})),e&&t||this._getContext()}dispose(){this._subs.dispose()}_getContext(e,t,n=!1){var a,r;return Je(this,void 0,void 0,(function*(){if(this._logger.debug("_getContext()",{data:e,fetchContextForHistoryCardId:t}),"contextless"===this._session.get().kind)return void this._logger.debug("Got _getContext() call for contextless session, skipping");yield Se(this._capiCheckingStatus.pipe(o.a.filter(e=>"unknown"!==e&&"some_checks_in_progress"!==e))),this._setupCheetahAckHandler("getContext",e=>{this._setupContextTimeout("getContext"),void 0!==t&&this._historyResultIdByGetContextMessageId.set(e,t),n&&this._contextMessageIdsTriggeredBySelectionChanges.add(e)});const i=this._session.get();Object(Oe.b)("cheetahGetContext",this._params.capiService.cheetahGetContext(null!=e?e:{generationMode:Ke(n?"rewrite":i.mode),selectedRange:b.g.toUndefined(i.selectedRange),outerContext:b.g.toUndefined(Ze(i)),stateBlob:Object(w.pipe)(se.toStarted(i),b.g.map(e=>e.activeContext),b.g.fold(w.constUndefined,e=>this._stateBlobByContextId.get(e.id))),previousText:!n&&"started"===i.kind&&i.results.length>0&&ce.a.isStandardCompletedResult(i.results[0])?ze(i.results[0]):void 0,includeDisabledActions:this._params.selectionContextAvailability&&(null===(a=this._params.selectionContextAvailability.get())||void 0===a?void 0:a.contextUpdatesServer)&&(null===(r=this._params.selectionContextAvailability.get())||void 0===r?void 0:r.contextUpdatesClient)}),this._logger,()=>this._params.monitoringService.notify(Object(ie.a)({kind:"info",source:"core",name:"getContextSuccessful",data:null})),()=>{const e=ae.createCriticalError(Object(w.pipe)(se.toStarting(this._session.get()),b.g.isSome));this._session.modify(se.fold({starting:t=>Object.assign(Object.assign({},t),{error:b.g.some(e),kind:"contextless",nonContextualActions:this._skills.map(e=>Q.createSkillAction(e,this._session.get().mode))}),contextless:t=>Object.assign(Object.assign({},t),{error:b.g.some(e)}),started:t=>Object.assign(Object.assign({},t),{error:b.g.some(e),inProgressResult:b.g.none})})),this._params.monitoringService.notify(Object(ie.a)(Object(oe.e)()))})}))}_handleCheetahSetContext(e){var t,n;return Je(this,void 0,void 0,(function*(){this._logger.debug("_handleCheetahSetContext()",{message:e}),this._clearContextTimeout();const a=this._session.get(),r=Object(w.pipe)(b.g.fromNullable(null===(t=e.context)||void 0===t?void 0:t.voiceProfileSettings),b.g.fold(()=>Re(e.context.voice,a,this._upstreamDialect.get()),t=>Fe(t,e.context.voice,a,this._upstreamDialect.get()))),i={id:ee.Id.create(e.context.id),availableActions:He(ee.Id.create(e.context.id),e.context.availableActions,this._skills,a.mode,a.selectedText),userPromptAction:Ve(e.context.promptAction,this._logger),quickRewriteAction:Ue(e.context.quickRewriteAction),intent:We(e.context.intent),documentOverview:qe(e.context.documentOverview),specialView:b.g.fromNullable(e.context.specialView),selection:this._historyResultIdByGetContextMessageId.has(e.promptId)?b.g.none:Object(w.pipe)(M.a(b.g.option)({text:a.selectedText,range:a.selectedRange})),textRevision:b.g.some(a.textRevision)},o=0===this._contextById.size;let s=e.progressMessage?Object.assign(Object.assign({},i),{kind:"pending",isBoundary:!1}):Object.assign(Object.assign({},i),{kind:"received",isBoundary:o||this._contextMessageIdsTriggeredBySelectionChanges.has(e.promptId)});if(this._shouldSkipContextUpdate(e))return void this._logger.debug("skipping context update for missing history card");const c=yield Qe(s,e,this._session.get(),e=>this._params.textEditorService.getText(e),null===(n=this._params.selectionContextAvailability)||void 0===n?void 0:n.get());s=Object(w.pipe)(b.g.fromEither(c),b.g.fold(()=>s,t=>Object.assign(Object.assign({},s),{isBoundary:!0,selection:t,availableActions:He(ee.Id.create(e.context.id),e.context.availableActions,this._skills,a.mode,Object(w.pipe)(t,b.g.map(({text:e})=>e)))}))),0===this._contextById.size&&ee.isReceived(s)&&(this._initialReceivedContext=s),this._contextById.set(s.id,s),this._stateBlobByContextId.set(s.id,e.context.stateBlob),this._bindContextToHistoryCardIfNeeded(e,s.id);const l=Object(w.pipe)(a.writingExpertContext,b.g.chain(e=>he.getInitialResult(e)),b.g.tap(e=>{this._resultById.set(e.id,e),this._contextIdByResultId.set(e.id,s.id)}),b.g.fold(()=>[],e=>[e]));if(this._session.set(Object.assign(Object.assign({},a),{kind:"started",voiceProfile:r,activeContext:s,activeBoundaryContext:s.isBoundary?s:"started"===a.kind?a.activeBoundaryContext:s,inProgressResult:"started"===a.kind?Object(w.pipe)(a.inProgressResult,b.g.map(e=>Object.assign(Object.assign({},e),{boundaryContextId:s.isBoundary?b.g.some(s.id):e.boundaryContextId}))):b.g.none,results:"started"===a.kind?a.results:l,detectedReferences:"started"===a.kind?a.detectedReferences:new Map,selectedRange:Object(w.pipe)(c,P.fold(()=>a.selectedRange,e=>Object(w.pipe)(e,b.g.map(({range:e})=>e)))),selectedText:Object(w.pipe)(c,P.fold(()=>a.selectedText,e=>Object(w.pipe)(e,b.g.map(({text:e})=>e))))})),Object(w.pipe)(b.g.fromNullable(e.context.contextNotification),b.g.tap(({text:t})=>{this._pushNotification(ve.create("information",t,"contextNotification:"+e.id,!0)),this._params.userActionTrackingService.trackContexNotification("context")})),o&&Z.isQuickRewrite(a.mode)){const t=Q.QuickRewriteActionValue.fromInput(Ue(e.context.quickRewriteAction));this._logger.debug("_handleCheetahSetContext() - received initial context for quick rewrite session, submitting quick rewrite action",{session:a,message:e,quickRewriteAction:t}),this._submitAction(t)}}))}_shouldSkipContextUpdate(e){return Object(w.pipe)(b.g.fromNullable(this._historyResultIdByGetContextMessageId.get(e.promptId)),b.g.fold(w.constFalse,e=>Object(w.pipe)(se.toStarted(this._session.get()),b.g.map(e=>e.results),b.g.fold(w.constTrue,t=>!t.some(t=>t.id===e)))))}_bindContextToHistoryCardIfNeeded(e,t){Object(w.pipe)(b.g.fromNullable(this._historyResultIdByGetContextMessageId.get(e.promptId)),b.g.filter(e=>Object(w.pipe)(b.g.fromNullable(this._contextIdByResultId.get(e)),b.g.fold(w.constTrue,e=>void 0===this._contextById.get(e)))),b.g.tap(e=>this._contextIdByResultId.set(e,t)))}_handleCheetahSetUserState(e){this._logger.debug("_handleCheetahUserState()",{message:e}),this._session.modify(t=>Object.assign(Object.assign({},t),{historyStatus:De(t,e.state.historyItems)}))}_getHistory(){if(this._logger.debug("_getHistory()"),void 0!==this._historyAckHandler)return this._logger.warn("_getHistory() called when a cheetah:getHistory request hasn't been ack'ed yet, skipping");this._historyAckHandler=()=>{this._historyAckHandler=void 0,this._setupHistoryTimeout()},this._setupCheetahAckHandler("getHistory",this._historyAckHandler),this._session.lens("historyStatus").set(se.HistoryStatus.historyRequested),Object(Oe.b)("cheetahGetHistory",this._params.capiService.cheetahGetHistory(),this._logger,()=>this._params.monitoringService.notify(Object(ie.a)({kind:"info",source:"core",name:"getHistorySuccessful",data:null})),()=>this._params.monitoringService.notify(Object(ie.a)(Object(oe.f)())))}_handleCheetahSetHistory(e){void 0!==this._historyAckHandler&&(this._removeCheetahAckHandler(this._historyAckHandler),this._historyAckHandler=void 0),this._clearHistoryTimeout();const t=this._session.get();if("started"!==t.kind)return this._logger.warn("_handleCheetahSetHistory() - trying to handle `cheetah:setHistory` result with a session that is not `started`, skipping",{session:t});Object(w.pipe)(e.cards,N.ub(e=>ce.a.History.createFromCard(e,void 0!==this._params.textEditorService.copyText)),N.Kb,D.F,b.g.fold(()=>this._session.lens("historyStatus").set(se.HistoryStatus.noHistory),e=>{e.forEach(e=>this._resultById.set(e.id,e)),this._session.set(Object.assign(Object.assign({},t),{activeContext:Object.assign(Object.assign({},t.activeContext),{kind:"pending",textRevision:b.g.none,availableActions:[],selection:b.g.none}),historyStatus:se.HistoryStatus.historyRestored,results:[...t.results,...e],selectedRange:b.g.none,selectedText:b.g.none})),this._getContext(void 0,e[0].id)}))}_handleCheetahChunk(e){this._logger.debug("_handleCheetahChunk()",{message:e});const t=this._session.get();if("started"!==t.kind)return this._logger.warn("_handleCheetahChunk() - received chunk with a session that is not `started`, skipping",{session:t,message:e});const n=ce.a.Id.create(e.promptId);Object(w.pipe)(t.inProgressResult,b.g.filter(ce.a.isInProgressOngoing),b.g.filter(e=>ce.a.Id.eq.equals(e.id,n)),b.g.fold(()=>{const e=Object(w.pipe)(t.inProgressResult,b.g.filter(ce.a.isInProgressOngoing),b.g.map(e=>e.id),b.g.toNullable);this._params.monitoringService.notify(Object(ie.a)({kind:"warn",source:"core",name:"unexpectedChunkReceived",data:{expectedInProgressResultId:e,receivedInProgressResultId:n}}))},n=>{this._clearResultRelatedTimeouts(),this._session.set(Object.assign(Object.assign({},t),{inProgressResult:b.g.some(Object.assign(Object.assign({},n),{text:n.text+e.token}))})),this._setupResultTimeout()}))}_handleCheetahResult(e){return Je(this,void 0,void 0,(function*(){this._logger.debug("_handleCheetahResult()",{message:e});const t=this._session.get();if("started"!==t.kind)return this._logger.warn("_handleCheetahResult() - received result with a session that is not `started`, skipping",{session:t,message:e});const n=ce.a.Id.create(e.promptId);try{yield Object(w.pipe)(t.inProgressResult,b.g.filter(ce.a.isInProgressOngoing),b.g.filter(e=>ce.a.Id.eq.equals(e.id,n)),b.g.fold(()=>{const e=Object(w.pipe)(t.inProgressResult,b.g.filter(ce.a.isInProgressOngoing),b.g.map(e=>e.id),b.g.toNullable);return this._params.monitoringService.notify(Object(ie.a)({kind:"warn",source:"core",name:"unexpectedResultReceived",data:{expectedInProgressResultId:e,receivedInProgressResultId:n}})),Promise.resolve(void 0)},n=>Je(this,void 0,void 0,(function*(){var a,r,i,o;if(this._clearResultRelatedTimeouts(),e.error||!e.text||""===e.text.plain){const n=e.error?ae.create(e.error):ae.createEmptyResultError();this._logger.warn("_handleCheetahResult() - received result with error, adding error to session",{session:t,message:e,error:n}),this._session.set(Object.assign(Object.assign({},t),{inProgressResult:b.g.none,error:b.g.some(n)}))}else if(e.text.interrupted)this._logger.debug("_handleCheetahResult() - received result with interrupted text, skipping",{session:t,message:e});else{let s,c,l,u;s="aiUsageAlert"===(null===(r=null===(a=e.context)||void 0===a?void 0:a.specialView)||void 0===r?void 0:r.kind)?ce.a.AIUsageNotification.fromInProgressResult(n,e.text.plain):Object.assign(Object.assign({},n),{text:e.text.plain,kind:"complete",timestamp:Date.now(),replacementDelta:ce.a.ResultDelta.createFromResultMessage(e),supportedActions:Object(w.pipe)((o=n.source,Object(w.pipe)(o,b.g.map(e=>e.actionValue.generatesTextType),b.g.filter(b.g.contains(re.c.ActionDefGeneratesTextType.Insertable)),b.g.fold(()=>B.e,()=>B.k(new Set([ce.a.SupportedAction.rephrase,ce.a.SupportedAction.insert]))))),B.p(b.c.eqString)(ce.a.SupportedAction.copy)),references:Ge(e),changesSummary:ne(e)}),this._logger.debug("_handleCheetahResult() - received complete result, saving complete result into history",{session:t,message:e,result:s});let d=P.left(void 0);if(e.context){const a=e.context;l=a.voiceProfileSettings?Fe(a.voiceProfileSettings,a.voice,t,this._upstreamDialect.get()):Re(a.voice,t,this._upstreamDialect.get()),c={kind:"received",id:ee.Id.create(a.id),availableActions:He(ee.Id.create(e.context.id),a.availableActions,this._skills,t.mode,t.selectedText),userPromptAction:Ve(a.promptAction,this._logger),intent:We(a.intent),documentOverview:qe(a.documentOverview),specialView:b.g.fromNullable(a.specialView),selection:this._historyResultIdByGetContextMessageId.has(e.promptId)?b.g.none:Object(w.pipe)(n.boundaryContextId,b.g.chain(e=>Object(w.pipe)(b.g.fromNullable(this._contextById.get(e)),b.g.chain(({selection:e})=>e)))),isBoundary:!1,textRevision:Object(w.pipe)(Object(w.pipe)(n.boundaryContextId,b.g.chain(e=>b.g.fromNullable(this._contextById.get(e))),b.g.chain(({textRevision:e})=>e)))},d=yield Qe(c,e,this._session.get(),e=>this._params.textEditorService.getText(e),null===(i=this._params.selectionContextAvailability)||void 0===i?void 0:i.get()),c=Object(w.pipe)(b.g.fromEither(d),b.g.fold(()=>c,e=>Object.assign(Object.assign({},c),{isBoundary:!0,selection:e,availableActions:He(ee.Id.create(a.id),a.availableActions,this._skills,t.mode,Object(w.pipe)(e,b.g.map(({text:e})=>e)))}))),c.isBoundary&&(s=Object.assign(Object.assign({},s),{boundaryContextId:b.g.some(c.id)})),u=a.stateBlob,this._logger.debug("_handleCheetahResult() - received result with context, will update voice profile and context accordingly",{session:t,message:e,voiceProfile:l,context:c})}else this._logger.warn("_handleCheetahResult() - received result without context, keeping latest voice profile and context",{session:t,message:e}),l=t.voiceProfile,c=t.activeContext,u=this._stateBlobByContextId.get(t.activeContext.id);this._contextById.set(c.id,c),void 0!==u&&this._stateBlobByContextId.set(c.id,u),this._resultById.set(s.id,s),this._contextIdByResultId.set(s.id,c.id),this._session.set(Object.assign(Object.assign({},t),{voiceProfile:l,activeContext:c,inProgressResult:b.g.none,results:[s,...t.results],selectedRange:Object(w.pipe)(d,P.fold(()=>t.selectedRange,e=>Object(w.pipe)(e,b.g.map(({range:e})=>e)))),selectedText:Object(w.pipe)(d,P.fold(()=>t.selectedText,e=>Object(w.pipe)(e,b.g.map(({text:e})=>e))))})),this._trackResultGenerationCompleted(s.id)}}))))}catch(e){return this._logger.warn("_handleCheetahResult() - cannot handle cheetah result",{session:t,incomingResultId:n,error:e})}}))}_handleCheetahSearchReferencesResult(e){const t=this._session.get();if("started"===t.kind){const n=this._searchReferencesUrlsById.get(e.promptId);if(n){const a=e.references[0];a&&this._session.set(Object.assign(Object.assign({},t),{detectedReferences:new Map(t.detectedReferences).set(n,b.g.some(Ce.a.create(a)))}))}else this._logger.warn("_handleCheetahSearchReferencesResult() - trying to handle a search references result that did not have a corresponding cheetah:searchReferences request, skipping",{message:e})}else this._logger.warn("_handleCheetahSearchReferencesResult() - trying to handle a search references result with a session that is not `started`, skipping",{session:t})}_handleCheetahError(e){this._logger.debug("_handleCheetahError",{message:e}),this._clearAllTimeouts();const t=ae.create(e.error);this._logger.warn("_handleCheetahError - received error, adding error to session",{error:t}),this._session.modify(e=>Object.assign(Object.assign({},e),{inProgressResult:b.g.none,error:b.g.some(t)}))}_handleUpstreamDialectChange(e){this._logger.debug("_handleUpstreamDialectChange()",{upstreamDialect:e});const t=this._session.get();if("started"===t.kind){const n=we.Dialect.Id.create(e);this._logger.debug("_handleUpstreamDialectChange() - dialect changed on upstream services, updating selected dialect on voice profile",{session:t,selectedDialect:n}),this._session.set(Object.assign(Object.assign({},t),{voiceProfile:Object.assign(Object.assign({},t.voiceProfile),{selectedDialect:n})}))}}_handleCheetahAck(e){this._logger.debug("_handleCheetahAck()",{message:e}),this._clearCheetahAckTimeout(),this._cheetahAckIds.add(e.id);const t=this._cheetahAckHandlers.length>0?this._cheetahAckHandlers[0]:void 0;t&&(this._logger.debug("_handleCheetahAck() - extracting `cheetah:ack` handler from queue and executing it",{message:e,cheetahAckHandlers:this._cheetahAckHandlers}),this._cheetahAckHandlers=this._cheetahAckHandlers.slice(1),t(e.id))}_handleError(e){if(this._cheetahAckIds.has(e.id))if(this._clearAllTimeouts(),e.error===H.a.ErrorCode.SESSION_NOT_INITIALIZED){const t=Object(w.pipe)(se.toStarted(this._session.get()),b.g.map(e=>this._stateBlobByContextId.get(e.activeContext.id)),b.g.toUndefined);this._session.modify(e=>Object.assign(Object.assign({},e),{inProgressResult:b.g.none})),this._startSession(t),this._params.monitoringService.notify(Object(ie.a)({kind:"warn",source:"core",name:"capiErrorHandled",data:{capiError:e}}))}else{const t=ae.createCriticalError(Object(w.pipe)(se.toStarting(this._session.get()),b.g.isSome));this._session.modify(e=>Object.assign(Object.assign({},e),{inProgressResult:b.g.none,error:b.g.some(t)})),this._params.monitoringService.notify(Object(ie.a)(Object(oe.b)({capiError:e})))}else this._params.monitoringService.notify(Object(ie.a)(Object(oe.b)({capiError:e})))}_submitAction(e,t,n,a,r,i){var o,s;this._logger.debug("_submitAction()",{actionValue:e,contextId:t,triggerContextId:n,boundaryContextId:a,previousText:r,selectedVoice:i});const c=this._session.get();if("started"===c.kind){const l=null!==(o=null!=t?t:null==e?void 0:e.contextId)&&void 0!==o?o:c.activeContext.id,u=null!=n?n:l,d=null!=a?a:c.activeBoundaryContext.id,p=(null!=r?r:void 0!==(null==e?void 0:e.contextId))?void 0:c.results.length>0&&ce.a.isStandardCompletedResult(c.results[0])?ze(c.results[0]):void 0,m=this._stateBlobByContextId.get(l);if(void 0===m)return this._logger.warn("_submitAction() - cannot find state blob for context ID, skipping",{session:c,contextId:l,triggerContextId:n,contextStateBlob:m});const f="aiUsageNotification"===(null===(s=c.results[0])||void 0===s?void 0:s.kind)?c.results.slice(1):c.results;this._session.set(Object.assign(Object.assign({},c),{results:f,historyStatus:se.HistoryStatus.restoreDisabled,activeContext:Object.assign(Object.assign({},c.activeContext),{kind:"pending"}),inProgressResult:b.g.isSome(e.generatesTextType)?b.g.some({kind:"inProgressPending",header:{label:Q.isUserPromptActionValue(e)?e.arg.value:e.label,iconUrl:Q.isUserPromptActionValue(e)||""===e.iconUrl.trim()?b.g.none:b.g.some(e.iconUrl),copiablePrompt:Q.isUserPromptActionValue(e)&&""!==e.arg.value.trim()?b.g.some(e.arg.value):b.g.none},text:"",source:b.g.some({contextId:l,actionValue:e}),boundaryContextId:b.g.some(d)}):b.g.none,error:b.g.none})),this._setupCheetahAckHandler("action",e=>{Object(w.pipe)(se.toStarted(this._session.get()),b.g.chain(e=>e.inProgressResult),b.g.filter(Object(V.p)(ce.a.isInProgressPending,ce.a.isInProgressInterrupted)),b.g.fold(()=>(this._logger.warn("received `cheetah:ack` related to in-progress-pending result but we don't have an in-progress-pending result, skipping",{ackId:e}),L.cb(void 0)),t=>{if(ce.a.isInProgressInterrupted(t))return this._logger.info("received `cheetah:ack` related to in-progress-interrupted result, sending `cheetah:interrupt`",{ackId:e}),this._session.modify(e=>Object.assign(Object.assign({},e),{inProgressResult:b.g.none})),this._params.capiService.cheetahInterrupt({promptId:e});if(ce.a.isInProgressPending(t)){this._setupContextTimeout("action"),this._setupResultTimeout();const n=Object.assign(Object.assign({},t),{kind:"inProgressOngoing",id:ce.a.Id.create(e)});return this._logger.debug("received `cheetah:ack` related to in-progress-pending result, transitioning result to in-progress-ongoing",{ackId:e,inProgressResult:n}),this._resultById.set(n.id,n),this._session.modify(e=>Object.assign(Object.assign({},e),{inProgressResult:b.g.some(n)})),L.cb(void 0)}Object(I.d)(t)}))()});const h=Object.assign({contextId:l,triggerContextId:u,actionId:e.id,args:Q.isUserPromptActionValue(e)?[{name:e.arg.id,value:e.arg.value}]:Object(w.pipe)(D.F(e.args),b.g.fold(()=>[],e=>e.map(e=>({name:e.id,value:e.value})))),stateBlob:m,previousText:p},i?{metadata:{selectedVoice:i}}:null),g=Object(w.pipe)(e,b.g.fromPredicate(Q.isUserPromptActionValue),b.g.fold(Object(w.constant)(h),e=>Object.assign(Object.assign({},h),{useReferences:b.g.toUndefined(e.useReferences),omitReferenceIds:b.g.toUndefined(e.omitReferenceIds)})));this._logger.debug("_submitAction() - sending `cheetah:action` to CAPI",{data:g}),Object(Oe.b)("cheetahAction",this._params.capiService.cheetahAction(g),this._logger,()=>this._params.monitoringService.notify(Object(ie.a)(function(e){return{kind:"info",source:"core",name:"actionSuccessful",data:e}}({actionId:e.id}))),()=>this._params.monitoringService.notify(Object(ie.a)(Object(oe.a)({actionId:e.id}))))}else this._logger.warn("_submitAction() - submitting action with a session that is not `started`, skipping",{session:c,actionValue:e,contextId:t})}_extractLatestResultContext(e){return this._extractContextFromResults(e,0)}_extractLatestResultBoundaryContext(e){return this._extractBoundaryContextFromResults(e,0)}_extractPreviousResultContext(e){return this._extractContextFromResults(e,1)}_extractPreviousResultBoundaryContext(e){return this._extractBoundaryContextFromResults(e,1)}_extractContextFromResults(e,t){const n=Object(w.pipe)(b.g.fromNullable(e.results[t]),b.g.map(e=>e.id),b.g.chain(e=>b.g.fromNullable(this._contextIdByResultId.get(e))),b.g.chain(e=>b.g.fromNullable(this._contextById.get(e))));return b.g.isNone(n)&&this._logger.warn("_extractContextFromResults() - could not find context for result",{session:e,resultIndex:t}),n}_extractBoundaryContextFromResults(e,t){return Object(w.pipe)(b.g.fromNullable(e.results[t]),b.g.filter(ce.a.isComplete),b.g.chain(({boundaryContextId:e})=>e),b.g.chain(e=>b.g.fromNullable(this._contextById.get(e))),b.g.tapLeft(()=>{this._logger.warn("_extractBoundaryContext() - could not find boundary context for result index")}))}_extractInitialContext(){return null!==this._initialReceivedContext?b.g.some(this._initialReceivedContext):(this._logger.warn("_extractInitialContext() - could not find initial context"),b.g.none)}_setupResultTimeout(){this._clearResultTimeout(),this._resultTimeout=o.a.timer(this._resultTimeoutMs).subscribe(()=>{this._session.modify(e=>Object.assign(Object.assign({},e),{inProgressResult:b.g.none,error:b.g.some(ae.createCriticalError(Object(w.pipe)(se.toStarting(this._session.get()),b.g.isSome)))})),this._params.monitoringService.notify(Object(ie.a)(Object(oe.z)()))})}_setupContextTimeout(e){this._logger.debug("_setupContextTimeout()",{sourceCommand:e}),this._clearContextTimeout(),this._contextTimeout=o.a.timer(this._contextTimeoutMs).subscribe(()=>{const t=ae.createCriticalError(Object(w.pipe)(se.toStarting(this._session.get()),b.g.isSome));this._logger.warn("waited too long to receive `cheetah:setContext`, adding error to session",{error:t}),this._session.modify(e=>Object.assign(Object.assign({},e),{inProgressResult:b.g.none,error:b.g.some(t)})),this._params.monitoringService.notify(Object(ie.a)(Object(oe.x)({sourceCommand:e})))})}_setupHistoryTimeout(){this._clearHistoryTimeout(),this._historyTimeout=o.a.timer(this._historyTimeoutMs).subscribe(()=>{const e=ae.createCriticalError(Object(w.pipe)(se.toStarting(this._session.get()),b.g.isSome));this._logger.warn("waited too long to receive `cheetah:setHistory`, adding error to session",{error:e}),this._session.modify(t=>Object.assign(Object.assign({},t),{inProgressResult:b.g.none,error:b.g.some(e)})),this._params.monitoringService.notify(Object(ie.a)(Object(oe.y)()))})}_setupCheetahAckTimeout(e){this._logger.debug("_setupCheetahAckTimeout()",{sourceCommand:e}),this._clearCheetahAckTimeout(),this._cheetahAckTimeout=o.a.timer(this._cheetahAckTimeoutMs).subscribe(()=>{const t=ae.createCriticalError(Object(w.pipe)(se.toStarting(this._session.get()),b.g.isSome));this._logger.warn("waited too long to receive an ACK for a `cheetah:*` command, adding error to session",{error:t}),this._session.modify(e=>Object.assign(Object.assign({},e),{inProgressResult:b.g.none,error:b.g.some(t)})),this._params.monitoringService.notify(Object(ie.a)(Object(oe.w)({sourceCommand:e})))})}_clearResultTimeout(){var e;null===(e=this._resultTimeout)||void 0===e||e.unsubscribe(),this._resultTimeout=void 0}_clearContextTimeout(){var e;null===(e=this._contextTimeout)||void 0===e||e.unsubscribe(),this._contextTimeout=void 0}_clearHistoryTimeout(){var e;null===(e=this._historyTimeout)||void 0===e||e.unsubscribe(),this._historyTimeout=void 0}_clearCheetahAckTimeout(){var e;null===(e=this._cheetahAckTimeout)||void 0===e||e.unsubscribe(),this._cheetahAckTimeout=void 0}_clearResultRelatedTimeouts(){this._clearContextTimeout(),this._clearResultTimeout(),this._clearCheetahAckTimeout()}_clearAllTimeouts(){this._clearResultTimeout(),this._clearContextTimeout(),this._clearHistoryTimeout(),this._clearCheetahAckTimeout()}_setupCheetahAckHandler(e,t){this._setupCheetahAckTimeout(e),this._cheetahAckHandlers.push(t)}_removeCheetahAckHandler(e){this._cheetahAckHandlers=this._cheetahAckHandlers.filter(t=>t!==e),0===this._cheetahAckHandlers.length&&this._clearCheetahAckTimeout()}}var nt=n("cMhG");const at="89.1.0";var rt=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{c(a.next(e))}catch(e){i(e)}}function s(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))};class it{constructor(e){this._params=e,this._commonLabels={version:at,cheetahClientProtocolVersion:nt.b,clientType:this._params.lifecycleService.hostInfo.clientType,clientVersion:this._params.lifecycleService.hostInfo.clientVersion,environment:this._params.lifecycleService.hostInfo.environment,experience:this._params.experience},this._markedMetricNames=new Set}report(e,t,n){return rt(this,void 0,void 0,(function*(){if("test"===this._params.lifecycleService.hostInfo.environment)return this._params.logger.debug("test environment; skipping metric report",e);performance.mark(e.name),this._markedMetricNames.add(e.name);const a=Object.keys(this._commonLabels).map(e=>({key:e,value:this._commonLabels[e]})).concat(Object(w.pipe)(x.fromNullable(e.labels),x.fold(()=>[],e=>Object.keys(e).map(t=>({key:t,value:e[t]}))))),r=this._getDurationMetrics(null!=t?t:[],e.name,a).concat(this._getDurationMetrics(null!=n?n:[],e.name,a));try{const t=yield fetch(it.FEMETRICS_ENDPOINT+"/batch/import",{method:"POST",body:JSON.stringify([{name:e.name+"_total",type:"counter",value:1,labels:a},...r])});if(!t.ok){const e=yield t.text();throw Error(e)}}catch(t){this._params.monitoringService.notify(Object(ie.a)(Object(oe.o)({rawError:Object(ye.b)(t),metric:e})))}}))}_getDurationMetrics(e,t,n){return e.map(e=>{try{const a=performance.measure(`${e}_to_${t}`,e,t).duration;return{name:t+"_duration_ms",type:"histogram",value:a,labels:n.concat([{key:"startMark",value:e}])}}catch(n){return void this._params.logger.warn(`failed to measure '${e}' to '${t}'`,n)}}).filter(Boolean)}dispose(){this._markedMetricNames.forEach(e=>{performance.clearMarks(e),performance.clearMeasures(e)})}}it.FEMETRICS_ENDPOINT="https://assistant.femetrics.grammarly.io";var ot,st=it;class ct{constructor(){this._notifications=new o.a.Subject,this.notifications=this._notifications.asObservable()}notify(e){this._notifications.next(e)}}!function(e){let t,n,a,r,i,o,s,c,l;!function(e){let t;!function(e){e.rephrase="rephrase",e.dismiss="dismiss",e.insert="insert",e.offensive="offensive",e.copy="copy",e.generationCompleted="generationCompleted"}(t=e.UserAction||(e.UserAction={}))}(t=e.Result||(e.Result={})),function(e){let t;!function(e){e.open="open",e.skip="skip",e.openFromBanner="openFromBanner",e.keepVoiceTag="keepTag",e.removeVoiceTag="removeTag",e.toggleToMyVoice="toggleToMyVoice",e.toggleToNeutral="toggleToNeutral"}(t=e.UserAction||(e.UserAction={}))}(n=e.VoiceProfile||(e.VoiceProfile={})),function(e){let t;!function(e){e.openStore="openStore",e.offensive="offensive"}(t=e.UserAction||(e.UserAction={}))}(a=e.Actions||(e.Actions={})),function(e){let t;!function(e){e.search="search"}(t=e.UserAction||(e.UserAction={}))}(r=e.Prompt||(e.Prompt={})),function(e){let t;!function(e){e.hover="hover",e.click="click"}(t=e.UserAction||(e.UserAction={}))}(i=e.UsageInfo||(e.UsageInfo={})),function(e){let t;!function(e){e.view="view"}(t=e.UserAction||(e.UserAction={}))}(o=e.HistoryButton||(e.HistoryButton={})),function(e){let t;!function(e){e.view="view",e.skip="skip",e.next="next"}(t=e.UserAction||(e.UserAction={}))}(s=e.Onboarding||(e.Onboarding={})),function(e){let t;!function(e){e.close="close",e.readyToInteract="readyToInteract"}(t=e.UserAction||(e.UserAction={}))}(c=e.Assistant||(e.Assistant={})),function(e){let t,n;!function(e){e.view="view"}(t=e.UserAction||(e.UserAction={})),function(e){e.dontShowOnDocument="dontShowOnDocument",e.dontShowForever="dontShowForever"}(n=e.AIUsageUserAction||(e.AIUsageUserAction={}))}(l=e.Notification||(e.Notification={})),e.getComponentId=function(e,t,n,r={}){const i=Object(w.pipe)(e.kind,t=>{switch(t){case"result":return"card";case"voiceProfile":return"voice";case"actions":return e.userAction===a.UserAction.openStore?"group":"card";case"assistant":return"widget";case"onboardingPromptsTooltip":return"onboardingPromptTooltip";case"onboardingReviewTooltip":return"onboardingReviewtextTooltip";case"usageInfo":case"historyButton":case"prompt":case"onboardingPopup":case"BTSonboardingPopup":case"onboardingRewriteTooltip":case"onboardingKnowledgeHubTooltip":case"onboardingReferencesTooltip":case"onboardingHistoryTooltip":case"aiUsageNotification":case"contextNotification":case"actionNotification":return t;default:return Object(I.d)(t)}});return Object(w.pipe)(b.g.fromNullable(n),b.g.map(e=>"cheetah:history-card:"+e),b.g.getOrElse(()=>`cheetah:${i}${t?":"+t:""}`),(o=r,e=>Object(w.pipe)(Object.entries(o),b.a.reduce(e,(e,[t,n])=>{const a=e.includes("?")?"&":"?";return e+`${a}${t}=${n}`}))));var o},e.getUserAction=function(e){return Object(w.pipe)(e.kind,t=>{switch(t){case"actions":return e.userAction===a.UserAction.openStore?"All Ideas":e.userAction;case"assistant":return e.userAction===c.UserAction.close?"dismiss":e.userAction;case"result":case"voiceProfile":case"prompt":case"usageInfo":case"historyButton":case"onboardingPopup":case"BTSonboardingPopup":case"onboardingPromptsTooltip":case"onboardingReviewTooltip":case"onboardingRewriteTooltip":case"onboardingKnowledgeHubTooltip":case"onboardingReferencesTooltip":case"onboardingHistoryTooltip":case"aiUsageNotification":case"contextNotification":case"actionNotification":return e.userAction;default:return Object(I.d)(t)}})}}(ot||(ot={}));class lt{constructor(e,t,n=new i.a(lt.name)){this._capiService=e,this._genAIAvailability=t,this._logger=n}trackResultInsert(e,t,n=!1){this._logger.debug("trackResultInsert()",{contextId:e,historyResultId:t}),e||this._logger.warn("trackResultInsert() - tracking result insert without context"),this._trackUxInteraction({kind:"result",userAction:ot.Result.UserAction.insert},e,t,{withVoiceProfile:n})}trackResultCopy(e,t,n=!1){this._logger.debug("trackResultCopy()",{contextId:e,historyResultId:t}),e||this._logger.warn("trackResultCopy() - tracking result copy without context"),this._trackUxInteraction({kind:"result",userAction:ot.Result.UserAction.copy},e,t,{withVoiceProfile:n})}trackResultOffensive(e,t){this._logger.debug("trackResultOffensive()",{contextId:e,historyResultId:t}),e||this._logger.warn("trackResultOffensive() - tracking result offensive without context"),this._trackUxInteraction({kind:"result",userAction:ot.Result.UserAction.offensive},e,t)}trackResultDismiss(e,t){this._logger.debug("trackResultDismiss()",{contextId:e,historyResultId:t}),e||this._logger.warn("trackResultDismiss() - tracking result dismiss without context"),this._trackUxInteraction({kind:"result",userAction:ot.Result.UserAction.dismiss},e,t)}trackResultRephrase(e){this._logger.debug("trackResultRephrase()",{contextId:e}),e||this._logger.warn("trackResultRephrase() - tracking result rephrase without context"),this._trackUxInteraction({kind:"result",userAction:ot.Result.UserAction.rephrase},e)}trackResultGenerationCompleted(e,t){this._logger.debug("trackResultGenerationCompleted()"),this._trackUxInteraction({kind:"result",userAction:ot.Result.UserAction.generationCompleted},e,t)}trackVoiceProfileOpen(e){this._logger.debug("trackVoiceProfileOpen()",{source:e}),this._trackUxInteraction({kind:"voiceProfile",userAction:"toolbar"===e?ot.VoiceProfile.UserAction.open:ot.VoiceProfile.UserAction.openFromBanner})}trackVoiceProfileSkip(){this._logger.debug("trackVoiceProfileSkip()"),this._trackUxInteraction({kind:"voiceProfile",userAction:ot.VoiceProfile.UserAction.skip})}trackActionsOpenStore(){this._logger.debug("trackActionsOpenStore()"),this._trackUxInteraction({kind:"actions",userAction:ot.Actions.UserAction.openStore})}trackActionsOffensive(e){this._logger.debug("trackActionsOffensive()"),e||this._logger.warn("trackActionsOffensive() - tracking actions offensive without context"),this._trackUxInteraction({kind:"actions",userAction:ot.Actions.UserAction.offensive},e)}trackPromptSearch(){this._logger.debug("trackPromptSearch()"),this._trackUxInteraction({kind:"prompt",userAction:ot.Prompt.UserAction.search})}trackUsageInfoClick(){this._logger.debug("trackUsageInfoClick()"),this._trackUxInteraction({kind:"usageInfo",userAction:ot.UsageInfo.UserAction.click})}trackUsageInfoHover(){this._logger.debug("trackUsageInfoHover()"),this._trackUxInteraction({kind:"usageInfo",userAction:ot.UsageInfo.UserAction.hover})}trackHistoryButtonView(){this._logger.debug("trackHistoryButtonView()"),this._trackUxInteraction({kind:"historyButton",userAction:ot.HistoryButton.UserAction.view})}trackAssistantClose(){this._logger.debug("trackAssistantClose()"),this._trackUxInteraction({kind:"assistant",userAction:ot.Assistant.UserAction.close})}trackVoiceProfileRemoveTag(){this._logger.debug("trackVoiceProfileRemoveTag()"),this._trackUxInteraction({kind:"voiceProfile",userAction:ot.VoiceProfile.UserAction.removeVoiceTag})}trackVoiceProfileKeepTag(){this._logger.debug("trackVoiceProfileKeepTag()"),this._trackUxInteraction({kind:"voiceProfile",userAction:ot.VoiceProfile.UserAction.keepVoiceTag})}trackAINotificationDismiss(e){this._logger.debug("trackAINotificationDismiss()"),this._trackUxInteraction({kind:"aiUsageNotification",userAction:"document"===e?ot.Notification.AIUsageUserAction.dontShowOnDocument:ot.Notification.AIUsageUserAction.dontShowForever})}trackReadyToInteract(){this._logger.debug("trackReadyToInteract()"),this._trackUxInteraction({kind:"assistant",userAction:ot.Assistant.UserAction.readyToInteract})}trackMyVoiceCardToggle(e){this._logger.debug("trackMyVoiceCardToggle"),this._trackUxInteraction({kind:"voiceProfile",userAction:e?ot.VoiceProfile.UserAction.toggleToMyVoice:ot.VoiceProfile.UserAction.toggleToNeutral})}trackContexNotification(e){this._logger.debug("trackContexNotification()",e),this._trackUxInteraction({kind:"context"===e?"contextNotification":"actionNotification",userAction:ot.Notification.UserAction.view})}_trackUxInteraction(e,t,n,a={}){const r=ot.getComponentId(e,t,n,a),i=ot.getUserAction(e),o=this._genAIAvailability.get();u.a.isUnavailable(o)?this._logger.debug(`gen-ai ${o.kind}, skipping backend user_action tracking`,{componentId:r,userAction:i,uxInteraction:e,contextId:t}):(this._logger.debug("_trackUxInteraction() - sending `user_action` to CAPI",{componentId:r,userAction:i,uxInteraction:e,contextId:t}),Object(Oe.b)("sendUserAction",this._capiService.user_action({componentId:r,userAction:i}),this._logger))}}var ut=n("M4GM"),dt=n("hDuT");class pt{constructor(e){this._params=e,this._sub=new ut.a,this._domain=c.a.create(x.none),this._state=c.a.create({}),this.stagingFeedbackFormData=this._state.view(),this.domain=this._domain.view(),this._sub.add(this._params.feedbackService.domain.subscribe(e=>this._domain.set(x.fromNullable(e)))),this._sub.add(this._params.assistantUIActions.subscribe(e=>this._handleUIAction(e)))}dispose(){this._sub.unsubscribe()}_handleUIAction(e){switch(e.kind){case dt.a.Kind.openFeedbackFormButtonClick:return this._openFeedbackForm(e.source);case dt.a.Kind.feedbackFormChange:return this._updateFeedbackForm(e.feedbackData);case dt.a.Kind.feedbackFormSubmitButtonClick:return this._submitFeedbackForm(e.feedbackData);default:return}}_openFeedbackForm(e){this._params.routingViewModel.push({kind:"feedbackForm"}),this._state.set({source:e})}_updateFeedbackForm(e){this._state.modify(t=>Object.assign(Object.assign({},t),e))}_submitFeedbackForm(e){this._params.routingViewModel.pop(),this._state.set({}),Object(Oe.b)("submitFeedback",this._params.feedbackService.submitFeedback(e),this._params.logger,void 0,e=>this._params.monitoringService.notify(Object(ie.a)({source:"feedback",kind:"error",name:"submitFeedbackFailed",data:{rawError:Object(ye.b)(e)}})))}}class mt{constructor(e,t,n,a=3e3,r=300,i=1){this._notificationService=e,this._assistantUIActions=t,this._activeView=n,this._notificationsDurationMs=a,this._mouseOutHoldBackDurationMs=r,this._maxNotificationsCountAtOnce=i,this._state=c.a.create([]),this._notificationsSubs=new Map,this._subs=new ut.a,this._hovered=c.a.create(!1),this.state=this._state.view(),this._subs.add(this._showFeedbackSubmittedToast().subscribe()),this._subs.add(this._clearNotificationsOnViewChange().subscribe()),this._subs.add(this._removeVoiceTagNotification().subscribe()),this._subs.add(this._showServiceNotifications().subscribe())}dismiss(e){var t;null===(t=this._notificationsSubs.get(e))||void 0===t||t.unsubscribe(),this._notificationsSubs.delete(e),this._state.modify(N.O(t=>t.id!==e)),this._hovered.set(!1)}hover(e){this._hovered.set(e)}clearAll(){this._notificationsSubs.forEach(e=>e.unsubscribe()),this._notificationsSubs.clear(),this._state.set([])}dispose(){this._subs.unsubscribe(),this.clearAll()}_showNotification(e){e.persistent||this._notificationsSubs.set(e.id,o.a.timer(e.customTimeout||this._notificationsDurationMs).pipe(o.a.switchMap(()=>this._hovered.get()?this._hovered.pipe(o.a.auditTime(10),o.a.filter(e=>!e),o.a.take(1),o.a.switchMap(()=>o.a.timer(this._mouseOutHoldBackDurationMs))):o.a.of(null))).subscribe(()=>this.dismiss(e.id))),this._state.modify(Object(w.flow)(N.D(e),N.Yb(this._maxNotificationsCountAtOnce)))}_showFeedbackSubmittedToast(){return this._assistantUIActions.pipe(o.a.filter(Object(V.p)(dt.a.is(dt.a.Kind.feedbackFormSubmitButtonClick),dt.a.is(dt.a.Kind.reportOffensiveResultButtonClick),dt.a.is(dt.a.Kind.reportOffensiveActionsButtonClick),dt.a.is(dt.a.Kind.toneReportToneLikeButtonClick),dt.a.is(dt.a.Kind.toneReportToneDislikeButtonClick))),o.a.tap(()=>this._showNotification(ve.create("feedbackSubmitted"))))}_removeVoiceTagNotification(){return this._assistantUIActions.pipe(o.a.filter(dt.a.is(dt.a.Kind.voiceTagPopoverRemoveButtonClick)),o.a.tap(()=>this._showNotification(ve.create("voiceTagRemoved"))))}_showServiceNotifications(){return this._notificationService.notifications.pipe(o.a.tap(e=>this._showNotification(e)))}_clearNotificationsOnViewChange(){return this._activeView.view("kind").pipe(o.a.distinctUntilChanged(),o.a.tap(()=>this.clearAll()))}}var ft=n("X5M1");function ht(e){switch(e){case ft.a.historyButtonActive:return x.some("historyButton");case ft.a.initialActionsList:return x.some("homeGenAIActionsList");case ft.a.referencesList:return x.some("genAIResultReferences");case ft.a.promptInputAndMenuContainer:return x.some("promptInput");case ft.a.followUpActionsList:return x.some("genAIResultFollowUpActionsList");case ft.a.appActionsList:return x.some("homeAppActionsList");case ft.a.creditsInfoButton:case ft.a.intentCard:case ft.a.historyButton:case ft.a.promptInput:case ft.a.promptMenuContent:case ft.a.skill:case ft.a.toneReport:return x.none;default:Object(I.d)(e)}}class gt{constructor(e){this._params=e,this._subs=new o.a.Subscription,this._references=c.a.create(new Map),this._onboardingStep=c.a.create(x.none),this.onboardingStep=this._onboardingStep.view(),Object(w.pipe)(this._params.onboardingService,x.map(e=>{this._subs.add(this._params.assistantUIActions.pipe(o.a.filter(dt.a.is(dt.a.Kind.mount))).subscribe(({name:t,element:n})=>Object(w.pipe)(ht(t),x.map(t=>{this._references.modify(e=>new Map(e).set(t,n)),e.notify({kind:"onboardingTargetMount",target:t})})))),this._subs.add(this._params.assistantUIActions.pipe(o.a.filter(dt.a.is(dt.a.Kind.unmount))).subscribe(({name:t})=>Object(w.pipe)(ht(t),x.map(t=>{this._references.modify(e=>{const n=new Map(e);return n.delete(t),n}),e.notify({kind:"onboardingTargetUnmount",target:t})})))),this._subs.add(o.a.combineLatestStatic([this._references,o.a.from(e.onboardingStepRequest).pipe(o.a.map(x.fromNullable))]).pipe(o.a.map(([e,t])=>Object(w.pipe)(t,x.chain(t=>Object(w.pipe)(x.fromNullable(e.get(t.target)),x.map(e=>Object.assign(Object.assign({},t),{reference:e}))))))).subscribe(s.b.toAtom(this._onboardingStep)))}))}notify(e){switch(e.kind){case"onboardingStepUnmount":Object(w.pipe)(this._params.onboardingService,x.map(t=>t.notify({kind:"onboardingStepUnmount",stepId:e.stepId,reason:e.reason})));break;case"onboardingStepMount":Object(w.pipe)(this._params.onboardingService,x.map(t=>t.notify({kind:"onboardingStepMount",stepId:e.stepId})));break;default:Object(I.d)(e)}}dispose(){this._subs.unsubscribe()}}function bt(e){return"home"===e.kind||"thread"===e.kind}const vt={legacyVoiceProfile:!0,voiceProfile:!0,feedbackForm:!0,skill:!0,toneReport:!0,settings:!0,plagiarism:!0,writingExpert:!0};function yt(e){return!0===vt[e.kind]}var Ot,St,Ct,wt;(Ot||(Ot={})).eq=W.j((e,t)=>e.kind===t.kind),function(e){e.Slight="Slight",e.Moderate="Moderate",e.Strong="Strong",e.VeryStrong="Very strong"}(St||(St={})),function(e){e.On="on",e.Off="off"}(Ct||(Ct={})),function(e){e.positive="positive",e.negative="negative"}(wt||(wt={}));z.contramap(e=>e.confidence)(z.getDualOrd(z.ordNumber));const kt=z.contramap(e=>e===Ct.Off||e!==Ct.On&&Object(I.d)(e))(z.ordBoolean);z.contramap(({brandToneInfo:e,confidence:t})=>[Object(w.pipe)(e,x.map(({status:e})=>e)),t])(z.getTupleOrd(z.getDualOrd(x.getOrd(kt)),z.getDualOrd(z.ordNumber)));var Et;!function(e){e.isLoadedNonEmpty=e=>"loadedNonEmpty"===e.kind,e.isLoaded=e=>"loadedNonEmpty"===e.kind||"loadedEmpty"===e.kind}(Et||(Et={}));class jt{constructor(e){this._params=e,this._subscriptions=new o.a.Subscription,this.state=c.a.combine(this._params.toneDetectorService.state,this._params.userService.user.view(e=>Object(w.pipe)(x.fromPredicate(me)(e),x.chain(({institution:e})=>e),x.map(e=>e.name))),(e,t)=>Object(w.pipe)(e,x.fold(()=>({kind:"loading"}),({tones:e,hidden:n,brandTonesEnabled:a,institutionLogo:r})=>Object(w.pipe)(D.F(e),x.filter(e=>!n),x.fold(()=>({kind:"loadedEmpty",brandToneInfo:a?x.some({institutionName:t,institutionLogo:r}):x.none}),e=>({kind:"loadedNonEmpty",tones:e,brandToneInfo:a?x.some({institutionName:t,institutionLogo:r}):x.none})))))),this._subscriptions.add(this._params.assistantUIActions.pipe(o.a.filter(Object(V.p)(dt.a.isToneDetectorAction,dt.a.is(dt.a.Kind.actionBrickClick),dt.a.is(dt.a.Kind.mount))),o.a.withLatestFrom(this.state)).subscribe(([e,t])=>this._handleUIAction(e,t))),this._subscriptions.add(this.state.pipe(o.a.pairwise(),o.a.filter(([e,t])=>"loadedNonEmpty"===e.kind&&"loadedNonEmpty"!==t.kind),o.a.withLatestFrom(this._params.routingViewModel.activeView.view("kind")),o.a.filter(([e,t])=>"toneReport"===t)).subscribe(()=>this._params.routingViewModel.pop()))}dispose(){this._subscriptions.unsubscribe()}_handleUIAction(e,t){var n,a;switch(e.kind){case dt.a.Kind.toneReportToneLikeButtonClick:this._params.toneDetectorService.submitToneFeedback(e.toneName,wt.positive);break;case dt.a.Kind.toneReportToneDislikeButtonClick:this._params.toneDetectorService.submitToneFeedback(e.toneName,wt.negative);break;case dt.a.Kind.actionBrickClick:{const t=e.action;"regularAction"===t.kind&&Q.isToneAction(t.action)&&this._params.routingViewModel.push({kind:"toneReport"});break}case dt.a.Kind.mount:e.name===ft.a.toneReport&&Et.isLoadedNonEmpty(t)&&(null===(a=(n=this._params.toneDetectorService).trackToneReportShow)||void 0===a||a.call(n,{tones:t.tones,brandTonesEnabled:x.isSome(t.brandToneInfo)}));break;default:Object(I.d)(e)}}}class _t{constructor(e,t,n,a,r,i,o){this._session=e,this._activeView=t,this._genAIAvailability=n,this._toneDetectorViewModel=a,this._plagiarismViewModel=r,this._writingExpertViewModel=i,this._pageIsBlank=o,this._contextualActions=c.a.combine(this._session,this._activeView.view(b.g.fromPredicate(bt)),this._genAIAvailability,(e,t,n)=>Object(w.pipe)(M.a(b.g.option)({session:Object(w.pipe)(e,b.g.chain(se.toStarted)),view:Object(w.pipe)(t,b.g.map(e=>e.kind))}),b.g.map(({session:e,view:t})=>"home"===t?e.activeBoundaryContext:"thread"===t?e.activeContext:Object(I.d)(t)),b.g.map(t=>({loading:!Object(w.pipe)(e,b.g.exists(e=>b.g.isSome(e.error)))&&"pending"===t.kind,actions:u.a.isUnavailable(n)||b.g.exists(({kind:e})=>"aiUsageAlert"===e)(t.specialView)?[]:t.availableActions.filter(Object(w.not)(Q.isSkillAction)),context:t})))),this._toneAction=Object(w.pipe)(this._toneDetectorViewModel,b.g.fold(()=>c.a.create(b.g.none),e=>e.state.view(Object(w.flow)(b.g.fromPredicate(Et.isLoadedNonEmpty),b.g.map(({tones:e})=>Object(w.pipe)(e,D.M,Q.createToneAction)))))),this._plagiarismAction=c.a.combine(Object(w.pipe)(this._plagiarismViewModel,b.g.fold(()=>c.a.create(b.g.none),e=>e.plagiarismAction)),this._pageIsBlank,(e,t)=>Object(w.pipe)(M.a(b.g.option)({action:e,pageIsBlank:t}),b.g.filter(({pageIsBlank:e})=>!1===e),b.g.map(({action:e})=>e))),this._writingExpertAction=c.a.combine(Object(w.pipe)(this._writingExpertViewModel,b.g.fold(()=>c.a.create(b.g.none),e=>e.writingExpertAction)),this._pageIsBlank,(e,t)=>Object(w.pipe)(M.a(b.g.option)({action:e,pageIsBlank:t}),b.g.filter(({pageIsBlank:e})=>!1===e),b.g.map(({action:e})=>e))),this._skillActions=this._session.view(e=>Object(w.pipe)(e,b.g.chain(se.toStarted),b.g.map(e=>e.activeContext),b.g.map(e=>e.availableActions),b.g.alt(()=>Object(w.pipe)(e,b.g.chain(se.toContextless),b.g.map(({nonContextualActions:e})=>e))),b.g.fold(()=>[],N.O(Q.isSkillAction)))),this.state=c.a.combine(this._contextualActions,this._toneAction,this._plagiarismAction,this._skillActions,this._writingExpertAction,(e,t,n,a,r)=>({contextualActions:e,toneAction:t,plagiarismAction:n,skillActions:a,writingExpertAction:r}))}}function xt(e){return e.split(/\s+/).map(e=>e.trim()).filter(e=>""!==e)}var At=n("4GyQ"),It=n("OwvP"),Tt=n("ty2y"),Mt=n("ySi0"),Pt=n("2zNz");const Nt=e=>E.createElement(Mt.e,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),E.createElement("path",{d:"M14 11.5H16.7929L8.92289 19.37L10.4851 13.1213L10.6404 12.5H10H7.20711L15.0771 4.62999L13.5149 10.8787L13.3596 11.5H14Z",stroke:Pt.D.SemanticColor.Color.Text.Base.Subdued,strokeMiterlimit:"4.25735"})),Dt=e=>E.createElement(Mt.e,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),E.createElement("rect",{x:"4.5",y:"4.5",width:"6",height:"6",rx:"1.5",stroke:Pt.D.SemanticColor.Color.Text.Base.Subdued}),E.createElement("rect",{x:"4.5",y:"13.5",width:"6",height:"6",rx:"1.5",stroke:Pt.D.SemanticColor.Color.Text.Base.Subdued}),E.createElement("rect",{x:"13.5",y:"4.5",width:"6",height:"6",rx:"1.5",stroke:Pt.D.SemanticColor.Color.Text.Base.Subdued}),E.createElement("path",{d:"M14.5513 15.8162L12.9269 16.3577C12.7902 16.4033 12.7902 16.5967 12.9269 16.6423L14.5513 17.1838C15.1485 17.3828 15.6172 17.8515 15.8162 18.4487L16.3577 20.0731C16.4033 20.2098 16.5967 20.2098 16.6423 20.0731L17.1838 18.4487C17.3828 17.8515 17.8515 17.3828 18.4487 17.1838L20.0731 16.6423C20.2098 16.5967 20.2098 16.4033 20.0731 16.3577L18.4487 15.8162C17.8515 15.6172 17.3828 15.1485 17.1838 14.5513L16.6423 12.9269C16.5967 12.7902 16.4033 12.7902 16.3577 12.9269L15.8162 14.5513C15.6172 15.1485 15.1485 15.6172 14.5513 15.8162Z",fill:Pt.D.SemanticColor.Color.Text.Base.Subdued,stroke:Pt.D.SemanticColor.Color.Text.Base.Subdued})),Bt=e=>E.createElement(Mt.e,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16"},e),E.createElement("path",{d:"M10.3009 10.6376C11.3878 10.4069 11.9799 9.817 12.2614 8.91408C11.0802 8.91408 10.1227 7.99306 10.1227 6.85694C10.1227 5.72082 11.0802 4.7998 12.2614 4.7998C13.4425 4.7998 14.4 5.66246 14.4 6.85694C14.4 8.05142 14.1624 11.0708 10.3009 11.9998V10.6376Z",fill:"#027E6F",stroke:"none"}),E.createElement("path",{d:"M4.97826 10.6376C6.06509 10.4069 6.65721 9.817 6.93871 8.91408C5.75756 8.91408 4.80005 7.99306 4.80005 6.85694C4.80005 5.72082 5.75756 4.7998 6.93871 4.7998C8.11986 4.7998 9.07737 5.66246 9.07737 6.85694C9.07737 8.05142 8.83974 11.0708 4.97826 11.9998V10.6376Z",fill:"#027E6F",stroke:"none"}));var Lt=n("nWMp"),Ft=n("CzGE"),Rt=n("wiMD");const Ht="brick",Vt=Object(Ft.a)({padding:`0 ${Lt.a.rem(Pt.D.Space.Space2)} 0 ${Lt.a.rem(Pt.D.Space.Space1)}`},Ht),Ut={display:"flex",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space2)},Wt=Object(Ft.a)({minHeight:Lt.a.rem(1.75),fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125),color:Pt.D.Color.BlueGray80},Ht),zt=Object(Ft.a)({minHeight:Lt.a.rem(2),fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.375),color:Pt.D.SemanticColor.Color.Text.Base.Default},Ht),Gt=Object(Ft.a)({boxShadow:`inset 0 0 0 ${Lt.a.rem(.125)} ${Rt.a.BrandGreen60}`},Ht),qt=Object(Ft.a)({boxShadow:"none",color:Pt.D.Color.NeutralGray70,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{color:Rt.a.BlueGray80,boxShadow:"inset 0 0 0 1px "+Rt.a.BlueGray40,backgroundColor:Rt.a.BlueGray5}}},Ht),Kt={textAlign:"left",whiteSpace:"initial",lineHeight:Lt.a.rem(1.125),margin:`${Lt.a.rem(.25)} 0 ${Lt.a.rem(.25)} 0`},$t=Object.assign({},Object(Ft.c)(1.5)),Zt=Lt.a.joinClasses([Ht,Lt.a.style(Vt)]),Yt=Lt.a.style(Ut),Xt=Lt.a.style(Wt),Qt=Lt.a.style(zt),Jt=Lt.a.style(Gt),en=Lt.a.style(qt),tn=Lt.a.style(Kt),nn=Lt.a.style($t),an=Lt.a.style($t),rn=Lt.a.style($t),on=Object(At.d)(Tt.a),sn=_.b.Node.make(({view:e,notify:t})=>E.createElement(on,Object.assign({flatUI:!1,variant:"secondary",onClick:e("action").pipe(o.a.map(e=>t({kind:dt.a.Kind.actionBrickClick,action:e}))),name:"actionBrick"},Object(At.c)("actionBrick",Zt,e("action").pipe(o.a.map(({kind:e})=>"go"===e?Jt:null)),e("mode").pipe(o.a.map(e=>"compact"===e?Xt:"standard"===e?Qt:Object(I.d)(e))),e("customViewOpts").pipe(o.a.map(e=>(null==e?void 0:e.isPinned)?en:null)))),E.createElement(It.a.div,{className:Yt},e("icon").pipe(o.a.map(P.fold(e=>{switch(e){case"allResults":return E.createElement(Dt,{className:nn});case"go":return E.createElement(Nt,{className:an});case"plagiarism":return E.createElement(Bt,{className:rn});default:return Object(I.d)(e)}},e=>E.createElement("img",{src:e,style:{width:20,height:20}})))),E.createElement(It.a.span,Object.assign({className:tn},$(e("label")))))));var cn=n("mMX2");const ln=({icon:e,label:t,style:n,onClick:a})=>E.createElement(Tt.a,{variant:"tertiary",onClick:a,name:"actionBrick",size:"large",style:[bn,n],className:"action-row-btn"},Object(w.pipe)(e,P.fold(e=>"more"===e?E.createElement(Dt,null):"plagiarism"===e?E.createElement(Bt,null):Object(I.d)(e),e=>E.createElement("img",{src:e,style:{width:Lt.a.rem(un),height:Lt.a.rem(un)}}))),E.createElement(It.a.div,Object.assign({},$(t),{className:vn}))),un=1.25,dn=Pt.D.Space.Space4,pn=Pt.D.Space.Space4,mn=Pt.D.Space.Space3,fn=dn+un+mn,hn=pn,gn=Object(cn.b)("inset 0 0 0 2px "+Rt.a.BorderBrandDefault),bn={default:{fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.3125),minHeight:Lt.a.rem(2.5),gap:Lt.a.rem(mn),padding:`${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(pn)} ${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(dn)}`,justifyContent:"flex-start",alignItems:"flex-start",color:Pt.D.SemanticColor.Color.Text.Base.Default,boxShadow:"none",borderRadius:0,$nest:gn},hovered:{color:Pt.D.SemanticColor.Color.Text.Base.Default,boxShadow:"none",$nest:gn},active:{color:Pt.D.SemanticColor.Color.Text.Base.Default,boxShadow:"none",$nest:gn},icon:Object(Ft.c)(un)},vn=Lt.a.style({whiteSpace:"initial",textAlign:"left",lineHeight:Lt.a.rem(1.3125)});var yn,On;!function(e){e.isActionStore=function(e){return"actionStore"===e.kind},e.isSearchResults=function(e){return"searchResults"===e.kind}}(yn||(yn={}));class Sn{constructor(e,t,n,a,r,i,l,u,d){this._userActionTrackingService=l,this._focusPromptField=d,this._subs=new ut.a,this._state=c.a.create(b.g.none),this._userTyped=new A.a,this._promptOrMenuFocused=new A.a,this._promptMenuActions=new A.a,this._promptMenuContainer=c.a.create(b.g.none),this._promptMenuContentContainer=b.g.none,this._cachedActionBricks=b.g.none,this.state=this._state.view(),this._subs.add(e.subscribe(e=>this._handleUIAction(e))),this._subs.add(this._userTyped.pipe(o.a.debounce(e=>e.trim().length>0?o.a.timer(150):o.a.of(null)),o.a.map(e=>e.trim()),o.a.tap(e=>{""===e&&this._promptMenuActions.next({kind:"close"})}),o.a.filter(e=>""!==e),o.a.filter(()=>!u()),o.a.withLatestFrom(this._state.view(b.g.fold(()=>w.constTrue,e=>e.filterPredicate))),o.a.tap(([e,t])=>this._promptMenuActions.next({kind:"showSearchResults",search:e,filterPredicate:t}))).subscribe()),this._subs.add(function(e,t,n,a,r,i,s){const l=a;return o.a.combineLatestStatic([e.pipe(o.a.switchMap(e=>"showSearchResults"===e.kind||"showActionStore"===e.kind?c.a.combine(t,l,r,n,i,(t,n,a,r,i)=>{const o=Object(w.pipe)(t,b.g.fold(()=>[],e=>e.actions)),s=Object(w.pipe)(Object(w.pipe)([n,a,i],N.B).concat(r).concat(o.filter(Object(w.not)(Q.isSkillAction))),N.O(e.filterPredicate),D.F);return Object(w.pipe)("showSearchResults"===e.kind?Object(w.pipe)(s,b.g.filter(()=>""!==e.search.trim()&&!Object(w.pipe)(t,b.g.exists(e=>e.loading))),b.g.chain(t=>function(e,t){return Object(w.pipe)(e,N.P(e=>Object(w.pipe)(function(e,t,n){const a=xt(e),r=[...xt(t),...Object(w.pipe)(n,N.w(e=>xt(e)))],i=a.map(()=>null);let o=0;for(const e of r){if(o>=a.length)break;e.toLowerCase().includes(a[o].toLowerCase())&&(i[o]=0,++o)}return i.includes(null)?x.none:x.some(i.map(e=>null!=e?e:0).reduce((e,t)=>e+t,0))}(t,e.searchLabel,e.searchTags),b.g.map(t=>({data:e,matchScore:t})))),N.Tb(z.contramap(({matchScore:e})=>e)(z.ordNumber)),N.ub(({data:e})=>e),D.F)}(t,e.search))):"showActionStore"===e.kind?Object(w.pipe)(s,b.g.filter(()=>!Object(w.pipe)(t,b.g.exists(e=>e.loading)))):Object(I.d)(e),b.g.map(t=>({kind:"showSearchResults"===e.kind?"searchResults":"showActionStore"===e.kind?"actionStore":Object(I.d)(e),actions:t,filterPredicate:e.filterPredicate})))}):"close"===e.kind?o.a.of(b.g.none):Object(I.d)(e)),o.a.startWith(b.g.none)),s]).pipe(o.a.map(([e,t])=>Object(w.pipe)(e,b.g.map(e=>Object.assign(Object.assign({},e),{promptMenuContainer:t})))))}(this._promptMenuActions,t,n,a,r,i,this._promptMenuContainer).subscribe(s.b.toAtom(this._state))),this._subs.add(this._promptOrMenuFocused.pipe(o.a.debounceTime(100),o.a.filter(e=>!e)).subscribe(()=>this._promptMenuActions.next({kind:"close"}))),this._subs.add(this.state.pipe(o.a.pairwise(),o.a.filter(([e,t])=>b.g.isNone(e)&&b.g.isSome(t)),o.a.map(([e,t])=>t),o.b.compact).subscribe(e=>{"actionStore"===e.kind?this._userActionTrackingService.trackActionsOpenStore():"searchResults"===e.kind&&this._userActionTrackingService.trackPromptSearch()})),this._subs.add(this._promptMenuActions.pipe(o.a.filter(e=>"close"===e.kind)).subscribe(()=>this._invalidateActionBricks()))}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case dt.a.Kind.mount:return void(e.name===ft.a.promptMenuContent?this._promptMenuContentContainer=b.g.some(e.element):e.name===ft.a.promptInputAndMenuContainer&&this._promptMenuContainer.set(b.g.some(e.element)));case dt.a.Kind.unmount:return void(e.name===ft.a.promptInputAndMenuContainer&&this._promptMenuContainer.set(b.g.none));case dt.a.Kind.promptMenuKeyPressArrowDown:return this._onPromptMenuKeyPressArrowDown();case dt.a.Kind.promptMenuKeyPressArrowUp:return this._onPromptMenuKeyPressArrowUp();case dt.a.Kind.promptFieldKeyPressArrowUp:return this._focusLastBrick();case dt.a.Kind.promptFieldKeyPressArrowDown:return this._focusFirstBrick();case dt.a.Kind.promptFieldTextChange:return this._invalidateActionBricks(),this._userTyped.next(e.text);case dt.a.Kind.promptFieldKeyPressEscape:return e.menuOpened?this._promptMenuActions.next({kind:"close"}):void 0;case dt.a.Kind.collapsePromptMenuButtonClick:case dt.a.Kind.promptSubmitButtonClick:return this._promptMenuActions.next({kind:"close"});case dt.a.Kind.promptFieldKeyPressEnter:return void(e.text.trim().length>0&&this._promptMenuActions.next({kind:"close"}));case dt.a.Kind.actionBrickClick:return"allResults"===e.action.kind?this._promptMenuActions.next({kind:"showActionStore",filterPredicate:e.action.filterPredicate}):this._promptMenuActions.next({kind:"close"});case dt.a.Kind.promptFieldAndMenuFocusChange:return this._promptOrMenuFocused.next(e.focused);default:return}}_invalidateActionBricks(){this._cachedActionBricks=b.g.none}_getActionBricks(){return Object(w.pipe)(this._cachedActionBricks,b.g.getOrElse(()=>{const e=Object(w.pipe)(this._promptMenuContentContainer,b.g.fold(()=>[],e=>N.db(Array.from(e.querySelectorAll(".actionBrick, .action-row-btn")).filter(q))));return this._cachedActionBricks=b.g.some(e),e}))}_onPromptMenuKeyPressArrowDown(){var e;const t=this._getActionBricks(),n=G((null===(e=b.g.toNullable(this._promptMenuContentContainer))||void 0===e?void 0:e.ownerDocument)||document);return Object(w.pipe)(b.g.fromNullable(t.findIndex(e=>e===n)),b.g.tap(e=>{var n;e+1>=t.length?this._focusPromptField():null===(n=t[e+1])||void 0===n||n.focus()}))}_onPromptMenuKeyPressArrowUp(){var e;const t=this._getActionBricks(),n=G((null===(e=b.g.toNullable(this._promptMenuContentContainer))||void 0===e?void 0:e.ownerDocument)||document);return Object(w.pipe)(b.g.fromNullable(t.findIndex(e=>e===n)),b.g.tap(e=>{var n;e-1<0?this._focusPromptField():null===(n=t[e-1])||void 0===n||n.focus()}))}_focusFirstBrick(){var e;null===(e=this._getActionBricks()[0])||void 0===e||e.focus()}_focusLastBrick(){var e;const t=this._getActionBricks();null===(e=t[t.length-1])||void 0===e||e.focus()}}!function(e){e.lensAllSuggestionFeedShortForm="lens-all-suggestions-feed-short-form",e.lensAllSuggestionFeed="lens-all-suggestions-feed",e.lensCorrectnessFeed="lens-correctness-feed",e.lensClarityFeed="lens-clarity-feed",e.lensDeliveryFeed="lens-delivery-feed",e.lensEngagementFeed="lens-engagement-feed",e.lensStyleGuideFeed="lens-style-guide-feed",e.plagiarismFeed="plagiarism-feed",e.writingExpertFeed="writing-expert-feed"}(On||(On={}));const Cn={[On.lensAllSuggestionFeed]:"All suggestions",[On.lensAllSuggestionFeedShortForm]:"All suggestions",[On.lensCorrectnessFeed]:"Correctness",[On.lensClarityFeed]:"Clarity",[On.lensDeliveryFeed]:"Delivery",[On.lensEngagementFeed]:"Engagement",[On.lensStyleGuideFeed]:"Style guide",[On.plagiarismFeed]:"Plagiarism",[On.writingExpertFeed]:"Writing Expert"};function wn(e){return Object.values(On).includes(e)?x.some(e):x.none}const kn={shortForm:On.lensAllSuggestionFeedShortForm,longForm:On.lensAllSuggestionFeed};var En=n("1MDf"),jn=n("K40b");const _n=()=>En.d();function xn(e){return Object(w.pipe)(_n().unwrap(e),({items:e})=>e.size)}function An(e){return Object(w.pipe)(_n().unwrap(e),({items:t})=>Object(w.pipe)(function(e){return Object(w.pipe)(_n().unwrap(e),({order:e})=>Bn(e))}(e),N.ub(e=>x.fromNullable(t.get(e))),N.B))}function In(e){return Object(w.pipe)(_n().unwrap(e),({items:e,order:t})=>Object(w.pipe)(t.focus,x.chain(t=>x.fromNullable(e.get(t)))))}function Tn(e){return Object(w.pipe)(_n().unwrap(e),({order:e})=>Object(w.pipe)(e.focus,x.map(()=>e.lefts.length)))}function Mn(e){return Object(w.flow)(_n().unwrap,({items:t,order:n})=>({items:t,order:Object(w.pipe)(n.focus,x.fold(()=>Nn(n.lefts.concat(n.rights),x.some(e)),t=>function(e,t){const n=e(t.lefts.length);return Nn(Bn(t),x.some(n))}(()=>e,Dn(n.lefts,x.some(t),n.rights))),x.getOrElse(()=>n))}),_n().wrap)}function Pn(e,t){return z.fromCompare((n,a)=>{const r=e.get(n),i=e.get(a);return void 0!==r&&void 0!==i?t.compare(r,i):0})}function Nn(e,t){return N.nb(e)||Object(w.pipe)(t,x.exists(t=>N.pb(t,e)))?x.none:x.some(Object(w.pipe)(t,x.fold(()=>({lefts:e,focus:x.none,rights:[]}),t=>({lefts:Object(w.pipe)(e.slice(),N.Yb(t)),focus:x.fromNullable(e[t]),rights:Object(w.pipe)(e.slice(),N.G(t+1))}))))}function Dn(e,t,n){return{lefts:e,focus:t,rights:n}}function Bn(e){return e.lefts.concat(N.B([e.focus])).concat(e.rights)}function Ln(e){const t=e.lefts.length,n=e.rights.length;return Nn(e.lefts.concat(e.rights),x.some(n>0?t:t-1))}function Fn(e){return Nn(e.lefts.concat(e.rights),x.none)}var Rn=n("tCI5");function Hn(e){var t;return"strongAlertRef"===e.type&&"known"===(null===(t=e.name)||void 0===t?void 0:t.kind)&&e.name.value===Rn.a.ComponentKnownName.StrongAlertRefUpgradeHook||"longFormCard"===e.type&&e.behaviors.some(e=>{var t;return"behavior:strongAlertRef"===e.type&&"known"===(null===(t=e.name)||void 0===t?void 0:t.kind)&&e.name.value===Rn.a.ComponentKnownName.StrongAlertRefUpgradeHook})}const Vn=b.c.getStructEq({visibleAlerts:B.l(b.c.eqString),emphasizedAlerts:B.l(b.c.eqString)});class Un{constructor(e){this._params=e,this._subs=new o.a.Subscription,this._feedMounted=c.a.create(!1),this._subs.add(Object(w.pipe)(function(e,t){const n=e.pipe(o.a.share()),a=n.pipe(o.a.map(Object(w.flow)(x.chain(e=>In(e.collection)),x.map(({id:e})=>e))),o.a.skipBy(x.getEq(b.c.eqString))).pipe(o.a.switchMap(()=>t.pipe(o.a.startWith(null))));return o.a.combineLatestStatic([n,a]).pipe(o.a.map(([e,t])=>Object(w.pipe)(e,x.map(({collection:e})=>({visibleAlerts:new Set(Array.from(An(e)).filter(t=>!Hn(t.content)||Object(w.pipe)(In(e),x.exists(e=>e.id===t.id))).flatMap(e=>e.alertIds)),emphasizedAlerts:new Set(null!=t?t:Object(w.pipe)(In(e),x.fold(()=>[],({alertIds:e})=>e)))})))),o.a.skipBy(x.getEq(Vn)))}(o.a.combineLatestStatic([this._params.feedState,this._feedMounted]).pipe(o.a.map(([e,t])=>t?e:x.none)),this._params.resetEmphasizedAlerts),Wn,o.a.tap(e=>{var t;return null===(t=this._params.logger)||void 0===t?void 0:t.debug("AlertVisibilityChanges",e)}),o.a.mergeMap(({changes:e,isReset:t})=>t?o.a.from(this._params.alertService.setAlertsVisibility(e)).pipe(o.a.take(1),o.a.ignoreElements(),o.a.catchError(t=>o.a.of({kind:"error",source:"revision",name:"setAlertsVisibilityFailed",data:{alertsVisibilityInfo:e,rawError:Object(ye.b)(t)}}))):o.a.from(this._params.alertService.updateAlertsVisibility(e)).pipe(o.a.take(1),o.a.ignoreElements(),o.a.catchError(t=>o.a.of({kind:"error",source:"revision",name:"updateAlertsVisibilityFailed",data:{alertsVisibilityInfo:e,rawError:Object(ye.b)(t)}}))))).subscribe(e=>this._params.monitoringService.notify(Object(ie.a)(e))))}notifyFeedMount(){this._feedMounted.set(!0)}notifyFeedUnmount(){this._feedMounted.set(!1)}dispose(){this._subs.unsubscribe()}}function Wn(e){return e.pipe(o.a.skipBy(x.getEq(Vn)),o.a.share(),e=>{const t=e.pipe(o.a.filter(x.isNone),o.a.map(()=>({isReset:!0,changes:[]}))),n=e.pipe(o.a.startWith(x.none),o.a.pairwise(),o.a.filter(([e,t])=>x.isNone(e)&&x.isSome(t)),o.a.map(([e,t])=>t),o.b.compact,o.a.map(e=>({isReset:!0,changes:Object(w.pipe)(Array.from(e.visibleAlerts).filter(t=>!e.emphasizedAlerts.has(t)).map(e=>({alertId:e,visibility:"visible"})).concat(Array.from(e.emphasizedAlerts).map(e=>({alertId:e,visibility:"emphasized"}))))}))),a=e.pipe(o.a.startWith(x.none),o.a.pairwise(),o.a.filter(([e,t])=>x.isNone(e)&&x.isSome(t)),o.a.switchMap(([t,n])=>e.pipe(o.a.startWith(n),o.b.compact,o.a.pairwise(),o.a.map(([e,t])=>{const n=B.c(b.c.eqString)(B.o(b.c.eqString).concat(t.visibleAlerts,t.emphasizedAlerts))(B.o(b.c.eqString).concat(e.visibleAlerts,e.emphasizedAlerts)),a=B.c(b.c.eqString)(e.emphasizedAlerts)(t.emphasizedAlerts),r=B.c(b.c.eqString)(t.emphasizedAlerts)(e.emphasizedAlerts),i=B.o(b.c.eqString).concat(B.c(b.c.eqString)(e.visibleAlerts)(t.visibleAlerts),Object(w.pipe)(r,B.g(e=>t.visibleAlerts.has(e))));return{isReset:!1,changes:[...Array.from(n).map(e=>({alertId:e,visibility:"hidden"})),...Array.from(i).map(e=>({alertId:e,visibility:"visible"})),...Array.from(a).map(e=>({alertId:e,visibility:"emphasized"}))]}}))));return o.a.mergeStatic(t,n,a)})}var zn=n("f38j");class Gn{constructor(e){var t,n,a;this._params=e,this._subs=new o.a.Subscription,this._autofocusNextLongFormCardOnApplyOrDismiss=c.a.create(!0),this._autofocusNextLongFormCardOnAlertRefEmpty=c.a.create(!1),this._focusFirstCard=new o.a.Subject,this._logger=null!==(t=this._params.logger)&&void 0!==t?t:new i.a(Gn.name),this.autofocusNextLongFormCardOnApplyOrDismiss=this._autofocusNextLongFormCardOnApplyOrDismiss.view(),this.autofocusNextLongFormCardOnAlertRefEmpty=this._autofocusNextLongFormCardOnAlertRefEmpty.view(),this.focusFirstCard=this._focusFirstCard.asObservable(),this._subs.add(null===(n=this._params.autofocusNextLongFormCardOnAlertRefEmpty)||void 0===n?void 0:n.subscribe(s.b.toAtom(this._autofocusNextLongFormCardOnAlertRefEmpty))),this._subs.add(null===(a=this._params.autofocusNextLongFormCardOnApplyOrDismiss)||void 0===a?void 0:a.subscribe(s.b.toAtom(this._autofocusNextLongFormCardOnApplyOrDismiss)));const r=this._params.activeFeed.pipe(o.b.compact,o.a.map(e=>e.id===On.lensAllSuggestionFeedShortForm&&0===xn(e.collection)),o.a.distinctUntilChanged(),o.a.filter(w.identity)),l=this._params.activeFeed.pipe(o.a.skip(1),o.a.skipBy(x.getEq(W.c(e=>e.id)(zn.a.Item.Id.eq))));this._subs.add(o.a.mergeStatic(l,r).pipe(o.a.switchMap(()=>this._params.relevantInboundCAPIMessages.pipe(o.a.filter(te.a.Finished.is),o.a.switchMap(()=>this._params.sduiEventsSettled.pipe(o.a.filter(w.identity),o.a.take(1))),o.a.observeOn(o.a.asapScheduler),o.a.withLatestFrom(this._params.activeFeed),o.a.filter(([e,t])=>x.isSome(t)&&xn(t.value.collection)>0&&x.isNone(In(t.value.collection))),o.a.take(1)))).subscribe(()=>{this._logger.debug("first card autofocus"),this._focusFirstCard.next(null)}))}dispose(){this._subs.unsubscribe()}}class qn{constructor(e){var t;this._params=e,this._subs=new o.a.Subscription,this._disposed=new o.a.Subject,this._logger=null!==(t=this._params.logger)&&void 0!==t?t:new i.a(qn.name),this._sduiFeedManagerLifecycleOnFeedEmpty(),this._sduiFeedManagerLifecycleOnFeedRemoved(),this._sduiFeedManagerLifecycleOnAlertsRefEmpty()}_sduiFeedManagerLifecycleOnAlertsRefEmpty(){this._subs.add(this._params.sduiManagerProxy.onAlertsRefEmpty.subscribe(e=>Object(w.pipe)(this._params.feedManager.feed.get(),b.g.chain(e=>In(e.collection)),b.g.filter(t=>t.id===e.sduiRootId),b.g.tap(()=>{const t=this._params.autofocusManager.autofocusNextLongFormCardOnAlertRefEmpty.get(),n=e.emptyStrongAlertRef.onEmpty.filter(e=>"nextCard"!==e.type&&"prevCard"!==e.type||t);this._logger.debug("onAlertsRefEmtpy",{actions:e.emptyStrongAlertRef.onEmpty,patchedActions:n,itemId:e.sduiId,autofocusNextCardOnAlertRefEmptyEnabled:t}),n.length>0&&this._processActions(n,e.sduiId,e.emptyStrongAlertRef.alertIds,e.sduiId)}))))}_sduiFeedManagerLifecycleOnFeedEmpty(){this._subs.add(this._params.feedManager.onFeedEmpty.subscribe(e=>{var t;"assistantFeed"===e.content.type?this._processActions(null!==(t=e.content.onEmpty)&&void 0!==t?t:[],e.id,[],e.id):this._params.monitoringService.notify(Object(ie.a)({kind:"warn",source:"revision",name:"sduiFeedOnEmptyDSLActionsSkipped",data:null}))}))}_sduiFeedManagerLifecycleOnFeedRemoved(){this._subs.add(this._params.feedManager.onFeedRemove.subscribe(e=>{"assistantFeed"===e.content.type?this._processActions(e.content.onRemove,e.id,e.alertIds,e.content.id):this._params.monitoringService.notify(Object(ie.a)({kind:"warn",source:"revision",name:"sduiFeedOnRemoveDSLActionsSkipped",data:null}))}))}_switchViewWithinFocusedItem(e){Object(w.pipe)(this._params.feedManager.feed.get(),b.g.chain(e=>In(e.collection)),b.g.filter(t=>e.sduiRootId!==t.id),b.g.tap(t=>this._params.sduiManagerProxy.pushSwitchView(Object.assign(Object.assign({},e),{sduiRootId:t.id}))))}_switchViewWithinCurrentFeed(e){Object(w.pipe)(this._params.feedManager.feed.get(),b.g.filter(({id:t})=>e.sduiRootId!==t),b.g.tap(({id:t})=>this._params.sduiManagerProxy.pushSwitchView(Object.assign(Object.assign({},e),{sduiRootId:t}))))}_onAssistantClose(){Object(w.pipe)(this._params.feedManager.feed.get(),b.g.chain(e=>b.g.fromNullable(this._params.feedManager.feeds.get().get(e.id))),b.g.tap(e=>{var t,n,a;(null!==(n=null===(t=e.content.onAssistantClose)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0&&this._processActions(null!==(a=e.content.onAssistantClose)&&void 0!==a?a:[],e.id,e.alertIds,e.content.id)}))}_processActions(e,t,n,a){const r=e.some(e=>"notify"===e.type&&e.userAction===Rn.a.ActionNotifyUserAction.Click),i=e.some(e=>"nextCard"===e.type||"prevCard"===e.type)&&r,o=e.some(e=>"removeRoot"===e.type)&&r,s=this._params.autofocusManager.autofocusNextLongFormCardOnApplyOrDismiss.get(),c=o&&!i&&s,l=o?e.filter(e=>"nextCard"!==e.type&&"prevCard"!==e.type||s):e,u=c?[{type:"nextCard"}].concat(e):l;this._logger.debug("_processActions()",{actions:e,patchedActions:u,itemId:t,alertIdsInScope:n,sourceId:a,autofocusNextCardOnApplyOrDismissEnabled:s}),u.forEach(r=>{var o;switch(r.type){case"notify":{const e=null!==(o=r.sourceId)&&void 0!==o?o:a;this._subscribeToCommand(this._params.capiService.user_action({userAction:r.userAction,componentId:e}),t=>({kind:"error",source:"revision",name:"sduiUserActionFailed",data:{componentId:e,userAction:r.userAction,rawError:Object(ye.b)(t)}}));break}case"applyAlerts":{const e=n.map(e=>({alertId:e,alternativeIndex:r.alternativeIndex}));this._subscribeToCommand(()=>this._params.alertService.applyAlerts(e),t=>({kind:"error",source:"revision",name:"applyAlertsFailed",data:{applyAlertsInfo:e,rawError:Object(ye.b)(t)}}));break}case"removeAlerts":{const t=e.some(e=>"applyAlerts"===e.type),a=n.map(e=>({alertId:e,removalReason:t?"alertApplied":"other"}));this._subscribeToCommand(()=>this._params.alertService.removeAlerts(a),e=>({kind:"error",source:"revision",name:"removeAlertsFailed",data:{removeAlertsInfo:a,rawError:Object(ye.b)(e)}}),()=>this._params.sduiManagerProxy.pushRemovedAlerts([n.map(zn.a.AlertId.from),"removeAlerts"]));break}case"removeRoot":this._params.sduiManagerProxy.pushRemovedRoot([t,"removeRoot"]);break;case"pushAssistantFeed":this._params.feedManager.pushFeed(r.feedId,r.cardId);break;case"popAssistantFeed":this._params.feedManager.popFeed(r.fallbackFeed);break;case"positionedClick":case"focusAssistantCard":this._params.feedManager.focusCard("focusAssistantCard"===r.type?zn.a.Item.Id.from(r.cardId):t);break;case"prevCard":this._params.feedManager.focusPrev(!i);break;case"nextCard":this._params.feedManager.focusNext(!i);break;case"switchView":{const e={where:r.where,selected:r.selected,sduiRootId:t};this._params.sduiManagerProxy.pushSwitchView(e),this._switchViewWithinFocusedItem(e),this._switchViewWithinCurrentFeed(e);break}case"highlightAlert":return this._params.setEmphasizedAlerts([n[0]]);case"hoverStateChanged":return;case"hideHighlights":case"showHighlights":break;case"openLink":this._subscribeToCommand(()=>this._params.lifecycleService.openUrl(r.url),e=>({kind:"error",source:"revision",name:"sduiCardOpenLinkFailed",data:{rawError:Object(ye.b)(e)}}));break;case"upgradeToPremium":this._subscribeToCommand(()=>this._params.uphookService.executeUphook("advancedIssues"),e=>({kind:"error",source:"revision",name:"upgradeToPremiumFailed",data:{rawError:Object(ye.b)(e)}}));break;case"copyToClipboard":this._subscribeToCommand(()=>this._params.textEditorService.copyText(r.text),e=>({kind:"error",source:"revision",name:"sduiCardCopyTextFailed",data:{rawError:Object(ye.b)(e)}}));break;case"enablePlagiarismCheck":this._params.plagiarismService.enablePlagiarismChecks();break;case"disablePlagiarismCheck":this._params.plagiarismService.disablePlagiarismChecks();break;case"enableWritingExpertCheck":this._params.writingExpertService.enableWritingExpertChecks();break;case"disableWritingExpertCheck":this._params.writingExpertService.disableWritingExpertChecks();break;case"selectAlternative":case"transition":break;case"nativeOpenAssistant":case"openCreateSnippetModal":case"newRevision":case"interactPopover":case"closePopover":case"closeCard":case"openGrammarlyGo":case"openToneDetector":case"stopApplyingAlerts":case"openSettings":case"openFeedback":case"openPerformanceScore":case"nativeOpenUserSatisfactionFeedback":case"openLearnMore":this._logger.warn("Unsupported SDUI action",r);break;default:this._logger.warn("Unsupported SDUI action",r),Object(I.d)(r)}})}processActions(e,t,n,a){this._processActions(e,t,null!=n?n:[],null!=a?a:t)}dispose(){this._onAssistantClose(),this._disposed.next(void 0),this._disposed.complete(),this._subs.unsubscribe()}_subscribeToCommand(e,t,n=w.constVoid){try{o.a.from(e()).pipe(o.a.take(1),o.a.takeUntil(this._disposed)).subscribe(n,e=>this._params.monitoringService.notify(Object(ie.a)(t(e))))}catch(e){this._params.monitoringService.notify(Object(ie.a)(t(e)))}}}function Kn(e){return null!=e}var $n=n("MHMU"),Zn=n("p60b"),Yn=n("vf87"),Xn=n("Fg+b");function Qn(e){return t=>{const n=Jn(t.content);return!x.isNone(n)&&e.reduce((e,t)=>!1===e?e:Object(w.pipe)(n,x.chain(e=>x.fromNullable(e[t.property])),x.fold(()=>t.condition===Rn.a.ContentAssistantFeedFilteringCondition.NotEqualTo,e=>t.condition===Rn.a.ContentAssistantFeedFilteringCondition.EqualTo?e===t.value:e!==t.value)),!0)}}function Jn(e){for(const t of Xn.a.traverse(e)){if("longFormCard"===t.type)return x.some(t.feedProperties);if("assistantCard"===t.type&&t.properties)return x.some(t.properties)}return x.none}function ea(e,t,n){const a=Object(w.pipe)(e,Yn.a.get(zn.a.Item.Id.from(t)),x.chain(e=>"assistantFeed"===e.content.type?x.some(e.content.filtering):x.none),x.fold(()=>w.constFalse,Qn));return Object(w.pipe)(e,Yn.a.reduce([],(e,t)=>a(t)&&t.alertIds.some(e=>n.has(e))?[...e,t]:e),N.Tb(z.getDualOrd(z.fromCompare((e,t)=>{const a=e.alertIds.filter(e=>n.has(e)).length,r=t.alertIds.filter(e=>n.has(e)).length;if(a!==r){return a-r>0?1:-1}{const n=t.alertIds.length-e.alertIds.length;return n>0?1:n<0?-1:0}}))),N.ib,x.map(e=>e.id))}var ta=n("yQCL");const na={show:e=>`[${e.id} - ${xn(e.collection)} items - focus at ${x.getShow($n.e).show(Object(w.pipe)(In(e.collection),x.map(e=>e.id)))}]`};function aa(e,t,n){return Object(w.pipe)(e,Yn.a.get(zn.a.Item.Id.from(t)),x.chain(e=>"assistantFeed"===e.content.type?x.some(e.content.filtering):x.none),x.map(Qn),x.chain(t=>Object(w.pipe)(e,Yn.a.get(zn.a.Item.Id.from(n)),x.filter(t))),x.isSome)}function ra(e){return"assistantFeed"===e.content.type}function ia(e){return Object(w.pipe)(e,N.jb,x.getOrElse(()=>[]))}const oa=W.l({feedId:zn.a.Item.Id.eq,itemIdToFocus:x.getEq(zn.a.Item.Id.eq),filtering:N.eb(W.l({property:W.i,value:W.g,condition:W.i})),ordering:N.eb(W.l({orderBy:W.i,direction:W.i}))});class sa extends class{constructor(e){this._params=e,this._subs=new o.a.Subscription,this._focusCommandsQueue=[],this._evalFocusCommand=new o.a.ReplaySubject(1),this._feedStack=new o.a.BehaviorSubject([]),this._feed=c.a.create(x.none),this._feeds=c.a.create(new Map),this._sduiItemsCollectionDiff=new o.a.Subject,this.onFeedRemove=new o.a.Subject,this.onFeedEmpty=new o.a.Subject,this.feed=this._feed.view(),this.feeds=this._feeds.view(),this._subs.add(this._updateFeeds()),this._subs.add(this._updateActiveFeed()),this._subs.add(this.feed.subscribe(e=>{var t;return null===(t=this._params.logger)||void 0===t?void 0:t.debug("feed state -",x.getShow(na).show(e))})),this._subs.add(this.feeds.subscribe(e=>{var t;return null===(t=this._params.logger)||void 0===t?void 0:t.debug("feeds - ",Array.from(e.keys()))})),this._subs.add(this._params.sduiItemsCollectionDiff.subscribe(this._sduiItemsCollectionDiff))}pushFeed(e,t,n){var a;const r=this._feedStack.getValue(),i=Object(w.pipe)(x.fromNullable(t),x.filter(t=>aa(this._params.sduiItemsCollection.get(),e,t)),x.alt(()=>n?ea(this._params.sduiItemsCollection.get(),e,n):x.none)),o=Object(w.pipe)(this._feed.get(),x.chain(e=>In(e.collection)),x.map(e=>e.id)),s=Object(w.pipe)(r,N.ib,x.map(({feedId:e})=>({feedId:e,itemIdToFocus:o})));null===(a=this._params.logger)||void 0===a||a.debug("pushFeed",{feedId:e,itemIdToFocus:i}),this._feedStack.next(ia(r).concat(N.B([s])).concat({feedId:zn.a.Item.Id.from(e),itemIdToFocus:i}))}replaceFeed(e,t,n){var a;const r=Object(w.pipe)(x.fromNullable(t),x.filter(t=>aa(this._params.sduiItemsCollection.get(),e,t)),x.alt(()=>n?ea(this._params.sduiItemsCollection.get(),e,n):x.none));null===(a=this._params.logger)||void 0===a||a.debug("replaceFeed",{feedId:e,itemIdToFocus:r}),this._feedStack.next(N.Rb(ia(this._feedStack.getValue()),{feedId:zn.a.Item.Id.from(e),itemIdToFocus:r}))}popFeed(e){var t;const n=this._feedStack.getValue();null===(t=this._params.logger)||void 0===t||t.debug("popFeed",{fallbackFeed:e}),n.length>1?this._feedStack.next(ia(n)):Object(w.pipe)(x.fromNullable(e),x.fold(()=>{var e;return null===(e=this._params.logger)||void 0===e?void 0:e.warn("Invoked 'popFeed()' when there are less than 2 feeds in the feed stack, this is a no-op. No fallback feed provided.")},e=>{var t;this.pushFeed(zn.a.Item.Id.from(e.feedId),e.cardId),null===(t=this._params.logger)||void 0===t||t.debug("Invoked 'popFeed()' when there are less than 2 feeds in the feed stack. Switching to the provided fallback feed. "+JSON.stringify(e))}))}isFeedEmpty(e){return this.feed.pipe(o.a.switchMap(Object(w.flow)(x.filter(t=>t.id===e.id),x.fold(()=>this._params.sduiItemsCollection.view(Object(w.flow)(Yn.a.find(Qn(e.content.filtering)),x.isNone)),e=>o.a.of(0===xn(e.collection))))),o.a.distinctUntilChanged())}focusFirst(){var e;null===(e=this._params.logger)||void 0===e||e.debug("focusFirst"),this._focusCommandsQueue.push({kind:"focusFirst"}),this._evalFocusCommand.next()}focusCard(e){var t;null===(t=this._params.logger)||void 0===t||t.debug("focusCard",{itemId:e}),this._focusCommandsQueue.push({kind:"focusCard",itemId:e}),this._evalFocusCommand.next()}focusNext(e){var t;null===(t=this._params.logger)||void 0===t||t.debug("focusNext",{fallbackToPrev:e}),this._focusCommandsQueue.push({kind:"focusNext",fallbackToPrev:null!=e&&e}),this._evalFocusCommand.next()}focusPrev(e){var t;null===(t=this._params.logger)||void 0===t||t.debug("focusPrev",{fallbackToNext:e}),this._focusCommandsQueue.push({kind:"focusPrev",fallbackToNext:null!=e&&e}),this._evalFocusCommand.next()}dispose(){this._subs.unsubscribe()}_updateActiveFeed(){return this._getActiveFeedMeta().pipe(o.a.skipBy(x.getEq(oa)),o.a.switchMap(x.fold(()=>o.a.of(x.none),({ordering:e,filtering:t,feedId:n,itemIdToFocus:a})=>{const r=this._getFeedItemsAndChanges(Qn(t)).pipe(o.a.map(e=>({kind:"sduiChange",diff:e}))),i=Object(w.pipe)(a,x.fold(()=>o.a.EMPTY,e=>o.a.of({kind:"focusCard",itemId:e}))),s=(l=e,c=Object(ta.fold)(z.getMonoid())(l.map(e=>Object(w.pipe)(z.ordNumber,z.contramap(Object(w.flow)(Jn,x.chain(t=>x.fromNullable(t[e.orderBy])),x.fold(()=>Number.MAX_VALUE,t=>e.direction===Rn.a.ContentAssistantFeedOrderingDirection.Asc?t:-1*t)))))),z.contramap(e=>e.content)(c));var c,l;return o.a.mergeStatic(r,i,this._evalFocusCommand.pipe(o.a.startWith(null),o.a.switchMap(()=>o.a.from(this._focusCommandsQueue.splice(0))))).pipe(o.a.scan((e,t)=>{return Object(w.pipe)(e,"sduiChange"===t.kind?function(e,t,n=!1){return Object(w.flow)(_n().unwrap,a=>Object(w.pipe)(e,jn.a.reduce({items:new Map(a.items),added:new Set,removed:new Set},(e,t,n)=>(e.removed.add(n),e),(e,t,n,a)=>(e.items.set(a,n),e),(e,t,n)=>(e.items.set(n,t),e.added.add(n),e)),({items:e,added:r,removed:i})=>{const o=Object(w.pipe)(a.order.focus,x.exists(e=>i.has(e))),s=Object(w.pipe)(Bn(a.order).concat(Array.from(r)),N.O(e=>!i.has(e)||Object(w.pipe)(a.order.focus,x.exists(t=>t===e))),N.Tb(Pn(e,t))),c=Object(w.pipe)(a.order.focus,x.fold(()=>Dn(Object(w.pipe)(s,N.O(e=>!i.has(e))),x.none,[]),e=>Object(w.pipe)(Nn(s,x.some(s.indexOf(e))),o?x.chain(n?Fn:Ln):w.identity,x.getOrElse(()=>Dn(Object(w.pipe)(s,N.O(e=>!i.has(e))),x.none,[])))));return i.forEach(t=>e.delete(t)),{items:e,order:c}}),_n().wrap)}(t.diff,s,!this._params.autofocusNextCard(n)):w.identity,"focusNext"===t.kind?(r=t.fallbackToPrev,e=>Object(w.pipe)(_n().unwrap(e),({order:e})=>0===e.rights.length&&r?e.lefts.length-1:e.lefts.length+1,t=>Object(w.pipe)(e,Mn(t)))):w.identity,"focusPrev"===t.kind?(a=t.fallbackToNext,e=>Object(w.pipe)(_n().unwrap(e),({order:e})=>0===e.lefts.length&&a?e.lefts.length+1:e.lefts.length-1,t=>Object(w.pipe)(e,Mn(t)))):w.identity,"focusCard"===t.kind?Mn(An(e).findIndex(e=>e.id===t.itemId)):w.identity,"focusFirst"===t.kind?Mn(Object(w.pipe)(An(e),e=>1===e.length?0:e.findIndex(e=>!Hn(e.content)))):w.identity);var a,r},_n().wrap({items:new Map,order:Dn([],x.none,[])})),o.a.map(e=>x.some({id:n,collection:e})))})),o.a.tap(e=>this._emitOnFeedEmptyIfNewFeedIsEmpty(e,this._feed.get()))).subscribe(s.b.toAtom(this._feed))}_getFeedItemsAndChanges(e){return o.a.concatStatic(o.a.of(this._params.sduiItemsCollection.view(t=>jn.a.fromMutation(n=>{Object(w.pipe)(t,Yn.a.reduce(n,(t,n)=>e(n)?t.set(n.id,Zn.C(n)):t))})).get()),this._sduiItemsCollectionDiff.pipe(o.a.map(jn.a.filter(t=>e(t),(t,n)=>e(n),t=>e(t)))))}_getActiveFeedMeta(){return this._feedStack.pipe(o.a.map(N.qb),o.a.switchMap(x.fold(()=>o.a.of(x.none),e=>this._feeds.pipe(o.a.map(Ee.s(zn.a.Item.Id.eq)(e.feedId)),o.a.map(x.map(t=>({ordering:t.content.ordering,filtering:t.content.filtering,feedId:e.feedId,itemIdToFocus:e.itemIdToFocus})))))),o.a.shareReplay({bufferSize:1,refCount:!0}))}_updateFeeds(){return this._sduiItemsCollectionDiff.pipe(o.a.map(e=>{const t=new Map(this._feeds.get());return Object(w.pipe)(e,jn.a.forEach(e=>{ra(e)&&(t.delete(e.id),Object(w.pipe)(this._feed.get(),x.map(e=>e.id),x.filter(t=>t===e.id),x.map(()=>this.onFeedRemove.next(e))))},(e,n)=>{ra(n)&&t.set(n.id,n)},e=>{ra(e)&&t.set(e.id,e)})),t})).subscribe(s.b.toAtom(this._feeds))}_emitOnFeedEmptyIfNewFeedIsEmpty(e,t){Object(w.pipe)(M.a(x.option)({currentFeed:t,newFeed:e}),x.filter(({currentFeed:e,newFeed:t})=>e.id===t.id&&xn(e.collection)>0&&0===xn(t.collection)),x.chain(({currentFeed:e})=>x.fromNullable(this._feeds.get().get(e.id))),x.map(e=>this.onFeedEmpty.next(e)))}}{constructor(e){super(e),this._selectedAlertId=c.a.create(null),this._initialForm=null,this.allSuggestionsFeed=this.feeds.view(e=>Object(w.pipe)(b.g.fromNullable(e.get(zn.a.Item.Id.from("longForm"===this._initialForm?On.lensAllSuggestionFeed:On.lensAllSuggestionFeedShortForm))))),this._initialForm=e.initialForm,this._subs.add(e.selectedAlertId.subscribe(s.b.toAtom(this._selectedAlertId))),this._subs.add(this._getCardToFocusOnActiveAlertChange().subscribe(e=>this.focusCard(e)))}pushFeed(e,t,n){super.pushFeed(zn.a.Item.Id.from(e),t,null!=n?n:Object(w.pipe)(b.g.fromNullable(this._selectedAlertId.get()),b.g.fold(()=>{},e=>new Set([e]))))}replaceFeed(e,t,n){super.replaceFeed(zn.a.Item.Id.from(e),t,null!=n?n:Object(w.pipe)(b.g.fromNullable(this._selectedAlertId.get()),b.g.fold(()=>{},e=>new Set([e]))))}popFeed(e){super.popFeed(null!=e?e:Object(w.pipe)(this.allSuggestionsFeed.get(),b.g.map(e=>({feedId:e.id})),b.g.toUndefined))}_getCardToFocusOnActiveAlertChange(){return this._selectedAlertId.pipe(o.a.filter(Kn),o.a.map(e=>Object(w.pipe)(this.feed.get(),b.g.chain(t=>{var n;return b.g.fromNullable(null===(n=An(t.collection).find(t=>t.alertIds.includes(zn.a.AlertId.from(e))))||void 0===n?void 0:n.id)}))),o.b.compact)}}class ca{constructor(e){this._params=e,this._disposed=new o.a.Subject,this._plagiarismChecksEnabled=c.a.create(!1),this.plagiarismChecksEnabled=this._plagiarismChecksEnabled.view()}enablePlagiarismChecks(){o.a.from(this._params.capiService.toggle_checks({checks:{plagiarism:!0}})()).pipe(o.a.take(1),o.a.takeUntil(this._disposed)).subscribe(()=>this._plagiarismChecksEnabled.set(!0),e=>({kind:"error",source:"revision",name:"enablePlagiarismCheckFailed",data:{rawError:Object(ye.b)(e)}}))}disablePlagiarismChecks(){o.a.from(this._params.capiService.toggle_checks({checks:{plagiarism:!1}})()).pipe(o.a.take(1),o.a.takeUntil(this._disposed)).subscribe(()=>this._plagiarismChecksEnabled.set(!1),e=>({kind:"error",source:"revision",name:"disablePlagiarismCheckFailed",data:{rawError:Object(ye.b)(e)}}))}dispose(){this._disposed.next(void 0),this._disposed.complete()}}class la{constructor(e){this._params=e,this._subs=new o.a.Subscription,this._premiumSuggestionsUphookFocused=c.a.create(!1),this._subs.add(this._focusPremiumSuggestionsUphook()),this._subs.add(this._trackPremiumSuggestionsUphookAvailability()),this._subs.add(this._premiumSuggestionsUphookFocused.subscribe(e=>{var t,n;return null===(n=null===(t=this._params.uphookService)||void 0===t?void 0:t.notifyPremiumSuggestionsUphookFocusChanged)||void 0===n?void 0:n.call(t,e)})),this._subs.add(this._params.routingViewModel.activeView.view(e=>"home"!==e.kind).subscribe(()=>this._premiumSuggestionsUphookFocused.set(!1)))}onFocusedItemMount(e){this._premiumSuggestionsUphookFocused.set(Hn(e.content))}_focusPremiumSuggestionsUphook(){var e;return(null!==(e=this._params.uphookService.requestFocusPremiumSuggestionsUphook)&&void 0!==e?e:o.a.EMPTY).subscribe(()=>{this._params.routingViewModel.has({kind:"home"})&&(this._params.routingViewModel.popUntil(e=>"home"===e.kind),Object(w.pipe)(this._params.feedManager.feed.get(),x.chain(({collection:e})=>this._findUphookItem(e)),x.map(e=>this._params.feedManager.focusCard(e.id))))})}_trackPremiumSuggestionsUphookAvailability(){return this._params.feedManager.feed.view(x.exists(e=>x.isSome(this._findUphookItem(e.collection)))).subscribe(e=>{var t,n;return null===(n=null===(t=this._params.uphookService)||void 0===t?void 0:t.notifyPremiumSuggestionsUphookAvailabilityChanged)||void 0===n?void 0:n.call(t,e)})}_findUphookItem(e){return Object(w.pipe)(An(e),"shortForm"===this._params.feedFormViewModel.state.get().feedForm?N.V(e=>Hn(e.content)):N.S(e=>Hn(e.content)))}dispose(){this._subs.unsubscribe()}}var ua=n("80m+"),da=n("4EEI"),pa=n("QYB8"),ma=n("CDtd");class fa{constructor(e=new i.a(fa.name)){this._logger=e,this._alertIds=new Set}hasAlert(e){return this._alertIds.has(e)}processChanges(e){for(const t of e)Object(pa.c)(t)?this._alertIds.add(t.alertId):Object(pa.d)(t)?this._alertIds.delete(t.alertId):Object(I.d)(t);e.length>0&&this._logger.debug("Alert collection change",new Set(this._alertIds))}}class ha{constructor(e){var t;this._params=e,this._subs=new o.a.Subscription,this._logger=null!==(t=this._params.logger)&&void 0!==t?t:new i.a(ha.name),this._longFormCardMessageCount=0,this._sduiEvents=new o.a.Subject,this._alertCollection=new fa(this._params.logger),this._sduiManager=c.a.create(new ua.b(this._sduiEvents.asObservable(),x.fromPredicate(e=>this._alertCollection.hasAlert(e)))),this._state=c.a.create(this._sduiManager.get().state.get()),this._sduiReset=new o.a.Subject,this.sduiReset=this._sduiReset.asObservable(),this.state=this._state.view(),this.onAlertsRefEmpty=Object(w.pipe)(this._sduiManager.view(e=>e.onAlertsRefEmpty),o.a.switchAll()),this.sduiEventsSettled=this._sduiEvents.pipe(o.a.startWith(null),o.a.switchMap(()=>o.a.timer(500).pipe(o.a.mapTo(!0),o.a.startWith(!1))),o.a.distinctUntilChanged(),o.a.shareReplay({bufferSize:1,refCount:!1})),this._subs.add(this._processAlertChanges()),this._subs.add(this._processInboundSDUIMessages()),this._subs.add(this._sduiManager.pipe(o.a.switchMap(e=>e.state)).subscribe(s.b.toAtom(this._state))),this._subs.add(this._sduiEvents.pipe(o.a.buffer(this._sduiEvents.pipe(o.a.debounceTime(0)))).subscribe(e=>{const t=e.filter(e=>e.kind===da.a.SduiEventKind.Add),n=e.filter(e=>e.kind===da.a.SduiEventKind.Update),a=e.filter(e=>e.kind===da.a.SduiEventKind.Remove);(t.length>0||n.length>0||a.length>0)&&this._logger.debug(`sdui events - insertions: [${t.map(e=>e.sduiRootId).join(",")}] - updates: [${n.map(e=>e.sduiRootId).join(",")}] - removals: [${a.map(e=>e.sduiRootId).join(",")}]`)}))}pushRemovedRoot(e){this._sduiManager.get().pushRemovedRoot(e),this._sduiManager.get().flush()}pushRemovedAlerts([e,t]){this._sduiManager.get().pushRemovedAlerts([e,t])}pushSwitchView(e){this._sduiManager.get().pushSwitchView(e)}dispose(){this._subs.unsubscribe(),this._sduiManager.get().dispose()}_parseSDUIMessage(e){const t=null!=e&&"object"==typeof e&&"type"in e&&"longFormCard"===e.type,n=!t||this._longFormCardMessageCount%100==0;return t&&this._longFormCardMessageCount++,n?Xn.a.dslRootParser(e):P.right(e)}_processInboundSDUIMessages(){var e;const t=e=>Object(w.pipe)(this._parseSDUIMessage(e.sdui),P.mapLeft(t=>(this._params.monitoringService.notify(Object(ie.a)({kind:"error",source:"revision",name:"sduiDSLParseFailed",data:{sduiRootId:e.sduiRootId,rawError:Object(ye.b)(t)}})),t)),x.fromEither);return o.a.from(this._params.sduiItemCollectionChanges).pipe(o.a.concatAll(),o.a.filter(ga),o.a.map(e=>Object(ma.e)(e)?Object(w.pipe)(e,t,x.map(t=>({kind:da.a.SduiEventKind.Add,sdui:t,sduiRootId:da.a.RawSduiItem.Id.create(e.sduiRootId),rev:0}))):Object(ma.g)(e)?Object(w.pipe)(e,t,x.map(t=>({kind:da.a.SduiEventKind.Update,sdui:t,sduiRootId:da.a.RawSduiItem.Id.create(e.sduiRootId),rev:0}))):Object(ma.f)(e)?x.some({kind:da.a.SduiEventKind.Remove,sduiRootId:da.a.RawSduiItem.Id.create(e.sduiRootId),rev:0}):Object(ma.h)(e)?(this._sduiReset.next(void 0),this._sduiManager.modify(e=>(e.dispose(),new ua.b(this._sduiEvents.asObservable(),x.fromPredicate(e=>this._alertCollection.hasAlert(e))))),x.none):void Object(I.d)(e)),o.b.compact,null!==(e=this._params.sduiEventTransformer)&&void 0!==e?e:w.identity).subscribe(this._sduiEvents)}_processAlertChanges(){return o.a.from(this._params.alertCollectionChanges).pipe(o.a.bufferTime(0),o.a.concatAll()).subscribe(e=>{this._alertCollection.processChanges(e);const t=e.reduce((e,t)=>{var n;return Object(pa.d)(t)&&"textChange"===t.reason&&e.set("textChange",(null!==(n=e.get("textChange"))&&void 0!==n?n:[]).concat(zn.a.AlertId.from(t.alertId))),e},new Map);e.length>0&&(this._sduiManager.get().notifyAlertsChanged(),t.size>0&&this._logger.debug("optimistically removing alerts",t),t.forEach((e,t)=>this.pushRemovedAlerts([e,t])))})}}function ga(e){return"sduiItemAdd"!==e.kind&&"sduiItemUpdate"!==e.kind||!function(e,t=new Set(["inlineCard"])){return!(null==e||"object"!=typeof e||!("type"in e)||"string"!=typeof e.type||!t.has(e.type))}(e.sdui)}function ba(e){return e.pipe(o.a.startWith(Yn.a.empty),o.a.pairwise(),o.a.map(([e,t])=>Yn.a.diff(e,t)))}const va="long-form-suggestion-card",ya="long-form-lens",Oa="feed-order",Sa="short-form-feed-order",Ca=Object(w.flow)(o.a.scan((e,t)=>{var n;const a=[],r=new Map(e.updatedLongFormFeeds),i=new Set(e.longFormFeedFilteringValues),o=e=>{const t=(n=r.values(),i=e,Object(w.pipe)(Array.from(n),N.P(e=>Object(w.pipe)("assistantFeed"===e.sdui.type?x.some(e.sdui):x.none,x.map(e=>{return t=e,n=i,Object.assign(Object.assign({},t),{filtering:[...t.filtering,{property:ya,value:n,condition:Rn.a.ContentAssistantFeedFilteringCondition.NotEqualTo}]});var t,n}),x.map(t=>Object.assign(Object.assign({},e),{kind:da.a.SduiEventKind.Update,sdui:t}))))));var n,i;t.forEach(e=>r.set(e.sduiRootId,e)),a.push(...t)};if(t.kind===da.a.SduiEventKind.Add||t.kind===da.a.SduiEventKind.Update)if("longFormCard"===t.sdui.type&&Hn(t.sdui))a.push(Object.assign(Object.assign({},t),{sdui:ka(t.sdui)}));else if("longFormCard"===t.sdui.type){const e=null!==(n=t.sdui.feedProperties[ya])&&void 0!==n?n:void 0;void 0===e||i.has(e)||o(e),a.push(Object.assign(Object.assign({},t),{sdui:Ea(t.sdui)}))}else if("assistantFeed"===t.sdui.type&&t.sdui.id===String(On.lensAllSuggestionFeed)){const e=da.a.RawSduiItem.Id.create(On.lensAllSuggestionFeedShortForm);a.push(t,Object.assign(Object.assign({},t),{sduiRootId:e,sdui:ja(e,t.sdui)}))}else"assistantFeed"===t.sdui.type&&Object(w.pipe)(function(e,t){var n;const a=e.filtering.find(wa);if(a){const r=Array.from(t).filter(e=>e!==a.value);return x.some({sdui:Object.assign(Object.assign({},e),{filtering:[...e.filtering.filter(e=>!wa(e)),...r.map(e=>({property:ya,value:e,condition:Rn.a.ContentAssistantFeedFilteringCondition.NotEqualTo}))]}),filteringValue:null!==(n=null==a?void 0:a.value)&&void 0!==n?n:null})}return x.none}(t.sdui,e.longFormFeedFilteringValues),x.map(({sdui:e,filteringValue:n})=>{const s=!i.has(n);i.add(n),s&&o(n),r.set(t.sduiRootId,Object.assign(Object.assign({},t),{sdui:e})),a.push(Object.assign(Object.assign({},t),{sdui:e}))}));else t.sduiRootId===String(On.lensAllSuggestionFeed)?a.push(t,Object.assign(Object.assign({},t),{sduiRootId:da.a.RawSduiItem.Id.create(On.lensAllSuggestionFeedShortForm)})):t.kind===da.a.SduiEventKind.Remove?r.delete(t.sduiRootId):Object(I.d)(t);return{events:a.length>0?a:[t],longFormFeedFilteringValues:i,updatedLongFormFeeds:r}},{events:[],longFormFeedFilteringValues:new Set(N.Db(0,6)),updatedLongFormFeeds:new Map}),o.a.concatMap(({events:e})=>o.a.from(e)));function wa(e){return e.property===ya&&e.condition===Rn.a.ContentAssistantFeedFilteringCondition.EqualTo}const ka=e=>Object.assign(Object.assign({},e),{feedProperties:Object.assign(Object.assign({},e.feedProperties),{[va]:1,[Oa]:Number.MIN_SAFE_INTEGER,[Sa]:Number.MAX_SAFE_INTEGER})}),Ea=e=>Object.assign(Object.assign({},e),{feedProperties:Object.assign(Object.assign({},e.feedProperties),{[Sa]:e.feedProperties[Oa]})});function ja(e,t){return Object.assign(Object.assign({},t),{id:e,ordering:[{orderBy:Sa,direction:Rn.a.ContentAssistantFeedOrderingDirection.Asc},...t.ordering.filter(e=>e.orderBy!==Oa)]})}const _a=o.a.map(e=>{if(e.kind!==da.a.SduiEventKind.Add&&e.kind!==da.a.SduiEventKind.Update||"assistantFeed"!==e.sdui.type||e.sdui.id!==String(On.writingExpertFeed))return e;{const t=e.sdui.onRemove;return Object.assign(Object.assign({},e),{sdui:Object.assign(Object.assign({},e.sdui),{onRemove:t.some(e=>"popAssistantFeed"===e.type)?t:t.concat({type:"popAssistantFeed"})})})}});class xa{constructor(e){this._params=e,this._disposed=new o.a.Subject,this._writingExpertChecksEnabled=c.a.create(!1),this.writingExpertChecksEnabled=this._writingExpertChecksEnabled.view()}enableWritingExpertChecks(){o.a.from(this._params.capiService.toggle_checks({checks:{writing_expert_check:!0}})()).pipe(o.a.take(1),o.a.takeUntil(this._disposed)).subscribe(()=>this._writingExpertChecksEnabled.set(!0),e=>({kind:"error",source:"revision",name:"enableWritingExpertCheckFailed",data:{rawError:Object(ye.b)(e)}}))}disableWritingExpertChecks(){o.a.from(this._params.capiService.toggle_checks({checks:{writing_expert_check:!1}})()).pipe(o.a.take(1),o.a.takeUntil(this._disposed)).subscribe(()=>this._writingExpertChecksEnabled.set(!1),e=>({kind:"error",source:"revision",name:"disableWritingExpertCheckFailed",data:{rawError:Object(ye.b)(e)}}))}dispose(){this._disposed.next(void 0),this._disposed.complete()}}class Aa{constructor(e){this._subs=new o.a.Subscription,this._state=c.a.create({firstCheckingFinished:!1,sduiEventsSettledOnce:!1}),this.firstCheckingFinishedAndSduiEventsSettled=this._state.view(e=>e.firstCheckingFinished&&e.sduiEventsSettledOnce),this._subs.add(e.sduiEventsSettled.pipe(o.a.filter(w.identity)).subscribe(()=>this._state.lens("sduiEventsSettledOnce").set(!0))),this._subs.add(e.lastFinishedMessage.subscribe(()=>this._state.lens("firstCheckingFinished").set(!0)))}dispose(){this._subs.unsubscribe()}}class Ia{constructor(e){this._params=e,this._feedForm=c.a.create(this._params.supportedForms[0]),this.state=c.a.combine(this._feedForm,this._params.feedManager.feeds,(e,t)=>({feedForm:e,supportedForms:Object(w.pipe)(new Set(this._params.supportedForms),B.g(e=>t.has(zn.a.Item.Id.from(kn[e]))))}))}onToggleFeedForm(e){this._feedForm.set(e);const t=Object(w.pipe)(this._params.feedManager.feed.get(),x.chain(e=>In(e.collection)));this._params.feedManager.replaceFeed("longForm"===e?On.lensAllSuggestionFeed:On.lensAllSuggestionFeedShortForm,Object(w.pipe)(t,x.fold(()=>{},e=>e.id)),Object(w.pipe)(t,x.chain(e=>Xn.a.getAlertIds(e.content)),x.fold(()=>{},e=>new Set(e))))}}class Ta{constructor(e){this._params=e,this._subs=new o.a.Subscription,this._outcomeScores=c.a.create(x.none),this.lenses=c.a.combine(this._outcomeScores,this._params.feedManager.feeds,(e,t)=>{const n=Object(w.pipe)(t,Ee.u(e=>e.id));return Object(w.pipe)([On.lensAllSuggestionFeed,On.lensCorrectnessFeed,On.lensClarityFeed,On.lensEngagementFeed,On.lensDeliveryFeed,On.lensStyleGuideFeed],N.O(e=>n.has(zn.a.Item.Id.from(e))),N.ub(t=>({lensId:t,label:Cn[t],percent:Object(w.pipe)(e,x.fold(()=>0,e=>e[t]))})),e=>new Map(e.map(e=>[e.lensId,e])))}),this._subs.add(this._params.lastFinishedMessage.subscribe(({outcomeScores:e})=>this._outcomeScores.modify(t=>{var n,a,r,i,o,s,c,l,u,d,p,m;const f=Object(w.pipe)(t,x.getOrElse(()=>({})));return x.some({[On.lensAllSuggestionFeed]:null!==(a=null!==(n=null==e?void 0:e.GeneralScore)&&void 0!==n?n:f[On.lensAllSuggestionFeed])&&void 0!==a?a:0,[On.lensClarityFeed]:null!==(i=null!==(r=null==e?void 0:e.Clarity)&&void 0!==r?r:f[On.lensClarityFeed])&&void 0!==i?i:0,[On.lensCorrectnessFeed]:null!==(s=null!==(o=null==e?void 0:e.Correctness)&&void 0!==o?o:f[On.lensCorrectnessFeed])&&void 0!==s?s:0,[On.lensEngagementFeed]:null!==(l=null!==(c=null==e?void 0:e.Engagement)&&void 0!==c?c:f[On.lensEngagementFeed])&&void 0!==l?l:0,[On.lensDeliveryFeed]:null!==(d=null!==(u=null==e?void 0:e.Tone)&&void 0!==u?u:f[On.lensDeliveryFeed])&&void 0!==d?d:0,[On.lensStyleGuideFeed]:null!==(m=null!==(p=null==e?void 0:e["Style guide"])&&void 0!==p?p:f[On.lensStyleGuideFeed])&&void 0!==m?m:0})})))}onToggleLens(e){const t=Object(w.pipe)(this._params.feedManager.feed.get(),x.map(e=>e.id),x.exists(t=>t===e)),n=Object(w.pipe)(this._params.feedManager.feed.get(),x.chain(e=>In(e.collection)),x.fold(()=>{},e=>e.id));t?this._params.feedManager.replaceFeed(On.lensAllSuggestionFeed,n):this._params.feedManager.replaceFeed(e,n)}dispose(){this._subs.unsubscribe()}}const Ma={[On.lensAllSuggestionFeed]:"all-suggestions",[On.lensAllSuggestionFeedShortForm]:"all-suggestions",[On.lensCorrectnessFeed]:"correctness",[On.lensClarityFeed]:"clarity",[On.lensDeliveryFeed]:"delivery",[On.lensEngagementFeed]:"engagement",[On.lensStyleGuideFeed]:"style-guide",[On.plagiarismFeed]:"plagiarism",[On.writingExpertFeed]:"writing-expert"};var Pa;!function(e){const t=[];e.notifyFeedUnmount=function(){t.forEach(e=>e())},e.registerFeedUnmountHandler=function(e){return t.push(e),e},e.unregisterFeedUnmountHandler=function(e){const n=t.findIndex(t=>t===e);n>=0&&t.splice(n,1)}}(Pa||(Pa={}));class Na{constructor(e){this._params=e,this._focusedItem=c.a.create(x.none),this._subs=new o.a.Subscription,this._feedReset=c.a.create(!1),this.isAllSuggestionsFeedEnabled=c.a.create(this._params.isAllSuggestionsFeedEnabled),this.feed=this._params.feedManager.feed.view(),this.feedReset=this._feedReset.view(),this._subs.add(this._params.sduiReset.pipe(o.a.switchMap(()=>o.a.timer(5e3).pipe(o.a.mapTo(!1),o.a.startWith(!0)))).subscribe(s.b.toAtom(this._feedReset)))}processActions(e,t,n,a){this._params.feedActionService.processActions(e,t.id,n.alertRefs,a)}onFocusedItemMount(e){Object(w.pipe)(this._focusedItem.get(),x.filter(t=>t.id!==e.id),x.chain(e=>Object(w.pipe)(Da(e),x.map(t=>({actions:t.onBlur,item:e,sourceId:t.id})))),x.map(({actions:e,item:t,sourceId:n})=>this._params.feedActionService.processActions(e,t.id,void 0,n))),Object(w.pipe)(Da(e),x.map(t=>({actions:t.onFocus,item:e,sourceId:t.id})),x.map(({actions:e,item:t,sourceId:n})=>this._params.feedActionService.processActions(e,t.id,void 0,n))),this._params.premiumSuggestionsUphookManager.onFocusedItemMount(e),this._focusedItem.set(x.some(e))}onFeedMount(){const e=Pa.registerFeedUnmountHandler(()=>{Pa.unregisterFeedUnmountHandler(e),this._params.alertVisibilityManager.notifyFeedUnmount(),Object(w.pipe)(this._focusedItem.get(),x.chain(e=>Object(w.pipe)(Da(e),x.map(t=>({actions:t.onBlur,item:e,sourceId:t.id})))),x.map(({actions:e,item:t,sourceId:n})=>this._params.feedActionService.processActions(e,t.id,void 0,n)))});this._params.alertVisibilityManager.notifyFeedMount()}onSuccessStateMount(){Object(w.pipe)(this.feed.get(),x.map(e=>e.id),x.chain(wn),x.map(e=>this._params.tracking.feedSuccessStateShow(Ma[e])))}dispose(){this._subs.unsubscribe()}}function Da(e){return"assistantCard"===e.content.type?x.some(e.content):"strongAlertRef"===e.content.type&&"assistantCard"===e.content.child.type?x.some(e.content.child):"longFormCard"===e.content.type&&"assistantCard"===e.content.fullContent.type?x.some(e.content.fullContent):x.none}function Ba(e){const t=new o.a.Subscription,n=e.feedManager.feeds.view(t=>x.fromNullable(t.get(e.feedId)));return t.add(e.entryPointClicked.pipe(o.a.tap(()=>e.routingViewModel.push(e.view)),o.a.switchMap(()=>e.canExecuteEntryPointAction()),o.a.take(1),o.b.compact).subscribe(t=>e.feedActionService.processActions(t.content.actions,t.id,t.alertIds,t.content.id))),t.add(e.feedManager.feed.pipe(o.a.map(e=>{var t;return null===(t=x.toNullable(e))||void 0===t?void 0:t.id}),o.a.pairwise(),o.a.filter(([t,n])=>t===e.feedId&&n!==e.feedId&&e.routingViewModel.activeView.get().kind===e.view.kind)).subscribe(()=>e.routingViewModel.pop())),t.add(e.routingViewModel.has(e.view).pipe(o.a.pairwise(),o.a.filter(([e,t])=>e&&!t),o.a.switchMap(()=>e.feedManager.feed.pipe(o.a.take(1),o.a.map(e=>{var t;return null===(t=x.toNullable(e))||void 0===t?void 0:t.id}))),o.a.filter(t=>t===e.feedId)).subscribe(()=>Object(w.pipe)(n.get(),x.map(t=>e.feedActionService.processActions([{type:"popAssistantFeed"},e.sduiDisableCheckAction],t.id,t.alertIds,t.content.id))))),t.add({unsubscribe:()=>{e.routingViewModel.has(e.view).get()&&Object(w.pipe)(n.get(),x.map(t=>e.feedActionService.processActions([e.sduiDisableCheckAction],t.id,t.alertIds,t.content.id)))}}),t}function La(e,t){return e.pipe(o.a.map(jn.a.filter(t,t,t)),o.a.filter(e=>!jn.a.isEmpty(e)),o.a.map(jn.a.reduce(x.none,(e,t)=>x.none,(e,t,n)=>x.some(n),(e,t)=>x.some(t))),o.a.skipBy(x.getEq(zn.a.Item.eq)))}function Fa(e){return new o.a.Observable(t=>{const n=new o.a.Subscription,a=new o.a.Subject;let r=x.none;return n.add(e.asyncCheckFinishedMessage.pipe(o.a.filter(t=>t.check===e.asyncCheckType)).subscribe(t=>{r=x.some(e.extractScore(t)),a.next(t)})),n.add(e.asyncChecksEnabled.pipe(o.a.distinctUntilChanged(),o.a.switchMap(t=>t?o.a.mergeStatic(e.textUpdated.pipe(o.a.map(()=>x.some({checking:!0,lastScore:r}))),a.pipe(o.a.map(t=>e.extractScore(t)),o.a.map(e=>x.some({checking:!1,lastScore:x.some(e)})))).pipe(o.a.startWith(x.some({checking:!0,lastScore:r}))):o.a.of(x.none)),o.a.skipBy(x.getEq(W.l({checking:W.e,lastScore:x.getEq(e.scoreEq)})))).subscribe(t)),()=>n.unsubscribe()})}function Ra(e){return"gButton:plagiarism"===e.content.type}class Ha{constructor(e){this._params=e,this._subs=new o.a.Subscription,this._sourceCount=c.a.create(x.none),this._citationDropdown=c.a.create(x.none),this._plagiarismEntryPoint=c.a.create(x.none),this._plagiarismFeed=this._params.feedManager.feeds.view(e=>x.fromNullable(e.get(zn.a.Item.Id.from(On.plagiarismFeed)))),this._checkingState=c.a.create(x.none),this.plagiarismAction=this._params.isPlagiarismEnabled?this._plagiarismEntryPoint.view(x.map(()=>Q.createPlagiarismAction())):c.a.create(x.none),this.state=this._params.isPlagiarismEnabled?c.a.combine(this._checkingState,this._sourceCount,this._citationDropdown,(e,t,n)=>Object(w.pipe)(e,x.map(({checking:e,lastScore:a})=>({checking:e,originality:a,sourceCount:t,citationDropdown:n})))):c.a.create(x.none),this._subs.add(La(this._params.sduiItemsCollectionDiff,Ra).subscribe(e=>this._plagiarismEntryPoint.set(e))),this._subs.add(Ba({feedManager:this._params.feedManager,feedActionService:this._params.feedActionService,routingViewModel:this._params.routingViewModel,entryPointClicked:this._params.assistantUIActions.pipe(o.a.filter(Object(V.b)(dt.a.is(dt.a.Kind.actionBrickClick),e=>"regularAction"===e.action.kind&&Q.isPlagiarismAction(e.action.action)))),canExecuteEntryPointAction:()=>this._params.userViewModel.isPremium.get()?this._plagiarismEntryPoint.pipe(o.a.filter(x.isSome),o.a.take(1)):o.a.of(x.none),feedId:zn.a.Item.Id.from(On.plagiarismFeed),sduiDisableCheckAction:{type:"disablePlagiarismCheck"},view:{kind:"plagiarism"}})),this._subs.add(Fa({asyncCheckType:"plagiarism",extractScore:e=>e.outcomeScores.Originality,asyncChecksEnabled:this._params.plagiarismChecksEnabled,asyncCheckFinishedMessage:this._params.lastAsyncCheckFinishedMessage,textUpdated:this._params.textUpdated,scoreEq:W.g}).subscribe(e=>this._checkingState.set(e))),this._subs.add(this._plagiarismFeed.view(x.chain(e=>{var t,n;for(const a of Xn.a.traverse(e.content))if("tooltip"===a.type){const e=null===(n=null===(t=/from (?<sources>\d+) sources on the web/.exec(a.text))||void 0===t?void 0:t.groups)||void 0===n?void 0:n.sources;if(void 0!==e)return Object(w.pipe)(x.fromNullable(Number.parseInt(e,10)),x.filter(e=>Number.isSafeInteger(e)))}return x.none})).subscribe(e=>this._sourceCount.set(e))),this._subs.add(this._plagiarismFeed.view(x.chain(e=>{var t;for(const n of Xn.a.traverse(e.content))if("selectableDropDownMenu"===n.type&&"citation-style"===(null===(t=n.name)||void 0===t?void 0:t.value))return x.some(n);return x.none})).subscribe(e=>this._citationDropdown.set(e)))}onUphookShow(){this._params.uphookService.trackUphookShown("plagiarism")}onUphookClick(){this._params.uphookService.trackUphookClicked("plagiarism"),this._params.uphookService.executeUphook("plagiarism")}onUphookDismiss(){this.seeAllSuggestions()}seeAllSuggestions(){this._params.routingViewModel.popUntil(e=>"home"===e.kind)}onCitationDropdownSelect(e,t){Object(w.pipe)(this._plagiarismFeed.get(),x.map(n=>this._params.feedActionService.processActions(e,n.id,n.alertIds,t)))}dispose(){this._subs.unsubscribe()}}class Va{constructor(e){this._params=e,this._subs=new o.a.Subscription,this._state=c.a.create({allSuggestionsCount:0,activeFeedSuggestionCount:0,allSuggestionsEmpty:!0,someSuggestionsAddressed:!1}),this.state=this._state.view();const t=c.a.combine(this._params.isAllSuggestionsFeedEnabled,this._params.feedManagerProxy.allSuggestionsFeed,(e,t)=>e?t:x.none);this._subs.add(t.pipe(o.a.switchMap(x.fold(()=>o.a.of(0),e=>{const t=Qn(e.content.filtering);return this._params.sduiItemsCollection.pipe(o.a.map(Yn.a.reduce(0,(e,n)=>t(n)?e+1:e)))}))).subscribe(s.b.toAtom(this._state.lens("allSuggestionsCount")))),this._subs.add(c.a.combine(this._params.isAllSuggestionsFeedEnabled,this._params.feedManagerProxy.allSuggestionsFeed,this._params.feedManagerProxy.feed,(e,t,n)=>Object(w.pipe)(n,x.chain(n=>{var a;return n.id!==(null===(a=x.toNullable(t))||void 0===a?void 0:a.id)||e?x.some(n):x.none}))).view(x.fold(()=>0,e=>xn(e.collection))).subscribe(s.b.toAtom(this._state.lens("activeFeedSuggestionCount")))),this._subs.add(t.pipe(o.a.switchMap(x.fold(()=>o.a.of(!0),e=>this._params.feedManagerProxy.isFeedEmpty(e))),o.a.distinctUntilChanged()).subscribe(e=>{this._state.lens("allSuggestionsEmpty").set(e),e||this._state.lens("someSuggestionsAddressed").set(!1)}))}onSuggestionAddressed(){this._state.lens("someSuggestionsAddressed").set(!0)}dispose(){this._subs.unsubscribe()}}function Ua(e){return"gButton:writingExpert"===e.content.type}class Wa{constructor(e){this._params=e,this._subs=new o.a.Subscription,this._writingExpertEntryPoint=c.a.create(x.none),this._checkingState=c.a.create(x.none),this.writingExpertAction=this._params.isWritingExpertEnabled?c.a.combine(this._writingExpertEntryPoint,this._params.userViewModel.isPremium,(e,t)=>Object(w.pipe)(e,x.filter(()=>t),x.map(()=>Q.createWritingExpertAction()))):c.a.create(x.none),this.state=this._params.isWritingExpertEnabled?this._checkingState.view():c.a.create(x.none),this._subs.add(La(this._params.sduiItemsCollectionDiff,Ua).subscribe(e=>this._writingExpertEntryPoint.set(e))),this._subs.add(Ba({feedManager:this._params.feedManager,feedActionService:this._params.feedActionService,routingViewModel:this._params.routingViewModel,entryPointClicked:this._params.assistantUIActions.pipe(o.a.filter(Object(V.b)(dt.a.is(dt.a.Kind.actionBrickClick),e=>"regularAction"===e.action.kind&&Q.isWritingExpertAction(e.action.action)))),canExecuteEntryPointAction:()=>this._writingExpertEntryPoint.pipe(o.a.filter(x.isSome),o.a.take(1)),feedId:zn.a.Item.Id.from(On.writingExpertFeed),sduiDisableCheckAction:{type:"disableWritingExpertCheck"},view:{kind:"writingExpert"}})),this._subs.add(Fa({asyncCheckType:"writing_expert_check",extractScore:()=>null,asyncChecksEnabled:this._params.writingExpertChecksEnabled,asyncCheckFinishedMessage:this._params.lastAsyncCheckFinishedMessage,textUpdated:this._params.textUpdated,scoreEq:W.h}).subscribe(e=>this._checkingState.set(e)))}seeAllSuggestions(){this._params.routingViewModel.popUntil(e=>"home"===e.kind)}dispose(){this._subs.unsubscribe()}}class za{constructor(e){this._params=e,this._subs=new ut.a,this._subs.add(this._params.assistantUIActions.subscribe(e=>{switch(e.kind){case dt.a.Kind.settingsButtonClick:return"withView"===this._params.options.kind?this._params.routingViewModel.push({kind:"settings"}):this._params.options.onClick(e.buttonRect);default:return}}))}getView(){return"withView"===this._params.options.kind?x.some(this._params.options.getView()):x.none}dispose(){this._subs.unsubscribe()}}class Ga{constructor(e,t,n,a){this._assistantUIActions=e,this._router=t,this._monitoringService=n,this._skillService=a,this._subs=new ut.a,this._state=c.a.create(b.g.none),this.state=this._state.view(),this._skillService&&this._subs.add(this._skillService.skillRequests.subscribe(e=>{e.close?(this._onSkillClosed(),this._state.set(b.g.none)):e.size&&this._state.modify(b.g.map(t=>Object.assign(Object.assign({},t),{size:e.size})))})),this._subs.add(this._assistantUIActions.subscribe(e=>this._handleUIAction(e)))}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case dt.a.Kind.actionBrickClick:if("regularAction"===e.action.kind&&Q.isSkillAction(e.action.action)){const t=e.action.action.skill;this._onSkillOpened(),this._state.set(b.g.some({skill:t,status:"loading",size:{width:416,height:245}}))}break;case dt.a.Kind.mount:e.name===ft.a.skill&&Object(Oe.b)("initSkill",Object(w.pipe)(Object(w.pipe)(this._state.get(),L.L(()=>new Error("Cannot init Skill. No Skill state available."))),L.u(t=>this._skillService?Object(w.pipe)(this._skillService.initSkill(t.skill,e.element),L.ab(e=>Object.assign(Object.assign({},t),{size:e}))):L.X(new Error("Cannot init Skill. No `SkillService` available.")))),void 0,e=>this._state.set(b.g.some(Object.assign(Object.assign({},e),{status:"ready"}))),e=>{this._state.modify(b.g.map(e=>Object.assign(Object.assign({},e),{status:"error"}))),this._monitoringService.notify(Object(ie.a)({kind:"error",source:"skill",name:"initSkillFailed",data:{skillId:Object(w.pipe)(this._state.get(),b.g.map(e=>e.skill.id),b.g.toNullable),rawError:Object(ye.b)(e)}}))});break;case dt.a.Kind.unmount:if(e.name===ft.a.skill&&!this._router.has({kind:"skill"}).get()){const e=this._state.get();Object(Oe.b)("terminateSkill",Object(w.pipe)(e,L.L(()=>new Error("Cannot terminate Skill. No Skill state available.")),L.u(e=>this._skillService?Object(w.pipe)(this._skillService.terminateSkill(e.skill),L.ab(()=>e)):L.X(new Error("Cannot terminate Skill. No `SkillService` available.")))),void 0,()=>this._state.set(b.g.none),t=>{this._monitoringService.notify(Object(ie.a)({kind:"error",source:"skill",name:"terminateSkillFailed",data:{skillId:Object(w.pipe)(this._state.get(),b.g.map(e=>e.skill.id),b.g.toNullable),rawError:Object(ye.b)(t)}})),this._state.get()===e&&this._state.set(b.g.none)})}}}_onSkillOpened(){this._router.push({kind:"skill"})}_onSkillClosed(){"skill"===this._router.activeView.get().kind&&this._router.pop()}}var qa,Ka=n("0hD5");(qa||(qa={})).empty={activeSurvey:x.none,stage:Ka.a.Stage.Type.Rating,transitionStage:Ka.a.Stage.Type.Rating,rating:x.none,errors:x.none,openAnswer:x.none};class $a{constructor(e){this._params=e,this._state=c.a.create(qa.empty),this._subs=new ut.a,this._stageTimeoutClear=void 0,this.state=this._state.view(),this._updateStageAfterTransition(),this._subscribeToActiveSurvey(),this._subs.add(this._params.assistantUIActions.subscribe(e=>{Object(V.p)(dt.a.isSurveyAction,dt.a.isSurveyImplicitDismissAction)(e)&&this._handleUIAction(e)}))}get _activeSurvey(){return this.state.get().activeSurvey}_subscribeToActiveSurvey(){this._subs.add(this._params.userSurveyService.activeSurvey.subscribe(e=>{Object(w.pipe)(e,x.map(e=>{Object(w.pipe)(this._activeSurvey,x.fold(()=>this._updateActiveSurvey(e),t=>{t.detailedPlacement!==e.detailedPlacement&&this._updateActiveSurvey(e)}))}))}))}_updateActiveSurvey(e){this._state.set(Object.assign(Object.assign({},qa.empty),{activeSurvey:x.some(e)}))}_handleUIAction(e){switch(e.kind){case dt.a.Kind.surveySubmitButtonClick:case dt.a.Kind.surveyKeyPressShiftEnter:this._onSurveyCompleted();break;case dt.a.Kind.surveyCancelButtonClick:case dt.a.Kind.surveyCloseButtonClick:this._onDismissExplicitly();break;case dt.a.Kind.surveyOpenAnswerChange:this._onOpenAnswerChange(e.openAnswer);break;case dt.a.Kind.surveyRatingSelectionChange:this._onRatingSelectionChange(e.rating);break;case dt.a.Kind.promptSubmitButtonClick:case dt.a.Kind.actionBrickClick:case dt.a.Kind.resultCardInsertButtonClick:case dt.a.Kind.resultCardRephraseButtonClick:case dt.a.Kind.resultCardHeaderClick:case dt.a.Kind.resultCardDismissButtonClick:this._onDismissImplicitly();break;default:Object(I.d)(e)}}_onRatingSelectionChange(e){Object(w.pipe)(this._activeSurvey,x.map(e=>e.skipOpenAnswerFrom),x.map(t=>{e<t?this._state.modify(t=>Object.assign(Object.assign({},t),{rating:x.some(e),transitionStage:Ka.a.Stage.Type.Feedback})):this._state.modify(t=>Object.assign(Object.assign({},t),{rating:x.some(e),transitionStage:Ka.a.Stage.Type.Completed})),this._reportCompleting()}))}_onOpenAnswerChange(e){Object(w.pipe)(this._activeSurvey,x.chain(({openAnswer:e})=>e),x.map(({maxLen:t})=>{e.length<=t&&this._state.modify(t=>Object.assign(Object.assign({},t),{openAnswer:x.some(e),errors:x.none}))}))}_onSurveyCompleted(){Object(w.pipe)(this._activeSurvey,x.chain(({openAnswer:e})=>e),x.chain(({minLen:e})=>e),x.fold(()=>this._complete(),e=>{Object(w.pipe)(this._state.get().openAnswer,x.fold(()=>this._setOpenAnswerError("This field is required."),t=>{t.length<e?this._setOpenAnswerError(e>0?`Please enter at least ${e} characters.`:"This field is required."):this._complete()}))}))}_complete(){this._reportCompleting(),this._state.lens("transitionStage").set(Ka.a.Stage.Type.Completed)}_reportCompleting(){Object(w.pipe)(this._activeSurvey,x.chain(e=>Object(w.pipe)(this._state.get().rating,x.map(t=>({survey:e,rating:t})))),x.map(({survey:e,rating:t})=>this._params.userSurveyService.submitSurveyResult({rating:t,openAnswer:this._state.get().openAnswer,placement:e.placement,detailedPlacement:e.detailedPlacement,stage:this.state.get().stage,type:e.type})))}_setOpenAnswerError(e){this._state.lens("errors").set(x.some({openAnswerError:x.some(e)}))}_onDismissExplicitly(){Object(w.pipe)(this._activeSurvey,x.map(e=>{const t=this.state.get().stage;t===Ka.a.Stage.Type.Rating&&this._params.userSurveyService.dismissSurvey({placement:e.placement,detailedPlacement:e.detailedPlacement,type:e.type,stage:t})})),this._state.lens("transitionStage").set(Ka.a.Stage.Type.Closed)}_onDismissImplicitly(){this._state.lens("transitionStage").set(Ka.a.Stage.Type.Closed)}_updateStageAfterTransition(){this._subs.add(this._state.subscribe(e=>{this._clearStageTimeout(),this._stageTimeoutClear=setTimeout(()=>{this._state.lens("stage").set(e.transitionStage)},Za[e.transitionStage])}))}_clearStageTimeout(){void 0!==this._stageTimeoutClear&&(clearTimeout(this._stageTimeoutClear),this._stageTimeoutClear=void 0)}dispose(){this._subs.unsubscribe(),this._clearStageTimeout()}}const Za={[Ka.a.Stage.Type.Rating]:0,[Ka.a.Stage.Type.Feedback]:300,[Ka.a.Stage.Type.Completed]:0,[Ka.a.Stage.Type.Closed]:0};var Ya,Xa,Qa;!function(e){e.set=function(e,t){return n=>Object.assign(Object.assign({},n),{[e]:t})}}(Ya||(Ya={}));class Ja{constructor(e){this._params=e,this._subs=new ut.a,this._state=c.a.create({stagingNewVoiceProfile:x.none,stagingVoiceProfile:x.none}),this.state=this._state.view(),this._subs.add(this._params.assistantUIActions.subscribe(e=>this._handleUIAction(e)))}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case dt.a.Kind.headerGoBackButtonClick:return this._handleGoBack(e.goBackFrom);case dt.a.Kind.headerVoiceButtonClick:return this._openVoiceProfile("toolbar");case dt.a.Kind.setVoiceButtonClick:return this._openVoiceProfile("banner");case dt.a.Kind.voiceProfileCloseButtonClick:return this._closeVoiceProfile();case dt.a.Kind.voiceProfileUseVoiceButtonClick:return this._applyVoiceProfile();case dt.a.Kind.toneToggleClick:return this._toggleTone(e.id,e.selected);case dt.a.Kind.styleToggleClick:return this._selectStyle(e.id);case dt.a.Kind.roleTypeaheadSelectionChange:return this._selectRole(Object(w.pipe)(e.role,x.map(e=>e.id)));case dt.a.Kind.dialectDropdownSelectionChange:return this._selectDialect(e.dialect.id);case dt.a.Kind.voiceProfileTabChange:return this._switchNewVoiceProfileTab(e.profileName);case dt.a.Kind.voiceTagPopoverRemoveButtonClick:return this._removeVoiceTag(e);case dt.a.Kind.voiceTagPopoverClose:return this._closeVoiceTagPopover();case dt.a.Kind.voiceTagPopoverKeepButtonClick:return this._keepVoiceTagPopover();case dt.a.Kind.voiceTagClick:return this._toggleVoiceTag(e);case dt.a.Kind.voiceDialectDropdownSelectionChange:return this._selectNewVoiceDialect(e.dialect.id);case dt.a.Kind.voiceRoleDropdownSelectionChange:return this._selectNewVoiceRole(e.role.id);case dt.a.Kind.voiceSelectionsSaveButtonClick:return this._saveNewVoiceSelections();case dt.a.Kind.voiceSelectionsCancelButtonClick:return this._cancelNewVoiceSelectionChanges();case dt.a.Kind.voiceSelectionsEditButtonClick:return this._editNewVoiceSelections();case dt.a.Kind.promptFieldKeyPressEscape:case dt.a.Kind.headerCloseButtonClick:return this._trySaveNewProfileIfChanged();default:return}}_handleGoBack(e){"voiceProfile"!==e.kind&&"legacyVoiceProfile"!==e.kind||Object(w.pipe)(this._params.genAISessionService.get(),x.chain(e=>se.toStarted(e.session.get())),x.map(e=>{"newVoiceProfile"===e.voiceProfile.kind?(this._trySaveNewProfileIfChanged(),this._state.lens("stagingNewVoiceProfile").set(x.none)):"legacyVoiceProfile"===e.voiceProfile.kind&&this._state.lens("stagingVoiceProfile").set(x.none)}))}_createVoiceProfile(e){var t;return"newVoiceProfile"===e.kind?Ya.set("stagingNewVoiceProfile",x.some({selectedRole:e.selectedRole,selectedDialect:e.selectedDialect,isEnabledByDefault:e.isEnabledByDefault,profiles:e.profiles,activeTagId:x.none,activeProfileName:x.fromNullable(null===(t=e.profiles.find(e=>e.selected))||void 0===t?void 0:t.name),stagingSelections:x.none})):Ya.set("stagingVoiceProfile",x.some({selectedStyle:e.selectedStyle,selectedTonesPerStyle:e.selectedTonesPerStyle,selectedRole:e.selectedRole,selectedDialect:e.selectedDialect,needsSetup:e.needsSetup}))}_openVoiceProfile(e){Object(w.pipe)(this._params.genAISessionService.get(),x.chain(e=>se.toStarted(e.session.get())),x.map(t=>{this._params.userActionTrackingService.trackVoiceProfileOpen(e),this._params.routingViewModel.push({kind:"newVoiceProfile"===t.voiceProfile.kind?"voiceProfile":"legacyVoiceProfile"}),this._state.modify(this._createVoiceProfile(t.voiceProfile))}))}_closeVoiceProfile(){this._params.userActionTrackingService.trackVoiceProfileSkip(),this._params.routingViewModel.pop(),this._state.lens("stagingVoiceProfile").set(x.none)}_applyVoiceProfile(){const e=this._state.get().stagingVoiceProfile;this._params.routingViewModel.pop(),this._state.lens("stagingVoiceProfile").set(x.none),Object(w.pipe)(e,x.map(e=>{const t=x.toNullable(this._params.genAISessionService.get());t&&Object(Oe.b)("setVoiceProfile",t.setVoiceProfile(e),this._params.logger)}))}_toggleTone(e,t){this._state.lens("stagingVoiceProfile").modify(x.map(n=>{return Object.assign(Object.assign({},n),{selectedTonesPerStyle:Object(w.pipe)(n.selectedTonesPerStyle,t?(a=we.Style.Id.eq,(e,t)=>n=>Object(w.pipe)(n,Ee.x(a)(e,Object(w.flow)(x.some,t)),x.getOrElse(()=>Object(w.pipe)(n,Ee.o(a)(e,t(x.none))))))(n.selectedStyle,x.fold(()=>new Set([e]),B.p(we.Tone.Id.eq)(e))):Object(w.flow)(Ee.x(we.Style.Id.eq)(n.selectedStyle,B.w(we.Tone.Id.eq)(e)),x.getOrElse(()=>n.selectedTonesPerStyle)))});var a}))}_selectStyle(e){this._state.lens("stagingVoiceProfile").modify(x.map(t=>Object.assign(Object.assign({},t),{selectedStyle:e})))}_selectRole(e){this._state.lens("stagingVoiceProfile").modify(x.map(t=>Object.assign(Object.assign({},t),{selectedRole:e})))}_selectDialect(e){this._state.lens("stagingVoiceProfile").modify(x.map(t=>Object.assign(Object.assign({},t),{selectedDialect:e})))}_editNewVoiceSelections(){this._updateNewProfileStateIfAny(e=>Object.assign(Object.assign({},e),{stagingSelections:x.some({selectedDialect:e.selectedDialect,selectedRole:e.selectedRole})}))}_cancelNewVoiceSelectionChanges(){this._updateNewProfileStateIfAny(e=>Object.assign(Object.assign({},e),{stagingSelections:x.none}))}_saveNewVoiceSelections(){this._updateNewProfileStateIfAny(e=>Object.assign(Object.assign({},e),{selectedDialect:Object(w.pipe)(e.stagingSelections,x.fold(()=>e.selectedDialect,e=>e.selectedDialect)),selectedRole:Object(w.pipe)(e.stagingSelections,x.fold(()=>e.selectedRole,e=>e.selectedRole)),stagingSelections:x.none}))}_selectNewVoiceRole(e){this._updateNewProfileStateIfAny(t=>Object.assign(Object.assign({},t),{stagingSelections:Object(w.pipe)(t.stagingSelections,x.map(t=>Object.assign(Object.assign({},t),{selectedRole:x.some(e)})))}))}_selectNewVoiceDialect(e){this._updateNewProfileStateIfAny(t=>Object.assign(Object.assign({},t),{stagingSelections:Object(w.pipe)(t.stagingSelections,x.map(t=>Object.assign(Object.assign({},t),{selectedDialect:e})))}))}_updateNewProfileStateIfAny(e){this._state.lens("stagingNewVoiceProfile").modify(x.map(e))}_keepVoiceTagPopover(){this._params.userActionTrackingService.trackVoiceProfileKeepTag(),this._closeVoiceTagPopover()}_closeVoiceTagPopover(){this._updateNewProfileStateIfAny(e=>Object.assign(Object.assign({},e),{activeTagId:x.none}))}_toggleVoiceTag({tagName:e,sectionName:t,profileName:n}){this._updateNewProfileStateIfAny(a=>Object.assign(Object.assign({},a),{activeTagId:x.toNullable(a.activeTagId)===ke.createId({tagName:e,sectionName:t,profileName:n})?x.none:x.some(ke.createId({tagName:e,sectionName:t,profileName:n}))}))}_removeVoiceTag({tagName:e,profileName:t,sectionName:n}){this._params.userActionTrackingService.trackVoiceProfileRemoveTag(),this._updateNewProfileStateIfAny(a=>Object.assign(Object.assign({},a),{profiles:Object(w.pipe)(a.profiles,N.ub(a=>a.name===t?Object.assign(Object.assign({},a),{sections:a.sections.map(t=>t.name===n?Object.assign(Object.assign({},t),{tags:t.tags.filter(t=>t.name!==e)}):t)}):a))}))}_switchNewVoiceProfileTab(e){this._updateNewProfileStateIfAny(t=>Object.assign(Object.assign({},t),{activeProfileName:x.some(e)}))}_trySaveNewProfileIfChanged(){Object(w.pipe)(M.a(x.option)({editedVoiceProfile:this._state.view("stagingNewVoiceProfile").get(),sessionVoiceProfile:Object(w.pipe)(this._params.genAISessionService.get(),x.chain(e=>se.toStarted(e.session.get())),x.map(e=>e.voiceProfile),x.chain(we.toNewVoiceProfile))}),x.filter(({editedVoiceProfile:e,sessionVoiceProfile:t})=>!we.NewSelections.eqByRoleDialectProfileAndIsEnabledByDefault.equals(e,t)),x.map(({editedVoiceProfile:e})=>{const t=x.toNullable(this._params.genAISessionService.get());t&&Object(Oe.b)("setNewVoiceProfile",t.setNewVoiceProfile({selectedDialect:e.selectedDialect,selectedRole:e.selectedRole,isEnabledByDefault:e.isEnabledByDefault,profiles:e.profiles}),this._params.logger)}))}}function er(e,t){return Object(w.pipe)(e,b.g.chain(se.toStarted),b.g.filter(e=>Object(w.pipe)(t?e.activeBoundaryContext.specialView:e.activeContext.specialView,b.g.forAll(({kind:e})=>"aiUsageAlert"!==e))),b.g.map(e=>t?e.activeBoundaryContext.availableActions:e.activeContext.availableActions),b.g.chain(D.F),b.g.alt(()=>Object(w.pipe)(e,b.g.chain(se.toContextless),b.g.map(({nonContextualActions:e})=>e),b.g.chain(D.F))))}function tr(e,t){return Object(w.pipe)(se.toStarted(e),b.g.chain(e=>Object(w.pipe)(function(e){return Object(w.pipe)(e.split(/\s/).filter(e=>e.length>3&&e.includes(".")),D.E)}(t),b.g.map(N.P(t=>{var n;return null!==(n=e.detectedReferences.get(t))&&void 0!==n?n:b.g.none})),b.g.chain(D.F))))}(Qa=Xa||(Xa={})).eq=b.b.getEq(b.c.eqString,ce.a.Id.eq),Qa.card=function(e){return b.b.right(e)},Qa.uiItem=function(e){return b.b.left(e)},Qa.toCard=function(e){return b.g.fromEither(e)},Qa.toUIItem=function(e){return Object(w.pipe)(e,b.b.fold(b.g.some,()=>b.g.none))};var nr,ar,rr=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{c(a.next(e))}catch(e){i(e)}}function s(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))},ir=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};!function(e){let t;!function(e){e.make=function(e){return{kind:"regularAction",action:e}},e.ordByActionStore=z.contramap(e=>e.action.store.rank)(z.ordNumber)}(t=e.RegularAction||(e.RegularAction={}))}(nr||(nr={})),(ar||(ar={})).create=function(){return{textBox:"",selectedAction:x.none,promptAutofocusToken:0,cardsState:{hoveredCard:x.none,focusedCard:x.none},reportMenuVisible:x.none,referencesVisibility:new Map,detectedReferences:x.none,overrideCardVoice:new Map}};class or{constructor(e){this._params=e,this._state=c.a.create(ar.create()),this._subs=new ut.a,this._reportMenuVisibleDebounced=c.a.create(x.none),this._disposed=new o.a.Subject,this._genAISession=c.a.create(x.none),this._paramsStateDeps=c.a.combine(this._params.userService.user,this._params.genAIAvailability,this._genAISession,this._params.routingViewModel.activeView,this._params.themeViewModel.theme.view("flatUI"),(e,t,n,a,r)=>({user:e,genAIAvailability:t,genAISession:n,activeView:a,flatUI:r})),this.state=c.a.combine(this._state,this._paramsStateDeps,this._reportMenuVisibleDebounced,this._params.textIsEmpty,(e,t,n,a)=>{var{cardsState:r,reportMenuVisible:i,textBox:o}=e,s=ir(e,["cardsState","reportMenuVisible","textBox"]),c=t.user,l=t.genAIAvailability,u=t.genAISession,d=t.activeView,p=t.flatUI;return Object.assign(Object.assign({},s),{textBox:o,user:c,userCanSignIn:!me(c)&&!!this._params.userService.signIn,genAIAvailability:l,genAISession:u,userPromptAction:Object(w.pipe)(u,x.chain(se.toStarted),x.chain(e=>e.activeContext.userPromptAction),x.map(e=>Object.assign(Object.assign({},e),{arg:Object.assign(Object.assign({},e.arg),{kind:"string",label:p?Object(w.pipe)(a,x.fold(()=>"",Object(V.c)("Try “Write an ode to the em dash”","Try “Is it persuasive?“"))):"string"===e.arg.kind?e.arg.label:"Tell us to..."})}))),activeCards:new Set(Object(w.pipe)([r.hoveredCard,Object(w.pipe)(r.focusedCard,x.alt(()=>Object(w.pipe)(n,x.chain(Xa.toCard))))],N.B)),canScroll:x.isNone(i),contextualActions:er(u,"home"===d.kind)})}),this._subs.add(this.state.subscribe(e=>this._params.logger.debug("assistant view model state updated",e))),this._subs.add(this._params.genAISessionService.pipe(o.a.switchMap(x.fold(()=>o.a.of(x.none),e=>e.session.view(x.some)))).subscribe(s.b.toAtom(this._genAISession))),this._params.hasRevision||this._subs.add(this._showErrorOnSessionStart().subscribe()),this._subs.add(o.a.mergeStatic(this._state.view("reportMenuVisible").pipe(o.b.compact,o.a.map(x.some)),this._state.view("reportMenuVisible").pipe(o.a.skipBy(x.getEq(Xa.eq)),o.a.debounceTime(250),o.a.filter(x.isNone))).subscribe(s.b.toAtom(this._reportMenuVisibleDebounced))),this._subs.add(this._params.routingViewModel.activeView.subscribe(()=>this._state.modify(Object(w.flow)(Ya.set("reportMenuVisible",x.none),Ya.set("cardsState",{hoveredCard:x.none,focusedCard:x.none}))))),this._subs.add(this._params.assistantUIActions.subscribe(e=>{this._handleUIAction(e)})),this._subs.add(this._params.userService.user.subscribe(e=>{this._handleUserUpdate(e)}))}focusPromptField(){this._state.lens("promptAutofocusToken").modify(e=>e+1)}getContextById(e){var t,n;return null!==(n=null===(t=x.toNullable(this._params.genAISessionService.get()))||void 0===t?void 0:t.getContextById(e))&&void 0!==n?n:x.none}dispose(){this._disposed.next(null),this._disposed.complete(),this._subs.unsubscribe()}_showErrorOnSessionStart(){return o.a.mergeStatic(this._genAISession.view(Object(w.flow)(x.chain(se.toStarting),x.chain(e=>e.error),x.map(()=>this._params.routingViewModel.replace({kind:"error"})))))}_handleUIAction(e){var t,n,a,r;switch(e.kind){case dt.a.Kind.headerCloseButtonClick:return void this._onClose(e);case dt.a.Kind.headerGoBackButtonClick:case dt.a.Kind.radioOptionsCancelButtonClick:return this._goBack();case dt.a.Kind.promptFieldTextChange:return this._updateTextBox(e.text);case dt.a.Kind.actionBrickClick:return this._executeAction(e.action);case dt.a.Kind.promptSubmitButtonClick:return this._go(x.none);case dt.a.Kind.userPromptSubmit:return this._go(x.some(e.prompt));case dt.a.Kind.radioOptionsSubmitButtonClick:return this._submitSelectedAction({selectedRadioOption:e.selectedOption});case dt.a.Kind.generateStopButtonClick:return this._stop();case dt.a.Kind.resultCardInsertButtonClick:return this._insert(e.result,e.selectedVoice);case dt.a.Kind.resultCardCopyButtonClick:return this._copy(e.result,e.selectedVoice);case dt.a.Kind.resultCardCopyToClipboard:return null===(t=x.toNullable(this._params.genAISessionService.get()))||void 0===t?void 0:t.trackResultCopy(e.result.id,e.selectedVoice===ce.a.GeneratedTextVoice.user);case dt.a.Kind.resultCardRephraseButtonClick:return this._rephrase(e.result,e.selectedVoice);case dt.a.Kind.resultCardDismissButtonClick:return this._dismissResult(e.result);case dt.a.Kind.errorCardDismissButtonClick:return this._dismissError();case dt.a.Kind.reportOffensiveResultButtonClick:return this._reportOffensiveResult(e.result);case dt.a.Kind.reportOffensiveActionsButtonClick:return this._reportOffensiveActions();case dt.a.Kind.resultCardHeaderClick:return this._clickResultHeader(e.prompt);case dt.a.Kind.creditsInfoHover:return this._params.userActionTrackingService.trackUsageInfoHover();case dt.a.Kind.creditsInfoClick:return this._onCreditsInfoClick();case dt.a.Kind.resultCardHoverChange:return this._onCardHover(e.resultId,e.hovered);case dt.a.Kind.resultCardFocusChange:return this._onCardFocus(e.resultId,e.focused);case dt.a.Kind.resultCardToggleGenericVoiceButtonClick:return this._onToggleGenericVoice(e.resultId,e.voice);case dt.a.Kind.reportMenuVisibilityChange:return this._onCardReportMenuVisibilityChange(e.trigger,e.visible);case dt.a.Kind.referencesVisibilityChange:return this._onCardReferencesVisibilityChange(e.resultId,e.visible);case dt.a.Kind.regenerateWithoutReferenceButtonClick:return this._regenerateWithoutReference(e.result,e.referenceId,e.selectedVoice);case dt.a.Kind.mount:return this._handleMount(e);case dt.a.Kind.promptFieldKeyPressEscape:return this._onPromptFieldKeyPressEscape(e);case dt.a.Kind.promptFieldKeyPressEnter:return this._checkForGenAIUnavailableError(),"ready"!==e.fieldReadyState||u.a.isUnavailable(this.state.view("genAIAvailability").get())?void 0:e.text.trim().length>0?this._go(x.none):this._tryInsertLatestResult();case dt.a.Kind.restoreHistoryButtonClick:return this._handleHistoryButtonClick();case dt.a.Kind.removeSelectionContextClick:return null===(n=x.toNullable(this._params.genAISessionService.get()))||void 0===n?void 0:n.dismissActiveBoundaryContext();case dt.a.Kind.selectionContextInteraction:return this._params.textEditorService.setContextHighlight(e.range,e.visibility);case dt.a.Kind.signInButtonClick:return null===(r=(a=this._params.userService).signIn)||void 0===r?void 0:r.call(a);default:return}}_handleHistoryButtonClick(){Object(w.pipe)(this._genAISession.get(),x.chain(se.toStarted),x.map(e=>x.isSome(e.inProgressResult)||e.results.length>0),x.map(e=>{var t;e?this._params.routingViewModel.push({kind:"thread"}):(null===(t=x.toNullable(this._params.genAISessionService.get()))||void 0===t||t.restoreHistory(),this._subs.add(this._genAISession.view(x.chain(se.toStarted)).pipe(o.b.compact,o.a.filter(e=>void 0!==e.results.find(ce.a.isHistory)),o.a.take(1)).subscribe(()=>this._params.routingViewModel.push({kind:"thread"}))))}))}_handleMount(e){if(e.name===ft.a.creditsInfoButton){me(this._params.userService.user.get())?this._subscribeToCommand(()=>this._params.uphookService.trackUphookShown("grammarlyGoPrompts"),e=>Object(oe.q)({rawError:Object(ye.b)(e)})):this._params.monitoringService.notify(Object(ie.a)(Object(oe.q)({rawError:Object(ye.b)("User is logged out, there should be no uphook")})))}else e.name===ft.a.historyButtonActive&&this._params.userActionTrackingService.trackHistoryButtonView()}_handleUserUpdate(e){me(e)?"signedOut"===this._params.routingViewModel.activeView.get().kind&&this._params.routingViewModel.replace({kind:"home"}):this._params.routingViewModel.replace({kind:"signedOut"})}_onCardHover(e,t){this._state.lens("cardsState").lens("hoveredCard").modify(t?()=>x.some(e):x.filter(t=>t!==e))}_onCardFocus(e,t){this._state.lens("cardsState").lens("focusedCard").modify(t?()=>x.some(e):x.filter(t=>t!==e))}_onCardReportMenuVisibilityChange(e,t){this._state.modify(n=>Object.assign(Object.assign({},n),{reportMenuVisible:t?x.some(e):Object(w.pipe)(n.reportMenuVisible,x.filter(t=>!Xa.eq.equals(t,e))),cardsState:Object.assign(Object.assign({},n.cardsState),{hoveredCard:Object(w.pipe)(Xa.toCard(e),x.fold(()=>n.cardsState.hoveredCard,e=>t?n.cardsState.hoveredCard:Object(w.pipe)(n.cardsState.hoveredCard,x.filter(t=>t!==e))))})}))}_onCardReferencesVisibilityChange(e,t){this._state.lens("referencesVisibility").modify(n=>new Map(n).set(e,t))}_onToggleGenericVoice(e,t){this._state.lens("overrideCardVoice").modify(n=>{var a;const r=new Map(n),i=(null!==(a=n.get(e))&&void 0!==a?a:t)===ce.a.GeneratedTextVoice.generic?ce.a.GeneratedTextVoice.user:ce.a.GeneratedTextVoice.generic;return r.set(e,i),this._params.userActionTrackingService.trackMyVoiceCardToggle(i===ce.a.GeneratedTextVoice.user),r})}_onClose(e){dt.a.is(dt.a.Kind.headerCloseButtonClick)(e)&&this._params.userActionTrackingService.trackAssistantClose(),this._params.lifecycleViewModel.onClose()}_goBack(){"followUpPrompt"===this._params.routingViewModel.activeView.get().kind&&this._state.modify(e=>Object.assign(Object.assign({},e),{selectedAction:x.none,textBox:""})),this._params.routingViewModel.pop()}_updateTextBox(e){this._state.lens("textBox").set(e),this._searchReferences(e)}_executeAction(e){var t;if("regularAction"===e.kind)if(e.action.disabled)Object(w.pipe)(e.action.notificationOnAttempt,x.map(e=>{this._params.notificationService.notify(ve.create("information",e,void 0,void 0,5e3)),this._params.userActionTrackingService.trackContexNotification("action")}));else if(Q.isFollowUpQuestionActionInput(e.action)){const t=e.action;this._state.modify(e=>Object.assign(Object.assign({},e),{textBox:"",selectedAction:x.some(t)})),this._params.routingViewModel.push({kind:"followUpPrompt",inputType:X.match({radio:()=>"radio",string:()=>"string"})(e.action.args[0])})}else Q.isQuickActionInput(e.action)?(this._state.modify(e=>Object.assign(Object.assign({},e),{selectedAction:x.none,textBox:""})),null===(t=x.toNullable(this._params.genAISessionService.get()))||void 0===t||t.submitAction(e.action,x.toUndefined(this._lastResultSelectedVoice())),this._params.routingViewModel.push({kind:"thread"})):Object(V.p)(Q.isSkillAction,Q.isToneAction,Q.isPlagiarismAction,Q.isWritingExpertAction)(e.action)||Object(I.d)(e.action);else"allResults"===e.kind?this._checkForGenAIUnavailableError():"go"===e.kind?this._go(x.none):Object(I.d)(e)}_handleAIUsageNotificationOnPromptSubmit(){Object(w.pipe)(this._genAISession.get(),x.chain(se.toStarted),x.chain(e=>e.activeContext.specialView),x.filter(e=>"aiUsageAlert"===e.kind),x.map(()=>this._params.userActionTrackingService.trackAINotificationDismiss("document")))}_checkForGenAIUnavailableError(){Object(w.pipe)(this._params.genAISessionService.get(),x.map(e=>e.session.get()),x.chain(e=>e.error),x.map(()=>{this._params.notificationService.notify(ve.create("information","Generative AI features are temporarily unavailable."))}))}_go(e){var t;x.isSome(e)?(this._handleAIUsageNotificationOnPromptSubmit(),null===(t=x.toNullable(this._params.genAISessionService.get()))||void 0===t||t.submitAction(e.value,x.toUndefined(this._lastResultSelectedVoice())),this._params.routingViewModel.push({kind:"thread"})):x.isSome(this._state.get().selectedAction)?this._submitSelectedAction({textBox:this._state.get().textBox}):(this._handleAIUsageNotificationOnPromptSubmit(),this._submitUserPromptAction())}_stop(){var e,t;return rr(this,void 0,void 0,(function*(){yield null===(t=null===(e=x.toNullable(this._params.genAISessionService.get()))||void 0===e?void 0:e.stopInProgressResult())||void 0===t?void 0:t();Object(w.pipe)(this._genAISession.get(),x.fold(w.constFalse,se.fold({starting:w.constFalse,contextless:w.constFalse,started:e=>0===e.results.length})))&&"thread"===this._params.routingViewModel.activeView.get().kind&&this._params.routingViewModel.pop()}))}_insert(e,t){Object(Oe.b)("insertText",this._params.textEditorService.insertText(Object(Ie.a)(Object(w.pipe)(e.replacementDelta,P.fold(w.identity,e=>t===ce.a.GeneratedTextVoice.user?e.user:e.generic)),"")),this._params.logger,()=>{var n;return null===(n=x.toNullable(this._params.genAISessionService.get()))||void 0===n?void 0:n.trackResultInsert(e.id,t===ce.a.GeneratedTextVoice.user)},t=>this._params.monitoringService.notify(Object(ie.a)(Object(oe.h)({resultId:e.id,rawError:Object(ye.b)(t)}))))}_copy(e,t){this._subscribeToCommand(()=>this._params.textEditorService.copyText(Object(Ie.a)(Object(w.pipe)(e.replacementDelta,P.fold(w.identity,e=>t===ce.a.GeneratedTextVoice.user?e.user:e.generic)),"")),t=>Object(oe.c)({resultId:e.id,rawError:Object(ye.b)(t)}),()=>{var n,a;return null===(a=null===(n=x.toNullable(this._params.genAISessionService.get()))||void 0===n?void 0:n.trackResultCopy)||void 0===a?void 0:a.call(n,e.id,t===ce.a.GeneratedTextVoice.user)})}_subscribeToCommand(e,t,n=w.constVoid){try{o.a.from(e()).pipe(o.a.take(1),o.a.takeUntil(this._disposed)).subscribe(n,e=>this._params.monitoringService.notify(Object(ie.a)(t(e))))}catch(e){this._params.monitoringService.notify(Object(ie.a)(t(e)))}}_tryInsertLatestResult(){Object(w.pipe)(this._genAISession.get(),x.chain(se.toStarted),x.map(e=>e.results),x.chain(N.ib),x.filter(ce.a.isStandardCompletedResult),x.map(e=>this._insert(e,Object(w.pipe)(this._lastResultSelectedVoice(),x.getOrElse(()=>ce.a.GeneratedTextVoice.generic)))))}_onPromptFieldKeyPressEscape(e){e.menuOpened||Object(w.pipe)(this._genAISession.get(),x.chain(se.toStarted),x.chain(e=>e.inProgressResult),x.fold(()=>this._onClose(e),()=>this._stop()))}_rephrase(e,t){var n;null===(n=x.toNullable(this._params.genAISessionService.get()))||void 0===n||n.regenerateResult(e.id,{omitReferenceIds:x.none},t)}_dismissResult(e){var t;null===(t=x.toNullable(this._params.genAISessionService.get()))||void 0===t||t.dismissResult(e.id),this._state.modify(t=>Object.assign(Object.assign({},t),{reportMenuVisible:Object(w.pipe)(t.reportMenuVisible,x.filter(t=>!Xa.eq.equals(t,Xa.card(e.id)))),cardsState:{hoveredCard:Object(w.pipe)(t.cardsState.hoveredCard,x.filter(t=>t!==e.id)),focusedCard:Object(w.pipe)(t.cardsState.hoveredCard,x.filter(t=>t!==e.id))}}));Object(w.pipe)(this._genAISession.get(),x.fold(w.constFalse,se.fold({starting:w.constFalse,contextless:w.constFalse,started:e=>0===e.results.length&&x.isNone(e.inProgressResult)})))&&"thread"===this._params.routingViewModel.activeView.get().kind&&this._params.routingViewModel.pop()}_dismissError(){var e;null===(e=x.toNullable(this._params.genAISessionService.get()))||void 0===e||e.dismissError()}_reportOffensiveResult(e){var t;null===(t=x.toNullable(this._params.genAISessionService.get()))||void 0===t||t.trackResultOffensive(e.id)}_reportOffensiveActions(){var e;null===(e=x.toNullable(this._params.genAISessionService.get()))||void 0===e||e.trackActionsOffensive()}_clickResultHeader(e){this._state.modify(t=>Object.assign(Object.assign({},t),{textBox:e,promptAutofocusToken:t.promptAutofocusToken+1}))}_onCreditsInfoClick(){this._params.userActionTrackingService.trackUsageInfoClick();me(this._params.userService.user.get())?(this._subscribeToCommand(()=>this._params.uphookService.trackUphookClicked("grammarlyGoPrompts"),e=>Object(oe.p)({rawError:Object(ye.b)(e)})),this._subscribeToCommand(()=>this._params.uphookService.executeUphook("grammarlyGoPrompts"),e=>Object(oe.p)({rawError:Object(ye.b)(e)}))):this._params.monitoringService.notify(Object(ie.a)(Object(oe.p)({rawError:Object(ye.b)("User is logged out, there should be no uphook")})))}_submitSelectedAction(e){Object(w.pipe)(this._state.get().selectedAction,x.chain(t=>Object(w.pipe)(t.args[0],X.match({string:()=>{var n;return Object(w.pipe)(x.fromNullable(null===(n=e.textBox)||void 0===n?void 0:n.trim()),x.filter(e=>e.length>0),x.map(e=>Q.FollowUpQuestionActionValue.fromTextInput(t,e)))},radio:()=>Object(w.pipe)(x.fromNullable(e.selectedRadioOption),x.map(e=>Q.FollowUpQuestionActionValue.fromRadioInput(t,e)))}))),x.map(e=>{var t;this._state.modify(e=>Object.assign(Object.assign({},e),{selectedAction:x.none,textBox:""})),null===(t=x.toNullable(this._params.genAISessionService.get()))||void 0===t||t.submitAction(e,x.toUndefined(this._lastResultSelectedVoice())),x.isSome(e.generatesTextType)&&(this._popFollowUpPromptViews(),"home"===this._params.routingViewModel.activeView.get().kind&&this._params.routingViewModel.push({kind:"thread"}))}))}_lastResultSelectedVoice(){return Object(w.pipe)(this._genAISession.get(),x.chain(se.toStarted),x.map(e=>e.results),x.chain(N.ib),x.chain(e=>x.fromNullable(this._state.lens("overrideCardVoice").view(t=>t.get(e.id)).get())))}_submitUserPromptAction(){Object(w.pipe)(this._state.get().textBox.trim(),x.fromPredicate(e=>""!==e),x.chain(e=>Object(w.pipe)(this._genAISession.get(),x.chain(se.toStarted),x.chain(t=>Object(w.pipe)(t.activeContext.userPromptAction,x.map(n=>({text:e,session:t,userPromptAction:n})))))),x.map(({text:e,session:t,userPromptAction:n})=>{var a;this._state.lens("textBox").set(""),null===(a=x.toNullable(this._params.genAISessionService.get()))||void 0===a||a.submitAction(Q.UserPromptActionValue.fromInput(n,e,Object(w.pipe)(tr(t,e),x.map(N.P(e=>Object(w.pipe)(e.url,x.map(t=>({url:t,referenceId:e.id}))))),x.chain(D.E)),x.none),x.toUndefined(this._lastResultSelectedVoice())),this._popFollowUpPromptViews(),"home"===this._params.routingViewModel.activeView.get().kind&&this._params.routingViewModel.push({kind:"thread"})}))}_popFollowUpPromptViews(){for(;"followUpPrompt"===this._params.routingViewModel.activeView.get().kind;)this._params.routingViewModel.pop()}_regenerateWithoutReference(e,t,n){var a;null===(a=x.toNullable(this._params.genAISessionService.get()))||void 0===a||a.regenerateResult(e.id,{omitReferenceIds:x.some([t])},n)}_searchReferences(e){Object(w.pipe)(function(e){return Object(w.pipe)(e.split(/\s/).filter(e=>e.length>3&&e.includes(".")),D.E)}(e),x.map(e=>e.forEach(e=>{var t;return null===(t=x.toNullable(this._params.genAISessionService.get()))||void 0===t?void 0:t.searchReferences(e)})))}}var sr=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{c(a.next(e))}catch(e){i(e)}}function s(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))};class cr{constructor(e){this._params=e,this._sub=new ut.a,this._heightBehavior=c.a.create({kind:"fitContent",maxHeight:676}),this._widthBehavior=c.a.create({kind:"fitContent",minWidth:432,maxWidth:432}),this._dragBehavior=c.a.create({kind:"notDraggable"}),this._size=c.a.create(null),this._focusState=c.a.create({isFocused:!0}),this.heightBehavior=this._heightBehavior.view(),this.widthBehavior=this._widthBehavior.view(),this.dragBehavior=this._dragBehavior.view(),this.size=this._size.view(),this._onStart(),this._sub.add(this._params.lifecycleService.sizeBehavior.subscribe(e=>{var t;this._heightBehavior.set("fitContent"===e.heightBehavior.kind?{kind:e.heightBehavior.kind,maxHeight:null!==(t=e.heightBehavior.maxHeight)&&void 0!==t?t:676,height:e.heightBehavior.height}:{kind:e.heightBehavior.kind}),this._widthBehavior.set(function(e){var t,n,a,r;return"fitContent"===e.widthBehavior.kind?{kind:e.widthBehavior.kind,minWidth:null!==(t=e.widthBehavior.minWidth)&&void 0!==t?t:(r=e.widthBehavior.maxWidth,null!==r&&r<432?r:432),maxWidth:null!==(n=e.widthBehavior.maxWidth)&&void 0!==n?n:(a=e.widthBehavior.minWidth,a&&a>432?a:432)}:{kind:e.widthBehavior.kind}}(e))})),this._sub.add(this._params.lifecycleService.dragBehavior.subscribe(s.b.toAtom(this._dragBehavior))),this._sub.add(this._focusState.pipe(o.a.debounceTime(100),o.a.distinctUntilKeyChanged("isFocused")).subscribe(e=>{Se(this._params.lifecycleService.focusStateChanged(e)).catch(t=>this._params.monitoringService.notify(Object(ie.a)(Object(oe.j)({focusState:e,rawError:Object(ye.b)(t)}))))}))}_onStart(){return sr(this,void 0,void 0,(function*(){try{const e=yield Se(this._params.lifecycleService.starting());this._params.metricService.report({name:"assistant_lifecycle_starting",labels:void 0},void 0,e)}catch(e){this._params.monitoringService.notify(Object(ie.a)(Object(oe.l)({rawError:Object(ye.b)(e)})))}}))}onMount(e){return sr(this,void 0,void 0,(function*(){try{const t=yield Se(this._params.lifecycleService.visuallyReady({content:e}));this._params.metricService.report({name:"assistant_lifecycle_visually_ready",labels:void 0},["assistant_lifecycle_starting"],t),this._params.onMount()}catch(e){this._params.monitoringService.notify(Object(ie.a)(Object(oe.m)({rawError:Object(ye.b)(e)})))}}))}onHeaderMount(e){return sr(this,void 0,void 0,(function*(){if("draggable"===this._dragBehavior.get().kind)try{const t=yield Se(this._params.lifecycleService.readyToDrag({dragHandle:e}));this._params.metricService.report({name:"assistant_lifecycle_ready_to_drag",labels:void 0},["assistant_lifecycle_starting"],t)}catch(e){this._params.monitoringService.notify(Object(ie.a)(Object(oe.k)({rawError:Object(ye.b)(e)})))}}))}onFocus(e){this._focusState.set({isFocused:e})}onClose(){return sr(this,void 0,void 0,(function*(){try{yield new Promise(e=>setTimeout(e)),yield this._params.lifecycleService.close()}catch(e){this._params.monitoringService.notify(Object(ie.a)(Object(oe.i)({rawError:Object(ye.b)(e)})))}}))}onRectChange(e){this._size.set({width:e.width,height:e.height})}dispose(){this._sub.unsubscribe()}}class lr{constructor(e,t){this._initialViewStack=e,this._viewEq=t,this._viewStack=c.a.create(this._initialViewStack),this.activeView=this._viewStack.view(D.M)}push(e){this._viewStack.modify(t=>this._viewEq.equals(e,t[0])?t:D.v(e,t))}pop(){this._viewStack.modify(Object(w.flow)(D.kb,([e,t])=>Object(w.pipe)(D.F(t),x.getOrElse(()=>[e]))))}popUntil(e){this._viewStack.modify(t=>{const n=t.findIndex(e);return Object(w.pipe)(n>=0?x.some(n):x.some(0),x.chain(e=>D.F(t.slice(e))),x.getOrElse(()=>t))})}replace(e){this._viewStack.modify(t=>Object(w.pipe)(D.v(e,D.hb(t))))}has(e){return this._viewStack.view(t=>void 0!==t.find(t=>this._viewEq.equals(t,e)))}}class ur{constructor(e){this._subs=new o.a.Subscription,this._state=c.a.create({isEmpty:x.none,hasBeenNonEmpty:x.none}),this.state=this._state.view(),this._subs.add(o.a.from(e.textEditorService.trimmedTextLength).pipe(o.a.map(e=>0===e)).subscribe(e=>{this._state.modify(t=>({isEmpty:x.some(e),hasBeenNonEmpty:e?t.hasBeenNonEmpty:x.some(!0)}))}))}dispose(){this._subs.unsubscribe()}}class dr{constructor(e,t=!1){this._theme=e,this._revisionEnabled=t,this.theme=this._theme.view(e=>Object.assign(Object.assign({},T.a),e)).view(e=>Object.assign(Object.assign({},e),{flatUI:!!this._revisionEnabled||e.flatUI}))}}class pr{constructor(e){this._params=e,this.isGrammarlyInstitutionMember=this._params.userService.user.view(pe),this.isPremium=this._params.userService.user.view(fe)}}function mr(e){var t,n,a;const r=null!==(t=e.logger)&&void 0!==t?t:new i.a("Assistant");r.debug("Creating Assistant view-models");const l="revision"===e.kind?c.a.create({kind:u.a.Kind.disabled}).view():e.genAIAvailabilityService.availability,d=new o.a.Subscription,p=new A.a,m=new st({lifecycleService:e.lifecycleService,monitoringService:e.monitoringService,experience:e.kind,logger:r}),f=new lt(e.capiService,l),h="revision"!==e.kind?c.a.create(x.some(new tt(Object.assign(Object.assign({},e),{genAIStartSessionOptions:e.genAIStartSessionOptions,genAIAvailability:l,userActionTrackingService:f,selectionContextAvailability:null===(n=e.selectionContextAvailabilityService)||void 0===n?void 0:n.availability,metricService:m})))):c.a.create(x.none),g=c.a.create(x.none);d.add(h.pipe(o.a.switchMap(x.fold(()=>o.a.of(x.none),e=>e.session.view(x.some)))).subscribe(s.b.toAtom(g))),"revision"!==e.kind&&d.add(g.subscribe(t=>{var n;return null===(n=e.notifyGenAISessionStateChanged)||void 0===n?void 0:n.call(e,Object(w.pipe)(t,x.chain(e=>"contextless"===e.kind?x.none:x.some({kind:e.kind,mode:e.mode,resultCount:"started"===e.kind?e.results.length:0}))))}));const b=new ct;d.add(h.view(x.map(e=>e.registerNotificationHandler(e=>b.notify(e)))).subscribe());const v=new cr({lifecycleService:e.lifecycleService,monitoringService:e.monitoringService,metricService:m,onMount:()=>{var e;return null===(e=x.toNullable(M))||void 0===e?void 0:e.start()}}),y=new lr(function(e,t){var n,a,r;const i=null===(r=null===(a=null===(n=null==e?void 0:e.session)||void 0===n?void 0:n.get)||void 0===a?void 0:a.call(n))||void 0===r?void 0:r.mode;return D.fb(N.B(["toneReport"===t?x.some({kind:"toneReport"}):x.none,"pushRewrite"===i||"quickRewrite"===i?x.some({kind:"thread"}):x.none]),{kind:"home"})}(x.toNullable(h.get()),function(e){if("revision"!==e.kind&&"genAIAndRevision"!==e.kind)return;switch(e.initialView){case void 0:return;case"toneReport":return e.toneDetectorService?e.initialView:void 0;default:Object(I.d)(e.initialView)}}(e)),Ot.eq),O=new dr(null!==(a=e.theme)&&void 0!==a?a:c.a.create(T.a),"genAI"!==e.kind),S=function(e){var t;return Object.assign(e,{trimmedTextLength:o.a.from(null!==(t=e.trimmedTextLength)&&void 0!==t?t:o.a.from(e.textUpdated).pipe(o.a.auditTime(500),o.a.startWith(null),o.a.switchMap(()=>e.getText({start:0,end:Number.MAX_SAFE_INTEGER})()),o.a.map(x.fromEither),o.b.compact,o.a.map(e=>e.trim().length))).pipe(o.a.distinctUntilChanged(),o.a.shareReplay({bufferSize:1,refCount:!0}))})}(e.textEditorService),C=new ur({textEditorService:S}),k=new Ja({assistantUIActions:p,userActionTrackingService:f,genAISessionService:h,routingViewModel:y,logger:r}),E=new pt({assistantUIActions:p,feedbackService:e.feedbackService,monitoringService:e.monitoringService,routingViewModel:y,logger:r}),j=Object(w.pipe)(x.fromNullable("revision"===e.kind||"genAIAndRevision"===e.kind?e.toneDetectorService:void 0),x.map(t=>new jt({assistantUIActions:p,toneDetectorService:t,userService:e.userService,routingViewModel:y}))),_=new pr({userService:e.userService}),M=Object(w.pipe)(x.fromNullable("genAI"!==e.kind?Object.assign(Object.assign({},e),{isAllSuggestionsFeedEnabled:"genAIAndWritingExpert"!==e.kind,isPlagiarismEnabled:"genAIAndWritingExpert"!==e.kind&&e.isPlagiarismEnabled,isWritingExpertEnabled:"genAIAndWritingExpert"===e.kind||e.isWritingExpertEnabled}):void 0),x.map(t=>function(e){var t,n;const a=new o.a.Subscription,r=new o.a.Subject,i=null!==(t=e.sduiService.supportedForms)&&void 0!==t?t:["shortForm","longForm"],s=new o.a.Subject,c=new o.a.Subject,l=new ha({sduiItemCollectionChanges:s,alertCollectionChanges:c,monitoringService:e.monitoringService,sduiEventTransformer:Object(w.flow)(Ca,_a)}),u=new o.a.Subject;a.add(l.state.pipe(ba).subscribe(u));const d=new ca({capiService:e.capiService}),p=new xa({capiService:e.capiService}),m=new sa({sduiItemsCollection:l.state,sduiItemsCollectionDiff:u,selectedAlertId:e.alertService.selectedAlertId,initialForm:i[0],autofocusNextCard:e=>e===On.lensAllSuggestionFeedShortForm,logger:e.logger}),f=new Gn({autofocusNextLongFormCardOnAlertRefEmpty:e.sduiService.autofocusNextLongFormCardOnAlertRefEmpty,autofocusNextLongFormCardOnApplyOrDismiss:e.sduiService.autofocusNextLongFormCardOnApplyOrDismiss,activeFeed:m.feed,relevantInboundCAPIMessages:e.capiService.relevantInboundCAPIMessages,sduiEventsSettled:l.sduiEventsSettled,logger:e.logger});a.add(f.focusFirstCard.subscribe(()=>m.focusFirst()));const h=new qn({feedManager:m,sduiManagerProxy:l,capiService:e.capiService,alertService:e.alertService,plagiarismService:d,writingExpertService:p,textEditorService:e.textEditorService,monitoringService:e.monitoringService,lifecycleService:e.lifecycleService,uphookService:e.uphookService,autofocusManager:f,setEmphasizedAlerts:e=>r.next(new Set(e)),logger:e.logger}),g=null!==(n=e.defaultFeed)&&void 0!==n?n:m.allSuggestionsFeed.pipe(o.b.compact,o.a.take(1),o.a.map(e=>e.id));a.add(g.subscribe(t=>{var n;null===(n=null==e?void 0:e.logger)||void 0===n||n.info("Pushing default feed",t),m.pushFeed(t)}));const b=new Un({feedState:m.feed,resetEmphasizedAlerts:r,alertService:e.alertService,monitoringService:e.monitoringService,logger:e.logger}),v=new Ia({supportedForms:i,feedManager:m}),y=new la({feedManager:m,routingViewModel:e.routingViewModel,uphookService:e.uphookService,feedFormViewModel:v}),O=new Ta({feedManager:m,lastFinishedMessage:e.capiService.relevantInboundCAPIMessages.pipe(o.a.filter(te.a.Finished.is))}),S=new Na({isAllSuggestionsFeedEnabled:e.isAllSuggestionsFeedEnabled,feedManager:m,feedActionService:h,alertVisibilityManager:b,premiumSuggestionsUphookManager:y,feedFormViewModel:v,sduiReset:l.sduiReset,tracking:e.trackingService}),C=new Aa({lastFinishedMessage:e.capiService.relevantInboundCAPIMessages.pipe(o.a.filter(te.a.Finished.is)),sduiEventsSettled:l.sduiEventsSettled}),k=new Va({isAllSuggestionsFeedEnabled:S.isAllSuggestionsFeedEnabled,feedManagerProxy:m,sduiItemsCollection:l.state}),E=o.a.from(e.textEditorService.textUpdated),j=e.capiService.relevantInboundCAPIMessages.pipe(o.a.filter(te.a.AsyncCheckFinished.is)),_=new Ha({uphookService:e.uphookService,feedManager:m,sduiItemsCollectionDiff:u,feedActionService:h,routingViewModel:e.routingViewModel,userViewModel:e.userViewModel,assistantUIActions:e.assistantUIActions,textUpdated:E,lastAsyncCheckFinishedMessage:j,isPlagiarismEnabled:e.isPlagiarismEnabled,plagiarismChecksEnabled:d.plagiarismChecksEnabled}),x=new Wa({feedManager:m,feedActionService:h,sduiItemsCollectionDiff:u,routingViewModel:e.routingViewModel,userViewModel:e.userViewModel,assistantUIActions:e.assistantUIActions,textUpdated:E,lastAsyncCheckFinishedMessage:j,isWritingExpertEnabled:e.isWritingExpertEnabled,writingExpertChecksEnabled:p.writingExpertChecksEnabled}),A=new o.a.Subject;return a.add(A.pipe(o.a.take(1),o.a.switchMap(()=>o.a.mergeStatic(o.a.from(e.sduiService.sduiItemCollectionChanges).pipe(o.a.tap(e=>s.next(e))),o.a.from(e.alertService.alertCollectionChanges).pipe(o.a.tap(e=>c.next(e)))))).subscribe()),{start:()=>A.next(void 0),viewModels:{feed:S,feedLens:O,feedForm:v,checkingState:C,suggestionCount:k,plagiarism:_,writingExpert:x},dispose:()=>{a.unsubscribe(),f.dispose(),y.dispose(),k.dispose(),_.dispose(),x.dispose(),d.dispose(),O.dispose(),C.dispose(),b.dispose(),h.dispose(),m.dispose(),l.dispose()}}}(Object.assign(Object.assign({},t),{routingViewModel:y,userViewModel:_,uphookService:e.uphookService,assistantUIActions:p})))),P=Object(w.pipe)(M,x.map(e=>e.viewModels)),B=new or({assistantUIActions:p,lifecycleViewModel:v,routingViewModel:y,themeViewModel:O,feedbackService:e.feedbackService,genAIAvailability:l,monitoringService:e.monitoringService,genAISessionService:h,textEditorService:S,userActionTrackingService:f,uphookService:e.uphookService,userService:e.userService,notificationService:b,logger:r,hasRevision:x.isSome(P),textIsEmpty:C.state.view("isEmpty")}),L=new _t(g,y.activeView,l,j,Object(w.pipe)(P,x.map(e=>e.plagiarism)),Object(w.pipe)(P,x.map(e=>e.writingExpert)),C.state.view("isEmpty")),F=new Sn(p,L.state.view("contextualActions"),L.state.view("skillActions"),L.state.view("toneAction"),L.state.view("plagiarismAction"),L.state.view("writingExpertAction"),f,()=>x.isSome(B.state.get().selectedAction),()=>B.focusPromptField()),R=new mt(b,p,y.activeView),H=new $a({userSurveyService:e.userSurveyService,assistantUIActions:p}),V=new Ga(p,y,e.monitoringService,"revision"!==e.kind?e.skillService:void 0);"revision"!==e.kind&&e.selectionContextAvailabilityService&&e.selectionContextAvailabilityService.augment(e=>c.a.combine(e,y.activeView,(e,t)=>bt(t)?e:{contextUpdatesClient:!1,contextUpdatesServer:!1}));const U=Object(w.pipe)(x.fromNullable("revision"===e.kind||"genAIAndRevision"===e.kind?e.settingsOptions:void 0),x.map(e=>new za({assistantUIActions:p,routingViewModel:y,options:e}))),W=new gt({assistantUIActions:p,onboardingService:x.fromNullable(e.onboardingService)});return{experience:e.kind,lifecycle:v,assistant:B,textEditor:C,promptActions:L,promptMenu:F,notifications:R,voiceProfile:k,feedbackForm:E,userSurvey:H,skill:V,theme:O,settings:U,revision:P,toneDetector:j,onboarding:W,routing:y,user:_,logger:r,notify:t=>{var n;null===(n=e.notifyAssistantUIAction)||void 0===n||n.call(e,t),p.next(t)},dispose:()=>{var t,n,a,i;r.debug("Disposing of Assistant view-models"),null===(t=e.dispose)||void 0===t||t.call(e),d.unsubscribe(),null===(n=x.toNullable(M))||void 0===n||n.dispose(),C.dispose(),B.dispose(),F.dispose(),R.dispose(),null==k||k.dispose(),E.dispose(),H.dispose(),V.dispose(),m.dispose(),W.dispose(),null===(a=x.toNullable(j))||void 0===a||a.dispose(),null===(i=x.toNullable(h.get()))||void 0===i||i.dispose()}}}Object(I.d)(void 0);var fr=n("M0hr");const hr=e=>E.createElement(Mt.e,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:Pt.D.Color.Green30},e),E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM18.2071 9.20711C18.5976 8.81658 18.5976 8.18342 18.2071 7.79289C17.8166 7.40237 17.1834 7.40237 16.7929 7.79289L10 14.5858L8.20711 12.7929C7.81658 12.4024 7.18342 12.4024 6.79289 12.7929C6.40237 13.1834 6.40237 13.8166 6.79289 14.2071L10 17.4142L18.2071 9.20711Z",stroke:"none"})),gr=e=>E.createElement(Mt.e,Object.assign({width:"24",height:"25",viewBox:"0 0 24 25",fill:"none"},e),E.createElement("path",{d:"M11.9995 11.7307V16.681M11.9995 8.41401V8.43051M20.25 12.5005C20.25 17.0571 16.5562 20.751 11.9995 20.751C7.4429 20.751 3.74902 17.0571 3.74902 12.5005C3.74902 7.94388 7.4429 4.25 11.9995 4.25C16.5562 4.25 20.25 7.94388 20.25 12.5005Z",stroke:"#7CF4D8",strokeLinecap:"round",strokeLinejoin:"round"})),br=_.b.Node.make(({state:e,notify:t})=>E.createElement(It.a.div,{className:yr,"data-id":e.pipe(o.a.map(({id:e})=>e)),onMouseOver:t({kind:"mouseOver"}),onMouseOut:t({kind:"mouseOut"})},e.pipe(o.a.map(e=>{switch(e.kind){case"feedbackSubmitted":return E.createElement(E.Fragment,null,E.createElement(hr,{className:Or}),E.createElement("div",null,"Thanks for the feedback!"));case"voiceTagRemoved":return E.createElement(E.Fragment,null,E.createElement(hr,{className:Or}),E.createElement("div",null,"Removed"));case"information":return E.createElement(E.Fragment,null,E.createElement(gr,{className:Sr}),E.createElement("div",null,e.text));default:return Object(I.d)(e)}})),e.pipe(o.a.map(({id:e})=>E.createElement(fr.a,{name:"notificationClose",onClick:t({kind:"dismissNotification",id:e})}))))),vr=Lt.a.keyframes({from:{transform:`translateY(${Lt.a.rem(.25)})`,opacity:0},to:{transform:"translateY(0)",opacity:1}}),yr=Lt.a.style({background:Pt.D.Color.BlueGray100,color:Pt.D.SemanticColor.Color.Text.Base.Inverse,borderRadius:Lt.a.rem(Pt.D.Radius.Radius1+Pt.D.Radius.RadiusHalf),display:"flex",flexDirection:"row",alignItems:"center",padding:`${Lt.a.rem(Pt.D.Space.Space3)} ${Lt.a.rem(Pt.D.Space.Space3)}`,gap:Lt.a.rem(Pt.D.Space.Space3),fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125),animation:vr+" 0.1s ease-in"}),Or=Lt.a.style(Object.assign({},Object(Ft.c)(1.5))),Sr=Lt.a.style({minWidth:"auto"}),Cr=_.b.List.make(N.h,br),wr=_.b.Grid.make(({slots:e})=>E.createElement("div",{className:Er},e.content)),kr=_.b.Knot.make(wr,{content:Cr}),Er=Lt.a.style({display:"flex",flexDirection:"column",gap:Lt.a.rem(Pt.D.Space.Space2),transition:"top 0.1s ease-in"});var jr,_r=n("plHf");!function(e){e.interactOutside="interactOutside",e.closeButtonClick="closeButtonClick",e.unmount="unmount",e.other="other"}(jr||(jr={}));const xr=_.b.Node.make(({view:e,notify:t})=>E.createElement(It.a.Fragment,null,e("step").pipe(o.a.map(x.fold(w.constNull,e=>E.createElement(_r.a,{key:String(e.stepId),"data-testid":"onboarding-"+String(e.stepId),reference:e.reference,placement:e.placement,offset:e.offset,containerPadding:e.containerPadding,title:e.title,body:e.body,onClose:n=>t({kind:"onboardingStepUnmount",stepId:e.stepId,reason:n in jr?jr[n]:jr.other})(),onMount:t({kind:"onboardingStepMount",stepId:e.stepId})}))))));var Ar=n("koeM"),Ir=n("7IMz"),Tr=n("Jhpk"),Mr=n("jOXU"),Pr=n("mPu6"),Nr=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const Dr=e=>{var{children:t,style:n}=e,a=Nr(e,["children","style"]);const r=E.useContext(Pr.a);return E.createElement(It.a.article,Object.assign({"data-card":!0,className:o.a.combineLatestStatic([r,Object(Mr.a)(n)]).pipe(o.a.map(([{flatUI:e},t])=>Lt.a.style(e?{display:"flex",flexDirection:"column",color:Pt.D.SemanticColor.Color.Text.Base.Default,padding:Lt.a.rem(Pt.D.Space.Space4)}:{display:"flex",flexDirection:"column",padding:Lt.a.rem(Pt.D.Space.Space3),gap:Lt.a.rem(Pt.D.Space.Space2),background:"transparent",border:"0.5px solid "+Pt.D.Color.BlueGray10,borderRadius:Lt.a.rem(Pt.D.Radius.Radius1+Pt.D.Radius.RadiusHalf),backgroundColor:Pt.D.SemanticColor.Color.Background.Base.Default,color:Pt.D.SemanticColor.Color.Text.Base.Default},t)))},a),t)};var Br=n("000W");function Lr(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}var Fr=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const Rr=E.createContext({scrollableContainer:c.a.create(x.none),registerIntersectionObserver:()=>({dispose:w.constVoid}),scrolling:c.a.create(!1)}),Hr=E.forwardRef((function(e,t){var{children:n,className:a,onScroll:r,style:i}=e,l=Fr(e,["children","className","onScroll","style"]);const u=E.useMemo(()=>c.a.create(x.none),[]),d=E.useMemo(()=>new Map,[]),p=E.useCallback(e=>{const t=Array.from(d.entries());for(const[n,{observers:a}]of t)d.set(n,{intersectionObserver:Ur(e,n,a),observers:a})},[d]),m=E.useCallback((e,t,n)=>{var a,r;const i=d.get(e),o=null!==(a=null==i?void 0:i.observers)&&void 0!==a?a:new Map;o.set(t,n);const s=null!==(r=null==i?void 0:i.intersectionObserver)&&void 0!==r?r:Ur(x.toNullable(u.get()),e,o);return d.set(e,{intersectionObserver:s,observers:o}),s.observe(t),{dispose:()=>{const n=d.get(e);n&&(n.intersectionObserver.unobserve(t),n.observers.delete(t),0===n.observers.size&&(n.intersectionObserver.disconnect(),d.delete(e)))}}},[d]);E.useEffect(()=>()=>{d.forEach(e=>{Array.from(e.observers.keys()).forEach(t=>{e.intersectionObserver.unobserve(t)}),e.observers.clear(),e.intersectionObserver.disconnect()}),d.clear()},[]);const f=E.useMemo(()=>c.a.create(0),[]),h=E.useMemo(()=>c.a.create(!1),[]),g=E.useMemo(()=>s.b.toBooleanWithDebounce(f.pipe(o.a.skip(1)),100,!0).pipe(o.a.startWith(!1),o.a.tap(s.b.toAtom(h))),[f,h]);Ir.a.useSubscriptionTo(g);const b=E.useMemo(()=>({scrollableContainer:u,registerIntersectionObserver:m,scrolling:h}),[u,m,h]),v=E.useMemo(()=>c.a.create(x.none),[]),y=E.useMemo(()=>c.a.create(x.none),[]),O=E.useMemo(()=>o.a.combineLatestStatic([Wr(u,v),Wr(u,y)]).pipe(o.a.map(([e,t])=>({topOverflow:e,bottomOverflow:t})),o.a.startWith({topOverflow:!1,bottomOverflow:!1}),o.a.skipBy(W.l({topOverflow:W.e,bottomOverflow:W.e}))),[v,y,u]);return E.createElement(It.a.div,Object.assign({},l,{className:Lt.a.joinClasses([Vr,a]),"data-role":"scroll",mount:Lr([t,e=>{p(e),u.set(x.fromNullable(e))}]),onScroll:e=>{var t,n;null==r||r(e),f.set(null!==(n=null===(t=x.toNullable(u.get()))||void 0===t?void 0:t.scrollTop)&&void 0!==n?n:0)},style:i,"data-overflow-top":O.pipe(o.a.map(e=>e.topOverflow)),"data-overflow-bottom":O.pipe(o.a.map(e=>e.bottomOverflow))}),E.createElement("div",{style:{margin:0,display:"none"},ref:e=>v.set(x.fromNullable(e)),"aria-hidden":!0}),E.createElement(Rr.Provider,{value:b},n),E.createElement("div",{style:{margin:0,display:"none"},ref:e=>y.set(x.fromNullable(e)),"aria-hidden":!0}))})),Vr=Lt.a.style({position:"relative",overflowY:"auto"});function Ur(e,t,n){return new IntersectionObserver(e=>e.forEach(e=>{var t;return null===(t=n.get(e.target))||void 0===t?void 0:t(e)}),{root:e,rootMargin:t})}function Wr(e,t){return c.a.combine(e,t,(e,t)=>Object(w.pipe)(M.b(x.option)(e,t),x.map(([e,t])=>function(e,t){const n={root:e,rootMargin:"0px",threshold:[0,1]};return s.a.getIntersectionObservable(t,n).pipe(o.a.filter(Br.tb),o.a.map(e=>1!==e[0].intersectionRatio),o.a.startWith(t.offsetHeight>e.offsetHeight))}(e,t)))).pipe(o.b.compact,o.a.switchMap(w.identity),o.a.onErrorResumeNext(o.a.of(!0)))}var zr=n("JImy"),Gr=n("RRF2");function qr(e,t=!1){return E.useMemo(()=>e.pipe(o.a.switchMap(x.fold(()=>o.a.of(x.none),e=>{return(t?(n=e,new o.a.Observable(e=>{const t=new zr.default(t=>{e.next(Gr.c.Rect.fromRectLike(t[0].contentRect))});return t.observe(n),()=>t.disconnect()})):s.a.getResizeObservable(e)).pipe(o.a.startWith(e),o.a.map(()=>x.some(e.getBoundingClientRect())));var n}))),[e])}function Kr(e,t){const n=E.useMemo(()=>o.a.combineLatestStatic([t.pipe(o.b.compact,o.a.map(e=>x.fromNullable(function e(t,n=3){if(t&&n>0){const a=function(e){const t=(null===(r=null===(a=(n=e).ownerDocument)||void 0===a?void 0:a.defaultView)||void 0===r?void 0:r.getComputedStyle(n))||null;var n,a,r;return t?"auto"===t.overflow||"scroll"===t.overflow||"auto"===t.overflowY||"scroll"===t.overflowY||"auto"===t.overflowX||"scroll"===t.overflowX:null}(t);return a?t:null===a?null:e(null==t?void 0:t.parentElement,n-1)}return null}(e,3))),o.b.compact),e.pipe(o.a.skipBy(x.getEq(W.h)))]).pipe(o.a.auditTime(0),o.a.map(C.b),o.a.tap(e=>{e.scrollTop=e.scrollHeight-e.clientHeight})),[t]);Ir.a.useSubscriptionTo(n)}const $r="primaryBtn",Zr="rephraseBtn",Yr="dismissBtn",Xr="reportBtn";var Qr=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const Jr=e=>{var{isActive:t,children:n,onHovered:a,onFocused:r,onCopy:i,style:o}=e,s=Qr(e,["isActive","children","onHovered","onFocused","onCopy","style"]);const c=E.useRef(null),l=E.useContext(Pr.a).view("flatUI");return E.createElement(Dr,Object.assign({},s,{mount:c,style:l.view(e=>Object.assign(Object.assign({},ti(e)),o)),"data-active":t,onMouseEnter:()=>null==a?void 0:a(!0),onMouseLeave:()=>null==a?void 0:a(!1),onFocus:()=>{var e;return null==r?void 0:r((null===(e=c.current)||void 0===e?void 0:e.contains(G(document)))||!1)},onBlur:()=>{var e;return null==r?void 0:r((null===(e=c.current)||void 0===e?void 0:e.contains(G(document)))||!1)},onCopy:i}),n)},ei=e=>({backgroundColor:Pt.D.SemanticColor.Color.Background.Base.Default,$nest:{[`& .${Yr}, & .${Xr}`]:e?{}:{opacity:1,pointerEvents:"auto"},["& "+Object(Ft.d)($r,Ft.b)]:e?{}:{color:Pt.D.SemanticColor.Color.Background.Base.Default,backgroundColor:Rt.a.BrandGreen60,border:"1px solid transparent"}}}),ti=e=>Object.assign(Object.assign({backgroundColor:"transparent"},e?{gap:Lt.a.rem(Pt.D.Space.Space2),padding:Lt.a.rem(Pt.D.Space.Space4)}:{}),{$nest:{["& "+Object(Ft.d)($r,Ft.b)]:e?{fontSize:Lt.a.rem(.875)}:{lineHeight:Lt.a.rem(1.125),backgroundColor:Pt.D.SemanticColor.Color.Background.Base.Default,color:Pt.D.SemanticColor.Color.Text.Base.Subdued,border:"1px solid "+Pt.D.Color.BlueGray5,boxSizing:"border-box"},["& "+Object(Ft.d)(Zr,Ft.b)]:e?{fontSize:Lt.a.rem(.875)}:{lineHeight:Lt.a.rem(1.5)},[`& .${Yr}, & .${Xr}`]:e?{}:{opacity:0,pointerEvents:"none",justifyContent:"center"},"&:focus, &:hover":Object.assign({},ei(e)),"&[data-active='true']":Object.assign({},ei(e))}});var ni=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const ai=e=>{var{header:t,footer:n,isActive:a,onHovered:r,onFocused:i,onCopy:o,body:s,style:c}=e,l=ni(e,["header","footer","isActive","onHovered","onFocused","onCopy","body","style"]);return E.createElement(Jr,Object.assign({},l,{"data-card-type":"prompt-result",isActive:a,onHovered:r,onFocused:i,style:c,onCopy:o}),t,s,n)};var ri=n("bjrJ");const ii=Object(At.d)(Hr),oi=e=>{var t;const n=E.useContext(Pr.a),a=E.useMemo(()=>{var t;return null!==(t=e.menuRef)&&void 0!==t?t:o.a.of(x.none)},[e.menuRef]),r=E.useMemo(()=>{var t;return null!==(t=e.scrollContentToBottomToken)&&void 0!==t?t:o.a.of(x.none)},[e.scrollContentToBottomToken]),{onMount:i,ref:s}=Ir.a.useElWatcher(),{onMount:l,ref:u}=Ir.a.useElWatcher();Kr(r,u);const d=qr(s),p=qr(a),m=E.useMemo(()=>c.a.create(!1),[]),f=E.useMemo(()=>u.pipe(o.a.map(x.fold(()=>{m.set(!1)},e=>{m.set(e.scrollTop>0)}))),[u]),h=E.useMemo(()=>e.onRectChange?d.pipe(o.b.compact,o.a.map(t=>{var n;null===(n=e.onRectChange)||void 0===n||n.call(e,t)})):o.a.EMPTY,[d]),g=E.useMemo(()=>{var t;return o.a.combineLatestStatic([p,d,e.heightBehavior,null!==(t=e.menuVerticalMargin)&&void 0!==t?t:o.a.of(void 0)]).pipe(o.a.map(([e,t,n,a])=>Object(w.pipe)(e,x.fold(()=>({sentinelHeight:void 0,menuMaxHeight:void 0}),e=>{if("fitContent"===n.kind){const t=e.height+(null!=a?a:0);return{sentinelHeight:Math.min(n.maxHeight,t),menuMaxHeight:n.maxHeight-(null!=a?a:0)}}return{sentinelHeight:void 0,menuMaxHeight:Object(w.pipe)(t,x.fold(w.constUndefined,e=>Math.max(e.height-(null!=a?a:0),0)))}}))),o.a.startWith({sentinelHeight:void 0,menuMaxHeight:void 0}))},[p,d]),b=E.useMemo(()=>a.pipe(o.b.compactMap(e=>g.pipe(o.a.tap(({menuMaxHeight:t})=>{e.style.setProperty("max-height",t+"px")})))),[g,a]);return Ir.a.useSubscriptionTo(f),Ir.a.useSubscriptionTo(g),Ir.a.useSubscriptionTo(b),Ir.a.useSubscriptionTo(h),E.createElement(ri.a.Provider,{value:{portalContainer:s}},E.createElement(It.a.div,{dir:"ltr","data-testid":"assistant",role:"dialog","aria-label":"Grammarly Assistant","data-dragging":e.dragBehavior.pipe(o.a.map(e=>"draggable"===e.kind&&e.isDragging)),tabIndex:0,onFocus:e.onFocus,onBlur:e.onBlur,className:n.view("flatUI").view(t=>Lt.a.joinClasses([li(t),e.containerClassName])),style:o.a.combineLatestStatic([e.heightBehavior,e.widthBehavior]).pipe(o.a.map(([e,t])=>Object.assign(Object.assign({},"fitContainer"===e.kind?{height:"100%"}:{maxHeight:e.maxHeight,height:e.height}),"fitContainer"===t.kind?{width:"100%"}:{minWidth:t.minWidth,maxWidth:t.maxWidth}))),mount:t=>{var n;i(t),null===(n=e.onMountContainer)||void 0===n||n.call(e,t)}},E.createElement(It.a.header,{className:o.a.combineLatestStatic([m,e.dragBehavior,n.view("flatUI")]).pipe(o.a.map(([e,t,n])=>pi(n,e,"draggable"===t.kind))),"aria-label":"Grammarly Assistant Header",mount:e.onMountHeader},e.header),E.createElement("div",{className:fi,"data-testid":"notifications"},E.createElement(It.a.div,{className:m.view(Object(V.c)(bi,gi))},e.notifications)),E.createElement(ii,{mount:l,className:n.view("flatUI").view(t=>Lt.a.joinClasses([mi(t),e.contentClassName])),onScroll:e=>m.set(e.currentTarget.scrollTop>0),style:(null!==(t=e.canScrollContent)&&void 0!==t?t:o.a.of(!0)).pipe(o.a.map(Object(V.c)("auto","hidden")),o.a.map(e=>({overflowY:e}))),role:"main"},e.content),E.createElement(It.a.footer,{className:n.view("flatUI").view(t=>Lt.a.joinClasses([yi(t),e.footerClassName]))},e.footer),E.createElement(It.a.Fragment,null,g.pipe(o.a.map(({sentinelHeight:e})=>e?E.createElement("div",{key:"sentinel",className:Oi,role:"presentation",style:{height:e}}):null))),e.onboarding))},si="header",ci="content",li=e=>Lt.a.style({overflow:"hidden",fontFamily:"Inter, sans-serif",padding:0,margin:0,borderRadius:"inherit",display:"grid",gridTemplateColumns:"1fr 0",gridTemplateRows:"auto 0 1fr auto",gridTemplateAreas:'"header sentinel" "notifications sentinel" "content sentinel" "footer sentinel"',background:e?Pt.D.SemanticColor.Color.Background.Base.Default:"linear-gradient(180deg, #FCFCFC 0%, #FCFCFC 100%)",$nest:{[`&:has(.${si} [role=button][data-hovered=true])`]:e?{$nest:{["."+si]:{background:"inherit"}}}:void 0,"&[data-dragging='true']":{cursor:"grabbing",$nest:{["."+ci]:{pointerEvents:"none"},["."+si]:{pointerEvents:"none",background:e?Rt.a.ButtonBackgroundTertiaryActive:void 0}}}}}),ui={minWidth:0},di=e=>e?3:2.5,pi=(e,t,n)=>Lt.a.joinClasses([si,Lt.a.style(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ui),{gridArea:"header",display:"flex",alignItems:"center",justifyContent:"space-between",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit",height:Lt.a.rem(di(e)),gap:Lt.a.rem(Pt.D.Space.Space2),padding:`0 ${Lt.a.rem(Pt.D.Space.Space2)} 0 ${Lt.a.rem(e?Pt.D.Space.Space4:Pt.D.Space.Space2)}`,boxSizing:"border-box"}),t&&!e?{borderBottom:"0.5px solid "+Pt.D.Color.BlueGray10}:{}),e?{clipPath:t?"inset(0 0 -5px 0)":void 0,boxShadow:t?Pt.D.Elevation.Elevation100.boxShadow:void 0,borderBottom:t?Pt.D.Elevation.Elevation100.border:"0.5px solid "+Rt.a.BorderBaseSubduedColor,zIndex:t?1:void 0}:{}),{cursor:n?"grab":void 0,position:"relative","--grammarly-app-region":"drag",$nest:{button:{"--grammarly-app-region":"no-drag"},"&:hover":{background:e&&n?Rt.a.ButtonBackgroundTertiaryHover:void 0}}}))]),mi=e=>Lt.a.joinClasses([ci,Lt.a.style(Object.assign(Object.assign(Object.assign({},ui),{gridArea:"content"}),e?{$nest:{"& [data-card] + [data-card]":{borderTop:"0.5px solid "+Rt.a.BorderBaseSubduedColor},'& [data-card-type="prompt-result"] + [data-card-type="prompt-result"]':{borderTop:0,position:"relative",$nest:{"&::before":{content:"''",position:"absolute",top:0,left:Lt.a.rem(1),right:Lt.a.rem(1),borderTop:"0.5px solid "+Rt.a.BorderBaseSubduedColor}}}}}:{display:"flex",flexDirection:"column",gap:Lt.a.rem(Pt.D.Space.Space2),padding:"0 "+Lt.a.rem(Pt.D.Space.Space2)}))]),fi=Lt.a.style({position:"relative",gridArea:"notifications"}),hi={zIndex:1e3,position:"absolute",right:Lt.a.rem(Pt.D.Space.Space2),marginLeft:Lt.a.rem(Pt.D.Space.Space2)},gi=Lt.a.style(Object.assign(Object.assign({},hi),{top:0})),bi=Lt.a.style(Object.assign(Object.assign({},hi),{top:Lt.a.rem(Pt.D.Space.Space1)})),vi=Pt.D.Space.Space2,yi=e=>Lt.a.style(Object.assign(Object.assign(Object.assign({},ui),{gridArea:"footer",borderBottomLeftRadius:"inherit",borderBottomRightRadius:"inherit"}),e?{}:{paddingBottom:Lt.a.rem(vi)})),Oi=Lt.a.style({gridArea:"sentinel",visibility:"hidden"}),Si=E.createContext({notifyUnmount:w.constVoid}),Ci=e=>E.createElement(Mt.e,Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:Rt.a.BrandGreen60},e),E.createElement("path",{d:"M17.1056 9.44721L0.992696 17.5037C0.607324 17.6963 0.174955 17.3439 0.285972 16.9276L1.83393 11.1228C1.93505 10.7436 2.24864 10.4586 2.63576 10.394L9.52041 9.2466C9.79894 9.20018 9.79894 8.79982 9.52041 8.7534L2.63576 7.60596C2.24864 7.54144 1.93505 7.25644 1.83393 6.87723L0.285971 1.07239C0.174955 0.656082 0.607322 0.303661 0.992694 0.496347L17.1056 8.55279C17.4741 8.73705 17.4741 9.26295 17.1056 9.44721Z",stroke:"none"})),wi=e=>E.createElement(Mt.e,Object.assign({width:"32",height:"32",fill:Pt.D.SemanticColor.Color.Text.Base.Subdued,viewBox:"0 0 32 32"},e),E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 16a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm1 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11-3a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-4Z",stroke:"none"}));var ki=n("KqOJ"),Ei=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const ji="#161719",_i="#646B81",xi=e=>{var{children:t,style:n,name:a}=e,r=Ei(e,["children","style","name"]);const[i,o]=E.useState(null),s=E.useCallback(e=>{var t,n;let a=null;"contentDocument"in e.target&&(a=null!==(n=null===(t=e.target.contentDocument)||void 0===t?void 0:t.body)&&void 0!==n?n:null),o(a),a&&(a.style.margin="0",a.style.height="100vh",a.style.overflowY="hidden")},[]),c=E.useContext(Ar.a.Context);return E.useEffect(()=>{const e=c.subscribe(e=>{i&&Ar.a.setRootCssVar(i,x.some(e))});return()=>e.unsubscribe()},[i]),E.createElement(E.Fragment,null,E.createElement("iframe",Object.assign({},r,{style:Object.assign({},n),onLoad:s,srcDoc:"<html><body></body></html>","data-testid":a})),i&&Object(ki.createPortal)(t,i))},Ai=({fitContentHeight:e,text:t,ariaLabel:n,onChange:a,placeholder:r,disabled:i,className:o,onFocus:s,onBlur:c,onKeyDownEnter:l,autofocus:u,onKeyDownArrowUp:d,onKeyDownArrowDown:p,onKeyDownShiftEnter:m,theme:f})=>{var h,g,b,v,y,O,S,C,w,k,j,_,x,A,I,T,M,P,N,D,B,L,F,R,H,V,U,W,z,G,q;const K=1.375*(r?r.length:1)+(null!==(g=null===(h=null==f?void 0:f.paddingRems)||void 0===h?void 0:h.top)&&void 0!==g?g:0)+(null!==(v=null===(b=null==f?void 0:f.paddingRems)||void 0===b?void 0:b.bottom)&&void 0!==v?v:0),[$,Z]=E.useState({kind:"rem",value:K}),[Y,X]=E.useState(null);return E.useEffect(()=>{Y&&void 0!==u&&(Y.focus(),Y.selectionStart=t.length,Y.selectionEnd=t.length)},[u,Y]),E.useLayoutEffect(()=>{if(""===t)Z({kind:"rem",value:K});else{const e=null==Y?void 0:Y.scrollHeight;Z(e?{kind:"px",value:e}:{kind:"rem",value:K})}},[t,Y,r]),E.createElement(xi,{className:o,style:{height:e?"rem"===$.kind?Lt.a.rem($.value):Lt.a.px($.value):void 0,maxHeight:(null==f?void 0:f.maxHeightRems)?Lt.a.rem(f.maxHeightRems):"none",minHeight:(null==f?void 0:f.minHeightRems)?Lt.a.rem(f.minHeightRems):"none"},title:n+" container",name:"textarea-iframe"},E.createElement("style",{dangerouslySetInnerHTML:{__html:`\n      .container {\n        position: relative;\n        width: 100%;\n        height: 100%;\n      }\n      .textarea {\n        box-sizing: border-box;\n        border-radius: ${Lt.a.rem(Pt.D.Radius.Radius1)};\n        overflow-y: auto;\n        padding: ${Lt.a.rem(null!==(O=null===(y=null==f?void 0:f.paddingRems)||void 0===y?void 0:y.top)&&void 0!==O?O:0)} ${Lt.a.rem(null!==(C=null===(S=null==f?void 0:f.paddingRems)||void 0===S?void 0:S.right)&&void 0!==C?C:0)} ${Lt.a.rem(null!==(k=null===(w=null==f?void 0:f.paddingRems)||void 0===w?void 0:w.bottom)&&void 0!==k?k:0)} ${Lt.a.rem(null!==(_=null===(j=null==f?void 0:f.paddingRems)||void 0===j?void 0:j.left)&&void 0!==_?_:0)};\n        width: 100%;\n        height: 100%;\n        border: none;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${null!==(x=null==f?void 0:f.fontSize)&&void 0!==x?x:Lt.a.rem(.875)};\n        font-weight: 400;\n        color: ${null!==(A=null==f?void 0:f.color)&&void 0!==A?A:ji};\n      }\n      .textarea::placeholder {\n        color: ${_i};\n      }\n      .textarea:placeholder-shown {\n        padding: ${(null==f?void 0:f.placeholderPaddingRems)?`${Lt.a.rem(null!==(T=null===(I=f.placeholderPaddingRems)||void 0===I?void 0:I.top)&&void 0!==T?T:0)} ${Lt.a.rem(null!==(P=null===(M=f.placeholderPaddingRems)||void 0===M?void 0:M.right)&&void 0!==P?P:0)} ${Lt.a.rem(null!==(D=null===(N=f.placeholderPaddingRems)||void 0===N?void 0:N.bottom)&&void 0!==D?D:0)} ${Lt.a.rem(null!==(L=null===(B=f.placeholderPaddingRems)||void 0===B?void 0:B.left)&&void 0!==L?L:0)}`:`${Lt.a.rem(null!==(R=null===(F=null==f?void 0:f.paddingRems)||void 0===F?void 0:F.top)&&void 0!==R?R:0)} ${Lt.a.rem(null!==(V=null===(H=null==f?void 0:f.paddingRems)||void 0===H?void 0:H.right)&&void 0!==V?V:0)} ${Lt.a.rem(null!==(W=null===(U=null==f?void 0:f.paddingRems)||void 0===U?void 0:U.bottom)&&void 0!==W?W:0)} ${Lt.a.rem(null!==(G=null===(z=null==f?void 0:f.paddingRems)||void 0===z?void 0:z.left)&&void 0!==G?G:0)}`};\n      }\n      .textarea:focus {\n        outline: none;\n      }\n      .placeholder {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        background: transparent;\n        font-family: Inter, sans-serif;\n        font-size: ${Lt.a.rem(.875)};\n        font-weight: 400;\n        z-index: -1;\n        color: ${_i};\n      }\n      `.replace(/\s/g,"")}}),E.createElement("div",{className:"container"},E.createElement("textarea",{"aria-label":n,className:"textarea",style:{lineHeight:null!==(q=null==f?void 0:f.lineHeight)&&void 0!==q?q:Lt.a.rem(1.375)},value:t,ref:X,onChange:e=>a(e.target.value),placeholder:1===(null==r?void 0:r.length)?r[0]:void 0,disabled:i,onFocus:()=>null==s?void 0:s(),onBlur:()=>null==c?void 0:c(),onKeyDown:e=>{var t;l&&"Enter"===e.key&&!e.shiftKey?(e.preventDefault(),e.stopPropagation(),l()):"ArrowUp"===e.key&&d&&(Ii(t=e.currentTarget)&&0===t.selectionStart)?(e.preventDefault(),e.stopPropagation(),d()):"ArrowDown"===e.key&&p&&function(e){return Ii(e)&&e.selectionStart===e.value.length}(e.currentTarget)?(e.preventDefault(),e.stopPropagation(),p()):"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),e.stopPropagation(),null==m||m())}}),((null==r?void 0:r.length)||0)>1&&""===t?E.createElement("div",{className:"placeholder",style:{lineHeight:Lt.a.rem(1.375)}},(r||[]).map((e,t)=>E.createElement(E.Fragment,{key:t},e,E.createElement("br",null)))):null))};function Ii(e){return e.selectionStart===e.selectionEnd}const Ti="goBtn",Mi="stopBtn",Pi={top:Pt.D.Space.Space2,right:3.5*Pt.D.Space.Space3,bottom:Pt.D.Space.Space2,left:Pt.D.Space.Space3},Ni={top:Pt.D.Space.Space2,right:Pt.D.Space.Space3,bottom:Pt.D.Space.Space2,left:Pt.D.Space.Space3},Di=Lt.a.style({display:"flex",position:"relative",alignItems:"flex-start",padding:0,gap:Lt.a.rem(Pt.D.Space.Space1),justifyContent:"space-between"}),Bi=Lt.a.style({flexGrow:1,paddingTop:Lt.a.rem(Pt.D.Space.Space1+Pt.D.Space.SpaceQuarter)}),Li=Lt.a.style({width:Lt.a.percent(100),border:"none"}),Fi={position:"absolute",bottom:Lt.a.rem(Pt.D.Space.Space2),right:Lt.a.rem(Pt.D.Space.Space3)},Ri=Object(Ft.a)(Fi,Mi),Hi=Object(Ft.a)(Object.assign(Object.assign({},Fi),{$nest:{"&[data-disabled='true']":{opacity:1,$nest:{"& svg":{fill:Pt.D.Color.BlueGray30}}}}}),Ti),Vi=Lt.a.joinClasses([Ti,Lt.a.style(Hi)]),Ui=Lt.a.joinClasses([Mi,Lt.a.style(Ri)]),Wi=_.b.Node.make(({state:e,notify:t})=>{const{notifyUnmount:n}=E.useContext(Si),{onMount:a}=Object(Tr.a)(Object(w.flow)(o.a.tap(e=>t({kind:dt.a.Kind.mount,name:ft.a.promptInput,element:e})()),o.a.finalize(()=>n({kind:dt.a.Kind.unmount,name:ft.a.promptInput})))),r=E.useContext(Pr.a).view("flatUI");return E.createElement(It.a.div,{className:Di,mount:a},E.createElement(It.a.div,{className:Bi},e.pipe(o.a.map(({placeholder:e,kind:n,text:a,autofocusToken:i,genAIAvailability:o})=>E.createElement(Ai,{text:a,theme:{paddingRems:Pi,placeholderPaddingRems:Ni,maxHeightRems:20,minHeightRems:2},ariaLabel:"custom prompt",className:Li,placeholder:"ready"===n?x.toUndefined(e):void 0,fitContentHeight:!0,autofocus:i,onChange:e=>t({kind:dt.a.Kind.promptFieldTextChange,text:e})(),onKeyDownEnter:t({kind:dt.a.Kind.promptFieldKeyPressEnter,text:a,fieldReadyState:n}),onFocus:t({kind:dt.a.Kind.promptFieldFocusChange,focused:!0}),onBlur:t({kind:dt.a.Kind.promptFieldFocusChange,focused:!1}),onKeyDownArrowUp:t({kind:dt.a.Kind.promptFieldKeyPressArrowUp}),onKeyDownArrowDown:t({kind:dt.a.Kind.promptFieldKeyPressArrowDown}),disabled:!r&&u.a.isUnavailable(o)})))),o.a.combineLatestStatic([e,r]).pipe(o.a.map(([{kind:e,text:n,genAIAvailability:a},r])=>u.a.isUnavailable(a)&&r?null:"waitingForResult"===e?E.createElement(Tt.a,{variant:"tertiary",className:Ui,onClick:t({kind:dt.a.Kind.generateStopButtonClick}),name:"generateStop",compact:!0,size:"large"},E.createElement(wi,null)):"ready"===e&&(!r||r&&""!==n.trim())?E.createElement(Tt.a,{variant:"tertiary",className:Vi,onClick:t({kind:dt.a.Kind.promptSubmitButtonClick,text:n}),disabled:""===n.trim()||u.a.isUnavailable(a),name:"promptSend",compact:!0,size:"large"},E.createElement(Ci,null)):null)))}),zi=()=>E.createElement("div",{role:"separator",className:Lt.a.style({position:"relative",width:"100%"})},E.createElement("div",{className:Lt.a.style({position:"absolute",bottom:0,left:Lt.a.rem(fn),right:Lt.a.rem(hn),borderBottom:"0.5px solid "+Rt.a.BorderBaseSubduedColor})})),Gi=_.b.Node.make(({view:e,notify:t})=>E.createElement(It.a.div,{className:qi,"data-testid":"action-store"},e("actionGroups").pipe(o.a.map(e=>e.map(({label:e,actions:n})=>E.createElement("section",{key:e,className:Ki},e.trim().length>0&&E.createElement("h1",{className:$i},e),n.map(({label:e,icon:n,action:a},r)=>E.createElement(E.Fragment,{key:e},0!==r&&E.createElement(zi,null),E.createElement(ln,{key:e,label:e,icon:"regularAction"===a.kind?Q.extractActionIcon(a.action):P.right(n),onClick:t({kind:dt.a.Kind.actionBrickClick,action:a})}))))))))),qi=Lt.a.style({padding:`${Lt.a.rem(2.25)} 0 ${Lt.a.rem(1)} 0`,display:"flex",flexDirection:"column"}),Ki=Lt.a.style({display:"flex",flexDirection:"column"}),$i=Lt.a.style({margin:0,fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.3125),fontWeight:700,padding:`${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(Pt.D.Space.Space4)}`}),Zi=({children:e,style:t})=>{const n=E.useContext(Pr.a);return E.createElement(It.a.h1,{className:o.a.combineLatestStatic([n,Object(Mr.a)(t)]).pipe(o.a.map(([{flatUI:e},t])=>Lt.a.style(e?{color:Pt.D.SemanticColor.Color.Text.Base.Default,margin:0,padding:`0 0 ${Lt.a.rem(Pt.D.Space.Space2)} 0`,fontWeight:700,fontSize:Lt.a.rem(1),lineHeight:Lt.a.rem(1.5),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}:{color:Pt.D.SemanticColor.Color.Text.Base.Subdued,margin:0,fontWeight:400,fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},t)))},e)},Yi=e=>E.createElement(Mt.e,Object.assign({width:"12",height:"15",viewBox:"0 0 12 15"},e),E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 0.5C3.67157 0.5 3 1.17157 3 2V3H0.5C0.223858 3 0 3.22386 0 3.5C0 3.77614 0.223858 4 0.5 4H1.04536L1.82983 12.237C1.95203 13.5201 3.02968 14.5 4.31857 14.5H7.68143C8.97032 14.5 10.048 13.5201 10.1702 12.237L10.9546 4H11.5C11.7761 4 12 3.77614 12 3.5C12 3.22386 11.7761 3 11.5 3H9V2C9 1.17157 8.32843 0.5 7.5 0.5H4.5ZM8 3V2C8 1.72386 7.77614 1.5 7.5 1.5H4.5C4.22386 1.5 4 1.72386 4 2V3H8ZM2.04988 4H9.95012L9.17467 12.1422C9.10135 12.9121 8.45476 13.5 7.68143 13.5H4.31857C3.54524 13.5 2.89865 12.9121 2.82533 12.1422L2.04988 4Z",stroke:"none"})),Xi=({style:e,contentStyle:t,children:n,header:a,onMount:r})=>{const i=E.useContext(Pr.a).view("flatUI");return E.createElement(It.a.section,{className:i.view(t=>Lt.a.style(Qi(t),e)),"data-testid":"action-category",mount:r},a,E.createElement("div",{className:Lt.a.style(Ji,t)},n))},Qi=e=>({background:"white",display:"flex",flexDirection:"column",gap:e?void 0:Lt.a.rem(Pt.D.Space.Space2)}),Ji={display:"flex",flexDirection:"row",flexWrap:"wrap",gap:Lt.a.rem(Pt.D.Space.Space2)},eo=_.b.List.make(N.h,sn);function to(e,t=0){const n=function(e){return e.trim().replace(/\s+/g," ")}(e).split(" ").reduce((e,n,a,r)=>Object.assign(Object.assign({},e),{head:a<r.length-t?e.head.concat(n):e.head,tail:a>=r.length-t?e.tail.concat(n):e.tail}),{head:[],tail:[]});return{head:n.head.join(" "),tail:n.tail.join(" ")}}const no=({children:e,maxTailWordsCount:t=0})=>{const n=to(e,t);return E.createElement("div",{className:ro},E.createElement("span",{className:io},n.head,n.head.length&&n.tail.length?" ":null),n.tail.length?n.tail:null)},ao=({children:e,maxTailWordsCount:t=0})=>{const[n,a]=E.useState(t),{onMount:r,rect:i}=Ir.a.useRectWatcher(),s=E.useRef(null),c=E.useMemo(()=>to(e,n),[n,e]),l=E.useMemo(()=>new o.a.Subject,[]);Ir.a.useSubscriptionTo(E.useMemo(()=>l.pipe(o.a.throttleTime(100),o.a.distinctUntilChanged(),o.a.tap(e=>{a(e)})),[]));const u=E.useMemo(()=>{return e=s.current,parseInt((null===(a=null===(n=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView)||void 0===n?void 0:n.getComputedStyle(e))||void 0===a?void 0:a.fontSize)||(null===(i=null===(r=null==e?void 0:e.ownerDocument)||void 0===r?void 0:r.defaultView)||void 0===i?void 0:i.getComputedStyle(e.ownerDocument.body).fontSize)||"16px",10);var e,t,n,a,r,i},[s.current]);return Ir.a.useSubscriptionTo(E.useMemo(()=>i.pipe(o.b.compact,o.a.distinctUntilChanged(),o.a.filter(e=>Boolean(e.width&&e.height)),o.a.tap(e=>{if(e.width<9*u)l.next(0);else if(s.current&&s.current.clientWidth<s.current.scrollWidth){const a=s.current.clientWidth/(e.width||1/0);n&&a<.4?l.next(n-1):a>.6&&n<t&&l.next(n+1)}})),[i])),E.createElement("div",{className:ro,ref:r},E.createElement("span",{className:io,ref:s},c.head,c.head.length&&c.tail.length?" ":null),c.tail.length?c.tail:null)},ro=Lt.a.style({display:"flex",flexDirection:"row",whiteSpace:"nowrap",maxWidth:"100%",minWidth:0}),io=Lt.a.style({display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",flexShrink:10});const oo=Object(At.d)(({dynamic:e=!1,maxTailWordsCount:t=0,children:n})=>e?E.createElement(ao,{maxTailWordsCount:t},n):E.createElement(no,{maxTailWordsCount:t},n)),so=({active:e,className:t,prefix:n,style:a,children:r})=>E.createElement("h1",{className:Lt.a.joinClasses([uo(void 0!==n,a),t])},e?E.createElement("svg",{viewBox:"0 0 16 16",fill:"none",className:lo,"aria-hidden":"true"},E.createElement("rect",{width:"16",height:"16",rx:"5",fill:"#018374"}),E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 13.5C9.5 13.7761 9.72386 14 10 14H11C12.6569 14 14 12.6569 14 11V10C14 9.72386 13.7761 9.5 13.5 9.5C13.2239 9.5 13 9.72386 13 10V11C13 12.1046 12.1046 13 11 13H10C9.72386 13 9.5 13.2239 9.5 13.5ZM9.5 2.5C9.5 2.77614 9.72386 3 10 3H11C12.1046 3 13 3.89543 13 5V6C13 6.27614 13.2239 6.5 13.5 6.5C13.7761 6.5 14 6.27614 14 6V5C14 3.34315 12.6569 2 11 2H10C9.72386 2 9.5 2.22386 9.5 2.5ZM6 2C6.27614 2 6.5 2.22386 6.5 2.5C6.5 2.77614 6.27614 3 6 3H5C3.89543 3 3 3.89543 3 5V6C3 6.27614 2.77614 6.5 2.5 6.5C2.22386 6.5 2 6.27614 2 6V5C2 3.34315 3.34315 2 5 2H6ZM6 13C6.27614 13 6.5 13.2239 6.5 13.5C6.5 13.7761 6.27614 14 6 14H5C3.34315 14 2 12.6569 2 11V10C2 9.72386 2.22386 9.5 2.5 9.5C2.77614 9.5 3 9.72386 3 10V11C3 12.1046 3.89543 13 5 13H6ZM5.5 6.5C5.5 6.22386 5.72386 6 6 6H10C10.2761 6 10.5 6.22386 10.5 6.5C10.5 6.77614 10.2761 7 10 7H6C5.72386 7 5.5 6.77614 5.5 6.5ZM6 9C5.72386 9 5.5 9.22386 5.5 9.5C5.5 9.77614 5.72386 10 6 10H8.5C8.77614 10 9 9.77614 9 9.5C9 9.22386 8.77614 9 8.5 9H6Z",fill:"white"})):E.createElement("svg",{viewBox:"0 0 16 16",fill:"none",className:lo,"aria-hidden":"true"},E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 13.5C9.5 13.7761 9.72386 14 10 14H11C12.6569 14 14 12.6569 14 11V10C14 9.72386 13.7761 9.5 13.5 9.5C13.2239 9.5 13 9.72386 13 10V11C13 12.1046 12.1046 13 11 13H10C9.72386 13 9.5 13.2239 9.5 13.5ZM9.5 2.5C9.5 2.77614 9.72386 3 10 3H11C12.1046 3 13 3.89543 13 5V6C13 6.27614 13.2239 6.5 13.5 6.5C13.7761 6.5 14 6.27614 14 6V5C14 3.34315 12.6569 2 11 2H10C9.72386 2 9.5 2.22386 9.5 2.5ZM6 2C6.27614 2 6.5 2.22386 6.5 2.5C6.5 2.77614 6.27614 3 6 3H5C3.89543 3 3 3.89543 3 5V6C3 6.27614 2.77614 6.5 2.5 6.5C2.22386 6.5 2 6.27614 2 6V5C2 3.34315 3.34315 2 5 2H6ZM6 13C6.27614 13 6.5 13.2239 6.5 13.5C6.5 13.7761 6.27614 14 6 14H5C3.34315 14 2 12.6569 2 11V10C2 9.72386 2.22386 9.5 2.5 9.5C2.77614 9.5 3 9.72386 3 10V11C3 12.1046 3.89543 13 5 13H6ZM5.5 6.5C5.5 6.22386 5.72386 6 6 6H10C10.2761 6 10.5 6.22386 10.5 6.5C10.5 6.77614 10.2761 7 10 7H6C5.72386 7 5.5 6.77614 5.5 6.5ZM6 9C5.72386 9 5.5 9.22386 5.5 9.5C5.5 9.77614 5.72386 10 6 10H8.5C8.77614 10 9 9.77614 9 9.5C9 9.22386 8.77614 9 8.5 9H6Z",fill:"#646B81"})),n&&E.createElement("span",{className:co},n),E.createElement(oo,{dynamic:!0,maxTailWordsCount:3},r)),co=Lt.a.style({fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125),color:Rt.a.BrandGreen60}),lo=Lt.a.style({width:Lt.a.rem(1),height:Lt.a.rem(1)}),uo=(e,t)=>Lt.a.style(Object.assign({display:"grid",gridTemplateColumns:`${Lt.a.rem(1)} ${e?"min-content ":""}auto`,justifyItems:"start",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space2),color:Pt.D.SemanticColor.Color.Text.Base.Subdued,fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontWeight:"normal",margin:0,height:Lt.a.rem(1.5)},t)),po=_.b.Grid.make(({slots:e,state:t,view:n,notify:a})=>{const r=E.useContext(Pr.a).view("flatUI"),{notifyUnmount:i}=E.useContext(Si),s=E.useRef(null),{onMount:c}=Object(Tr.a)(Object(w.flow)(o.a.withLatestFrom(n("groupId")),o.a.tap(([e,t])=>{t===Q.knownGroup.tools&&(s.current=t,a({kind:dt.a.Kind.mount,name:ft.a.appActionsList,element:e})())}),o.a.finalize(()=>{s.current===Q.knownGroup.tools&&i({kind:dt.a.Kind.unmount,name:ft.a.appActionsList})})));return E.createElement(It.a.Fragment,null,o.a.combineLatestStatic([t,r]).pipe(o.a.map(([{label:t,view:n},a])=>n===Q.Store.View.normal?E.createElement(Xi,{header:e.header,style:a?void 0:vo,key:t,onMount:c},e.actions):n===Q.Store.View.pinned?E.createElement(Xi,{style:a?wo:Co,key:t,onMount:c},e.actions):Object(I.d)(n))))}),mo=_.b.Node.make(({view:e})=>E.createElement(Zi,null,e("label"))),fo=_.b.Node.make(({view:e,notify:t})=>{const n=E.useContext(Pr.a).view("flatUI");return E.createElement(It.a.div,{className:n.view(yo)},E.createElement(so,{active:!0},e("label")),E.createElement(Tt.a,{variant:"tertiary",onClick:t({kind:dt.a.Kind.removeSelectionContextClick}),compact:!0,size:"small",name:"removeContext",title:"Delete"},E.createElement(Yi,{className:So})))}),ho=_.b.Union.make("kind",{default:mo,withSelectionContext:fo}),go=_.b.Knot.make(po,{actions:eo,header:ho}),bo=_.b.List.make(N.h,go),vo={background:"transparent",padding:Lt.a.rem(Pt.D.Space.Space2)+" 0"},yo=e=>Lt.a.style({display:"flex",alignItems:"center",alignContent:"center",justifyContent:"space-between",gap:Lt.a.rem(Pt.D.Space.Space2),marginBottom:e?Lt.a.rem(Pt.D.Space.Space2):void 0}),Oo="ignoreIcon",So=Lt.a.joinClasses([Oo,Lt.a.style(Object(Ft.a)(Object(Ft.c)(1.5),Oo))]),Co=Object.assign(Object.assign({},vo),{padding:Lt.a.rem(Pt.D.Space.Space2)+" 0",marginTop:Lt.a.rem(-Pt.D.Space.Space2),borderTop:"1px solid "+Pt.D.Color.NeutralGray0}),wo={paddingTop:Lt.a.rem(Pt.D.Space.Space2),borderTop:"1px solid "+Pt.D.Color.NeutralGray0},ko=_.b.Grid.make(({slots:e})=>E.createElement(It.a.div,{className:jo,"data-testid":"action-store"},e.content)),Eo=_.b.Union.asOption(_.b.Composite.make(ko,Object(w.pipe)(bo,_.b.patch("header")(()=>mo)))),jo=Lt.a.style({padding:`${Lt.a.rem(Pt.D.Space.Space1)} ${Lt.a.rem(Pt.D.Space.Space3)}`,display:"flex",flexDirection:"column"}),_o=_.b.List.make(N.h,sn),xo=_.b.Grid.make(({slots:e})=>E.createElement("div",{className:Io},e.customPromptGo,E.createElement("div",{className:To},e.searchResults))),Ao=_.b.Knot.make(xo,{searchResults:_o,customPromptGo:sn}),Io=Lt.a.style({background:"transparent",padding:Lt.a.rem(Pt.D.Space.Space3),display:"flex",flexDirection:"column",alignItems:"flex-start",gap:Lt.a.rem(Pt.D.Space.Space2)}),To=Lt.a.style({display:"flex",flexDirection:"row",flexWrap:"wrap",gap:Lt.a.rem(Pt.D.Space.Space2)}),Mo=_.b.Grid.make(({slots:e,view:t,notify:n})=>E.createElement(It.a.div,{className:Do,"data-testid":"search-results"},e.goAction,E.createElement(It.a.div,{className:Lo},t("actions").pipe(o.a.map(e=>e.map(({label:e,icon:t,action:a},r)=>E.createElement(E.Fragment,{key:e},0!==r&&E.createElement(zi,null),E.createElement(ln,{key:e,label:e,icon:"regularAction"===a.kind?Q.extractActionIcon(a.action):P.right(t),onClick:n({kind:dt.a.Kind.actionBrickClick,action:a})})))))))),Po=_.b.Union.asOption(_.b.Composite.make(_.b.Grid.make(({slots:e})=>E.createElement("div",{className:Bo},e.action)),sn)),No=_.b.Knot.make(Mo,{goAction:Po}),Do=Lt.a.style({background:"transparent",display:"flex",flexDirection:"column",alignItems:"flex-start"}),Bo=Lt.a.style({padding:`${Lt.a.rem(9*Pt.D.Space.SpaceQuarter)} ${Lt.a.rem(Pt.D.Space.Space3)} 0 ${Lt.a.rem(Pt.D.Space.Space3)}`}),Lo=Lt.a.style({display:"flex",flexDirection:"column",width:"100%",marginTop:Lt.a.rem(7*Pt.D.Space.SpaceQuarter)}),Fo=_.b.Union.make("kind",{none:_.b.Node.empty,searchResults:No,actionStore:Gi,legacySearchResults:Ao,legacyActionStore:Eo}),Ro=_.b.Knot.make(_.b.Grid.make(({slots:e,notify:t})=>E.createElement(It.a.div,{className:Vo},E.createElement(Tt.a,{variant:"tertiary",compact:!0,style:Uo,onClick:t({kind:dt.a.Kind.collapsePromptMenuButtonClick}),name:"collapsePromptMenu",size:"small"},E.createElement(Mt.d.Arrow,{direction:Mt.a.down})),E.createElement("div",{ref:e=>e&&t({kind:dt.a.Kind.mount,name:ft.a.promptMenuContent,element:e})(),onKeyDown:e=>{"ArrowDown"===e.key?t({kind:dt.a.Kind.promptMenuKeyPressArrowDown})():"ArrowUp"===e.key&&t({kind:dt.a.Kind.promptMenuKeyPressArrowUp})()}},e.content))),{content:Fo}),Ho=_.b.Union.asOption(Ro),Vo=Lt.a.style({overflowY:"scroll",borderBottom:"0.5px solid "+Pt.D.SemanticColor.Color.Border.Base.Subdued}),Uo={default:{position:"absolute",top:Lt.a.rem(Pt.D.Space.Space2),right:Lt.a.rem(Pt.D.Space.Space2),zIndex:1}},Wo=_.b.Grid.make(({slots:e,view:t,notify:n})=>{const{onMount:a,rect:r}=Ir.a.useRectWatcher(),{notifyUnmount:i}=E.useContext(Si),{ref:s,onMount:c}=Object(Tr.a)(Object(w.flow)(o.a.tap(e=>n({kind:dt.a.Kind.mount,name:ft.a.promptInputAndMenuContainer,element:e})()),o.a.finalize(()=>i({kind:dt.a.Kind.unmount,name:ft.a.promptInputAndMenuContainer})))),l=E.useContext(Pr.a).view("flatUI");return E.createElement(It.a.div,{className:l.view(Ko),"data-testid":"prompt-container"},E.createElement(It.a.div,{mount:c,className:$o,"data-expanded":t("menuExpanded"),onKeyUp:t("menuExpanded").pipe(o.a.map(e=>t=>{"Escape"===t.key&&n({kind:dt.a.Kind.promptFieldKeyPressEscape,menuOpened:e})()})),onFocus:()=>{var e;return n({kind:dt.a.Kind.promptFieldAndMenuFocusChange,focused:(null===(e=x.toNullable(s.get()))||void 0===e?void 0:e.contains(G(document)))||!1})()},onBlur:()=>{var e;return n({kind:dt.a.Kind.promptFieldAndMenuFocusChange,focused:(null===(e=x.toNullable(s.get()))||void 0===e?void 0:e.contains(G(document)))||!1})()}},e.promptStudioMenu,E.createElement("div",{ref:a},e.promptField)),o.a.combineLatestStatic([r,t("menuExpanded")]).pipe(o.a.map(([e,t])=>Object(w.pipe)(e,x.filter(()=>t),x.fold(w.constNull,({height:e})=>E.createElement("div",{className:Zo,style:{height:e},role:"presentation"}))))))}),zo=_.b.Knot.make(Wo,{promptField:Wi,promptStudioMenu:Ho}),Go=_.b.Union.asOption(zo),qo=Pt.D.Space.Space4,Ko=e=>Lt.a.style(Object.assign({position:"relative"},e?{margin:`${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(Pt.D.Space.Space4)} ${Lt.a.rem(qo)} ${Lt.a.rem(Pt.D.Space.Space4)}`}:{margin:`${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(Pt.D.Space.Space2)} 0 ${Lt.a.rem(Pt.D.Space.Space2)}`})),$o=Lt.a.style({background:Pt.D.SemanticColor.Color.Background.Base.Default,boxShadow:Pt.D.Elevation.Elevation100.boxShadow,border:Pt.D.Elevation.Elevation100.border,borderRadius:Lt.a.rem(Pt.D.Radius.Radius1+Pt.D.Radius.RadiusHalf),$nest:{"&[data-expanded='true']":{boxShadow:Pt.D.Elevation.Elevation300.boxShadow,border:Pt.D.Elevation.Elevation300.border,position:"absolute",bottom:0,width:"100%",display:"grid",gridTemplateRows:"1fr auto",zIndex:10}}}),Zo=Lt.a.style({opacity:0,pointerEvents:"none",visibility:"hidden"});function Yo(e){return"focus"===e.kind}function Xo(e){return"mount"===e.kind}function Qo(e){return"headerMount"===e.kind}function Jo(e){return"rectChange"===e.kind}const es=_.b.Grid.make(({slots:e,notify:t,view:n})=>{const a=E.useContext(Ar.a.Context),r=E.useContext(Pr.a);return E.createElement(oi,{key:"assistant-container",onFocus:t({kind:"focus",focused:!0}),onBlur:t({kind:"focus",focused:!1}),heightBehavior:n("heightBehavior"),widthBehavior:n("widthBehavior"),dragBehavior:n("dragBehavior"),menuRef:n("menuRef"),menuVerticalMargin:o.a.combineLatestStatic([a,r]).pipe(o.a.map(([e,t])=>((t.flatUI?0:di(t.flatUI))+(t.flatUI?1:0)+(e=>e?qo:vi)(t.flatUI))*e)),scrollContentToBottomToken:n("scrollContentToBottomToken"),canScrollContent:n("canScrollContent"),onMountContainer:e=>{e&&t({kind:"mount",element:e})()},onMountHeader:e=>{e&&t({kind:"headerMount",element:e})()},onRectChange:e=>{e&&t({kind:"rectChange",rect:e})()},header:e.header,content:e.content,footer:e.footer,notifications:e.notifications,onboarding:e.onboarding})});var ts;!function(e){let t,n;!function(e){e.ok="ok",e.satisfied="satisfied",e.dissatisfied="dissatisfied"}(t=e.Mood||(e.Mood={})),function(e){e.resultCard="resultCard",e.quickReplyInitialActions="quickReplyInitialActions",e.intentCard="intentCard"}(n=e.Source||(e.Source={}))}(ts||(ts={}));const ns=e=>E.createElement(Mt.e,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),E.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_4506_11023_disheartening_emoji)",stroke:"none"}),E.createElement("path",{d:"M8.97126 19.5491C10.9569 18.1193 14.0431 18.1193 16.0295 19.5491C16.3344 19.7674 16.5155 19.5315 16.4184 19.3455C14.4879 15.6555 10.5121 15.6555 8.58164 19.3455C8.48451 19.5315 8.66564 19.7674 8.97126 19.5491Z",fill:"#302C3B",stroke:"none"}),E.createElement("path",{d:"M19.895 12.8239C17.9806 13.5491 15.4865 12.8809 14.1909 11.2954C13.9925 11.0531 13.7945 11.2046 13.8328 11.376C14.5936 14.775 17.807 15.6364 20.1654 13.0721C20.2839 12.9435 20.1886 12.7133 19.895 12.8239Z",fill:"#302C3B",stroke:"none"}),E.createElement("path",{d:"M10.8091 11.2954C9.51351 12.8813 7.01976 13.5491 5.10501 12.8239C4.81176 12.7133 4.71614 12.9431 4.83464 13.0721C7.19301 15.6364 10.4064 14.775 11.1673 11.376C11.2059 11.2046 11.0079 11.0531 10.8091 11.2954Z",fill:"#302C3B",stroke:"none"}),E.createElement("defs",null,E.createElement("linearGradient",{id:"paint0_linear_4506_11023_disheartening_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},E.createElement("stop",{stopColor:"#FFA027"}),E.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),E.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),E.createElement("stop",{offset:"1",stopColor:"#FFE261"})))),as=e=>E.createElement(Mt.e,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),E.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_4506_11027_neutral_emoji)",stroke:"none"}),E.createElement("path",{d:"M17.3266 17.25H7.6726C6.7336 17.25 6.7336 15.75 7.6726 15.75H17.3266C18.2656 15.75 18.2656 17.25 17.3266 17.25Z",fill:"#302C3B",stroke:"none"}),E.createElement("path",{d:"M8.7496 12.1875C9.68158 12.1875 10.4371 11.1801 10.4371 9.9375C10.4371 8.69486 9.68158 7.6875 8.7496 7.6875C7.81762 7.6875 7.0621 8.69486 7.0621 9.9375C7.0621 11.1801 7.81762 12.1875 8.7496 12.1875Z",fill:"#302C3B",stroke:"none"}),E.createElement("path",{d:"M16.2496 12.1875C17.1816 12.1875 17.9371 11.1801 17.9371 9.9375C17.9371 8.69486 17.1816 7.6875 16.2496 7.6875C15.3176 7.6875 14.5621 8.69486 14.5621 9.9375C14.5621 11.1801 15.3176 12.1875 16.2496 12.1875Z",fill:"#302C3B",stroke:"none"}),E.createElement("defs",null,E.createElement("linearGradient",{id:"paint0_linear_4506_11027_neutral_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},E.createElement("stop",{stopColor:"#FFA027"}),E.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),E.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),E.createElement("stop",{offset:"1",stopColor:"#FFE261"})))),rs=e=>E.createElement(Mt.e,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),E.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_11994_841_smiling_emoji)",stroke:"none"}),E.createElement("path",{d:"M5.82085 15.8453C7.89191 15.8453 9.57085 14.1663 9.57085 12.0953C9.57085 10.0242 7.89191 8.34528 5.82085 8.34528C3.74978 8.34528 2.07085 10.0242 2.07085 12.0953C2.07085 14.1663 3.74978 15.8453 5.82085 15.8453Z",fill:"url(#paint1_radial_11994_841_smiling_emoji)",stroke:"none"}),E.createElement("path",{d:"M19.1792 15.75C21.2502 15.75 22.9292 14.0711 22.9292 12C22.9292 9.92893 21.2502 8.25 19.1792 8.25C17.1081 8.25 15.4292 9.92893 15.4292 12C15.4292 14.0711 17.1081 15.75 19.1792 15.75Z",fill:"url(#paint2_radial_11994_841_smiling_emoji)",stroke:"none"}),E.createElement("path",{d:"M14.0844 9.3015C15.5 7.72425 17.7012 7.7235 19.1176 9.3015C19.3344 9.543 19.4634 9.282 19.3944 9.07725C18.0181 5.0055 15.1831 5.0055 13.8069 9.07725C13.7379 9.282 13.8669 9.54262 14.0844 9.3015Z",fill:"#302C3B",stroke:"none"}),E.createElement("path",{d:"M5.88312 9.3015C7.29949 7.72425 9.49999 7.7235 10.9164 9.3015C11.1331 9.543 11.2629 9.282 11.1931 9.07725C9.81687 5.0055 6.98187 5.0055 5.60562 9.07725C5.53699 9.282 5.66562 9.54262 5.88312 9.3015Z",fill:"#302C3B",stroke:"none"}),E.createElement("path",{d:"M17.1961 13.647C14.3352 15.7061 10.6614 15.705 7.802 13.647C7.397 13.356 7.15512 13.6706 7.28487 13.9178C9.4805 18.1151 15.5187 18.1144 17.7147 13.9178C17.8437 13.6703 17.6026 13.3556 17.1961 13.647Z",fill:"#302C3B",stroke:"none"}),E.createElement("defs",null,E.createElement("linearGradient",{id:"paint0_linear_11994_841_smiling_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},E.createElement("stop",{stopColor:"#FFA027"}),E.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),E.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),E.createElement("stop",{offset:"1",stopColor:"#FFE261"})),E.createElement("radialGradient",{id:"paint1_radial_11994_841_smiling_emoji",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.82103 12.0952) scale(3.75 3.75)"},E.createElement("stop",{stopColor:"#F18D84"}),E.createElement("stop",{offset:"0.2514",stopColor:"#F29180",stopOpacity:"0.7486"}),E.createElement("stop",{offset:"0.5118",stopColor:"#F49E73",stopOpacity:"0.4882"}),E.createElement("stop",{offset:"0.7755",stopColor:"#F8B25F",stopOpacity:"0.2245"}),E.createElement("stop",{offset:"1",stopColor:"#FDCA47",stopOpacity:"0"})),E.createElement("radialGradient",{id:"paint2_radial_11994_841_smiling_emoji",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.179 12) scale(3.75)"},E.createElement("stop",{stopColor:"#F18D84"}),E.createElement("stop",{offset:"0.2514",stopColor:"#F29180",stopOpacity:"0.7486"}),E.createElement("stop",{offset:"0.5118",stopColor:"#F49E73",stopOpacity:"0.4882"}),E.createElement("stop",{offset:"0.7755",stopColor:"#F8B25F",stopOpacity:"0.2245"}),E.createElement("stop",{offset:"1",stopColor:"#FDCA47",stopOpacity:"0"})))),is=(e,t)=>Object(At.c)(ss,e===t&&cs),os=Lt.a.style({display:"flex",flexDirection:"row",justifyContent:"space-between",paddingLeft:Lt.a.rem(Pt.D.Space.Space4),paddingRight:Lt.a.rem(Pt.D.Space.Space4)}),ss=Lt.a.style({width:Lt.a.rem(5),height:Lt.a.rem(5),cursor:"pointer",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",gap:Lt.a.rem(Pt.D.Space.Space2),borderRadius:Lt.a.rem(Pt.D.Radius.Radius3),fontWeight:400,fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125),$nest:{"&:hover":{backgroundColor:Pt.D.SemanticColor.Color.Background.Base.Subdued}}}),cs=Lt.a.style({backgroundColor:Pt.D.Color.Blue10,$nest:{"&:hover":{backgroundColor:Pt.D.Color.Blue10}}}),ls=Lt.a.style(Object.assign({},Object(Ft.c)(1.5))),us="submitBtn",ds={padding:Lt.a.rem(Pt.D.Space.Space4),gap:Lt.a.rem(Pt.D.Space.Space4)},ps={color:Pt.D.SemanticColor.Color.Text.Base.Default,fontWeight:700,fontSize:Lt.a.rem(1.25),lineHeight:Lt.a.rem(1.5),margin:0},ms={border:`${Lt.a.px(1)} solid ${Pt.D.Color.NeutralGray20}`,borderRadius:Lt.a.rem(Pt.D.Radius.Radius1),padding:`${Lt.a.rem(Pt.D.Space.Space2+Pt.D.Space.SpaceHalf)} ${Lt.a.rem(Pt.D.Space.Space2)}`,height:Lt.a.rem(8)},fs={display:"flex",alignItems:"flex-start",$nest:{"& input[type='checkbox']":{margin:`${Lt.a.rem(Pt.D.Space.SpaceQuarter)} ${Lt.a.rem(Pt.D.Space.Space2)} 0 0`,minWidth:Lt.a.rem(1),minHeight:Lt.a.rem(1)},"& label":{color:Pt.D.SemanticColor.Color.Text.Base.Default,fontWeight:400,fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125)}}},hs=Object.assign({width:Lt.a.percent(100)},Object(Ft.a)({fontSize:Lt.a.rem(.875)},us)),gs={display:"flex",flexDirection:"column",gap:Lt.a.rem(Pt.D.Space.Space2)},bs=ds,vs=Lt.a.style(ps),ys=Lt.a.style(ms),Os=Lt.a.style(fs),Ss=(Lt.a.style({fontWeight:700}),Lt.a.joinClasses([us,Lt.a.style(hs)])),Cs=Lt.a.style(gs),ws=Object(At.d)(({selectedScore:e,onSelectScore:t})=>E.createElement("div",{className:os},E.createElement("div",Object.assign({},is(ts.Mood.dissatisfied,e),{onClick:()=>t(ts.Mood.dissatisfied)}),E.createElement(ns,{className:ls}),"I dislike it"),E.createElement("div",Object.assign({},is(ts.Mood.ok,e),{onClick:()=>t(ts.Mood.ok)}),E.createElement(as,{className:ls}),"It′s OK"),E.createElement("div",Object.assign({},is(ts.Mood.satisfied,e),{onClick:()=>t(ts.Mood.satisfied)}),E.createElement(rs,{className:ls}),"I like it!"))),ks=Object(At.d)(Ai),Es=_.b.Node.make(({state:e,view:t,notify:n})=>{const a="domainCheckbox"+Gr.f.alphanumeric(5);return E.createElement(Dr,{style:bs},E.createElement("h1",{className:vs},"How do you like Grammarly?"),E.createElement(ws,{selectedScore:t("formData").pipe(o.a.map(e=>e.mood)),onSelectScore:e=>n({kind:dt.a.Kind.feedbackFormChange,feedbackData:{mood:e}})()}),E.createElement(ks,{ariaLabel:"tell us why",className:ys,placeholder:["How can we improve?"],fitContentHeight:!1,text:t("formData").pipe(o.a.map(({message:e})=>null!=e?e:"")),onChange:e=>n({kind:dt.a.Kind.feedbackFormChange,feedbackData:{message:e}})()}),e.pipe(o.a.map(({formData:e,domain:t,source:r})=>E.createElement("div",{className:Cs},Object(w.pipe)(t,x.fold(w.constNull,t=>E.createElement("div",{className:Os},E.createElement("input",{type:"checkbox",id:a,checked:void 0!==e.domain,onChange:n({kind:dt.a.Kind.feedbackFormChange,feedbackData:{domain:void 0!==e.domain?void 0:t}})}),E.createElement("label",{htmlFor:a},"Include the domain ",E.createElement("b",null,t)," with my feedback to help improve Grammarly.")))),Object(w.pipe)(x.fromNullable(void 0!==e.mood?Object.assign(Object.assign({},e),{mood:e.mood,source:r}):null),x.fold(()=>E.createElement(Tt.a,{disabled:!0,className:Ss,onClick:w.constVoid},"Submit"),e=>E.createElement(Tt.a,{disabled:!1,className:Ss,onClick:n({kind:dt.a.Kind.feedbackFormSubmitButtonClick,feedbackData:e})},"Submit")))))))}),js=e=>E.createElement(Mt.e,{className:e.className,viewBox:"0 0 20 20",width:20,height:20},E.createElement("path",{d:"M8.58541 3.37143C9.36646 2.59038 10.6328 2.59038 11.4138 3.37143L16.6283 8.5859C17.4094 9.36695 17.4094 10.6333 16.6283 11.4143L11.4138 16.6288C10.6328 17.4098 9.36646 17.4098 8.58541 16.6288L3.37094 11.4143C2.58989 10.6333 2.58989 9.36695 3.37094 8.5859L8.58541 3.37143ZM11.4371 6.25011C11.4371 5.4562 10.7935 4.81261 9.99962 4.81261C9.20571 4.81261 8.56212 5.4562 8.56212 6.25011V10.6251C8.56212 11.3163 9.04996 11.8936 9.70011 12.0314C9.04996 12.1692 8.56212 12.7464 8.56212 13.4376C8.56212 14.2315 9.20571 14.8751 9.99962 14.8751C10.7935 14.8751 11.4371 14.2315 11.4371 13.4376C11.4371 12.7464 10.9493 12.1692 10.2991 12.0314C10.9493 11.8936 11.4371 11.3163 11.4371 10.6251V6.25011Z",fill:"#D31332",stroke:"#D31332"})),_s=({options:e,onSubmit:t,onCancel:n})=>{const[a,r]=E.useState(x.none),[i,o]=E.useState(!1);return E.createElement(It.a.form,{id:"radioOptionsForm",onSubmit:e=>{Object(w.pipe)(a,x.fold(()=>o(!0),t)),e.preventDefault()},className:Lt.a.style(xs)},E.createElement("fieldset",{className:Ps,style:{borderColor:i?Pt.D.Color.Red60:"transparent"}},Object(w.pipe)(e,N.ub(e=>E.createElement("span",{key:e,className:As},E.createElement("input",{type:"radio",id:e,value:e,name:e,checked:Object(w.pipe)(a,x.filter(t=>t===e),x.isSome),onChange:()=>{o(!1),r(x.some(e))},style:{margin:`0 ${Lt.a.rem(.5)} 0 0`}}),E.createElement("label",{htmlFor:e},e))))),i&&E.createElement("div",{className:Ms},E.createElement(js,{className:Ts})," Make a selection"),E.createElement("div",{className:Is},E.createElement(Tt.a,{type:"submit",form:"radioOptionsForm",name:"submitSelectedRadioOption",style:{default:xs}},"Submit"),"  ",E.createElement(Tt.a,{variant:"tertiary",onClick:n,name:"cancelRadioOptionSelection",style:{default:xs}},"Cancel")))},xs={fontSize:Lt.a.rem(.875)},As=Lt.a.style({display:"inline-flex",alignItems:"center"}),Is=Lt.a.style({paddingTop:Lt.a.rem(.5)}),Ts=Lt.a.style({minWidth:"unset",minHeight:"unset"}),Ms=Lt.a.style({color:Pt.D.Color.Red60,lineHeight:Lt.a.rem(1.5)}),Ps=Lt.a.style({marginLeft:`calc(-1 * ${Lt.a.rem(.25)})`,padding:Lt.a.rem(.25),display:"flex",flexDirection:"column",gap:Lt.a.rem(.5),width:"fit-content",border:"1px solid transparent",borderRadius:Lt.a.rem(.25),margin:0}),Ns=_.b.Node.make(({view:e,notify:t})=>{const n=E.useContext(Pr.a).view("flatUI");return E.createElement(Dr,{style:n.view(Bs),"data-testid":"follow-up-prompt"},E.createElement(It.a.div,{className:n.view(Ls)},E.createElement(It.a.img,{src:e("iconUrl"),style:{width:16,height:16}}),E.createElement(It.a.span,Object.assign({},$(e("header"))))),E.createElement(It.a.div,null,e("hintsHeader")),e("hintsItems").pipe(o.a.map(Object(w.flow)(N.ub(e=>E.createElement("li",{key:e},e)),D.F,x.fold(w.constNull,e=>E.createElement("ul",{key:"action-followup-radio-list",className:Fs},e))))),e("radioOptions").pipe(o.a.map(x.fold(w.constNull,e=>E.createElement(_s,{key:"radioOptions",options:e,onSubmit:e=>t({kind:dt.a.Kind.radioOptionsSubmitButtonClick,selectedOption:e})(),onCancel:t({kind:dt.a.Kind.radioOptionsCancelButtonClick})})))))}),Ds=_.b.Union.asOption(Ns),Bs=e=>Object.assign({fontWeight:400,fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.3125)},e?{padding:`${Lt.a.rem(Pt.D.Space.Space3)} ${Lt.a.rem(Pt.D.Space.Space4)} ${Lt.a.rem(1.5)} ${Lt.a.rem(Pt.D.Space.Space4)}`,borderBottom:"0.5px solid "+Rt.a.BorderBaseSubduedColor}:{}),Ls=e=>Lt.a.style(Object.assign({display:"flex",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space2),color:Pt.D.SemanticColor.Color.Text.Base.Subdued},e?{fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.3125),padding:Lt.a.rem(Pt.D.Space.Space2)+" 0"}:{fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125)})),Fs=Lt.a.style({padding:"0 0 0 "+Lt.a.rem(Pt.D.Space.Space6+Pt.D.Space.SpaceHalf),margin:0});var Rs=n("5lyU"),Hs=n("zOHC"),Vs=n("WWh5");const Us={border:"1px solid "+Pt.D.SemanticColor.Color.Background.Neutral.Default,borderRadius:Lt.a.rem(Pt.D.Radius.Radius1),width:Lt.a.rem(15),height:Lt.a.rem(2),boxSizing:"border-box",position:"relative"},Ws={padding:`${Lt.a.rem(Pt.D.Space.Space1)} ${Lt.a.rem(Pt.D.Space.Space3)}`,width:"100%",height:"100%",border:"none",background:"transparent",position:"relative",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",gap:Lt.a.rem(Pt.D.Space.Space1)},zs={fontWeight:400,fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.375),color:Pt.D.SemanticColor.Color.Text.Base.Default},Gs={padding:Lt.a.rem(Pt.D.Space.Space1),background:"white",boxShadow:Pt.D.Elevation.Elevation100.boxShadow,border:Pt.D.Elevation.Elevation100.border,borderRadius:Lt.a.rem(Pt.D.Radius.Radius1),width:Lt.a.rem(15),boxSizing:"border-box",overflowY:"auto",maxHeight:Lt.a.rem(8.125),zIndex:9999,$nest:{"& > ul":{listStyle:"none",padding:0,margin:0,$nest:{"& > li":{padding:0,margin:0}}}}},qs={border:"none",background:"transparent",width:"100%",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.375),color:Pt.D.SemanticColor.Color.Text.Base.Default,padding:`${Lt.a.rem(.1875)} ${Lt.a.rem(Pt.D.Space.Space3)}`,borderRadius:Lt.a.rem(Pt.D.Radius.Radius1),display:"flex",justifyContent:"flex-start",$nest:{"&:hover":{background:Pt.D.Color.Blue0}}},Ks=Lt.a.style(Us),$s=Lt.a.style(Ws),Zs=Lt.a.style(zs),Ys=Lt.a.style(Gs),Xs=Lt.a.style(qs),Qs=new Hs.a(999999);function Js({label:e,selection:t,className:n,menuClassName:a,placeholder:r,options:i,optionsGroupLabel:s,onSelectionChange:c,renderOption:l}){const[u,d]=E.useState(!1),p=E.useRef(Qs.newId().toString()),m=E.useRef(Qs.newId().toString()),f=E.useRef(null),[h,g]=E.useState(null),[b,v]=E.useState(null),{styles:y,attributes:O}=Object(Rs.a)(h,b,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),S=E.useMemo(()=>new A.a,[]),C=E.useMemo(()=>S.pipe(o.a.debounceTime(100),o.a.filter(e=>!e),o.a.tap(()=>{d(!1)})),[S,d]);return Ir.a.useSubscriptionTo(C),E.createElement("div",Object.assign({},Object(At.c)(Ks,n),{ref:g}),E.createElement("button",{ref:f,className:$s,onClick:()=>{var e;d(!0),S.next(!0),null===(e=f.current)||void 0===e||e.focus()},onFocus:()=>{d(!0),S.next(!0)},onBlur:()=>S.next(!1),type:"button","aria-haspopup":"listbox","aria-owns":p.current,"aria-expanded":u,"aria-labelledby":m.current},E.createElement("div",{id:m.current,className:Zs},t?l?l(t):e(t):r),E.createElement(Pt.l,null)),u&&E.createElement("div",Object.assign({ref:v,style:y.popper},O.popper,{className:Lt.a.joinClasses([Ys,a]),onFocus:()=>S.next(!0),onBlur:()=>S.next(!1)}),E.createElement("ul",{"aria-label":"menu-options",role:"listbox",id:p.current},s?E.createElement("header",{className:ec,role:"presentation"},s):null,i.map((t,n)=>{const a=e(t);return E.createElement("li",{key:n,"aria-label":a,role:"option"},E.createElement("button",{className:Xs,onClick:Object(Vs.a)(()=>{c(t),d(!1)})},l?l(t):e(t)))}))))}const ec=Lt.a.style({padding:Lt.a.rem(Pt.D.Space.Space2),paddingRight:Lt.a.rem(Pt.D.Space.Space4),fontSize:Lt.a.rem(.75),lineHeight:"1.5em",color:Pt.D.SemanticColor.Color.Text.Base.Subdued});var tc=n("ZxCt"),nc=n("h+lq"),ac=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const rc=E.forwardRef((function(e,t){var{defaultHeight:n,initialVisible:a=!1,resetHeightToDefault:r=o.a.EMPTY,visibleOffset:i=500,children:s}=e,c=ac(e,["defaultHeight","initialVisible","resetHeightToDefault","visibleOffset","children"]);const[l,u]=E.useState(a),[d,p]=E.useState(n),m=E.useRef(null),{registerIntersectionObserver:f}=E.useContext(Rr);return E.useEffect(()=>{const e=r.subscribe(()=>p(n));return()=>e.unsubscribe()},[n]),E.useEffect(()=>{const e=m.current;if(e){const t=f(`${i}px 0px ${i}px 0px`,e,t=>{t.isIntersecting||p(e.offsetHeight),u(t.isIntersecting)});return()=>t.dispose()}return()=>{}},[m]),E.createElement("div",Object.assign({},c,{ref:Lr([m,t])}),l?s:E.createElement("div",{style:{height:d}}))}));var ic=n("Q+ti");const oc=e=>{const t=E.useRef(null),n=function(e,t){switch(e){case"behavior:animation:fadeIn":return{className:Lt.a.style(sc(cc,uc(t))),direction:"in"};case"behavior:animation:fadeOut":return{className:Lt.a.style(sc(lc,uc(t))),direction:"out"};default:Object(I.c)(e)}}(e.type,e.timeCurve),[a,r]=E.useState("in"===n.direction?n.className:void 0);return E.useEffect(()=>()=>{var e,a,r;t.current&&(e=t.current,!(null!==(r=null===(a=e.shadowRoot)||void 0===a?void 0:a.ownerDocument.defaultView)&&void 0!==r?r:window).matchMedia("(prefers-reduced-motion: reduce)").matches)&&function(e,t){Object(w.pipe)(Object(w.tuple)(Object(w.pipe)(t,b.g.fromPredicate(e=>"out"===e.direction)),function e(t,n=[]){return Object(w.pipe)(t.parentElement,b.g.fromNullable,b.g.chain(t=>e(t,[...n,t])),b.g.alt(()=>D.E(n)))}(e)),Object(w.tupled)(M.b(b.g.option)),b.g.tap(([t,n])=>{var a,r;const i=null!==(r=null===(a=e.shadowRoot)||void 0===a?void 0:a.ownerDocument)&&void 0!==r?r:document,o=e.getBoundingClientRect(),s=e.cloneNode(!0);s.classList.add(t.className),s.style.position="absolute",s.style.top=o.top+"px",s.style.left=o.left+"px",s.style.width=o.width+"px",s.style.height=o.height+"px",requestAnimationFrame(()=>{Object(w.pipe)(n.find(e=>i.contains(e)),b.g.fromNullable,b.g.tap(e=>{s.addEventListener("animationend",()=>{i.contains(s)&&s.remove()}),e.appendChild(s)}))})}))}(t.current,n)},[n]),E.createElement("div",{"data-testid":"behavior-animation-wrapper","data-animation":e.type,ref:t,className:a,onAnimationEnd:()=>r(void 0)},e.children)};const sc=(e,t)=>({$nest:{"@media (prefers-reduced-motion: no-preference)":{animation:`${e} ${Lt.a.seconds(.3)} ${t}`}}}),cc=Lt.a.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),lc=Lt.a.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}});function uc(e){return e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}var dc=n("Q4iv");const pc={default:{$nest:{"& span":{verticalAlign:"initial"}}}},mc={[Rn.a.HorizontalAlign.Left]:{default:{textAlign:"left"}},[Rn.a.HorizontalAlign.Center]:{default:{textAlign:"center"}},[Rn.a.HorizontalAlign.Right]:{default:{textAlign:"end"}}};function fc(e){return void 0!==e?mc[e]:mc[Rn.a.HorizontalAlign.Left]}function hc(e){return Object.assign({name:e.name,onClick:e.onClick,"aria-label":e.meta.label,"aria-describedby":e["aria-describedby"],title:void 0!==e.tooltip&&e.state!==Rn.a.ButtonState.Disabled?Object(dc.b)(e.tooltip):void 0},function(e){switch(e){case Rn.a.ButtonState.Enabled:return{disabled:!1};case Rn.a.ButtonState.Disabled:return{disabled:!0};case Rn.a.ButtonState.Selected:return{disabled:!1,active:!0};case Rn.a.ButtonState.Deselected:return{disabled:!1,active:!1};case Rn.a.ButtonState.Hidden:return{hidden:!0};default:return Object(I.d)(e)}}(e.state))}var gc=n("lme1"),bc=n("6K6r"),vc=n("0zLI"),yc=n("zCOz"),Oc=n("CRXm");function Sc({item:e,state:t,className:n,name:a}){const r=E.useMemo(()=>a?a+"-item":"menu-item",[a]),i=E.useRef(null),{menuItemProps:o,isDisabled:s,isSelected:c}=Object(gc.b)({key:e.key},t,i);return Ir.a.useEffectOnDidMount(()=>{if(null!=i.current)try{const e=i.current.focus.bind(i.current);i.current.focus=t=>{var n;(null===(n=i.current)||void 0===n?void 0:n.matches(":hover"))||e(t)}}catch(e){}}),E.createElement("li",Object.assign({"data-testid":r},o,{ref:i,className:Lt.a.joinClasses([wc(s,c),n])}),E.createElement("span",{className:Cc},e.rendered))}const Cc=Lt.a.style({display:"flex",alignItems:"center",fontFamily:"Inter",fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.3125),fontWeight:400,color:Rt.a.TextBaseDefault}),wc=(e,t)=>Lt.a.style(Object.assign(Object.assign({display:"flex",alignItems:"center",minHeight:Lt.a.rem(2),padding:`${Lt.a.rem(Pt.D.Space.Space1)} ${Lt.a.rem(Pt.D.Space.Space6)} ${Lt.a.rem(Pt.D.Space.Space1)} ${Lt.a.rem(Pt.D.Space.Space3)}`,borderRadius:Lt.a.rem(Pt.D.Radius.Radius1),opacity:e?.4:void 0,cursor:"pointer"},t&&!e?{background:Rt.a.MenuBackgroundSelected,boxShadow:"inset  0 0 0 1px "+Rt.a.MenuBorderDefault}:{}),{$nest:{"&:hover":e?{}:{background:Rt.a.MenuBackgroundHover,boxShadow:"inset  0 0 0 1px "+Rt.a.MenuBorderDefault,$nest:{"& i":{stroke:Rt.a.MenuIconHover,fill:Rt.a.MenuIconHover}}},"&:focus, &:focus-visible":e?{}:{boxShadow:`0 0 0 1px ${Pt.D.SemanticColor.Color.Background.Base.Default}, 0 0 0 3px ${Rt.a.BorderBrandDefault}`,outline:"none",background:Rt.a.MenuBackgroundSelected,$nest:{"& i":{stroke:Rt.a.MenuIconSelected,fill:Rt.a.MenuIconSelected}}},"& i":{marginLeft:Lt.a.rem(-Pt.D.Space.Space1),marginRight:Lt.a.rem(Pt.D.Space.Space2),minWidth:Lt.a.rem(1.5),minHeight:Lt.a.rem(1.5)},"& span":{fontWeight:t?700:void 0}}}));var kc=n("rUtO");function Ec({name:e,section:t,state:n,onAction:a,theme:r={}}){const i=E.useMemo(()=>e?e+"-section":"dropdown-menu-section",[e]),{itemProps:o,headingProps:s,groupProps:c}=Object(gc.c)({heading:t.rendered,"aria-label":t["aria-label"]}),{separatorProps:l}=Object(kc.a)({elementType:"li"});return E.createElement(E.Fragment,null,t.key!==n.collection.getFirstKey()&&E.createElement("li",Object.assign({},l,{className:xc})),E.createElement("li",Object.assign({"data-testid":i},o,{className:Lt.a.joinClasses([jc,r.section])}),Boolean(t.rendered)&&E.createElement("h5",Object.assign({},s,{className:_c}),t.rendered),E.createElement("ul",Object.assign({},c,{className:Ac}),Array.from(t.childNodes).map(t=>E.createElement(Sc,{key:t.key,item:t,state:n,onAction:a,className:r.item,name:e})))))}const jc=Lt.a.style({padding:0}),_c=Lt.a.style({margin:0,fontSize:Lt.a.rem(.75),fontWeight:400,lineHeight:Lt.a.rem(1.125),color:Pt.D.SemanticColor.Color.Text.Base.Subdued,padding:`${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(Pt.D.Space.Space6)} ${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(Pt.D.Space.Space3)}`}),xc=Lt.a.style({borderTop:"1px solid "+Pt.D.SemanticColor.Color.Border.Base.Subdued,margin:`${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(-Pt.D.Space.Space4)}`}),Ac=Lt.a.style({listStyle:"none",margin:0,padding:0,outline:Lt.a.important("none")});var Ic=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function Tc(e){var{name:t,className:n,theme:a={},onMouseOver:r,onMouseLeave:i}=e,o=Ic(e,["name","className","theme","onMouseOver","onMouseLeave"]);const s=E.useMemo(()=>t?t+"-list":"menu-list",[t]),c=Object(Oc.a)(o),l=E.useRef(null),{menuProps:u}=Object(gc.a)(o,c,l),d=Object(yc.l)(u,{onMouseOver:r,onMouseLeave:i});return E.createElement("ul",Object.assign({"data-testid":s},d,{ref:l,className:Lt.a.joinClasses([Mc,a.list,n])}),Array.from(c.collection).map(e=>"section"===e.type?E.createElement(Ec,{key:e.key,section:e,state:c,theme:a}):E.createElement(Sc,{key:e.key,name:t,item:e,state:c,className:a.item})))}const Mc=Lt.a.style({listStyle:"none",margin:0,outline:Lt.a.important("none"),padding:`${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(Pt.D.Space.Space4)}`});var Pc=n("m7tF"),Nc=n("VkQQ"),Dc=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};var Bc=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const Lc=e=>{var t,{children:n,className:a,state:r,offset:i=4,onTransitionEnd:o,portalContainer:s}=e,c=Bc(e,["children","className","state","offset","onTransitionEnd","portalContainer"]);const l=E.useRef(null),{popoverProps:u}=function(e,t){const{triggerRef:n,popoverRef:a,isNonModal:r,isKeyboardDismissDisabled:i}=e,o=Dc(e,["triggerRef","popoverRef","isNonModal","isKeyboardDismissDisabled"]),{overlayProps:s,underlayProps:c}=Object(Nc.a)({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!1!==r,isKeyboardDismissDisabled:i,shouldCloseOnInteractOutside:(e,t)=>{const n=null==t?void 0:t.composedPath();return!n||!n.some(e=>{var t;return e instanceof Node&&(null===(t=a.current)||void 0===t?void 0:t.contains(e))})}},a),{overlayProps:l,arrowProps:u,placement:d}=Object(Pc.d)(Object.assign(Object.assign({},o),{targetRef:n,overlayRef:a,isOpen:t.isOpen,onClose:void 0}));return Object(Pc.g)({isDisabled:r}),Object(yc.x)(()=>t.isOpen&&!r&&a.current?Object(Pc.c)([a.current]):()=>{},[r,t.isOpen,a]),{popoverProps:Object(yc.l)(s,l),arrowProps:u,underlayProps:c,placement:d}}(Object.assign(Object.assign({},c),{isNonModal:!0,offset:i,popoverRef:l}),r);return E.createElement(Pc.b,{portalContainer:s},E.createElement("div",Object.assign({},u,{style:Object.assign(Object.assign({},u.style),{minWidth:null===(t=c.triggerRef.current)||void 0===t?void 0:t.clientWidth}),ref:l,className:Lt.a.joinClasses([Rc,a]),onTransitionEnd:e=>{if(e.target===l.current)return null==o?void 0:o()}}),E.createElement(Pc.a,{onDismiss:r.close}),E.createElement("div",{className:Fc},n),E.createElement(Pc.a,{onDismiss:r.close})))},Fc=Lt.a.style({width:Lt.a.percent(100)}),Rc=Lt.a.style({display:"flex",flexDirection:"column",alignItems:"flex-start",background:Pt.D.SemanticColor.Color.Background.Base.Default,boxShadow:Pt.D.Elevation.Elevation100.boxShadow,border:Pt.D.Elevation.Elevation100.border,borderRadius:Lt.a.rem(Pt.D.Radius.Radius1)});var Hc=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function Vc(e){var{placement:t="bottom start",theme:n={},name:a,portalContainer:r,title:i}=e,o=Hc(e,["placement","theme","name","portalContainer","title"]);const s=E.useMemo(()=>a?a+"-trigger":"menu-trigger",[a]),c=E.useRef(null),l=Object(bc.a)(o),u=Object(gc.d)(Object.assign(Object.assign({},o),{type:"menu"}),l,c),d=u.menuTriggerProps,{onPress:p,onPressStart:m}=d,f=Hc(d,["onPress","onPressStart"]),{menuProps:h}=u;return E.createElement(E.Fragment,null,E.createElement(Tt.a,Object.assign({},f,{variant:"tertiary",name:s,onClick:()=>l.open(),mount:e=>c.current=e,active:l.isOpen,"aria-label":o["aria-label"],title:null!=i?i:o["aria-label"],className:n.button,style:n.buttonStyle}),o.label),E.createElement(vc.a,{in:l.isOpen},(e,i)=>E.createElement(Lc,{state:l,triggerRef:c,placement:t,portalContainer:r,className:e,onTransitionEnd:i},E.createElement(Tc,Object.assign({},o,h,{name:a,theme:n,onAction:e=>{var t;return null===(t=o.onAction)||void 0===t?void 0:t.call(o,e)}})))))}var Uc=n("tREI");const Wc=e=>{const t=t=>"known"===t.source.kind?E.createElement(e.designSystem.icon[t.source.name],{key:t.source.name,backgroundColor:t.backgroundColor}):E.createElement(e.designSystem.image,Object.assign({key:t.source.name,backgroundColor:t.backgroundColor},t.source));return E.createElement(ri.a.Consumer,null,({portalContainer:n})=>E.createElement(It.a.Fragment,null,n.view(b.g.fold(w.constNull,n=>E.createElement(Vc,{label:t(e.icon),portalContainer:n,placement:"bottom right",theme:{button:zc,item:Gc},"aria-label":e.menu.meta.label,onAction:t=>Object(w.pipe)(e.menu.sections,N.w(e=>e.items),N.S(e=>e.id===String(t)),b.g.tap(t=>e.onClick(t.onClickActions,t.id)())),title:e.menu.meta.label},e.menu.sections.map((e,n)=>E.createElement(Uc.b,{key:n,title:e.title},e.items.map(e=>E.createElement(Uc.a,{key:e.id,textValue:e.id},e.icon&&t(e.icon),e.text)))))))))},zc=Lt.a.style({flexShrink:0,alignItems:"center",justifyContent:"center",height:Lt.a.rem(2),width:Lt.a.rem(2)}),Gc=Lt.a.style({$nest:{"& i":{height:Lt.a.rem(2),width:Lt.a.rem(2)}}});var qc=n("PN6M");const Kc={width:Lt.a.rem(1.5),height:Lt.a.rem(1.5),minWidth:Lt.a.rem(1.5),minHeight:Lt.a.rem(1.5)},$c=Lt.a.style(Kc);function Zc(){return Object.assign(Object.assign({},ic.a),{animation:oc,button:Object.assign(Object.assign({},Object(dc.a)()),{ggoPrimary:e=>E.createElement(Tt.a,Object.assign({},hc(e),{variant:"primary",style:[e.verticalAlign===Rn.a.VerticalAlign.Middle?pc:void 0,fc(e.horizontalAlign)]}),e.text),primary:e=>E.createElement(Tt.a,Object.assign({},hc(e),{variant:"primary",style:[e.verticalAlign===Rn.a.VerticalAlign.Middle?pc:void 0,fc(e.horizontalAlign)]}),e.text),secondary:e=>E.createElement(Tt.a,Object.assign({},hc(e),{variant:"tertiary",style:[e.verticalAlign===Rn.a.VerticalAlign.Middle?pc:void 0,fc(e.horizontalAlign)]}),e.text),toggle:e=>{const t=(e,t=1)=>`inset 0 0 0 ${t}px ${e}`,n=(e,n=1)=>`${t(e,n)}, 0 0 0 2px ${Pt.D.SemanticColor.Color.Text.Base.Inverse}, 0 0 0 4px ${Rt.a.BorderBrandDefault}`;return E.createElement(Tt.a,Object.assign({},hc(e),{variant:"secondary",size:"small",style:[e.verticalAlign===Rn.a.VerticalAlign.Middle?pc:void 0,fc(e.horizontalAlign),{default:{boxShadow:t(Pt.D.SemanticColor.Color.Border.Base.Subdued),$nest:Object.assign(Object.assign({},Object(cn.b)(n(Pt.D.SemanticColor.Color.Border.Base.Subdued))),{"& > div > span, & > div, & > *":{color:Lt.a.important(Pt.D.SemanticColor.Color.Text.Base.Default)}})},hovered:{backgroundColor:Rt.a.ButtonBackgroundSecondaryHover,boxShadow:t(Rt.a.BorderBrandDefault),$nest:Object.assign(Object.assign({},Object(cn.b)(n(Rt.a.BorderBrandDefault))),{"& > div > span, & > div, & > *":{color:Lt.a.important(Rt.a.ButtonTextSecondaryHover)}})},active:{backgroundColor:Rt.a.ButtonBackgroundSecondaryActive,boxShadow:t(Rt.a.BorderBrandDefault),$nest:Object.assign(Object.assign({},Object(cn.b)(n(Rt.a.BorderBrandDefault))),{"& > div > span, & > div, & > *":{color:Lt.a.important(Rt.a.ButtonTextSecondaryActive)}})},selected:{backgroundColor:"transparent",boxShadow:t(Rt.a.BorderBrandDefault,1.5),$nest:Object.assign(Object.assign({},Object(cn.b)(n(Rt.a.BorderBrandDefault,1.5))),{"& > div > span, & > div, & > *":{color:Lt.a.important(Rt.a.ColorBrandDefault),fontWeight:Lt.a.important("bold")}})}}]}),e.text)}}),icon:Object.assign(Object.assign({},qc.a),{[Rn.a.IconKnownName.More]:e=>E.createElement(Mt.d.EllipsisSmall,{className:$c})}),text:e=>ic.a.text(function(e){var t,n;if(e.format.includes(Rn.a.TextFormat.Bold)&&(null===(t=e.meta.label)||void 0===t?void 0:t.startsWith("insert"))&&e.textColor.startsWith("CoreBlue"))return Object.assign(Object.assign({},e),{textColor:Rn.a.Color.CoreNeutral90,outlineColor:e.format.includes(Rn.a.TextFormat.Outline)?Rn.a.Color.CoreNeutral90:e.outlineColor});if(e.format.includes(Rn.a.TextFormat.Bold)&&(null===(n=e.meta.label)||void 0===n?void 0:n.startsWith("delete")))return Object.assign(Object.assign({},e),{textColor:Rn.a.Color.CoreNeutral50,outlineColor:e.format.includes(Rn.a.TextFormat.Outline)?Rn.a.Color.CoreNeutral50:e.outlineColor});return e}(e)),dropDownMenuButton:Wc,nativeExperimentalGBConsistencyUpsellFooter:ic.a.nativeExperimentalGBConsistencyUpsellFooter})}const Yc=W.l({item:zn.a.Item.eq,isFocused:W.e,isFirst:W.e,prevFocusedItemPosition:x.getEq(tc.a)}),Xc=_.b.Node.make(({state:e,notify:t})=>{const{scrolling:n}=E.useContext(Rr);return E.createElement(It.a.Fragment,null,e.pipe(o.a.map(({item:e,isFocused:a,isFirst:r})=>E.createElement(E.Fragment,null,r?null:E.createElement(pl,null),E.createElement("div",{className:Object(V.c)(el,Jc)(a)},E.createElement(nc.a,{key:`${e.id}-${a?"expanded":"collapsed"}`,sduiRootId:e.id,content:e.content,designSystem:Zc(),notify:(a,r,i)=>{const o=n.get()?r.filter(e=>"hoverStateChanged"!==e.type):r;o.length>0&&t({kind:"sduiNotify",sourceId:a,actions:o,scope:i,item:e})()},transitions:[],prevContent:x.none,onAnimationEnd:w.constVoid,onMount:()=>{a&&t({kind:"focusedItemMount",item:e})()},longFormCardState:{viewKind:a?"focused":"collapsed"}}))))))}),Qc=e=>({padding:Lt.a.rem(Pt.D.Space.Space1)+" 0",borderRadius:"inherit",$nest:{"&:hover":{backgroundColor:e?void 0:Pt.D.SemanticColor.Color.Background.Base.Subdued}}}),Jc=Lt.a.style(Qc(!1)),el=Lt.a.style(Qc(!0)),tl=Lt.a.keyframes({from:{transform:"scaleY(1)",opacity:1},to:{transform:"scaleY(0.75)",opacity:0}}),nl={animation:Lt.a.keyframes({from:{transform:"scaleY(0.75)",opacity:0},to:{transform:"scaleY(1)",opacity:1}})+" 200ms ease-in-out"},al={animation:tl+" 200ms ease-in-out",position:"absolute",width:"100%"},rl=Lt.a.style(Object.assign(Object.assign({},nl),{transformOrigin:"bottom"})),il=Lt.a.style(Object.assign(Object.assign({},nl),{transformOrigin:"top"})),ol=Lt.a.style(Object.assign(Object.assign({},al),{transformOrigin:"bottom"})),sl=Lt.a.style(Object.assign(Object.assign({},al),{transformOrigin:"top"})),cl=_.b.Transition.make({collapseForward:ol,collapseBackward:sl},{expandForward:rl,expandBackward:il}),ll=Lt.a.style({position:"relative"}),ul=W.l({isFocused:W.e,itemId:W.i}),dl=_.b.Knot.make(_.b.Grid.make(({slots:e,view:t})=>{const n=E.useContext(Ar.a.Context),{ref:a,onMount:r}=Ir.a.useElWatcher(),i=E.useMemo(()=>t("isFocused").pipe(o.a.pairwise(),o.a.filter(([e,t])=>e&&!t),o.a.mapTo(null)),[]),{scrollableContainer:s}=E.useContext(Rr),c=E.useMemo(()=>t("isFocused").pipe(o.a.startWith(!1),o.a.pairwise(),o.a.filter(([e,t])=>!e&&t),o.a.switchMap(()=>a.pipe(o.b.compact,o.a.take(1))),o.a.withLatestFrom(s.pipe(o.b.compact)),o.a.delay(200),o.a.tap(([e,t])=>{e.offsetTop<t.scrollTop?t.scroll({top:e.offsetTop,left:0,behavior:"smooth"}):e.offsetTop+e.offsetHeight>t.scrollTop+t.offsetHeight?t.scroll({top:e.offsetTop-t.offsetHeight/2,left:0,behavior:"smooth"}):e.scrollIntoView({behavior:"smooth",block:"nearest"})})),[a]);return Ir.a.useSubscriptionTo(c),E.createElement(It.a.Fragment,null,o.a.combineLatestStatic([n,t("itemId")]).pipe(o.a.map(([t,n])=>E.createElement(rc,{visibleOffset:500,defaultHeight:4*t,resetHeightToDefault:i,"data-testid":n,className:ll,ref:r},e.content))))}),{content:_.b.Animated.make(cl,Xc)}),pl=()=>E.createElement("div",{role:"separator",className:ml}),ml=Lt.a.style({margin:"0 "+Lt.a.rem(Pt.D.Space.Space4),borderBottom:"1px solid "+Pt.D.SemanticColor.Color.Border.Base.Subdued}),fl=_.b.List.make(N.h,dl),hl=()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("g",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",clipPath:"url(#EmptyH_a)"},E.createElement("path",{fill:"#FCE5E5",strokeMiterlimit:"10",d:"M62.4 11.2H23.24C22.16 28.28 3.64 40.4 7.8 62.4h39.16C43.6 35.2 61.32 28.28 62.4 11.2Z"}),E.createElement("path",{fill:"#FCE5E5",strokeMiterlimit:"10",d:"M59.2 8H20.04C18.96 25.08.44 37.2 4.6 59.2h39.16C40.8 32.8 58.13 25.08 59.2 8Z"}),E.createElement("path",{fill:"#FEFAE9",strokeMiterlimit:"10",d:"M56 4.8H17.4C16.35 21.88-1.91 34 2.2 56H40C36.67 34 54.93 21.88 56 4.8Z"}),E.createElement("path",{d:"M24 13.6h20M20 22.4h20M14.4 32h20M9.6 42.8H24"}),E.createElement("path",{fill:"#F8E485",strokeMiterlimit:"10",d:"M.55 10.12a4.29 4.29 0 1 1 7.43-4.3l16.3 28.24-7.43 4.3L.55 10.11Z"}),E.createElement("path",{fill:"#79A8F2",strokeMiterlimit:"10",d:"M.55 10.12a4.29 4.29 0 1 1 7.43-4.3l3.21 5.58-7.43 4.29-3.21-5.57Z"}),E.createElement("path",{fill:"#F8C6DA",strokeMiterlimit:"10",d:"M.55 10.12a4.29 4.29 0 1 1 7.43-4.3l.64 1.12-7.43 4.29-.64-1.11Z"}),E.createElement("path",{fill:"#FEFAE9",strokeMiterlimit:"10",d:"m16.85 38.35 7.43-4.29-.07 8.47-7.36-4.18Z"}),E.createElement("path",{fill:"#0E101A",strokeMiterlimit:"10",d:"m20.2 39.88 3.72-2.14.3 4.79-4.01-2.65Z"})),E.createElement("defs",null,E.createElement("clipPath",{id:"EmptyH_a"},E.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),gl=_.b.Node.make(({notify:e})=>E.createElement(Dr,{"aria-busy":"true","aria-live":"polite","data-testid":"plagiarism-empty",style:vl},E.createElement(It.a.div,{className:yl},E.createElement(Zi,{style:bl},"No plagiarism detected"),E.createElement("p",{className:Ol},"We compared your document to billions of web pages and academic papers and found no duplicate text."),E.createElement(Tt.a,{variant:"secondary",style:Cl,onClick:e({kind:"seeAllSuggestions"})},"See all suggestions")),E.createElement(It.a.div,{className:Sl},E.createElement(hl,null)))),bl={whiteSpace:"normal"},vl={padding:""+Lt.a.rem(Pt.D.Space.Space4),display:"flex",flexDirection:"column-reverse",justifyContent:"center",alignItems:"center",gap:""+Lt.a.rem(Pt.D.Space.Space4),height:"100%",boxSizing:"border-box"},yl=Lt.a.style({textAlign:"center",padding:`${Lt.a.rem(Pt.D.Space.Space4)} ${Lt.a.rem(Pt.D.Space.Space4)} 0 ${Lt.a.rem(Pt.D.Space.Space4)}`}),Ol=Lt.a.style({margin:0,color:Rt.a.TextBaseSubduedColor,fontSize:Lt.a.rem(.875),lineHeight:"1.5em",fontWeight:400}),Sl=Lt.a.style({width:Lt.a.rem(6),height:Lt.a.rem(6),minWidth:Lt.a.rem(6),minHeight:Lt.a.rem(6)}),Cl={default:{marginTop:Lt.a.rem(Pt.D.Space.Space2),alignSelf:"flex-start"}},wl=Lt.a.keyframes({"0%":{transform:"translateX(-300px)"},"85%, 100%":{transform:"translateX(calc(100%))"}}),kl=Lt.a.style({overflow:"hidden",position:"absolute",top:0,right:0,bottom:0,left:0}),El=e=>{var t,n,a;const r=Lt.a.color(null!==(t=e.overlayGradientCenterColor)&&void 0!==t?t:"rgba(0, 0, 0, 1)"),i=Lt.a.color(null!==(n=e.overlayGradientEndColor)&&void 0!==n?n:"rgba(255, 255, 255, 0)"),o=`rgba(${r.red()}, ${r.green()}, ${r.blue()}, ${r.alpha()})`,s=`rgba(${i.red()}, ${i.green()}, ${i.blue()}, ${i.alpha()})`;return Lt.a.style({width:"100%",height:"100%",pointerEvents:"none",mixBlendMode:null!==(a=e.overlayBlendMode)&&void 0!==a?a:"overlay",background:"linear-gradient(90deg,"+s+" 0px,"+o+" 120px,"+o+" 180px,"+s+" 300px)",backgroundRepeat:"no-repeat",animationDelay:"300ms",animationDuration:"1.5s",animationName:wl,animationTimingFunction:"linear",animationIterationCount:"infinite"})},jl=e=>E.createElement("div",{className:kl},E.createElement("div",{className:El(e)})),_l=()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("g",{clipPath:"url(#EmptyC_a)"},E.createElement("path",{fill:"#F9C7C7",stroke:"#0E101A",strokeMiterlimit:"10",d:"m29.48 18.98-3.27 21.53-22.38-9.64L18.9 14.03a6.1 6.1 0 0 1 10.58 4.95Z"}),E.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeMiterlimit:"10",d:"M13.54 51.78c7.04 0 12.75-5.68 12.75-12.69 0-7-5.7-12.69-12.75-12.69A12.72 12.72 0 0 0 .8 39.09c0 7 5.7 12.7 12.74 12.7Z"}),E.createElement("path",{fill:"#8ECBDE",stroke:"#0E101A",d:"M13.54 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.27-9.5-9.54-9.5A9.52 9.52 0 0 0 4 39.09c0 5.25 4.28 9.5 9.54 9.5Z"}),E.createElement("path",{stroke:"#0E101A",d:"M13.54 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.27-9.5-9.54-9.5A9.52 9.52 0 0 0 4 39.09c0 5.25 4.28 9.5 9.54 9.5Z"}),E.createElement("path",{fill:"#DDEFF5",d:"M20.7 45.37a9.51 9.51 0 0 1-5.1 3l-9.88-14.7a9.57 9.57 0 0 1 4.72-3.56L20.7 45.37Z"}),E.createElement("path",{stroke:"#0E101A",strokeMiterlimit:"10",d:"M13.54 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.27-9.5-9.54-9.5A9.52 9.52 0 0 0 4 39.09c0 5.25 4.28 9.5 9.54 9.5Z"}),E.createElement("path",{fill:"#F9C7C7",stroke:"#0E101A",strokeMiterlimit:"10",d:"m34.52 18.98 3.27 21.53 22.38-9.64L45.1 14.03a6.1 6.1 0 0 0-10.58 4.95Z"}),E.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeMiterlimit:"10",d:"M50.46 51.78c7.03 0 12.74-5.68 12.74-12.69 0-7-5.7-12.69-12.74-12.69A12.72 12.72 0 0 0 37.7 39.09c0 7 5.7 12.7 12.75 12.7Z"}),E.createElement("path",{fill:"#8ECBDE",stroke:"#0E101A",d:"M50.46 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.28-9.5-9.54-9.5a9.52 9.52 0 0 0-9.54 9.5c0 5.25 4.27 9.5 9.54 9.5Z"}),E.createElement("path",{stroke:"#0E101A",d:"M50.46 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.28-9.5-9.54-9.5a9.52 9.52 0 0 0-9.54 9.5c0 5.25 4.27 9.5 9.54 9.5Z"}),E.createElement("path",{fill:"#DDEFF5",d:"M57.61 45.37a9.51 9.51 0 0 1-5.1 3l-9.88-14.7a9.57 9.57 0 0 1 4.72-3.56l10.26 15.26Z"}),E.createElement("path",{stroke:"#0E101A",strokeMiterlimit:"10",d:"M50.46 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.28-9.5-9.54-9.5a9.52 9.52 0 0 0-9.54 9.5c0 5.25 4.27 9.5 9.54 9.5Z"}),E.createElement("path",{fill:"#F9C7C7",stroke:"#0E101A",strokeMiterlimit:"10",d:"M36.4 31.35h-8.8l1.25-8.24a3.17 3.17 0 0 1 3.15-2.7 3.2 3.2 0 0 1 3.15 2.7l1.25 8.24Z"}),E.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeMiterlimit:"10",d:"M32 36.18a4.57 4.57 0 1 0 .02-9.13 4.57 4.57 0 0 0-.02 9.13Z"}),E.createElement("path",{fill:"#0E101A",stroke:"#0E101A",strokeMiterlimit:"10",d:"M32 33.22a1.6 1.6 0 1 0 0-3.2 1.6 1.6 0 0 0 0 3.2Z"}),E.createElement("path",{fill:"#87E8D1",stroke:"#0E101A",strokeLinejoin:"round",d:"M61.64 2.7c-2.8.62-9.61 2.33-7.74 11.68 2.8.3 11.21-2.34 7.74-11.69Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M56.7 10.64 63.2.4"}),E.createElement("path",{fill:"#87E8D1",stroke:"#0E101A",strokeLinejoin:"round",d:"M6.44 10.94c-1.9 5.36-.2 10.75 12.3 9.39 0-2.26-3.44-10.28-12.3-9.39Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M15.3 17.14 2.9 8.72"}),E.createElement("path",{fill:"#87E8D1",stroke:"#0E101A",strokeLinejoin:"round",d:"M36.58 61.7c-.65-4.37-3.42-8.63-12.94-9.48.38 4.98 2.53 12.23 12.94 9.48Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"m27.5 55.34 12.16 8.22"})),E.createElement("defs",null,E.createElement("clipPath",{id:"EmptyC_a"},E.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),xl=_.b.Node.make(()=>E.createElement(Dr,{"aria-busy":"true","aria-live":"polite",style:Al,"data-testid":"plagiarism-loading"},E.createElement("div",{className:Ll},E.createElement("div",{className:Fl},E.createElement(Zi,{style:Il},"Checking for plagiarism..."),E.createElement("p",{className:Rl},"We’re comparing your document to billions of web pages and academic papers.")),E.createElement("div",{className:Hl},E.createElement(_l,null))),E.createElement("div",{className:Tl},E.createElement("div",{className:Ml},E.createElement(jl,null),E.createElement("div",{className:Pl}),E.createElement("div",{className:Nl}),E.createElement("div",{className:Dl})),E.createElement("div",{className:Bl}),E.createElement("div",{className:Ml},E.createElement(jl,null),E.createElement("div",{className:Pl}),E.createElement("div",{className:Nl}),E.createElement("div",{className:Dl})),E.createElement("div",{className:Bl}),E.createElement("div",{className:Ml},E.createElement(jl,null),E.createElement("div",{className:Pl}),E.createElement("div",{className:Nl}),E.createElement("div",{className:Dl})),E.createElement("div",{className:Bl}),E.createElement("div",{className:Ml},E.createElement(jl,null),E.createElement("div",{className:Pl}),E.createElement("div",{className:Nl}),E.createElement("div",{className:Dl}))))),Al={padding:0},Il={whiteSpace:"normal"},Tl=Lt.a.style({display:"flex",flexDirection:"column",margin:Lt.a.rem(1)}),Ml=Lt.a.style({display:"flex",alignItems:"center",position:"relative",height:Lt.a.rem(2.25)}),Pl=Lt.a.style({height:Lt.a.rem(.5),width:Lt.a.rem(.5),borderRadius:"50%",background:Pt.D.Color.BlueGray5,marginRight:Lt.a.rem(1.25)}),Nl=Lt.a.style({height:Lt.a.rem(.5),width:Lt.a.rem(3.875),borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf),background:Pt.D.Color.BlueGray5,marginRight:Lt.a.rem(Pt.D.Space.Space4)}),Dl=Lt.a.style({height:Lt.a.rem(.5),width:Lt.a.rem(7.875),borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf),background:Pt.D.Color.BlueGray5}),Bl=Lt.a.style({margin:`${Lt.a.rem(.5)} ${Lt.a.rem(1)}`,borderBottom:"1px solid "+Pt.D.SemanticColor.Color.Border.Base.Subdued}),Ll=Lt.a.style({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:Lt.a.rem(Pt.D.Space.Space4)}),Fl=Lt.a.style({display:"flex",flexDirection:"column",marginRight:Lt.a.rem(2),justifyContent:"center"}),Rl=Lt.a.style({margin:0,color:Rt.a.TextBaseSubduedColor,fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.3125),fontWeight:400}),Hl=Lt.a.style({width:Lt.a.rem(4),height:Lt.a.rem(4),minWidth:Lt.a.rem(4),minHeight:Lt.a.rem(4)});var Vl=n("N4IK");const Ul=()=>j.a.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},j.a.createElement("circle",{cx:"32",cy:"32.5",r:"32",fill:"#F9EA9E"}),j.a.createElement("path",{d:"M48.3961 29.2909L39.2608 19.4111C38.9744 19.1247 38.6308 18.9529 38.2299 18.9529H26.775H15.3487C14.9191 18.9529 14.5182 19.1533 14.2605 19.497L6.32793 29.3482C5.8411 29.9496 5.8411 30.8946 6.35657 31.4674L25.744 53.8617C25.8586 54.0049 26.0304 54.1195 26.1736 54.2054C26.2022 54.2054 26.2022 54.234 26.2308 54.234C26.2881 54.2627 26.374 54.2913 26.4313 54.3199C26.4599 54.3199 26.4599 54.3486 26.4886 54.3486C26.5459 54.3772 26.6318 54.3772 26.689 54.3772C26.7177 54.3772 26.7463 54.3772 26.775 54.3772C26.8609 54.3772 26.9181 54.3772 27.0041 54.3486C27.0327 54.3486 27.0327 54.3486 27.0613 54.3486C27.1186 54.3486 27.2045 54.3199 27.2618 54.2913C27.2904 54.2913 27.3191 54.2913 27.3477 54.2627C27.405 54.234 27.4336 54.2054 27.4909 54.1767C27.5195 54.1481 27.5768 54.1481 27.6054 54.1195L27.6341 54.0908C27.6913 54.0336 27.7773 53.9763 27.8345 53.919L48.3961 31.5819C48.9688 30.9233 48.9688 29.8923 48.3961 29.2909Z",fill:"#303A68"}),j.a.createElement("path",{d:"M54.4671 27.4294L45.3318 17.5495C45.0454 17.2631 44.7018 17.0913 44.3008 17.0913H32.8459H21.4483C21.0187 17.0913 20.6178 17.2918 20.3601 17.6354L12.4275 27.4866C11.9407 28.088 11.9407 29.0331 12.4562 29.6058L31.8436 52.0002C32.13 52.3152 32.5023 52.487 32.8746 52.487C33.2469 52.487 33.6478 52.3438 33.9341 52.0288L54.4957 29.6917C55.0398 29.0617 55.0398 28.0594 54.4671 27.4294Z",fill:"url(#paint0_linear_4597_20798)"}),j.a.createElement("path",{d:"M45.3318 17.5495C45.0454 17.2631 44.7018 17.0913 44.3008 17.0913H32.8459H21.4483C21.0187 17.0913 20.6178 17.2918 20.3601 17.6354L12.4275 27.4866C11.9407 28.088 11.9407 29.0331 12.4562 29.6058L31.8436 52.0002C32.4164 52.6588 33.3614 52.6588 33.9341 52.0288L54.4957 29.6917C55.0685 29.0617 55.0685 28.0594 54.4957 27.458L45.3318 17.5495Z",stroke:"#303A68",strokeMiterlimit:"10"}),j.a.createElement("path",{d:"M28.6648 17.0913L24.3405 27.9735C24.1974 28.3458 24.1687 28.7753 24.3119 29.1762L32.8745 52.487",stroke:"#303A68",strokeMiterlimit:"10"}),j.a.createElement("path",{d:"M37.0554 17.0913L41.3796 27.9735C41.5228 28.3458 41.5514 28.7753 41.4083 29.1762L32.8457 52.487",stroke:"#303A68",strokeMiterlimit:"10"}),j.a.createElement("path",{d:"M54.8966 28.5461H12.0552",stroke:"#303A68",strokeMiterlimit:"10"}),j.a.createElement("path",{d:"M45.217 19.4683L44.8447 18.1796C44.8161 18.0937 44.7588 18.0364 44.6729 18.0078L43.3842 17.6355C43.1551 17.5782 43.1551 17.2346 43.3842 17.1487L44.6729 16.7764C44.7588 16.7477 44.8161 16.6905 44.8447 16.6045L45.217 15.3159C45.2743 15.0868 45.6179 15.0868 45.7039 15.3159L46.0761 16.6045C46.1048 16.6905 46.1621 16.7477 46.248 16.7764L47.5366 17.1487C47.7657 17.2059 47.7657 17.5496 47.5366 17.6355L46.248 18.0078C46.1621 18.0364 46.1048 18.0937 46.0761 18.1796L45.7039 19.4683C45.6179 19.726 45.2743 19.726 45.217 19.4683Z",fill:"white"}),j.a.createElement("defs",null,j.a.createElement("linearGradient",{id:"paint0_linear_4597_20798",x1:"20.8994",y1:"41.0591",x2:"44.8759",y2:"17.0825",gradientUnits:"userSpaceOnUse"},j.a.createElement("stop",{stopColor:"#979DFF"}),j.a.createElement("stop",{offset:"0.9971",stopColor:"#FFCEDD"})))),Wl=e=>j.a.createElement(Mt.e,{className:e.className,viewBox:"0 0 20 20",width:20,height:20},j.a.createElement("path",{d:"M2.5 8.06034L5.65789 3.75H8.81579M2.5 8.06034L10 16.25M2.5 8.06034H6.84211M17.5 8.06034L14.3421 3.75H11.1842M17.5 8.06034L10 16.25M17.5 8.06034H12.7632M10 16.25L6.84211 8.06034M10 16.25L12.7632 8.06034M6.84211 8.06034H12.7632M6.84211 8.06034L8.81579 3.75M12.7632 8.06034L11.1842 3.75M11.1842 3.75H8.81579",stroke:"#794100",strokeLinecap:"round",strokeLinejoin:"round"}));var zl=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const Gl=e=>{var{children:t,style:n}=e,a=zl(e,["children","style"]);return j.a.createElement(Tt.a,Object.assign({style:Object.assign(Object.assign({},n),{default:{backgroundColor:Vl.e.Color.Background.Premium.Default,color:Vl.e.Color.Text.Premium.Default},active:{backgroundColor:Vl.a.Gold40,color:Vl.e.Color.Text.Premium.Default},hovered:{backgroundColor:Vl.a.Gold40,color:Vl.e.Color.Text.Premium.Default}})},a),j.a.createElement(Wl,null),null!=t?t:"Go Premium")},ql=_.b.Node.make(({notify:e})=>{const{onMount:t}=Object(Tr.a)(o.a.tap(()=>e({kind:"plagiarismUphookShow"})()));return E.createElement(Dr,{"aria-busy":"true","aria-live":"polite","data-testid":"plagiarism-uphook",style:Kl},E.createElement(Ul,null),E.createElement("div",{className:$l},E.createElement(Zi,{style:Zl},"Plagiarism"),E.createElement("p",{className:Yl},"Grammarly compares billions of web pages to your document and alerts you to passages that may need citations."),E.createElement("div",{className:Xl},E.createElement(Gl,{onClick:e({kind:"plagiarismUphookClick"}),mount:t}),E.createElement(Tt.a,{variant:"tertiary",onClick:e({kind:"plagiarismUphookDismiss"})},"Maybe later"))))}),Kl={padding:Lt.a.rem(Vl.f.Space4),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:Lt.a.rem(Vl.f.Space6),height:"100%",boxSizing:"border-box"},$l=Lt.a.style({textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingLeft:Lt.a.rem(Vl.f.Space4),paddingRight:Lt.a.rem(Vl.f.Space4),gap:Lt.a.rem(Vl.f.Space2)}),Zl={whiteSpace:"normal",padding:0},Yl=Lt.a.style({margin:0,color:Rt.a.TextBaseSubduedColor,fontSize:Lt.a.rem(.875),lineHeight:"1.5em",fontWeight:400}),Xl=Lt.a.style({display:"flex",alignItems:"center",justifyContent:"center",gap:Lt.a.rem(.5)}),Ql=e=>E.createElement(Mt.e,Object.assign({width:"36",height:"36",viewBox:"0 0 36 36"},e),E.createElement("rect",{width:"36",height:"36",rx:"18",fill:"#09646C",stroke:"none"}),E.createElement("path",{d:"M19.4062 21.6132C21.1214 21.2406 22.0558 20.2882 22.5 18.8303C20.636 18.8303 19.125 17.3433 19.125 15.5089C19.125 13.6745 20.636 12.1875 22.5 12.1875C24.364 12.1875 25.875 13.5803 25.875 15.5089C25.875 17.4375 25.5 22.3125 19.4062 23.8125V21.6132Z",fill:"white",stroke:"none"}),E.createElement("path",{d:"M10.4062 21.6132C12.1214 21.2406 13.0558 20.2882 13.5 18.8303C11.636 18.8303 10.125 17.3433 10.125 15.5089C10.125 13.6745 11.636 12.1875 13.5 12.1875C15.364 12.1875 16.875 13.5803 16.875 15.5089C16.875 17.4375 16.5 22.3125 10.4062 23.8125V21.6132Z",fill:"white",stroke:"none"}));function Jl(e){if(Number.isFinite(e)){if(0===e)return 100;if(1===e)return 0;{const t=e<.01?.01:e>.99?.99:e;return Math.round(100*(1-t))}}return 0}const eu=_.b.Node.make(({view:e})=>E.createElement("footer",{className:tu},E.createElement(Ql,null),E.createElement(It.a.span,{className:nu},E.createElement(It.a.b,null,e("originality").pipe(o.a.map(Jl)),"% of your document")," ","matches text",e("sourceCount").pipe(o.a.map(x.fold(()=>" ",e=>` in ${e} sources `))),"on the web or in academic databases."))),tu=Lt.a.style({padding:`${Lt.a.rem(1.0625)} ${Lt.a.rem(1.1875)}`,backgroundColor:Rt.a.BackgroundBaseSubdued,borderTop:"0.5px solid "+Rt.a.BorderBaseSubduedColor,boxSizing:"border-box",display:"flex",alignItems:"center",flexDirection:"row",gap:Lt.a.rem(Pt.D.Space.Space4)}),nu=Lt.a.style({fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125),color:Pt.D.SemanticColor.Color.Text.Base.Subdued}),au=_.b.Grid.make(({slots:e,view:t,notify:n})=>{const{onMount:a}=Object(Tr.a)(Object(w.flow)(o.a.tap(n({kind:"plagiarismFeedMount"})),o.a.finalize(Pa.notifyFeedUnmount)));return E.createElement(Dr,{"data-testid":"plagiarism-non-empty",style:su,mount:a,"aria-live":"polite"},E.createElement(It.a.div,{className:lu},E.createElement(Zi,{style:cu},"Plagiarism detected"),t("citationDropdown").pipe(o.a.map(x.fold(w.constNull,e=>E.createElement(Js,{className:uu,menuClassName:du,placeholder:e.placeholder,options:e.select.items,optionsGroupLabel:"Citation style",selection:e.select.items.find(t=>t.id===e.selectedItem),onSelectionChange:e=>n({kind:"sduiCitationDropdownSelect",actions:e.onClickActions,sourceId:e.id})(),label:e=>e.label,renderOption:e=>e.label}))))),E.createElement(Hr,{className:ou},e.cardList),e.footer)}),ru=_.b.Knot.make(au,{cardList:fl,footer:_.b.Union.asOption(eu)}),iu=_.b.Union.make("kind",{loadingState:xl,emptyState:gl,nonEmptyState:ru,uphookState:ql}),ou=Lt.a.style({$nest:{'&[data-overflow-top="true"]':{borderTop:"0.5px solid "+Rt.a.BorderBaseSubduedColor}}}),su={padding:0,display:"grid",gridTemplateRows:"auto 1fr auto",height:"100%"},cu={whiteSpace:"normal",padding:0},lu=Lt.a.style({display:"flex",alignItems:"flex-start",justifyContent:"space-between",padding:`${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(Pt.D.Space.Space4)}`,paddingTop:Lt.a.rem(Pt.D.Space.Space4)}),uu=Lt.a.style({width:"min-content",height:Lt.a.rem(1.5),$nest:{"& > button":{padding:`${Lt.a.rem(3*Pt.D.Space.SpaceQuarter)} ${Lt.a.rem(Pt.D.Space.Space1)} ${Lt.a.rem(3*Pt.D.Space.SpaceQuarter)} ${Lt.a.rem(Pt.D.Space.Space2)}`}}}),du=Lt.a.style({width:Lt.a.rem(9.75)}),pu=_.b.Node.make(({notify:e})=>E.createElement(Dr,{"aria-busy":"true","aria-live":"polite","data-testid":"writing-expert-empty",style:fu},E.createElement(It.a.div,{className:hu},E.createElement(Zi,{style:mu},"No Writing Expert suggestions detected"),E.createElement("p",{className:gu},"empty state"),E.createElement(Tt.a,{variant:"secondary",style:vu,onClick:e({kind:"seeAllSuggestions"})},"See all suggestions")),E.createElement(It.a.div,{className:bu},E.createElement(hl,null)))),mu={whiteSpace:"normal"},fu={padding:""+Lt.a.rem(Vl.f.Space4),display:"flex",flexDirection:"column-reverse",justifyContent:"center",alignItems:"center",gap:""+Lt.a.rem(Vl.f.Space4),height:"100%",boxSizing:"border-box"},hu=Lt.a.style({textAlign:"center",padding:`${Lt.a.rem(Vl.f.Space4)} ${Lt.a.rem(Vl.f.Space4)} 0 ${Lt.a.rem(Vl.f.Space4)}`}),gu=Lt.a.style({margin:0,color:Rt.a.TextBaseSubduedColor,fontSize:Lt.a.rem(.875),lineHeight:"1.5em",fontWeight:400}),bu=Lt.a.style({width:Lt.a.rem(6),height:Lt.a.rem(6),minWidth:Lt.a.rem(6),minHeight:Lt.a.rem(6)}),vu={default:{marginTop:Lt.a.rem(Vl.f.Space2),alignSelf:"flex-start"}},yu=_.b.Node.make(()=>E.createElement(Dr,{"aria-busy":"true","aria-live":"polite",style:Ou,"data-testid":"writing-expert-loading"},E.createElement("div",{className:xu},E.createElement("div",{className:Au},E.createElement(Zi,{style:Su},"WritiNG expert, man"),E.createElement("p",{className:Iu},"We’re comparing your document to billions of web pages and academic papers.")),E.createElement("div",{className:Tu},E.createElement(_l,null))),E.createElement("div",{className:Cu},E.createElement("div",{className:wu},E.createElement(jl,null),E.createElement("div",{className:ku}),E.createElement("div",{className:Eu}),E.createElement("div",{className:ju})),E.createElement("div",{className:_u}),E.createElement("div",{className:wu},E.createElement(jl,null),E.createElement("div",{className:ku}),E.createElement("div",{className:Eu}),E.createElement("div",{className:ju})),E.createElement("div",{className:_u}),E.createElement("div",{className:wu},E.createElement(jl,null),E.createElement("div",{className:ku}),E.createElement("div",{className:Eu}),E.createElement("div",{className:ju})),E.createElement("div",{className:_u}),E.createElement("div",{className:wu},E.createElement(jl,null),E.createElement("div",{className:ku}),E.createElement("div",{className:Eu}),E.createElement("div",{className:ju}))))),Ou={padding:0},Su={whiteSpace:"normal"},Cu=Lt.a.style({display:"flex",flexDirection:"column",margin:Lt.a.rem(1)}),wu=Lt.a.style({display:"flex",alignItems:"center",position:"relative",height:Lt.a.rem(2.25)}),ku=Lt.a.style({height:Lt.a.rem(.5),width:Lt.a.rem(.5),borderRadius:"50%",background:Vl.a.BlueGray5,marginRight:Lt.a.rem(1.25)}),Eu=Lt.a.style({height:Lt.a.rem(.5),width:Lt.a.rem(3.875),borderRadius:Lt.a.rem(Vl.d.RadiusHalf),background:Vl.a.BlueGray5,marginRight:Lt.a.rem(Vl.f.Space4)}),ju=Lt.a.style({height:Lt.a.rem(.5),width:Lt.a.rem(7.875),borderRadius:Lt.a.rem(Vl.d.RadiusHalf),background:Vl.a.BlueGray5}),_u=Lt.a.style({margin:`${Lt.a.rem(.5)} ${Lt.a.rem(1)}`,borderBottom:"1px solid "+Vl.e.Color.Border.Base.Subdued}),xu=Lt.a.style({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:Lt.a.rem(Vl.f.Space4)}),Au=Lt.a.style({display:"flex",flexDirection:"column",marginRight:Lt.a.rem(2),justifyContent:"center"}),Iu=Lt.a.style({margin:0,color:Rt.a.TextBaseSubduedColor,fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.3125),fontWeight:400}),Tu=Lt.a.style({width:Lt.a.rem(4),height:Lt.a.rem(4),minWidth:Lt.a.rem(4),minHeight:Lt.a.rem(4)}),Mu=_.b.Grid.make(({slots:e,view:t,notify:n})=>{const{onMount:a}=Object(Tr.a)(Object(w.flow)(o.a.tap(n({kind:"writingExpertFeedMount"})),o.a.finalize(Pa.notifyFeedUnmount)));return E.createElement(Dr,{"data-testid":"writing-expert-non-empty",style:Du,mount:a,"aria-live":"polite"},E.createElement(It.a.div,{className:Lu},E.createElement(Zi,{style:Bu},"Writing Expert detected!!!!"),t("writersIntent").pipe(o.a.map(x.fold(w.constNull,({title:e,subTitle:t})=>E.createElement("div",{style:{background:"green",display:"flex"}},E.createElement("p",null,e),E.createElement("p",null,t)))))),E.createElement(Hr,{className:ou},e.cardList))}),Pu=_.b.Knot.make(Mu,{cardList:fl}),Nu=_.b.Union.make("kind",{loadingState:yu,emptyState:pu,nonEmptyState:Pu}),Du={padding:0,display:"grid",gridTemplateRows:"auto 1fr auto",height:"100%"},Bu={whiteSpace:"normal",padding:0},Lu=Lt.a.style({display:"flex",alignItems:"flex-start",justifyContent:"space-between",padding:`${Lt.a.rem(Vl.f.Space2)} ${Lt.a.rem(Vl.f.Space4)}`,paddingTop:Lt.a.rem(Vl.f.Space4)}),Fu=_.b.Node.make(({view:e})=>E.createElement(Dr,{"data-testid":"settings"},e("content"))),Ru=_.b.Grid.make(({slots:e})=>E.createElement("div",{className:Wu},E.createElement("h2",{className:zu},"Looks like you got signed out"),e.content,e.signIn)),Hu=_.b.Union.make("kind",{free:_.b.Node.make(()=>E.createElement("p",{className:Gu},"Sign back in to use personalized features and generative AI.")),premium:_.b.Node.make(()=>E.createElement(E.Fragment,null,E.createElement("p",{className:Gu},"You’re missing out on your Premium features. Sign back in to:"),E.createElement("ul",{className:qu},E.createElement("li",null,E.createElement(Pt.g,{className:Ku}),"Rewrite full sentences"),E.createElement("li",null,E.createElement(Pt.g,{className:Ku}),"Strike the right tone"),E.createElement("li",null,E.createElement(Pt.g,{className:Ku}),"Use generative AI")))),business:_.b.Node.make(()=>E.createElement(E.Fragment,null,E.createElement("p",{className:Gu},"You’re missing out on your Grammarly Business features. Sign back in to:"),E.createElement("ul",{className:qu},E.createElement("li",null,E.createElement(Pt.g,{className:Ku}),"Rewrite full sentences"),E.createElement("li",null,E.createElement(Pt.g,{className:Ku}),"Strike the right tone"),E.createElement("li",null,E.createElement(Pt.g,{className:Ku}),"Access time-saving snippets"),E.createElement("li",null,E.createElement(Pt.g,{className:Ku}),"Maintain your brand voice"),E.createElement("li",null,E.createElement(Pt.g,{className:Ku}),"Use generative AI"))))}),Vu=_.b.Union.asOption(_.b.Node.make(({notify:e})=>E.createElement(Tt.a,{name:"signBackIn",onClick:e({kind:dt.a.Kind.signInButtonClick})},"Sign in"))),Uu=_.b.Knot.make(Ru,{content:Hu,signIn:Vu}),Wu=Lt.a.style({padding:Lt.a.rem(Pt.D.Space.Space4)}),zu=Lt.a.style({fontSize:Lt.a.rem(1),lineHeight:"1.5em",margin:0}),Gu=Lt.a.style({fontSize:Lt.a.rem(.875),lineHeight:"1.5em",margin:`0 0 ${Lt.a.rem(Pt.D.Space.Space4)} 0`,color:Pt.D.SemanticColor.Color.Text.Base.Subdued}),qu=Lt.a.style({fontSize:Lt.a.rem(.875),margin:Lt.a.rem(Pt.D.Space.Space4)+" 0",paddingInlineStart:Lt.a.rem(2),listStyle:"none",position:"relative",$nest:{"& > li":{margin:Lt.a.rem(Pt.D.Space.Space2)+" 0"}}}),Ku=Lt.a.style({width:Lt.a.rem(1.5),height:Lt.a.rem(1.5),position:"absolute",left:0,marginTop:Lt.a.rem(-.25)});var $u=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const Zu=Lt.a.keyframes({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}),Yu=Lt.a.style({animation:Zu+" 1s linear infinite",width:Lt.a.rem(1),height:Lt.a.rem(1),minWidth:Lt.a.rem(1),minHeight:Lt.a.rem(1)}),Xu=e=>{const{className:t}=e,n=$u(e,["className"]);return E.createElement(Mt.e,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},Object(At.c)(Yu,t),n),E.createElement("circle",{cx:"8",cy:"8",r:"5",stroke:"#C2C6D4",strokeWidth:"2"}),E.createElement("path",{d:"M13 8C13 8.76694 12.8236 9.5236 12.4844 10.2114C12.1452 10.8993 11.6523 11.4999 11.0438 11.9668C10.4354 12.4336 9.72765 12.7543 8.97545 12.9039C8.22325 13.0535 7.44671 13.0281 6.7059 12.8296",stroke:"#05735A",strokeWidth:"2",strokeLinecap:"round"}))},Qu=e=>E.createElement(Mt.e,Object.assign({width:"18",height:"18",viewBox:"0 0 18 18"},e),E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0607 3.64286C9.5893 2.78571 8.4107 2.78571 7.93926 3.64286L3.16592 12.3214C2.69448 13.1786 3.28378 14.25 4.22667 14.25H13.7733C14.7162 14.25 15.3055 13.1786 14.8341 12.3214L10.0607 3.64286ZM8.25 6C8.25 5.58579 8.58579 5.25 9 5.25C9.41421 5.25 9.75 5.58579 9.75 6V9.75C9.75 10.1642 9.41421 10.5 9 10.5C8.58579 10.5 8.25 10.1642 8.25 9.75V6ZM9.75 12C9.75 12.4142 9.41421 12.75 9 12.75C8.58579 12.75 8.25 12.4142 8.25 12C8.25 11.5858 8.58579 11.25 9 11.25C9.41421 11.25 9.75 11.5858 9.75 12Z",stroke:"none"})),Ju=e=>Object.assign({height:"100%"},e?{borderBottomLeftRadius:"inherit",borderBottomRightRadius:"inherit"}:{borderRadius:Lt.a.rem(Pt.D.Radius.Radius1+Pt.D.Radius.RadiusHalf)}),ed=e=>Lt.a.style(Object.assign(Object.assign({},Ju(e)),{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"})),td=e=>Lt.a.style(Object.assign(Object.assign({},Ju(e)),{border:"none",margin:"0",width:"100%"})),nd=Lt.a.style({color:Pt.D.SemanticColor.Color.Text.Base.Subdued,fontSize:Lt.a.rem(.75),fontFamily:"Inter",fontWeight:700,lineHeight:Lt.a.rem(1.125)}),ad=Lt.a.style({color:Pt.D.SemanticColor.Color.Text.Base.Subdued,fontSize:Lt.a.rem(.75),fontFamily:"Inter",lineHeight:Lt.a.rem(1.125)}),rd=Lt.a.style({visibility:"hidden",position:"absolute"}),id=_.b.Node.make(({state:e,view:t,notify:n})=>{const{notifyUnmount:a}=E.useContext(Si),{ref:r,onMount:i}=Object(Tr.a)(Object(w.flow)(o.a.tap(e=>n({kind:dt.a.Kind.mount,name:ft.a.skill,element:e})()),o.a.finalize(()=>a({kind:dt.a.Kind.unmount,name:ft.a.skill})))),s=E.useMemo(()=>t("status").pipe(o.a.pairwise(),o.a.filter(([e,t])=>"loading"===e&&"ready"===t),o.a.switchMap(()=>r.pipe(o.b.compact,o.a.tap(e=>e.focus())))),[r]);Ir.a.useSubscriptionTo(s);const c=E.useContext(Pr.a).view("flatUI");return E.createElement(Dr,{"data-testid":"skill",style:o.a.combineLatestStatic([t("size"),c]).pipe(o.a.map(([e,t])=>Object.assign(Object.assign({},(e=>Object.assign({padding:0,height:Lt.a.rem(14.625),overflow:"hidden",boxSizing:"border-box",maxHeight:"inherit"},e?{display:"flex",justifyContent:"center",alignItems:"center",borderBottomLeftRadius:"inherit",borderBottomRightRadius:"inherit"}:{}))(t)),{height:e.height})))},o.a.combineLatestStatic([e,c]).pipe(o.a.map(([{status:e,srcUrl:t},n])=>"loading"===e||"ready"===e?E.createElement(E.Fragment,null,"loading"===e&&E.createElement("div",{className:ed(n)},E.createElement(Xu,null),E.createElement("span",{className:ad},"Loading...")),E.createElement("iframe",{"aria-busy":"loading"===e,key:t,src:t,ref:i,allow:"clipboard-write "+t,className:Lt.a.joinClasses([td(n),"loading"===e?rd:void 0])})):"error"===e?E.createElement("div",{className:ed(n)},E.createElement(Qu,null),E.createElement("span",{className:nd},"Something went wrong"),E.createElement("span",{className:ad},"Please try again.")):Object(I.d)(e))))}),od=_.b.Union.asOption(id);var sd=n("D6wy"),cd=n("t39C"),ld=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function ud(e){var{children:t,onOpenChange:n,title:a,placement:r="bottom end"}=e,i=ld(e,["children","onOpenChange","title","placement"]);return E.createElement(ri.a.Consumer,null,({portalContainer:e})=>E.createElement(It.a.Fragment,null,e.view(x.fold(w.constNull,e=>E.createElement(Vc,Object.assign({},i,{portalContainer:e,placement:r,title:a,onOpenChange:e=>null==n?void 0:n(e)}),t)))))}const dd=({status:e,description:t})=>{const[n,a]=e===Ct.On?[md,gd]:e===Ct.Off?[fd,bd]:Object(I.d)(e),r=Object(w.pipe)(t,x.fold(()=>j.a.createElement(Mt.d.Info,{className:a}),e=>j.a.createElement(sd.a,{title:j.a.createElement("div",{className:yd},e)},j.a.createElement(Mt.d.Info,{className:a}))));return j.a.createElement("div",{className:n},j.a.createElement("div",{className:vd},e,"-BRAND ",r))},pd={display:"inline-flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:Lt.a.rem(Pt.D.Space.Space1),paddingRight:Lt.a.rem(Pt.D.Space.Space1),paddingLeft:Lt.a.rem(Pt.D.Space.Space1),textTransform:"uppercase",letterSpacing:"0.04em",fontSize:Lt.a.rem(Pt.D.Space.Space2+Pt.D.Space.SpaceHalf),lineHeight:Lt.a.rem(Pt.D.Space.Space4)},md=Lt.a.style(pd,{background:Rt.a.OnBrandBadge,color:Rt.a.OnBrandBadgeLabel}),fd=Lt.a.style(pd,{background:Rt.a.OffBrandBadge,color:Rt.a.OffBrandBadgeLabel}),hd={width:Lt.a.rem(Pt.D.Space.Space2+Pt.D.Space.SpaceHalf),minWidth:"unset",minHeight:"unset",paddingLeft:Lt.a.rem(Pt.D.Space.Space2)},gd=Lt.a.style(hd,{stroke:Rt.a.OnBrandBadgeIcon,fill:Rt.a.OnBrandBadgeIcon}),bd=Lt.a.style(hd,{stroke:Rt.a.OffBrandBadgeIcon,fill:Rt.a.OffBrandBadgeIcon}),vd=Lt.a.style({display:"flex",justifyContent:"center",whiteSpace:"nowrap"}),yd=Lt.a.style({maxWidth:Lt.a.rem(65*Pt.D.Space.Space1),textAlign:"left",whiteSpace:"normal",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":5,"-webkit-box-orient":"vertical"}),Od=({tone:e,index:t,onReportPositiveFeedback:n,onReportNegativeFeedback:a})=>{const r=Object(w.pipe)(e.brandToneInfo,x.fold(()=>E.createElement(sd.a,{title:e.prevalence+" intensity"},E.createElement("div",{className:_d},[0,1,2,3,4].map(t=>{const n=t/5<=e.confidence;return E.createElement("div",{key:`${e.name}-intensity-${t}`,className:n?Ad:xd})}))),({status:e,description:t})=>E.createElement(dd,{status:e,description:t})));return E.createElement("div",{"data-testid":"tone-report-tone","data-tone-report-tone-name":e.name,role:`tone-${t}-${e.name}`,className:Cd},E.createElement("div",{className:wd},E.createElement(cd.c,{id:e.emojiId,className:kd}),E.createElement("span",{className:Ed},e.name)),E.createElement("div",{className:jd},r),E.createElement(ud,{"aria-label":e.name+" Tone Actions Menu",placement:"left",label:E.createElement(Pt.t,{className:Id}),onAction:e=>{switch(e){case"likeTone":return n();case"dislikeTone":return a();default:return}}},E.createElement(Uc.b,{title:"Help us improve"},E.createElement(Uc.a,{key:"likeTone",textValue:"likeTone"},E.createElement(Pt.x,{className:Td}),"Tone seems correct"),E.createElement(Uc.a,{key:"dislikeTone",textValue:"dislikeTone"},E.createElement(Pt.w,{className:Td}),"Tone seems incorrect"))))},Sd={height:Lt.a.rem(5*Pt.D.Space.SpaceQuarter),width:Lt.a.rem(5*Pt.D.Space.SpaceQuarter),borderRadius:Lt.a.percent(50),marginRight:Lt.a.rem(3*Pt.D.Space.SpaceQuarter)},Cd=Lt.a.style({display:"grid",alignItems:"center",gridTemplateColumns:"0.6fr 0.5fr auto",height:Lt.a.rem(2.5)}),wd=Lt.a.style({display:"flex",alignItems:"center",flexBasis:Lt.a.percent(45)}),kd=Lt.a.style({padding:Lt.a.rem(Pt.D.Space.SpaceHalf),marginRight:Lt.a.rem(Pt.D.Space.Space3),width:Lt.a.rem(Pt.D.Space.Space5),height:Lt.a.rem(Pt.D.Space.Space5)}),Ed=Lt.a.style({textTransform:"capitalize",fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.3125)}),jd=Lt.a.style({display:"inline-flex"}),_d=Lt.a.style({display:"flex"}),xd=Lt.a.style(Sd,{backgroundColor:Rt.a.IndicatorDotDefault}),Ad=Lt.a.style(Sd,{backgroundColor:Rt.a.IndicatorDotActive}),Id=Lt.a.style({padding:Lt.a.rem(Pt.D.Space.Space1)}),Td=Lt.a.style({marginRight:Lt.a.rem(Pt.D.Space.Space2)}),Md=_.b.Node.make(({state:e,notify:t})=>{const{onMount:n}=Object(Tr.a)(o.a.tap(e=>t({kind:dt.a.Kind.mount,name:ft.a.toneReport,element:e})()));return j.a.createElement(Dr,{mount:n,key:"tone-report","data-testid":"tone-report"},j.a.createElement("div",{className:Ld},j.a.createElement(It.a.div,{className:Fd},e.pipe(o.a.map(e=>function({tones:e,onBrandTitleEnabled:t}){const n=Object(w.pipe)(e,D.y(e=>x.isSome(e.brandToneInfo)&&e.brandToneInfo.value.status===Ct.Off),x.map(D.R(e=>e.confidence)),x.map(D.Z(0,z.max(z.ordNumber)))),a=e.filter(e=>x.isSome(e.brandToneInfo)&&e.brandToneInfo.value.status===Ct.On).length;return x.isSome(n)&&n.value>.75?"Your tone may sound off to readers":x.isSome(n)?"Something sounds slightly off...":a>0&&t?"You're on-brand! Great job!":a>0?"Your writing sounds clear and aligned. Great job!":"How this may sound to readers:"}(e))))),j.a.createElement(It.a.div,{className:Rd,"data-testid":"tone-report-items"},e.pipe(o.a.map(({tones:e})=>e.map((e,n)=>j.a.createElement(Od,{key:e.name,index:n,tone:e,onReportPositiveFeedback:t({kind:dt.a.Kind.toneReportToneLikeButtonClick,toneName:e.name}),onReportNegativeFeedback:t({kind:dt.a.Kind.toneReportToneDislikeButtonClick,toneName:e.name})}))))))});const Pd=_.b.Node.make(()=>j.a.createElement(Dr,{style:Dd},j.a.createElement(Xu,null),j.a.createElement("span",{className:Bd},"Loading..."))),Nd=_.b.Union.make("kind",{loading:Pd,loadedEmpty:Pd,loadedNonEmpty:Md}),Dd={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:Lt.a.rem(9.5)},Bd=Lt.a.style({color:Pt.D.SemanticColor.Color.Text.Base.Subdued,fontSize:Lt.a.rem(.75),fontFamily:"Inter",lineHeight:Lt.a.rem(1.125)}),Ld=Lt.a.style({display:"flex",alignItems:"flex-start"}),Fd=Lt.a.style({flexGrow:1,fontStyle:"normal",fontWeight:"bold",fontSize:Lt.a.rem(1),lineHeight:Lt.a.rem(1.5)}),Rd=Lt.a.style({marginTop:Lt.a.rem(.5)});var Hd=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const Vd=e=>{var{text:t,onChange:n,placeholder:a,disabled:r,className:i,onFocus:o,onBlur:s,onKeyPressEnter:c,autofocus:l,onKeyUpEscape:u}=e,d=Hd(e,["text","onChange","placeholder","disabled","className","onFocus","onBlur","onKeyPressEnter","autofocus","onKeyUpEscape"]);const[p,m]=E.useState(null);return E.useEffect(()=>{p&&void 0!==l&&p.focus()},[l,p]),E.createElement(xi,{className:i,style:{height:Lt.a.rem(1.375)},name:"text-input-iframe"},E.createElement("style",{dangerouslySetInnerHTML:{__html:`\n      .textBox {\n        box-sizing: border-box;\n        border-radius: ${Lt.a.rem(Pt.D.Radius.Radius1)};\n        overflow-y: auto;\n        width: 100%;\n        height: 100%;\n        border: none;\n        padding: 0;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${Lt.a.rem(.875)};\n        font-weight: 400;\n        color: ${ji};\n      }\n      .textBox::placeholder {\n        color: ${_i};\n      }\n      .textBox:focus {\n        outline: none;\n      }\n      `.replace(/\s/g,"")}}),E.createElement("input",Object.assign({},d,{className:"textBox",style:{lineHeight:Lt.a.rem(1.375)},value:t,ref:m,onChange:e=>n(e.target.value),placeholder:a,disabled:r,onFocus:()=>null==o?void 0:o(),onBlur:()=>null==s?void 0:s(),onKeyPress:e=>{c&&"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),e.stopPropagation(),c())},onKeyDown:e=>{u&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),u())}})))},Ud={padding:`${Lt.a.rem(Pt.D.Space.Space1)} ${Lt.a.rem(Pt.D.Space.Space1+Pt.D.Space.Space8)} ${Lt.a.rem(Pt.D.Space.Space1)} ${Lt.a.rem(Pt.D.Space.Space3)}`,border:"1px solid "+Pt.D.SemanticColor.Color.Background.Neutral.Default,borderRadius:Lt.a.rem(Pt.D.Radius.Radius1),width:Lt.a.rem(15),height:Lt.a.rem(2),boxSizing:"border-box",position:"relative"},Wd={position:"absolute",right:Lt.a.rem(Pt.D.Space.Space2),top:Lt.a.rem(.1875),border:"none",background:"transparent",display:"flex",alignItems:"center",cursor:"pointer",width:Lt.a.rem(1.5),height:Lt.a.rem(1.5),padding:0},zd=Object.assign(Object.assign({},Object(Ft.c)(1.5)),{$nest:{"& svg":{stroke:Pt.D.SemanticColor.Color.Text.Base.Subdued}}}),Gd={padding:Lt.a.rem(Pt.D.Space.Space1),background:"white",boxShadow:Pt.D.Elevation.Elevation100.boxShadow,border:Pt.D.Elevation.Elevation100.border,borderRadius:Lt.a.rem(Pt.D.Radius.Radius1),width:Lt.a.rem(15),boxSizing:"border-box",overflowY:"auto",maxHeight:Lt.a.rem(8.125),zIndex:9999,$nest:{"& > ul":{listStyle:"none",padding:0,margin:0,$nest:{"& > li":{padding:0,margin:0}}}}},qd={border:"none",background:"transparent",width:"100%",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.375),color:Pt.D.SemanticColor.Color.Text.Base.Default,padding:`${Lt.a.rem(.1875)} ${Lt.a.rem(Pt.D.Space.Space3)}`,borderRadius:Lt.a.rem(Pt.D.Radius.Radius1),display:"flex",justifyContent:"flex-start",$nest:{"&:hover":{background:Pt.D.Color.Blue0},"& mark":{backgroundColor:"unset",fontWeight:"bold"}}},Kd={width:Lt.a.percent(100),border:"none"},$d=Lt.a.style(Ud),Zd=Lt.a.style(Wd),Yd=Lt.a.style(zd),Xd=Lt.a.style(Gd),Qd=Lt.a.style(qd),Jd=Lt.a.style({whiteSpace:"pre"}),ep=Lt.a.style(Kd),tp=new Hs.a(999999);function np({text:e,placeholder:t,clearButton:n,selectOnBlur:a,label:r,options:i,className:s,filterBy:c=((e,t)=>r(e).toLowerCase().includes(t.toLowerCase())),onInputChange:l,onSelectionChange:u}){const[d,p]=E.useState(!1),m=E.useRef(tp.newId().toString()),[f,h]=E.useState(null),[g,b]=E.useState(null),{styles:v,attributes:y}=Object(Rs.a)(f,g,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),O=i.filter(t=>c(t,e.trim())),S=d&&O.length>0,C=E.useMemo(()=>new A.a,[]);return Ir.a.useSubscriptionTo(C.pipe(o.a.debounceTime(50),o.a.filter(e=>!e),o.a.tap(()=>{p(!1),a&&""!==e.trim()&&u(O.length>0?O[0]:null)}))),E.createElement("div",Object.assign({},Object(At.c)($d,s),{ref:h}),E.createElement(Vd,{className:ep,placeholder:t,onChange:l,text:e,onFocus:()=>{p(!0),C.next(!0)},onBlur:()=>C.next(!1),role:"combobox","aria-haspopup":"listbox","aria-owns":m.current,"aria-expanded":S}),""!==e.trim()&&!!n&&E.createElement("button",{onClick:Object(Vs.a)(()=>u(null)),className:Zd,"aria-label":"Clear",type:"button"},E.createElement(Mt.d.Close,{className:Yd})),S&&E.createElement("div",Object.assign({ref:b,style:v.popper},y.popper,{className:Xd,onFocus:()=>C.next(!0),onBlur:()=>C.next(!1)}),E.createElement("ul",{"aria-label":"menu-options",role:"listbox",id:m.current},O.map(t=>{const n=r(t);return E.createElement("li",{key:n,"aria-label":n,role:"option"},E.createElement("button",{className:Qd,onClick:Object(Vs.a)(()=>{u(t),p(!1)})},E.createElement(ap,{label:n,pattern:e})))}))))}const ap=({label:e,pattern:t})=>{if(""===t.trim())return E.createElement(E.Fragment,null,e);const n=t.trim(),a=e.split(new RegExp(n,"i")),r=Object(w.pipe)(a.map((e,t)=>({token:e,mark:!1,end:t*n.length+a.slice(0,t).join("").length+e.length})),N.mb({token:"",mark:!0,end:0})).map((t,a,r)=>t.mark&&a>0?{token:e.slice(r[a-1].end,r[a-1].end+n.length),mark:!0}:{token:t.token,mark:!1}).filter(e=>e.token.length>0);return E.createElement(E.Fragment,null,r.map((e,t)=>e.mark?E.createElement("mark",{key:t,className:Jd},e.token):E.createElement("span",{key:t,className:Jd},e.token)))};const rp=e=>E.createElement(Mt.e,Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},e),E.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeWidth:".857",d:"m4 4 2 2m2 2L6 6m0 0 2-2M6 6 4 8"})),ip=({kind:e,label:t,description:n,iconUrl:a,isUnselectable:r,onToggle:i})=>E.createElement(sd.a,{title:n},E.createElement("button",{disabled:"disabled"===e,className:op,"data-kind":e,"data-unselectable":r,onClick:Object(Vs.a)(()=>{"disabled"!==e&&i("selected"!==e&&("unselected"===e||Object(I.d)(e)))})},a?E.createElement("img",{src:a,style:{width:20,height:20}}):null,E.createElement("span",null,t),r&&"selected"===e?E.createElement(rp,{className:sp}):null)),op=Lt.a.style({display:"flex",alignItems:"center",justifyContent:"center",gap:Lt.a.rem(Pt.D.Space.Space2),padding:`${Lt.a.rem(Pt.D.Space.Space1)} ${Lt.a.rem(.625)} ${Lt.a.rem(Pt.D.Space.Space1)} ${Lt.a.rem(Pt.D.Space.Space2)}`,background:Pt.D.SemanticColor.Color.Background.Base.Default,color:Pt.D.SemanticColor.Color.Text.Base.Default,border:Lt.a.px(1)+" solid transparent",borderRadius:Lt.a.rem(1.875),fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.375),boxSizing:"border-box",$nest:{"&[data-kind='unselected']":{border:`${Lt.a.px(1)} solid ${Pt.D.Color.BlueGray5}`,color:Pt.D.SemanticColor.Color.Text.Base.Default,cursor:"pointer"},"&[data-kind='disabled']":{border:`${Lt.a.px(1)} solid ${Pt.D.Color.BlueGray5}`,color:Pt.D.Color.BlueGray40,cursor:"default"},"&[data-kind='selected']":{border:`${Lt.a.px(2)} solid ${Rt.a.BrandGreen60}`,padding:`${Lt.a.rem(.1875)} ${Lt.a.rem(.5625)} ${Lt.a.rem(.1875)} ${Lt.a.rem(.4375)}`,position:"relative",$nest:{"&[data-unselectable='true']":{cursor:"pointer"}}}}}),sp=Lt.a.style(Object.assign(Object.assign({position:"absolute",top:Lt.a.rem(-(Pt.D.Space.Space1+Pt.D.Space.SpaceQuarter)),right:Lt.a.rem(-(Pt.D.Space.Space1+Pt.D.Space.SpaceQuarter)),boxSizing:"content-box"},Object(Ft.c)(.75)),{border:Lt.a.rem(.125)+" solid white",borderRadius:"50%",background:Rt.a.BrandGreen60,display:"flex",alignItems:"center",justifyContent:"center"})),cp=({chips:e,className:t,onToggle:n})=>E.createElement(It.a.div,Object.assign({},Object(At.c)(lp,t)),e.pipe(o.a.map(N.ub(e=>E.createElement(ip,Object.assign({},e,{onToggle:t=>n(e,t),key:e.label})))))),lp=Lt.a.style({display:"flex",flexWrap:"wrap",gap:Lt.a.rem(Pt.D.Space.Space1),$nest:{div:{marginTop:Lt.a.rem(Pt.D.Space.Space1)}}}),up={margin:0,padding:Lt.a.rem(Pt.D.Space.Space4),gap:Lt.a.rem(Pt.D.Space.Space4),boxSizing:"border-box",minHeight:"100%"},dp={color:Pt.D.SemanticColor.Color.Text.Base.Default,fontWeight:700,fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.375),margin:0},pp={color:Pt.D.SemanticColor.Color.Text.Base.Subdued,fontWeight:400,fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125)},mp={marginTop:Lt.a.rem(Pt.D.Space.Space2)},fp={color:Pt.D.Color.BlueGray60,fontWeight:400,fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125)},hp={display:"flex",justifyContent:"flex-end",gap:Lt.a.rem(Pt.D.Space.Space2),flexGrow:1,alignItems:"flex-end"},gp={fontSize:Lt.a.important(Lt.a.rem(.875))},bp={marginTop:Lt.a.rem(Pt.D.Space.Space2)},vp={marginTop:Lt.a.rem(Pt.D.Space.Space2)},yp={display:"flex",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space2)},Op={width:Lt.a.rem(1.5),height:Lt.a.rem(1.5),display:"flex",alignItems:"center",justifyContent:"center"},Sp=Lt.a.style({display:"grid",minHeight:"100%",gridTemplateRows:"minmax(min-content, auto)"}),Cp=up,wp=Lt.a.style(dp),kp=Lt.a.style(mp),Ep=Lt.a.style(pp),jp=Lt.a.style(fp),_p=Lt.a.style(hp),xp=Lt.a.style(gp),Ap=Lt.a.style(gp),Ip=Lt.a.style(bp),Tp=Lt.a.style(vp),Mp=Lt.a.style(yp),Pp=Lt.a.style(Op),Np=_.b.Node.make(({view:e,state:t,notify:n})=>E.createElement("div",{className:Sp},E.createElement(Dr,{style:Cp,"data-testid":"voice-profile"},E.createElement("section",null,E.createElement("h2",{className:wp},"Formality"),E.createElement(cp,{className:kp,chips:e("styles").pipe(o.a.map(N.ub(e=>Object.assign(Object.assign({},e),{isUnselectable:!1})))),onToggle:e=>n({kind:dt.a.Kind.styleToggleClick,id:e.id})()})),E.createElement("section",null,E.createElement("h2",{className:wp},"Tone"),E.createElement(It.a.div,{className:Ep},"Select up to"," ",e("maxSelectableTones").pipe(o.a.map(e=>{return t=e,Number.isInteger(t)&&t>=0&&t<10?function(e){return["zero","one","two","three","four","five","six","seven","eight","nine"][e]}(e):""+e;var t}))),E.createElement(cp,{className:kp,chips:e("tones").pipe(o.a.map(N.ub(e=>Object.assign(Object.assign({},e),{isUnselectable:!0})))),onToggle:(e,t)=>n({kind:dt.a.Kind.toneToggleClick,selected:t,id:e.id})()})),t.pipe(o.a.map(e=>Object(w.pipe)(e.roles,D.F,x.fold(w.constNull,t=>E.createElement("section",null,E.createElement("h2",{className:wp},"Your profession"),E.createElement(np,{className:Ip,placeholder:"Product designer",text:e.roleTypeaheadText,onInputChange:e=>n({kind:"updateRoleTypeaheadText",text:e})(),onSelectionChange:e=>n({kind:dt.a.Kind.roleTypeaheadSelectionChange,role:x.fromNullable(e)})(),options:t,label:e=>e.label,clearButton:!0,selectOnBlur:!0})))))),E.createElement("section",null,E.createElement("h2",{className:wp},"I write in"),E.createElement(It.a.Fragment,null,t.pipe(o.a.map(({dialects:e,selectedDialect:t})=>E.createElement(Js,{className:Tp,options:e.filter(e=>!we.Dialect.Id.eq.equals(e.id,t.id)),selection:t,onSelectionChange:e=>n({kind:dt.a.Kind.dialectDropdownSelectionChange,dialect:e})(),label:e=>e.label,renderOption:e=>E.createElement("div",{className:Mp},E.createElement("div",{className:Pp},E.createElement("img",{src:e.iconUrl,style:{width:Lt.a.rem(1),height:Lt.a.rem(1)}})),e.label)}))))),e("description").pipe(o.a.map(e=>""!==e.trim()?E.createElement("div",{className:jp},e):null)),E.createElement(It.a.div,{className:_p},E.createElement(Tt.a,{variant:"tertiary",className:Ap,onClick:n({kind:dt.a.Kind.voiceProfileCloseButtonClick}),name:"closeVoiceProfile"},"Close"),e("applyButtonEnabled").pipe(o.a.map(e=>E.createElement(Tt.a,{className:xp,onClick:n({kind:dt.a.Kind.voiceProfileUseVoiceButtonClick}),disabled:!e,name:"applyVoiceProfile"},"Use this voice"))))))),Dp=({className:e})=>E.createElement("div",Object.assign({role:"separator"},Object(At.c)(Bp,e))),Bp=Lt.a.style({position:"relative",width:"100%",borderBottom:"0.5px solid "+Pt.D.Color.BlueGray10});var Lp,Fp=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};!function(e){let t;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={}))}(Lp||(Lp={}));const Rp=({tabs:e,activeTabId:t,onActiveTabChange:n,children:a})=>E.createElement(E.Fragment,null,E.createElement("div",{className:Vp,role:"tablist"},e.map(e=>E.createElement("button",{key:e.id,onClick:()=>n(e.id),tabIndex:0,className:Up,id:"tab-"+e.id,"aria-label":`${e.label} ${e.id===t?"Selected.":""}`,"aria-controls":"tabpanel-"+e.id,"aria-selected":t===e.id,role:"tab",type:"button"},e.label))),a),Hp=e=>{var{id:t,isActive:n,children:a,className:r,style:i}=e,o=Fp(e,["id","isActive","children","className","style"]);return E.createElement("div",Object.assign({role:"tabpanel",id:"tabpanel-"+t,"aria-labelledby":"tab-"+t,hidden:!n,style:n?i:void 0,className:n?r:void 0},o),a)},Vp=Lt.a.style({display:"flex",alignContent:"flex-start",gap:Lt.a.rem(Pt.D.Space.Space2)}),Up=Lt.a.style({cursor:"pointer",border:"none",display:"flex",alignItems:"center",background:"transparent",borderBottom:Lt.a.rem(Pt.D.Space.SpaceHalf)+" solid transparent",fontWeight:400,fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125),height:Lt.a.rem(1.5),color:Rt.a.TextBaseSubduedColor,$nest:{'&[aria-selected="true"]':{borderBottomColor:Rt.a.TextBaseSubduedColor,fontWeight:700},'&[aria-selected="false"]:hover':{borderBottomColor:Pt.D.Color.BlueGray10}}}),Wp={editBtn:"editBtn",cancelBtn:"cancelBtn",saveBtn:"saveBtn"},zp={default:{backgroundColor:Rt.a.BlueGray0}},Gp=e=>Object.assign(Object.assign({gap:0,backgroundImage:"url(https://assets.grammarly.com/cheetah/v1/voice-profile/cheetah-my-voice-bg.svg)",backgroundPosition:"right",backgroundRepeat:"no-repeat",backgroundSize:"auto 100%"},e?{padding:`${Lt.a.rem(Pt.D.Space.Space3)} ${Lt.a.rem(Pt.D.Space.Space4)}`}:{}),{$nest:{["."+Wp.editBtn]:{opacity:0,pointerEvents:"none",$nest:{"&:focus":{opacity:1,pointerEvents:"auto"}}},[`&:hover .${Wp.editBtn}, &:focus .${Wp.editBtn}`]:{opacity:1,pointerEvents:"auto"}}}),qp=e=>Lt.a.style({display:"flex",justifyContent:"space-between",marginBottom:e?Lt.a.rem(Pt.D.Space.Space2):Lt.a.rem(Pt.D.Space.SpaceHalf+Pt.D.Space.Space1)}),Kp=Lt.a.style({margin:0,fontSize:Lt.a.rem(1.25),lineHeight:Lt.a.rem(1.5),fontWeight:700}),$p=Lt.a.style({display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"}),Zp=Lt.a.style({display:"flex",flexDirection:"column",gap:Lt.a.rem(Pt.D.Space.Space2)}),Yp=Lt.a.style({display:"flex",flexDirection:"column",gap:Lt.a.rem(Pt.D.Space.Space1)}),Xp=Lt.a.style({color:Rt.a.TextBaseSubduedColor,fontWeight:400,fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125),margin:0}),Qp=Lt.a.style({display:"flex",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space2)}),Jp=Lt.a.style({width:Lt.a.rem(1.5),height:Lt.a.rem(1.5),display:"flex",alignItems:"center",justifyContent:"center",$nest:{"& img":{width:Lt.a.rem(1),height:Lt.a.rem(1)}}}),em=Lt.a.style({display:"flex",flexDirection:"column",gap:Lt.a.rem(Pt.D.Space.Space1)}),tm=Lt.a.style({display:"flex",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space1),height:Lt.a.rem(1.5),color:Rt.a.TextBaseSubduedColor,fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.3125),fontWeight:500}),nm=Lt.a.style({display:"flex",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space2)});var am=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const rm=e=>{var{children:t,active:n}=e,a=am(e,["children","active"]);const r=E.useRef(null);return E.createElement(E.Fragment,null,r.current&&n?E.createElement(_r.a,Object.assign({},a,{reference:r.current})):null,E.cloneElement(t,{ref:r}))},im=E.forwardRef((function({name:e,active:t,onClick:n},a){return E.createElement("button",{role:"button",tabIndex:0,"aria-label":e,"aria-pressed":t,"data-active":t,onClick:n,ref:a,className:om},e)})),om=Lt.a.style({display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",height:Lt.a.rem(2),borderRadius:Lt.a.rem(Pt.D.Radius.Radius1),border:Lt.a.rem(Pt.D.Space.SpaceHalf)+" solid transparent",padding:`${Lt.a.rem(Pt.D.Space.SpaceHalf+Pt.D.Space.Space1)} ${Lt.a.rem(Pt.D.Space.Space2)}`,backgroundColor:Rt.a.Green0,color:Rt.a.Green90,lineHeight:Lt.a.rem(1.3125),fontSize:Lt.a.rem(.875),$nest:{"&:hover":{backgroundColor:Lt.a.color(Rt.a.Green10).mix(Lt.a.color(Rt.a.BlueGray5)).toRGBA().toString(),color:Rt.a.Green80},'&[data-active="true"]':{outline:`${Lt.a.rem(Pt.D.Space.SpaceHalf)} solid ${Rt.a.Green80}`}}}),sm=({profileName:e,sectionName:t,tagName:n,activeTagId:a,onVoiceTagPopoverClose:r,onKeepClick:i,onRemoveClick:o,onVoiceTagClick:s})=>E.createElement(rm,{active:Object(w.pipe)(a,x.exists(a=>a===ke.createId({tagName:n,sectionName:t,profileName:e}))),onClose:a=>{"keep"===a?i():"remove"===a?o(n,e,t):r()},title:E.createElement("h1",{className:cm},"Does this sound like you?"),footer:E.createElement(_r.b.Consumer,null,({closePopover:e})=>E.createElement(E.Fragment,null,E.createElement(Tt.a,{onClick:()=>e("keep"),style:lm,textPosition:"everywhere"},E.createElement(Pt.x,null),"Yes, keep it"),E.createElement(Tt.a,{onClick:()=>e("remove"),style:lm,textPosition:"everywhere"},E.createElement(Pt.w,null),"No, remove it")))},E.createElement(im,{name:n,active:Object(w.pipe)(a,x.exists(a=>a===ke.createId({tagName:n,sectionName:t,profileName:e}))),onClick:()=>s(n,e,t)})),cm=Lt.a.style({fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.375),fontWeight:700,margin:0}),lm={default:{gap:Lt.a.rem(Pt.D.Space.Space1),padding:`0 ${Lt.a.rem(Pt.D.Space.Space2)} 0 ${Lt.a.rem(Pt.D.Space.Space1)}`,color:Rt.a.TextBaseDefault,backgroundColor:Pt.D.SemanticColor.Color.Background.Base.Default},hovered:{color:Rt.a.TextBaseDefault,backgroundColor:Rt.a.BlueGray5},active:{color:Rt.a.TextBaseDefault,backgroundColor:Rt.a.BlueGray5}},um=({profile:e,activeProfileName:t,activeTagId:n,onVoiceTagPopoverClose:a,onKeepClick:r,onRemoveClick:i,onVoiceTagClick:o})=>E.createElement(Hp,{id:Lp.Id.create(e.name),isActive:e.name===x.toNullable(t),className:dm},e.summary,E.createElement("div",{className:mm},e.sections.map(t=>E.createElement("div",{key:t.name},t.name,E.createElement("div",{className:fm},0===t.tags.length?E.createElement("div",{className:pm},"Detected qualities will appear here"):t.tags.map(s=>E.createElement(sm,{key:s.name,tagName:s.name,sectionName:t.name,profileName:e.name,activeTagId:n,onVoiceTagPopoverClose:a,onKeepClick:r,onRemoveClick:i,onVoiceTagClick:o}))))))),dm=Lt.a.style({fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.3125),display:"flex",flexDirection:"column",gap:Lt.a.rem(Pt.D.Space.Space3),paddingTop:Lt.a.rem(Pt.D.Space.Space2)}),pm=Lt.a.style({padding:"0 "+Lt.a.rem(Pt.D.Space.Space2),background:Rt.a.BlueGray0,color:Rt.a.TextBaseSubduedColor,borderRadius:Lt.a.rem(Pt.D.Radius.Radius1),height:Lt.a.rem(2),fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.3125),display:"flex",justifyContent:"center",alignItems:"center"}),mm=Lt.a.style({display:"flex",flexDirection:"column",gap:Lt.a.rem(Pt.D.Space.Space3)}),fm=Lt.a.style({marginTop:Lt.a.rem(Pt.D.Space.Space2),display:"flex",flexWrap:"wrap",gap:Lt.a.rem(Pt.D.Space.Space1)}),hm=Object(At.d)(({onEditButtonClick:e,onSaveButtonClick:t,onCancelButtonClick:n,onDialectDropdownChange:a,onRoleDropdownChange:r,userName:i,isEditing:o,selectedRole:s,roles:c,dialects:l,selectedDialect:u})=>{const d=E.useContext(Pr.a).view("flatUI");return E.createElement(Dr,{style:d.view(Gp)},E.createElement("div",{className:qp(o)},E.createElement("h1",{className:Kp},i),o?null:E.createElement(Tt.a,{variant:"secondary",onClick:e,className:Wp.editBtn,style:zp,size:"small"},"Edit")),o?E.createElement("div",{className:$p},E.createElement("div",{className:Zp},0!==c.length&&E.createElement("div",{className:Yp},E.createElement("h2",{className:Xp},"My role"),E.createElement(Js,{placeholder:"Select a role...",options:c,selection:x.toUndefined(s),onSelectionChange:r,label:e=>e.id,renderOption:e=>e.id})),E.createElement("div",{className:Yp},E.createElement("h2",{className:Xp},"I write in"),E.createElement(Js,{options:l,selection:u,onSelectionChange:a,label:e=>e.label,renderOption:e=>E.createElement("div",{className:Qp},E.createElement("div",{className:Jp},E.createElement("img",{src:e.iconUrl,alt:""})),e.label)}))),E.createElement("div",{className:nm},E.createElement(Tt.a,{variant:"tertiary",onClick:n},"Cancel"),E.createElement(Tt.a,{onClick:t},"Save"))):E.createElement("div",{className:em},Object(w.pipe)(s,x.fold(w.constNull,e=>E.createElement("div",{className:tm},E.createElement("div",{className:Jp},E.createElement(Pt.e,{icon:Pt.r,accessibilityLabel:"Role"})),E.createElement("span",null,e.label)))),E.createElement("div",{className:tm},E.createElement("div",{className:Jp},E.createElement("img",{src:u.iconUrl,alt:""})),E.createElement("span",null,u.label))))}),gm=_.b.Node.make(({view:e,state:t,notify:n})=>{const a=E.useContext(Pr.a).view("flatUI");return E.createElement(It.a.div,{className:a.view(bm)},E.createElement(hm,{onEditButtonClick:n({kind:dt.a.Kind.voiceSelectionsEditButtonClick}),onDialectDropdownChange:e=>n({kind:dt.a.Kind.voiceDialectDropdownSelectionChange,dialect:e})(),onRoleDropdownChange:e=>n({kind:dt.a.Kind.voiceRoleDropdownSelectionChange,role:e})(),onSaveButtonClick:n({kind:dt.a.Kind.voiceSelectionsSaveButtonClick}),onCancelButtonClick:n({kind:dt.a.Kind.voiceSelectionsCancelButtonClick}),userName:e("userName"),isEditing:e("isEditing"),selectedRole:e("selectedRole"),selectedDialect:e("selectedDialect"),roles:e("roles"),dialects:e("dialects")}),E.createElement(Dr,{style:a.view(vm)},E.createElement(It.a.div,null,t.pipe(o.a.map(e=>E.createElement(E.Fragment,null,E.createElement("div",{className:ym},E.createElement("div",null,E.createElement("h1",{className:Om},e.title),E.createElement("h2",{className:Sm},e.subTitle)),E.createElement(Rp,{key:"Tabs",tabs:e.profiles.map(e=>({id:Lp.Id.create(e.name),label:e.name})),activeTabId:Lp.Id.create(b.g.toNullable(e.activeProfileName)||""),onActiveTabChange:e=>n({kind:dt.a.Kind.voiceProfileTabChange,profileName:e})()})),e.profiles.map(t=>E.createElement(um,{key:t.name,profile:t,activeProfileName:e.activeProfileName,activeTagId:e.activeTagId,onVoiceTagPopoverClose:n({kind:dt.a.Kind.voiceTagPopoverClose}),onKeepClick:n({kind:dt.a.Kind.voiceTagPopoverKeepButtonClick}),onRemoveClick:(e,t,a)=>n({kind:dt.a.Kind.voiceTagPopoverRemoveButtonClick,tagName:e,profileName:t,sectionName:a})(),onVoiceTagClick:(e,t,a)=>n({kind:dt.a.Kind.voiceTagClick,tagName:e,profileName:t,sectionName:a})()})))))),E.createElement(Dp,null),E.createElement("p",{className:Cm},"You can prompt Grammarly to rewrite text in your voice.")))}),bm=e=>Lt.a.style({display:"flex",flexDirection:"column",gap:e?void 0:Lt.a.rem(Pt.D.Space.Space2)}),vm=e=>e?{gap:Lt.a.rem(Pt.D.Space.Space4),padding:`${Lt.a.rem(Pt.D.Space.Space3)} ${Lt.a.rem(Pt.D.Space.Space4)} ${Lt.a.rem(Pt.D.Space.Space4)} ${Lt.a.rem(Pt.D.Space.Space4)}`}:{gap:Lt.a.rem(Pt.D.Space.Space4)},ym=Lt.a.style({display:"flex",justifyContent:"space-between",alignItems:"flex-start"}),Om=Lt.a.style({fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.3125),fontWeight:700,margin:0}),Sm=Lt.a.style({color:Rt.a.TextBaseSubduedColor,fontWeight:400,fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125),margin:0}),Cm=Lt.a.style({margin:0,padding:0,fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.25),fontStyle:"italic",color:Pt.D.SemanticColor.Color.Text.Base.Subdued}),wm=_.b.Node.make(({view:e,notify:t})=>{const n=E.useContext(Pr.a).view("flatUI");return E.createElement(Dr,{style:n.view(km),"data-testid":e("error").pipe(o.a.map(e=>"error-"+e.reason))},E.createElement(It.a.div,{className:n.view(jm)},o.a.combineLatestStatic([e("error"),n]).pipe(o.a.map(([e,t])=>E.createElement(E.Fragment,null,E.createElement(Qu,{className:Am(t),width:t?24:18,height:t?24:18}),E.createElement("span",{className:_m},e.header))))),E.createElement(It.a.div,{className:xm},e("error").pipe(o.a.map(e=>e.text))),E.createElement(It.a.Fragment,null,e("showDismissButton").pipe(o.a.map(e=>e?E.createElement(Tt.a,{variant:"tertiary",className:n.view(Im),name:"dismissButton",onClick:t({kind:dt.a.Kind.errorCardDismissButtonClick}),size:"small"},E.createElement(Pt.p,{width:16})):null))))}),km=e=>e?{gap:Lt.a.rem(Pt.D.Space.Space2),padding:`${Lt.a.rem(Pt.D.Space.Space3)} ${Lt.a.rem(Pt.D.Space.Space4)}`}:{},Em=_.b.Union.asOption(wm),jm=e=>Lt.a.style({display:"flex",alignItems:"center",gap:Lt.a.rem(e?Pt.D.Space.Space2:Pt.D.Space.Space1),marginTop:Lt.a.rem(Pt.D.Space.Space1),marginBottom:Lt.a.rem(Pt.D.Space.Space1)}),_m=Lt.a.style({fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.375),fontWeight:700,color:Pt.D.SemanticColor.Color.Text.Base.Default}),xm=Lt.a.style({fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125),color:Pt.D.SemanticColor.Color.Text.Base.Subdued,whiteSpace:"break-spaces",overflowWrap:"anywhere"}),Am=e=>Lt.a.style(Object.assign({padding:e?void 0:Lt.a.rem(Pt.D.Space.SpaceHalf)},Object(Ft.c)(e?1.5:1.125))),Im=e=>Lt.a.style({alignSelf:"flex-end",marginTop:Lt.a.rem(e?Pt.D.Space.Space2:Pt.D.Space.Space1),marginBottom:Lt.a.rem(e?Pt.D.Space.Space2:Pt.D.Space.Space1)}),Tm=_.b.Node.make(({view:e})=>{const t=E.useContext(Pr.a).view("flatUI");return E.createElement(Dr,{style:t.view(Nm),"data-testid":"document-overview"},t.view(Object(V.c)(E.createElement(Zi,{style:Pm},"This document"),E.createElement("div",{className:Dm},"This document"))),E.createElement(It.a.div,{className:Bm},e("title")),E.createElement(It.a.div,{className:Lm},e("summary")))}),Mm=_.b.Union.asOption(Tm),Pm={userSelect:"none",padding:0},Nm=e=>({position:"relative",padding:e?`${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(Pt.D.Space.Space4)}`:`${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(Pt.D.Space.Space3)}`,gap:Lt.a.rem(Pt.D.Space.Space2),fontSize:Lt.a.rem(Pt.D.Space.Space3),lineHeight:Lt.a.rem(Pt.D.Space.Space4+Pt.D.Space.SpaceHalf)}),Dm=Lt.a.style({borderBottom:`${Lt.a.rem(Pt.D.Space.SpaceQuarter)} solid ${Pt.D.SemanticColor.Color.Border.Base.Subdued}`,paddingBottom:Lt.a.rem(Pt.D.Space.Space1),marginBottom:Lt.a.rem(Pt.D.Space.Space1),color:Pt.D.SemanticColor.Color.Text.Base.Subdued,userSelect:"none"}),Bm=Lt.a.style({fontSize:Lt.a.rem(Pt.D.Space.Space3+Pt.D.Space.SpaceHalf),color:Pt.D.SemanticColor.Color.Text.Base.Subdued,fontWeight:600}),Lm=Lt.a.style({color:Pt.D.SemanticColor.Color.Text.Base.Default}),Fm=e=>E.createElement(Mt.e,Object.assign({width:"20",height:"20",viewBox:"0 0 20 20"},e),E.createElement("path",{d:"M5.31255 7.11538H14.6876M5.31255 10H14.6876M5.00006 13.6951V16.25L8.33339 13.6951C10.5282 13.6951 14.2996 13.6951 16.2502 13.6951C16.9406 13.6951 17.5001 13.1354 17.5001 12.4451V5C17.5001 4.30964 16.9404 3.75 16.2501 3.75H3.75001C3.05965 3.75 2.5 4.30965 2.50001 5.00001L2.50005 12.4451C2.50005 13.1354 3.05969 13.6951 3.75005 13.6951H5.00006Z",fill:"none"})),Rm=e=>E.createElement(Mt.e,Object.assign({width:"12",height:"15",viewBox:"0 0 12 15"},e),E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 0.5C0.776142 0.5 1 0.723858 1 1V2H11.5C11.7022 2 11.8845 2.12182 11.9619 2.30866C12.0393 2.4955 11.9966 2.71055 11.8536 2.85355L8.70711 6L11.8536 9.14645C11.9966 9.28945 12.0393 9.5045 11.9619 9.69134C11.8845 9.87818 11.7022 10 11.5 10H1V14.5C1 14.7761 0.776142 15 0.5 15C0.223858 15 0 14.7761 0 14.5V1C0 0.723858 0.223858 0.5 0.5 0.5ZM1 9H10.2929L7.64645 6.35355C7.45118 6.15829 7.45118 5.84171 7.64645 5.64645L10.2929 3H1V9Z",stroke:"none"})),Hm=Object(At.d)(ud),Vm=Object(Ft.a)(Object(Ft.c)(1.5),"reportMenuBtnIcon"),Um=({title:e,name:t,label:n,buttonClass:a,onAction:r,onOpenChange:i,children:o})=>{const s=E.useContext(Pr.a).view("flatUI"),c=e=>({minWidth:Lt.a.rem(e?2:1.5),minHeight:Lt.a.rem(e?2:1.5),lineHeight:Lt.a.rem(e?2:1.5)});return E.createElement(Hm,{"aria-label":e,title:e,name:t,label:n,theme:s.view(e=>({button:a,buttonStyle:{default:Object.assign({padding:0},c(e)),icon:c(e)}})),onAction:r,onOpenChange:i},o)},Wm=({reportMenuButtonClassName:e,onClickReportOffensive:t,onClickProvideFeedback:n,onOpenChange:a})=>E.createElement(Um,{title:"Provide feedback",name:"reportMenu",label:E.createElement(Rm,{className:Lt.a.joinClasses(["reportMenuBtnIcon",Lt.a.style(Vm)])}),buttonClass:e,onAction:e=>{switch(e){case"provideFeedback":return n();case"reportOffensive":return t()}},onOpenChange:a},E.createElement(Uc.a,{key:"provideFeedback",textValue:"provideFeedback"},E.createElement(Fm,null),"Share your thoughts"),E.createElement(Uc.a,{key:"reportOffensive",textValue:"reportOffensive"},E.createElement(Mt.d.Report,null),"Report as offensive")),zm=({reportMenuButtonClassName:e,onClickReportOffensive:t,onClickProvideFeedback:n,onOpenChange:a,onDismiss:r})=>E.createElement(Um,{title:"More",name:"dismissReportMenu",label:E.createElement(Mt.d.EllipsisSmall,null),buttonClass:e,onAction:e=>{switch(e){case"provideFeedback":return n();case"reportOffensive":return t();case"dismissResult":return r()}},onOpenChange:a},E.createElement(Uc.a,{key:"dismissResult",textValue:"dismissResult"},E.createElement(Mt.d.Ignore,null),"Delete"),E.createElement(Uc.a,{key:"provideFeedback",textValue:"provideFeedback"},E.createElement(Fm,null),"Give feedback"),E.createElement(Uc.a,{key:"reportOffensive",textValue:"reportOffensive"},E.createElement(Mt.d.Report,null),"Report offensive content")),Gm=_.b.Node.make(({view:e})=>E.createElement(Dr,{"aria-busy":"true","data-testid":"intent-loading"},E.createElement(Zi,null,e("header")),E.createElement("div",{className:qm},E.createElement(jl,null)))),qm=Lt.a.style({height:Lt.a.rem(.5),borderRadius:Lt.a.rem(Pt.D.Space.SpaceQuarter),background:Pt.D.Color.BlueGray5,flexGrow:1,maxWidth:Lt.a.rem(22.5),position:"relative",marginBottom:Lt.a.rem(Pt.D.Space.Space1)}),Km=_.b.Node.make(({view:e,notify:t})=>{const n=E.useContext(Pr.a).view("flatUI");return E.createElement(Dr,{style:Ym,"data-testid":"intent"},E.createElement(Zi,null,e("header")),e("showReportMenu").pipe(o.a.map(Object(V.c)(E.createElement(Wm,{reportMenuButtonClassName:Qm,onClickProvideFeedback:t({kind:dt.a.Kind.openFeedbackFormButtonClick,source:ts.Source.intentCard}),onClickReportOffensive:t({kind:dt.a.Kind.reportOffensiveActionsButtonClick}),onOpenChange:e=>t({kind:dt.a.Kind.reportMenuVisibilityChange,trigger:Xa.uiItem(ft.a.intentCard),visible:e})()}),null))),E.createElement(It.a.div,Object.assign({className:n.view(Xm)},$(e("text"),[...K,"person"]))))}),$m=_.b.Union.make("kind",{loading:Gm,loaded:Km}),Zm=_.b.Union.asOption($m),Ym={position:"relative",gap:Lt.a.rem(Pt.D.Space.SpaceHalf)},Xm=e=>Lt.a.style({color:Pt.D.SemanticColor.Color.Text.Base.Default,fontStyle:"normal",fontWeight:400,fontSize:Lt.a.rem(e?.875:.75),lineHeight:Lt.a.rem(e?1.3125:1.125),fontFeatureSettings:"'ss01' on",$nest:{"& person":{fontWeight:700,color:e?void 0:Pt.D.Color.Blue60,$nest:{"&::before":{content:"''",display:"inline-block",width:Lt.a.rem(e?1.25:1),height:Lt.a.rem(e?1.25:1),marginRight:e?Lt.a.rem(Pt.D.Space.SpaceHalf):void 0,backgroundSize:"cover",verticalAlign:"text-bottom",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url('data:image/svg+xml;utf8,${encodeURIComponent(`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.95768 3.00512C8.95983 3.00512 9.7855 3.83575 9.7855 4.8769V6.01259C9.7855 7.05374 8.95983 7.88437 7.95768 7.88437C6.95553 7.88437 6.12986 7.05374 6.12986 6.01259V4.8769C6.12986 3.83575 6.95553 3.00512 7.95768 3.00512ZM10.5847 4.8769C10.5847 3.40916 9.41586 2.20593 7.95768 2.20593C6.4995 2.20593 5.33067 3.40916 5.33067 4.8769V6.01259C5.33067 7.48032 6.4995 8.68355 7.95768 8.68355C8.20909 8.68355 8.45189 8.64779 8.68159 8.58107C8.68635 8.65317 8.69342 8.72016 8.70392 8.78578C8.81061 9.45248 9.17662 10.0499 9.72211 10.4478C9.88673 10.5679 10.0776 10.6652 10.3757 10.8171L11.2702 11.2732C11.6108 11.4469 11.7408 11.5145 11.8477 11.5924C12.2227 11.866 12.4743 12.2767 12.5477 12.7351C12.5589 12.8055 12.5645 12.8807 12.5672 12.995H9.90666C9.68597 12.995 9.50707 13.1739 9.50707 13.3946C9.50707 13.6152 9.68597 13.7941 9.90666 13.7941H12.9694C13.19 13.7941 13.3689 13.6152 13.3689 13.3946L13.369 13.3588C13.369 13.0242 13.369 12.81 13.3368 12.6088C13.2301 11.9421 12.8641 11.3446 12.3186 10.9468C12.154 10.8267 11.9632 10.7294 11.665 10.5775C11.6546 10.5721 11.644 10.5667 11.6332 10.5612L10.7705 10.1214C10.43 9.94773 10.2999 9.88006 10.1931 9.80215C9.81805 9.52861 9.56642 9.11785 9.49307 8.65949C9.4762 8.55408 9.47217 8.43819 9.47124 8.19619C10.1462 7.71137 10.5847 6.9116 10.5847 6.01259V4.8769Z" fill="${e?Pt.D.Color.BlueGray60:Pt.D.Color.Blue60}"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.91127 3.00512C6.90913 3.00512 6.08346 3.83575 6.08346 4.8769V6.01259C6.08346 7.05374 6.90913 7.88437 7.91127 7.88437C8.91342 7.88437 9.73909 7.05374 9.73909 6.01259V4.8769C9.73909 3.83575 8.91342 3.00512 7.91127 3.00512ZM5.28427 4.8769C5.28427 3.40916 6.45309 2.20593 7.91127 2.20593C9.36946 2.20593 10.5383 3.40916 10.5383 4.8769V6.01259C10.5383 7.48032 9.36946 8.68355 7.91127 8.68355C7.65987 8.68355 7.41706 8.64779 7.18737 8.58107C7.1826 8.65317 7.17553 8.72016 7.16503 8.78578C7.05834 9.45248 6.69233 10.0499 6.14684 10.4478C5.98222 10.5679 5.7914 10.6652 5.49326 10.8171L4.59875 11.2732C4.25818 11.4469 4.12811 11.5145 4.02129 11.5924C3.64626 11.866 3.39463 12.2767 3.32128 12.7351C3.31001 12.8055 3.30447 12.8807 3.30176 12.995H10.2779C10.4986 12.995 10.6775 13.1739 10.6775 13.3946C10.6775 13.6152 10.4986 13.7941 10.2779 13.7941H2.8996C2.67891 13.7941 2.50001 13.6152 2.50001 13.3946L2.5 13.3588C2.49996 13.0242 2.49994 12.81 2.53214 12.6088C2.63883 11.9421 3.00484 11.3446 3.55033 10.9468C3.71494 10.8267 3.90577 10.7294 4.2039 10.5775C4.21438 10.5721 4.22499 10.5667 4.23574 10.5612L5.09841 10.1214C5.43899 9.94773 5.56906 9.88006 5.67588 9.80215C6.0509 9.52861 6.30254 9.11785 6.37589 8.65949C6.39276 8.55408 6.39678 8.43819 6.39771 8.19619C5.72278 7.71137 5.28427 6.9116 5.28427 6.01259V4.8769Z" fill="${e?Pt.D.Color.BlueGray60:Pt.D.Color.Blue60}"/></svg>`)}')`}}}}}),Qm=Lt.a.style({position:"absolute",top:Lt.a.rem(Pt.D.Space.Space3),right:Lt.a.rem(Pt.D.Space.Space3)});var Jm=n("GaKX");function ef(e,t){var n,a;const[r,i]=Object(E.useState)(void 0);return Object(E.useEffect)(()=>{e.current&&e.current.scrollWidth>e.current.clientWidth&&i(t)},[null===(n=e.current)||void 0===n?void 0:n.scrollWidth,null===(a=e.current)||void 0===a?void 0:a.clientWidth,t]),r}const tf=({title:e,url:t})=>{const n=E.useRef(null),a=ef(n,e);return Object(w.pipe)(t,x.fold(()=>E.createElement("span",{className:nf,title:a,ref:n},e),t=>E.createElement(Jm.a,{className:nf,title:a,ref:n,href:t},e)))},nf=Lt.a.style({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left",$nest:{"&:visited":{color:"inherit"}}}),af=_.b.Node.make(({view:e})=>{const t=E.useContext(Pr.a).view("flatUI");return E.createElement(Dr,{style:t.view(of),"data-testid":"detected-references"},E.createElement("span",{className:sf},"Detected references"),E.createElement(It.a.ul,{className:cf},e("detectedReferences").pipe(o.a.map(e=>e.map(({title:e,iconUrl:t,url:n},a)=>E.createElement("li",{key:a,className:lf},E.createElement("img",{src:t,className:uf,alt:""}),E.createElement(tf,{title:e,url:n})))))))}),rf=_.b.Union.asOption(af),of=e=>({position:"relative",padding:e?`${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(Pt.D.Space.Space4)}`:`${Lt.a.rem(Pt.D.Space.Space1)} ${Lt.a.rem(Pt.D.Space.Space3)}`,gap:0}),sf=Lt.a.style({fontSize:Lt.a.rem(Pt.D.Space.Space3),lineHeight:Lt.a.rem(Pt.D.Space.Space4+Pt.D.Space.SpaceHalf),color:Pt.D.SemanticColor.Color.Text.Base.Subdued,userSelect:"none"}),cf=Lt.a.style({fontSize:Lt.a.rem(Pt.D.Space.Space3),lineHeight:Lt.a.rem(Pt.D.Space.Space4+Pt.D.Space.SpaceHalf),color:Pt.D.SemanticColor.Color.Text.Base.Default,margin:0,padding:0}),lf=Lt.a.style({height:Lt.a.rem(Pt.D.Space.Space6),display:"flex",alignItems:"center",borderRadius:Lt.a.rem(Pt.D.Radius.Radius1)}),uf=Lt.a.style({minWidth:Lt.a.rem(Pt.D.Space.Space4),height:Lt.a.rem(Pt.D.Space.Space4),marginRight:Lt.a.rem(Pt.D.Space.Space2)}),df=({count:e})=>E.createElement("div",{className:pf},e),pf=Lt.a.style({display:"flex",alignItems:"center",justifyContent:"center",fontSize:Lt.a.rem(.75),fontStyle:"normal",fontWeight:700,lineHeight:Lt.a.rem(1.125),color:Pt.D.SemanticColor.Color.Text.Base.Inverse,padding:"0 "+Lt.a.rem(Pt.D.Space.Space1),background:Rt.a.BackgroundNeutralDefault,borderRadius:Lt.a.rem(Pt.D.Radius.Radius3),border:"1px solid "+Pt.D.SemanticColor.Color.Text.Base.Inverse}),mf=({children:e,style:t})=>E.createElement("i",{className:Lt.a.style(ff,t),"aria-hidden":"true"},e),ff={display:"inline-flex",alignItems:"center",justifyContent:"center",width:Lt.a.rem(1),height:Lt.a.rem(1),$nest:{"& > svg":{transform:"scale(calc(var(--rem)/16))"}}},hf=({feedForm:e,onClick:t})=>E.createElement(Tt.a,{variant:"tertiary",size:"small",style:gf,onClick:t},"shortForm"===e?E.createElement(E.Fragment,null,E.createElement("span",{className:bf},"Show more"),E.createElement(mf,null,E.createElement(Pt.n,null))):"longForm"===e?E.createElement(E.Fragment,null,E.createElement("span",{className:bf},"Show less"),E.createElement(mf,null,E.createElement(Pt.i,null))):Object(I.d)(e)),gf={default:{gap:Lt.a.rem(Pt.D.Space.Space1),padding:Lt.a.rem(Pt.D.Space.Space1),paddingLeft:Lt.a.rem(Pt.D.Space.Space2)},icon:{minHeight:Lt.a.rem(1),minWidth:Lt.a.rem(1)}},bf=Lt.a.style({fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125)}),vf=Lt.a.style({position:"relative"}),yf=Lt.a.style({overscrollBehavior:"contain",overflowX:"auto",scrollSnapType:"x mandatory",position:"relative",width:0,minWidth:"100%"}),Of=(Lt.a.style({scrollSnapAlign:"start"}),Lt.a.style({display:"flex",flexDirection:"row",flexWrap:"nowrap"}),{position:"absolute",top:"50%",zIndex:1,$nest:{"&.override":{transform:"translate(0,-50%)"}}}),Sf=Lt.a.style({left:Lt.a.rem(Pt.D.Space.Space2)}),Cf=Lt.a.style({right:Lt.a.rem(Pt.D.Space.Space2)}),wf=Lt.a.style({scrollbarWidth:"none","-ms-overflow-style":"none",$nest:{"&::-webkit-scrollbar":{width:0,height:0}}}),kf=({count:e=1,hideScrollbar:t=!1,children:n})=>{const{onMount:a,rect:r}=Ir.a.useRectWatcher(),{ref:i,onMount:s}=Ir.a.useElWatcher(),l=E.useMemo(()=>c.a.create({scroll:0,width:0,scrollWidth:0,itemAverageWidth:0}),[]);Ir.a.useSubscriptionTo(E.useMemo(()=>o.a.combineLatestStatic([i.pipe(o.b.compact,o.a.distinctUntilChanged()),r.pipe(o.b.compact,o.a.distinctUntilChanged())]).pipe(o.a.auditTime(100),o.a.tap(([t])=>{const n=t.clientWidth,a=t.scrollWidth;l.set({scroll:t.scrollLeft,width:n,scrollWidth:a,itemAverageWidth:Math.min(n,a/e)})})),[e,i,r]));const u=E.useCallback((e=!1)=>{Object(w.pipe)(i.get(),x.map(t=>{const{scroll:n,itemAverageWidth:a}=l.get();t.scroll({top:0,left:n+(e?1:-1)*a,behavior:"smooth"})}))},[i]);return E.createElement("div",{className:vf,ref:a},E.createElement("div",{ref:s,className:Lt.a.joinClasses([yf,t?wf:void 0]),onScroll:e=>{e.target instanceof HTMLDivElement&&l.lens("scroll").set(e.target.scrollLeft)},"data-role":"scroll"},n),E.createElement(It.a.Fragment,null,l.pipe(o.a.map(({scroll:e,width:t,scrollWidth:n})=>E.createElement(E.Fragment,null,e>0?E.createElement(Tt.a,{name:"scroll_left",title:"Scroll left","aria-label":"Scroll left",variant:"round",className:Lt.a.joinClasses([Lt.a.style(Of),Sf,"override"]),onClick:()=>u(),"aria-hidden":!0,tabIndex:-1},E.createElement(Pt.q,null)):null,n-t-e>0?E.createElement(Tt.a,{name:"scroll_right",title:"Scroll right","aria-label":"Scroll right",variant:"round",className:Lt.a.joinClasses([Lt.a.style(Of),Cf,"override"]),onClick:()=>u(!0),"aria-hidden":!0,tabIndex:-1},E.createElement(Pt.v,null)):null)))))},Ef=({percent:e,lensId:t})=>E.createElement("div",{className:jf(t)},E.createElement("div",{className:_f(t),style:{transform:`scaleX(${e})`}})),jf=e=>Lt.a.style({border:"1px solid "+xf[e],width:Lt.a.rem(2.5),height:Lt.a.rem(.25),boxSizing:"border-box",borderRadius:Lt.a.rem(Pt.D.Space.SpaceHalf)}),_f=e=>Lt.a.style({backgroundColor:xf[e],border:0,width:"100%",height:"100%",transformOrigin:"left",transition:"transform 0.2s linear"}),xf={[On.lensAllSuggestionFeedShortForm]:Pt.D.SemanticColor.Color.Background.Neutral.Default,[On.lensAllSuggestionFeed]:Pt.D.SemanticColor.Color.Background.Neutral.Default,[On.lensCorrectnessFeed]:Pt.D.SemanticColor.Color.Background.Correctness.Default,[On.lensClarityFeed]:Pt.D.SemanticColor.Color.Background.Clarity.Default,[On.lensDeliveryFeed]:Pt.D.SemanticColor.Color.Background.Delivery.Default,[On.lensEngagementFeed]:Pt.D.SemanticColor.Color.Background.Engagement.Default,[On.lensStyleGuideFeed]:Pt.D.SemanticColor.Color.Background.Neutral.Default,[On.plagiarismFeed]:Pt.D.SemanticColor.Color.Background.Plagiarism.Default,[On.writingExpertFeed]:Pt.D.SemanticColor.Color.Background.Brand.Default},Af=e=>Lt.a.style({display:"grid",gridTemplateColumns:Array.from({length:e}).map((e,t)=>t>0?"1px minmax(min-content, 1fr)":"minmax(min-content, 1fr)").join(" "),alignItems:"center"}),If=Lt.a.style({borderTop:"1px solid "+Pt.D.SemanticColor.Color.Border.Base.Subdued,borderBottom:"1px solid "+Pt.D.SemanticColor.Color.Border.Base.Subdued}),Tf=Lt.a.style({height:"100%",borderLeft:"1px solid "+Pt.D.SemanticColor.Color.Border.Base.Subdued}),Mf={default:{display:"flex",flexDirection:"column",gap:Lt.a.rem(Pt.D.Space.Space1),padding:`${Lt.a.rem(.75)} ${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(.5)} ${Lt.a.rem(Pt.D.Space.Space2)}`,borderRadius:0,color:Pt.D.SemanticColor.Color.Text.Base.Subdued,fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125),scrollSnapAlign:"start"},hovered:{boxShadow:"none"},active:{boxShadow:"none"},selected:{boxShadow:"none",fontWeight:"bold",backgroundColor:Pt.D.SemanticColor.Color.Background.Base.Subdued}},Pf=Object(At.d)(Dr),Nf=_.b.Node.make(({state:e})=>E.createElement(Pf,{style:Lf,"data-testid":"long-form-feed-empty","aria-live":"polite"},e.pipe(o.a.map(({content:e})=>E.createElement(E.Fragment,null,E.createElement("div",{className:Ff},E.createElement("p",{className:Rf},e.title),E.createElement("p",{className:Hf},e.description)),E.createElement("div",{className:Vf},e.illustration)))))),Df=_.b.Node.make(({state:e,notify:t})=>{const{onMount:n}=Object(Tr.a)(o.a.tap(t({kind:"longFormFeedSuccessStateMount"})));return E.createElement(Pf,{style:Lf,"data-testid":"long-form-feed-success","aria-live":"polite",mount:n},e.pipe(o.a.map(({content:e,goBackFrom:n})=>E.createElement(E.Fragment,null,E.createElement("div",{className:Ff},E.createElement("p",{className:Rf},e.title),E.createElement("p",{className:Hf},e.description),Object(w.pipe)(n,x.fold(w.constNull,e=>E.createElement(Tt.a,{variant:"secondary",style:Bf,onClick:t({kind:"goBack",goBackFrom:e})},"See all suggestions")))),E.createElement("div",{className:Vf},e.illustration)))))}),Bf={default:{marginTop:Lt.a.rem(Pt.D.Space.Space2),alignSelf:"flex-start"}},Lf={padding:""+Lt.a.rem(Pt.D.Space.Space4),display:"flex",flexDirection:"column-reverse",justifyContent:"center",alignItems:"center",gap:""+Lt.a.rem(Pt.D.Space.Space4),height:"100%",boxSizing:"border-box"},Ff=Lt.a.style({textAlign:"center",padding:`${Lt.a.rem(Pt.D.Space.Space4)} ${Lt.a.rem(Pt.D.Space.Space4)} 0 ${Lt.a.rem(Pt.D.Space.Space4)}`}),Rf=Lt.a.style({margin:0,color:Rt.a.TextBaseDefault,fontSize:Lt.a.rem(1),lineHeight:"1.5em",fontWeight:700}),Hf=Lt.a.style({margin:0,color:Rt.a.TextBaseSubduedColor,fontSize:Lt.a.rem(.875),lineHeight:"1.5em",fontWeight:400}),Vf=Lt.a.style({width:Lt.a.rem(6),height:Lt.a.rem(6),minWidth:Lt.a.rem(6),minHeight:Lt.a.rem(6)}),Uf=_.b.Node.make(({view:e})=>E.createElement(Dr,{"aria-busy":"true",style:Wf,"data-testid":"long-form-feed-loading"},E.createElement("div",{className:zf},E.createElement(jl,null),E.createElement(It.a.div,{className:Xf},E.createElement("div",{className:Qf}),e("supportsShortForm").pipe(o.a.map(Object(V.c)(E.createElement("div",{className:Jf}),null)))),E.createElement("div",{className:eh},E.createElement("div",{className:th}),E.createElement("div",{className:th}),E.createElement("div",{className:th}),E.createElement("div",{className:th})),E.createElement("div",{className:nh},E.createElement("div",{className:ah}),E.createElement("div",{className:rh})),E.createElement("div",{className:ih(!0)}),E.createElement("div",{className:ih(!1)}),E.createElement("div",{className:oh},E.createElement("div",{className:sh}),E.createElement("div",{className:ch}))),E.createElement("div",{className:Gf},E.createElement("div",{className:qf},E.createElement(jl,null),E.createElement("div",{className:Kf}),E.createElement("div",{className:$f}),E.createElement("div",{className:Zf})),E.createElement("div",{className:Yf}),E.createElement("div",{className:qf},E.createElement(jl,null),E.createElement("div",{className:Kf}),E.createElement("div",{className:$f}),E.createElement("div",{className:Zf})),E.createElement("div",{className:Yf}),E.createElement("div",{className:qf},E.createElement(jl,null),E.createElement("div",{className:Kf}),E.createElement("div",{className:$f}),E.createElement("div",{className:Zf})),E.createElement("div",{className:Yf}),E.createElement("div",{className:qf},E.createElement(jl,null),E.createElement("div",{className:Kf}),E.createElement("div",{className:$f}),E.createElement("div",{className:Zf}))))),Wf={padding:0},zf=Lt.a.style({display:"flex",flexDirection:"column",position:"relative",padding:""+Lt.a.rem(Pt.D.Space.Space4),borderBottom:"1px solid "+Pt.D.SemanticColor.Color.Border.Base.Subdued}),Gf=Lt.a.style({display:"flex",flexDirection:"column",margin:Lt.a.rem(1)}),qf=Lt.a.style({display:"flex",alignItems:"center",position:"relative",height:Lt.a.rem(2.25)}),Kf=Lt.a.style({height:Lt.a.rem(.5),width:Lt.a.rem(.5),borderRadius:"50%",background:Pt.D.Color.BlueGray5,marginRight:Lt.a.rem(1.25)}),$f=Lt.a.style({height:Lt.a.rem(.5),width:Lt.a.rem(3.875),borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf),background:Pt.D.Color.BlueGray5,marginRight:Lt.a.rem(Pt.D.Space.Space4)}),Zf=Lt.a.style({height:Lt.a.rem(.5),width:Lt.a.rem(7.875),borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf),background:Pt.D.Color.BlueGray5}),Yf=Lt.a.style({margin:`${Lt.a.rem(.5)} ${Lt.a.rem(1)}`,borderBottom:"1px solid "+Pt.D.SemanticColor.Color.Border.Base.Subdued}),Xf=Lt.a.style({display:"flex",flexDirection:"row",justifyContent:"space-between",gap:Lt.a.rem(Pt.D.Space.Space2),alignItems:"center"}),Qf=Lt.a.style({width:Lt.a.rem(11.875),height:Lt.a.rem(1),borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf),background:Pt.D.Color.BlueGray5}),Jf=Lt.a.style({flex:1,maxWidth:Lt.a.rem(3.5),height:Lt.a.rem(.5),borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf),background:Pt.D.Color.BlueGray5}),eh=Lt.a.style({display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:Lt.a.rem(11.5*Pt.D.Space.Space1)}),th=Lt.a.style({width:Lt.a.rem(3.5625),height:Lt.a.rem(.5),borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf),background:Pt.D.Color.BlueGray5,margin:"0 "+Lt.a.rem(9.5*Pt.D.Space.SpaceQuarter)}),nh=Lt.a.style({display:"flex",flexDirection:"row",gap:Lt.a.rem(Pt.D.Space.Space1),alignItems:"center",marginTop:Lt.a.rem(8.5*Pt.D.Space.Space1)}),ah=Lt.a.style({width:Lt.a.rem(1.25),height:Lt.a.rem(1.25),borderRadius:"50%",background:Pt.D.Color.BlueGray5}),rh=Lt.a.style({flex:1,height:Lt.a.rem(.5),borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf),background:Pt.D.Color.BlueGray5}),ih=e=>Lt.a.style({height:Lt.a.rem(.5),borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf),background:Pt.D.Color.BlueGray5,marginTop:Lt.a.rem(e?2.5*Pt.D.Space.Space1:Pt.D.Space.Space4)}),oh=Lt.a.style({display:"flex",flexDirection:"row",gap:Lt.a.rem(Pt.D.Space.Space4),alignItems:"center",marginTop:Lt.a.rem(Pt.D.Space.Space4+Pt.D.Space.SpaceHalf)}),sh=Lt.a.style({width:Lt.a.rem(4.125),height:Lt.a.rem(2),borderRadius:Lt.a.rem(Pt.D.Radius.Radius1),background:Pt.D.Color.BlueGray5}),ch=Lt.a.style({width:Lt.a.rem(3.125),height:Lt.a.rem(.5),borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf),background:Pt.D.Color.BlueGray5}),lh=Object(At.d)(df),uh=Object(At.d)(({activeLensId:e,lenses:t,className:n,onToggleLens:a})=>t.length>0?E.createElement("section",{className:Lt.a.joinClasses([If,n])},E.createElement(kf,{count:t.length,hideScrollbar:!0},E.createElement("div",{className:Af(t.length)},t.map((t,n)=>E.createElement(E.Fragment,{key:t.lensId},n>0?E.createElement("div",{className:Tf,role:"separator"}):null,E.createElement(Tt.a,{variant:"tertiary",contained:!0,size:"small",name:t.label+"-button",style:Mf,active:t.lensId===e,onClick:()=>a(t.lensId)},E.createElement(Ef,{percent:t.percent,lensId:t.lensId}),E.createElement("span",null,t.label))))))):null),dh=_.b.Grid.make(({slots:e,view:t,notify:n})=>{const{onMount:a}=Object(Tr.a)(Object(w.flow)(o.a.tap(n({kind:"longFormFeedMount"})),o.a.finalize(Pa.notifyFeedUnmount))),r=E.useContext(Pr.a).view("flatUI");return E.createElement(Dr,{"data-testid":"long-form-feed",style:r.view(Object(V.c)({padding:0,display:"grid",gridTemplateRows:"auto auto 1fr",height:"100%"},{padding:Lt.a.rem(Pt.D.Space.Space3)+" 0 0 0"})),mount:a,"aria-live":"polite"},E.createElement(Zi,{style:r.view(Object(V.c)(Object.assign(Object.assign({},mh),{padding:`${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(Pt.D.Space.Space4)}`,paddingTop:Lt.a.rem(Pt.D.Space.Space4)}),Object.assign(Object.assign({},mh),{padding:"0 "+Lt.a.rem(Pt.D.Space.Space3)})))},E.createElement("div",{className:fh},"Review suggestions",E.createElement(lh,{count:t("suggestionCount")})),t("canCollapseToShortForm").pipe(o.a.map(Object(V.c)(E.createElement(hf,{feedForm:"longForm",onClick:n({kind:"toggleShortFormFeed"})}),null)))),E.createElement(uh,{lenses:t("lenses"),activeLensId:t("feedId"),onToggleLens:e=>n({kind:"toggleLens",lensId:e})(),className:ph}),E.createElement(Hr,null,e.lensView))}),ph=Lt.a.style({margin:Lt.a.rem(Pt.D.Space.Space2)+" 0"}),mh={display:"flex",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space2),justifyContent:"space-between"},fh=Lt.a.style({display:"flex",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space2)}),hh=_.b.Group.make({cardList:fl}),gh=_.b.Union.make("kind",{successState:Df,cardList:hh}),bh=_.b.Knot.make(dh,{lensView:gh}),vh=_.b.Union.make("kind",{loadingState:Uf,emptyState:Nf,successState:Df,nonEmptyState:bh});const yh=[{emptyState:{title:"Rooting for you.",description:"Suggestions will appear here.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 66 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("path",{fill:"#C6CBDE",d:"M33.4 64c9.4 0 17.02-1.45 17.02-3.24 0-1.79-7.62-3.24-17.01-3.24-9.4 0-17.02 1.45-17.02 3.24 0 1.79 7.62 3.24 17.02 3.24Z"}),E.createElement("path",{fill:"#F6DF6C",stroke:"#27282E",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M36.65 61.36H28.8c-6.03 0-10.92-4.43-10.92-9.89V40.5c0-.4 30.22-.4 30.22 0v10.5c0 5.72-5.13 10.37-11.46 10.37Z"}),E.createElement("path",{fill:"#C7EEFB",stroke:"#27282E",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M33 44.13c8.35 0 15.11-1.56 15.11-3.47 0-1.92-6.76-3.48-15.1-3.48-8.36 0-15.12 1.56-15.12 3.48 0 1.91 6.76 3.47 15.11 3.47Z"}),E.createElement("path",{fill:"#27282E",d:"M45.56 42.15c-2.5.96-7.19 1.6-12.56 1.6s-10.06-.64-12.56-1.6c.7-1.38 6.05-2.45 12.56-2.45 6.5 0 11.87 1.07 12.56 2.45Z"}),E.createElement("path",{stroke:"#27282E",strokeLinecap:"round",strokeLinejoin:"round",d:"m22.87 33.14 2.26-.62-1.98-1.25M25.35 27.2l2.18.85-.83-2.18M22.93 37.44l2.33.2-1.71 1.59M43.7 33.14l-2.26-.62 1.98-1.25M41.22 27.2l-2.17.85.82-2.18M43.64 37.44l-2.33.2 1.71 1.59"}),E.createElement("path",{fill:"#16AC9A",stroke:"#27282E",strokeLinecap:"round",strokeLinejoin:"round",d:"M41.34 31.15c-.97-3.31-4.13-5.63-8.06-5.63v0h0v0c-3.93 0-7.09 2.32-8.06 5.63-1.39 4.76.83 9.86 1.86 10.8 1.76.38 3.05.69 6.2.69 3.13 0 4.98-.4 6.2-.7 1.04-.93 3.25-6.03 1.86-10.8h0Z"}),E.createElement("path",{stroke:"#27282E",strokeLinecap:"round",strokeLinejoin:"round",d:"M34.7 42.44c.7-1.36 2.15-4.86 2.19-8.36.03-3.36-1.46-6.84-3.38-8.46M39.03 35.02l-2.14-.94 2.14-.95"}),E.createElement("path",{stroke:"#27282E",strokeLinecap:"round",strokeLinejoin:"round",d:"m38.56 30.08-2.33-.14 1.68-1.63M38.56 38.46l-2.33.2 1.71 1.58M31.87 42.44a20.66 20.66 0 0 1-2.2-8.36c-.03-3.4 1.5-6.91 3.45-8.52"}),E.createElement("path",{stroke:"#27282E",strokeLinecap:"round",strokeLinejoin:"round",d:"m27.54 35.02 2.14-.94-2.14-.95M28 30.08l2.33-.14-1.67-1.63M28 38.46l2.33.2-1.71 1.58"}),E.createElement("path",{fill:"#fff",stroke:"#27282E",strokeMiterlimit:"10",d:"M6.9 54.28c-.07 0-.12-.06-.12-.14.11-4.3-1.36-5.85-5.66-5.97-.07 0-.12-.07-.12-.14s.06-.12.13-.12c4.3.11 5.86-1.36 5.98-5.66 0-.07.06-.12.14-.12.07 0 .12.06.12.13-.11 4.3 1.36 5.86 5.66 5.97.07 0 .12.06.12.13s-.06.12-.13.12c-4.3-.1-5.86 1.37-5.98 5.66-.01.09-.06.14-.13.14ZM59.17 37.27c-.07 0-.11-.06-.11-.13.1-4.01-1.28-5.47-5.29-5.58-.07 0-.11-.06-.11-.12 0-.07.06-.12.12-.12 4.01.1 5.47-1.27 5.58-5.28 0-.07.06-.12.13-.12s.11.06.11.13c-.1 4.01 1.27 5.47 5.29 5.57.06 0 .11.05.11.12 0 .07-.06.12-.13.12-4-.1-5.46 1.27-5.58 5.28 0 .08-.05.13-.12.13ZM46.14 22.68c-.1 0-.16-.08-.16-.18.14-5.73-1.82-7.8-7.55-7.97-.1 0-.16-.08-.16-.18 0-.1.08-.16.17-.16 5.74.15 7.81-1.82 7.98-7.55 0-.1.08-.16.17-.16.1 0 .17.08.17.18-.15 5.73 1.82 7.8 7.55 7.95.1 0 .16.09.16.18 0 .1-.08.17-.18.17-5.73-.15-7.8 1.81-7.97 7.54-.02.12-.08.18-.18.18Z"})),null)},successState:{title:"You're on point!",description:"There are no more suggestions.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("g",{clipPath:"url(#SuccessA_a)"},E.createElement("path",{fill:"#C6CBDE",d:"M32 64c9.28 0 16.8-1.43 16.8-3.2 0-1.77-7.52-3.2-16.8-3.2-9.28 0-16.8 1.43-16.8 3.2 0 1.77 7.52 3.2 16.8 3.2Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M44.08 7.6h-3.24L43 5.2M42.93 36.13l-2.59-1.95 3.2-.6M46.3 17.13l-3.13-.84 2.73-1.75M45.14 26.65l-2.73-1.74 3.13-.85M19.12 7.6h3.24L20.2 5.2M20.27 36.13l2.59-1.95-3.19-.6M16.9 17.13l3.13-.84-2.73-1.75M18.06 26.65l2.73-1.74-3.13-.85"}),E.createElement("path",{fill:"#F6DF6C",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M35.2 61.4h-7.73c-5.96 0-10.8-4.38-10.8-9.77V40.78c0-.4 29.86-.4 29.86 0v10.36c0 5.66-5.07 10.25-11.33 10.25Z"}),E.createElement("path",{fill:"#C7EEFB",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M31.6 44.38c8.24 0 14.93-1.54 14.93-3.43 0-1.9-6.69-3.43-14.93-3.43-8.24 0-14.92 1.53-14.92 3.43 0 1.9 6.68 3.43 14.92 3.43Z"}),E.createElement("path",{fill:"#0E101A",d:"M44 42.43c-2.47.94-7.1 1.57-12.4 1.57-5.3 0-9.93-.63-12.4-1.57.68-1.37 5.98-2.43 12.4-2.43s11.72 1.06 12.4 2.43Z"}),E.createElement("path",{fill:"#15C39A",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M31.6 2.41v.01h0c-22.5 0-6.52 39.78-6.52 39.78s2.2.86 6.52.86c4.32 0 6.52-.86 6.52-.86S54.1 2.41 31.6 2.41h0Z"}),E.createElement("path",{fill:"#F18AB2",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M12 7.25s2.8-1.38 5.22-.87c-1.36-2.06-1.11-5.1-1.11-5.1 5.32 2.17 4.15 7.14 4.15 7.14s-5.76 2.26-3.56.81A6.82 6.82 0 0 1 12 7.25Z"}),E.createElement("path",{fill:"#F18AB2",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M13.79 4.5s2.6-.32 4.67 1.02A7.77 7.77 0 0 1 19.17.8c4.17 3.95 1.56 7.99 1.56 7.99s-2.34 4.21-7.8 2.4c0 0 1.6-2.38 4.18-2.93A6.92 6.92 0 0 1 13.8 4.5Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M33.26 42.98s8.41-38.16-1.68-40.57"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"m39.15 28.43-2.81-1.6 3.08-1M37.54 37.9l-2.56-2 3.2-.54M39.48 9.37l-3.2-.56 2.57-1.98M40.03 18.9l-3.11-.91 2.77-1.7M29.94 42.98S21.53 4.82 31.63 2.41"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"m24.05 28.43 2.82-1.6-3.09-1M25.66 37.9l2.56-2-3.2-.54M23.72 9.37l3.2-.56-2.57-1.98M23.17 18.9l3.11-.91-2.77-1.7"}),E.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeMiterlimit:"10",d:"M56.62 39.2c-.08 0-.13-.06-.13-.14.12-4.53-1.43-6.17-5.96-6.3-.08 0-.13-.06-.13-.14 0-.08.06-.13.14-.13 4.53.12 6.17-1.43 6.3-5.96 0-.08.06-.13.14-.13.08 0 .13.06.13.14-.12 4.53 1.43 6.17 5.96 6.29.08 0 .13.06.13.14 0 .07-.06.12-.14.12-4.53-.11-6.17 1.44-6.3 5.97-.01.09-.06.14-.14.14ZM6.24 24c-.06 0-.1-.06-.1-.12.1-3.96-1.27-5.4-5.23-5.51-.07 0-.11-.06-.11-.13 0-.06.06-.1.12-.1 3.97.1 5.4-1.27 5.51-5.23 0-.07.06-.11.13-.11.06 0 .1.06.1.12-.1 3.97 1.27 5.4 5.23 5.5.07 0 .11.06.11.13 0 .06-.06.1-.12.1-3.96-.1-5.4 1.27-5.51 5.23-.01.08-.06.12-.13.12Z"})),E.createElement("defs",null,E.createElement("clipPath",{id:"SuccessA_a"},E.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)}},{emptyState:{title:"You got this.",description:"Suggestions will appear here.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("path",{fill:"#AAF2E1",stroke:"#0E101A",strokeLinejoin:"round",d:"M12.8 46.4 32.8.8l20 45.6V62h-40V46.4Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"m12.8 46.4 20-13.2 20 13.2"}),E.createElement("path",{fill:"#0E101A",fillRule:"evenodd",d:"M32.4 4.76V1.6h.8v3.16h-.8Zm0 6.31V7.92h.8v3.15h-.8Zm0 6.32v-3.16h.8v3.16h-.8Zm0 6.32v-3.16h.8v3.16h-.8Zm0 6.31v-3.16h.8v3.16h-.8Zm0 6.32v-3.16h.8v3.16h-.8Zm0 6.31V39.5h.8v3.16h-.8Zm0 6.32V45.8h.8v3.16h-.8Zm0 6.31v-3.15h.8v3.15h-.8Zm0 6.32v-3.16h.8v3.16h-.8Z",clipRule:"evenodd"}),E.createElement("path",{stroke:"#000",strokeLinecap:"round",d:"M10 33.6C5.2 34.8-2.4 42 2.8 48.8c5.2 6.8 16.8 4.5 21.2.89"}),E.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M10.4 33.05c.21.08.31.3.23.51l-1.3 3.36a.4.4 0 0 1-.75-.3l1.16-2.97-2.98-1.17a.4.4 0 0 1 .29-.74l3.35 1.3Z",clipRule:"evenodd"})),null)},successState:{title:"Well, this is shaping up!",description:"There are no more suggestions.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("g",{clipPath:"url(#SuccessB_a)"},E.createElement("path",{fill:"#87E8D1",stroke:"#0E101A",strokeLinejoin:"round",d:"m18 34-3.4-10.67L59.41 1.49 18 34Z"}),E.createElement("path",{fill:"#D7F7F0",stroke:"#0E101A",strokeLinejoin:"round",d:"M24.25 24.7 60.8.8l-20.23 40-16.32-16.1ZM2.4 19.42 60.8.8 14.6 23.33l-12.2-3.9Z"}),E.createElement("path",{fill:"#15C39A",stroke:"#0E101A",strokeLinejoin:"round",d:"m28.62 29.08-4.37-4.37L18 34l10.62-4.92Z"}),E.createElement("path",{fill:"#FBEFB7",stroke:"#0E101A",strokeMiterlimit:"10",d:"M25.4 52c-.09 0-.15-.07-.15-.16.13-5.1-1.61-6.94-6.7-7.08-.1 0-.15-.08-.15-.16 0-.09.07-.15.16-.15 5.1.13 6.94-1.61 7.08-6.7 0-.1.08-.15.16-.15.09 0 .15.07.15.16-.13 5.1 1.61 6.94 6.7 7.07.1 0 .15.07.15.16 0 .08-.07.14-.16.14-5.1-.13-6.94 1.62-7.08 6.71-.02.1-.08.16-.16.16ZM57.44 39.2c-.06 0-.1-.06-.1-.12.1-3.96-1.27-5.4-5.23-5.51-.07 0-.11-.06-.11-.13 0-.06.06-.1.12-.1 3.97.1 5.4-1.27 5.51-5.23 0-.07.06-.11.13-.11.06 0 .1.06.1.12-.1 3.96 1.27 5.4 5.23 5.5.07 0 .11.06.11.13 0 .06-.06.1-.12.1-3.96-.1-5.4 1.27-5.51 5.23-.01.08-.06.12-.13.12ZM11.45 11.2c-.06 0-.1-.05-.1-.11.1-3.68-1.17-5.02-4.85-5.12-.06 0-.1-.05-.1-.12 0-.06.05-.1.11-.1 3.68.1 5.02-1.17 5.12-4.85 0-.06.05-.1.12-.1.06 0 .1.05.1.11-.1 3.68 1.17 5.02 4.85 5.11.06 0 .1.05.1.12 0 .06-.05.1-.11.1-3.68-.1-5.02 1.17-5.12 4.85-.01.07-.05.11-.12.11Z"}),E.createElement("path",{stroke:"#000",strokeDasharray:"4 5",strokeLinecap:"square",d:"M10.4 31.2c-4.8 2-14.64 14.4-6 23.2 8.64 8.8 44.8-2 58 8.8"})),E.createElement("defs",null,E.createElement("clipPath",{id:"SuccessB_a"},E.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)}},{emptyState:{title:"Nothing to see yet.",description:"Suggestions will appear here.",illustration:E.createElement(_l,null)},successState:{title:"Look at that!",description:"There are no more suggestions.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("path",{fill:"#F28C8C",fillRule:"evenodd",d:"M1.78 43.26a1.94 1.94 0 0 0 1.5 2.9l35.87 3.6-15.29 7.45a1.43 1.43 0 0 0 1 2.65l30.56-8.46 7.78.79V41.83l-59.74.45c-.7 0-1.33.38-1.68.98Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#0E101A",d:"m3.28 46.15.05-.5-.05.5Zm-1.5-2.89-.43-.24.43.24Zm37.37 6.5.22.45 1.59-.77-1.76-.17-.05.5Zm-15.29 7.45.22.45-.22-.45Zm1 2.65-.13-.48.14.48Zm30.56-8.46.05-.5h-.09l-.1.02.14.48Zm7.78.79-.05.5.55.05v-.55h-.5Zm0-10.36h.5v-.5h-.5v.5Zm-59.74.45v-.5.5Zm-.13 3.37a1.44 1.44 0 0 1-1.11-2.14l-.87-.5a2.44 2.44 0 0 0 1.88 3.64l.1-1Zm35.87 3.62L3.33 45.65l-.1 1 35.87 3.61.1-1Zm-15.12 8.39 15.3-7.45-.45-.9-15.29 7.45.44.9Zm-.52.83c0-.36.2-.68.52-.83l-.44-.9c-.66.32-1.08 1-1.08 1.73h1Zm1.17.9a.93.93 0 0 1-1.17-.9h-1c0 1.27 1.21 2.2 2.44 1.85l-.27-.96Zm30.56-8.47-30.56 8.46.27.96 30.56-8.46-.27-.96Zm7.96.77-7.78-.78-.1.99 7.78.78.1-1Zm-.55-9.86v10.36h1V41.83h-1Zm-59.24.95 59.74-.45v-1l-59.74.45v1Zm-1.24.73c.25-.45.73-.73 1.24-.73v-1c-.88 0-1.68.48-2.11 1.24l.87.49Z"}),E.createElement("path",{fill:"#87E8D1",fillRule:"evenodd",d:"M19.9 46.88a3.14 3.14 0 1 1 .97 5.86 3.67 3.67 0 0 1-7.05-.92 3.3 3.3 0 0 1-4.75-2.94 3.3 3.3 0 0 1 5.2-2.75 2.93 2.93 0 0 1 5.63.75Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#0E101A",d:"m19.9 46.88-.5.06a.5.5 0 0 0 .74.38l-.24-.44Zm1.44-.36v-.5.5Zm3.17 3.1.5-.01h-.5Zm-3.1 3.17.01.5v-.5Zm-.54-.04.08-.5a.5.5 0 0 0-.54.3l.46.2Zm-3.36 2.28v.5-.5Zm-3.69-3.21.5-.06a.5.5 0 0 0-.72-.4l.22.46Zm-1.4.33-.01-.5v.5Zm-3.35-3.27h.5-.5Zm3.26-3.35v-.5.5Zm1.94.6-.28.41a.5.5 0 0 0 .75-.22l-.47-.19Zm2.69-1.85v.5-.5Zm3.18 3.04c.36-.19.77-.3 1.2-.3v-1c-.6 0-1.18.16-1.67.42l.47.88Zm1.2-.3a2.64 2.64 0 0 1 2.67 2.6l1-.01a3.64 3.64 0 0 0-3.68-3.6l.01 1Zm2.67 2.6a2.64 2.64 0 0 1-2.6 2.67l.01 1c2.01-.03 3.62-1.68 3.6-3.68h-1Zm-2.6 2.67c-.16 0-.31-.01-.46-.04l-.16.99c.2.03.42.05.63.05l-.01-1Zm-1 .27a3.17 3.17 0 0 1-2.9 1.97v1a4.17 4.17 0 0 0 3.82-2.6l-.92-.37Zm-2.9 1.97c-1.64.02-3-1.2-3.2-2.77l-.98.12a4.17 4.17 0 0 0 4.19 3.65l-.01-1Zm-3.9-3.16a2.8 2.8 0 0 1-1.2.28l.01 1a3.8 3.8 0 0 0 1.62-.38l-.44-.9Zm-1.2.28a2.8 2.8 0 0 1-2.84-2.77h-1a3.8 3.8 0 0 0 3.85 3.77l-.01-1Zm-2.84-2.77a2.8 2.8 0 0 1 2.77-2.85l-.01-1a3.8 3.8 0 0 0-3.76 3.86l1-.01Zm2.77-2.85c.61 0 1.18.18 1.65.51l.57-.82a3.8 3.8 0 0 0-2.23-.69l.01 1Zm2.4.29a2.43 2.43 0 0 1 2.23-1.54l-.02-1a3.43 3.43 0 0 0-3.14 2.17l.93.37Zm2.23-1.54c1.25-.02 2.3.93 2.44 2.16l.99-.11a3.42 3.42 0 0 0-3.45-3.05l.02 1Z"}),E.createElement("path",{fill:"#87E8D1",fillRule:"evenodd",d:"M56 53.2a3.6 3.6 0 0 1-2.36 3.38 3.6 3.6 0 1 1-5.84 4.2 3.6 3.6 0 0 1-6.96-.62 3.6 3.6 0 1 1 .05-5.9 4.8 4.8 0 0 1 8.16-2.4A3.6 3.6 0 0 1 56 53.2Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#0E101A",d:"m53.64 56.58-.18-.47a.5.5 0 0 0-.22.78l.4-.3Zm-5.84 4.2.42-.27a.5.5 0 0 0-.9.11l.48.17Zm-6.96-.62.5-.07a.5.5 0 0 0-.78-.34l.28.41Zm.05-5.9-.29.42a.5.5 0 0 0 .78-.31l-.49-.1Zm8.16-2.4-.36.35a.5.5 0 0 0 .83-.16l-.47-.18Zm4.76 5.2a4.1 4.1 0 0 0 2.69-3.86h-1a3.1 3.1 0 0 1-2.04 2.91l.35.94Zm1.09 1.74c0-.95-.33-1.83-.87-2.53l-.79.62c.41.53.66 1.19.66 1.91h1Zm-4.1 4.1a4.1 4.1 0 0 0 4.1-4.1h-1a3.1 3.1 0 0 1-3.1 3.1v1Zm-3.42-1.83a4.1 4.1 0 0 0 3.42 1.83v-1a3.1 3.1 0 0 1-2.58-1.39l-.84.56Zm-.05-.45a3.1 3.1 0 0 1-2.93 2.08v1a4.1 4.1 0 0 0 3.87-2.75l-.94-.33ZM44.4 62.7a3.1 3.1 0 0 1-3.06-2.61l-.99.15a4.1 4.1 0 0 0 4.05 3.46v-1Zm-5.6-1.4c.86 0 1.67-.27 2.33-.72l-.57-.83c-.5.35-1.1.55-1.76.55v1Zm-4.1-4.1a4.1 4.1 0 0 0 4.1 4.1v-1a3.1 3.1 0 0 1-3.1-3.1h-1Zm4.1-4.1a4.1 4.1 0 0 0-4.1 4.1h1a3.1 3.1 0 0 1 3.1-3.1v-1Zm2.38.76a4.08 4.08 0 0 0-2.38-.76v1c.67 0 1.3.21 1.8.58l.58-.82Zm4.42-3.96a5.3 5.3 0 0 0-5.2 4.27l.98.2a4.3 4.3 0 0 1 4.22-3.47v-1Zm3.81 1.62a5.29 5.29 0 0 0-3.81-1.62v1c1.22 0 2.31.5 3.1 1.31l.71-.69Zm2.99-2.42a4.1 4.1 0 0 0-3.81 2.58l.93.37a3.1 3.1 0 0 1 2.88-1.95v-1Zm4.1 4.1a4.1 4.1 0 0 0-4.1-4.1v1a3.1 3.1 0 0 1 3.1 3.1h1Z"}),E.createElement("path",{fill:"url(#SuccessC_a)",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M25.88 3.04a7.45 7.45 0 0 0-12.77 5.2v13.8c0 7.54 6.84 13.23 14.25 11.86l15.29-2.83 4.37 4.37H57.6L25.88 3.04Z"}),E.createElement("path",{fill:"url(#SuccessC_b)",fillRule:"evenodd",d:"M13.1 16.86v5.16c0 7.54 6.87 13.23 14.28 11.83l.45-.08c.44-.73.68-1.6.66-2.64a9.05 9.05 0 0 0-2.66-6.23l-5.92-5.92a7.65 7.65 0 0 0-6.8-2.12Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#0E101A",d:"M13.1 16.86h-.5c0-.2.13-.37.3-.45l.2.45Zm14.28 17 .1.48-.1-.49Zm.45-.1.43.27a.5.5 0 0 1-.34.23l-.1-.5Zm.66-2.63h.5-.5Zm-2.66-6.23-.36.35.36-.35Zm-5.92-5.92.36-.35-.36.35Zm-6.8-2.12-.2-.45a.5.5 0 0 1 .11-.04l.09.5Zm.5 0v5.16h-1v-5.16h1Zm0 5.16c0 7.23 6.57 12.68 13.68 11.34l.18.98a12.54 12.54 0 0 1-14.86-12.32h1Zm13.68 11.34.45-.08.18.98-.45.08-.18-.98Zm.11.15c.39-.64.6-1.42.59-2.37l1-.02a5.3 5.3 0 0 1-.73 2.9l-.86-.51Zm.59-2.37a8.55 8.55 0 0 0-2.52-5.89l.71-.7a9.55 9.55 0 0 1 2.8 6.57l-1 .02Zm-2.52-5.89-5.91-5.92.7-.7 5.92 5.91-.7.71Zm-5.91-5.92a7.15 7.15 0 0 0-6.36-1.98l-.18-.98a8.15 8.15 0 0 1 7.25 2.26l-.71.7Zm-6.25-2.01-.4-.91.4.91Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M23.86 41.85 28 33.62M29.96 41.85l4.88-9.35M24.41 13.1c0 7.65 7.19 13.26 14.6 11.4l5.83-1.82"}),E.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"m13.11 6.93-5.84 3.72 5.84 3.71V6.93Z"}),E.createElement("circle",{cx:"1.09",cy:"1.09",r:"1.09",fill:"#0E101A",transform:"matrix(-1 0 0 1 19.67 6.27)"}),E.createElement("defs",null,E.createElement("radialGradient",{id:"SuccessC_b",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(8 -9 8 7 13.6 32.4)",gradientUnits:"userSpaceOnUse"},E.createElement("stop",{stopColor:"#F3F8E5"}),E.createElement("stop",{offset:"1",stopColor:"#D7E8A9"})),E.createElement("linearGradient",{id:"SuccessC_a",x1:"16.14",x2:"55.97",y1:".8",y2:"36.57",gradientUnits:"userSpaceOnUse"},E.createElement("stop",{stopColor:"#D7E8A9"}),E.createElement("stop",{offset:".38",stopColor:"#87E8D1"}),E.createElement("stop",{offset:".89",stopColor:"#79A8F2"})))),null)}},{emptyState:{title:"The first word is the hardest.",description:"Suggestions will appear here.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 79 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("path",{fill:"#C6CBDE",d:"M28.4 63.2c8.62 0 15.6-1.8 15.6-4s-6.98-4-15.6-4-15.6 1.8-15.6 4 6.98 4 15.6 4Z"}),E.createElement("path",{fill:"#638EEB",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M41.19 56.6a.58.58 0 0 0 0-.25v-3.53h-2.67c-2.3-.84-5.78 0-9.72 0-3.94 0-7.45-.86-9.72 0H16.4v4.7c.43 1.9 5.83 3.4 12.4 3.4s11.95-1.5 12.39-3.4v-.93Z"}),E.createElement("path",{fill:"#8ECBDE",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M28.8 56.25c6.85 0 12.4-1.63 12.4-3.64 0-2-5.55-3.64-12.4-3.64-6.85 0-12.4 1.63-12.4 3.64 0 2.01 5.55 3.64 12.4 3.64Z"}),E.createElement("path",{fill:"#8ECBDE",d:"M41.17 52.74v-1.5a2.25 2.25 0 0 0-2.23-2.3h-.09a.98.98 0 0 1-.95-.98v-.35H19.7v.35a.98.98 0 0 1-.96.98h-.07a2.25 2.25 0 0 0-2.24 2.3v1.5"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M41.17 52.74v-1.5a2.25 2.25 0 0 0-2.23-2.3h-.09a.98.98 0 0 1-.95-.98v-.35H19.7v.35a.98.98 0 0 1-.96.98h-.07a2.25 2.25 0 0 0-2.24 2.3v1.5"}),E.createElement("path",{fill:"#99C2FF",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M38.1 47.22V44.4h-2.01c-1.7-.63-4.34 0-7.29 0s-5.59-.65-7.3 0H19.5v2.94h.02c.32 1.43 4.35 2.55 9.28 2.55 4.92 0 8.95-1.12 9.27-2.55l.03-.1Z"}),E.createElement("path",{fill:"#DBEBFF",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M28.8 46.97c5.14 0 9.3-1.22 9.3-2.73s-4.16-2.74-9.3-2.74c-5.14 0-9.3 1.23-9.3 2.74 0 1.5 4.16 2.73 9.3 2.73Z"}),E.createElement("path",{fill:"#0E101A",d:"M28.8 45.64c3.85 0 6.97-.66 6.97-1.48s-3.12-1.48-6.97-1.48c-3.85 0-6.97.66-6.97 1.48s3.12 1.48 6.97 1.48Z"}),E.createElement("path",{fill:"#FBEFB7",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M65.02 4.06c-1.83.69-3.5 1.34-5.03 2l-3.54 5.07.7-3.8c-7.41 3.5-11.69 7.17-17.58 13.7-5.5 6.11-6.19 14.68-6.19 14.68l10.55-2.27-2.86-1.36 4.46.1a159.72 159.72 0 0 1 17.7-13.15l-4.18-1.93 7.18.04 4.55-2.75L77.83 5l-12.81-.94Z"}),E.createElement("path",{fill:"#41D9B5",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M67.85 8.92s-29.05 9.2-40.25 36h2c3.52-7.49 12.8-24.4 38.25-36Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"m46.5 14.03-.83 4.67M59.58 21.57l-5.11-1.43M50.56 28.2l-5.11-1.45M39.6 20.91l-.71 4.2"})),null)},successState:{title:"You did it!",description:"There are no more suggestions.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("path",{fill:"#FEFAE9",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M24.56 10.36h34.93L43.53 46.6H8.59l15.97-36.24Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",d:"M19.37 34.76c1.06-.2 2.53-.27 3.52-.82.64-.36.79.58 1.16.82 1.14.77 2.28-.09 3.26-.74.95-.63 1.14-.56 1.8.26.89 1.09 2.87.23 3.97-.03.38-.1.8-.17 1.13.06.68.49 1.48.63 2.28.75 1.15.19 2.26.29 3.42.3.67.01.83.26 1.35.52 1.09.54 2.8-.15 3.9-.37M22.4 27.57c1.54-.08 3.24.04 4.58-.82.2-.13.46-.25.69-.35.12-.05.6.92.83 1.02.57.26 1.27.19 1.88.04.57-.15 1.36-.78 1.89-.33.6.52.71.78 1.57.6.85-.2 1.31-.3 2.07-.04a6.3 6.3 0 0 0 3.73.26c.41-.09 4.57-.66 4.77-.26M24.01 20.46c1.95-.4 3.92-.75 5.81-1.4.24-.09.45-.14.7-.14.29 0 .34.29.48.52.57.95 1.56.59 2.45.56.85-.03 1.6.16 2.47.05.4-.05 1.44-.49 1.82-.31.22.1.3.4.52.53.64.38.91.44 1.65.2.58-.2 1.11.07 1.71-.3.14-.1.64-.61.7-.27.08.43.14.75.56.88 1.43.46 2.92-.5 4.33-.54"}),E.createElement("path",{fill:"#F9C7C7",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M14.77 9.5c0 1.19.96 2.14 2.14 2.14h5.14V7.37H16.9c-1.18 0-2.14.95-2.14 2.14Z"}),E.createElement("path",{fill:"#FEFAE9",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M19.74 9.5c0-2.6 2.1-4.7 4.7-4.7h31.28v9.41H24.45a4.7 4.7 0 0 1-4.7-4.7Z"}),E.createElement("circle",{cx:"56.15",cy:"9.51",r:"4.71",fill:"#FEFAE9",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10"}),E.createElement("path",{fill:"#F9C7C7",fillRule:"evenodd",d:"M56.54 7.37a2.14 2.14 0 1 0 0 4.27h4.52a2.14 2.14 0 0 0 0-4.27h-4.52Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#1F243C",d:"M54.9 9.5c0-.9.73-1.63 1.64-1.63v-1A2.64 2.64 0 0 0 53.9 9.5h1Zm1.64 1.64c-.9 0-1.64-.73-1.64-1.63h-1a2.64 2.64 0 0 0 2.64 2.63v-1Zm4.52 0h-4.52v1h4.52v-1Zm0 0v1-1Zm1.64-1.63c0 .9-.73 1.63-1.64 1.63v1a2.64 2.64 0 0 0 2.64-2.63h-1Zm-1.64-1.64c.9 0 1.64.73 1.64 1.64h1a2.64 2.64 0 0 0-2.64-2.64v1Zm0 0v-1 1Zm-4.52 0h4.52v-1h-4.52v1Z"}),E.createElement("path",{fill:"#F9C7C7",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M.8 45.5c0 1.19.96 2.14 2.14 2.14h5.13v-4.27H2.94c-1.18 0-2.14.95-2.14 2.14Z"}),E.createElement("path",{fill:"#FEFAE9",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M5.77 45.5c0-2.6 2.1-4.7 4.7-4.7h30.47v9.41H10.47a4.7 4.7 0 0 1-4.7-4.7Z"}),E.createElement("path",{fill:"#79A8F2",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M41.27 48.55h8.66v14.37l-4.35-1.7-4.31 1.7V48.55Z"}),E.createElement("path",{fill:"#F8E485",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M35.2 44c0-1.11.8-2.1 1.1-3.13.33-1.05.27-2.32.87-3.21.62-.9 1.81-1.21 2.68-1.86.83-.65 1.49-1.73 2.53-2.08.99-.34 2.12.13 3.22.13 1.07 0 2.23-.47 3.22-.13 1.01.35 1.67 1.43 2.53 2.08.87.65 2.06.96 2.68 1.86.63.86.54 2.16.87 3.21C55.23 41.9 56 42.9 56 44c0 1.11-.8 2.1-1.1 3.13-.33 1.05-.27 2.32-.87 3.21-.62.9-1.81 1.21-2.68 1.86-.83.65-1.49 1.73-2.53 2.08-.98.34-2.12-.13-3.22-.13-1.07 0-2.23.47-3.22.13-1.01-.35-1.67-1.43-2.53-2.08-.87-.65-2.06-.96-2.68-1.86-.63-.86-.54-2.16-.87-3.21-.33-1.03-1.1-2.02-1.1-3.13Z"}),E.createElement("mask",{id:"SuccessD_a",width:"23",height:"24",x:"34",y:"32",maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},E.createElement("path",{fill:"#F8E485",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M54.6 49.2c-.55.96-1.74 1.42-2.51 2.16-.81.74-1.4 1.87-2.36 2.35-.99.47-2.18.14-3.25.27-1.05.14-2.16.75-3.23.53-1.02-.2-1.77-1.17-2.73-1.72-.92-.53-2.16-.71-2.84-1.5-.71-.8-.74-2.07-1.16-3.06-.42-1-1.3-1.86-1.4-2.95-.1-1.07.62-2.15.87-3.22.22-1.05.05-2.3.6-3.26.56-.96 1.75-1.42 2.52-2.16.81-.74 1.4-1.87 2.36-2.35.99-.47 2.18-.14 3.25-.27 1.05-.14 2.16-.75 3.23-.53 1.02.2 1.77 1.17 2.73 1.72.92.54 2.16.71 2.84 1.5.71.8.74 2.07 1.16 3.06.43 1 1.3 1.86 1.4 2.95.1 1.07-.62 2.15-.87 3.22-.22 1.05-.05 2.3-.6 3.26Z"})),E.createElement("g",{mask:"url(#SuccessD_a)"},E.createElement("path",{fill:"#FEFAE9",d:"m52.26 29.95 2.49 2.5-19.9 19.9-2.5-2.5zM60.33 37.48l-4.35-4.34-19.9 19.9 4.35 4.35z"}),E.createElement("path",{stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M35.2 44c0-1.11.8-2.1 1.1-3.13.33-1.05.27-2.32.87-3.21.62-.9 1.81-1.21 2.68-1.86.83-.65 1.49-1.73 2.53-2.08.99-.34 2.12.13 3.22.13 1.07 0 2.23-.47 3.22-.13 1.01.35 1.67 1.43 2.53 2.08.87.65 2.06.96 2.68 1.86.63.86.54 2.16.87 3.21C55.23 41.9 56 42.9 56 44c0 1.11-.8 2.1-1.1 3.13-.33 1.05-.27 2.32-.87 3.21-.62.9-1.81 1.21-2.68 1.86-.83.65-1.49 1.73-2.53 2.08-.98.34-2.12-.13-3.22-.13-1.07 0-2.23.47-3.22.13-1.01-.35-1.67-1.43-2.53-2.08-.87-.65-2.06-.96-2.68-1.86-.63-.86-.54-2.16-.87-3.21-.33-1.03-1.1-2.02-1.1-3.13Z"}))),null)}},{emptyState:{title:"Start writing to make the magic happen.",description:"Suggestions will appear here.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 65",role:"img","aria-hidden":!0,focusable:!1},E.createElement("g",{clipPath:"url(#EmptyE_a)"},E.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M47.87 26.1c-.06 0-.1-.05-.1-.1.09-3.4-1.08-4.63-4.47-4.73-.06 0-.1-.05-.1-.1 0-.06.05-.1.1-.1 3.4.09 4.63-1.08 4.73-4.47 0-.06.05-.1.1-.1.06 0 .1.05.1.1-.09 3.4 1.08 4.63 4.47 4.72.06 0 .1.05.1.1 0 .06-.05.1-.1.1-3.4-.09-4.63 1.08-4.73 4.47 0 .07-.05.11-.1.11ZM10.68 28.5c-.06 0-.1-.04-.1-.1.09-3.11-.98-4.24-4.1-4.33-.04 0-.08-.04-.08-.1 0-.05.04-.08.1-.08 3.11.08 4.24-.99 4.33-4.1 0-.05.04-.09.1-.09.05 0 .08.04.08.1-.08 3.11.99 4.24 4.1 4.32.05 0 .09.04.09.1 0 .05-.04.08-.1.08-3.11-.08-4.24.99-4.33 4.1 0 .06-.04.1-.1.1ZM35.84 12.5c-.06 0-.1-.06-.1-.12.1-3.96-1.27-5.4-5.23-5.51-.07 0-.11-.06-.11-.13 0-.06.06-.1.12-.1 3.96.1 5.4-1.27 5.51-5.23 0-.07.06-.11.13-.11.06 0 .1.06.1.12-.1 3.97 1.27 5.4 5.23 5.5.07 0 .11.06.11.13 0 .06-.06.1-.12.1-3.96-.1-5.4 1.27-5.51 5.23-.01.08-.06.12-.13.12Z"}),E.createElement("path",{fill:"#0E101A",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M2.19 6.8a2.53 2.53 0 1 1 2.74-4.24l30.2 19.54-2.74 4.24L2.19 6.81Z"}),E.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M24.3 21.1a2.52 2.52 0 1 1 2.74-4.23l8.75 5.65-2.74 4.24-8.75-5.66Z"}),E.createElement("circle",{cx:"34.41",cy:"24.67",r:"2.55",fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",transform:"rotate(-57 34.4 24.67)"}),E.createElement("path",{fill:"#C6CBDE",d:"M32 64.5c10.6 0 19.2-1.61 19.2-3.6s-8.6-3.6-19.2-3.6-19.2 1.61-19.2 3.6 8.6 3.6 19.2 3.6Z"}),E.createElement("path",{fill:"#6E66DE",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M42.84 34.42H21.16l-3.23 23.34c-.2 1.49.5 2.9 1.94 3.3 2.13.6 6 1.27 12.62 1.27 6.77 0 10.35-.7 12.17-1.3 1.17-.4 1.64-1.56 1.47-2.78l-3.29-23.83Z"}),E.createElement("path",{fill:"#F8C6DA",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"m43.74 41.35-.9-6.93H21.16l-.9 6.93h23.48Z"}),E.createElement("path",{fill:"#6E66DE",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M50.08 33.3H13.92a1.12 1.12 0 0 0 0 2.24h36.16a1.12 1.12 0 1 0 0-2.24Z"})),E.createElement("defs",null,E.createElement("clipPath",{id:"EmptyE_a"},E.createElement("path",{fill:"#fff",d:"M0 .5h64v64H0z"})))),null)},successState:{title:"Poof!",description:"There are no more suggestions.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("g",{clipPath:"url(#SuccessE_a)"},E.createElement("path",{fill:"#C6CBDE",d:"M32 64c11.49 0 20.8-1.8 20.8-4s-9.31-4-20.8-4-20.8 1.8-20.8 4 9.31 4 20.8 4Z"}),E.createElement("path",{fill:"#F28C8C",d:"M38.73 32.98s9.04-12.87 11.57-18.56c3.5-7.97 1.49-11.86-.22-12.62-1.7-.76-5.96.4-9.46 8.36-2.59 5.85-6.54 21.03-6.54 21.03"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M38.73 32.98s9.04-12.87 11.57-18.56c3.5-7.97 1.49-11.86-.22-12.62-1.7-.76-5.96.4-9.46 8.36-2.59 5.85-6.54 21.03-6.54 21.03"}),E.createElement("path",{fill:"#F8C6DA",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M37.12 30.94a.95.95 0 0 1-.6-1.21c1.12-3.6 5.26-16.7 6.53-19.63 2.04-4.62 4.69-5.75 5.7-5.32 1 .46 1.97 3.16-.07 7.79-1.28 2.89-8.55 14.94-10.37 17.95-.25.4-.73.58-1.19.42Z"}),E.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"m32.68 31.55-4.56 2.04s-.58-.97-1.46-2.55a348.24 348.24 0 0 1-5.63-10.29 1.31 1.31 0 0 1 .33-1.61 6.2 6.2 0 0 1 9.13 1.25 285.72 285.72 0 0 1 2.19 11.16Z"}),E.createElement("path",{fill:"#6E66DE",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M44.05 31.22H19.95l-3.6 25.59c-.22 1.5.49 2.93 1.95 3.35 2.31.66 6.65 1.44 14.25 1.44 7.73 0 11.71-.8 13.68-1.48 1.18-.4 1.67-1.58 1.5-2.82l-3.68-26.08Z"}),E.createElement("path",{fill:"#F8C6DA",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"m45.04 38.76-1-7.54H19.96l-1 7.54h26.1Z"}),E.createElement("path",{fill:"#6E66DE",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M51.58 30H12.42a1.22 1.22 0 0 0 0 2.44h39.16a1.22 1.22 0 0 0 0-2.44Z"}),E.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M30.49 20.42c-1 3.4-2.07 6.72-2.98 8.82-.28.64-.55 1.25-.85 1.8-3.26 6.38-6.94 7.33-8.55 6.63-1.74-.73-3.78-4.63-.34-12.63.52-1.18 1.31-2.68 2.22-4.32a6.2 6.2 0 0 1 10.5-.3Z"}),E.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M6.63 21.6c-.07 0-.12-.06-.12-.13.11-4.25-1.35-5.79-5.59-5.9-.07 0-.12-.07-.12-.14s.06-.12.13-.12c4.25.11 5.79-1.35 5.9-5.59 0-.07.07-.12.14-.12s.12.06.12.13c-.11 4.25 1.35 5.79 5.59 5.9.07 0 .12.05.12.13 0 .07-.06.12-.13.12-4.25-.11-5.79 1.34-5.9 5.59-.02.08-.07.13-.14.13ZM19.87 10.4c-.06 0-.1-.05-.1-.1.09-3.4-1.08-4.63-4.47-4.73-.06 0-.1-.05-.1-.1 0-.06.05-.1.1-.1 3.4.09 4.63-1.08 4.73-4.47 0-.06.05-.1.1-.1.06 0 .1.05.1.1-.09 3.4 1.08 4.63 4.47 4.72.06 0 .1.05.1.1 0 .06-.05.1-.1.1-3.4-.09-4.63 1.08-4.73 4.47 0 .07-.05.11-.1.11ZM57.03 52c-.07 0-.12-.06-.12-.13.11-4.25-1.35-5.79-5.59-5.9-.07 0-.12-.07-.12-.14s.06-.12.13-.12c4.25.11 5.79-1.35 5.9-5.59 0-.07.07-.12.14-.12s.12.06.12.13c-.11 4.25 1.35 5.79 5.59 5.9.07 0 .12.05.12.13 0 .07-.06.12-.13.12-4.25-.11-5.79 1.34-5.9 5.59-.02.08-.07.13-.14.13Z"})),E.createElement("defs",null,E.createElement("clipPath",{id:"SuccessE_a"},E.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)}},{emptyState:{title:"No pressure.",description:"Suggestions will appear here.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("g",{clipPath:"url(#EmptyF_a)"},E.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M28.8.8h6.4v72.8h-6.4zM4.8 71.09l5.54 3.2 12.8-22.18-5.54-3.2zM59.2 71.08l-5.54 3.2-12.8-22.17 5.54-3.2z"}),E.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M6.4 6.4h51.2v51.2H6.4V6.4Z"}),E.createElement("path",{fill:"#DBEBFF",fillRule:"evenodd",d:"M57.6 40.12V57.6H6.4V19.47a13.4 13.4 0 0 1 2.28-1.84 6.48 6.48 0 0 1 5.52-.75 6.37 6.37 0 0 1 3.83 3.57c.75 1.75.67 3.54.56 4.45-.26 2.04-.98 3.65-1.79 5.47l-.1.24.38-.3c-.04.03.99-.79 1.91-1.33.5-.3 1.32-.72 2.33-.98a6.66 6.66 0 0 1 4.86.56c3.66 2 4.18 5.65 4.03 7.75-.1 1.36-.46 2.6-.82 3.56.84-.82 1.72-1.62 2.65-2.39 1.07-.87 2.81-1.96 4.78-2.53 1.67-.48 6.19-1.2 8.97 2.87a7.8 7.8 0 0 1 1.4 4.16c.79-.57 1.64-1.1 2.58-1.55l.05-.03c.36-.17 1.66-.8 3.1-1.05a7.1 7.1 0 0 1 4.68.77Z",clipRule:"evenodd"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M6.4 6.4h51.2v51.2H6.4V6.4Z"}),E.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M3.2 51.2h57.6v6.4H3.2z"}),E.createElement("path",{fill:"#FEFAE9",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M27.97 32.23a5.23 5.23 0 0 1 7.71-2.94c2.9 1.72 3.77 5.06.55 8.71-3.22 3.65-9.8 3.1-11.7 2.32 2.37-3.14 2.3-4.74 3.44-8.1Z"}),E.createElement("path",{fill:"#638EEB",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M43.6 14.18a3.48 3.48 0 1 1 5.53 4.18L37.7 31.46l-3.58-2.7 9.48-14.58Z"}),E.createElement("path",{fill:"#15C39A",fillRule:"evenodd",d:"M36.94 37.12c-.21.3-.45.59-.7.88-3.23 3.65-9.8 3.1-11.7 2.32 1.75-2.32 2.17-3.8 2.72-5.77.1-.36.2-.73.33-1.13 1.3.08 2.16.22 3.76 2.6 1.34 1.98 3.54 1.66 5.59 1.1Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#0E101A",d:"m36.94 37.12.4.3a.5.5 0 0 0-.54-.78l.14.48Zm-.7.88.37.33-.38-.33Zm-11.7 2.32-.4-.3a.5.5 0 0 0 .2.76l.2-.46Zm2.72-5.77-.48-.14.48.14Zm.33-1.13.03-.5a.5.5 0 0 0-.51.36l.48.14Zm3.76 2.6.42-.29-.42.28Zm5.18.8c-.2.29-.42.57-.67.85l.75.66c.27-.3.51-.61.73-.92l-.81-.58Zm-.67.85c-1.5 1.69-3.8 2.43-6.02 2.65-2.23.21-4.26-.12-5.11-.47l-.38.93c1.04.43 3.25.76 5.58.53 2.35-.22 4.95-1.02 6.68-2.98l-.75-.66Zm-10.92 2.95a15.1 15.1 0 0 0 2.8-5.94l-.96-.27c-.55 1.95-.95 3.36-2.64 5.6l.8.6Zm2.8-5.94c.1-.35.2-.72.33-1.11l-.96-.3-.33 1.14.96.27Zm4.03 1.05a7.25 7.25 0 0 0-2.16-2.3 4.13 4.13 0 0 0-2-.5l-.05 1c.64.03 1.08.08 1.55.36.48.28 1.04.84 1.83 2l.83-.56Zm5.03.9c-1.01.28-2 .48-2.87.4a2.79 2.79 0 0 1-2.16-1.3l-.83.56a3.79 3.79 0 0 0 2.89 1.73 9.2 9.2 0 0 0 3.24-.42l-.27-.96Z"})),E.createElement("defs",null,E.createElement("clipPath",{id:"EmptyF_a"},E.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)},successState:{title:"Bravo!",description:"There are no more suggestions.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("g",{clipPath:"url(#SuccessF_a)"},E.createElement("path",{fill:"#41D9B5",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M.8 5.8a5 5 0 0 1 5-5h52.4a5 5 0 0 1 5 5v52.4a5 5 0 0 1-5 5H5.8a5 5 0 0 1-5-5V5.8Z"}),E.createElement("path",{fill:"#DBEBFF",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M4.8 6.8c0-1.1.9-2 2-2h50.4a2 2 0 0 1 2 2v50.4a2 2 0 0 1-2 2H6.8a2 2 0 0 1-2-2V6.8Z"}),E.createElement("g",{clipPath:"url(#SuccessF_b)"},E.createElement("path",{fill:"#99C2FF",d:"M55.66 73.05c-.76.9-1.51 1.8-1.66 2.02H-2.94c.61-2.7.03-5.61-2.37-7.42-2.44-1.83-4.9-3.64-7.27-5.56V37.05l.12.1c1.98 1.79 5.03-.78 7.15.9 11.3 17 27.6 18.48 41.09 9.82 3.86-2.48 6.83-14.07 4.07-18.06-2.48-3.58-8.15-5.66-12.29-3a58.1 58.1 0 0 1-7.42 4.1c-.27.13-.77.28-1.11.38l.92-.25c-.47.13-.94.35-1.4.51-1.22.41-2.47.76-3.73 1.02-.61.13-1.25.2-1.86.33l.89-.2a7.2 7.2 0 0 1-.8.1c-.63.03-1.25 0-1.87-.04h-.07c.44 0 .53-.03-.61-.05a19.27 19.27 0 0 1-2.23-.55h-.01c-.5-.27-1-.5-1.49-.77-.4-.23-.82-.61-1.25-.83l-.42-.34c-1.12-.97-2.1-2.05-3.09-3.13C.7 25.66-3.16 16.37-4.78 15.2 1.27 17.47 10.8 16.8 15.6 14c4.8-2.8 9.6-7.31 11.42-13.73 0 0 8.38.75 14.05 4.15 5.66 3.4 6.8 8.31 9.44 14.74 2.65 6.42 9.07 8.68 15.12 6.38l.37.05-1.13 16.61c-8.38-6-17 .89-19.27 6.04-2.22 5.05 11.37 22.27 10.06 24.81 1.5-1.77 3.06-3.53-.04.07a.52.52 0 0 1-.07.08l.07-.08a.58.58 0 0 0 .04-.07Z",opacity:".7"}),E.createElement("path",{fill:"#FCE5E5",d:"m30.37 12.1 1.17-2.18c.6-1.12 1.3-1.53 2.49-1.97a3.36 3.36 0 0 1 2.64.27c.81.42 1.47.27 2.06.97a15.46 15.46 0 0 1 2.87 13.86c-.11.4-.25.82-.22 1.25.02.34.14.66.19 1 .07.6-.1 1.19-.24 1.77-.56 2.19-.85 4.58.06 6.65.25.56.58 1.1.69 1.7.09.46.04.93 0 1.4-.26 3.04-.13 6.12.4 9.13-7.1.5-14.29-.28-21.12-2.27a1.27 1.27 0 0 1-.52-.24c-.26-.25-.27-.67-.19-1.02.21-.93.86-1.7 1.5-2.42 2.2-2.55 4.42-5.09 6.64-7.63"}),E.createElement("path",{fill:"#F28C8C",fillRule:"evenodd",d:"M24.77 36.29s-15.01-.79-6.79-7.93l-5.65-5.65S9.72 26.48 7.5 32.4c-1.04 2.75 1.39 5.17 4.43 8.21 3.5 3.5 7.82 7.81 8.64 14.39.14 1.11.3 1.87.45 2.33.17 1.1.34 2.26.5 3.5.43 3.31.49 14.3.49 14.3l34.4-.27.05-29.5c0-4.2-2.56-7.97-6.47-9.5l-9.8 7.7c-16.84 3.76-14.9-7.14-14.9-7.14s-.22.21-.57.59l.06-.72Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#FFC940",fillRule:"evenodd",d:"m22.98 37.83 1.2.1 1.2.11a2.27 2.27 0 0 0 0 .32 5.82 5.82 0 0 0 1.34 3.7c1.44 1.72 4.83 3.52 13.04 1.68l.53 2.36c-8.61 1.93-13.15.24-15.43-2.48a8.24 8.24 0 0 1-1.88-5.77v-.02Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#0E101A",d:"m17.98 28.36.33.38a.5.5 0 0 0 .02-.73l-.35.35Zm6.36 7.93.5.05a.5.5 0 0 0-.47-.55l-.03.5Zm-12-13.58.34-.35a.5.5 0 0 0-.75.05l.4.3Zm-4.92 9.45.47.17-.47-.17Zm4.78 8.56.36-.35-.36.35Zm8.48 13.62.5-.06-.5.06Zm.07.61.5-.04-.5.04Zm.06 1.26h.5-.5Zm.1 2.46.5.01a.5.5 0 0 0 0-.1l-.5.1Zm-.1 1.98.5.04-.5-.04ZM22 75.12l-.5.07a.5.5 0 0 0 .5.43v-.5Zm34.39-.26v.5a.5.5 0 0 0 .5-.5h-.5Zm.06-29.1h-.5.5Zm-6.9-9.9.18-.47a.5.5 0 0 0-.5.09l.32.38Zm-9.37 7.7.1.48a.5.5 0 0 0 .21-.1l-.31-.39Zm-14.9-7.14.49.1a.5.5 0 0 0-.84-.46l.35.36Zm-1.08 1.15-.5-.05a.5.5 0 0 0 .88.38l-.38-.33Zm-6.55-9.59c-2.07 1.8-2.9 3.36-2.63 4.73.26 1.35 1.54 2.2 2.87 2.75 1.36.57 2.98.9 4.23 1.09a28.35 28.35 0 0 0 2.15.24h.04l.03-.5.03-.5h-.04l-.11-.01a20.5 20.5 0 0 1-1.95-.22c-1.23-.18-2.75-.5-4-1.02-1.29-.54-2.11-1.22-2.27-2.02-.16-.8.27-2.01 2.3-3.78l-.65-.76Zm-5.67-4.92 5.65 5.65.7-.7-5.65-5.65-.7.7Zm-4.1 9.27a45.35 45.35 0 0 1 4.41-8.7 19.79 19.79 0 0 1 .44-.62l-.4-.3-.4-.3v.01a8.3 8.3 0 0 0-.47.65 46.35 46.35 0 0 0-4.51 8.9l.94.36Zm4.68 8.04a33.1 33.1 0 0 1-3.9-4.42c-.89-1.35-1.2-2.5-.77-3.62l-.94-.35c-.58 1.55-.09 3.06.88 4.52.95 1.45 2.44 2.96 4.02 4.57l.71-.7Zm8.62 13.9c-.8-5.95-5.13-10.35-8.62-13.9l-.71.7c3.53 3.6 7.6 7.77 8.34 13.34l.99-.14Zm.07.63-.07-.62-1 .12.07.6 1-.1Zm.06 1.3c0-.43-.02-.87-.06-1.29l-1 .09c.04.4.06.8.06 1.2h1Zm.1 2.39c-.06-.35-.1-1.1-.1-2.38h-1c0 1.27.03 2.1.11 2.55l.99-.17Zm-.1 2.1c.06-.71.09-1.38.1-2l-1-.03c0 .6-.04 1.25-.1 1.94l1 .09ZM22 75.12l.5-.07-.01-.03-.01-.09a178.11 178.11 0 0 1-.69-5.85c-.33-3.22-.62-6.79-.49-8.4l-1-.08c-.14 1.72.17 5.4.5 8.58a242.97 242.97 0 0 0 .69 5.88v.1l.01.02.5-.06Zm34.39-.76-34.4.26.01 1 34.4-.26-.01-1Zm-.44-28.6-.06 29.1h1l.06-29.1h-1Zm-6.57-9.43a10.02 10.02 0 0 1 6.57 9.43h1c0-4.63-2.88-8.77-7.22-10.37l-.35.94Zm-8.89 7.61 9.38-7.7-.63-.76-9.38 7.69.63.77Zm-15.21-7.52a28.07 28.07 0 0 0-.5-.08 1.23 1.23 0 0 0-.02.14l-.03.37A7.16 7.16 0 0 0 26 41.69c1.8 2.5 5.79 4.25 14.28 2.35l-.22-.97c-8.35 1.86-11.8.05-13.25-1.96a6.16 6.16 0 0 1-1.08-3.09 7.29 7.29 0 0 1 .03-1.51l-.5-.09Zm-.7 1.48a20.66 20.66 0 0 1 1.02-1.1l.02-.01-.34-.37-.35-.36-.02.02-.06.06a14.31 14.31 0 0 0-1.03 1.1l.76.66Zm-.24-1.61-.5-.06v.09l-.03.25-.1.95.99.1a525.27 525.27 0 0 0 .14-1.27l-.5-.06Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M48 55.39v11.85L35.83 74.8"}),E.createElement("path",{fill:"#0E101A",d:"m35.6 7.62-3.88 4.16s1.11 19.1-.24 23.23c-1.35 4.13-3.94 11.76-6.08 12.72-2.14.96-5.04.48-5.04-2.4 0-2.87 4.03-7.9 1.64-9.33.4 0 4.66-.98 3.63-6.47-1.03-5.48-2.85-13.96-.23-17.75 2.62-3.8 5.6-4.64 10.2-4.16Z"}),E.createElement("path",{fill:"#FCE5E5",d:"M32.7 11.5c-2.44-.09-6.13 1.14-6.3 3.94-.16 2.8.4 3.8.33 4.5-.08.7-1.21 3.58.24 5.9 1.45 2.34 3.78 3.89 4.59 4.12.8.24 4.51-1.16 6.6-3.18"}),E.createElement("path",{fill:"#0E101A",d:"M32.67 12a.5.5 0 0 0 .04-1l-.04 1Zm-6.27 3.44.5.03-.5-.03Zm5.16 14.52-.14.48.14-.48Zm1.15-18.95a8.94 8.94 0 0 0-4.24.93c-1.33.7-2.47 1.82-2.56 3.47l1 .06c.06-1.16.85-2.04 2.02-2.64 1.16-.6 2.6-.87 3.74-.82l.04-1Zm-6.8 4.4a14.04 14.04 0 0 0 .22 3.63l.06.38c.04.23.05.36.04.47l1 .11c.02-.25 0-.5-.05-.74l-.07-.4-.08-.46c-.1-.66-.2-1.58-.13-2.93l-1-.06Zm.32 4.48-.06.3-.13.53c-.1.41-.2.93-.26 1.51a6.08 6.08 0 0 0 .76 3.88l.85-.53a5.09 5.09 0 0 1-.62-3.25c.05-.52.15-.99.24-1.38l.13-.53c.04-.15.07-.3.08-.42l-.99-.11Zm.31 6.22a12.39 12.39 0 0 0 2.65 2.97 7.58 7.58 0 0 0 2.23 1.36l.28-.96a6.82 6.82 0 0 1-1.88-1.18 11.4 11.4 0 0 1-2.43-2.72l-.85.53Zm4.88 4.33c.2.06.42.06.62.03.22-.02.46-.07.72-.14a14.15 14.15 0 0 0 5.75-3.2l-.7-.71a13.16 13.16 0 0 1-5.88 3.06h-.23l-.28.96Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M31.57 19.2s-.7 3.52-.48 3.95c.21.43 1.4.43 1.99.06"}),E.createElement("path",{fill:"#0E101A",d:"M28.8 20.11c.44 0 .8-.48.8-1.07 0-.6-.36-1.08-.8-1.08-.44 0-.8.48-.8 1.08 0 .59.36 1.07.8 1.07Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"m36.34 19.7-2.51-.93 2.43-.88M30.25 26.1s3.6 1.1 4-.9"}),E.createElement("path",{fill:"#F9EA9E",stroke:"#0E101A",strokeLinejoin:"round",d:"M48.27 35s-4.7 12.38-13.47 17.8c-5.76 3.56-13.2 3.6-14 3.2-3 12.82 1.59 16.32 4.38 15.39 2.8-.93 9.17-3.93 15.4-11.59C46.8 52.15 50.97 39.12 54 39.2c-1.2-2.4-5.73-4.2-5.73-4.2Z"}),E.createElement("path",{fill:"#0E101A",d:"M31.23 12c1.46 0 4.71-.06 6.32 2.42 1.61 2.49 4.49 9.96 1.74 19.87-2.74 9.9-3.36 15.25 1.72 15.25 5.07 0 5.98-2.57 5.98-7.7 0-5.12 3.42-5.55 4.27-5.55-2.42-2.02-4.84-.86-5.6-12.98C44.88 11.2 39.38 7.62 35.6 7.62c-.26 0-5.83 4.37-4.38 4.37Z"}),E.createElement("path",{fill:"#FCE5E5",d:"M22.5 23.5c5.14-2.01 5.47-2.87 4.3-3.5-1.17-.63-3.7.79-3.7.79s.28-.46 2.43-1.75c2.14-1.3-.15-2.43-1.8-1.79-.8.31-2.17.88-1.94 1.73 0 0-2-2.98-5.13.25-1.83 1.88-1.74 3.36-1.4 4.22h-.17l-4.92 6.15 4.49 1 3.5-4.79c.99.76 4.99.52 4.32-1.62-.21-.66-.5-1.37-.84-2.01l.01-.02-.16-.26"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M15.74 24.2s-2.06-2 .9-5.05c3.12-3.22 5.3 0 5.3 0s.24 4.88-2.38 3.95c-1.25-.44.05-3.85.05-3.85"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M21.77 18.56s.71-.68 2.36-1.33c1.65-.64 3.05.69.9 1.98-2.14 1.3-1.96 1.5-1.96 1.5s3.17-1.56 4.02-.79c.84.77-.31 2.04-4.63 3.5M17.52 19.5s-1.34 2.18-.26 2.85c1.07.67 1.36-.65 1.36-.65"}),E.createElement("path",{fill:"#FCE5E5",d:"M21.98 22.99c-.14-.22-.63-1.35-.77-1.57a.51.51 0 0 0-.17-.2c-.09-.04-.67-1-.77-.98-.24.04-1.02-.23-1.18-.04-.65.77.03 2.18.05 2.52 0 .08.74 1.58.88 1.57.2 0 1.12-.26 1.2-.46"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M19.56 23.1s-1.48-2.16-.41-2.98c1.06-.82 2.63 1.84 3.3 4 .67 2.14-3.33 2.38-4.32 1.62l-3.87 4.88-2.96-2.69 3.8-5.02"}),E.createElement("path",{fill:"#F28C8C",d:"M12.73 23.92s.4 3.63 4.44 4.44c0 0-2.82 2.02-3.22 4.84-.4 2.83-5.65-.37-5.65-.37l1.61-4.87"}),E.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M12.33 23.11s1.62 4.85 5.25 5.25"})),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M4.8 6.8c0-1.1.9-2 2-2h50.4a2 2 0 0 1 2 2v50.4a2 2 0 0 1-2 2H6.8a2 2 0 0 1-2-2V6.8Z"})),E.createElement("defs",null,E.createElement("clipPath",{id:"SuccessF_a"},E.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})),E.createElement("clipPath",{id:"SuccessF_b"},E.createElement("path",{fill:"#fff",d:"M4.8 4.8h54.4v54.4H4.8z"})))),null)}},{emptyState:{title:"Time to dig in.",description:"Suggestions will appear here.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("g",{clipPath:"url(#EmptyG_a)"},E.createElement("path",{fill:"#DBEBFF",stroke:"#0E101A",d:"m51.15 10.56-3.71-1.48-5.32 13.38 3.71 1.48z"}),E.createElement("path",{fill:"#4A6EE0",stroke:"#0E101A",d:"m49.29 31.5-14.87-5.9 1.48-3.75a6 6 0 0 1 7.8-3.36l3.71 1.48a6 6 0 0 1 3.36 7.8L49.3 31.5Z"}),E.createElement("path",{fill:"#4A6EE0",fillRule:"evenodd",stroke:"#0E101A",d:"M56.36 7.08a2.47 2.47 0 0 0-1.17-3.63l-5.8-2.31a2.47 2.47 0 0 0-3.35 1.83l-.94 4.95a2.47 2.47 0 0 0 1.51 2.77l4.04 1.6c1.1.44 2.36.03 3-.97l2.71-4.24Zm-2.8-1.16-2.1 3.57-3.52-1.4.93-4.03 4.69 1.86Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",d:"M2.96 54.7C-4.82 51.48 7.2 28.34 27.6 22 48 15.65 67.98 49.1 61.9 54c-6.09 4.92-20.72 5.5-32.72 5.1-12-.4-18.44-1.2-26.22-4.4Z"}),E.createElement("path",{fill:"#AAF2E1",stroke:"#0E101A",d:"m11.5 24.49 3.38-2.12 7.63 12.21-3.39 2.12z"}),E.createElement("path",{fill:"#15C39A",stroke:"#0E101A",d:"m17.08 44.75 13.57-8.48-2.13-3.4a6 6 0 0 0-8.27-1.91l-3.4 2.12a6 6 0 0 0-1.9 8.26l2.13 3.41Z"}),E.createElement("path",{fill:"#15C39A",fillRule:"evenodd",stroke:"#0E101A",d:"M5.74 22a2.47 2.47 0 0 1 .5-3.79l5.3-3.31a2.47 2.47 0 0 1 3.62 1.2l1.82 4.7c.43 1.12 0 2.37-1 3l-3.68 2.3c-1.01.63-2.32.46-3.13-.41l-3.43-3.7Zm2.55-1.65L11 23.5l3.22-2-1.64-3.81-4.28 2.67Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#FFF0D4",d:"M19.35 39.37a12.57 12.57 0 0 0-4.97 7.32l9.6 2 14.8-10-6.8-6.8c-4.26 5.53-8.47 4.55-12.63 7.48Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",d:"M14.8 44.4s.76-2.61 4.38-4.9c3.62-2.3 7.62-1.9 12.02-6.3"}),E.createElement("ellipse",{cx:"42.75",cy:"42.11",fill:"#EF6E6E",stroke:"#0E101A",strokeLinejoin:"round",rx:"10.49",ry:"3.82"}),E.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M38.63 40.85c-3.34.38-5.22 2.5-5.01 3.79.2 1.28 2.92 4.16 2.92 4.16h9.61S52 48.05 52 45.77c0-2.27-1.67-3.31-3.76-3.78-2.09-.48-4.24.41-4.24.41s-2.03-1.93-5.37-1.55Z"}),E.createElement("path",{fill:"#F28C8C",fillRule:"evenodd",d:"m32.3 42.45 2.18 18.16c0 1.37 3.7 2.48 8.27 2.48C47.3 63.1 51 62 51 60.61l2.19-18.16c-.47 1.95-4.97 3.47-10.45 3.47-5.48 0-9.98-1.52-10.45-3.47Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#0E101A",d:"m32.3 42.45.48-.12a.5.5 0 0 0-.98.18l.5-.06Zm2.18 18.16h.5a.5.5 0 0 0 0-.06l-.5.06Zm16.53 0-.5-.06a.5.5 0 0 0 0 .06h.5Zm2.19-18.16.5.06a.5.5 0 0 0-.99-.18l.49.12Zm-21.4.06 2.18 18.16 1-.12-2.19-18.16-.99.12Zm2.18 18.1c0 .59.4 1.04.86 1.38.48.34 1.14.62 1.92.86 1.55.46 3.67.74 5.99.74v-1c-2.25 0-4.27-.27-5.7-.7a5.76 5.76 0 0 1-1.63-.72c-.37-.26-.44-.46-.44-.56h-1Zm8.77 2.98c2.32 0 4.43-.28 5.99-.74a6.71 6.71 0 0 0 1.91-.86c.47-.34.86-.8.86-1.38h-1c0 .1-.07.3-.43.56-.36.25-.9.5-1.63.72-1.44.43-3.45.7-5.7.7v1Zm8.76-2.92 2.19-18.16-1-.12-2.18 18.16 1 .12Zm1.2-18.34c-.08.33-.34.7-.87 1.08-.51.38-1.24.73-2.15 1.03-1.8.6-4.24.98-6.94.98v1c2.78 0 5.33-.38 7.26-1.03.97-.32 1.8-.72 2.42-1.17.62-.46 1.1-1 1.26-1.66l-.98-.23Zm-9.96 3.1c-2.7 0-5.14-.38-6.95-.99-.9-.3-1.63-.65-2.15-1.03s-.79-.75-.87-1.08l-.97.23c.16.65.63 1.2 1.25 1.66.63.45 1.46.85 2.42 1.17 1.94.65 4.49 1.03 7.27 1.03v-1Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M41.81 47.08c.4.63.84 1.27 1.33 1.9 3.81 5 8.67 7.7 10.86 6.03 1.83-1.4 1.22-5.38-1.25-9.56"}),E.createElement("circle",{cx:"41.79",cy:"47.04",r:"1.91",fill:"#F9C7C7",stroke:"#0E101A",strokeLinejoin:"round"})),E.createElement("defs",null,E.createElement("clipPath",{id:"EmptyG_a"},E.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)},successState:{title:"Looking good!",description:"There are no more suggestions.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("g",{clipPath:"url(#SuccessG_a)"},E.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M32 12V.8"}),E.createElement("path",{fill:"#41D9B5",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"m32 .8 10.4 2-10.4 2v-4Z"}),E.createElement("path",{fill:"#FFF0D4",fillRule:"evenodd",d:"M4.19 57.54c-11.68-1.65 9.45-9.48 23.8-11.66 14.34-2.19 41.86 7.56 33.74 11.33-1.66.77-14.7 2.23-24.14 2.87a6.31 6.31 0 0 0-2.96 1.21c-1.76 1.17-4.44 1.91-7.43 1.91-2.26 0-4.34-.42-5.98-1.13a7.64 7.64 0 0 0-4-.58c-.53.07-1.07.11-1.62.11-2.4 0-4.53-.7-5.93-1.8-1.06-.83-2.18-1.77-3.52-1.97l-.64-.1-1.32-.19Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#0E101A",d:"m27.98 45.88.08.5-.08-.5ZM4.2 57.54l-.07.5.07-.5Zm57.54-.33.21.45-.2-.45Zm-56.22.53.07-.5-.07.5Zm22.4-12.36C20.7 46.48 11.79 49 6.13 51.45a27.57 27.57 0 0 0-3.6 1.83 5.88 5.88 0 0 0-2 1.8 1.5 1.5 0 0 0-.2 1.07c.08.37.32.68.64.91.62.46 1.68.77 3.15.98l.14-1c-1.45-.2-2.29-.49-2.7-.78-.19-.14-.24-.26-.25-.32-.02-.07-.01-.18.09-.36.21-.39.76-.88 1.67-1.45.89-.56 2.06-1.16 3.45-1.76 5.58-2.42 14.4-4.91 21.54-6l-.15-.99Zm34.03 12.28c1.08-.5 1.77-1.2 1.76-2.11 0-.86-.63-1.67-1.48-2.4-1.73-1.46-4.94-3-8.78-4.31-7.69-2.65-18.25-4.57-25.53-3.46l.15 1c7.06-1.08 17.43.78 25.06 3.4 3.81 1.32 6.87 2.8 8.46 4.14.8.7 1.12 1.24 1.12 1.63 0 .33-.22.76-1.18 1.2l.42.91Zm-24.31 2.92c4.72-.32 10.35-.85 15-1.39 2.33-.27 4.42-.55 6.03-.8.8-.13 1.5-.26 2.05-.38a6.6 6.6 0 0 0 1.23-.35l-.42-.9a5.9 5.9 0 0 1-1.02.28c-.52.11-1.2.23-2 .36-1.59.25-3.66.53-5.98.8-4.64.54-10.25 1.07-14.96 1.39l.07 1ZM27.2 63.7c3.07 0 5.84-.76 7.7-1.99l-.55-.83c-1.66 1.1-4.23 1.82-7.15 1.82v1Zm-6.17-1.17c1.7.74 3.85 1.17 6.17 1.17v-1c-2.2 0-4.2-.41-5.78-1.09l-.4.92ZM17.14 61c-.5.06-1 .1-1.54.1v1c.58 0 1.14-.04 1.68-.11l-.14-1Zm-1.54.1c-2.3 0-4.33-.68-5.62-1.69l-.61.79c1.5 1.18 3.75 1.9 6.23 1.9v-1ZM5.44 58.23l.64.1.14-1-.64-.09-.14 1Zm-1.32-.2 1.32.2.14-.99-1.32-.2-.14 1Zm5.86 1.38c-1.02-.8-2.26-1.85-3.76-2.07l-.14.98c1.18.18 2.18 1.01 3.29 1.88l.61-.79Zm11.44 2.2a8.13 8.13 0 0 0-4.28-.61l.14.99a7.14 7.14 0 0 1 3.75.54l.4-.92Zm16.14-2.02c-1.22.08-2.3.68-3.2 1.29l.54.83a5.83 5.83 0 0 1 2.73-1.13l-.07-1Z"}),E.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",d:"M36.4 21.6h-8.8a2 2 0 0 1-2-2v-4.37a2 2 0 0 1 .59-1.42l4.4-4.4a2 2 0 0 1 2.82 0l4.4 4.4a2 2 0 0 1 .59 1.42v4.37a2 2 0 0 1-2 2Z"}),E.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",d:"M30.4 13.6a1.6 1.6 0 0 1 3.2 0v3.2h-3.2v-3.2Z"}),E.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",d:"M39.6 20H24.4a2 2 0 0 0-2 2v21.6c0 1.1.9 2 2 2h15.2a2 2 0 0 0 2-2V22a2 2 0 0 0-2-2Z"}),E.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",d:"M30.4 24.8a1.6 1.6 0 0 1 3.2 0V28h-3.2v-3.2Z"}),E.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",d:"M26 28h-7.2a2 2 0 0 0-2 2v17.6c0 1.1.9 2 2 2H26a2 2 0 0 0 2-2V30a2 2 0 0 0-2-2Z"}),E.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",d:"M20.8 32.8a1.6 1.6 0 0 1 3.2 0V36h-3.2v-3.2Z"}),E.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",d:"M45.2 28H38a2 2 0 0 0-2 2v17.6c0 1.1.9 2 2 2h7.2a2 2 0 0 0 2-2V30a2 2 0 0 0-2-2Z"}),E.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",d:"M40 32.8a1.6 1.6 0 1 1 3.2 0V36H40v-3.2Z"}),E.createElement("path",{fill:"#FFF0D4",fillRule:"evenodd",d:"M12.8 41.2c0-1.1.9-2 2-2h2.54a2 2 0 0 1 2 2v2h4.08v-2c0-1.1.9-2 2-2h2.54a2 2 0 0 1 2 2v2h4.08v-2c0-1.1.9-2 2-2h2.54a2 2 0 0 1 2 2v2h4.08v-2c0-1.1.9-2 2-2h2.54a2 2 0 0 1 2 2v4a2 2 0 0 1-.05.45c.03.18.05.36.05.55v7.4H12.8v-7.4c0-.19.02-.37.05-.55a2 2 0 0 1-.05-.45v-4Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#0E101A",d:"M19.34 43.2h-.5v.5h.5v-.5Zm4.08 0v.5h.5v-.5h-.5Zm6.54 0h-.5v.5h.5v-.5Zm4.08 0v.5h.5v-.5h-.5Zm6.54 0h-.5v.5h.5v-.5Zm4.08 0v.5h.5v-.5h-.5Zm6.49 2.45-.49-.11-.02.1.02.1.49-.1Zm.05 7.95v.5h.5v-.5h-.5Zm-38.4 0h-.5v.5h.5v-.5Zm.05-7.95.5.09.01-.1-.02-.1-.49.1Zm1.95-6.95a2.5 2.5 0 0 0-2.5 2.5h1c0-.83.67-1.5 1.5-1.5v-1Zm2.54 0H14.8v1h2.54v-1Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v1c.82 0 1.5.67 1.5 1.5h1Zm0 2v-2h-1v2h1Zm3.58-.5h-4.08v1h4.08v-1Zm-.5-1.5v2h1v-2h-1Zm2.5-2.5a2.5 2.5 0 0 0-2.5 2.5h1c0-.83.67-1.5 1.5-1.5v-1Zm2.54 0h-2.54v1h2.54v-1Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v1c.83 0 1.5.67 1.5 1.5h1Zm0 2v-2h-1v2h1Zm3.58-.5h-4.08v1h4.08v-1Zm-.5-1.5v2h1v-2h-1Zm2.5-2.5a2.5 2.5 0 0 0-2.5 2.5h1c0-.83.67-1.5 1.5-1.5v-1Zm2.54 0h-2.54v1h2.54v-1Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v1c.83 0 1.5.67 1.5 1.5h1Zm0 2v-2h-1v2h1Zm3.58-.5h-4.08v1h4.08v-1Zm.5.5v-2h-1v2h1Zm0-2c0-.83.68-1.5 1.5-1.5v-1a2.5 2.5 0 0 0-2.5 2.5h1Zm1.5-1.5h2.54v-1h-2.54v1Zm2.54 0c.83 0 1.5.67 1.5 1.5h1a2.5 2.5 0 0 0-2.5-2.5v1Zm1.5 1.5v4h1v-4h-1Zm0 4c0 .12-.01.23-.04.34l.98.22c.04-.18.06-.37.06-.56h-1Zm1 1c0-.22-.02-.43-.06-.64l-.98.18c.03.15.04.3.04.46h1Zm0 7.4v-7.4h-1v7.4h1Zm-19.7.5h19.2v-1H32v1Zm-19.2 0H32v-1H12.8v1Zm-.5-7.9v7.4h1v-7.4h-1Zm.06-.64c-.04.2-.06.42-.06.64h1c0-.16.01-.31.04-.46l-.98-.18Zm-.06-.36c0 .2.02.38.06.56l.98-.22a1.5 1.5 0 0 1-.04-.34h-1Zm0-4v4h1v-4h-1Z"}),E.createElement("path",{fill:"#FFF0D4",d:"M13.2 50.4h37.6v6.4H13.2v-6.4Z"}),E.createElement("circle",{cx:"7.2",cy:"7.2",r:"6.4",fill:"#F8E485",stroke:"#0E101A"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M3.2 21.6c2.18 0 4 4 4 4s1.82-4 4-4M12.8 16c1.75 0 3.2 3.2 3.2 3.2s1.45-3.2 3.2-3.2"})),E.createElement("defs",null,E.createElement("clipPath",{id:"SuccessG_a"},E.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)}},{emptyState:{title:"All the world's a page.",description:"Suggestions will appear here.",illustration:E.createElement(hl,null)},successState:{title:"You deserve a break.",description:"There are no more suggestions.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M28.64 24s2.56-1.62 2.56-4.86c0-4.92-6.4-5.8-6.4-10.67 0-3.36 3.84-6.07 3.84-6.07M36.64 21.6s2.56-1.56 2.56-4.68c0-4.8-6.4-5.52-6.4-10.28C32.8 3.41 36.64.8 36.64.8"}),E.createElement("path",{fill:"#C6CBDE",d:"M32.8 64c11.05 0 20-1.43 20-3.2 0-1.77-8.95-3.2-20-3.2s-20 1.43-20 3.2c0 1.77 8.95 3.2 20 3.2Z"}),E.createElement("path",{fill:"#1995BB",fillRule:"evenodd",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M49.6 35.2h5.39c2.82 0 5.01 2.47 5.01 5.36v6.08c0 2.89-2.2 5.36-5.01 5.36H49.6v-3.5h5.39c.85 0 1.66-.78 1.66-1.86v-6.08c0-1.08-.81-1.86-1.66-1.86H49.6v-3.5Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#15C39A",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M31 60.8a19 19 0 0 1-19-19V31.2h40v10.6a19 19 0 0 1-19 19h-2Z"}),E.createElement("path",{fill:"#F7E68B",d:"M49.66 32.63c1.5-.44 2.34-.94 2.34-1.48C52 29.41 43.04 28 32 28s-20 1.4-20 3.15c0 .6 1.08 1.17 2.95 1.65 3.37-1 10-1.67 17.65-1.67 7.22 0 13.54.6 17.06 1.5Z"}),E.createElement("path",{fill:"#1F243C",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M49.6 32.71c-3.49-.9-9.75-1.51-16.9-1.51-7.58 0-14.16.68-17.5 1.69 3.49.9 9.75 1.51 16.9 1.51 7.58 0 14.16-.68 17.5-1.69Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M32 34.4c11.05 0 20-1.43 20-3.2 0-1.77-8.95-3.2-20-3.2s-20 1.43-20 3.2c0 1.77 8.95 3.2 20 3.2ZM23.2 34v7.6"}),E.createElement("path",{fill:"#FAC0D6",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M25.98 48.64H20.6a.77.77 0 0 1-.77-.76V42.5c0-.42.35-.77.77-.77h5.37c.42 0 .77.35.77.77v5.37c0 .42-.35.76-.77.76Z"})),null)}},{emptyState:{title:"So far, so good.",description:"Suggestions will appear here.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("g",{clipPath:"url(#EmptyI_a)"},E.createElement("path",{fill:"#C6CBDE",d:"M35.6 64c14.8 0 18.8-3.04 18.8-6.8s-4-6.8-18.8-6.8-26.8 3.04-26.8 6.8 12 6.8 26.8 6.8Z"}),E.createElement("ellipse",{cx:"32",cy:"26.8",fill:"#15C39A",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",rx:"31.2",ry:"6"}),E.createElement("mask",{id:"EmptyI_b",width:"64",height:"14",x:"0",y:"20",maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},E.createElement("ellipse",{cx:"32",cy:"26.8",fill:"#15C39A",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",rx:"31.2",ry:"6"})),E.createElement("g",{mask:"url(#EmptyI_b)"},E.createElement("path",{fill:"#FFF0D4",fillRule:"evenodd",d:"M20.9 25.03a15.38 15.38 0 0 1 6.83-2.51 14.38 14.38 0 0 1 11.68 3.73s4.67-2.14 9.22-1c4.54 1.13 8.17 3.63 8.17 9.08S44.08 41.6 44.08 41.6H24.71a12.9 12.9 0 0 1-6.31 1.6c-6.19 0-11.2-4.12-11.2-9.2 0-5.08 5.01-9.2 11.2-9.2.86 0 1.7.08 2.5.23Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#0E101A",d:"m27.73 22.52.07.5-.07-.5Zm-6.83 2.51-.09.5a.5.5 0 0 0 .38-.09l-.29-.41Zm18.5 1.22-.35.34c.14.16.37.2.57.11l-.21-.45Zm9.23-1-.13.48.13-.49ZM44.08 41.6v.5a.5.5 0 0 0 .07 0l-.07-.5Zm-19.37 0v-.5a.5.5 0 0 0-.24.06l.24.44Zm2.96-19.58a15.88 15.88 0 0 0-7.05 2.6l.56.82c1.7-1.17 3.93-2.09 6.62-2.43l-.13-.99Zm11.74 4.23.36-.35-.02-.02a4.06 4.06 0 0 0-.2-.2l-.63-.53a14.96 14.96 0 0 0-11.25-3.12l.13.98a13.96 13.96 0 0 1 11.25 3.58l.36-.34Zm9.34-1.5c-2.38-.59-4.77-.32-6.55.08a18.63 18.63 0 0 0-2.98.96h-.01l.2.46.2.45h.02l.03-.02a8.13 8.13 0 0 1 .72-.28c.5-.18 1.2-.4 2.04-.6 1.7-.38 3.92-.61 6.08-.07l.25-.97Zm8.55 9.58c0-2.85-.96-4.97-2.53-6.52-1.57-1.53-3.7-2.47-6.02-3.05l-.25.97c2.23.56 4.18 1.43 5.57 2.8 1.37 1.34 2.23 3.2 2.23 5.8h1ZM44.08 41.6l.07.5h.02l.02-.01a9.58 9.58 0 0 0 .53-.09 38.05 38.05 0 0 0 5.89-1.52 16.35 16.35 0 0 0 4.51-2.32c1.25-.98 2.18-2.25 2.18-3.83h-1c0 1.15-.66 2.15-1.8 3.04-1.13.9-2.66 1.6-4.23 2.17a34.72 34.72 0 0 1-6.22 1.56h-.03l.06.5Zm-19.37.5h19.37v-1H24.71v1Zm-.24-.94a12.4 12.4 0 0 1-6.07 1.54v1c2.43 0 4.68-.61 6.56-1.66l-.5-.88ZM18.4 42.7c-6 0-10.7-3.98-10.7-8.7h-1c0 5.44 5.33 9.7 11.7 9.7v-1ZM7.7 34c0-4.72 4.7-8.7 10.7-8.7v-1c-6.37 0-11.7 4.26-11.7 9.7h1Zm10.7-8.7c.83 0 1.64.08 2.41.22l.18-.98c-.83-.16-1.7-.24-2.59-.24v1Z"}),E.createElement("ellipse",{cx:"32",cy:"26.8",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",rx:"31.2",ry:"6"})),E.createElement("path",{fill:"#F28C8C",fillRule:"evenodd",d:"M55 1a2.4 2.4 0 0 0-3.29.88l-7.45 12.9c-1.96 3.41-6.37 4.73-9.6 6.97a7.97 7.97 0 0 0-2.37 2.57l-2 3.46a8 8 0 0 0 13.86 8l2-3.46c.61-1.06.95-2.2 1.05-3.34.32-3.91-.75-8.39 1.22-11.8l7.45-12.9A2.4 2.4 0 0 0 55 1Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#0E101A",d:"m32.3 24.32-.44-.25.43.25Zm-2 3.46.43.25-.44-.25Zm13.85 8-.43-.25.43.25Zm2-3.46.43.25-.43-.25Zm6-30.19a1.9 1.9 0 0 1 2.6-.7l.5-.86a2.9 2.9 0 0 0-3.97 1.06l.87.5Zm-7.45 12.9 7.45-12.9-.87-.5-7.45 12.9.87.5Zm-11.97 9.54c.57-1 1.33-1.8 2.21-2.41l-.57-.82c-1 .69-1.86 1.6-2.51 2.73l.87.5Zm-2 3.46 2-3.46-.87-.5-2 3.46.87.5Zm2.74 10.25a7.5 7.5 0 0 1-2.74-10.25l-.87-.5a8.5 8.5 0 0 0 3.11 11.61l.5-.86Zm10.25-2.75a7.5 7.5 0 0 1-10.25 2.75l-.5.86a8.5 8.5 0 0 0 11.61-3.1l-.86-.5Zm2-3.46-2 3.46.86.5 2-3.46-.86-.5Zm.98-3.13a7.47 7.47 0 0 1-.98 3.13l.86.5a8.47 8.47 0 0 0 1.11-3.54l-1-.09Zm8.74-24.9-7.45 12.9.86.5 7.45-12.9-.86-.5Zm-.7-2.6a1.9 1.9 0 0 1 .7 2.6l.86.5A2.9 2.9 0 0 0 55.24.56l-.5.87ZM47.7 29.03c.09-1.01.08-2.05.06-3.07-.03-1.04-.07-2.06-.06-3.06.02-2.01.25-3.88 1.16-5.46l-.86-.5c-1.05 1.81-1.28 3.9-1.3 5.95 0 1.03.03 2.08.06 3.09.02 1.02.03 2.01-.05 2.96l1 .09Zm-3.86-14.5c-.92 1.6-2.42 2.72-4.15 3.74-.87.51-1.77.99-2.67 1.48-.9.5-1.8 1-2.64 1.59l.57.82c.79-.55 1.65-1.04 2.55-1.53.88-.48 1.81-.97 2.7-1.5 1.77-1.04 3.46-2.28 4.5-4.1l-.86-.5Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",d:"m32.89 31.17 1.96-3.84a8.6 8.6 0 0 1 5.93-4.51"}),E.createElement("path",{fill:"#FFF0D4",d:"M49.6 28.8H27.2v10h22.4v-10Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M27.2 28.8h22.4"}),E.createElement("path",{fill:"#87E8D1",fillRule:"evenodd",d:"M.83 27.07H.8V28a31.2 31.2 0 0 0 62.4 0v-.93h-.03c-.73 3.19-14.4 5.73-31.17 5.73-16.76 0-30.44-2.54-31.17-5.73Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#0E101A",d:"M.8 27.07v-.5a.5.5 0 0 0-.5.5h.5Zm.03 0 .49-.11a.5.5 0 0 0-.49-.4v.5Zm62.37 0h.5a.5.5 0 0 0-.5-.5v.5Zm-.03 0v-.5a.5.5 0 0 0-.49.39l.49.1Zm-62.37.5h.03v-1H.8v1Zm.5.43v-.93h-1V28h1ZM32 58.7A30.7 30.7 0 0 1 1.3 28h-1A31.7 31.7 0 0 0 32 59.7v-1ZM62.7 28A30.7 30.7 0 0 1 32 58.7v1A31.7 31.7 0 0 0 63.7 28h-1Zm0-.93V28h1v-.93h-1Zm.47.5h.03v-1h-.03v1Zm-.49-.61c-.05.24-.25.54-.68.88-.43.33-1.04.67-1.85 1-1.6.68-3.86 1.28-6.65 1.8-5.56 1.03-13.14 1.66-21.5 1.66v1c8.4 0 16.04-.64 21.69-1.68a35.17 35.17 0 0 0 6.85-1.85 9.01 9.01 0 0 0 2.08-1.15c.52-.4.9-.88 1.04-1.44l-.98-.22ZM32 32.3c-8.36 0-15.94-.63-21.5-1.66a34.23 34.23 0 0 1-6.65-1.8 8.05 8.05 0 0 1-1.85-1c-.43-.34-.63-.64-.68-.88l-.98.22c.13.56.52 1.04 1.04 1.44.53.42 1.23.8 2.08 1.15 1.7.7 4.04 1.33 6.85 1.85C15.96 32.66 23.6 33.3 32 33.3v-1Z"}),E.createElement("g",{opacity:".15",style:{mixBlendMode:"multiply"}},E.createElement("path",{fill:"#0E101A",d:"M32 43.6h17.93c.52 8.29 4.76 12.75 10.47 19.2H43.2C36.34 59.6 32 53.6 32 43.6Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M32 43.6h17.93c.52 8.29 4.76 12.75 10.47 19.2H43.2C36.34 59.6 32 53.6 32 43.6Z"})),E.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M35.2 41.6h18.73a34.2 34.2 0 0 0 8.98 21.6H44.56c-5.36-3.65-8.84-13.31-9.36-21.6Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M50.5 47.2h-9.7M52.1 52h-9.7M54.5 56.8h-9.7"})),E.createElement("defs",null,E.createElement("clipPath",{id:"EmptyI_a"},E.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)},successState:{title:"Nice work! Have a cookie.",description:"There are no more suggestions.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("g",{clipPath:"url(#SuccessI_a)"},E.createElement("path",{fill:"#C6CBDE",d:"M22.4 60c8.84 0 16-2.69 16-6s-7.16-6-16-6-16 2.69-16 6 7.16 6 16 6Z"}),E.createElement("path",{fill:"#C6CBDE",d:"M41.6 64c11.05 0 20-2.5 20-5.6 0-3.1-8.95-5.6-20-5.6s-20 2.5-20 5.6c0 3.1 8.95 5.6 20 5.6Z"}),E.createElement("path",{fill:"#DDEFF5",fillRule:"evenodd",d:"M36.8 6.75H.8l5.27 46.61c0 1.46 5.7 2.64 12.73 2.64s12.73-1.18 12.73-2.63L36.8 6.75Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#000",d:"M.8 6.75v-.5a.5.5 0 0 0-.5.56l.5-.06Zm36 0 .5.06a.5.5 0 0 0-.5-.56v.5ZM6.07 53.36h.5a.5.5 0 0 0 0-.05l-.5.05Zm25.46 0-.01-.5a.5.5 0 0 0-.49.5h.5Zm0 0 .02.5a.5.5 0 0 0 .48-.44l-.5-.05ZM.8 7.27h36v-1H.8v1ZM6.57 53.3 1.3 6.7l-1 .1 5.27 46.62 1-.11Zm0 .06h-1 1ZM18.8 55.5c-3.5 0-6.64-.3-8.9-.76a11.6 11.6 0 0 1-2.61-.8c-.3-.14-.5-.28-.6-.4-.12-.1-.12-.17-.12-.17h-1c0 .35.18.65.4.88.23.23.53.42.88.59.7.34 1.68.64 2.85.88 2.34.48 5.56.78 9.1.78v-1Zm12.23-2.13s0 .06-.11.18c-.12.11-.31.25-.6.4-.6.28-1.48.55-2.62.79-2.26.47-5.4.76-8.9.76v1c3.54 0 6.76-.3 9.1-.78 1.17-.24 2.15-.54 2.85-.88.35-.17.65-.36.88-.6.22-.22.4-.52.4-.87h-1Zm.49-.5.03 1-.03-1ZM36.3 6.7 31.03 53.3l1 .11L37.3 6.81l-1-.11Z"}),E.createElement("ellipse",{cx:"18.8",cy:"6.39",fill:"#DDEFF5",stroke:"#000",strokeLinejoin:"round",rx:"18",ry:"3.95"}),E.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M35.2 20.83H2.4l3.67 32.53c0 1.46 5.7 2.64 12.73 2.64s12.73-1.18 12.73-2.63l3.67-32.54Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#000",d:"M2.4 20.83v-.5a.5.5 0 0 0-.5.56l.5-.06Zm32.8 0 .5.06a.5.5 0 0 0-.5-.56v.5ZM6.07 53.36h.5a.5.5 0 0 0 0-.05l-.5.05Zm25.46 0-.03-.5a.5.5 0 0 0-.47.5h.5Zm0 0 .04.5a.5.5 0 0 0 .46-.44l-.5-.05ZM2.4 21.34h32.8v-1H2.4v1ZM6.56 53.3 2.9 20.77l-1 .12 3.67 32.53 1-.11Zm0 .06-1-.01h1ZM18.8 55.5c-3.5 0-6.64-.3-8.9-.76a11.6 11.6 0 0 1-2.61-.8c-.3-.14-.5-.28-.6-.4-.12-.11-.12-.17-.12-.17h-1c0 .35.18.65.4.88.23.23.53.42.88.59.7.34 1.68.64 2.85.88 2.34.48 5.56.78 9.1.78v-1Zm12.23-2.13s0 .06-.11.18c-.12.11-.31.25-.6.4-.6.28-1.48.55-2.62.79-2.26.47-5.4.76-8.9.76v1c3.54 0 6.76-.3 9.1-.78 1.17-.24 2.15-.54 2.85-.88.35-.17.65-.37.88-.6.22-.22.4-.52.4-.87h-1Zm.47-.5.07 1-.07-1Zm3.2-32.1-3.67 32.54 1 .11L35.7 20.9l-1-.12Z"}),E.createElement("ellipse",{cx:"18.8",cy:"20.8",fill:"#fff",stroke:"#000",strokeLinejoin:"round",rx:"16.4",ry:"3.2"}),E.createElement("path",{fill:"#FFF0D4",stroke:"#000",d:"M59.66 53.9c-.15 4.95-9.28 6.9-20.4 6.56-11.1-.33-20-2.8-19.85-7.75.15-4.94 9.28-8.67 20.39-8.34 11.11.33 20 4.6 19.86 9.54Z"}),E.createElement("rect",{width:"5.86",height:"2.45",x:"22.77",y:"51.3",fill:"#4A6EE0",rx:"1.23",transform:"rotate(-4 22.77 51.3)"}),E.createElement("rect",{width:"5.86",height:"2.45",x:"32.42",y:"51.83",fill:"#F18AB2",rx:"1.23",transform:"rotate(41 32.42 51.83)"}),E.createElement("rect",{width:"5.86",height:"2.45",x:"43.02",y:"50.37",fill:"#8780E4",rx:"1.23",transform:"rotate(120 43.02 50.37)"}),E.createElement("rect",{width:"5.86",height:"2.45",x:"30.1",y:"47.89",fill:"#15C39A",rx:"1.23",transform:"rotate(4 30.1 47.89)"}),E.createElement("rect",{width:"5.86",height:"2.45",x:"49.73",y:"51.29",fill:"#F18AB2",rx:"1.23",transform:"rotate(29 49.73 51.3)"}),E.createElement("rect",{width:"5.86",height:"2.45",x:"42.44",y:"56.4",fill:"#15C39A",rx:"1.23",transform:"rotate(-19 42.44 56.4)"}),E.createElement("path",{fill:"#7D6455",fillRule:"evenodd",d:"M21.92 48.56c3.48-2.71 10.2-4.42 17.88-4.2 10 .3 18.2 3.8 19.64 8.1-8.37 4.82-33.76 2.81-37.52-3.9Z",clipRule:"evenodd",opacity:".3",style:{mixBlendMode:"multiply"}}),E.createElement("path",{fill:"#FFF0D4",stroke:"#000",d:"M62.13 49.5c-1.4 4.73-10.77 5.36-21.43 2.2-10.66-3.17-18.57-8.93-17.16-13.67 1.4-4.74 11.46-6.87 22.12-3.7S63.54 44.76 62.13 49.5Z"}),E.createElement("rect",{width:"5.86",height:"2.45",x:"27.2",y:"36.55",fill:"#15C39A",rx:"1.23",transform:"rotate(-13 27.2 36.55)"}),E.createElement("rect",{width:"5.86",height:"2.45",x:"33.87",y:"39.22",fill:"#EE6C9F",rx:"1.23",transform:"rotate(62 33.87 39.22)"}),E.createElement("rect",{width:"5.86",height:"2.45",x:"38.18",y:"34.85",fill:"#4A6EE0",rx:"1.23",transform:"rotate(5 38.18 34.85)"}),E.createElement("rect",{width:"5.86",height:"2.45",x:"41.76",y:"45.57",fill:"#4A6EE0",rx:"1.23",transform:"rotate(5 41.76 45.57)"}),E.createElement("rect",{width:"5.86",height:"2.45",x:"39.05",y:"39.32",fill:"#8780E4",rx:"1.23",transform:"rotate(26 39.05 39.32)"}),E.createElement("rect",{width:"5.86",height:"2.45",x:"49.66",y:"43.71",fill:"#EE6C9F",rx:"1.23",transform:"rotate(-10 49.66 43.71)"}),E.createElement("rect",{width:"5.86",height:"2.45",x:"47.8",y:"36.64",fill:"#15C39A",rx:"1.23",transform:"rotate(47 47.8 36.64)"}),E.createElement("rect",{width:"5.86",height:"2.45",x:"53.16",y:"48.35",fill:"#4A6EE0",rx:"1.23",transform:"rotate(-28 53.16 48.35)"})),E.createElement("defs",null,E.createElement("clipPath",{id:"SuccessI_a"},E.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)}},{emptyState:{title:"Let's get to work.",description:"Suggestions will appear here.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("g",{clipPath:"url(#EmptyJ_a)"},E.createElement("ellipse",{cx:"32",cy:"57.6",fill:"#C6CBDE",rx:"32",ry:"5.6"}),E.createElement("path",{fill:"#F28C8C",fillRule:"evenodd",stroke:"#0E101A",strokeLinejoin:"round",d:"M26.4 5.6A2.4 2.4 0 0 0 24 8v8.8a2.4 2.4 0 0 0 2.4 2.4h12.8a2.4 2.4 0 0 0 2.4-2.4V8a2.4 2.4 0 0 0-2.4-2.4H26.4ZM19.2 8A7.2 7.2 0 0 1 26.4.8h12.8A7.2 7.2 0 0 1 46.4 8v8.8a7.2 7.2 0 0 1-7.2 7.2H26.4a7.2 7.2 0 0 1-7.2-7.2V8Z",clipRule:"evenodd"}),E.createElement("rect",{width:"62.4",height:"46.4",x:".8",y:"11.2",fill:"#41D9B5",stroke:"#000",strokeLinejoin:"round",rx:"10"}),E.createElement("path",{stroke:"#000",strokeLinejoin:"round",d:"M15.2 21.2v7.2a10 10 0 0 0 10 10h28a10 10 0 0 0 10-10v-7.2"}),E.createElement("rect",{width:"14.4",height:"46.4",x:".8",y:"11.2",fill:"#11A683",stroke:"#000",strokeLinejoin:"round",rx:"7.2"}),E.createElement("path",{fill:"#F9EA9E",stroke:"#0E101A",d:"M23.2 32.4c0-1.1.9-2 2-2h5.6a2 2 0 0 1 2 2v10a4.8 4.8 0 0 1-9.6 0v-10Z"}),E.createElement("circle",{cx:"28",cy:"42.4",r:"2.4",fill:"#4D536E",stroke:"#0E101A"}),E.createElement("path",{fill:"#F9EA9E",stroke:"#0E101A",d:"M46.4 32.4c0-1.1.9-2 2-2H54a2 2 0 0 1 2 2v10a4.8 4.8 0 1 1-9.6 0v-10Z"}),E.createElement("circle",{cx:"51.2",cy:"42.4",r:"2.4",fill:"#4D536E",stroke:"#0E101A"})),E.createElement("defs",null,E.createElement("clipPath",{id:"EmptyJ_a"},E.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)},successState:{title:"Great job!",description:"There are no more suggestions.",illustration:E.createElement(()=>E.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},E.createElement("path",{fill:"#FBEFB7",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M15.32 25.44c-1.2-2.02-3.23-.8-2.74.98-1.07-1.63-.47-2.98-1.04-4.04-.66-1.26-2.4-.82-2.33.65-.47-1.33.12-2.9-.09-3.74-.33-1.45-2.05-1.14-1.93.21a14.38 14.38 0 0 1-2.07-7.45c0-3.7 1.62-6.76 3.88-6.76 1.86 0 2.82 1.82 2.18 3.39-.3-.83-.83-1.27-1.69-1.27-1 0-1.63.98-1.63 2.2 0 1.75 1.45 2.75 3.23 2.77 2.05 0 3.4-2 3.4-4.32 0-3.09-2.28-6.14-5.91-5.65 1-.8-.16-2.26-1.39-1.28C4.26 3.43 2.4 7.36 2.4 11.82c0 11.26 10.86 23.53 21.75 20.76l-1.87-3.25c-3.15 0-5.33-1.14-6.96-3.9ZM56.94 1.13c-1.23-.98-2.39.47-1.39 1.28-3.63-.5-5.91 2.54-5.91 5.63 0 2.32 1.33 4.32 3.4 4.32 1.76 0 3.23-1 3.23-2.75 0-1.22-.63-2.2-1.63-2.2-.86 0-1.39.44-1.69 1.27-.65-1.57.32-3.37 2.18-3.37 2.26 0 3.88 3.05 3.88 6.75 0 2.65-.74 5.23-2.06 7.48.1-1.35-1.6-1.67-1.93-.21-.19.84.39 2.4-.08 3.74.07-1.48-1.69-1.92-2.34-.65-.56 1.05.02 2.4-1.03 4.03.49-1.75-1.53-2.98-2.74-.98-1.65 2.74-3.81 3.9-6.97 3.88L40 32.6c10.88 2.77 21.76-9.48 21.76-20.75-.05-4.46-1.9-8.39-4.82-10.72Z"}),E.createElement("path",{fill:"#C6CBDE",d:"M32 63.2c12.81 0 23.2-1.61 23.2-3.6S44.81 56 32 56c-12.81 0-23.2 1.61-23.2 3.6s10.39 3.6 23.2 3.6Z"}),E.createElement("path",{fill:"#F6DF6C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M47.2 55.2H16.8a2.4 2.4 0 1 0 0 4.8h30.4a2.4 2.4 0 0 0 0-4.8Z"}),E.createElement("path",{fill:"#F6DF6C",fillRule:"evenodd",d:"M32 4.64H14.77c-1.64 14.28 2.98 25.28 9.5 30.84.37.33.77.64 1.16.96 1.9 1.5 3.8 3.03 3.77 5.4-.05 3.19-.51 4.8-.51 4.8-.82 3.1-3.62 4.07-6.1 4.93-2.28.78-4.3 1.48-4.3 3.63H45.7c0-2.15-2.01-2.85-4.28-3.63-2.5-.86-5.3-1.83-6.1-4.93 0 0-.47-1.61-.52-4.8-.04-2.37 1.87-3.9 3.77-5.4.4-.32.8-.63 1.17-.96 6.51-5.56 11.13-16.56 9.49-30.84H32Z",clipRule:"evenodd"}),E.createElement("path",{fill:"#0E101A",d:"M14.77 4.64v-.5a.5.5 0 0 0-.5.44l.5.06Zm9.5 30.84.32-.38-.33.38Zm1.16.96.32-.4-.32.4Zm3.77 5.4h.5-.5Zm-.51 4.8-.48-.13.48.13Zm-6.1 4.93-.17-.48.16.48Zm-4.3 3.63h-.5c0 .28.23.5.5.5v-.5Zm27.41 0v.5a.5.5 0 0 0 .5-.5h-.5Zm-4.28-3.63.16-.48-.16.48Zm-6.1-4.93.48-.12v-.01l-.49.13Zm-.52-4.8h-.5.5Zm3.77-5.4.3.4-.3-.4Zm1.17-.96.32.38-.32-.38Zm9.49-30.84.5-.06a.5.5 0 0 0-.5-.44v.5Zm-34.46.5H32v-1H14.77v1ZM24.6 35.1c-6.36-5.43-10.95-16.25-9.32-30.4l-1-.12c-1.65 14.41 3 25.59 9.67 31.28l.65-.76Zm1.16.95c-.4-.32-.8-.63-1.16-.95l-.65.76c.38.33.79.66 1.18.97l.63-.78Zm3.95 5.8a5.03 5.03 0 0 0-1.27-3.35c-.75-.91-1.75-1.7-2.68-2.45l-.63.78c.96.76 1.87 1.49 2.54 2.3.65.8 1.06 1.67 1.04 2.7l1 .01Zm-1.01 4.8.48.13v-.03a5.33 5.33 0 0 0 .08-.3l.17-.94c.12-.82.25-2.05.28-3.67l-1-.01a26.8 26.8 0 0 1-.43 4.4 7.18 7.18 0 0 1-.06.27l.48.14Zm-5.94 5.39c2.44-.84 5.53-1.87 6.42-5.27l-.97-.25c-.73 2.8-3.24 3.7-5.78 4.57l.33.95ZM18.8 55.2c0-.88.39-1.45 1.07-1.92.72-.5 1.72-.84 2.88-1.24l-.33-.95c-1.12.39-2.26.78-3.12 1.37-.89.61-1.5 1.46-1.5 2.74h1Zm13.2-.5H18.3v1H32v-1Zm0 1h13.7v-1H32v1Zm14.2-.5c0-1.28-.61-2.13-1.5-2.74-.86-.59-2-.98-3.12-1.37l-.33.95c1.16.4 2.16.75 2.88 1.24.68.47 1.07 1.04 1.07 1.92h1Zm-4.62-4.1c-2.54-.88-5.05-1.78-5.78-4.58l-.97.25c.9 3.4 3.98 4.43 6.42 5.27l.33-.95Zm-6.27-4.46.48-.13v-.01a5.92 5.92 0 0 1-.06-.26c-.04-.2-.1-.49-.16-.88a26.8 26.8 0 0 1-.27-3.53l-1 .01a27.78 27.78 0 0 0 .45 4.6 8.12 8.12 0 0 0 .07.31l.01.02v.01l.48-.14Zm-.01-4.81a4.04 4.04 0 0 1 1.04-2.7c.67-.81 1.58-1.54 2.54-2.3l-.63-.78c-.93.74-1.93 1.54-2.68 2.45-.76.92-1.3 2-1.27 3.34l1-.01Zm3.58-5c.4-.31.8-.64 1.18-.97l-.65-.76c-.37.32-.76.63-1.16.95l.63.78Zm1.18-.97c6.67-5.7 11.32-16.87 9.66-31.28l-.99.12c1.63 14.15-2.96 24.97-9.32 30.4l.65.76Zm9.17-31.72H32v1h17.23v-1Z"}),E.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M30.8 40h2.4"}),E.createElement("path",{fill:"#FBEFB7",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M49.18 4.8H14.8c-.2 1.52-.33 3.25-.39 4.62.63.45 1.46.79 2.43.94 1.71.27 3.36-.15 4.3-.99.49 1.06 1.72 1.86 3.25 1.96 1.42.08 2.7-.44 3.43-1.29.6 1.14 2.23 1.96 4.2 1.96 1.95 0 3.6-.82 4.2-1.96.74.85 2.01 1.4 3.43 1.29 1.53-.1 2.79-.9 3.25-1.96.94.84 2.57 1.26 4.28.99a5.78 5.78 0 0 0 2.43-.94 79.1 79.1 0 0 0-.42-4.62Z"}),E.createElement("path",{fill:"#0E101A",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M32 4.8H15.2C18.85 6.74 25.01 8 32 8s13.15-1.26 16.8-3.2H32Z"}),E.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeMiterlimit:"10",d:"M8.96 52c-.1 0-.16-.08-.16-.19.15-5.94-1.89-8.1-7.83-8.26-.1 0-.17-.08-.17-.19 0-.1.08-.16.19-.16 5.94.15 8.1-1.89 8.26-7.83 0-.1.08-.17.19-.17.1 0 .16.08.16.19-.15 5.94 1.89 8.1 7.83 8.24.1 0 .17.09.17.19s-.08.17-.19.17c-5.94-.15-8.1 1.88-8.26 7.82-.02.12-.08.19-.19.19ZM56.25 54.4c-.06 0-.1-.05-.1-.11.1-3.68-1.17-5.02-4.85-5.12-.06 0-.1-.05-.1-.12 0-.06.05-.1.11-.1 3.68.1 5.02-1.17 5.12-4.85 0-.06.05-.1.12-.1.06 0 .1.05.1.11-.1 3.68 1.17 5.02 4.85 5.11.06 0 .1.05.1.12 0 .06-.05.1-.11.1-3.68-.1-5.02 1.17-5.12 4.85-.01.07-.05.11-.12.11ZM39.84 26.4c-.06 0-.1-.06-.1-.12.1-3.96-1.27-5.4-5.23-5.51-.07 0-.11-.06-.11-.13 0-.06.06-.1.12-.1 3.96.1 5.4-1.27 5.51-5.23 0-.07.06-.11.13-.11.06 0 .1.06.1.12-.1 3.96 1.27 5.4 5.23 5.5.07 0 .11.06.11.13 0 .06-.06.1-.12.1-3.96-.1-5.4 1.27-5.51 5.23-.01.08-.06.12-.13.12Z"})),null)}}];function Oh(e=Math.random){return Math.floor(e()*yh.length)}const Sh=_.b.Node.make(({view:e})=>E.createElement(Dr,{style:wh,"data-testid":"short-form-feed-empty","aria-live":"polite"},e("emptyContentIndex").pipe(o.a.map(e=>{const t=yh[e].emptyState;return E.createElement(E.Fragment,null,E.createElement("div",{className:kh},E.createElement("p",{className:Eh},t.title),E.createElement("p",{className:jh},t.description)),E.createElement("div",{className:_h},t.illustration))})))),Ch=_.b.Node.make(({view:e,notify:t})=>{const{onMount:n}=Object(Tr.a)(o.a.tap(t({kind:"shortFormFeedSuccessStateMount"})));return E.createElement(Dr,{style:wh,"data-testid":"short-form-feed-success","aria-live":"polite",mount:n},e("emptyContentIndex").pipe(o.a.map(e=>{const t=yh[e].successState;return E.createElement(E.Fragment,null,E.createElement("div",{className:kh},E.createElement("p",{className:Eh},t.title),E.createElement("p",{className:jh},t.description)),E.createElement("div",{className:_h},t.illustration))})))}),wh={padding:""+Lt.a.rem(Pt.D.Space.Space4),display:"flex",flexDirection:"row",justifyContent:"space-between"},kh=Lt.a.style({display:"flex",flexDirection:"column",marginRight:Lt.a.rem(2),justifyContent:"center"}),Eh=Lt.a.style({margin:0,color:Rt.a.TextBaseDefault,fontSize:Lt.a.rem(1),lineHeight:Lt.a.rem(1.5),fontWeight:700}),jh=Lt.a.style({margin:0,color:Rt.a.TextBaseSubduedColor,fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.3125),fontWeight:400}),_h=Lt.a.style({width:Lt.a.rem(4),height:Lt.a.rem(4),minWidth:Lt.a.rem(4),minHeight:Lt.a.rem(4)}),xh=_.b.Node.make(()=>E.createElement(Dr,{"aria-busy":"true",style:Ah,"data-testid":"short-form-feed-loading"},E.createElement(jl,null),E.createElement("div",{className:Ih},E.createElement("div",{className:Th}),E.createElement("div",{className:Mh})),E.createElement("div",{className:Ph},E.createElement("div",{className:Nh}),E.createElement("div",{className:Dh})),E.createElement("div",{className:Bh(!0)}),E.createElement("div",{className:Bh(!1)}),E.createElement("div",{className:Lh},E.createElement("div",{className:Fh}),E.createElement("div",{className:Rh})))),Ah={padding:""+Lt.a.rem(Pt.D.Space.Space4),display:"flex",flexDirection:"column",position:"relative"},Ih=Lt.a.style({display:"flex",flexDirection:"row",justifyContent:"space-between",gap:Lt.a.rem(Pt.D.Space.Space2),alignItems:"center"}),Th=Lt.a.style({width:Lt.a.rem(11.875),height:Lt.a.rem(1),borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf),background:Pt.D.Color.BlueGray5}),Mh=Lt.a.style({flex:1,maxWidth:Lt.a.rem(3.5),height:Lt.a.rem(.5),borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf),background:Pt.D.Color.BlueGray5}),Ph=Lt.a.style({display:"flex",flexDirection:"row",gap:Lt.a.rem(Pt.D.Space.Space1),alignItems:"center",marginTop:Lt.a.rem(6.5*Pt.D.Space.Space1)}),Nh=Lt.a.style({width:Lt.a.rem(1.25),height:Lt.a.rem(1.25),borderRadius:"50%",background:Pt.D.Color.BlueGray5}),Dh=Lt.a.style({flex:1,height:Lt.a.rem(.5),borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf),background:Pt.D.Color.BlueGray5}),Bh=e=>Lt.a.style({height:Lt.a.rem(.5),borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf),background:Pt.D.Color.BlueGray5,marginTop:Lt.a.rem(e?2.5*Pt.D.Space.Space1:Pt.D.Space.Space4)}),Lh=Lt.a.style({display:"flex",flexDirection:"row",gap:Lt.a.rem(Pt.D.Space.Space4),alignItems:"center",marginTop:Lt.a.rem(Pt.D.Space.Space4+Pt.D.Space.SpaceHalf)}),Fh=Lt.a.style({width:Lt.a.rem(4.125),height:Lt.a.rem(2),borderRadius:Lt.a.rem(Pt.D.Radius.Radius1),background:Pt.D.Color.BlueGray5}),Rh=Lt.a.style({width:Lt.a.rem(3.125),height:Lt.a.rem(.5),borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf),background:Pt.D.Color.BlueGray5}),Hh=Object(At.d)(df),Vh=_.b.Node.make(({state:e,view:t,notify:n})=>{const{onMount:a}=Object(Tr.a)(Object(w.flow)(o.a.tap(n({kind:"shortFormFeedMount"})),o.a.finalize(Pa.notifyFeedUnmount))),{onMount:r}=function(e,t){const{onMount:n,ref:a}=Ir.a.useElWatcher();return Ir.a.useSubscriptionTo(o.a.combineLatestStatic([a,t]).pipe(o.a.map(([t,n])=>Object(w.pipe)(t,b.g.tap(t=>t.style.setProperty(e,n)))))),{onMount:n}}("--cardWidth",o.a.of("400")),i=E.useContext(Pr.a).view("flatUI");return E.createElement(Dr,{"data-testid":"short-form-feed",style:i.view(Object(V.c)({padding:Lt.a.rem(Pt.D.Space.Space2)+" 0 0 0"},{padding:Lt.a.rem(Pt.D.Space.Space3)+" 0 0 0"})),mount:e=>{a(e),r(e)},"aria-live":"polite"},E.createElement(Zi,{style:i.view(Object(V.c)(Object.assign(Object.assign({},Uh),{padding:`${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(Pt.D.Space.Space4)}`}),Object.assign(Object.assign({},Uh),{padding:"0 "+Lt.a.rem(Pt.D.Space.Space3)})))},E.createElement("div",{className:Wh},"Review suggestions",E.createElement(Hh,{count:t("suggestionCount")})),t("canExpandToLongForm").pipe(o.a.map(Object(V.c)(E.createElement(hf,{feedForm:"shortForm",onClick:n({kind:"toggleLongFormFeed"})}),null)))),e.pipe(o.a.map(({item:e,prevItem:t,transitions:a})=>E.createElement(nc.a,{key:e.id,sduiRootId:e.id,content:e.content,designSystem:Zc(),notify:(t,a,r)=>n({kind:"sduiNotify",item:e,sourceId:t,actions:a,actionScope:r})(),transitions:Array.from(a),prevContent:Object(w.pipe)(t,x.map(e=>e.content)),onAnimationEnd:n({kind:"shortFormFeedAnimationEnd"}),onMount:n({kind:"sduiFocusedItemMount",item:e}),longFormCardState:{viewKind:"focused"}}))))}),Uh={display:"flex",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space2),justifyContent:"space-between"},Wh=Lt.a.style({display:"flex",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space2)}),zh=_.b.Union.make("kind",{loadingState:xh,emptyState:Sh,successState:Ch,nonEmptyState:Vh}),Gh=_.b.Group.make({feed:zh}),qh=_.b.Group.make({feed:vh}),Kh=_.b.Union.make("kind",{none:_.b.Node.empty,shortFormFeed:Gh,longFormFeed:qh}),$h=e=>E.createElement(Mt.e,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),E.createElement("path",{d:"M12 7L12 17",strokeLinecap:"round"}),E.createElement("path",{d:"M9 9L9 15",strokeLinecap:"round"}),E.createElement("path",{d:"M15 9L15 15",strokeLinecap:"round"}),E.createElement("path",{d:"M18 11L18 13",strokeLinecap:"round"}),E.createElement("path",{d:"M6 11L6 13",strokeLinecap:"round"})),Zh=_.b.Node.make(({notify:e})=>{const t=E.useContext(Pr.a).view("flatUI");return E.createElement(Dr,{style:Xh,"data-testid":"voice-banner"},t.view(Object(V.c)(E.createElement(Zi,null,"Set your voice"),E.createElement("div",{className:Qh},"Set your voice"))),E.createElement("div",{className:Jh},"Choose how you want your generated text to sound."),E.createElement(Tt.a,{style:tg,onClick:e({kind:dt.a.Kind.setVoiceButtonClick}),name:"bannerVoiceProfile",size:"small"},E.createElement($h,{className:eg}),"Set voice"))}),Yh=_.b.Union.asOption(Zh),Xh={gap:0,backgroundColor:"#D8F2EC",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right",backgroundImage:"url('https://d201kpdrh73vuz.cloudfront.net/text-generation/voice-banner.png')"},Qh=Lt.a.style({fontWeight:700,fontSize:Lt.a.rem(.875),lineHeight:Lt.a.rem(1.375),color:Pt.D.SemanticColor.Color.Text.Base.Default}),Jh=Lt.a.style({fontWeight:400,fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125),color:Pt.D.SemanticColor.Color.Text.Base.Subdued}),eg=Lt.a.style({stroke:"white"}),tg={default:{alignSelf:"flex-start",marginTop:Lt.a.rem(Pt.D.Space.Space2),padding:`0 ${Lt.a.rem(Pt.D.Space.Space2)} 0 ${Lt.a.rem(Pt.D.Space.Space1)}`,lineHeight:Lt.a.rem(1.125),gap:Lt.a.rem(Pt.D.Space.Space1)},icon:Object.assign({marginLeft:0},Object(Ft.c)(1.5))},ng=({style:e,iconStyle:t,mode:n="standard"})=>{const a="standard"==n?1:.875;return E.createElement("div",{className:Lt.a.style({height:Lt.a.rem(2*a),display:"flex",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space2),padding:`0 ${Lt.a.rem(Pt.D.Space.Space2)} 0 ${Lt.a.rem(Pt.D.Space.Space1)}`,borderRadius:Lt.a.rem(Pt.D.Space.Space1),border:"1px solid "+Pt.D.Color.BlueGray5,boxSizing:"border-box"},e)},E.createElement("div",{className:Lt.a.style({width:Lt.a.rem(1.5*a),height:Lt.a.rem(1.5*a),borderRadius:"50%",background:Pt.D.Color.BlueGray5},t)}),E.createElement("div",{className:Lt.a.style({height:Lt.a.rem(.5*a),borderRadius:Lt.a.rem(Pt.D.Space.SpaceQuarter),background:Pt.D.Color.BlueGray5,flexGrow:1})}))},ag=_.b.Node.make(({view:e})=>{const t=E.useContext(Pr.a).view("flatUI");return E.createElement(Dr,{"aria-busy":"true",style:t.view(rg),"data-testid":"actions-loading"},o.a.combineLatestStatic([e("withContext"),t]).pipe(o.a.map(([t,n])=>t?E.createElement(so,{className:og(n),active:!0},e("header")):E.createElement(Zi,null,e("header")))),E.createElement(It.a.div,{className:ig},E.createElement(jl,null),e("isQuickReply").pipe(o.a.map(Object(V.c)(E.createElement(E.Fragment,null,E.createElement(ng,{style:{width:Lt.a.rem(23)}}),E.createElement(ng,{style:{width:Lt.a.rem(21.5)}}),E.createElement(ng,{style:{width:Lt.a.rem(20.5)}})),E.createElement(E.Fragment,null,E.createElement(ng,{style:{width:Lt.a.rem(8.375)}}),E.createElement(ng,{style:{width:Lt.a.rem(9.3125)}}),E.createElement(ng,{style:{width:Lt.a.rem(10.5)}}),E.createElement(ng,{style:{width:Lt.a.rem(10.75)}}),E.createElement(ng,{style:{width:Lt.a.rem(4.9375)}})))))))}),rg=e=>e?{padding:Lt.a.rem(Pt.D.Space.Space4)}:{},ig=Lt.a.style({display:"flex",flexWrap:"wrap",gap:Lt.a.rem(Pt.D.Space.Space2),position:"relative"}),og=e=>Lt.a.style({marginBottom:e?Lt.a.rem(Pt.D.Space.Space2):void 0}),sg=_.b.Knot.make(_.b.Grid.make(({slots:e,notify:t,view:n})=>{const{notifyUnmount:a}=E.useContext(Si),{onMount:r}=Object(Tr.a)(Object(w.flow)(o.a.tap(e=>t({kind:dt.a.Kind.mount,name:ft.a.initialActionsList,element:e})()),o.a.finalize(()=>a({kind:dt.a.Kind.unmount,name:ft.a.initialActionsList})))),i=E.useContext(Pr.a).view("flatUI");return E.createElement(Dr,{style:i.view(lg),mount:r,"data-testid":"initial-actions"},n("showReportMenu").pipe(o.a.map(Object(V.c)(E.createElement(Wm,{reportMenuButtonClassName:ug,onClickProvideFeedback:t({kind:dt.a.Kind.openFeedbackFormButtonClick,source:ts.Source.quickReplyInitialActions}),onClickReportOffensive:t({kind:dt.a.Kind.reportOffensiveActionsButtonClick}),onOpenChange:e=>t({kind:dt.a.Kind.reportMenuVisibilityChange,trigger:Xa.uiItem(ft.a.initialActionsList),visible:e})()}),null))),e.actions)}),{actions:bo}),cg=_.b.Union.make("kind",{none:_.b.Node.empty,loading:ag,loaded:sg}),lg=e=>Object.assign({position:"relative"},e?{padding:Lt.a.rem(Pt.D.Space.Space4),gap:Lt.a.rem(Pt.D.Space.Space4)}:{padding:`${Lt.a.rem(Pt.D.Space.Space1)} ${Lt.a.rem(Pt.D.Space.Space3)}`}),ug=Lt.a.style({position:"absolute",top:Lt.a.rem(Pt.D.Space.Space3),right:Lt.a.rem(Pt.D.Space.Space3)}),dg=_.b.Grid.make(({slots:e})=>E.createElement(E.Fragment,null,e.suggestions,e.voiceBanner,e.documentOverview,e.intent,e.defaultActions,e.detectedReferences)),pg=_.b.Knot.make(dg,{suggestions:Kh,voiceBanner:Yh,documentOverview:Mm,intent:Zm,defaultActions:cg,detectedReferences:rf}),mg=_.b.Node.make(({state:e,notify:t})=>{const n=E.useContext(Pr.a).view("flatUI");return E.createElement(It.a.Fragment,null,o.a.combineLatestStatic([e,n]).pipe(o.a.map(([{selectedRange:e,selectedText:n},a])=>e?E.createElement(Tt.a,{variant:"tertiary",title:"Select any text to work with it in Grammarly.",style:hg(a),onClick:t({kind:dt.a.Kind.selectionContextInteraction,range:e,visibility:"attention"}),onMouseEnter:t({kind:dt.a.Kind.selectionContextInteraction,range:e,visibility:"visible"}),onMouseLeave:t({kind:dt.a.Kind.selectionContextInteraction,range:e,visibility:"hidden"}),name:"resultContextHeaderButton"},E.createElement(so,null,n)):E.createElement("div",{className:gg(a),"data-testid":"result-context-header"},E.createElement(so,null,n)))))}),fg=_.b.Union.asOption(mg),hg=e=>e?{default:{justifyContent:"flex-start",padding:"0 "+Lt.a.rem(Pt.D.Space.Space2),margin:"0 "+Lt.a.rem(-Pt.D.Space.Space2),height:Lt.a.rem(2.5)}}:{default:{marginBottom:Lt.a.rem(-Pt.D.Space.Space1),justifyContent:"flex-start"}},gg=e=>e?Lt.a.style({display:"flex",alignItems:"center",height:Lt.a.rem(2.5)}):Lt.a.style({paddingLeft:Lt.a.rem(Pt.D.Space.Space2),paddingRight:Lt.a.rem(Pt.D.Space.Space2),paddingTop:Lt.a.rem(Pt.D.Space.Space1),paddingBottom:Lt.a.rem(Pt.D.Space.Space1),marginBottom:Lt.a.rem(-Pt.D.Space.Space1)}),bg=e=>E.createElement(Mt.e,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),E.createElement("rect",{width:"16",height:"16",rx:"2"}),E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7072 5.41421L6.50008 12.6213L2.29297 8.41421L3.70718 7L6.50008 9.79289L12.293 4L13.7072 5.41421Z",fill:"white"})),vg=({isMyVoice:e,isAnimated:t=!1,isBadge:n=!1,label:a="Use my style",inactiveLabel:r=a,onClick:i})=>E.createElement(Tt.a,{variant:"tertiary",name:"toggleVoice",onClick:i,size:"small",role:"checkbox","aria-checked":e,compact:!0,style:yg(e,t,n)},E.createElement(bg,Object.assign({width:16,height:16},Object(At.c)(Og,e?Sg:Cg))),e?a:r);function yg(e,t,n){return{default:{display:"flex",alignItems:"center",height:Lt.a.rem(1.25),lineHeight:Lt.a.rem(1.125),fontSize:Lt.a.rem(.75),color:e?Pt.D.Color.Green80:Pt.D.Color.BlueGray60,backgroundColor:e?Pt.D.Color.Green0:Pt.D.Color.BlueGray0,transition:t?Lt.a.seconds(.25):void 0,transitionProperty:t?"color, background-color":void 0},textPosRight:{padding:"0 "+Lt.a.rem(Pt.D.Space.Space1)},icon:{marginRight:Lt.a.rem(Pt.D.Space.Space2),minWidth:Lt.a.rem(1),minHeight:Lt.a.rem(1)},hovered:{backgroundColor:e?Lt.a.color(Rt.a.Green10).mix(Lt.a.color(Rt.a.BlueGray5)).toRGBA().toString():Pt.D.Color.BlueGray10,color:e?Pt.D.Color.Green80:Pt.D.Color.BlueGray60},active:{backgroundColor:e?Lt.a.color(Rt.a.Green10).mix(Lt.a.color(Rt.a.BlueGray5)).toRGBA().toString():Pt.D.Color.BlueGray10,color:e?Pt.D.Color.Green80:Pt.D.Color.BlueGray60},disabled:n?{opacity:1,cursor:"default"}:void 0}}const Og=Lt.a.style({marginRight:Lt.a.rem(Pt.D.Space.Space2),minWidth:Lt.a.rem(1),minHeight:Lt.a.rem(1),borderWidth:Lt.a.px(1),borderStyle:"solid",borderColor:Pt.D.SemanticColor.Color.Text.Base.Subdued,borderRadius:Lt.a.rem(Pt.D.Radius.Radius1),overflow:"hidden",transitionProperty:"background border-color",transitionDuration:Lt.a.seconds(.25),$nest:{svg:{stroke:"none"}}}),Sg=Lt.a.style({background:Pt.D.Color.Green60,borderColor:Pt.D.Color.Green60,$nest:{path:{fill:Pt.D.Color.White}}}),Cg=Lt.a.style({background:Pt.D.Color.White,borderColor:Pt.D.SemanticColor.Color.Text.Base.Subdued,$nest:{path:{fill:"transparent"}}}),wg=Lt.a.style({whiteSpace:"break-spaces",overflowWrap:"anywhere",fontStyle:"normal",fontWeight:"normal",fontSize:Lt.a.rem(.875),fontFeatureSettings:"'ss03' on",lineHeight:Lt.a.rem(1.3125),color:Pt.D.SemanticColor.Color.Text.Base.Default}),kg=({children:e})=>E.createElement("div",{className:wg},e),Eg=({text:e})=>""!==e.trim()?E.createElement(kg,null,e):null,jg=Object(At.d)(Tt.a),_g=({header:e,onClick:t,disabled:n})=>{const a=E.useContext(Pr.a).view("flatUI");return E.createElement(jg,{variant:"tertiary",compact:!0,disabled:n,onClick:t,className:a.view(Dg),name:"editResultPrompt",size:"small",style:a.view(e=>e?{hovered:{boxShadow:"none",backgroundColor:Rt.a.ButtonBackgroundTertiaryHover},active:{boxShadow:"none",backgroundColor:Rt.a.ButtonBackgroundTertiaryHover}}:void 0)},a.view(t=>t?E.createElement(sd.a,{title:"Edit"},E.createElement("div",{className:Bg},E.createElement("div",Object.assign({className:Fg},$(e))))):E.createElement("div",{className:Bg},E.createElement("div",Object.assign({className:Fg},$(e))),E.createElement("div",{className:Pg},"Edit"))))};var xg;!function(e){e.FadeIn="FadeIn",e.FadeOut="FadeOut"}(xg||(xg={}));const Ag=({iconUrl:e,loading:t,header:n})=>{const[a,r]=E.useState({text:n,animationState:xg.FadeIn});E.useEffect(()=>{r(e=>Object.assign(Object.assign({},e),{animationState:e.text!==n?xg.FadeOut:e.animationState}));const e=setTimeout(()=>r({text:n,animationState:xg.FadeIn}),250);return()=>clearTimeout(e)},[n]);const i=E.useContext(Pr.a).view("flatUI");return E.createElement(It.a.div,{className:i.view(Ng)},t?E.createElement(Xu,{className:Lg}):Object(w.pipe)(e,x.fold(w.constNull,e=>E.createElement(It.a.img,{src:e,style:i.view(e=>({width:Lt.a.rem(e?1.3125:1.25),height:Lt.a.rem(e?1.3125:1.25)}))}))),E.createElement("span",Object.assign({"aria-live":"assertive",className:Lt.a.joinClasses([Fg,a.animationState===xg.FadeIn&&Rg,a.animationState===xg.FadeOut&&Hg])},$(a.text))))},Ig="editHeaderBtn",Tg="headerBtn",Mg=e=>Object(Ft.a)({height:Lt.a.rem(1.5),lineHeight:Lt.a.rem(1.125),padding:"0 "+Lt.a.rem(Pt.D.Space.Space1),margin:"0 "+Lt.a.rem(-Pt.D.Space.Space1),overflow:"hidden",$nest:e?void 0:{["& ."+Ig]:{opacity:0,pointerEvents:"none"},"&:focus, &:hover":{background:Pt.D.Color.BlueGray0,["& ."+Ig]:{opacity:1,pointerEvents:"auto",color:Pt.D.SemanticColor.Color.Text.Base.Default}}}},Tg),Pg=Ig,Ng=e=>Lt.a.style({display:"flex",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space2+Pt.D.Space.SpaceHalf),height:Lt.a.rem(1.5),fontWeight:400,fontSize:Lt.a.rem(e?.875:.75),lineHeight:Lt.a.rem(e?1.3125:1.125),color:Pt.D.Color.BlueGray60,overflow:"hidden"}),Dg=e=>Lt.a.joinClasses([Tg,Lt.a.style(Mg(e))]),Bg=Lt.a.style({display:"flex",justifyContent:"space-between",width:"100%",gap:Lt.a.rem(Pt.D.Space.Space1)}),Lg=Lt.a.style({marginBottom:"-"+Lt.a.rem(Pt.D.Space.SpaceHalf),display:"inline-flex",alignItems:"center",justifyContent:"center"}),Fg=Lt.a.style({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left",transitionProperty:"opacity",transitionDuration:Lt.a.seconds(.25)}),Rg=Lt.a.style({opacity:1}),Hg=Lt.a.style({opacity:0}),Vg=_.b.Grid.make(({slots:e,state:t})=>E.createElement(It.a.Fragment,null,t.pipe(o.a.map(({resultText:t,statusText:n,isMyVoiceStatus:a,sourceLabel:r,sourceIconUrl:i})=>E.createElement(ai,{"data-testid":"my-voice-in-progress-result",header:E.createElement(E.Fragment,null,e.header,E.createElement(Ug,null,E.createElement(Ag,{header:t.length>0?r:n,iconUrl:t.length>0?i:x.none,loading:0===t.length}),E.createElement(vg,{isBadge:!0,isAnimated:!0,isMyVoice:a,label:"Use my style"}))),body:t.length>0?E.createElement(E.Fragment,null,E.createElement(Eg,{text:t}),E.createElement(zg,null)):null,isActive:!0}))))),Ug=({children:e})=>E.createElement("div",{className:Wg},e),Wg=Lt.a.style({display:"grid",gridTemplateColumns:"1fr auto"}),zg=()=>E.createElement("div",{className:Lt.a.style({position:"relative",overflow:"hidden",height:Lt.a.rem(.5),borderRadius:Lt.a.rem(Pt.D.Radius.Radius1),background:Pt.D.Color.BlueGray5,flexGrow:1})},E.createElement(jl,null)),Gg=Object(At.d)(Eg),qg=_.b.Grid.make(({slots:e,view:t})=>E.createElement(ai,{"aria-busy":"true","data-testid":"in-progress-result",body:E.createElement(Gg,{text:t("text")}),header:E.createElement(E.Fragment,null,e.header,E.createElement(Ag,{header:"Working on it...",iconUrl:x.none,loading:!0})),isActive:!0})),Kg=(_.b.Knot.make(Vg,{header:fg}),_.b.Knot.make(qg,{header:fg})),$g=_.b.Knot.make(_.b.Grid.make(({slots:e})=>E.createElement(E.Fragment,null,e.header,e.content)),{content:Kg,header:fg}),Zg=_.b.Union.asOption($g),Yg=({placeholder:e,error:t,openAnswer:n,onOpenAnswerChange:a,onSubmitButtonClick:r,onCancelButtonClick:i,onKeypressShiftEnter:o})=>E.createElement("form",{className:Qg,onSubmit:e=>e.preventDefault()},E.createElement(Ai,{className:tb,placeholder:[null!=e?e:""],text:n,onChange:a,ariaLabel:"Open ended answer",fitContentHeight:!0,theme:{fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125)},onKeyDownShiftEnter:o}),Object(w.pipe)(t,x.fold(()=>null,e=>E.createElement("div",{className:nb},e))),E.createElement("div",{className:Xg},E.createElement("input",{type:"submit",value:"Submit",hidden:!0}),E.createElement(Tt.a,{variant:"secondary",style:Jg,onClick:r,flatUI:!0},"Submit"),E.createElement(Tt.a,{variant:"tertiary",style:eb,onClick:i,flatUI:!0},"Dismiss"))),Xg=Lt.a.style({display:"flex",justifyContent:"flex-start",alignItems:"center"}),Qg=Lt.a.style({width:Lt.a.percent(100),display:"flex",flexDirection:"column",gap:Lt.a.rem(Pt.D.Space.Space2)}),Jg={default:{fontSize:Lt.a.rem(.75),fontWeight:"bold",marginRight:Lt.a.rem(Pt.D.Space.Space2),minHeight:Lt.a.rem(Pt.D.Space.Space6),lineHeight:Lt.a.rem(Pt.D.Space.Space6)}},eb={default:{fontSize:Lt.a.rem(.75),minHeight:Lt.a.rem(Pt.D.Space.Space6),lineHeight:Lt.a.rem(Pt.D.Space.Space6)}},tb=Lt.a.style({border:"1px solid "+Pt.D.Color.BlueGray10,minHeight:Lt.a.rem(7.5*Pt.D.Space.Space1),backgroundColor:Pt.D.Color.White,borderRadius:Lt.a.rem(Pt.D.Space.Space2),width:Lt.a.percent(100),padding:`${Lt.a.rem(1.25*Pt.D.Space.Space1)} ${Lt.a.rem(Pt.D.Space.Space2)}`,boxSizing:"border-box"}),nb=Lt.a.style({color:Pt.D.SemanticColor.Color.Background.Critical.Default,fontSize:Lt.a.rem(.75),marginBottom:Lt.a.rem(Pt.D.Space.Space1)});var ab=n("s/43");const rb=e=>E.createElement(Mt.e,Object.assign({width:"18",height:"17",viewBox:"0 0 18 17",fill:"none"},e),E.createElement("path",{d:"M9 1L11.069 6.15226L16.6085 6.52786L12.3477 10.0877L13.7023 15.4721L9 12.52L4.29772 15.4721L5.65228 10.0877L1.39155 6.52786L6.931 6.15226L9 1Z",fill:"transparent",stroke:Pt.D.Color.NeutralGray50,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),ib=({rating:e,ratingLabels:t,maxScore:n})=>Object(w.pipe)(e,x.fold(()=>t.length>=n&&n>1?E.createElement("div",{className:cb},E.createElement("span",{className:sb},t[0]),E.createElement("span",{className:sb},t[n-1])):null,e=>e-1>=0&&t.length>=e?E.createElement("div",{className:ob},E.createElement("span",null,t[e-1])):null)),ob=Lt.a.style({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",fontWeight:"bold",fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(.875)}),sb=Lt.a.style({color:Pt.D.Color.NeutralGray50}),cb=Lt.a.style({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(.875)});var lb=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const ub=({disabled:e,rating:t,ratingLabels:n,maxScore:a,onSelectionChange:r})=>{const[i,o]=E.useState(x.none),s=E.useMemo(()=>[],[]),c=t=>{e||r(t+1)},l=t=>{e||o(x.some(t+1))},u=()=>{e||o(x.none)};return E.createElement(E.Fragment,null,E.createElement("div",{className:db,style:{gridTemplateColumns:`repeat(${a}, minmax(${Lt.a.rem(Pt.D.Space.Space10)}, ${Lt.a.rem(Pt.D.Space.Space16)}))`},role:"slider","aria-valuemin":0,"aria-valuenow":Object(w.pipe)(t,x.getOrElse(()=>0)),"aria-valuemax":5,"aria-valuetext":Object(w.pipe)(t,x.fold(()=>"Not yet rated",e=>n[e-1]))},Array.from({length:a}).map((r,o)=>E.createElement(pb,{key:o,onClick:()=>c(o),isFilled:Object(w.pipe)(t,x.fold(()=>!1,e=>o<e))||Object(w.pipe)(i,x.fold(()=>!1,e=>o<e)),onMouseEnter:()=>l(o),onMouseLeave:u,onFocus:()=>l(o),onBlur:u,isSelected:Object(w.pipe)(t,x.fold(()=>!1,e=>o+1===e)),isFocusable:Object(w.pipe)(t,x.fold(()=>0===o,e=>o+1===e)),ariaLabel:"Rate this generated output as "+n[o],ref:e=>s.push(e),onKeyDown:t=>((t,n)=>{var r,o,l,u;e||("ArrowRight"!==t.key&&"ArrowUp"!==t.key||(Object(w.pipe)(i,x.fold(()=>!1,e=>e<a))?null===(r=s[n+1])||void 0===r||r.focus():null===(o=s[0])||void 0===o||o.focus()),"ArrowLeft"!==t.key&&"ArrowDown"!==t.key||(Object(w.pipe)(i,x.fold(()=>!1,e=>e>1))?null===(l=s[n-1])||void 0===l||l.focus():null===(u=s[4])||void 0===u||u.focus()),"Enter"!==t.key&&" "!==t.key||c(n))})(t,o),disabled:e}))),E.createElement(ib,{rating:Object(w.pipe)(t,x.fold(Object(w.constant)(i),Object(w.constant)(t))),ratingLabels:n,maxScore:a}),E.createElement(ab.a,{small:!0}))},db=Lt.a.style({display:"grid",width:Lt.a.percent(100),justifyContent:"center"}),pb=E.forwardRef((e,t)=>{var{isFilled:n,ariaLabel:a,disabled:r,isSelected:i,isFocusable:o}=e,s=lb(e,["isFilled","ariaLabel","disabled","isSelected","isFocusable"]);return E.createElement("button",Object.assign({className:mb,role:"radio","aria-label":a,disabled:r,"aria-checked":i,tabIndex:o?0:-1,ref:t},s),E.createElement(rb,{className:n?fb:""}))});pb.displayName="StarButton";const mb=Lt.a.style({border:"none",background:"none",cursor:"pointer",padding:0,borderRadius:Lt.a.rem(Pt.D.Space.Space1),$nest:{"&:focus-visible":{outlineStyle:"none",boxShadow:"0 0 0 2px "+Pt.D.SemanticColor.Color.Text.Base.Subdued}}}),fb=Lt.a.style({$nest:{"& path":{fill:Pt.D.Color.Gold40,stroke:Pt.D.Color.Gold40}}}),hb=({stage:e,rating:t,initialTitle:n,acknowledgment:a,acknowledgmentTitle:r,onCloseButtonClick:i,className:o})=>E.createElement("div",{className:Lt.a.joinClasses([gb,o])},E.createElement(Pt.b,{className:vb,fill:"#000"}),E.createElement(yb,{stage:e,rating:t,initialTitle:n,acknowledgment:a,acknowledgmentTitle:r}),E.createElement(Tt.a,{variant:"tertiary","aria-label":"Close survey",style:{default:{marginLeft:"auto",padding:0,minWidth:Lt.a.rem(Pt.D.Space.Space6),minHeight:Lt.a.rem(Pt.D.Space.Space6)},hovered:{backgroundColor:Pt.D.Color.BlueGray10},active:{backgroundColor:Pt.D.Color.BlueGray10}},onClick:i},E.createElement(Pt.h,null))),gb=Lt.a.style({display:"flex",alignItems:"center"}),bb=Lt.a.style({fontSize:Lt.a.rem(.75)}),vb=Lt.a.style({marginRight:Lt.a.rem(Pt.D.Space.Space3),$nest:{"& path:first-of-type":{fill:Pt.D.Color.NeutralGray70}}}),yb=({stage:e,rating:t,initialTitle:n,acknowledgmentTitle:a,acknowledgment:r})=>{switch(e){case Ka.a.Stage.Type.Rating:return E.createElement("span",{className:bb},n);case Ka.a.Stage.Type.Feedback:return E.createElement("span",{className:bb},"Your rating:"," ",Array.from({length:t}).map(()=>"⭐").join(" "));case Ka.a.Stage.Type.Completed:return E.createElement("span",{className:bb},Object(w.pipe)(a,x.fold(()=>E.createElement("b",null,"Thank you!"),e=>E.createElement("b",null,e)))," ",Object(w.pipe)(r,x.fold(()=>"Your feedback helps us improve.",e=>e)));case Ka.a.Stage.Type.Closed:return null;default:return Object(I.d)(e)}},Ob=_.b.Union.asOption(_.b.Node.make(({notify:e,state:t})=>E.createElement(It.a.Fragment,null,t.pipe(o.a.map(t=>E.createElement(Sb,Object.assign({},t,{onRatingSelectionChange:t=>{e({kind:dt.a.Kind.surveyRatingSelectionChange,rating:t})()},onOpenAnswerChange:t=>e({kind:dt.a.Kind.surveyOpenAnswerChange,openAnswer:t})(),onSubmitButtonClick:e({kind:dt.a.Kind.surveySubmitButtonClick}),onKeypressShiftEnter:e({kind:dt.a.Kind.surveyKeyPressShiftEnter}),onCancelButtonClick:e({kind:dt.a.Kind.surveyCancelButtonClick}),onCloseButtonClick:e({kind:dt.a.Kind.surveyCloseButtonClick})}))))))),Sb=({survey:e,stage:t,transitionStage:n,rating:a,errors:r,openAnswer:i,onOpenAnswerChange:o,onRatingSelectionChange:s,onCloseButtonClick:c,onCancelButtonClick:l,onSubmitButtonClick:u,onKeypressShiftEnter:d})=>{const p=E.useContext(Pr.a).view("flatUI");return E.createElement(Dr,{style:p.view(Cb),"data-testid":"survey-"+e.resultId},E.createElement(hb,{className:Lt.a.joinClasses([n===Ka.a.Stage.Type.Feedback?Eb:void 0,t===Ka.a.Stage.Type.Feedback?jb:void 0]),stage:t,rating:Object(w.pipe)(a,x.getOrElse(Object(w.constant)(1))),initialTitle:e.title,acknowledgment:e.acknowledgment,acknowledgmentTitle:e.acknowledgmentTitle,onCloseButtonClick:c}),t!==Ka.a.Stage.Type.Completed&&E.createElement(E.Fragment,null,E.createElement("div",{className:Lt.a.joinClasses([_b,n===Ka.a.Stage.Type.Feedback?Eb:void 0,t===Ka.a.Stage.Type.Feedback?jb:void 0])},E.createElement("div",{className:Ab,hidden:t!==Ka.a.Stage.Type.Rating},E.createElement(ub,{onSelectionChange:s,rating:a,disabled:x.isSome(a),maxScore:e.maxScore,ratingLabels:e.ratingLabels})),Object(w.pipe)(e.openAnswer,x.fold(Object(w.constant)("(Optional) Please share your feedback to help us improve."),e=>e.placeholder),e=>E.createElement("div",{className:xb,hidden:t!==Ka.a.Stage.Type.Feedback},E.createElement(Yg,{placeholder:e,onSubmitButtonClick:u,onKeypressShiftEnter:d,onCancelButtonClick:l,onOpenAnswerChange:o,openAnswer:i,error:Object(w.pipe)(r,x.chain(e=>e.openAnswerError))}))))))},Cb=e=>Object.assign({backgroundColor:Pt.D.Color.BlueGray0,padding:`${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(Pt.D.Space.Space4)}`},e?{}:{border:"1px solid "+Pt.D.Color.BlueGray10,borderRadius:Lt.a.rem(Pt.D.Space.Space1)}),wb=Lt.a.keyframes({from:{opacity:1},to:{opacity:.3}}),kb=Lt.a.keyframes({from:{opacity:.3},to:{opacity:1}}),Eb=Lt.a.style({animation:wb+" 0.3s ease-in-out"}),jb=Lt.a.style({animation:kb+" 0.3s ease-in-out"}),_b=Lt.a.style({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:Lt.a.rem(Pt.D.Space.SpaceHalf)}),xb=Lt.a.style({width:Lt.a.percent(100)}),Ab=Lt.a.style({maxWidth:Lt.a.percent(100),width:"fit-content",paddingTop:Lt.a.rem(Pt.D.Space.Space1)}),Ib=_.b.Knot.make(_.b.Grid.make(({slots:e,notify:t})=>{const{notifyUnmount:n}=E.useContext(Si),{onMount:a}=Object(Tr.a)(Object(w.flow)(o.a.tap(e=>t({kind:dt.a.Kind.mount,name:ft.a.followUpActionsList,element:e})()),o.a.finalize(()=>n({kind:dt.a.Kind.unmount,name:ft.a.followUpActionsList})))),r=E.useContext(Pr.a).view("flatUI");return E.createElement(It.a.div,{className:r.view(e=>Lt.a.style(Db(e))),mount:a,"data-testid":"follow-up-actions"},e.actions)}),{actions:eo}),Tb=Lt.a.color("#FCFCFC"),Mb=_.b.Node.make(()=>{const e=E.useContext(Pr.a).view("flatUI");return E.createElement(It.a.div,{"aria-busy":!0,className:e.view(e=>Lt.a.style(Db(e),{position:"relative"}))},E.createElement(jl,{overlayGradientEndColor:`rgba(${Tb.red()}, ${Tb.green()}, ${Tb.blue()}, 0)`,overlayGradientCenterColor:`rgba(${Tb.red()}, ${Tb.green()}, ${Tb.blue()}, 0.5)`,overlayBlendMode:"screen"}),E.createElement(ng,{style:{width:Lt.a.rem(8.5)},mode:"compact"}),E.createElement(ng,{style:{width:Lt.a.rem(9.25)},mode:"compact"}),E.createElement(ng,{style:{width:Lt.a.rem(8)},mode:"compact"}),E.createElement(ng,{style:{width:Lt.a.rem(4.5)},mode:"compact"}))}),Pb=_.b.Union.make("kind",{none:_.b.Node.empty,loading:Mb,actions:Ib}),Nb=_.b.Knot.make(_.b.Grid.make(({slots:e})=>E.createElement(E.Fragment,null,e.actions)),{actions:Pb}),Db=e=>({display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end",flexDirection:"row",gap:Lt.a.rem(Pt.D.Space.Space2),marginBottom:Lt.a.rem(Pt.D.Space.Space2),marginTop:e?Lt.a.rem(Pt.D.Space.Space2):0,padding:e?"0 "+Lt.a.rem(Pt.D.Space.Space4):0}),Bb=_.b.Knot.make(_.b.Grid.make(({slots:e})=>{const t=E.useContext(Pr.a).view("flatUI");return E.createElement(Dr,{style:t.view(Hb),"data-testid":"new-context-actions"},e.actions)}),{actions:bo}),Lb=_.b.Union.make("kind",{loading:ag,loaded:Bb}),Fb=_.b.Knot.make(_.b.Grid.make(({slots:e})=>E.createElement(E.Fragment,null,e.actions)),{actions:Lb}),Rb=_.b.Union.asOption(Fb),Hb=e=>({position:"relative",padding:e?Lt.a.rem(Pt.D.Space.Space4):`${Lt.a.rem(Pt.D.Space.Space1)} ${Lt.a.rem(Pt.D.Space.Space3)}`,gap:e?Lt.a.rem(Pt.D.Space.Space4):void 0}),Vb=_.b.Union.make("kind",{followUp:Nb,newContext:Rb}),Ub=_.b.Union.asOption(Vb),Wb=({onInsert:e,onRephrase:t,onDismiss:n,onCopy:a,onProvideFeedback:r,onReportOffensive:i,onReportMenuVisibilityChange:o,disabled:s,isActive:c})=>{const l=E.useContext(Pr.a).view("flatUI"),u=b.g.isSome(t)||b.g.isSome(e),d=E.createElement(zm,{reportMenuButtonClassName:Yb,onClickProvideFeedback:r,onClickReportOffensive:i,onOpenChange:o,onDismiss:n});return E.createElement("div",{className:Gb},E.createElement("div",{className:Kb},Object(w.pipe)(e,b.g.map(e=>E.createElement(It.a.Fragment,null,l.view(t=>t?E.createElement(Tt.a,{name:"insertResult",onClick:e,size:"large",key:"insert",variant:c?"primary":"secondary",textPosition:"everywhere"},E.createElement("div",{className:Lt.a.style({position:"relative"})},E.createElement("div",{className:Lt.a.style({fontWeight:"bold",visibility:"hidden"})},"Insert"),E.createElement("div",{className:Lt.a.style({position:"absolute",top:0,left:0,right:0})},"Insert"))):E.createElement(Tt.a,{className:Xb,name:"insertResult",onClick:e,size:"small",key:"insert"},"Insert")))),b.g.toNullable),Object(w.pipe)(t,b.g.map(e=>E.createElement(It.a.Fragment,null,l.view(t=>E.createElement(Tt.a,{variant:"tertiary",className:t?void 0:Qb,name:"rephraseResult",onClick:e,disabled:s,size:t?"large":"small",key:"rephrase"},t?"Retry":"Rephrase")))),b.g.toNullable),E.createElement(It.a.Fragment,null,l.view(e=>e&&u?d:null))),E.createElement(It.a.div,{className:$b},l.view(e=>e&&!u?d:null),l.view(e=>e?Object(w.pipe)(a,b.g.map(e=>E.createElement(Tt.a,{name:"copyResult",onClick:e,size:"small",variant:"tertiary",title:"Copy result"},E.createElement("div",{className:Lt.a.style({padding:Lt.a.rem(.5),height:Lt.a.rem(1),width:Lt.a.rem(1)})},E.createElement(Pt.k,{width:"1rem",height:"1rem"})))),b.g.toNullable):null),l.view(e=>e?null:E.createElement(E.Fragment,null,E.createElement(Tt.a,{variant:"tertiary",onClick:n,className:Zb,compact:!0,size:l.view(Object(V.c)("large","small")),name:"dismissResult",title:"Delete"},E.createElement(Yi,{className:Jb})),E.createElement(Wm,{reportMenuButtonClassName:Yb,onClickProvideFeedback:r,onClickReportOffensive:i,onOpenChange:o})))))},zb="ignoreIcon",Gb=Lt.a.style({gap:Lt.a.rem(Pt.D.Space.Space2),display:"flex",alignItems:"center",justifyContent:"space-between"}),qb={display:"flex",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space2)},Kb=Lt.a.style(qb),$b=Lt.a.style(qb),Zb=Yr,Yb=Xr,Xb=$r,Qb=Zr,Jb=Lt.a.joinClasses([zb,Lt.a.style(Object(Ft.a)(Object(Ft.c)(1.5),zb))]),ev=_.b.Grid.make(({state:e,notify:t,slots:n})=>E.createElement(It.a.Fragment,null,e.pipe(o.a.map(({disabled:e,result:a,originalAction:r})=>E.createElement(ai,{"data-testid":"ai-notification-"+a.id,body:E.createElement(E.Fragment,null,E.createElement("div",{className:Lt.a.style({borderBottom:"0.5px solid "+Pt.D.Color.BlueGray10})},E.createElement(Eg,{text:a.text}),E.createElement("div",{className:Lt.a.style({display:"flex",flexDirection:"row",flexWrap:"wrap",gap:Lt.a.rem(.5),marginTop:Lt.a.rem(.5),marginBottom:Lt.a.rem(.75)})},n.actions)),Object(w.pipe)(r,b.g.map(n=>E.createElement("div",null,E.createElement(Eg,{text:"Continue with your original prompt:"}),E.createElement("div",{className:Lt.a.style({paddingTop:Lt.a.rem(.125)})},E.createElement(tv,{disabled:e,action:n,onClick:t({kind:dt.a.Kind.userPromptSubmit,prompt:n})})))),b.g.toNullable)),header:E.createElement("h2",{className:Lt.a.style({fontSize:Lt.a.rem(1),marginBottom:Lt.a.rem(.2),marginTop:0,lineHeight:Lt.a.rem(1.5)})},"Review your AI use"),isActive:!0,footer:E.createElement(Wb,{isActive:!1,onRephrase:b.g.none,onInsert:b.g.none,onCopy:b.g.none,onDismiss:t({kind:dt.a.Kind.resultCardDismissButtonClick,result:a}),onProvideFeedback:t({kind:dt.a.Kind.openFeedbackFormButtonClick,source:ts.Source.resultCard}),onReportOffensive:t({kind:dt.a.Kind.reportOffensiveResultButtonClick,result:a}),onReportMenuVisibilityChange:e=>t({kind:dt.a.Kind.reportMenuVisibilityChange,trigger:Xa.card(a.id),visible:e})(),disabled:e}),style:{borderColor:Pt.D.Color.Gold40,borderTopWidth:Lt.a.rem(.375)}}))))),tv=({action:e,onClick:t,disabled:n})=>E.createElement("button",{onClick:t,disabled:n,className:Lt.a.style({textDecoration:"underline",color:Pt.D.Color.BlueGray60,background:Lt.a.important("none"),border:"none",cursor:"pointer",lineHeight:Lt.a.rem(1.375),fontSize:Lt.a.rem(.875),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%",textAlign:"left"})},'"',e.arg.value,'"'),nv=_.b.Knot.make(ev,{actions:eo}),av=({title:e,url:t,contextText:n})=>{const a=E.useRef(null),r=ef(a,e),i=Object(w.pipe)(n,x.getOrElse(()=>r));return Object(w.pipe)(t,x.fold(()=>E.createElement(ov,{tooltip:i},E.createElement("span",{className:rv,ref:a},e)),t=>E.createElement(ov,{tooltip:i},E.createElement("div",{className:iv},E.createElement(Jm.a,{href:t,className:rv,ref:a},e)))))},rv=Lt.a.style({display:"inline-block",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left",maxWidth:"100%",$nest:{"&:visited":{color:"inherit"}}}),iv=Lt.a.style({display:"flex",alignItems:"center",width:"100%",overflow:"hidden"}),ov=({children:e,tooltip:t})=>t?E.createElement(sd.a,{align:"topCenter",title:E.createElement("div",{className:sv},t)},e):E.createElement(E.Fragment,null,e),sv=Lt.a.style({maxWidth:Lt.a.rem(80*Pt.D.Space.Space1),textAlign:"left",whiteSpace:"normal",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":5,"-webkit-box-orient":"vertical"}),cv={minWidth:Lt.a.rem(1.5),minHeight:Lt.a.rem(1.5),lineHeight:Lt.a.rem(1.5)},lv=({onRegenerateWithoutReference:e})=>E.createElement(ud,{name:"referenceMenu",title:"Reference menu","aria-label":"Reference menu",label:E.createElement(Pt.s,null),theme:{buttonStyle:{default:Object.assign({padding:0},cv),icon:cv}},onAction:t=>{switch(t){case"regenerateWithoutReference":return e()}}},E.createElement(Uc.a,{key:"regenerateWithoutReference",textValue:"regenerateWithoutReference"},E.createElement(Pt.u,{className:uv}),"Regenerate without this reference")),uv=Lt.a.style({marginRight:Lt.a.rem(Pt.D.Space.Space2)}),dv=({className:e,children:t})=>E.createElement("div",Object.assign({},Object(At.c)(pv,e)),t),pv=Lt.a.style({color:Pt.D.Color.BlueGray60,fontWeight:400,fontSize:Lt.a.rem(.625),lineHeight:Lt.a.rem(1),background:Pt.D.Color.BlueGray0,borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf),padding:"0 "+Lt.a.rem(Pt.D.Space.Space1),cursor:"default"}),mv=({privacyLevel:e})=>{switch(e.kind){case"public":return E.createElement(fv,null);case"restricted":return E.createElement(hv,null);default:return Object(w.absurd)(e)}},fv=()=>E.createElement(E.Fragment,null),hv=()=>E.createElement(sd.a,{align:"topLeft",title:E.createElement("div",{className:gv},"This item has restricted access and is only visible to those added to the file")},E.createElement(dv,{className:bv},"Private")),gv=Lt.a.style({width:Lt.a.rem(9),overflowWrap:"normal",whiteSpace:"normal",textAlign:"left"}),bv=Lt.a.style({border:"1px solid "+Rt.a.BorderBaseSubduedColor,borderRadius:Lt.a.rem(Pt.D.Space.Space1)}),vv=Object(At.d)(Tt.a),yv=({className:e,isOpen:t,references:n,onOpenChange:a,onRegenerateWithoutReference:r,onReferencesMount:i,onReferencesUnmount:s})=>{const{onMount:c}=Object(Tr.a)(Object(w.flow)(o.a.tap(i),o.a.finalize(s))),l=E.useContext(Pr.a).view("flatUI");return E.createElement(It.a.div,{className:e,mount:c},E.createElement(vv,{variant:"tertiary",style:l.view(Ov),onClick:()=>a(!t),name:"collapseReferencesList",size:"small"},E.createElement("span",{className:Cv},n.length," ",Gr.f.pluralize(n.length,"reference","references")),l.view(Object(V.c)(E.createElement(mf,null,t?E.createElement(Pt.i,null):E.createElement(Pt.n,null)),t?E.createElement(Mt.d.Arrow,{direction:Mt.a.up}):E.createElement(Mt.d.Arrow,{direction:Mt.a.down})))),E.createElement("ul",{className:wv,hidden:!t,"aria-hidden":!t},n.map(({id:e,privacyLevel:t,title:n,iconUrl:a,url:i,contextText:o},s)=>E.createElement("li",{key:s,className:kv},E.createElement("img",{src:a,className:Ev,alt:""}),E.createElement(av,{title:n,url:i,contextText:o}),E.createElement("div",{className:jv},E.createElement(mv,{privacyLevel:t}),void 0!==r?E.createElement(lv,{onRegenerateWithoutReference:()=>r(e)}):null)))))},Ov=e=>({default:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:e?Lt.a.rem(Pt.D.Space.Space2):Lt.a.rem(Pt.D.Space.Space1),paddingRight:e?Lt.a.rem(Pt.D.Space.Space2):0}}),Sv={fontSize:Lt.a.rem(Pt.D.Space.Space3),lineHeight:Lt.a.rem(Pt.D.Space.Space4+Pt.D.Space.SpaceHalf),color:Pt.D.SemanticColor.Color.Text.Base.Subdued,userSelect:"none"},Cv=Lt.a.style(Sv),wv=Lt.a.style({fontSize:Lt.a.rem(Pt.D.Space.Space3),lineHeight:Lt.a.rem(Pt.D.Space.Space4+Pt.D.Space.SpaceHalf),color:Pt.D.SemanticColor.Color.Text.Base.Default,margin:0,padding:0}),kv=Lt.a.style({height:Lt.a.rem(Pt.D.Space.Space6),display:"flex",alignItems:"center",borderRadius:Lt.a.rem(Pt.D.Radius.Radius1)}),Ev=Lt.a.style({minWidth:Lt.a.rem(Pt.D.Space.Space4),height:Lt.a.rem(Pt.D.Space.Space4),marginRight:Lt.a.rem(Pt.D.Space.Space2)}),jv=Lt.a.style({display:"flex",alignItems:"center",justifyContent:"space-between",marginLeft:"auto"});var _v,xv=n("B/Ki");!function(e){e.generatedText="generatedText",e.knowledgeHubTerm="knowledgeHubTerm",e.none="none"}(_v||(_v={}));const Av=({insertOp:e})=>{const t=Iv(e.attributes),n=Tv(e.attributes);switch(t){case _v.generatedText:return E.createElement(Bv,{style:n},e.insert);case _v.knowledgeHubTerm:return E.createElement(Lv,{style:n},e.insert);case _v.none:return Dv(e.attributes)?E.createElement(Rv,{style:n,href:e.attributes.link},e.insert):E.createElement(Fv,{style:n},e.insert);default:return Object(w.absurd)(t)}},Iv=e=>{switch(!0){case null==e?void 0:e[Uv.knowledgeHubTerm]:return _v.knowledgeHubTerm;case null==e?void 0:e[Uv.generatedText]:return _v.generatedText;default:return _v.none}},Tv=e=>{const t={};return Mv(e)&&(t.fontWeight="bold"),Pv(e)&&(t.fontStyle="italic"),Nv(e)&&(t.textDecoration="underline"),Dv(e)&&(t.color=Pt.D.Color.Blue60),t},Mv=e=>!0===(null==e?void 0:e.bold),Pv=e=>!0===(null==e?void 0:e.italic),Nv=e=>!0===(null==e?void 0:e.underline),Dv=e=>"string"==typeof(null==e?void 0:e.link),Bv=({children:e,style:t})=>E.createElement("span",{className:Hv,style:t},e),Lv=({children:e,style:t})=>E.createElement(sd.a,{title:"from Knowledge Share"},E.createElement("span",{className:Vv,style:t},e)),Fv=({children:e,style:t})=>E.createElement("span",{style:t},e),Rv=({children:e,style:t,href:n})=>E.createElement("a",{style:t,href:n,target:"_blank",rel:"noreferrer"},e),Hv=Lt.a.style({backgroundColor:Pt.D.Color.Green0,borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf)}),Vv=Lt.a.style({backgroundColor:Pt.D.Color.Blue0,borderRadius:Lt.a.rem(Pt.D.Radius.RadiusHalf)});var Uv;!function(e){e.generatedText="generatedText",e.knowledgeHubTerm="knowledgeHubTerm"}(Uv||(Uv={}));const Wv=({replacementDelta:e})=>E.createElement(kg,null,e.map((e,t)=>xv.a.isInsert(e)?E.createElement(Av,{key:t,insertOp:e}):null)),zv=({className:e,title:t,description:n})=>E.createElement("div",{className:Lt.a.joinClasses([Gv,e])},E.createElement("div",{className:qv},E.createElement("span",{className:Yv},t)),E.createElement("ul",{className:Kv},n.map((e,t)=>E.createElement("li",{className:$v,key:t},E.createElement(Pt.g,{className:Zv}),E.createElement("span",{className:Xv},e))))),Gv=Lt.a.style({display:"flex",flexDirection:"column"}),qv=Lt.a.style({display:"flex"}),Kv=Lt.a.style({display:"flex",flexDirection:"column",listStyle:"none",margin:0,padding:0,$nest:{"& li":{marginTop:Lt.a.rem(Pt.D.Space.Space1)}}}),$v=Lt.a.style({display:"flex",alignItems:"center"}),Zv=Lt.a.style({marginRight:Lt.a.rem(Pt.D.Space.Space2),width:Lt.a.rem(Pt.D.Space.Space4),maxHeight:Lt.a.rem(Pt.D.Space.Space4+Pt.D.Space.SpaceHalf),$nest:{"& path:first-of-type":{stroke:Pt.D.Color.Green60}}}),Yv=Lt.a.style({fontSize:Lt.a.rem(Pt.D.Space.Space3),lineHeight:Lt.a.rem(Pt.D.Space.Space4+Pt.D.Space.SpaceHalf),fontWeight:700,color:Pt.D.SemanticColor.Color.Text.Base.Subdued}),Xv=Lt.a.style({fontSize:Lt.a.rem(Pt.D.Space.Space3),lineHeight:Lt.a.rem(Pt.D.Space.Space4+Pt.D.Space.SpaceHalf),color:Pt.D.SemanticColor.Color.Text.Base.Subdued,flex:1});var Qv;!function(e){e.searchLabel="searchLabel",e.clickableSearchLabel="clickableSearchLabel",e.knowledgeHub="knowledgeHub"}(Qv||(Qv={}));_.b.Union.asOption(_.b.Node.make(({notify:e,state:t})=>E.createElement(It.a.Fragment,null,t.pipe(o.a.map(t=>E.createElement(vg,{key:"voiceButton",isMyVoice:t.selectedVoice===ce.a.GeneratedTextVoice.user,onClick:e({kind:dt.a.Kind.resultCardToggleGenericVoiceButtonClick,resultId:t.resultId,voice:t.selectedVoice})}))))));const Jv=_.b.Node.make(({notify:e,state:t})=>E.createElement(It.a.div,{className:ey},t.pipe(o.a.map(t=>{switch(t.kind){case Qv.clickableSearchLabel:return E.createElement(_g,{header:t.label,disabled:t.disabled,onClick:e({kind:dt.a.Kind.resultCardHeaderClick,prompt:t.copiablePrompt})});case Qv.searchLabel:return E.createElement(Ag,{header:t.label,iconUrl:t.iconUrl,loading:!1});case Qv.knowledgeHub:return E.createElement(Ag,{header:"Knowledge Share content was used.",iconUrl:x.none,loading:!1});default:return Object(I.d)(t)}})))),ey=Lt.a.style({display:"grid",gridTemplateColumns:"1fr auto",gap:Lt.a.rem(Pt.D.Space.Space2)}),ty=_.b.Grid.make(({slots:e,state:t,notify:n})=>{const a=E.useContext(Pr.a).view("flatUI"),{notifyUnmount:r}=E.useContext(Si);return E.createElement(It.a.Fragment,null,a.view(Object(V.c)(null,e.contextHeader)),o.a.combineLatestStatic([t,a]).pipe(o.a.map(([{result:t,disabled:a,isActive:i,isReferencesOpen:o,isMyVoice:s},c])=>E.createElement(ai,{"data-testid":"result-"+t.id,body:E.createElement(Wv,{replacementDelta:Object(w.pipe)(t.replacementDelta,b.b.fold(w.identity,e=>s?e.user:e.generic))}),header:E.createElement(E.Fragment,null,c?e.contextHeader:null,e.header),footer:E.createElement(E.Fragment,null,Object(w.pipe)(ce.a.isComplete(t)?t.changesSummary:b.g.none,b.g.filter(()=>!c),b.g.map(e=>E.createElement(E.Fragment,null,E.createElement(Dp,{className:ay}),E.createElement(zv,{title:e.title,description:e.description,className:ry}))),b.g.toNullable),E.createElement(Wb,{isActive:i,onRephrase:Object(w.pipe)(t,b.g.fromPredicate(ce.a.isComplete),b.g.filter(e=>e.supportedActions.has(ce.a.SupportedAction.rephrase)),b.g.map(e=>n({kind:dt.a.Kind.resultCardRephraseButtonClick,result:e,selectedVoice:s?ce.a.GeneratedTextVoice.user:ce.a.GeneratedTextVoice.generic}))),onInsert:Object(w.pipe)(b.g.some(n({kind:dt.a.Kind.resultCardInsertButtonClick,result:t,selectedVoice:s?ce.a.GeneratedTextVoice.user:ce.a.GeneratedTextVoice.generic})),b.g.filter(()=>t.supportedActions.has(ce.a.SupportedAction.insert))),onCopy:Object(w.pipe)(b.g.some(n({kind:dt.a.Kind.resultCardCopyButtonClick,result:t,selectedVoice:s?ce.a.GeneratedTextVoice.user:ce.a.GeneratedTextVoice.generic})),b.g.filter(()=>t.supportedActions.has(ce.a.SupportedAction.copy))),onDismiss:n({kind:dt.a.Kind.resultCardDismissButtonClick,result:t}),onProvideFeedback:n({kind:dt.a.Kind.openFeedbackFormButtonClick,source:ts.Source.resultCard}),onReportOffensive:n({kind:dt.a.Kind.reportOffensiveResultButtonClick,result:t}),onReportMenuVisibilityChange:e=>n({kind:dt.a.Kind.reportMenuVisibilityChange,trigger:Xa.card(t.id),visible:e})(),disabled:a}),Object(w.pipe)(t.references,b.g.filter(e=>e.length>0),b.g.map(e=>E.createElement(yv,{className:iy,isOpen:o,references:e,onOpenChange:e=>n({kind:dt.a.Kind.referencesVisibilityChange,visible:e,resultId:t.id})(),onRegenerateWithoutReference:ce.a.isComplete(t)?e=>n({kind:dt.a.Kind.regenerateWithoutReferenceButtonClick,result:t,referenceId:e,selectedVoice:s?ce.a.GeneratedTextVoice.user:ce.a.GeneratedTextVoice.generic})():void 0,onReferencesMount:e=>n({kind:dt.a.Kind.mount,name:ft.a.referencesList,element:e})(),onReferencesUnmount:()=>r({kind:dt.a.Kind.unmount,name:ft.a.referencesList})})),b.g.toNullable),Object(w.pipe)(ce.a.isComplete(t)?t.changesSummary:b.g.none,b.g.filter(()=>c),b.g.map(e=>E.createElement(zv,{title:e.title,description:e.description,className:ry})),b.g.toNullable)),isActive:i,onHovered:e=>n({kind:dt.a.Kind.resultCardHoverChange,hovered:e,resultId:t.id})(),onFocused:e=>n({kind:dt.a.Kind.resultCardFocusChange,focused:e,resultId:t.id})(),onCopy:n({kind:dt.a.Kind.resultCardCopyToClipboard,result:t,selectedVoice:s?ce.a.GeneratedTextVoice.user:ce.a.GeneratedTextVoice.generic})}))))}),ny=_.b.Knot.make(ty,{header:Jv,contextHeader:fg}),ay=Lt.a.style({margin:Lt.a.rem(Pt.D.Space.Space1)+" 0"}),ry=Lt.a.style({marginBottom:Lt.a.rem(Pt.D.Space.Space1)}),iy=Lt.a.style({marginTop:Lt.a.rem(Pt.D.Space.Space2)}),oy=_.b.Union.make("kind",{promptResultComplete:ny,aiUsageNotification:nv}),sy=_.b.List.make(N.h,oy),cy=_.b.Group.make({results:sy}),ly=_.b.Union.make("kind",{none:_.b.Node.empty,loading:_.b.Knot.make(qg,{header:_.b.Node.empty}),loaded:cy}),uy=Lt.a.style({display:"grid",height:"100%",alignItems:"end"}),dy=Lt.a.style({display:"flex",flexDirection:"column",alignItems:"stretch",gap:Lt.a.rem(Pt.D.Space.Space2)}),py=_.b.Grid.make(({slots:e})=>{const t=E.useContext(Pr.a).view("flatUI");return E.createElement("div",{className:uy},E.createElement(It.a.div,{className:t.pipe(o.a.map(e=>e?void 0:dy))},e.documentOverview,e.intent,e.resultList,e.lastResultSurvey,e.lastResultActions,e.inProgressResult,e.generationError,e.detectedReferences))}),my=_.b.Knot.make(py,{documentOverview:Mm,intent:Zm,resultList:ly,lastResultSurvey:Ob,lastResultActions:Ub,inProgressResult:Zg,generationError:Em,detectedReferences:rf}),fy=_.b.Group.make({toneReport:Nd}),hy=_.b.Group.make({plagiarism:iu}),gy=_.b.Group.make({writingExpert:Nu}),by=_.b.Union.make("kind",{home:pg,thread:my,error:Em,followUpPrompt:Ds,legacyVoiceProfile:Np,voiceProfile:gm,feedbackForm:Es,skill:od,settings:Fu,toneReport:fy,plagiarism:hy,writingExpert:gy,signedOut:Uu}),vy=e=>E.createElement(Mt.e,Object.assign({width:"17",height:"16",viewBox:"0 0 17 16"},e),E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 8C2.5 4.41015 5.41015 1.5 9 1.5C12.5899 1.5 15.5 4.41015 15.5 8C15.5 11.5899 12.5899 14.5 9 14.5C7.85901 14.5 6.73812 14.1997 5.75 13.6292C5.51085 13.4911 5.42892 13.1853 5.56699 12.9462C5.70506 12.707 6.01085 12.6251 6.25 12.7631C7.08611 13.2459 8.03455 13.5 9 13.5C9.96545 13.5 10.9139 13.2459 11.75 12.7631C12.5861 12.2804 13.2804 11.5861 13.7631 10.75C14.2459 9.91389 14.5 8.96545 14.5 8C14.5 4.96243 12.0376 2.5 9 2.5C5.96243 2.5 3.5 4.96243 3.5 8V8.29289L4.64645 7.14645C4.84171 6.95118 5.15829 6.95118 5.35355 7.14645C5.54882 7.34171 5.54882 7.65829 5.35355 7.85355L3.35355 9.85355L3 10.2071L2.64645 9.85355L0.646447 7.85355C0.451184 7.65829 0.451184 7.34171 0.646447 7.14645C0.841709 6.95118 1.15829 6.95118 1.35355 7.14645L2.5 8.29289V8ZM9 4C9.27614 4 9.5 4.22386 9.5 4.5V7.5H11.5C11.7761 7.5 12 7.72386 12 8C12 8.27614 11.7761 8.5 11.5 8.5H9H8.5V8V4.5C8.5 4.22386 8.72386 4 9 4Z",stroke:"none"})),yy=_.b.Node.make(({state:e,view:t,notify:n})=>{const{notifyUnmount:a}=E.useContext(Si),{onMount:r}=Object(Tr.a)(Object(w.flow)(o.a.tap(e=>n({kind:dt.a.Kind.mount,name:ft.a.historyButton,element:e})()),o.a.switchMap(e=>t("state").pipe(o.a.map(e=>"enabled"===e),o.a.startWith(!1),o.a.distinctUntilChanged(),o.a.pairwise(),o.a.tap(([t,a])=>{!t&&a?n({kind:dt.a.Kind.mount,name:ft.a.historyButtonActive,element:e})():t&&!a&&n({kind:dt.a.Kind.unmount,name:ft.a.historyButtonActive})()}))),o.a.finalize(()=>{a({kind:dt.a.Kind.unmount,name:ft.a.historyButton}),a({kind:dt.a.Kind.unmount,name:ft.a.historyButtonActive})})));return E.createElement("div",{className:Sy},E.createElement(Tt.a,{variant:"tertiary",mount:r,onClick:n({kind:dt.a.Kind.restoreHistoryButtonClick}),disabled:t("state").pipe(o.a.map(e=>"disabled"===e||"loading"===e)),compact:!0,style:t("flatUI").pipe(o.a.map(e=>e?{}:wy)),size:t("flatUI").pipe(o.a.map(e=>e?"small":"medium")),name:"restoreHistory",title:e.pipe(o.a.map(({flatUI:e,state:t})=>"disabled"===t?"No prior prompt to go back to.":"enabled"===t?e?"Pick up with your last prompt.":"Pick up where you left off":void 0))},E.createElement(vy,null)),E.createElement(It.a.Fragment,null,e.pipe(o.a.map(({flatUI:e,state:t})=>e&&"disabled"!==t?E.createElement("div",{key:"badge",role:"presentation",className:Cy}):null))))}),Oy=_.b.Union.asOption(yy),Sy=Lt.a.style({position:"relative"}),Cy=Lt.a.style({width:Lt.a.rem(.375),height:Lt.a.rem(.375),borderRadius:Lt.a.rem(.375),background:Rt.a.BrandGreen60,position:"absolute",top:Lt.a.rem(Pt.D.Space.SpaceHalf),right:Lt.a.rem(-Pt.D.Space.SpaceHalf)}),wy={default:{boxShadow:`0px 0px 1px ${Lt.a.color(Pt.D.Color.BlueGray40).toRGBA().fade(.5).toString()}, 0px 0.5px 8px -0.5px ${Lt.a.color(Pt.D.Color.BlueGray40).toRGBA().fade(.5).toString()}`}},ky=({icon:e,label:t,className:n,onClick:a})=>E.createElement(Tt.a,{variant:"tertiary",onClick:a,name:"actionBrick",size:"small",style:jy,className:n},Object(w.pipe)(e,P.fold(e=>"more"===e?E.createElement(Dt,null):"plagiarism"===e?E.createElement(Bt,null):Object(I.d)(e),e=>E.createElement("img",{src:e,style:{width:Lt.a.rem(1),height:Lt.a.rem(1)}}))),E.createElement(It.a.div,Object.assign({},$(t),{className:_y}))),Ey={gapRems:Pt.D.Space.Space1,paddingLeftRems:Pt.D.Space.Space1,paddingRightRems:Pt.D.Space.Space2,fontSizeRems:.75,fontFamily:"Inter",fontWeight:"normal",iconWidthRems:1},jy={default:{fontSize:Lt.a.rem(Ey.fontSizeRems),fontFamily:Ey.fontFamily,fontWeight:Ey.fontWeight,gap:Lt.a.rem(Ey.gapRems),padding:`0 ${Lt.a.rem(Ey.paddingRightRems)} 0 ${Lt.a.rem(Ey.paddingLeftRems)}`},icon:Object(Ft.c)(Ey.iconWidthRems)},_y=Lt.a.style({whiteSpace:"initial",textAlign:"left",lineHeight:Lt.a.rem(1.125)});let xy=null;function Ay(e,t){xy||(xy=document.createElement("canvas"));const n=xy.getContext("2d");if(n){n.font=t;return n.measureText(e).width}return null}const Iy=({widthRems:e})=>E.createElement(ng,{style:{width:Lt.a.rem(e),height:Lt.a.rem(1.5),border:0},iconStyle:{width:Lt.a.rem(1),height:Lt.a.rem(1)}}),Ty=Pt.D.Space.Space4,My=()=>E.createElement("div",{role:"separator",className:Lt.a.style({width:Lt.a.rem(Ty),height:Lt.a.rem(1.5),position:"relative"})},E.createElement("div",{className:Lt.a.style({position:"absolute",top:0,bottom:0,left:"50%",borderLeft:"0.5px solid "+Pt.D.Color.BlueGray20})})),Py=({loading:e,actions:t,className:n,onHasHiddenActionsChange:a,onActionClick:r})=>{const{onMount:i,ref:s}=Ir.a.useElWatcher(),c=qr(s,!0),l=E.useContext(Ar.a.Context),u=E.useMemo(()=>o.a.combineLatestStatic([c,l,t]).pipe(o.a.map(([e,t,n])=>({width:Object(w.pipe)(e,x.map(e=>Math.round(e.width))),remSize:t,actions:n})),o.a.skipBy(b.c.getStructEq({width:x.getEq(b.c.eqNumber),remSize:b.c.eqNumber,actions:N.eb(b.c.fromEquals((e,t)=>e.action.label===t.action.label))})),o.a.map(({width:e,remSize:t,actions:n})=>Object(w.pipe)(e,x.map(e=>function(e,t,n,a,r){const i=[];let o=0;for(let s=0;s<e.length;++s){const c=Ay(e[s].action.label,r),l=(null!=c?c:0)+n+(i.length>0?a:0);null!==c&&o+l<=t&&(o+=l,i.push(e[s]))}return i}(n,e,function(e){return(Ey.paddingLeftRems+Ey.iconWidthRems+Ey.gapRems+Ey.paddingRightRems)*e}(t),Ty*t,function(e){return`${Ey.fontWeight} ${Ey.fontSizeRems*e}px ${Ey.fontFamily}`}(t))))),o.a.shareReplay({refCount:!0,bufferSize:1})),[t,c,l]),d=E.useMemo(()=>o.a.combineLatestStatic([u,t,e]).pipe(o.a.filter(([e,t,n])=>!1===n),o.a.map(([e,t])=>Object(w.pipe)(e,x.fold(()=>0,e=>e.length),e=>e<t.length)),o.a.distinctUntilChanged(),o.a.tap(e=>a(e))),[u,t]);return Ir.a.useSubscriptionTo(d),E.createElement(It.a.div,{className:Lt.a.joinClasses([Ny,n]),mount:i},o.a.combineLatestStatic([u,e]).pipe(o.a.map(([e,t])=>Object(w.pipe)(e,x.filter(()=>!t),x.fold(()=>E.createElement(It.a.Fragment,null,o.a.combineLatestStatic([c,l]).pipe(o.a.map(([e,t])=>Object(w.pipe)(e,x.map(e=>({width:Math.floor(e.width),remSize:t})))),o.a.skipBy(x.getEq(b.c.getStructEq({width:b.c.eqNumber,remSize:b.c.eqNumber}))),o.a.map(x.fold(w.constNull,({width:e,remSize:t})=>{const n=15+Ty,a=9/n,r=6/n,i=e/t-Ty,o=Math.min(a*i,9),s=Math.min(r*i,6);return E.createElement(E.Fragment,null,E.createElement(Iy,{widthRems:o}),E.createElement(My,null),E.createElement(Iy,{widthRems:s}))})))),e=>E.createElement(E.Fragment,null,e.map((e,t)=>E.createElement(E.Fragment,{key:e.action.id},t>0?E.createElement(My,null):null,E.createElement(ky,{icon:Q.extractActionIcon(e.action),label:e.action.label,onClick:()=>r(e)})))))))))},Ny=Lt.a.style({display:"flex",height:Lt.a.rem(1.5)});const Dy=_.b.Grid.make(({slots:e,view:t,notify:n})=>{const a=E.useMemo(()=>c.a.create(!1),[]);return E.createElement("section",{className:Fy,"data-testid":"actions-bar"},E.createElement("div",{className:Ly},e.header),E.createElement(Py,{className:Ry,loading:t("loading"),actions:t("actions"),onActionClick:e=>n({kind:dt.a.Kind.actionBrickClick,action:e})(),onHasHiddenActionsChange:s.b.toAtom(a)}),E.createElement(It.a.div,{className:By},o.a.combineLatestStatic([t("hasMore"),a]).pipe(o.a.map(([e,a])=>e||a?E.createElement(E.Fragment,null,E.createElement(ky,{icon:P.left("more"),label:"More",onClick:n({kind:dt.a.Kind.actionBrickClick,action:{kind:"allResults",filterPredicate:w.constTrue}})}),E.createElement(It.a.Fragment,null,t("hasHistoryButton").pipe(o.a.map(Object(V.c)(E.createElement(My,null),null))))):null)),e.historyButton))}),By=Lt.a.style({gridArea:"controls",display:"flex",flexDirection:"row"}),Ly=Lt.a.style({gridArea:"header"}),Fy=Lt.a.style({display:"grid",gridTemplateColumns:"1fr auto",gridTemplateRows:"auto auto",gridTemplateAreas:'"header header" "actions controls"',gridColumnGap:Lt.a.rem(Pt.D.Space.Space2),alignItems:"center",padding:`${Lt.a.rem(Pt.D.Space.Space1)} ${Lt.a.rem(Pt.D.Space.Space4)}`,margin:Lt.a.rem(Pt.D.Space.Space2)+" 0"}),Ry=Lt.a.style({gridArea:"actions",display:"flex",height:Lt.a.rem(1.5)}),Hy=()=>E.createElement(ng,{style:{width:Lt.a.rem(7.75),height:Lt.a.rem(2.5),border:0,gap:Lt.a.rem(.875),marginLeft:Lt.a.rem(1)},iconStyle:{width:Lt.a.rem(1.25),height:Lt.a.rem(1.25)}}),Vy=_.b.Grid.make(({slots:e,state:t,notify:n})=>E.createElement(It.a.div,{className:Uy,"data-testid":"actions-panel"},e.header,t.pipe(o.a.map(({loading:t,actions:a,hasMore:r,maxActionsCount:i})=>t?Array.from({length:i+1}).map((e,t)=>E.createElement(E.Fragment,{key:t},0!==t?E.createElement(zi,null):null,E.createElement(Hy,null))):E.createElement(E.Fragment,null,a.map((e,t)=>E.createElement(E.Fragment,{key:e.action.id},0!==t&&E.createElement(zi,null),E.createElement(ln,{icon:Q.extractActionIcon(e.action),label:e.action.label,onClick:n({kind:dt.a.Kind.actionBrickClick,action:e})}))),r?E.createElement(E.Fragment,null,E.createElement(zi,null),E.createElement("div",{className:Wy},E.createElement(ln,{icon:P.left("more"),label:"More",onClick:n({kind:dt.a.Kind.actionBrickClick,action:{kind:"allResults",filterPredicate:w.constTrue}}),style:zy}),E.createElement("div",{className:Gy},e.historyButton))):null))))),Uy=Lt.a.style({display:"flex",flexDirection:"column",marginTop:Lt.a.rem(Pt.D.Space.Space2),marginBottom:Lt.a.rem(Pt.D.Space.Space2)}),Wy=Lt.a.style({position:"relative"}),zy={default:{width:"100%"}},Gy=Lt.a.style({position:"absolute",right:Lt.a.rem(Pt.D.Space.Space4),bottom:"50%",transform:"translateY(50%)"}),qy=e=>E.createElement(Mt.e,Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},e),E.createElement("circle",{cx:"10",cy:"10",r:"6",stroke:"#646B81"}),E.createElement("path",{d:"M7.5 10H12.5",stroke:"#646B81",strokeLinecap:"round"})),Ky=_.b.Node.make(({view:e,notify:t})=>E.createElement("div",{className:Zy},E.createElement(so,{active:!0,style:Yy,prefix:"Work with:"},e("selectedText")),E.createElement(Tt.a,{variant:"tertiary",onClick:t({kind:dt.a.Kind.removeSelectionContextClick}),compact:!0,size:"small",name:"removeContext",title:"Remove"},E.createElement(qy,null)))),$y=_.b.Union.asOption(Ky),Zy=Lt.a.style({display:"flex",alignItems:"center",justifyContent:"space-between",gap:Lt.a.rem(Pt.D.Space.Space2)}),Yy={height:Lt.a.rem(2.5)},Xy=_.b.Node.make(({view:e})=>E.createElement(E.Fragment,null,E.createElement(It.a.h1,{className:nO},e("title")),E.createElement(It.a.Fragment,null,e("subtitle").pipe(o.a.map(e=>e?E.createElement("p",{className:aO},e):null))))),Qy=_.b.Union.make("kind",{none:_.b.Node.empty,title:Xy,selectionContext:_.b.Composite.make(_.b.Grid.make(({slots:e})=>E.createElement("div",{className:rO},e.header)),Ky)}),Jy=_.b.Knot.make(Dy,{header:$y,historyButton:Oy}),eO=_.b.Knot.make(Vy,{header:Qy,historyButton:Oy}),tO=_.b.Union.make("kind",{none:_.b.Node.empty,actionBar:Jy,actionPanel:eO}),nO=Lt.a.style({padding:Lt.a.rem(Pt.D.Space.Space2),paddingLeft:Lt.a.rem(Pt.D.Space.Space4),margin:0,fontWeight:700,fontSize:Lt.a.rem(1),lineHeight:"1.5em"}),aO=Lt.a.style({padding:`0 ${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(Pt.D.Space.Space2)} ${Lt.a.rem(Pt.D.Space.Space4)}`,margin:0,fontSize:Lt.a.rem(.875),lineHeight:"1.5em",color:Pt.D.SemanticColor.Color.Text.Base.Subdued}),rO=Lt.a.style({padding:`0 ${Lt.a.rem(Pt.D.Space.Space3)} 0 ${Lt.a.rem(Pt.D.Space.Space4)}`}),iO=_.b.Grid.make(({slots:e})=>{const t=E.useContext(Pr.a).view("flatUI");return E.createElement(It.a.section,{className:t.view(sO)},e.header,e.fieldContainer)}),oO=_.b.Knot.make(iO,{header:tO,fieldContainer:Go}),sO=e=>e?Lt.a.style({backgroundColor:Rt.a.BackgroundBaseSubdued,borderTop:"0.5px solid "+Rt.a.BorderBaseSubduedColor,height:"100%",borderBottomLeftRadius:"inherit",borderBottomRightRadius:"inherit",boxSizing:"border-box"}):void 0,cO=_.b.Union.make("kind",{none:_.b.Node.empty,skill:od,promptStudio:oO}),lO=_.b.Node.make(({state:e,notify:t})=>{const n=E.useContext(Pr.a).view("flatUI");return E.createElement(It.a.Fragment,null,e.pipe(o.a.map(({disabled:e,label:a,count:r})=>E.createElement(Tt.a,{variant:"tertiary",name:"suggestions-counter-button",disabled:e,onClick:t({kind:"suggestionCountButtonClick"}),title:a,size:n.view(Object(V.c)("small","large"))},n.view(Object(V.c)(E.createElement(mf,null,E.createElement(Pt.y,{className:uO})),E.createElement(Mt.d.Arrow,{direction:Mt.a.left}))),r>0?`${r} ${Gr.f.pluralize(r,"suggestion","suggestions")}`:null))))}),uO=Lt.a.style({$nest:{"& path":{transform:"rotate(180deg)",transformOrigin:"center"}}}),dO=e=>E.createElement(Mt.e,Object.assign({width:"20",height:"20",viewBox:"0 0 20 20"},e),E.createElement("g",{id:"icon"},E.createElement("g",{id:"Vector"},E.createElement("path",{d:"M14.6429 3.92857L14.607 3.96447C13.3023 5.26917 11.0714 4.34512 11.0714 2.5H8.92857C8.92857 4.34512 6.69774 5.26917 5.39304 3.96447L5.35714 3.92857L3.92857 5.35714L3.96447 5.39304C5.26917 6.69774 4.34512 8.92857 2.5 8.92857V11.0714C4.34512 11.0714 5.26917 13.3023 3.96447 14.607L3.92857 14.6429L5.35714 16.0714L5.39304 16.0355C6.69774 14.7308 8.92857 15.6549 8.92857 17.5H11.0714C11.0714 15.6549 13.3023 14.7308 14.607 16.0355L14.6429 16.0714L16.0714 14.6429L16.0355 14.607C14.7308 13.3023 15.6549 11.0714 17.5 11.0714V8.92857C15.6549 8.92857 14.7308 6.69774 16.0355 5.39304L16.0714 5.35714L14.6429 3.92857Z",fill:"none",strokeLinejoin:"round"}),E.createElement("path",{d:"M12.5 10C12.5 11.3807 11.3807 12.5 10 12.5C8.61929 12.5 7.5 11.3807 7.5 10C7.5 8.61929 8.61929 7.5 10 7.5C11.3807 7.5 12.5 8.61929 12.5 10Z",fill:"none",strokeLinejoin:"round"})))),pO=_.b.Node.make(({view:e,notify:t})=>E.createElement(Tt.a,{variant:"tertiary",onClick:e=>{e&&q(e.currentTarget)&&t({kind:dt.a.Kind.settingsButtonClick,buttonRect:e.currentTarget.getBoundingClientRect()})()},compact:!0,size:e("flatUI").pipe(o.a.map(e=>e?"small":"medium")),name:"settings","aria-label":"Settings",title:"Settings"},E.createElement(dO,null))),mO=_.b.Union.asOption(pO),fO=_.b.Node.make(({view:e,notify:t})=>{const n=E.useContext(Pr.a).view("flatUI");return E.createElement(Tt.a,{variant:"tertiary",style:n.pipe(o.a.map(e=>e?gO:bO)),onClick:t({kind:dt.a.Kind.headerVoiceButtonClick}),name:"headerVoiceProfileButton",size:n.pipe(o.a.map(e=>e?"small":"medium")),title:"My voice"},E.createElement($h,null),E.createElement(It.a.Fragment,null,o.a.combineLatestStatic([n,e("styleLabel")]).pipe(o.a.map(([e,t])=>e?null:E.createElement("span",null,t)))))}),hO=_.b.Union.asOption(fO),gO={default:{padding:0},icon:Object(Ft.c)(1.5)},bO={default:{padding:0,paddingRight:Lt.a.rem(Pt.D.Space.Space2),paddingLeft:Lt.a.rem(Pt.D.Space.Space2),minHeight:Lt.a.rem(1.625),lineHeight:Lt.a.rem(1.625),border:Lt.a.px(1),borderStyle:"solid",borderColor:Pt.D.Color.BlueGray20,borderRadius:Lt.a.rem(.8125),gap:Lt.a.rem(Pt.D.Space.Space1),flexWrap:"nowrap"},icon:Object(Ft.c)(1.5)},vO=Object(At.d)(Tt.a),yO=_.b.Node.make(({notify:e,view:t})=>{const n=E.useContext(Pr.a).view("flatUI");return E.createElement("div",{className:SO},E.createElement(vO,{variant:"tertiary",compact:!0,onClick:t("activeView").pipe(o.a.map(t=>e({kind:dt.a.Kind.headerGoBackButtonClick,goBackFrom:t}))),size:n.view(Object(V.c)("small","large")),title:"Back to Home","aria-label":"Back to Home",name:"goBack"},n.view(Object(V.c)(E.createElement(mf,null,E.createElement(Pt.y,{className:OO})),E.createElement(Mt.d.Arrow,{direction:Mt.a.left})))),E.createElement(It.a.div,{className:CO},t("activeViewIconUrl").pipe(o.a.map(x.fold(w.constNull,e=>E.createElement("img",{src:e,style:{width:Lt.a.rem(1.25),height:Lt.a.rem(1.25)},alt:"","aria-hidden":"true"})))),t("activeViewLabel").pipe(o.a.map(x.fold(w.constNull,e=>E.createElement("span",null,e))))))}),OO=Lt.a.style({$nest:{"& path":{transform:"rotate(180deg)",transformOrigin:"center"}}}),SO=Lt.a.style({display:"flex",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space2),color:Pt.D.Color.BlueGray60,fontWeight:400,fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125)}),CO=Lt.a.style({display:"flex",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space2)}),wO=e=>E.createElement(Mt.e,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),E.createElement("path",{d:"M4 4L8 8M12 12L8 8M8 8L12 4M8 8L4 12",stroke:"#646B81",strokeLinecap:"round"})),kO=_.b.Node.make(({notify:e})=>{const t=E.useContext(Pr.a).view("flatUI");return E.createElement(Tt.a,{variant:"tertiary",onClick:e({kind:dt.a.Kind.headerCloseButtonClick}),compact:!0,className:t.view(Object(V.c)(void 0,Lt.a.style({marginLeft:Lt.a.rem(-Pt.D.Space.Space2)}))),size:t.view(Object(V.c)("small","large")),name:"headerClose",title:"Close Grammarly Assistant","aria-label":"Close Grammarly Assistant"},E.createElement(wO,null))}),EO=e=>E.createElement(Mt.e,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24"},e),E.createElement("path",{d:"M14.256,7.346C15.403,7.699 16.301,8.597 16.654,9.744C16.759,10.085 17.241,10.085 17.346,9.744C17.699,8.597 18.597,7.699 19.744,7.346C20.085,7.241 20.085,6.759 19.744,6.654C18.597,6.301 17.699,5.403 17.346,4.256C17.241,3.915 16.759,3.915 16.654,4.256C16.301,5.403 15.403,6.301 14.256,6.654C13.915,6.759 13.915,7.241 14.256,7.346ZM17,5.339C17.392,6.034 17.967,6.608 18.661,7C17.967,7.392 17.392,7.966 17,8.661C16.608,7.967 16.034,7.392 15.339,7C16.034,6.608 16.608,6.034 17,5.339Z",fill:"inherit",stroke:"none"}),E.createElement("path",{d:"M6.426,13.577C8.338,14.165 9.835,15.662 10.423,17.574C10.598,18.142 11.402,18.142 11.577,17.574C12.165,15.662 13.662,14.165 15.574,13.577C16.142,13.402 16.142,12.598 15.574,12.423C13.662,11.835 12.165,10.338 11.577,8.426C11.402,7.858 10.598,7.858 10.423,8.426C9.835,10.338 8.338,11.835 6.426,12.423C5.858,12.598 5.858,13.402 6.426,13.577ZM11,9.69C11.693,11.138 12.862,12.307 14.31,13C12.862,13.693 11.693,14.862 11,16.31C10.307,14.862 9.138,13.693 7.69,13C9.138,12.307 10.307,11.138 11,9.69Z",fill:"inherit",stroke:"none"})),jO=e=>E.createElement(Mt.e,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24"},e),E.createElement("path",{d:"M6.426,13.577C8.338,14.165 9.835,15.662 10.423,17.574C10.598,18.142 11.402,18.142 11.577,17.574C12.165,15.662 13.662,14.165 15.574,13.577C16.142,13.402 16.142,12.598 15.574,12.423C13.662,11.835 12.165,10.338 11.577,8.426C11.402,7.858 10.598,7.858 10.423,8.426C9.835,10.338 8.338,11.835 6.426,12.423C5.858,12.598 5.858,13.402 6.426,13.577ZM11,9.69C11.693,11.138 12.862,12.307 14.31,13C12.862,13.693 11.693,14.862 11,16.31C10.307,14.862 9.138,13.693 7.69,13C9.138,12.307 10.307,11.138 11,9.69Z",fill:"inherit",stroke:"none"}));const _O=_.b.Node.make(({state:e,notify:t})=>{const{ref:n,onMount:a}=Ir.a.useElWatcher(),r=E.useMemo(()=>n.pipe(o.b.compact,o.a.switchMap(e=>o.a.fromEvent(e,"mouseenter").pipe(o.a.switchMapTo(o.a.of(null).pipe(o.a.delay(500),o.a.takeUntil(o.a.fromEvent(e,"mouseleave")))))),o.a.tap(t({kind:dt.a.Kind.creditsInfoHover}))),[n]);Ir.a.useSubscriptionTo(r);const{onMount:i}=Object(Tr.a)(o.a.tap(e=>t({kind:dt.a.Kind.mount,name:ft.a.creditsInfoButton,element:e})())),s=E.useContext(Pr.a).view("flatUI");return E.createElement(It.a.Fragment,null,o.a.combineLatestStatic([s,e]).pipe(o.a.map(([e,{user:n,genAIAvailability:r}])=>{let o;if(u.a.isActive(r)){const[e,t]=function(e){const t=`${Number(e.promptsRemaining).toLocaleString()}/${Number(e.promptsAllocated).toLocaleString()} prompts left. `,n=u.a.Active.daysUntilRefillDate(e.refillDate),a=u.a.Active.hoursUntilRefillDate(e.refillDate);return n>0?[t,`Next refill in ${n} ${Gr.f.pluralize(n,"day","days")}.`]:a>0?[t,`Next refill in ${a} ${Gr.f.pluralize(a,"hour","hours")}.`]:[t,"Next refill in less than an hour."]}(r);o=u.a.isActive(r)?E.createElement(E.Fragment,null,e,E.createElement("br",null),t):n.isPremium?"To get more prompts, contact support.":"To get more prompts, upgrade to Premium."}else o=n.isPremium?"To get more prompts, contact support.":"To get more prompts, upgrade to Premium.";const s=e?E.createElement(xO,{promptsRemaining:r.promptsRemaining}):u.a.isActive(r)?`${Number(r.promptsRemaining).toLocaleString()} ${Gr.f.pluralize(r.promptsRemaining,"prompt","prompts")}`:n.isPremium?"0 prompts":E.createElement(E.Fragment,null,"0 prompts. ",E.createElement("span",{className:MO},"Upgrade"));return n.isPremium&&u.a.isActive(r)?E.createElement(E.Fragment,null,u.a.isActiveUnlimited(r)?null:E.createElement(sd.a,{title:o},E.createElement("div",{ref:a,className:e?IO:TO},s))):E.createElement("div",{ref:a},E.createElement(Tt.a,{variant:"tertiary",compact:e,onClick:t({kind:dt.a.Kind.creditsInfoClick}),size:e?"small":"large",title:o,name:"creditsInfo",mount:i,textPosition:"everywhere"},s))})))}),xO=({promptsRemaining:e})=>e<50?E.createElement("div",{className:PO},E.createElement(jO,{className:BO}),0===e?E.createElement(Pt.m,{className:LO}):E.createElement(Pt.z,{className:LO})):E.createElement(EO,{className:BO}),AO=_.b.Union.asOption(_O),IO=Lt.a.style({cursor:"help"}),TO=Lt.a.style({padding:""+Lt.a.rem(Pt.D.Space.Space2),fontSize:Lt.a.rem(.75),lineHeight:Lt.a.rem(1.125),color:Pt.D.SemanticColor.Color.Text.Base.Subdued,cursor:"help"}),MO=Lt.a.style({color:Pt.D.Color.Blue60}),PO=Lt.a.style({position:"relative"}),NO=Object(Ft.c)(1.5),DO=Object(Ft.c)(.75),BO=Lt.a.style(NO),LO=Lt.a.style(Object.assign(Object.assign({},DO),{top:Lt.a.rem(1/16),right:0,position:"absolute"})),FO=e=>E.createElement(Mt.e,{className:e.className,viewBox:"0 0 22 22",width:22,height:22},E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 11C22 17.0749 17.0753 22 11 22C4.92513 22 0 17.0749 0 11C0 4.92465 4.92513 0 11 0C17.0753 0 22 4.92465 22 11Z",fill:"#018374",stroke:"none"}),E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.4371 13.3755C12.5021 13.7356 12.8407 13.9824 13.2066 13.9824H14.3592L15.0274 13.8887C13.9584 15.4569 12.1023 16.1786 10.0731 15.8601C8.42114 15.6008 7.00214 14.4831 6.40336 12.9221C5.04414 9.37866 7.63201 5.99545 11.0042 5.99545C12.7618 5.99545 14.3037 7.05097 15.1876 8.29349C15.4224 8.63162 15.8868 8.72871 16.2254 8.49388C16.5468 8.27101 16.6405 7.84775 16.4473 7.51488C15.2249 5.60662 13.0282 4.38562 10.558 4.5511C7.34171 4.76679 4.73901 7.39866 4.55392 10.6169C4.33918 14.3617 7.30966 17.4192 11.0042 17.4192C12.945 17.4192 14.6825 16.5741 15.8662 15.2068L15.7261 15.9911V16.6999C15.7261 17.0653 15.9724 17.4044 16.3325 17.4694C16.8055 17.5545 17.2168 17.1934 17.2168 16.7362V12.4912H13.1698C12.7126 12.4912 12.3515 12.903 12.4371 13.3755Z",fill:"white",stroke:"none"})),RO=e=>E.createElement(Mt.e,{className:e.className,viewBox:"0 0 20 20",width:22,height:22},E.createElement("path",{d:"M0 10C0 4.478 4.459 0 9.96 0c5.502 0 9.96 4.477 9.96 10 0 4.833-3.412 8.864-7.95 9.797A9.937 9.937 0 0 1 9.962 20H0V10Z",fill:"#027E6F",stroke:"none"}),E.createElement("path",{d:"M16.853 9.053h-4.489l-1.057 1.838h3.701c-.58 3.197-4.12 5.374-7.66 3.533a4.175 4.175 0 0 1-1.78-1.771c-2.036-3.892.745-7.807 4.415-7.807 1.513 0 2.875.665 3.811 1.72l.949-1.65a6.881 6.881 0 0 0-5.25-1.888c-3.462.24-6.269 3.121-6.438 6.6-.192 3.996 2.989 7.305 6.925 7.305 3.937 0 6.935-3.124 6.935-6.963 0-.312-.024-.618-.063-.917Z",fill:"#fff",stroke:"none"})),HO=e=>{const t=E.useContext(Pr.a);return E.createElement(It.a.Fragment,null,t.view("newLogo").pipe(o.a.map(t=>t?E.createElement(RO,Object.assign({key:"2024"},e)):E.createElement(FO,Object.assign({key:"2023"},e)))))},VO=({className:e})=>{const t=E.useContext(Pr.a).view("flatUI");return E.createElement(It.a.Fragment,null,t.view(t=>E.createElement(HO,{className:Lt.a.joinClasses([UO(t),e])})))},UO=e=>Lt.a.style(Object.assign({display:"flex",alignItems:"center",justifyContent:"center"},e?Object(Ft.c)(1.375):{})),WO=_.b.Node.make(({view:e})=>E.createElement(It.a.Fragment,null,e("version").pipe(o.a.map(x.fold(()=>E.createElement(VO,null),e=>E.createElement("div",{className:zO},E.createElement(VO,null),E.createElement("small",null,"v"+e))))))),zO=Lt.a.style({display:"flex",alignItems:"center",gap:Lt.a.rem(.5)}),GO=_.b.Node.make(({state:e})=>E.createElement(It.a.h2,{className:KO},e)),qO=_.b.Union.asOption(GO),KO=Lt.a.style({textAlign:"center",fontSize:Lt.a.rem(.75),fontWeight:700,lineHeight:Lt.a.rem(1.125)}),$O=_.b.Grid.make(({slots:e})=>E.createElement("div",{className:oS},e.back,E.createElement("div",{className:cS}),e.voice)),ZO=_.b.Knot.make($O,{back:yO,voice:fO}),YO=_.b.Composite.make(_.b.Grid.make(({slots:e})=>E.createElement("div",{className:lS},E.createElement(VO,null),E.createElement("div",{className:uS},e.content))),fO),XO=_.b.Knot.make(_.b.Grid.make(({slots:e})=>{const t=E.useContext(Pr.a).view("flatUI");return E.createElement(It.a.div,{className:t.view(pS)},e.button)}),{button:lO}),QO=_.b.Union.make("kind",{logoOnly:WO,suggestionCount:XO,logoAndVoiceButton:YO,backButton:yO,backButtonAndVoiceButton:ZO}),JO=_.b.Grid.make(({slots:e})=>{const t=E.useContext(Pr.a).view("flatUI");return E.createElement(It.a.Fragment,null,t.view(t=>E.createElement("div",{className:t?iS:rS},t?e.credits:null,e.voiceButton,e.historyButton,t?null:e.credits,e.settingsButton,e.closeButton)))}),eS=_.b.Knot.make(JO,{voiceButton:hO,historyButton:Oy,credits:AO,settingsButton:mO,closeButton:kO}),tS=_.b.Grid.make(({slots:e})=>E.createElement(E.Fragment,null,e.left,E.createElement("div",{className:dS},e.pageTitle),e.right)),nS=_.b.Knot.make(tS,{left:QO,pageTitle:qO,right:eS}),aS={display:"flex",alignItems:"center"},rS=Lt.a.style(Object.assign(Object.assign({},aS),{gap:Lt.a.rem(Pt.D.Space.Space2)})),iS=Lt.a.style(Object.assign(Object.assign({},aS),{gap:Lt.a.rem(Pt.D.Space.Space1)})),oS=Lt.a.style({display:"flex",flexDirection:"row",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space2)}),sS={height:Lt.a.rem(1),borderLeft:"1px solid "+Pt.D.Color.BlueGray20},cS=Lt.a.style(sS),lS=Lt.a.style({display:"flex",flexDirection:"row",alignItems:"center",gap:Lt.a.rem(Pt.D.Space.Space1)}),uS=Lt.a.style({display:"flex",alignItems:"center"}),dS=Lt.a.style({flexGrow:1}),pS=e=>Lt.a.style({marginLeft:e?Lt.a.rem(-Pt.D.Space.Space1):0}),mS=_.b.Knot.make(es,{header:nS,content:by,footer:cO,notifications:kr,onboarding:xr});function fS(e){return _.a.composeKnot({content:(t=e.notifications,_.a.composeList(N.m,()=>t.state.view(N.Kb),e=>function(e,t){return _.a.fromSideEffect(e=>{switch(e.kind){case"dismissNotification":return t.dismiss(e.id);case"mouseOver":return t.hover(!0);case"mouseOut":return t.hover(!1);default:Object(I.d)(e)}},e)}(e,t)))});var t}function hS(e){return Object(w.flow)(o.a.share(),t=>{return o.a.mergeStatic(t.pipe((n=e.logger,a=e.lifecycle,Object(w.flow)(o.a.filter(Xo),o.a.tap(e=>{a.onMount(e.element)}),o.a.map(e=>x.some(e.element)),Ir.a.FocusTrap.dynamicFocusTrap(Ir.a.FocusTrap.InitialFocus.none,gS,function(e){return(t,n)=>(t instanceof HTMLIFrameElement?t.contentDocument&&t.contentDocument.body?o.a.fromEvent(t.contentDocument.body,n):o.a.EMPTY:o.a.fromEvent(t,n)).pipe(o.a.catchError(a=>(e.error("failed to attach event listener during focus trap",a,{el:t,eventName:n}),o.a.EMPTY)))}(n)),o.a.ignoreElements()))),t.pipe(function(e){return Object(w.flow)(o.a.filter(Qo),o.a.take(1),o.a.tap(t=>{e.onHeaderMount(t.element)}),o.a.ignoreElements())}(e.lifecycle)),t.pipe(function(e){return Object(w.flow)(o.a.filter(Yo),o.a.tap(t=>e.onFocus(t.focused)),o.a.ignoreElements())}(e.lifecycle)),t.pipe(function(e){return Object(w.flow)(o.a.filter(Jo),o.a.tap(t=>e.onRectChange(t.rect)),o.a.ignoreElements())}(e.lifecycle)),c.a.combine(e.assistant.state.view("canScroll"),function(e){return c.a.combine(e.assistant.state.view("genAISession"),e.assistant.state.view("contextualActions"),e.userSurvey.state,e.routing.activeView,(e,t,n,a)=>Object(w.pipe)(e,x.chain(se.toStarted),x.filter(()=>"thread"===a.kind),x.map(e=>`${Object(w.pipe)(e.inProgressResult,x.fold(()=>"",e=>e.text))}_${""+e.results.length}_${x.isSome(n.activeSurvey)}_${Object(w.pipe)(t,x.fold(()=>"",Object(w.flow)(N.Yb(5),N.ub(e=>e.id),e=>e.join("-"))))}`)))}(e),e.promptMenu.state,c.a.combine(e.lifecycle.heightBehavior,e.textEditor.state.view("hasBeenNonEmpty"),e.routing.activeView.view("kind"),Object(w.pipe)(e.revision,x.fold(()=>c.a.create(null).view(),e=>e.feedForm.state.view("feedForm"))),(t,n,a,r)=>"fitContent"===t.kind?Object.assign(Object.assign({},t),{height:bS(t,a,r,n,e.experience)}):t),e.lifecycle.widthBehavior,e.lifecycle.dragBehavior,(e,t,n,a,r,i)=>({canScrollContent:e,menuRef:Object(w.pipe)(n,x.chain(e=>e.promptMenuContainer)),scrollContentToBottomToken:t,heightBehavior:a,widthBehavior:r,dragBehavior:i})));var n,a})}function gS(e){var t;if(e instanceof HTMLIFrameElement){const n=null===(t=e.contentWindow)||void 0===t?void 0:t.document;if(n){const e=n.body.querySelector("textarea:not([disabled]), input:not([disabled])");e&&"focus"in e&&"function"==typeof e.focus&&e.focus()}}else e.focus()}function bS(e,t,n,a,r){return void 0!==e.height?e.height:"plagiarism"===t||"home"===t&&"longForm"===n&&("genAIAndRevision"===r&&Object(w.pipe)(a,x.exists(w.identity))||"revision"===r)?e.maxHeight:e.height}function vS(e){return _.a.fromSideEffect(t=>e.notify(t),c.a.combine(e.feedbackForm.stagingFeedbackFormData,e.feedbackForm.domain,(e,t)=>{var n;return{formData:e,domain:t,source:null!==(n=null==e?void 0:e.source)&&void 0!==n?n:ts.Source.resultCard}}))}function yS(e){return _.a.composeOption(function(e){return _.a.fromSideEffect(t=>e.notify(t),e.assistant.state.view("selectedAction").view(b.g.chain(e=>Object(w.pipe)(e.args[0].hints,b.g.map(t=>({header:e.label,iconUrl:e.iconUrl,hintsHeader:t.header,hintsItems:t.items,radioOptions:X.match({string:()=>b.g.none,radio:e=>b.g.some(e.radioOptions)})(e.args[0])}))))).pipe(o.b.compact))}(e),()=>e.assistant.state.view("selectedAction").view(b.g.chain(e=>e.args[0].hints)))}function OS(e){return void 0!==e.find(e=>"applyAlerts"===e.type||"removeAlerts"===e.type)}function SS(e,t){return n=>Object(w.pipe)(e||t?Xn.a.map(n,n=>"button"!==n.type?n:e&&n.name.value===String(Rn.a.ComponentKnownName.ButtonPrev)||t&&n.name.value===String(Rn.a.ComponentKnownName.ButtonNext)?Object.assign(Object.assign({},n),{state:Rn.a.ButtonState.Disabled}):n):x.some(n),x.getOrElse(()=>n))}const CS=e=>Object(w.pipe)(Xn.a.map(e,e=>"button"!==e.type?e:e.name.value===String(Rn.a.ComponentKnownName.ButtonPrev)||e.name.value===String(Rn.a.ComponentKnownName.ButtonNext)?Object.assign(Object.assign({},e),{state:Rn.a.ButtonState.Hidden}):e),x.getOrElse(()=>e));function wS(e,t,n,a){return _.a.fromSideEffect(n=>{switch(n.kind){case"sduiNotify":return OS(n.actions)&&t.onSuggestionAddressed(),e.processActions(n.actions,n.item,n.scope,n.sourceId);case"focusedItemMount":return e.onFocusedItemMount(n.item);default:Object(I.d)(n)}},n.pipe(o.a.map(x.chain(e=>Object(w.pipe)(x.fromNullable(e.items[a]),x.map(t=>({feedState:e,item:t}))))),o.b.compact,o.a.map(({feedState:e,item:t})=>{const n=Object(w.pipe)(e.focusedItemId,x.exists(e=>t.id===e));return{item:n?Object.assign(Object.assign({},t),{content:Object(w.pipe)(t.content,SS(0===a,a===e.items.length-1),CS)}):t,prevFocusedItemPosition:Object(w.pipe)(e.prevFocusedItemPosition,x.filter(()=>n)),isFirst:0===a,isFocused:n}}),o.a.skipBy(Yc)))}function kS(e,t){const n=n=>a=>function(e,t,n,a){return _.a.composeKnot({root:()=>n.pipe(o.a.map(x.chain(e=>Object(w.pipe)(x.fromNullable(e.items[a]),x.map(t=>({itemId:t.id,isFocused:Object(w.pipe)(e.focusedItemId,x.exists(e=>t.id===e))}))))),o.b.compact,o.a.skipBy(ul)),content:_.a.animatingFlow(wS(e,t,n,a),(e,t)=>Object(w.pipe)(e,x.filter(e=>!e.isFocused&&t.isFocused),x.chain(()=>Object(w.pipe)(t.prevFocusedItemPosition,x.map(e=>e<0?Zn.g("collapseForward","expandForward"):Zn.g("collapseBackward","expandBackward"))))))})}(e.feed,e.suggestionCount,t,a)(n.pipe(o.a.filter(e=>e.key===a),o.a.map(e=>e.action)));return e=>t.pipe(o.a.map(x.fold(()=>[],e=>e.items)),o.a.distinctUntilKeyChanged("length"),o.a.switchMap(t=>o.a.combineLatestStatic(t.map((t,a)=>n(e)(a)))))}function ES(e){return e.pipe(o.a.scan((e,t)=>Object(w.pipe)(t,x.map(t=>({items:An(t.collection),focusedItemId:Object(w.pipe)(In(t.collection),x.map(e=>e.id)),focusedItemIndex:Tn(t.collection),prevFocusedItemPosition:Object(w.pipe)(e,x.chain(e=>Object(w.pipe)(M.a(x.option)({prevIdx:e.focusedItemIndex,currIdx:Tn(t.collection)}),x.chain(e=>e.prevIdx===e.currIdx?x.none:e.prevIdx<e.currIdx?x.some(-1):x.some(1)),x.alt(()=>e.prevFocusedItemPosition))))}))),x.none))}function jS(e){return _.a.composeUnion({loadingState:()=>o.a.of(null),emptyState:_S(e),nonEmptyState:xS(e),uphookState:AS(e)},()=>function(e){return c.a.combine(e.user.isPremium,e.feed.feed,e.feed.feedReset,e.plagiarism.state,(e,t,n,a)=>Object(w.pipe)(M.b(x.option)(t,a),x.fold(()=>e?"loadingState":"uphookState",([t,{checking:a}])=>e?xn(t.collection)>0?"nonEmptyState":a||n?"loadingState":"emptyState":"uphookState")))}(e).view(e=>({kind:e})))}function _S(e){return _.a.fromSideEffect(t=>e.plagiarism.seeAllSuggestions(),o.a.of(null))}function xS(e){const t=ES(e.feed.feed).pipe(o.a.shareReplay({bufferSize:1,refCount:!0}));return _.a.composeKnot({root:_.a.fromSideEffect(t=>{switch(t.kind){case"plagiarismFeedMount":return e.feed.onFeedMount();case"sduiCitationDropdownSelect":return e.plagiarism.onCitationDropdownSelect(t.actions,t.sourceId);default:Object(I.d)(t)}},e.plagiarism.state.view(e=>({citationDropdown:Object(w.pipe)(e,x.chain(e=>e.citationDropdown))}))),cardList:kS(e,t),footer:()=>e.plagiarism.state.view(x.chain(e=>Object(w.pipe)(e.originality,x.map(t=>({originality:t,sourceCount:e.sourceCount})))))})}function AS(e){return _.a.fromSideEffect(t=>{switch(t.kind){case"plagiarismUphookShow":e.plagiarism.onUphookShow();break;case"plagiarismUphookClick":e.plagiarism.onUphookClick();break;case"plagiarismUphookDismiss":e.plagiarism.onUphookDismiss();break;default:Object(I.d)(t)}},o.a.of(null))}function IS(e){const t=ES(e.feed.feed).pipe(o.a.shareReplay({bufferSize:1,refCount:!0}));return _.a.composeUnion({loadingState:()=>o.a.of(null),emptyState:_.a.fromSideEffect(t=>e.writingExpert.seeAllSuggestions(),o.a.of(null)),nonEmptyState:_.a.composeKnot({root:_.a.fromSideEffect(t=>{switch(t.kind){case"writingExpertFeedMount":return e.feed.onFeedMount();case"writingExpertFeedDummyAction":return;default:Object(w.absurd)(t)}},e.writingExpert.state.view(e=>({writersIntent:Object(w.pipe)(e,x.map(e=>({title:"Trying to inform the Project Tiger team?",subTitle:"Ensure your working team understands the launch timeline and strategy."})))}))),cardList:kS(e,t)})},()=>c.a.combine(e.feed.feed,e.writingExpert.state,(e,t)=>Object(w.pipe)(M.b(x.option)(e,t),x.fold(()=>"loadingState",([e,{checking:t}])=>xn(e.collection)>0?"nonEmptyState":t?"loadingState":"emptyState"),e=>({kind:e}))))}function TS(e){return()=>o.a.of(Object(w.pipe)(e.settings,x.chain(e=>e.getView()),x.fold(()=>({content:null}),e=>({content:e}))))}function MS(e){return _.a.composeKnot({content:_.a.composeUnion({free:()=>o.a.of(null),premium:()=>o.a.of(null),business:()=>o.a.of(null)},()=>e.assistant.state.view("user").view(e=>function(e){return!me(e)}(e)?{kind:"institution"===e.kind?"business"===e.institutionType?"business":"premium":"premium"===e.kind?"premium":"free"}:{kind:"free"})),signIn:_.a.composeOption(_.a.fromSideEffect(t=>{e.notify(t)},o.a.of(null)),()=>e.assistant.state.view("userCanSignIn").view(e=>e?x.some(null):x.none))})}function PS(e,t){const n=c.a.combine(e.skill.state,e.theme.theme.view("flatUI"),e.lifecycle.heightBehavior,(e,n,a)=>Object(w.pipe)(e,x.filter(()=>"fitContainer"===a.kind?!t:t===n),x.map(e=>({displayName:e.skill.displayName,status:e.status,srcUrl:e.skill.srcUrl,size:{width:e.size.width,height:"fitContainer"===a.kind?"100%":e.size.height}}))));return _.a.composeOption(function(e,t){return _.a.fromSideEffect(t=>e.notify(t),t)}(e,n.pipe(o.b.compact)),()=>n)}function NS(e){return _.a.composeUnion({loading:()=>o.a.of(null),loadedEmpty:()=>o.a.of(null),loadedNonEmpty:_.a.fromSideEffect(t=>e.notify(t),Object(w.pipe)(e.toneDetector,x.fold(()=>o.a.of(null),e=>e.state.pipe(o.a.filter(Et.isLoadedNonEmpty),o.a.map(({tones:e,brandToneInfo:t})=>({tones:e,onBrandTitleEnabled:x.isSome(t)}))))))},()=>Object(w.pipe)(e.toneDetector,x.fold(()=>o.a.of({kind:"loading"}),e=>e.state.view(({kind:e})=>({kind:e})))))}function DS(e){const t=c.a.create("");return _.a.fromSideEffect(n=>{"updateRoleTypeaheadText"===n.kind?(t.set(n.text),""===n.text&&e.notify({kind:dt.a.Kind.roleTypeaheadSelectionChange,role:x.none})):(n.kind===dt.a.Kind.roleTypeaheadSelectionChange&&t.set(Object(w.pipe)(n.role,x.fold(()=>"",e=>e.label))),e.notify(n))},c.a.combine(e.assistant.state.view("genAISession"),e.voiceProfile.state.view("stagingVoiceProfile"),t,(e,t,n)=>Object(w.pipe)(M.a(x.Applicative)({voiceProfile:Object(w.pipe)(e,x.chain(se.toStarted),x.map(e=>e.voiceProfile),x.chain(we.toLegacyVoiceProfile)),stagingVoiceProfile:t}),x.fold(()=>({tones:[],styles:[],roles:[],maxSelectableTones:0,applyButtonEnabled:!1,description:"",roleTypeaheadText:"",dialects:we.Dialect.all(),selectedDialect:we.Dialect.american}),({stagingVoiceProfile:e,voiceProfile:t})=>Object(w.pipe)(t.styles,N.S(t=>t.id===e.selectedStyle),a=>({styles:Object(w.pipe)(t.styles,N.ub(t=>Object.assign(Object.assign({},t),{kind:t.id===e.selectedStyle?"selected":"unselected"}))),tones:Object(w.pipe)(a,x.fold(()=>[],t=>Object(w.pipe)(t.tones,N.ub(n=>Object.assign(Object.assign({},n),{kind:Object(w.pipe)(x.fromNullable(e.selectedTonesPerStyle.get(e.selectedStyle)),x.getOrElse(()=>new Set),e=>e.has(n.id)?"selected":e.size>=t.maxTones?"disabled":"unselected")}))))),roles:t.roles,maxSelectableTones:Object(w.pipe)(a,x.fold(()=>3,e=>e.maxTones)),applyButtonEnabled:!we.Selections.eq.equals(e,t),description:"These voice settings will apply to any text you generate.",roleTypeaheadText:Object(w.pipe)(e.selectedRole,x.filter(()=>""===n),x.chain(e=>x.fromNullable(t.roles.find(t=>t.id===e))),x.fold(()=>n,e=>e.label)),dialects:t.dialects,selectedDialect:t.dialects.find(t=>we.Dialect.Id.eq.equals(t.id,e.selectedDialect))||we.Dialect.american}))))))}function BS(e){return _.a.fromSideEffect(t=>e.notify(t),c.a.combine(e.assistant.state.view("genAISession"),e.voiceProfile.state.view("stagingNewVoiceProfile"),(e,t)=>Object(w.pipe)(M.a(x.Applicative)({sessionVoiceProfile:Object(w.pipe)(e,x.chain(se.toStarted),x.map(e=>e.voiceProfile),x.chain(we.toNewVoiceProfile)),stagingVoiceProfile:t}),x.fold(()=>({userName:"",title:"",subTitle:"",roles:[],dialects:we.Dialect.all(),selectedDialect:we.Dialect.american,isEnabledByDefault:!0,isEnabledByDefaultLabel:"",profiles:[],activeProfileName:x.none,activeTagId:x.none,isEditing:!1,selectedRole:x.none}),({sessionVoiceProfile:e,stagingVoiceProfile:t})=>({userName:e.userName,title:e.title,subTitle:e.subTitle,isEnabledByDefault:t.isEnabledByDefault,isEnabledByDefaultLabel:e.isEnabledByDefaultLabel,profiles:t.profiles,roles:Object(w.pipe)(LS(t,e),x.fold(()=>e.roles,t=>e.roles.filter(e=>e.id!==t.id))),dialects:Object(w.pipe)(FS(t,e),t=>e.dialects.filter(e=>e.id!==t.id)),selectedRole:LS(t,e),selectedDialect:FS(t,e),activeProfileName:t.activeProfileName,activeTagId:t.activeTagId,isEditing:x.isSome(t.stagingSelections)})))))}function LS(e,t){return Object(w.pipe)(e.stagingSelections,x.chain(e=>e.selectedRole),x.alt(()=>e.selectedRole),x.chain(e=>x.fromNullable(t.roles.find(t=>we.Role.Id.eq.equals(t.id,e)))))}function FS(e,t){return Object(w.pipe)(e.stagingSelections,x.fold(()=>e.selectedDialect,e=>e.selectedDialect),e=>t.dialects.find(t=>we.Dialect.Id.eq.equals(t.id,e))||we.Dialect.american)}function RS(e,t=o.a.of(!0)){const n=t.pipe(o.a.filter(o.a.identity),o.a.take(1)).pipe(o.a.switchMap(()=>e.assistant.state.view("genAISession").view(b.g.chain(e=>e.error))),o.a.startWith(b.g.none));return _.a.composeOption(function(e,t){const n=e.routing.activeView.view(e=>"error"!==e.kind);return _.a.fromSideEffect(t=>e.notify(t),t.pipe(o.a.withLatestFrom(n),o.a.map(([e,t])=>({error:e,showDismissButton:t}))))}(e,n.pipe(o.b.compact)),()=>n)}function HS(e){const t=e.assistant.state.view("genAISession").view(Object(w.flow)(b.g.chain(se.toStarted),b.g.chain(e=>e.activeContext.documentOverview)));return _.a.composeOption(()=>Object(w.pipe)(t,o.b.compact),()=>t)}function VS(e){const t=c.a.combine(e.assistant.state.view("genAISession"),e.theme.theme.view("flatUI"),(e,t)=>Object(w.pipe)(e,x.filter(e=>Z.isQuickReply(e.mode)),x.chain(e=>Object(w.pipe)("started"===e.kind?Object(w.pipe)(e.activeContext.intent,x.map(e=>({kind:"loaded",text:e}))):x.some({kind:"loading"}),x.map(e=>Object.assign(Object.assign({},e),{header:"Sender’s intent",showReportMenu:t}))))));return _.a.composeOption(_.a.composeUnion({loading:()=>t.pipe(o.b.compact),loaded:_.a.fromSideEffect(t=>e.notify(t),t.pipe(o.a.map(x.chain(e=>"loaded"===e.kind?x.some({text:e.text,header:e.header,showReportMenu:e.showReportMenu}):x.none)),o.b.compact))},()=>t.pipe(o.b.compact)),()=>t)}function US(e){const t=e.assistant.state.view("detectedReferences");return _.a.composeOption(function(e){return()=>e.assistant.state.view("detectedReferences").pipe(o.a.map(x.getOrElse(Object(w.constant)([]))),o.a.map(e=>({detectedReferences:e})))}(e),()=>t)}function WS(e){return c.a.combine(e.feed.feed,e.feed.feedReset,e.checkingState.firstCheckingFinishedAndSduiEventsSettled,e.suggestionCount.state,(e,t,n,{allSuggestionsEmpty:a,someSuggestionsAddressed:r})=>x.isNone(e)||0===xn(e.value.collection)&&(!n||t)?"loadingState":a?r?"successState":"emptyState":"nonEmptyState")}function zS(e,t){return _.a.fromSideEffect(t=>{switch(t.kind){case"longFormFeedMount":return e.feed.onFeedMount();case"toggleShortFormFeed":return e.feedForm.onToggleFeedForm("shortForm");case"toggleLens":return e.feedLens.onToggleLens(t.lensId);default:Object(I.d)(t)}},c.a.combine(t,e.suggestionCount.state.view("activeFeedSuggestionCount"),e.feedForm.state.view("supportedForms").view(e=>e.has("shortForm")),e.feedLens.lenses,(e,t,n,a)=>Object(w.pipe)(e,x.map(e=>({suggestionCount:t,canCollapseToShortForm:n,feedId:e,lenses:Object(w.pipe)([On.lensCorrectnessFeed,On.lensClarityFeed,On.lensEngagementFeed,On.lensDeliveryFeed,On.lensStyleGuideFeed],N.ub(e=>x.fromNullable(a.get(e))),N.B)})))).pipe(o.b.compact))}var GS=n("kMtn");function qS(e,t=Math.random){const n=Oh(t);return _.a.composeUnion({loadingState:()=>o.a.of(null),emptyState:()=>o.a.of({emptyContentIndex:n}),successState:_.a.fromSideEffect(t=>{switch(t.kind){case"shortFormFeedSuccessStateMount":return void e.feed.onSuccessStateMount();default:Object(I.d)(t.kind)}},o.a.of({emptyContentIndex:n})),nonEmptyState:KS(e)},()=>$S(e).view(e=>({kind:e})))}function KS(e){const t=c.a.create([]);return _.a.fromSideEffect(n=>{switch(n.kind){case"sduiNotify":return n.actions.find(e=>"prevCard"===e.type||"nextCard"===e.type)&&t.set(n.actions.filter(GS.d.Action.isTransitionAction)),OS(n.actions)&&e.suggestionCount.onSuggestionAddressed(),e.feed.processActions(n.actions,n.item,n.actionScope,n.sourceId);case"sduiFocusedItemMount":return e.feed.onFocusedItemMount(n.item);case"shortFormFeedAnimationEnd":return t.set([]);case"shortFormFeedMount":return t.set([]),e.feed.onFeedMount();case"toggleLongFormFeed":return e.feedForm.onToggleFeedForm("longForm");default:Object(I.d)(n)}},o.a.combineLatestStatic([(n=e.feed.feed,n.pipe(o.a.scan((e,t)=>Object(w.pipe)(t,x.chain(e=>M.a(x.option)({feedId:x.some(e.id),item:In(e.collection),index:Tn(e.collection),size:x.some(xn(e.collection))})),x.map(({feedId:t,item:n,index:a,size:r})=>({feedId:t,item:n,isFirst:0===a,isLast:a===r-1,prevItem:Object(w.pipe)(e,x.chain(e=>e.item.id===n.id?e.prevItem:x.some(e.item)))}))),x.none))).pipe(o.b.compact),e.suggestionCount.state.view("activeFeedSuggestionCount"),e.feedForm.state.view("supportedForms").view(e=>e.has("longForm")),t]).pipe(o.a.map(([{item:e,prevItem:t,isFirst:n,isLast:a},r,i,o])=>({item:Object.assign(Object.assign({},e),{content:Object(w.pipe)(e.content,SS(n,a))}),prevItem:t,transitions:o,suggestionCount:r,canExpandToLongForm:i&&r>1}))));var n}function $S(e){return c.a.combine(e.feed.feed,e.feed.feedReset,e.checkingState.firstCheckingFinishedAndSduiEventsSettled,e.suggestionCount.state.view("someSuggestionsAddressed"),(e,t,n,a)=>Object(w.pipe)(e,x.fold(()=>"loadingState",e=>Object(w.pipe)(In(e.collection),x.fold(()=>t?"loadingState":n?a?"successState":"emptyState":"loadingState",()=>"nonEmptyState")))))}const ZS=()=>o.a.of(null);function YS(e){return _.a.composeUnion({none:ZS,shortFormFeed:_.a.composeKnot({feed:Object(w.pipe)(e.revision,x.fold(()=>ZS,qS))}),longFormFeed:_.a.composeKnot({feed:Object(w.pipe)(e.revision,x.fold(()=>ZS,e=>function(e,t=Math.random){const n=Oh(t),a=ES(e.feed.feed).pipe(o.a.shareReplay({bufferSize:1,refCount:!0})),r=e.feed.feed.view(x.chain(e=>wn(e.id)));return _.a.composeUnion({loadingState:()=>e.feedForm.state.view("supportedForms").view(e=>e.has("shortForm")).view(e=>({supportsShortForm:e})),emptyState:()=>o.a.of({content:yh[n].emptyState}),successState:()=>o.a.of({content:yh[n].successState,goBackFrom:x.none}),nonEmptyState:_.a.composeKnot({root:zS(e,r),lensView:_.a.composeUnion({successState:_.a.fromSideEffect(t=>{switch(t.kind){case"goBack":return e.feedLens.onToggleLens(t.goBackFrom);case"longFormFeedSuccessStateMount":return e.feed.onSuccessStateMount();default:return Object(I.d)(t)}},o.a.combineLatestStatic([r,e.feedLens.lenses]).pipe(o.a.map(([e,t])=>({content:Object.assign(Object.assign({},yh[n].successState),Object(w.pipe)(e,x.fold(w.constNull,e=>({description:Object(w.pipe)(x.fromNullable(t.get(e)),x.fold(()=>yh[n].successState.description,e=>`There are no more ${e.label.toLowerCase()} suggestions.`))})))),goBackFrom:e})))),cardList:_.a.composeKnot({cardList:kS(e,a)})},()=>a.pipe(o.a.map(e=>Object(w.pipe)(e,x.exists(e=>e.items.length>0))?"cardList":"successState"),o.a.distinctUntilChanged(),o.a.map(e=>({kind:e}))))})},()=>WS(e).view(e=>({kind:e})))}(Object.assign({},e))))})},()=>XS(e).view(e=>({kind:e})))}function XS(e){return c.a.combine(e.routing.activeView,e.textEditor.state.view("hasBeenNonEmpty"),e.lifecycle.heightBehavior.view("kind"),Object(w.pipe)(e.revision,x.fold(()=>c.a.create(null).view(),e=>c.a.combine(e.feed.isAllSuggestionsFeedEnabled,e.feedForm.state.view("feedForm"),e.suggestionCount.state.view("allSuggestionsCount"),(e,t,n)=>({isAllSuggestionsFeedEnabled:e,feedForm:t,allSuggestionsCount:n})))),(t,n,a,r)=>"home"===t.kind&&null!==r&&r.isAllSuggestionsFeedEnabled&&(Object(w.pipe)(n,x.exists(w.identity))||"revision"===e.experience||r.allSuggestionsCount>0||"longForm"===r.feedForm&&"fitContainer"===a)?"shortForm"===r.feedForm?"shortFormFeed":"longForm"===r.feedForm?"longFormFeed":Object(I.d)(r.feedForm):"none")}function QS(e){const t=e.assistant.state.view("genAISession").view(t=>Object(w.pipe)(t,b.g.chain(se.toStarted),b.g.filter(()=>b.g.isNone(e.revision)),b.g.exists(e=>e.voiceProfile.needsSetup)));return _.a.composeOption(_.a.fromSideEffect(t=>e.notify(t),null),()=>t.view(e=>e?b.g.some(null):b.g.none))}function JS(e,t,n,a){return _.a.fromSideEffect(t=>e.notify(t),o.a.combineLatestStatic([t,e.assistant.state.view("textBox")]).pipe(o.a.map(([e,t])=>({icon:"regularAction"===e.kind?Q.extractActionIcon(e.action):P.left(e.kind),label:"regularAction"===e.kind?e.action.label:"allResults"===e.kind?"More":"go"===e.kind?`”${t.trim()}”`:Object(I.d)(e),action:e,mode:n,customViewOpts:a}))))}function eC(e,t,n,a){return _.a.composeList(N.m,()=>t.pipe(o.a.map(x.getOrElse(()=>[]))),t=>JS(e,o.a.of(t),n,a))}function tC(e,t){return _.a.composeList(N.m,()=>t.pipe(o.a.map(e=>Object(w.pipe)(e,N.vb((e,t)=>({category:t,isFirst:0===e}))))),({category:t,isFirst:n})=>function(e,t,n){const a=e.assistant.state.view(({genAISession:e,contextualActions:t})=>Object(w.pipe)(M.b(x.option)(Object(w.pipe)(e,x.chain(se.toStarted),x.chain(e=>e.activeBoundaryContext.selection)),t),x.isSome));return _.a.composeKnot({root:_.a.fromSideEffect(t=>e.notify(t),o.a.of({groupId:t.groupId,label:t.label,view:t.view})),actions:eC(e,o.a.of(x.some(t.actions)),"standard",{isPinned:t.view===Q.Store.View.pinned}),header:_.a.composeUnion({default:()=>o.a.of({label:t.label}),withSelectionContext:_.a.fromSideEffect(t=>e.notify(t),o.a.of({label:t.label}))},()=>a.pipe(o.a.map(e=>({kind:e&&n?"withSelectionContext":"default"}))))})}(e,t,n))}function nC(e,t=w.constTrue,n=x.some(3)){const a=Object(w.pipe)(D.y(e=>t(e.action))(e),x.getOrElseW(()=>N.L));return Object(w.pipe)(n,x.filter(e=>a.length>e),x.map(e=>D.fb(N.Yb(e)(a),{kind:"allResults",filterPredicate:t})),x.getOrElseW(()=>a))}function aC(e){const t=e.assistant.state.view("genAISession").view(e=>Object(w.pipe)(e,x.exists(e=>Z.isQuickReply(e.mode)))),n=e.assistant.state.view("genAISession").view(x.chain(e=>e.selectedText)),a=e.assistant.state.view("contextualActions").view(e=>Object(w.pipe)(e,x.map(D.R(nr.RegularAction.make)),x.map(D.L(nr.RegularAction.ordByActionStore)),x.map(D.R(e=>({groupId:e[0].action.group.id,label:e[0].action.store.label,actions:nC(e,t=>Q.Store.Id.eq.equals(t.store.id,e[0].action.store.id),e[0].action.store.maxCountBeforeClipping),view:e[0].action.store.view})))));return _.a.composeUnion({none:()=>o.a.of(null),loading:()=>c.a.combine(t,n,(e,t)=>({header:e?"Ways to reply":x.isSome(t)?"Work with: "+t.value:"Ideas for you",isQuickReply:e,withContext:x.isSome(t)})),loaded:rC(e,a,t)},()=>c.a.combine(a,e.assistant.state.view("genAISession"),e.theme.theme.view("flatUI"),(e,t,n)=>{if(x.isNone(t)||n)return{kind:"none"};const a=t.value;return x.isSome(e)?"started"===a.kind&&"pending"===a.activeContext.kind?{kind:"loading"}:{kind:"loaded"}:"started"===a.kind?"pending"===a.activeContext.kind?{kind:"loading"}:{kind:"none"}:"contextless"===a.kind?{kind:"loaded"}:{kind:"loading"}}))}function rC(e,t,n){const a=e.theme.theme.view("flatUI");return _.a.composeKnot({root:_.a.fromSideEffect(t=>e.notify(t),c.a.combine(n,a,(e,t)=>({showReportMenu:e&&!t}))),actions:tC(e,t.view(x.getOrElse(()=>[])))})}function iC(e){return _.a.composeKnot({suggestions:YS(e),voiceBanner:QS(e),documentOverview:HS(e),intent:VS(e),defaultActions:aC(e),detectedReferences:US(e)})}function oC(e,t,n,a){const r=e.assistant.state.view("genAISession").view(Object(w.flow)(x.chain(se.toStarted),x.chain(e=>x.fromNullable(e.results[a+1])),x.filter(ce.a.isComplete),x.chain(e=>e.boundaryContextId))),i=t.pipe(o.a.withLatestFrom(r),o.a.map(([e,t])=>Object(w.pipe)(e,x.filter(Object(V.p)(ce.a.isComplete,ce.a.isInProgress)),x.chain(e=>e.boundaryContextId),x.filter(e=>!!x.isNone(t)||e!==t.value)))).pipe(o.a.map(x.chain(t=>e.assistant.getContextById(t)))),s=i.pipe(o.a.map(e=>Object(w.pipe)(e,x.chain(e=>e.selection))));return _.a.composeOption(_.a.fromSideEffect(t=>e.notify(t),o.a.combineLatestStatic([i,e.assistant.state.view("genAISession").view(Object(w.flow)(x.chain(se.toStarted),x.map(({textRevision:e})=>e))),e.assistant.state.view("genAISession").view(Object(w.flow)(x.chain(se.toStarted),x.map(({selectionContextStatus:e})=>e)))]).pipe(o.a.map(([e,t,n])=>M.a(x.option)({selection:Object(w.pipe)(e,x.chain(({selection:e})=>e)),currentTextRevision:t,contextTextRevision:Object(w.pipe)(e,x.map(({textRevision:e})=>e)),selectionContextStatus:n})),o.b.compact,o.a.map(({selection:e,currentTextRevision:t,contextTextRevision:n,selectionContextStatus:a})=>({selectedText:e.text,selectedRange:a===se.SelectionContextStatus.dynamic&&x.isSome(n)&&t===n.value?e.range:void 0})))),()=>o.a.combineLatestStatic([s,n]).pipe(o.a.map(([e,t])=>Object(w.pipe)(e,x.filter(()=>t)))))}function sC(e){return()=>e.assistant.state.view("genAISession").view(x.chain(se.toStarted)).view(Object(w.flow)(x.chain(e=>e.inProgressResult),x.fold(()=>({text:""}),e=>({text:e.text}))))}function cC(e,t){return oC(e,e.assistant.state.view("genAISession").view(x.chain(se.toStarted)).view(x.chain(e=>e.inProgressResult)),t,-1)}function lC(e){const t=c.a.combine(e.assistant.state.view("genAISession"),e.routing.activeView,(e,t)=>Object(w.pipe)(e,x.chain(se.toStarted),x.chain(e=>e.inProgressResult),x.filter(()=>"thread"===t.kind),x.map(e=>({result:e}))));return _.a.composeOption(function(e){return _.a.composeKnot({content:_.a.composeKnot({root:sC(e),header:cC(e,e.theme.theme.view("flatUI"))}),header:cC(e,e.theme.theme.view("flatUI").view(e=>!e))})}(e),()=>t)}function uC(e,t){return _.a.composeOption(_.a.fromSideEffect(t=>e.notify(t),e.userSurvey.state.pipe(o.a.map(e=>Object(w.pipe)(e.activeSurvey,b.g.map(t=>({survey:t,state:e})))),o.b.compact,o.a.map(({survey:e,state:t})=>({survey:e,stage:t.stage,transitionStage:t.transitionStage,rating:t.rating,openAnswer:Object(w.pipe)(t.openAnswer,b.g.getOrElse(Object(w.constant)(""))),ratingLabels:Object(w.pipe)(t.activeSurvey,b.g.fold(Object(w.constant)([]),e=>e.ratingLabels)),errors:t.errors})))),()=>c.a.combine(e.userSurvey.state,t,e.routing.activeView,({activeSurvey:e,stage:t},n,a)=>Object(w.pipe)(e,b.g.filter(e=>"thread"===a.kind&&Object(w.pipe)(n,b.g.contains(e.resultId))&&t!==Ka.a.Stage.Type.Closed))))}function dC(e){const t=e.assistant.state.view("contextualActions").view(e=>Object(w.pipe)(e,x.map(D.R(nr.RegularAction.make)),x.map(e=>nC(e,Object(w.not)(Q.isSkillAction))),x.chain(D.F)));return _.a.composeUnion({none:()=>o.a.of(null),loading:()=>o.a.of(null),actions:_.a.composeKnot({root:_.a.fromSideEffect(t=>e.notify(t),null),actions:eC(e,t,"compact")})},()=>c.a.combine(t,e.theme.theme.view("flatUI"),e.assistant.state.view("genAIAvailability"),e.assistant.state.view("genAISession"),(e,t,n,a)=>Object(w.pipe)(a,x.chain(se.toStarted),x.map(e=>e.activeContext),x.filter(()=>!t),x.fold(()=>"none",t=>Object(w.pipe)(e,x.filter(()=>!u.a.isUnavailable(n)),x.fold(()=>u.a.isUnavailable(n)||!ee.isPending(t)?"none":"loading",()=>"actions"))),e=>({kind:e}))))}function pC(e){return()=>e.assistant.state.view("genAISession").view(x.chain(e=>e.selectedText)).pipe(o.a.map(e=>({header:x.isSome(e)?"Work with: "+e.value:"Ideas for you",isQuickReply:!1,withContext:x.isSome(e)})))}function mC(e){const t=e.assistant.state.view("contextualActions").view(e=>Object(w.pipe)(e,x.chain(D.y(Object(V.m)(Q.isSkillAction))),x.map(D.R(nr.RegularAction.make)),x.map(D.L(nr.RegularAction.ordByActionStore)),x.map(D.R(e=>({groupId:e[0].action.group.id,label:e[0].action.store.label,actions:nC(e,t=>Q.Store.Id.eq.equals(t.store.id,e[0].action.store.id)),view:e[0].action.store.view})))));return _.a.composeKnot({actions:tC(e,t.pipe(o.b.compact))})}function fC(e){return _.a.composeOption(_.a.composeKnot({actions:_.a.composeUnion({loading:pC(e),loaded:mC(e)},()=>e.assistant.state.view("genAISession").view(x.chain(se.toStarted)).pipe(o.a.map(x.map(e=>"pending"===e.activeContext.kind?{kind:"loading"}:{kind:"loaded"})),o.b.compact))}),()=>e.assistant.state.view("genAISession").view(x.chain(se.toStarted)))}function hC(e){const t=c.a.combine(e.assistant.state.view("genAISession"),e.routing.activeView,e.theme.theme.view("flatUI"),(e,t,n)=>Object(w.pipe)(e,x.chain(se.toStarted),x.filter(e=>"thread"===t.kind&&x.isNone(e.inProgressResult)&&x.isNone(e.error)&&!n),x.map(e=>e.results),x.chain(D.F)));return _.a.composeOption(function(e){return _.a.composeUnion({followUp:_.a.composeKnot({actions:dC(e)}),newContext:fC(e)},()=>e.assistant.state.view("genAISession").view(x.chain(se.toStarted)).pipe(o.a.map(e=>Object(w.pipe)(e,x.map(e=>e.activeContext.isBoundary&&x.isSome(e.activeContext.textRevision)&&(ee.isPending(e.activeContext)||x.isSome(Object(w.pipe)(x.fromNullable(e.results[0]),x.filter(e=>!ce.a.isHistory(e)),x.chain(({boundaryContextId:e})=>e),x.filter(t=>t!==e.activeContext.id))))?"newContext":"followUp"))),o.b.compact,o.a.map(e=>({kind:"followUp"===e?"followUp":"newContext"}))))}(e),()=>t)}function gC(e,t){return _.a.fromSideEffect(t=>e.notify(t),t)}function bC(e,t){const n=function(e,t){return e.assistant.state.view(({genAIAvailability:e,genAISession:n})=>Object(w.pipe)(n,b.g.chain(se.toStarted),b.g.map(n=>{const a=u.a.isPassive(e)||u.a.isUnavailable(e),r=Object(w.pipe)(n.activeContext.userPromptAction,b.g.chain(e=>Object(w.pipe)(t.header.copiablePrompt,b.g.map(t=>Q.UserPromptActionValue.fromInput(e,t,b.g.none,b.g.none)))));return{actions:Object(w.pipe)(b.f.fromArray(n.activeContext.availableActions.filter(Object(V.p)(Q.isFollowUpQuestionActionInput,Q.isQuickActionInput))),b.g.filter(()=>!a),b.g.map(b.f.map(nr.RegularAction.make))),originalAction:r,disabled:a,result:t}}))).pipe(o.b.compact)}(e,t),a=n.pipe(o.a.pluck("actions"));return _.a.composeKnot({root:gC(e,n),actions:eC(e,a,"standard")})}function vC(e,t){return _.a.fromSideEffect(t=>e.notify(t),e.assistant.state.pipe(o.a.switchMap(e=>{const n=Object(w.pipe)(t.header.copiablePrompt,x.fold(()=>({kind:Qv.searchLabel,label:t.header.label,iconUrl:t.header.iconUrl}),n=>({kind:Qv.clickableSearchLabel,label:t.header.label,disabled:u.a.isUnavailable(e.genAIAvailability),copiablePrompt:n})));return ce.a.isComplete(t)&&function(e){return Object(w.pipe)(e.replacementDelta,b.b.fold(w.identity,e=>e.generic),e=>e.ops.some(e=>{var t;return xv.a.isInsert(e)&&!!(null===(t=e.attributes)||void 0===t?void 0:t[Uv.knowledgeHubTerm])}))}(t)&&t.timestamp+3e3>Date.now()?o.a.timer(t.timestamp+3e3-Date.now()).pipe(o.a.mapTo(n),o.a.startWith({kind:Qv.knowledgeHub})):o.a.of(n)})))}function yC(e,t,n,a){return _.a.composeKnot({root:_.a.fromSideEffect(t=>e.notify(t),e.assistant.state.view(({genAIAvailability:e,activeCards:a,genAISession:r,referencesVisibility:i,overrideCardVoice:o})=>{var s,c,l;return{disabled:u.a.isUnavailable(e),result:t,isActive:Object(w.pipe)(!!a.has(t.id)||0===a.size&&n&&(l=Object(w.pipe)(r,x.chain(se.toStarted)),!Object(w.pipe)(l,x.fold(w.constFalse,e=>x.isSome(e.inProgressResult)||x.isSome(e.error))))),isReferencesOpen:null!==(s=i.get(t.id))&&void 0!==s&&s,isMyVoice:(null!==(c=o.get(t.id))&&void 0!==c?c:Object(w.pipe)(t.replacementDelta,b.b.fold(()=>ce.a.GeneratedTextVoice.generic,e=>e.preferVoice)))===ce.a.GeneratedTextVoice.user}})),header:vC(e,t),contextHeader:oC(e,o.a.of(x.some(t)),o.a.of(!0),a)})}function OC(e,t){return _.a.composeList(N.m,()=>t.pipe(o.a.map(Object(w.flow)(N.Yb(50),N.vb((e,t)=>({result:t,isLast:0===e,index:e})),N.Kb))),({result:t,isLast:n,index:a})=>function(e,t,n,a){return _.a.composeUnion({promptResultComplete:yC(e,t,n,a),aiUsageNotification:bC(e,t)},()=>o.a.of(ce.a.isAIUsageNotification(t)?{kind:"aiUsageNotification"}:{kind:"promptResultComplete"}))}(e,t,n,a))}function SC(e,t){return _.a.composeUnion({none:()=>o.a.of(null),loading:()=>o.a.of({root:{text:""}}),loaded:_.a.composeKnot({results:OC(e,t.view(x.getOrElse(()=>[])))})},()=>c.a.combine(t,e.assistant.state.view("genAISession").view(x.fold(()=>null,e=>e.kind)),e.routing.activeView,(e,t,n)=>"thread"===n.kind?{kind:"starting"===t?"loading":x.isSome(e)?"loaded":"none"}:{kind:"none"}))}function CC(e){const t=e.assistant.state.view("genAISession").view(Object(w.flow)(x.chain(se.toStarted),x.map(e=>e.results),x.chain(D.F)));return _.a.composeKnot({documentOverview:HS(e),intent:VS(e),resultList:SC(e,t),lastResultSurvey:uC(e,t.view(x.map(Object(w.flow)(D.M,e=>e.id)))),lastResultActions:hC(e),inProgressResult:lC(e),generationError:RS(e),detectedReferences:US(e)})}function wC(e){return _.a.composeUnion({home:iC(e),thread:CC(e),error:RS(e),followUpPrompt:yS(e),legacyVoiceProfile:DS(e),voiceProfile:BS(e),feedbackForm:vS(e),skill:PS(e,!1),toneReport:_.a.composeKnot({toneReport:NS(e)}),settings:TS(e),plagiarism:Object(w.pipe)(e.revision,x.fold(()=>()=>o.a.of(null),t=>_.a.composeKnot({plagiarism:jS({plagiarism:t.plagiarism,lifecycle:e.lifecycle,user:e.user,feed:t.feed,suggestionCount:t.suggestionCount})}))),writingExpert:Object(w.pipe)(e.revision,x.fold(()=>()=>o.a.of(null),t=>_.a.composeKnot({writingExpert:IS(Object.assign(Object.assign({},t),{lifecycle:e.lifecycle}))}))),signedOut:MS(e)},()=>e.routing.activeView)}const kC=new Hs.a(999999);var EC;function jC(e){const t=e.promptMenu.state.pipe(o.a.scan((e,t)=>Object(w.pipe)(t,x.fold(()=>e,()=>e+1)),0));return _.a.fromSideEffect(t=>e.notify(t),o.a.combineLatestStatic([e.assistant.state,t,e.routing.activeView]).pipe(o.a.map(([e,t,n])=>{return{kind:Object(w.pipe)(e.genAISession,x.chain(se.toStarted),x.fold(()=>"loading",e=>Object(w.pipe)(e.inProgressResult,x.fold(()=>"ready",()=>"waitingForResult")))),genAIAvailability:e.genAIAvailability,placeholder:(a=e,Object(w.pipe)(a.selectedAction,x.chain(e=>""!==e.args[0].label.trim()?x.some([e.args[0].label]):x.none),x.alt(()=>Object(w.pipe)(a.userPromptAction,x.map(e=>[e.arg.label]))))),text:e.textBox,autofocusToken:EC.create(`${n.kind}_${Object(w.pipe)(e.genAISession,x.chain(se.toStarted),x.chain(e=>e.inProgressResult),x.fold(()=>"done",()=>"inProgress"))}_${Object(w.pipe)(e.selectedAction,x.fold(()=>"no-selected-action",()=>"selected-action"))}_${e.promptAutofocusToken}_promptMenuOpen:${t}`)};var a}),o.a.distinctUntilChanged()))}function _C(e){return _.a.fromSideEffect(t=>e.notify(t),e.promptMenu.state.view(Object(w.flow)(x.map(e=>e.actions),AC)))}function xC(e){var t,n;return Object.assign(Object.assign({},e),{group:Object.assign(Object.assign({},e.group),{rank:null!==(t=Q.knownGroupRank[e.group.id])&&void 0!==t?t:e.group.rank,label:null!==(n=Q.knowGroupLabels[e.group.id])&&void 0!==n?n:e.group.label})})}function AC(e){return Object(w.pipe)(e,x.map(D.R(xC)),x.chain(D.y(e=>e.group.label.trim().length>0)),x.map(D.L(Q.ListableActionInput.ordByGroup)),x.fold(()=>({actionGroups:[]}),e=>({actionGroups:e.map(e=>({label:e[0].group.label,actions:Object(w.pipe)(e,D.R(e=>({action:nr.RegularAction.make(e),label:e.label,icon:e.iconUrl})))}))})))}function IC(e){return Object(w.pipe)(e,N.z(e=>{const{init:t,rest:n}=N.Vb(t=>Q.Group.Id.eq.equals(t.group.id,e[0].group.id))(e);return[t,n]}),N.ub(e=>M.a(x.Applicative)({groupId:Object(w.pipe)(e,N.ib,x.map(e=>e.group.id)),label:Object(w.pipe)(e,N.ib,x.map(e=>e.group.label)),view:x.some(Q.Store.View.normal),actions:Object(w.pipe)(e,N.ub(nr.RegularAction.make),D.F),withContext:x.some(!1)})),N.B,D.F,x.getOrElse(()=>[{label:e[0].group.label,groupId:e[0].group.id,view:Q.Store.View.normal,actions:[nr.RegularAction.make(e[0])],withContext:!1}]))}function TC(e){const t=e.promptMenu.state.view(Object(w.flow)(x.map(e=>e.actions),x.map(D.gb(Q.ListableActionInput.ordByGroup)),x.map(IC)));return _.a.composeOption(tC(e,t.pipe(o.b.compact)),()=>t)}function MC(e){return _.a.composeKnot({searchResults:eC(e,e.promptMenu.state.view(Object(w.flow)(x.map(e=>e.actions),x.map(D.R(nr.RegularAction.make)))),"standard"),customPromptGo:JS(e,o.a.of({kind:"go"}),"standard")})}function PC(e){return _.a.composeKnot({root:_.a.fromSideEffect(t=>e.notify(t),e.promptMenu.state.view(Object(w.flow)(x.map(e=>e.actions),NC))),goAction:_.a.composeOption(JS(e,o.a.of({kind:"go"}),"standard"),()=>e.assistant.state.pipe(o.a.map(e=>u.a.isUnavailable(e.genAIAvailability)?x.none:x.some(null))))})}function NC(e){return Object(w.pipe)(e,x.fold(()=>({actions:[]}),e=>({actions:e.map(e=>({action:nr.RegularAction.make(e),label:e.label,icon:e.iconUrl}))})))}function DC(e){return _.a.composeOption(_.a.composeKnot({root:_.a.fromSideEffect(t=>e.notify(t),o.a.of(null)),content:_.a.composeUnion({legacySearchResults:MC(e),legacyActionStore:TC(e),searchResults:PC(e),actionStore:_C(e),none:()=>o.a.of(null)},()=>c.a.combine(e.theme.theme.view("flatUI"),e.promptMenu.state,(e,t)=>Object(w.pipe)(t,x.map(({kind:t})=>e?{kind:t}:{kind:"actionStore"===t?"legacyActionStore":"legacySearchResults"}),x.getOrElse(()=>({kind:"none"})))))}),()=>e.promptMenu.state)}function BC(e){const t=c.a.combine(e.assistant.state.view("genAIAvailability"),e.promptMenu.state,(e,t)=>u.a.isUnavailable(e)&&x.isNone(t));return _.a.composeOption(function(e){return _.a.composeKnot({root:_.a.fromSideEffect(t=>e.notify(t),e.promptMenu.state.pipe(o.a.map(e=>({menuExpanded:x.isSome(e)})))),promptField:jC(e),promptStudioMenu:DC(e)})}(e),()=>t.view(Object(V.c)(x.none,x.some(null))))}function LC(e,t=c.a.create(!1)){return _.a.fromSideEffect(t=>e.notify(t.action.action),c.a.combine(e.assistant.state.view("genAISession"),e.assistant.state.view("genAIAvailability"),e.routing.activeView,e.theme.theme.view("flatUI"),t,(e,t,n,a,r)=>{if(x.isNone(e))return x.none;const i=e.value,o="started"!==i.kind||i.historyStatus!==se.HistoryStatus.hasHistory&&0===i.results.length?"disabled":i.historyStatus===se.HistoryStatus.historyRequested?"loading":"enabled",s="home"===n.kind&&!u.a.isUnavailable(t);return a?s&&!r?x.some({state:o,flatUI:!0}):x.none:"started"===i.kind&&s&&(i.historyStatus===se.HistoryStatus.hasHistory||i.historyStatus===se.HistoryStatus.historyRequested||i.results.length>0)?x.some({state:o,flatUI:!1}):x.none}))}!function(e){e.create=function(e){return null!=e?e:kC.newId()}}(EC||(EC={}));const FC=["quickAction","followUpQuestion","toneAction","writingExpertAction","plagiarismAction","skillAction"],RC={quickAction:new Set(FC.slice(1)),followUpQuestion:new Set(FC.slice(2)),toneAction:new Set(FC.slice(3)),writingExpertAction:new Set(FC.slice(4)),plagiarismAction:new Set(FC.slice(5)),skillAction:new Set(FC.slice(6))},HC=z.fromCompare((e,t)=>e.kind===t.kind?0:RC[e.kind].has(t.kind)?-1:1);function VC(e){return _.a.fromSideEffect(t=>e.notify(t),c.a.combine(e.promptActions.state,e.assistant.state.view("genAIAvailability"),e.assistant.state.view("genAISession"),({contextualActions:e,toneAction:t,plagiarismAction:n,skillActions:a},r,i)=>{const o=[t,n],s=Object(w.pipe)(e,x.fold(()=>[],e=>e.actions)),c=Object(w.pipe)(s.concat(Object(w.pipe)(o,N.B)).concat(a).map(nr.RegularAction.make),N.Tb(z.contramap(e=>e.action)(HC)));return{loading:Object(w.pipe)(e,x.fold(()=>{var e;return"starting"===(null===(e=x.toNullable(i))||void 0===e?void 0:e.kind)},e=>e.loading)),actions:c,hasMore:s.length>c.length,hasHistoryButton:!u.a.isUnavailable(r)}}))}function UC(e){return _.a.fromSideEffect(t=>e.notify(t),c.a.combine(e.promptActions.state,e.routing.activeView,e.lifecycle.size,e.assistant.state,Object(w.pipe)(e.revision,x.fold(()=>c.a.create(null).view(),e=>e.feedForm.state.view("feedForm"))),({contextualActions:t,toneAction:n,plagiarismAction:a,skillActions:r},i,o,{genAISession:s},c)=>{var l;const u="quickReply"===(null===(l=x.toNullable(s))||void 0===l?void 0:l.mode)||"longForm"===c&&!WC(x.isSome(e.revision),i,o)?3:2,d=Object(w.pipe)(t,x.fold(()=>[],e=>e.actions)),p=[n,a],m=Object(w.pipe)(d.concat(Object(w.pipe)(p,N.B)).concat(r).map(nr.RegularAction.make),N.Tb(z.contramap(e=>e.action)(HC))),f=Object(w.pipe)(m,N.Yb(u));return{loading:Object(w.pipe)(t,x.fold(()=>{var e;return"starting"===(null===(e=x.toNullable(s))||void 0===e?void 0:e.kind)},e=>e.loading)),maxActionsCount:u,actions:f,hasMore:m.length>f.length}}))}function WC(e,t,n){return!!(e&&"home"===t.kind&&n&&n.width<350&&n.height>600)}function zC(e){return _.a.composeUnion({none:()=>o.a.of(null),actionBar:GC(e),actionPanel:qC(e)},()=>function(e){return c.a.combine(e.routing.activeView,e.assistant.state.view("genAISession"),e.theme.theme.view("flatUI"),e.lifecycle.size,function(e){return Object(w.pipe)(e.revision,x.fold(()=>c.a.create(!0),t=>c.a.combine(XS(e),$S(t),WS(t),(e,t,n)=>"none"===e||"shortFormFeed"===e&&("emptyState"===t||"successState"===t)||"longFormFeed"===e&&("emptyState"===n||"successState"===n))))}(e),(t,n,a,r,i)=>{var o,s;if(!bt(t)||!a||"thread"===t.kind&&"starting"===(null===(o=x.toNullable(n))||void 0===o?void 0:o.kind))return"none";if("revision"===e.experience)return"actionBar";if(x.isSome(e.revision)&&"home"===t.kind)return"quickReply"===(null===(s=x.toNullable(n))||void 0===s?void 0:s.mode)||WC(x.isSome(e.revision),t,r)||i?"actionPanel":"actionBar";return Object(w.pipe)(n,x.chain(se.toStarted),x.chain(e=>e.inProgressResult),x.isSome)?"none":"actionPanel"})}(e).view(e=>({kind:e})))}function GC(e){return _.a.composeKnot({root:VC(e),header:_.a.fromSideEffect(t=>e.notify(t.action.action),c.a.combine(e.assistant.state.view("genAISession").view(x.chain(e=>e.selectedText)),e.promptActions.state.view("contextualActions"),(e,t)=>Object(w.pipe)(M.b(x.option)(e,t),x.filter(([e,t])=>"pending"===t.context.kind),x.map(([e])=>e),x.alt(()=>Object(w.pipe)(t,x.chain(e=>e.context.selection),x.map(e=>e.text))),x.map(e=>({selectedText:e}))))),historyButton:LC(e)})}function qC(e){return _.a.composeKnot({root:UC(e),header:KC(e),historyButton:LC(e)})}function KC(e){return _.a.fromSideEffect(t=>e.notify(t.action),c.a.combine(e.routing.activeView,e.promptActions.state.view("contextualActions"),e.assistant.state.view("genAISession").view(x.fold(()=>null,e=>e.mode)),e.textEditor.state.view("isEmpty"),(t=e.revision,Object(w.pipe)(t,x.fold(()=>c.a.create({allSuggestionsCount:0,someSuggestionsAddressed:!1,firstCheckingFinishedAndSduiEventsSettled:!0}).view(),e=>c.a.combine(e.checkingState.firstCheckingFinishedAndSduiEventsSettled,e.suggestionCount.state,(e,{allSuggestionsCount:t,someSuggestionsAddressed:n})=>({firstCheckingFinishedAndSduiEventsSettled:e,allSuggestionsCount:t,someSuggestionsAddressed:n}))))),(e,t,n,a,{allSuggestionsCount:r,someSuggestionsAddressed:i,firstCheckingFinishedAndSduiEventsSettled:o})=>bt(e)?Object(w.pipe)(t,x.map(({context:e})=>e),x.filter(e=>e.isBoundary&&x.isSome(e.textRevision)),x.chain(({selection:e})=>e),x.map(e=>e.text),x.fold(()=>"home"===e.kind&&(Object(w.pipe)(a,x.exists(w.identity))||0===r&&o||"quickReply"===n)?{kind:"title",title:$C(n,Object(w.pipe)(a,x.exists(w.identity)),r,i),subtitle:"Here are some ideas"}:{kind:"none"},e=>({kind:"selectionContext",selectedText:e}))):{kind:"none"}));var t}function $C(e,t,n,a){return"quickReply"===e?"How do you want to reply?":0===n&&a?"What do you want to do next?":t||0!==n||a?"How do you want to get started?":"What do you want to do?"}function ZC(e){return _.a.composeKnot({header:zC(e),fieldContainer:BC(e)})}function YC(e){return _.a.composeUnion({none:()=>o.a.of(null),skill:PS(e,!0),promptStudio:ZC(e)},()=>e.routing.activeView.view(e=>"skill"===e.kind?{kind:"skill"}:bt(e)||"followUpPrompt"===e.kind&&"string"===e.inputType?{kind:"promptStudio"}:{kind:"none"}))}function XC(e){return _.a.fromSideEffect(t=>{switch(t.kind){case"suggestionCountButtonClick":return e.routing.pop();default:Object(I.d)(t.kind)}},c.a.combine(e.assistant.state.view("genAISession").view(Object(w.flow)(x.chain(se.toStarted),x.chain(e=>e.inProgressResult),x.isSome)),function(e){return Object(w.pipe)(e.revision,x.fold(()=>c.a.create(x.none),e=>e.suggestionCount.state.view("allSuggestionsCount").view(x.some)))}(e),(e,t)=>Object(w.pipe)(t,x.getOrElse(()=>0),t=>({count:t,disabled:e,label:t>0?"Review "+Gr.f.pluralize(t,"suggestion","suggestions"):"Back to Home"}))))}function QC(e){return _.a.fromSideEffect(t=>e.notify(t.action.action),c.a.combine(e.routing.activeView.view("kind"),e.theme.theme.view("flatUI"),(t,n)=>x.isSome(e.settings)&&"settings"!==t?x.some({flatUI:n}):x.none))}function JC(e){return Object(w.pipe)(e,x.fold(()=>"",e=>Object(w.pipe)(we.toLegacyVoiceProfile(e),x.fold(()=>"My Voice",e=>Object(w.pipe)(x.fromNullable(e.styles.find(t=>we.Style.Id.eq.equals(t.id,e.selectedStyle))),x.fold(()=>"",e=>e.label))))))}function ew(e){return e.assistant.state.view("genAISession").view(e=>({styleLabel:JC(Object(w.pipe)(e,x.chain(se.toStarted),x.map(e=>e.voiceProfile)))}))}function tw(e){return()=>c.a.combine(e.routing.activeView,e.skill.state,Object(w.pipe)(e.toneDetector,x.fold(()=>c.a.create(x.none),e=>e.state.view(x.some))),e.theme.theme.view("flatUI"),(e,t,n,a)=>a?nw(e,t,n).label:x.none)}function nw(e,t,n){switch(e.kind){case"home":case"thread":case"error":case"followUpPrompt":case"signedOut":return{label:x.none,iconUrl:x.none};case"legacyVoiceProfile":case"voiceProfile":return{label:x.some("My voice"),iconUrl:x.none};case"feedbackForm":return{label:x.some("Share your thoughts"),iconUrl:x.none};case"skill":return{label:Object(w.pipe)(t,x.map(e=>e.skill.displayName)),iconUrl:Object(w.pipe)(t,x.map(e=>e.skill.iconUrl))};case"toneReport":return{label:Object(w.pipe)(n,x.filter(Et.isLoaded),x.chain(e=>e.brandToneInfo),x.chain(({institutionName:e})=>e),x.map(e=>e+" Tone Detector"),x.alt(()=>x.some("Tone insights"))),iconUrl:Object(w.pipe)(n,x.filter(Et.isLoaded),x.chain(e=>e.brandToneInfo),x.chain(e=>e.institutionLogo))};case"settings":return{label:x.some("Settings"),iconUrl:x.none};case"plagiarism":case"writingExpert":return{label:x.none,iconUrl:x.none};default:Object(I.d)(e)}}function aw(e){return _.a.fromSideEffect(t=>e.notify(t),c.a.combine(e.routing.activeView,e.skill.state,Object(w.pipe)(e.toneDetector,x.fold(()=>c.a.create(x.none),e=>e.state.view(x.some))),e.theme.theme.view("flatUI"),(e,t,n,a)=>Object(w.pipe)(nw(e,t,n),({label:t,iconUrl:n})=>({activeViewLabel:a?x.none:t,activeViewIconUrl:n,activeView:e}))))}function rw(e){return _.a.fromSideEffect(t=>e.notify(t),o.a.of(null))}function iw(e){const t=e.assistant.state.view(e=>Object(w.pipe)(e.genAIAvailability,x.fromPredicate(u.a.isActiveOrPassive),x.filter(()=>x.isSome(Object(w.pipe)(e.genAISession,x.chain(se.toStarted))))));return _.a.composeOption(function(e,t,n){return _.a.fromSideEffect(t=>e.notify(t),Object(w.pipe)(o.a.combineLatestStatic([t,n]),o.a.map(([e,t])=>({user:e,genAIAvailability:t}))))}(e,e.assistant.state.view("user").pipe(o.a.filter(me)),t.pipe(o.b.compact)),()=>c.a.combine(e.assistant.state.view("user"),t,e.routing.activeView.view("kind"),(e,t,n)=>Object(w.pipe)(t,x.filter(()=>me(e)&&"voiceProfile"!==n&&"legacyVoiceProfile"!==n&&"feedbackForm"!==n&&"skill"!==n&&"settings"!==n&&"toneReport"!==n))))}function ow(e){return()=>e.user.isGrammarlyInstitutionMember.view(e=>({version:e?x.some(at):x.none}))}function sw(e){return _.a.composeKnot({left:cw(e),right:_.a.composeKnot({historyButton:LC(e,e.theme.theme.view("flatUI")),credits:iw(e),voiceButton:dw(e),settingsButton:QC(e),closeButton:rw(e)}),pageTitle:tw(e)})}function cw(e){const t=c.a.combine(e.assistant.state.view("genAISession"),e.assistant.state.view("genAIAvailability"),e.routing.activeView,e.theme.theme.view("flatUI"),(t,n,a,r)=>Object(w.pipe)(t,x.chain(se.toStarted),x.fold(()=>yt(a)?"backButton":"logoOnly",()=>{if("error"===a.kind)return"logoOnly";if("signedOut"===a.kind)return"logoOnly";if("home"===a.kind||"thread"===a.kind){if("home"===a.kind)return x.isSome(e.revision)||r||u.a.isUnavailable(n)?"logoOnly":"logoAndVoiceButton";if("thread"===a.kind)return x.isSome(e.revision)?"suggestionCount":r||u.a.isUnavailable(n)?"logoOnly":"logoAndVoiceButton";Object(I.d)(a)}else{if("followUpPrompt"===a.kind)return r?"backButton":"backButtonAndVoiceButton";if(yt(a))return"backButton";Object(I.d)(a)}})));return _.a.composeUnion({logoOnly:ow(e),suggestionCount:_.a.composeKnot({button:XC(e)}),logoAndVoiceButton:uw(e),backButton:aw(e),backButtonAndVoiceButton:lw(e)},()=>t.pipe(o.a.startWith("logoOnly"),o.a.map(e=>({kind:e}))))}function lw(e){return _.a.fromSideEffect(t=>e.notify(t.action),c.a.combine(ew(e),e.routing.activeView,(e,t)=>({back:{activeViewIconUrl:x.none,activeViewLabel:x.none,activeView:t},voice:e})))}function uw(e){return _.a.fromSideEffect(t=>e.notify(t),ew(e).view(e=>Object.assign(Object.assign({},e),{kind:"logoAndVoiceButton"})))}function dw(e){return _.a.fromSideEffect(t=>e.notify(t.action.action),c.a.combine(e.assistant.state.view("user"),e.assistant.state.view("genAISession"),e.assistant.state.view("genAIAvailability"),e.routing.activeView,e.theme.theme.view("flatUI"),(t,n,a,r,i)=>Object(w.pipe)(n,x.chain(se.toStarted),x.map(e=>e.voiceProfile),x.filter(()=>me(t)&&!u.a.isUnavailable(a)&&(i||x.isSome(e.revision))&&bt(r)),x.map(e=>({styleLabel:JC(x.some(e)),flatUI:i})))))}function pw(e){return E.memo((function(){const t=E.useRef(mr(e));return E.useEffect(()=>()=>t.current.dispose()),E.createElement(E.Fragment,null,_.b.mount((n=t.current,_.b.Knot.make(_.b.Grid.make(({slots:e})=>E.createElement(Si.Provider,{value:{notifyUnmount:e=>n.notify(e)}},E.createElement(Pr.a.Provider,{value:n.theme.theme},e.assistant))),{assistant:mS})),function(e){return _.a.composeKnot({assistant:_.a.composeKnot({root:hS(e),content:wC(e),header:sw(e),footer:YC(e),notifications:fS(e),onboarding:(t=e.onboarding,_.a.fromSideEffect(e=>t.notify(e),t.onboardingStep.view(e=>({step:e}))))})});var t}(t.current)));var n}))}var mw,fw=n("XLv6"),hw=n("/9H4"),gw=n("vGXj"),bw=n("fjQv"),vw=function(e){return{monitoringService:bw.a.getInstance(),logger:p.d.Logging.getLogger("CheetahWeb.".concat(e),p.a.LogLevel.TRACE,p.a.LogColor.ViewModel.getColor("CheetahWeb"))}},yw=function(e){var t=e.alertService,n=e.sduiService,a=Object(gw.a)(e,["alertService","sduiService"]);return Object(I.f)(b.g.isSome(t),"AlertService is required for RevisionAssistant but was not provided"),Object(I.f)(b.g.isSome(n),"SDUIService is required for RevisionAssistant but was not provided"),Object(S.a)(Object(O.a)({},a),{alertService:b.g.unsafeGet(t),sduiService:b.g.unsafeGet(n)})},Ow=n("aZd8"),Sw=function e(t,n,a,r,i,l,g,y,E,j,_,x,A,T,M,P,N,D,B,L,F,R,H){var V,U=this;Object(m.a)(this,e),Object(f.a)(this,"_textEditorService",void 0),Object(f.a)(this,"_ded",void 0),Object(f.a)(this,"_navigation",void 0),Object(f.a)(this,"_navigationVM",void 0),Object(f.a)(this,"_userService",void 0),Object(f.a)(this,"_capiService",void 0),Object(f.a)(this,"_availabilityService",void 0),Object(f.a)(this,"_uphookService",void 0),Object(f.a)(this,"_feedbackService",void 0),Object(f.a)(this,"_userSurveyService",void 0),Object(f.a)(this,"_onboardingViewModelsFactory",void 0),Object(f.a)(this,"_lifecycleService",void 0),Object(f.a)(this,"_experimentService",void 0),Object(f.a)(this,"_telemetry",void 0),Object(f.a)(this,"_isDemoDocument",void 0),Object(f.a)(this,"_features",void 0),Object(f.a)(this,"_sessionModel",void 0),Object(f.a)(this,"_modalManager",void 0),Object(f.a)(this,"_selectionRange",void 0),Object(f.a)(this,"_usedDuringSession",void 0),Object(f.a)(this,"_selectionContextAvailabilityService",void 0),Object(f.a)(this,"_alertService",void 0),Object(f.a)(this,"_sduiService",void 0),Object(f.a)(this,"assistantUI",void 0),Object(f.a)(this,"ggoUI",void 0),Object(f.a)(this,"onboardingViewModels",void 0),Object(f.a)(this,"usedDuringSession",void 0),Object(f.a)(this,"_log",void 0),Object(f.a)(this,"_subs",void 0),Object(f.a)(this,"_assistantUIActions",void 0),Object(f.a)(this,"_selectionOnLensEnter",void 0),Object(f.a)(this,"_onboardingUIActions",void 0),Object(f.a)(this,"_isInSplitMode",void 0),Object(f.a)(this,"_genAISession",void 0),Object(f.a)(this,"_commonAssistantDependencies",void 0),Object(f.a)(this,"_disposed",void 0),Object(f.a)(this,"dispose",void 0),Object(f.a)(this,"_initUI",void 0),Object(f.a)(this,"_initOnboarding",void 0),Object(f.a)(this,"_manageGgo",void 0),Object(f.a)(this,"_manageAssistant",void 0),Object(f.a)(this,"_disposeAssistant",void 0),Object(f.a)(this,"_disposeGgo",void 0),Object(f.a)(this,"_getRevisionAssistantDependencies",void 0),Object(f.a)(this,"_getGenAIAssistantDependencies",void 0),Object(f.a)(this,"_getGenAIAndRevisionAssistantDependencies",void 0),Object(f.a)(this,"_createAssistant",void 0),Object(f.a)(this,"_createGgo",void 0),this._textEditorService=t,this._ded=n,this._navigation=a,this._navigationVM=r,this._userService=i,this._capiService=l,this._availabilityService=g,this._uphookService=y,this._feedbackService=E,this._userSurveyService=j,this._onboardingViewModelsFactory=_,this._lifecycleService=x,this._experimentService=A,this._telemetry=T,this._isDemoDocument=M,this._features=P,this._sessionModel=N,this._modalManager=D,this._selectionRange=B,this._usedDuringSession=L,this._selectionContextAvailabilityService=F,this._alertService=R,this._sduiService=H,this.assistantUI=c.a.create(b.g.none),this.ggoUI=c.a.create(b.g.none),this.onboardingViewModels=c.a.create(b.g.none),this.usedDuringSession=this._usedDuringSession.view(),this._log=p.d.Logging.getLogger("Cheetah.CheetahWebLifecycleManagerImpl"),this._subs=new d.a.Keeper,this._assistantUIActions=new o.a.Subject,this._selectionOnLensEnter=this._navigation.isActive.pipe(o.a.filter(Boolean),o.a.withLatestFrom(this._ded.selection),o.a.map(C.d)),this._onboardingUIActions=new o.a.Subject,this._isInSplitMode=Object(w.pipe)(this._features.oggy,b.g.forAll((function(e){return e===v.j.splitSharedAssistants}))),this._genAISession=c.a.create(b.g.none),this._commonAssistantDependencies={userService:this._userService,capiService:this._capiService,textEditorService:this._textEditorService,uphookService:this._uphookService,feedbackService:this._feedbackService,userSurveyService:this._userSurveyService,lifecycleService:this._lifecycleService,experimentService:this._experimentService,telemetry:this._telemetry,notifyAssistantUIAction:function(e){return U._assistantUIActions.next(e)},isRefreshLogo:this._features.refreshLogo,features:this._features},this._disposed=new o.a.Subject,this.dispose=function(){U._disposed.next(!0),U._disposeAssistant(),U._disposeGgo(),U._subs.dispose()},this._initUI=function(e){performance.mark(Ow.c);var t={mode:U._navigation.mode.get(),metadata:Object(w.pipe)(U._features.cheetahPromptsUsed,b.g.map((function(e){return{setPromptsUsed:e}})),b.g.toUndefined)};if(U._log.info("Init UI for ".concat(e)),"oggy"===e){var n=U._createAssistant(t);U.assistantUI.set(b.g.some(n)),U._log.info("Inited Oggy Assistant UI",n)}else if("ggo"===e){var a=U._createGgo(t);U.ggoUI.set(b.g.some(a)),U._log.info("Inited GGO Assistant UI",a)}},this._initOnboarding=function(){var e=U._sessionModel.defaultContext.pipe(o.a.map(b.g.chain((function(e){return e.writingIntent})))),t=U._availabilityService.availability.pipe(o.a.filter(u.a.isVisible),o.a.take(1)),n=U._modalManager.state.view(b.g.exists((function(e){return e.instance.type===hw.b.Tour})));!U._isDemoDocument&&U._features.cheetahOnboarding&&o.a.combineLatestStatic([t,e,n]).pipe(o.a.filter((function(e){var t=Object(h.a)(e,3),n=t[0],a=(t[1],t[2]);return u.a.isVisible(n)&&!a}))).subscribe((function(e){var t=Object(h.a)(e,2),n=(t[0],t[1]),a=U._onboardingViewModelsFactory({intent:n,disposed:U._disposed,assistantUIActions:U._assistantUIActions,onboardingUIActions:U._onboardingUIActions,cheetahButton:U._navigation.cheetahButton,genAiSession:U._genAISession});U._subs.push(Object(w.pipe)(a.onboarding.uiActions,o.a.filter(k.a.is(k.a.Kind.tryItOut)),o.a.tap((function(){return U._navigation.toCheetahLens(!1,!1)}))).subscribe()),U._subs.push(a.onboarding),U.onboardingViewModels.set(b.g.some(a))}))},this._manageGgo=function(){return U._subs.push(U._navigation.isActive.pipe(o.a.pairwise(),o.a.tap((function(e){var t=Object(h.a)(e,2),n=t[0],a=t[1];!1===n&&!0===a?U._initUI("ggo"):!0===n&&!1===a&&U._disposeGgo()}))).subscribe())},this._manageAssistant=function(){return U._subs.push(U._navigationVM.state.view("isSidebarOpen").pipe(o.a.tap((function(e){return e?U._initUI("oggy"):U._disposeAssistant()}))).subscribe())},this._disposeAssistant=function(){U._log.info("Disposing Assistant..."),U.assistantUI.set(b.g.none)},this._disposeGgo=function(){U._log.info("Disposing GGO..."),U.ggoUI.set(b.g.none)},this._getRevisionAssistantDependencies=(V=Object(S.a)(Object(O.a)({},this._commonAssistantDependencies),{alertService:this._alertService,sduiService:this._sduiService}),function(){return Object(S.a)(Object(O.a)({kind:"revision"},yw(V),vw("RevisionAssistant")),{theme:c.a.create({flatUI:!0,newLogo:V.isRefreshLogo}),isPlagiarismEnabled:!0,isWritingExpertEnabled:V.features.writingExpertPullMode,trackingService:{feedSuccessStateShow:function(){}}})}),this._getGenAIAssistantDependencies=function(e){var t=e.useFlatUI,n=Object(gw.a)(e,["useFlatUI"]);return function(e){return Object(S.a)(Object(O.a)({kind:"genAI"},n,vw("GenAIAssistant")),{genAIStartSessionOptions:e,theme:c.a.create({flatUI:t,newLogo:n.isRefreshLogo}),trackingService:{feedSuccessStateShow:function(){}}})}}(Object(S.a)(Object(O.a)({},this._commonAssistantDependencies),{genAIAvailabilityService:this._availabilityService,selectionContextAvailabilityService:this._selectionContextAvailabilityService,lifecycleService:Object(S.a)(Object(O.a)({},this._lifecycleService),{sizeBehavior:fw.a.fitContent(document.documentElement)}),notifyGenAISessionStateChanged:function(e){return U._genAISession.set(e)},useFlatUI:this._features.flatUI})),this._getGenAIAndRevisionAssistantDependencies=function(e){return function(t){return Object(S.a)(Object(O.a)({kind:"genAIAndRevision"},yw(e),vw("GenAIAndRevisionAssistant")),{genAIStartSessionOptions:t,theme:c.a.create({newLogo:e.isRefreshLogo}),isPlagiarismEnabled:!0,isWritingExpertEnabled:e.features.writingExpertPullMode,trackingService:{feedSuccessStateShow:function(){}}})}}(Object(S.a)(Object(O.a)({},this._commonAssistantDependencies),{alertService:this._alertService,sduiService:this._sduiService,genAIAvailabilityService:this._availabilityService,selectionContextAvailabilityService:this._selectionContextAvailabilityService,notifyGenAISessionStateChanged:function(e){return U._genAISession.set(e)}})),this._createAssistant=Object(w.flow)(this._isInSplitMode?this._getRevisionAssistantDependencies:this._getGenAIAndRevisionAssistantDependencies,pw),this._createGgo=Object(w.flow)(this._getGenAIAssistantDependencies,pw),this._isInSplitMode?this._subs.push(this._ded.dontFreezeWhen(this._navigation.isActive,"cheetah-lens")):this._subs.push(this._assistantUIActions.pipe(o.a.filter((function(e){return"promptFieldFocusChange"===e.kind&&e.focused})),o.a.take(1),o.a.tap((function(){return U._ded.restoreFocus()}))).subscribe()),this._subs.push(this._selectionOnLensEnter.pipe(s.b.Scheduler.inRaf).subscribe((function(e){return U._ded.setCursor(e.index,e.length,"api")})),this._ded.selection.subscribe((function(e){U._selectionRange.set(b.g.some({start:e.index,end:e.index+e.length,meta:void 0}))}))),Object(w.pipe)(this._features.oggy,b.g.fold((function(){return U._manageGgo()}),(function(e){switch(e){case v.j.splitSharedAssistants:return U._manageAssistant(),U._manageGgo();case v.j.mergedSharedAssistant:return U._manageAssistant();default:Object(I.c)(e)}}))),this._initOnboarding()},Cw=n("L6Sa");function ww(e,t,n,a,r=1e3){return e.pipe(o.a.filter(k.a.is(k.a.Kind.mount)),o.a.filter(e=>n(e.step)),o.a.switchMap(({step:e})=>t.pipe(o.a.map(b.g.contains(e)),o.a.switchMap(e=>e?a.pipe(o.a.mapTo(Date.now())):o.a.EMPTY),o.a.filter(e=>Date.now()-e>=r),o.a.mapTo(e))))}!function(e){e.completeInitialOrRewriteStepOnSessionInit=({session:e,stepsSeenOnThisSession:t})=>e.pipe(o.a.startWith(b.g.none),o.a.pairwise(),o.a.map(([e,t])=>b.g.isNone(e)&&b.g.isSome(t)?b.g.some(t):b.g.none),o.b.compact,o.a.withLatestFrom(t),o.a.switchMap(([e,t])=>Object(w.pipe)([t.has(Cw.a.StepName.initial)?b.g.some(Cw.a.StepName.initial):b.g.none,t.has(Cw.a.StepName.initialBTS)?b.g.some(Cw.a.StepName.initialBTS):b.g.none,Z.isRewriteOrQuickRewrite(e.value.mode)?b.g.some(Cw.a.StepName.rewrite):b.g.none],N.B))),e.completeReviewStepOnSecondResultReceived=({session:e,activeStep:t})=>e.pipe(o.a.map(Object(w.flow)(b.g.filter(e=>"started"===e.kind),b.g.fold(()=>0,e=>e.resultCount))),o.a.pairwise(),o.a.filter(([e,t])=>1===e&&2===t),o.a.withLatestFrom(t),o.a.map(([e,t])=>Object(w.pipe)(t,b.g.filter(e=>e===Cw.a.StepName.review))),o.b.compact),e.completeActiveAssistantStepOnSessionEnd=({session:e,activeStep:t,visibleForMs:n,onboardingUIActions:a})=>ww(a,t.pipe(o.a.observeOn(o.a.asapScheduler)),Cw.a.StepName.isAssistantOnboardingStep,e.pipe(o.a.pairwise(),o.a.filter(([e,t])=>b.g.isSome(e)&&b.g.isNone(t))),n),e.completeStepOnCloseClick=({onboardingUIActions:e,trackingService:t})=>e.pipe(o.a.filter(k.a.is(k.a.Kind.close)),o.a.map(e=>(e.step===Cw.a.StepName.initial&&t.trackOnboardingPopupSkip(),e.step===Cw.a.StepName.initialBTS&&t.trackBTSOnboardingPopupSkip(),e.step))),e.completeInitialStepOnTryItOutClick=({onboardingUIActions:e,trackingService:t})=>e.pipe(o.a.filter(k.a.is(k.a.Kind.tryItOut)),o.a.map(e=>(e.step===Cw.a.StepName.initial&&t.trackOnboardingPopupNext(),e.step===Cw.a.StepName.initialBTS&&t.trackBTSOnboardingPopupNext(),e.step))),e.completeReviewStepOnResultInteraction=({assistantUIActions:e})=>e.pipe(o.a.filter(dt.a.isResultAction),o.a.filter(e=>ce.a.isStandardCompletedResult(e.result)),o.a.map(()=>Cw.a.StepName.review)),e.completeHistoryStepOnHistoryRestore=({assistantUIActions:e})=>e.pipe(o.a.filter(dt.a.is(dt.a.Kind.restoreHistoryButtonClick)),o.a.map(()=>Cw.a.StepName.history)),e.completeAssistantStepsOnUserActions=({assistantUIActions:e,activeStep:t})=>e.pipe(o.a.filter(Object(V.p)(dt.a.is(dt.a.Kind.actionBrickClick),dt.a.is(dt.a.Kind.promptSubmitButtonClick),dt.a.is(dt.a.Kind.promptFieldKeyPressEnter),dt.a.is(dt.a.Kind.headerVoiceButtonClick),dt.a.is(dt.a.Kind.setVoiceButtonClick),dt.a.is(dt.a.Kind.openFeedbackFormButtonClick))),o.a.withLatestFrom(t),o.a.map(([e,t])=>Object(w.pipe)(t,b.g.filter(Cw.a.StepName.isAssistantOnboardingStep))),o.b.compact),e.completeInitialStepOnDispose=({onboardingUIActions:e,activeStep:t,disposed:n,visibleForMs:a})=>ww(e,t,e=>e===Cw.a.StepName.initial||e===Cw.a.StepName.initialBTS,n,a);const t=e=>t=>n=>t(n).pipe(o.a.tap(t=>{var a;return null===(a=n.logger)||void 0===a?void 0:a.debug(`${e} - step to complete: ${t}`)}));function n(e){return e.pipe(o.a.scan((e,t)=>({seen:new Set(e.seen).add(t),step:e.seen.has(t)?b.g.none:b.g.some(t)}),{seen:new Set,step:b.g.none}),o.a.map(e=>e.step),o.b.compact)}e.defaultCompletionSources=[t("session init")(e.completeInitialOrRewriteStepOnSessionInit),t("second result received")(e.completeReviewStepOnSecondResultReceived),t("session end")(e.completeActiveAssistantStepOnSessionEnd),t("user closed step")(e.completeStepOnCloseClick),t("user clicked try-it-out")(e.completeInitialStepOnTryItOutClick),t("user interacted with results")(e.completeReviewStepOnResultInteraction),t("user interacted with assistant")(e.completeAssistantStepsOnUserActions),t("user restored history")(e.completeHistoryStepOnHistoryRestore),t("feature disposed")(e.completeInitialStepOnDispose)],e.extractStepsToComplete=function(e,t){return o.a.mergeStatic(...e.map(e=>e(t))).pipe(n)}}(mw||(mw={}));class kw{constructor(e,t=new i.a(kw.name)){this._capiService=e,this._logger=t}trackOnboardingPopupView(){this._logger.debug("trackOnboardingPopupView()"),this._trackUxInteraction({kind:"onboardingPopup",userAction:ot.Onboarding.UserAction.view})}trackOnboardingPopupSkip(){this._logger.debug("trackOnboardingPopupSkip()"),this._trackUxInteraction({kind:"onboardingPopup",userAction:ot.Onboarding.UserAction.skip})}trackOnboardingPopupNext(){this._logger.debug("trackOnboardingPopupNext()"),this._trackUxInteraction({kind:"onboardingPopup",userAction:ot.Onboarding.UserAction.next})}trackBTSOnboardingPopupView(){this._logger.debug("trackBTSOnboardingPopupView()"),this._trackUxInteraction({kind:"BTSonboardingPopup",userAction:ot.Onboarding.UserAction.view})}trackBTSOnboardingPopupSkip(){this._logger.debug("trackBTSOnboardingPopupSkip()"),this._trackUxInteraction({kind:"BTSonboardingPopup",userAction:ot.Onboarding.UserAction.skip})}trackBTSOnboardingPopupNext(){this._logger.debug("trackBTSOnboardingPopupNext()"),this._trackUxInteraction({kind:"BTSonboardingPopup",userAction:ot.Onboarding.UserAction.next})}trackOnboardingPromptsTooltipView(){this._logger.debug("trackOnboardingPromptsTooltipView()"),this._trackUxInteraction({kind:"onboardingPromptsTooltip",userAction:ot.Onboarding.UserAction.view})}trackOnboardingReviewTooltipView(){this._logger.debug("trackOnboardingReviewTooltipView()"),this._trackUxInteraction({kind:"onboardingReviewTooltip",userAction:ot.Onboarding.UserAction.view})}trackOnboardingRewriteTooltipView(){this._logger.debug("trackOnboardingRewriteTooltipView()"),this._trackUxInteraction({kind:"onboardingRewriteTooltip",userAction:ot.Onboarding.UserAction.view})}trackOnboardingKnowledgeHubTooltipView(){this._logger.debug("trackOnboardingRewriteTooltipView()"),this._trackUxInteraction({kind:"onboardingKnowledgeHubTooltip",userAction:ot.Onboarding.UserAction.view})}trackOnboardingReferencesTooltipView(){this._logger.debug("trackOnboardingReferencesTooltipView()"),this._trackUxInteraction({kind:"onboardingReferencesTooltip",userAction:ot.Onboarding.UserAction.view})}trackOnboardingHistoryTooltipView(){this._logger.debug("trackOnboardingHistoryTooltipView()"),this._trackUxInteraction({kind:"onboardingHistoryTooltip",userAction:ot.Onboarding.UserAction.view})}_trackUxInteraction(e,t,n,a={}){const r=ot.getComponentId(e,t,n,a),i=ot.getUserAction(e);this._logger.debug("_trackUxInteraction() - sending `user_action` to CAPI",{componentId:r,userAction:i,uxInteraction:e,contextId:t}),Object(Oe.b)("sendUserAction",this._capiService.user_action({componentId:r,userAction:i}),this._logger)}}var Ew=n("GHef"),jw=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};class _w extends Ew.b{constructor(e,t){super(e),this._onDispose=t}dispose(){super.dispose(),this._onDispose()}}function xw(e){var{assistantUIActions:t,capiService:n,completeOnboardingStep:a,stepCompletionSources:r,disposed:i,theme:s,logger:l}=e,u=jw(e,["assistantUIActions","capiService","completeOnboardingStep","stepCompletionSources","disposed","theme","logger"]);const d=new ut.a,p=new kw(n,l),m=new _w(Object.assign(Object.assign({},u),{assistantMountActions:t.pipe(o.a.filter(dt.a.is(dt.a.Kind.mount))),assistantUnmountActions:t.pipe(o.a.filter(dt.a.is(dt.a.Kind.unmount)))}),()=>d.unsubscribe());return d.add(mw.extractStepsToComplete(null!=r?r:mw.defaultCompletionSources,{onboardingUIActions:m.uiActions,assistantUIActions:t,activeStep:m.activeStep.view(x.map(e=>e.name)),stepsSeenOnThisSession:m.stepsSeenOnThisSession,session:u.session,trackingService:p,disposed:i,logger:l}).subscribe(e=>{a(e)})),d.add(function(e,t){return e.pipe(o.a.filter(k.a.is(k.a.Kind.mount)),o.a.tap(e=>{switch(e.step){case Cw.a.StepName.initial:return t.trackOnboardingPopupView();case Cw.a.StepName.initialBTS:return t.trackBTSOnboardingPopupView();case Cw.a.StepName.prompts:return t.trackOnboardingPromptsTooltipView();case Cw.a.StepName.review:return t.trackOnboardingReviewTooltipView();case Cw.a.StepName.rewrite:return t.trackOnboardingRewriteTooltipView();case Cw.a.StepName.knowledgeHub:return t.trackOnboardingKnowledgeHubTooltipView();case Cw.a.StepName.references:return t.trackOnboardingReferencesTooltipView();case Cw.a.StepName.history:return t.trackOnboardingHistoryTooltipView();default:return Object(I.d)(e.step)}}))}(m.uiActions,p).subscribe()),{onboarding:m,theme:new dr(null!=s?s:c.a.create(T.a))}}function Aw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return o.a.mergeStatic(s.a.windowResize.pipe(o.a.throttleTime(e/2),o.a.mapTo(!0)),s.a.windowResize.pipe(o.a.debounceTime(e),o.a.mapTo(!1))).pipe(o.a.distinctUntilChanged())}var Iw,Tw,Mw=n("Jr5U");(Iw||(Iw={})).create=(Tw=Object(a.a)((function(e){var t,n,a,s,m,h,g,v,O,S,C,k,E,j,_,x,A,I,T,M,P,N,D,B,L,F,R,V,U,W,z,G,q,K;return Object(r.c)(this,(function(r){switch(r.label){case 0:return t=e.capi,n=e.sessionModel,a=e.denaliEditorModel,s=e.navigation,m=e.navigationVM,h=e.userAccount,g=e.dialect,v=e.isDemoDocument,O=e.availabilityService,S=e.telemetry,C=e.inlineManager,k=e.capiService,E=e.config,j=e.modalManager,_=e.lifecycleService,x=e.textEditorService,A=e.uphookService,I=e.experimentService,T=e.alertService,M=e.sduiService,P=e.selectionRange,N=e.usedDuringSession,D=p.d.Logging.getLogger("Cheetah.CheetahViewModel"),i.a.configureAllLoggers({env:E.env}),D.info("Creating CheetahViewModel"),B=new d.a.Keeper,L=Object(Mw.g)(h,g),F=h.features.denali.showOnboardingTourA11yUpdates,R=Object(Mw.c)(S),V=Object(Mw.h)(k),U=c.a.create({contextUpdatesClient:h.features.denali.selectionContextUpdatesClient,contextUpdatesServer:h.features.denali.selectionContextUpdatesServer}),W=new l(U),[4,_];case 1:return z=r.sent(),G=new Sw(x,a,s,m,L,k,O,A,R,V,($={capi:t,settings:h.settings,availabilityService:O,features:h.features.denali,capiService:k},function(e){var t=new Set;return $.features.cheetahOrgContextEnabled||t.add(Cw.a.StepName.knowledgeHub),$.features.cheetahBTSOnboardingEnabled&&b.g.contains("ASSIGNMENT_WRITING")(e.intent)||t.add(Cw.a.StepName.initialBTS),xw({client:"editor",logger:p.d.Logging.getLogger("CheetahOnboarding"),textStats:$.capi.events.pipe(o.a.filter(H.a.CAPIEvent.is("text_info")),o.a.map((function(e){return b.g.some({wordCount:e.data.wordsCount})})),o.a.startWith(b.g.none)),capiService:$.capiService,upstreamOnboardingState:$.settings.cheetahOnboardingState,completeOnboardingStep:function(e){$.settings.cheetahOnboardingState.get()[e].editor.completed||$.settings.updateCheetahOnboardingState(Object(f.a)({},e,{completed:!0,lastSeen:Date.now()}))},session:e.genAiSession,assistantUIActions:e.assistantUIActions,forceDisabledOnboardingSteps:t,externalElements:e.cheetahButton.pipe(o.a.map((function(e){return Object(w.pipe)(e,b.g.fromNullable,b.g.fold((function(){return{}}),(function(e){var t;return t={},Object(f.a)(t,ft.b.initialPopupAnchor,{reference:e,placement:"left",offset:8,boundaryAreaPadding:10}),Object(f.a)(t,ft.b.initialBTSPopupAnchor,{reference:e,placement:"left",offset:8,boundaryAreaPadding:10}),t})))}))),disposed:e.disposed,promptsAllocated:$.availabilityService.availability.view(Object(w.flow)(b.g.fromPredicate(u.a.isActiveOrPassive),b.g.map(Gr.e.pick("promptsAllocated")))),hideAssistantOnboardingTooltips:Aw()})}),z,I,S,v,h.features.denali,n,j,P,N,W,T,M),q=new y(a,h.features.denali,C),K=function(){D.info("Disposing CheetahViewModel"),G.dispose(),q.dispose(),B.dispose()},[2,{assistantUI:G.assistantUI,ggoUI:G.ggoUI,onboardingViewModels:G.onboardingViewModels,inlineViewModel:q,usedDuringSession:G.usedDuringSession,navigation:s,isInOnboardingTourA11yExperiment:F,oggyMode:h.features.denali.oggy,lifecycleService:z,isGenAiAvailable:O.availability.view(u.a.isVisible),dispose:K,acquireFocusWhen:function(e){return a.dontFreezeWhen(e,"Cheetah View")}}]}var $}))})),function(e){return Tw.apply(this,arguments)})},"7CTu":function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return k}));var a=n("Vv+i"),r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("4mQT"),c=n("8O/t"),l=n("X76w"),u=n("t5lx"),d=n("B8yO"),p=n("DTwm"),m=n("OwvP"),f=n("4GyQ"),h=n("fC5a"),g=n("ySi0"),b=n("xk6L"),v=n("0kuo"),y=n("mgiE"),O=n("5ioF"),S=n("fn2K"),C=(n("g0wJ"),n("LvjW")),w=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),e=t.apply(this,arguments),Object(o.a)(Object(a.a)(e),"_title",void 0),Object(o.a)(Object(a.a)(e),"_subs",[]),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._title&&(this._title.focus(),this._subs.push(this.props.searchViewModel.hotkeysActions.subscribe((function(t){switch(t){case S.a.focus:e._title&&(e._title.focus(),e._title.select());break;case S.a.next:e._resultFunctionOrSelect((function(e){return e.next()}));break;case S.a.previous:e._resultFunctionOrSelect((function(e){return e.prev()}));break;default:Object(v.c)(t)}})),this.props.searchViewModel.visible.pipe(b.a.filter(Boolean)).subscribe((function(){requestAnimationFrame((function(){e._title&&(e._title.focus(),e._title.select())}))}))))}},{key:"componentWillUnmount",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]}},{key:"_resultFunctionOrSelect",value:function(e){Object(p.pipe)(this.props.searchViewModel.result.get(),y.g.fold(this.props.searchViewModel.select,e))}},{key:"render",value:function(){var e=this,t=this.props.searchViewModel;return d.createElement("div",{className:C.view},d.createElement(m.a.div,{className:C.searchInputWrapper},d.createElement(g.d.SearchQuestion,{className:C.searchIcon}),d.createElement(m.a.input,Object(l.a)(Object(c.a)({name:S.b.SEARCH_INPUT_NAME,spellCheck:!1,mount:function(t){return e._title=t},placeholder:"Find in document",className:C.searchInput,autoFocus:!0},Object(f.b)({value:t.term})),{onKeyDown:function(t){return t.keyCode===O.a.ENTER_CODE&&e._resultFunctionOrSelect((function(e){return e.next()}))}})),t.result.view(y.g.getOrElse((function(){return{count:0,current:0}}))).view((function(e){var t=e.count,n=e.current;return t>0&&d.createElement("span",{className:C.counter,key:"count"},n,"/",t)}))),d.createElement(h.a.Ghost,{className:C.roundButton,name:"search-prev",disabled:t.result.view(y.g.forAll((function(e){return 1===e.current}))),onClick:function(){return e._resultFunctionOrSelect((function(e){return e.prev()}))}},d.createElement(g.d.Arrow,{className:C.lessIconUp})),d.createElement(h.a.Ghost,{className:C.roundButton,name:"search-next",disabled:t.result.view(y.g.forAll((function(e){return e.current===e.count}))),onClick:function(){return e._resultFunctionOrSelect((function(e){return e.next()}))}},d.createElement(g.d.Arrow,{className:C.lessIcon})),d.createElement(h.a.Ghost,{className:C.closeButton,name:"search-close",onClick:function(){return t.visible.set(!1)}},d.createElement(g.d.Close,null)))}}]),n}(d.Component),k=function(e){var t=e.searchViewModel;return d.createElement(m.a.div,{className:C.wrapper},t.visible.view((function(e){return e&&d.createElement(w,{searchViewModel:t})})))}},"7Cqk":function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return O}));var a=n("8O/t"),r=n("X76w"),i=n("2swC"),o=n("nWMp"),s=n("PltQ"),c=n("NbNH");const l={position:"relative",borderRadius:o.a.rem(c.s),background:i.a.CoreNeutral0,boxShadow:`0 ${o.a.rem(.625)} ${o.a.rem(c.a)} 0 rgba(198, 203, 222, .45)`},u={$nest:{"&:before":{position:"absolute",width:o.a.px(10),height:o.a.px(10),borderRadius:o.a.percent(50),content:"''",transform:"scale(.5)"}}},d={$nest:{"&:before":{backgroundColor:s.c}}},p={$nest:{"&:before":{backgroundColor:s.l}}},m={$nest:{"&:before":{backgroundColor:i.a.CoreRed50}}},f={$nest:{"&:before":{backgroundColor:i.a.CoreBlue50}}},h={$nest:{"&:before":{backgroundColor:i.a.CoreGreen50}}},g={$nest:{"&:before":{backgroundColor:i.a.CorePurple50}}},b={$nest:{"&:before":{backgroundColor:i.a.CoreNeutral50}}},v={$nest:{"&:before":{backgroundColor:i.a.CoreNeutral50}}},y={fullCardSelector:"fullCard",bundleInnerContainerSelector:"bundleInnerContainer",bundleFakeCard1Selector:"bundleFakeCard1",bundleFakeCard2Selector:"bundleFakeCard2",alignButtonHiddenSelector:"alignButtonHidden",cozyCardContainerSelector:"cozyCardContainer",successWrapperSelector:"successWrapper"},O=Object(r.a)(Object(a.a)({},o.a.stylesheet({dot:[u],dotAdvanced:[p],dotCritical:[d],dotCorrectness:[m],dotClarity:[f],dotEngagement:[h],dotDelivery:[g],dotVox:[b],knowledgeHub:[v]})),{fullCard:o.a.joinClasses([y.fullCardSelector,o.a.style(l)])})},"7LqD":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n("B8yO"),r=n("XGPX"),i=n("tREI");class o extends Set{constructor(e,t,n){super(e),e instanceof o?(this.anchorKey=t||e.anchorKey,this.currentKey=n||e.currentKey):(this.anchorKey=t,this.currentKey=n)}}function s(e){let{selectionMode:t="none",disallowEmptySelection:n,allowDuplicateSelectionEvents:i,selectionBehavior:s="toggle",disabledBehavior:l="all"}=e,u=(0,a.useRef)(!1),[,d]=(0,a.useState)(!1),p=(0,a.useRef)(null),m=(0,a.useRef)(null),[,f]=(0,a.useState)(null),h=(0,a.useMemo)(()=>c(e.selectedKeys),[e.selectedKeys]),g=(0,a.useMemo)(()=>c(e.defaultSelectedKeys,new o),[e.defaultSelectedKeys]),[b,v]=(0,r.b)(h,g,e.onSelectionChange),y=(0,a.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),[O,S]=(0,a.useState)(s);"replace"===s&&"toggle"===O&&"object"==typeof b&&0===b.size&&S("replace");let C=(0,a.useRef)(s);return(0,a.useEffect)(()=>{s!==C.current&&(S(s),C.current=s)},[s]),{selectionMode:t,disallowEmptySelection:n,selectionBehavior:O,setSelectionBehavior:S,get isFocused(){return u.current},setFocused(e){u.current=e,d(e)},get focusedKey(){return p.current},get childFocusStrategy(){return m.current},setFocusedKey(e,t="first"){p.current=e,m.current=t,f(e)},selectedKeys:b,setSelectedKeys(e){!i&&function(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}(e,b)||v(e)},disabledKeys:y,disabledBehavior:l}}function c(e,t){return e?"all"===e?"all":new o(e):t}class l{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(null==e||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return"all"===this.state.selectedKeys?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){return"none"!==this.state.selectionMode&&(e=this.getKey(e),"all"===this.state.selectedKeys?this.canSelectItem(e):this.state.selectedKeys.has(e))}get isEmpty(){return"all"!==this.state.selectedKeys&&0===this.state.selectedKeys.size}get isSelectAll(){if(this.isEmpty)return!1;if("all"===this.state.selectedKeys)return!0;if(null!=this._isSelectAll)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(e=>t.has(e)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let n=this.collection.getItem(t);(!e||n&&(0,i.c)(this.collection,n,e)<0)&&(e=n)}return null==e?void 0:e.key}get lastSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let n=this.collection.getItem(t);(!e||n&&(0,i.c)(this.collection,n,e)>0)&&(e=n)}return null==e?void 0:e.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode)return void this.replaceSelection(e);let t;if(e=this.getKey(e),"all"===this.state.selectedKeys)t=new o([e],e,e);else{let n=this.state.selectedKeys,a=n.anchorKey||e;t=new o(n,a,e);for(let r of this.getKeyRange(a,n.currentKey||e))t.delete(r);for(let n of this.getKeyRange(e,a))this.canSelectItem(n)&&t.add(n)}this.state.setSelectedKeys(t)}getKeyRange(e,t){let n=this.collection.getItem(e),a=this.collection.getItem(t);return n&&a?(0,i.c)(this.collection,n,a)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){let n=[],a=e;for(;a;){let e=this.collection.getItem(a);if((e&&"item"===e.type||"cell"===e.type&&this.allowsCellSelection)&&n.push(a),a===t)return n;a=this.collection.getKeyAfter(a)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t)return e;if("cell"===t.type&&this.allowsCellSelection)return e;for(;"item"!==t.type&&null!=t.parentKey;)t=this.collection.getItem(t.parentKey);return t&&"item"===t.type?t.key:null}toggleSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode&&!this.isSelected(e))return void this.replaceSelection(e);if(null==(e=this.getKey(e)))return;let t=new o("all"===this.state.selectedKeys?this.getSelectAllKeys():this.state.selectedKeys);t.has(e)?t.delete(e):this.canSelectItem(e)&&(t.add(e),t.anchorKey=e,t.currentKey=e),this.disallowEmptySelection&&0===t.size||this.state.setSelectedKeys(t)}replaceSelection(e){if("none"===this.selectionMode)return;if(null==(e=this.getKey(e)))return;let t=this.canSelectItem(e)?new o([e],e,e):new o;this.state.setSelectedKeys(t)}setSelectedKeys(e){if("none"===this.selectionMode)return;let t=new o;for(let n of e)if(n=this.getKey(n),null!=n&&(t.add(n),"single"===this.selectionMode))break;this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=n=>{for(;n;){if(this.canSelectItem(n)){let a=this.collection.getItem(n);"item"===a.type&&e.push(n),a.hasChildNodes&&(this.allowsCellSelection||"item"!==a.type)&&t((0,i.e)((0,i.d)(a,this.collection)).key)}n=this.collection.getKeyAfter(n)}};return t(this.collection.getFirstKey()),e}selectAll(){this.isSelectAll||"multiple"!==this.selectionMode||this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&("all"===this.state.selectedKeys||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new o)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){"none"!==this.selectionMode&&("single"===this.selectionMode?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):"toggle"===this.selectionBehavior||t&&("touch"===t.pointerType||"virtual"===t.pointerType)?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;for(let n of t)if(!e.has(n))return!1;return!0}canSelectItem(e){if("none"===this.state.selectionMode||this.state.disabledKeys.has(e))return!1;let t=this.collection.getItem(e);return!(!t||"cell"===t.type&&!this.allowsCellSelection)}isDisabled(e){return this.state.disabledKeys.has(e)&&"all"===this.state.disabledBehavior}constructor(e,t,n){var a;this.collection=e,this.state=t,this.allowsCellSelection=null!==(a=null==n?void 0:n.allowsCellSelection)&&void 0!==a&&a,this._isSelectAll=null}}},"7Pyj":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=1.7},"7XqD":function(e,t,n){e.exports=n.p+"files/70f84e39477b8c33dbc1900a4bacb20f/inter-medium.woff"},"7pft":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("B8yO"),r=n("OwvP"),i=n("4GyQ"),o=n("fC5a"),s=n("L8Yl"),c=n("sX1a"),l=n("D2TP"),u=n("nWMp"),d=n("Lsxp"),p=function(e){var t=e.onClick,n=e.isActive,p=e.className;return a.createElement(r.a.div,Object(i.c)(m.allAlertsBtnContainer,p),a.createElement(o.a,{id:l.a.SpecialId.AllAlerts,name:"lens-all-alerts",styleType:c.Typography.Type.Base,tag:s.b.div,className:u.a.joinClasses([m.allAlertsBtn,d.a.outcomeBtn,m.paddings,d.a.outcomeBtnBorders]),active:n,onClick:t},l.a.Info.allAlerts.title))},m=u.a.prefixedStylesheet("allAsuggestionsBtn",{allAlertsBtnContainer:[{position:"relative"}],allAlertsBtn:[{marginBottom:u.a.important(0)}],paddings:[{padding:u.a.important("".concat(u.a.rem(.5)," ").concat(u.a.rem(.75)))}]})},"80m+":function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return W}));var a,r,i,o=n("cZKX"),s=n("IMGo"),c=n("DTwm"),l=n("+vYo"),u=n("mgiE"),d=n("wqt/"),p=n("K40b"),m=n("RRF2"),f=n("0kuo"),h=n("TKPA"),g=n("M3t0"),b=n("f38j"),v=n("aSrO"),y=n("1MDf");function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r=a||(a={})).iso=function(){return y.d()},r.empty=function(){return{sduiQueue:new Map}},r.removeAllBySduiId=function(e){return function(t){return Object(c.pipe)(a.toQueueValuesArray(t),u.a.filter((function(t){return 0===t.id.indexOf("".concat(e.event.sduiRootId,"_"))})),(function(e){return a.removeItems(e)(t),e}))}},r.removeEarlierItemsBySduiId=function(e){return function(t){return Object(c.pipe)(a.toQueueValuesArray(t),u.a.filter((function(t){return 0===t.id.indexOf("".concat(e.event.sduiRootId,"_"))&&t.order<e.order})),(function(e){return a.removeItems(e)(t),e}))}},r.addItem=function(e){return function(t){t.sduiQueue.set(e.id,e)}},r.removeItems=function(e){return function(t){e.forEach((function(e){return t.sduiQueue.delete(e.id)}))}},r.toQueueValuesArray=function(e){return Array.from(e.sduiQueue.values())},function(e){var t,n,r,i=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};r=0,(n="QueueCounter")in(t=i)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r;e.show={show:function(e){return Array.from(a.iso().unwrap(e).sduiQueue.entries()).map((function(e){var t=S(e,2),n=t[0],a=t[1];return"".concat(n," - { id: ").concat(a.id," sduiRootId: ").concat(a.event.sduiRootId,", kind: ").concat(a.event.kind)})).join(";\n")}};!function(e){var t;!function(e){e.from=function(e){return"".concat(e)}}(t=e.Id||(e.Id={}));e.fromEvent=function(e){return{id:t.from("".concat(e.sduiRootId,"_").concat(++i.QueueCounter)),order:i.QueueCounter,event:e}}}(e.Item||(e.Item={}));e.empty=function(){return a.iso().wrap(a.empty())},e.removeAllBySduiId=function(e){return function(t){return Object(c.pipe)(a.iso().unwrap(t),a.removeAllBySduiId(e))}},e.addItem=function(e){return function(t){return Object(c.pipe)(a.iso().unwrap(t),a.addItem(e))}},e.removeItems=function(e){return function(t){return Object(c.pipe)(a.iso().unwrap(t),a.removeItems(e))}},e.removeEarlierItemsBySduiId=function(e){return function(t){return Object(c.pipe)(a.iso().unwrap(t),a.removeEarlierItemsBySduiId(e))}},e.toQueueValuesArray=function(e){return Object(c.pipe)(a.iso().unwrap(e),a.toQueueValuesArray)}}(i||(i={}));var C=n("vf87"),w=n("eBv/"),k=n("xk6L"),E=n("La5+"),j=n("4EEI"),_=n("Fg+b"),x=n("Hkin"),A=n("yIk2");function I(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M,P=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),T(this,"_globalPartsState",l.a.create(new Map)),T(this,"_subs",new E.a.Keeper),T(this,"globalPartsAvailable",this._globalPartsState.view((function(e){return 0!==e.size}))),T(this,"getGlobalPartById",(function(e){return u.g.fromNullable(n._globalPartsState.get().get(b.a.Item.Id.from(e)))})),this._subs.push(t.pipe(k.a.map((function(e){return C.a.reduce(new Map,(function(e,t){return"globalPart"===t.content.type&&e.set(t.id,t.content),e}))(e)}))).subscribe(A.b.toAtom(this._globalPartsState)))}var t,n,a;return t=e,(n=[{key:"dispose",value:function(){this._subs.dispose()}}])&&I(t.prototype,n),a&&I(t,a),e}();function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){L(e,t,n[t])}))}return e}function R(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.create=function(e,t){return{card:e,parentStrongAlertRef:t}},e.isAssistantCardContent=function(e){return"assistantCard"===e.card.type},e.isInlineCardContent=function(e){return"inlineCard"===e.card.type}}(M||(M={}));var V,U,W=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new x.a,r=this;D(this,e),L(this,"alertIdResolver",void 0),L(this,"popoverManager",void 0),L(this,"_state",void 0),L(this,"state",void 0),L(this,"globalPartManager",void 0),L(this,"_onAlertsRefEmpty",void 0),L(this,"_removedAlerts",void 0),L(this,"_removedRoot",void 0),L(this,"_switchView",void 0),L(this,"_sessionEvents",void 0),L(this,"_reviseSduiQueue",void 0),L(this,"_flush",void 0),L(this,"_flushViewSwitch",void 0),L(this,"_subs",void 0),L(this,"_log",void 0),L(this,"loadItems",void 0),L(this,"_arrayToDiff",void 0),L(this,"findFirstCardWithContent",void 0),L(this,"notifyAlertsChanged",void 0),L(this,"onSessionStarted",void 0),L(this,"onFirstCheckingFinished",void 0),L(this,"_processEvents",void 0),L(this,"_getAllAlertsIdsFromEvent",void 0),L(this,"_getAlertsIdsFromAlertRef",void 0),L(this,"_getAlertsIdsFromDSL",void 0),L(this,"_resolveAlertIds",void 0),L(this,"_hasAllAlerts",void 0),L(this,"_toInternalDiff",void 0),L(this,"_preserveViewStackForCAPIUpdates",void 0),L(this,"_normalizeSDUIEvents",void 0),L(this,"_toSDUIItem",void 0),L(this,"_emitDomainEvent",void 0),L(this,"_debugLogState",void 0),L(this,"_getBufferObs",void 0),this.alertIdResolver=n,this.popoverManager=a,this._state=l.a.create(w.a.empty),this.state=this._state.view((function(e){return w.a.iso.wrap(e)})),this.globalPartManager=new P(this.state),this._onAlertsRefEmpty=new k.a.Subject,this._removedAlerts=new k.a.Subject,this._removedRoot=new k.a.Subject,this._switchView=new k.a.Subject,this._sessionEvents=new k.a.Subject,this._reviseSduiQueue=new k.a.Subject,this._flush=new k.a.Subject,this._flushViewSwitch=new k.a.Subject,this._subs=new E.a.Keeper,this._log=g.d.Logging.getLogger("SDUIManager",g.a.LogLevel.TRACE,g.a.LogColor.Manager.getColor()),this.loadItems=function(e){var t=Object(c.pipe)(e,o.yb((function(e){return"popoverStack"===e.content.type}))),n=t.right,a=t.left;n.forEach((function(e){var t=e.content;"popoverStack"===t.type&&r.popoverManager.addPopover(t)})),Object(c.pipe)(a,o.ub((function(e){return R(F({},e),{invalid:!0})})),r._arrayToDiff,w.a.applyDiff,u.j.map(d.a.recover((function(e){return r._log.debug("conflicts on diff apply",e)}))),(function(e){return r._state.modify(e)}))},this._arrayToDiff=function(e){return p.a.fromMutation((function(t){return o.ub((function(e){t.set(e.id,u.m.right(e))}))(e)}))},this.findFirstCardWithContent=function(e){return Object(c.pipe)(r.state.get(),C.a.get(e),u.g.map((function(e){var t=e.content;return _.a.reduce(t,(function(e,t){return Object(c.pipe)(e,u.b.fold((function(e){return"strongAlertRef"===t.type?u.b.left(u.g.some(t)):"assistantCard"===t.type||"inlineCard"===t.type?u.b.right(M.create(t,e)):u.b.left(e)}),u.b.right))}),_.a.TreeTraversal.PreOrder,u.b.left(u.g.none))})),u.g.chain(u.g.fromEither))},this.notifyAlertsChanged=function(){return r._reviseSduiQueue.next()},this.onSessionStarted=function(){return r._sessionEvents.next(U.Start)},this.onFirstCheckingFinished=function(){return r._sessionEvents.next(U.FirstCheckingFinished)},this._processEvents=function(e){return function(t,n){var a=Object(c.pipe)(n,u.b.fold((function(n){return Object(c.pipe)(i.toQueueValuesArray(t),u.a.filter(e))}),(function(n){if(n.kind===j.a.SduiEventKind.Remove){r._log.debug("[IN - ".concat(n.kind,", {id: ").concat(n.sduiRootId,"}] removeAllBySduiId"));var a=i.Item.fromEvent(n);return i.removeAllBySduiId(a)(t),[a]}var o=i.Item.fromEvent(n);return e(o)?(r._log.debug("[IN - ".concat(o.event.kind," {sduiRootId: ").concat(o.event.sduiRootId,", id: ").concat(o.id," refs: ").concat(JSON.stringify(_.a.getAlertIds(o.event.sdui)),"}, ] hasAllAlerts")),[o]):(i.addItem(o)(t),r._log.debug("[IN - ".concat(o.event.kind," {sduiRootId: ").concat(o.event.sduiRootId,", id: ").concat(o.id," refs: ").concat(JSON.stringify(_.a.getAlertIds(o.event.sdui)),"}] add to queue, [queue]: ").concat(i.show.show(t))),[])})),(function(e){return r._log.debug("[completeItems] ".concat(e.map((function(e){return e.id})).join(", "),", [queue]: ").concat(i.show.show(t))),i.removeItems(e)(t),e.forEach((function(e){return i.removeEarlierItemsBySduiId(e)(t)})),e}),u.a.map(m.e.pick("event")));return R(F({},t),{completeEvents:a})}},this._getAllAlertsIdsFromEvent=function(e,t){return Object(c.flow)((function(e){return e.sdui}),r._getAlertsIdsFromDSL(e,t))},this._getAlertsIdsFromAlertRef=function(e,t){return function(n){return Object(c.pipe)(n,_.a.getAlertIds,u.g.tapLeft((function(){return t===V.Silent?{}:r._log.debug("Provided SDUI dsl doesn't contain alertIds array. StrongAlertRef: ".concat(JSON.stringify({id:n.id,type:n.type,name:n.name,alertIds:n.alertIds})))})),u.g.fold((function(){return[]}),c.identity),r._resolveAlertIds(e,t))}},this._getAlertsIdsFromDSL=function(e,t){return function(n){return Object(c.pipe)(n,_.a.getAllAlertIds,(function(e){return Array.from(new Set(e))}),(function(e){return o.nb(e)?(r._log.trace("Provided SDUI dsl doesn't contain any alertIds references. DSL id: ".concat(n.id)),e):e}),r._resolveAlertIds(e,t))}},this._resolveAlertIds=function(e,t){return function(n){return Object(c.pipe)(n,o.ub((function(n){return Object(c.pipe)(b.a.AlertId.from(n),e,u.g.tapLeft((function(){return t===V.Silent?{}:r._log.error("Alert with raw id ".concat(n,", can not be found. It was either deleted or was not added yet."))})))})),o.Qb(u.g.option))}},this._hasAllAlerts=function(e,t){return Object(c.flow)(r._getAllAlertsIdsFromEvent(e,t),u.g.isSome)},this._toInternalDiff=function(e){return function(t){var n=H(t,2),a=n[0],i=n[1],o=w.a.MutableInternalDiff.empty();return Object(c.pipe)(a,s.Z(o,(function(t,n){return n.kind===j.a.SduiEventKind.Remove?r._handleSDUIRemove(n,i,t):Object(c.pipe)(r._getAllAlertsIdsFromEvent(e,V.Silent)(n),u.g.map(r._toSDUIItem(n)),u.g.fold((function(){return r._log.trace(z.internalDiffParsingError([_.a.getAllAlertIds(n.sdui).join(", "),n.sduiRootId]))}),(function(e){var a=n.kind;switch(a){case j.a.SduiEventKind.Add:r._handleSDUIAdd(e,n.rev,i,t);break;case j.a.SduiEventKind.Update:r._handleSDUIUpdate(e,i,t);break;default:Object(f.c)(a)}})),(function(e){return t}))})))}},this._preserveViewStackForCAPIUpdates=function(e){return Object(c.pipe)(e,s.R((function(e){return e.kind!==j.a.SduiEventKind.Update||e.source!==v.c.CAPI?e:v.b.of(e.sduiRootId,e.source,e.rev)(u.g.fold((function(){return u.g.some(e.sdui)}),Object(c.flow)(_.a.toContentMap,(function(t){return Object(c.pipe)(t,Object.values,u.a.filterMap((function(e){var t=e.content;return"viewStack"===t.type?u.g.some({type:"switchView",where:t.id,selected:t.selected}):u.g.none})),(function(n){return _.a.bulkSwitchView(e.sdui,n,t)}))}),u.g.some)))})))},this._normalizeSDUIEvents=function(e){var t=H(e,2),n=t[0],a=t[1];return Object(c.pipe)(n,o.P((function(e){return"sdui_lazy_update"!==e.kind?u.g.some(e):r._handleSDUILazyUpdate(e,a)})))},this._toSDUIItem=function(e){return function(t){return{id:b.a.Item.Id.from(e.sduiRootId),content:e.sdui,alertIds:t}}},this._emitDomainEvent=function(e){r._log.debug("internalDiff",w.a.InternalDiff.show.show(e)),Object(c.pipe)(e,w.a.createDiff,d.a.recover((function(e){return r._log.debug("conflicts on diff creating",e)})),(function(e){return r._log.debug("SDUIItemsCollectionDiff",w.a.diffShow.show(e)),e}),w.a.applyDiff,u.j.map(d.a.recover((function(e){return r._log.debug("conflicts on diff apply",e)}))),(function(e){return r._state.modify(e)}))},this._debugLogState=function(e){return r._log.debug("[SDUIManagerState] (SDUIItemsCollection)","_latestChangeDiff: ".concat(w.a.diffShow.show(e.latestChangeDiff),",\n _entriesIds: ").concat(w.a.InternalDiff.showMapKeys.show(e.entries),"}"))},this._getBufferObs=function(){return{bufferObsForSDUIEvents:k.a.mergeStatic(k.a.interval(100).pipe(k.a.startWith(0)),r._flush),bufferObsForViewSwitchEvents:k.a.mergeStatic(k.a.interval(100).pipe(k.a.startWith(0)),r._flushViewSwitch)}},this._subs.push(this.globalPartManager);var y=t.pipe(k.a.map(v.a.fromSource(v.c.CAPI))),O=this._getBufferObs(),S=O.bufferObsForSDUIEvents,A=O.bufferObsForViewSwitchEvents,I=Object(v.d)(this._removedAlerts.asObservable(),this._removedRoot.asObservable(),this.state,this._switchView.asObservable(),this.popoverManager,this.globalPartManager,this._log,A),T=I.emptyAlertsRefReasonTuple,N=I.optimisticRemoveSDUIEvent,B=I.emptyStrongAlertRefUpdate,W=I.viewStackUpdates,G=I.activePopoverUpdates,q=I.globalPartPlaceholderUpdates,K=k.a.mergeStatic(y,N,B).pipe(k.a.tap((function(e){return r._log.debug("Received SDUI event: ".concat(v.a.show.show(e)," from: ").concat(e.source))})),k.a.scan((function(e,t){var n=t.source;switch(n){case v.c.RemoveAlertsSDUIAction:case v.c.RemoveRootSDUIAction:case v.c.RemoveDuplicate:case v.c.TextChange:return t.kind===j.a.SduiEventKind.Remove&&e.optRemovedSDUIRootIds.add(t.sduiRootId),R(F({},e),{event:u.g.some(t)});case v.c.CAPI:return Object(c.pipe)(t,u.g.fromPredicate((function(t){return e.optRemovedSDUIRootIds.has(t.sduiRootId)})),u.g.tap((function(t){return e.optRemovedSDUIRootIds.delete(t.sduiRootId)})),u.g.chain(u.g.fromPredicate(Object(h.p)(v.f,v.e))),u.g.fold((function(){return R(F({},e),{event:u.g.some(t)})}),(function(t){return t.kind===j.a.SduiEventKind.Remove?R(F({},e),{event:u.g.none}):R(F({},e),{event:u.g.some(R(F({},t),{kind:j.a.SduiEventKind.Add}))})})));case v.c.SwitchView:return R(F({},e),{event:u.g.some(t)});default:Object(f.c)(n)}}),{optRemovedSDUIRootIds:new Set,event:u.g.none}),k.a.map(m.e.pick("event")),k.b.compact,k.a.map(u.b.right)),$=Object(c.flow)(m.e.pick("event"),this._hasAllAlerts(this.alertIdResolver,V.Silent)),Z=k.a.mergeStatic(K,this._reviseSduiQueue.pipe(k.a.map(u.b.left))).pipe(k.a.scan(this._processEvents($),R(F({},i.empty()),{completeEvents:[]})),k.a.map(m.e.pick("completeEvents"))),Y=k.a.mergeStatic(Z,W,G,q).pipe(k.a.buffer(S),k.a.map((function(e){return o.Y(e)})),k.a.filter(o.ob)),X=Y.pipe(k.a.map(this._preserveViewStackForCAPIUpdates),k.a.withLatestFrom(this._state),k.a.map(this._normalizeSDUIEvents),k.a.filter(o.ob)),Q=this._sessionEvents.pipe(k.a.filter((function(e){return e===U.Start})),k.a.withLatestFrom(this._state),k.a.map((function(e){var t=H(e,2);t[0];return t[1]})),k.a.filter((function(e){return e.entries.size>0})),k.a.map(w.a.MutableInternalDiff.fromState((function(e,t){var n=R(F({},t),{invalid:!0});return b.a.Item.eq.equals(t,n)||e.updated.set(t.id,[t,n]),e})))),J=this._sessionEvents.pipe(k.a.filter((function(e){return e===U.FirstCheckingFinished})),k.a.withLatestFrom(this._state),k.a.map((function(e){var t=H(e,2);t[0];return t[1]})),k.a.filter((function(e){return e.entries.size>0})),k.a.map(w.a.MutableInternalDiff.fromState((function(e,t){var n;return null!==(n=t.invalid)&&void 0!==n&&n&&e.removed.set(t.id,t),e})))),ee=k.a.mergeStatic(Q,J);this._subs.push(this._state.pipe(k.a.tap(this._debugLogState)).subscribe(),T.subscribe((function(e){var t=H(e,1)[0];return r._onAlertsRefEmpty.next(t)})),X.pipe(k.a.withLatestFrom(this._state),k.a.map(this._toInternalDiff(this.alertIdResolver)),k.a.filter(Object(c.not)(w.a.InternalDiff.isEmpty)),k.a.map(this._emitDomainEvent)).subscribe(),ee.subscribe(this._emitDomainEvent))}var t,n,a;return t=e,(n=[{key:"onAlertsRefEmpty",get:function(){return this._onAlertsRefEmpty.asObservable()}},{key:"pushRemovedRoot",value:function(e){this._removedRoot.next(e)}},{key:"pushRemovedAlerts",value:function(e){this._removedAlerts.next(e)}},{key:"pushSwitchView",value:function(e){this._switchView.next(e)}},{key:"flush",value:function(){this._flush.next(),this._flushViewSwitch.next(),this._flush.next()}},{key:"resolveStrongAlertRefAlerts",value:function(e){var t=this;return Object(c.pipe)(this._getAlertsIdsFromAlertRef(this.alertIdResolver,V.Error)(e),u.g.tapLeft((function(){return t._log.debug("Alert ids from the provided component were not removed, because AlertIds for the provided DSL was not resolved. SDUI content ".concat(JSON.stringify({id:e.id,type:e.type,name:e.name,alertIds:e.alertIds})))})))}},{key:"_handleSDUIAdd",value:function(e,t,n,a){var r=this;return"popoverStack"===e.content.type?(this.popoverManager.addPopover(e.content,t),w.a.MutableInternalDiff.empty()):(Object(c.pipe)(n,w.a.get(e.id),u.g.fold((function(){if(Object(f.f)(!a.updated.has(e.id),"SDUI item can not be in the diff.updated until it gets to the collection",(function(){return w.a.InternalDiff.show.show(a)+w.a.diffShow.show(w.a.diff(w.a.empty,n))})),a.removed.has(e.id))return r._log.trace(z.actionOnRemovedItem([e.id,"added"]));a.added.set(e.id,e)}),(function(t){if(Object(f.f)(!a.added.has(e.id),"SDUI item can not be in the diff.added when it is already in the collection",(function(){return w.a.InternalDiff.show.show(a)+w.a.diffShow.show(w.a.diff(w.a.empty,n))})),a.removed.has(e.id))return r._log.trace(z.actionOnRemovedItem([e.id,"added"]));a.updated.set(e.id,[t,e])}))),a)}},{key:"_handleSDUIUpdate",value:function(e,t,n){var a=this;return Object(c.pipe)(t,w.a.get(e.id),u.g.fold((function(){return Object(f.f)(!n.updated.has(e.id),"SDUI item can not be in the diff.updated until it gets to the collection"+w.a.InternalDiff.show.show(n)+w.a.diffShow.show(w.a.diff(w.a.empty,t))),n.removed.has(e.id)?a._log.trace(z.actionOnRemovedItem([e.id,"updated"])):n.added.has(e.id)?(a._log.trace(z.updateIdMissingFound([e.id])),void n.added.set(e.id,e)):a._log.error(z.updateIdMissingNotFound([e.id]))}),(function(r){return Object(f.f)(!n.added.has(e.id),"SDUI item can not be in the diff.added when it is already in the collection"+w.a.InternalDiff.show.show(n)+w.a.diffShow.show(w.a.diff(w.a.empty,t))),n.removed.has(e.id)?a._log.trace(z.actionOnRemovedItem([e.id,"update"])):b.a.Item.eq.equals(r,e)?a._log.trace(z.updateItemsAreEqual([e.id])):void n.updated.set(e.id,[r,e])}))),n}},{key:"_handleSDUIRemove",value:function(e,t,n){var a=this,r=b.a.Item.Id.from(e.sduiRootId);return this.popoverManager.removePopover(r,e.rev),Object(c.pipe)(t,w.a.get(r),u.g.fold((function(){if(Object(f.f)(!n.updated.has(r),"SDUI item can not be in the diff.updated until it gets to the collection"+w.a.InternalDiff.show.show(n)+w.a.diffShow.show(w.a.diff(w.a.empty,t))),!n.added.has(r))return a._log.trace(z.removeIdMissingNotFound([r]));a._log.trace(z.removeIdMissingFound([r])),n.added.delete(r)}),(function(e){Object(f.f)(!n.added.has(e.id),"SDUI item can not be in the diff.added when it is already in the collection"+w.a.InternalDiff.show.show(n)+w.a.diffShow.show(w.a.diff(w.a.empty,t))),n.updated.delete(r)?a._log.trace(z.idRemovedFrom([r,"diff.updated"])):Object(c.constVoid)(),n.removed.set(r,e)}))),n}},{key:"_handleSDUILazyUpdate",value:function(e,t){var n=this;return Object(c.pipe)(t,w.a.get(e.sduiRootId),u.g.tapLeft((function(){return n._log.trace("SDUI Item with sduiRootId ".concat(e.sduiRootId,"  was not found"))})),u.g.fold((function(){return e.toContent(u.g.none)}),(function(t){var a=t.content;return Object(c.pipe)(e.toContent(u.g.some(a)),u.g.filter((function(e){return!_.a.eq.equals(e,a)})),u.g.tapLeft((function(){return n._log.trace("SDUI Update event ".concat(JSON.stringify(e)," will be skipped, because the new DSL is the same as an old one"))})))})),u.g.map((function(t){return{kind:j.a.SduiEventKind.Update,sdui:t,sduiRootId:j.a.RawSduiItem.Id.create(e.sduiRootId),rev:e.rev,source:e.source}})))}},{key:"dispose",value:function(){this._subs.dispose()}}])&&B(t.prototype,n),a&&B(t,a),e}(),z={removeIdMissingFound:function(e){var t=H(e,1)[0];return"[Remove] SDUI item with ID ".concat(t," was found in the added messages. Removing it.")},removeIdMissingNotFound:function(e){var t=H(e,1)[0];return"[Remove] It is not possible to remove SDUI item with ID ".concat(t,". It is missing from SDUIItemsCollectionInternal and diff.add, probably it was deleted earlier. Skipping the message")},idRemovedFrom:function(e){var t=H(e,2),n=t[0],a=t[1];return"[Remove] SDUI item with ID ".concat(n," is going to be removed. ").concat(a," contains the item with ID ").concat(n," too. Remove ").concat(n," from ").concat(a)},actionOnRemovedItem:function(e){var t=H(e,2),n=t[0],a=t[1];return"[".concat(a,"] It is not possible to ").concat(a," SDUI item with ID ").concat(n,". Because it was already removed. Skipping the ").concat(a,".")},viewStackUpdateIdMissing:function(e){var t=H(e,1)[0];return"[ViewStackUpdate] SDUI item with ID ".concat(t," was found. Skipping the update.")},updateIdMissingFound:function(e){var t=H(e,1)[0];return"[Update] SDUI item with ID ".concat(t," was found in added messages. Updating it in added messages")},updateIdMissingNotFound:function(e){var t=H(e,1)[0];return"[Update] It is not possible to update SDUI item with ID ".concat(t,". It is missing from SDUIItemsCollectionInternal and diff.added, probably it was deleted earlier. Skipping the message")},updateItemsAreEqual:function(e){var t=H(e,1)[0];return"[Update] Received sdui item (sduiId: ".concat(t,") is the same as in the state. Skipping the update message")},internalDiffMissingAlertsIds:function(){return"missing AlertIDs"},internalDiffParsingError:function(e){var t=H(e,2),n=t[0],a=t[1];return"toInternalDiff, either can not resolve ".concat(n," for ").concat(a," or id of the sdui item is missing . The item will be skipped")}};!function(e){e.Silent="Silent",e.Error="Error"}(V||(V={})),function(e){e.Start="Start",e.FirstCheckingFinished="FirstCheckingFinished"}(U||(U={}))},"8SdM":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return P}));var a,r,i=n("Vv+i"),o=n("Wy1Y"),s=n("uKMM"),c=n("a5gI"),l=n("4mQT"),u=n("8O/t"),d=n("X76w"),p=n("t5lx"),m=n("DTwm"),f=n("tiWp"),h=n("+vYo"),g=n("5OZM"),b=n("Hj2R"),v=n("D2TP"),y=n("mUkt"),O=n("xk6L"),S=n("La5+"),C=n("yIk2"),w=n("hzat"),k=n("d3CI"),E=n("A8UT"),j=n("mgiE"),_=n("TKPA"),x=n("RRF2"),A=n("0kuo"),I=n("xAs4"),T=n("Vx4e"),M=n("/9H4");!function(e){!function(e){e.eq=j.c.getStructEq({isSidebarOpen:j.c.eqBoolean,isGgoOpen:j.c.eqBoolean})}(e.UIState||(e.UIState={}))}(a||(a={})),function(e){var t=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(o.a)(this,n),e=t.call(this,a),Object(c.a)(Object(i.a)(e),"state",void 0),Object(c.a)(Object(i.a)(e),"alertSwitchChanges",O.a.EMPTY),Object(c.a)(Object(i.a)(e),"toggleSidebar",(function(t,n){return e.state.set({navigationSource:n,isSidebarOpen:t,isGgoOpen:!1})})),e.state=h.a.create({isSidebarOpen:r,isGgoOpen:!1,navigationSource:b.b.sidebar}),e}return n}(E.c.Mock);e.Mock=t}(r||(r={}));var P,N=function(){function e(t,n,a,r,i,s,l,p,g,b,w,x,A){var M=this;if(Object(o.a)(this,e),Object(c.a)(this,"_telemetry",void 0),Object(c.a)(this,"_modalManager",void 0),Object(c.a)(this,"_state",void 0),Object(c.a)(this,"_features",void 0),Object(c.a)(this,"_getAlertClosestToCursor",void 0),Object(c.a)(this,"_documentModel",void 0),Object(c.a)(this,"_getLensPreiews",void 0),Object(c.a)(this,"cardVisualMode",void 0),Object(c.a)(this,"_isCheetahEnabled",void 0),Object(c.a)(this,"_checksFeedCapabilities",void 0),Object(c.a)(this,"_getPremiumCount",void 0),Object(c.a)(this,"_oggyUphookModel",void 0),Object(c.a)(this,"_lensSwitch",void 0),Object(c.a)(this,"_alertSwitch",void 0),Object(c.a)(this,"popover",void 0),Object(c.a)(this,"alertSwitchChanges",void 0),Object(c.a)(this,"state",void 0),Object(c.a)(this,"events",void 0),Object(c.a)(this,"_subs",void 0),Object(c.a)(this,"activeLensId",void 0),Object(c.a)(this,"a11yContrast",void 0),Object(c.a)(this,"documentActions",void 0),Object(c.a)(this,"premiumButtonData",void 0),Object(c.a)(this,"freePremiumButtonData",void 0),Object(c.a)(this,"showMuteControl",void 0),Object(c.a)(this,"lensPreviews",void 0),Object(c.a)(this,"lensTitleType",void 0),Object(c.a)(this,"toggleSidebar",void 0),Object(c.a)(this,"_toggleSidebarState",void 0),Object(c.a)(this,"lensChangeEffects",void 0),Object(c.a)(this,"alertChangeEffects",void 0),this._telemetry=t,this._modalManager=n,this._state=a,this._features=r,this._getAlertClosestToCursor=i,this._documentModel=s,this._getLensPreiews=p,this.cardVisualMode=g,this._isCheetahEnabled=b,this._checksFeedCapabilities=w,this._getPremiumCount=x,this._oggyUphookModel=A,this._lensSwitch=new O.a.Subject,this._alertSwitch=new O.a.Subject,this.popover=h.a.create(j.g.none),this.alertSwitchChanges=this._alertSwitch.pipe(O.a.map((function(e){var t=e.alertHighlight,n=e.source;return Object(d.a)(Object(u.a)({},t),{source:n})}))),this.state=h.a.create({isSidebarOpen:this._features.denali.sidebarOpenedByDefault,isGgoOpen:!1,navigationSource:this._state.get().alertSource}),this.events=new O.a.Subject,this._subs=new S.a.Keeper,this.a11yContrast=!0,this.documentActions=h.a.combine(this._features.plagiarism,this._features.proofit,this._documentModel.documentLength.view("full").view((function(e){return 0===e})),this._documentModel.title,this._isCheetahEnabled,(function(e,t,n,a,r){return{plagiarism:e===I.m.enabled?n?E.c.plagiarismDisabled(E.d.EmptyDocument):E.c.documentActionAvailable:e===I.m.upgradeIsNeeded?E.c.documentActionAvailable:E.c.plagiarismDisabled(E.d.NotAvailable),proofit:t===I.m.enabled?n?E.c.proofitDisabled(E.e.EmptyDocument):a===T.premiumDemoDocument.title?E.c.proofitDisabled(E.e.DemoDoc):E.c.documentActionAvailable:t===I.m.upgradeIsNeeded?E.c.documentActionAvailable:E.c.proofitDisabled(E.e.NotAvailable),cheetah:r?E.c.documentActionAvailable:E.c.cheetahDisabled(E.a.NotAvailable)}})),this.toggleSidebar=function(e,t){return M.state.modify((function(n){return Object(d.a)(Object(u.a)({},n),{navigationSource:t,isSidebarOpen:e,isGgoOpen:!1})}))},this._toggleSidebarState=function(e){return M.state.modify((function(t){return Object(d.a)(Object(u.a)({},t),{navigationSource:e,isSidebarOpen:!t.isSidebarOpen,isGgoOpen:!1})}))},this.lensChangeEffects={id:"focusFirstOnLensChange",when:m.constTrue,what:k.e.Effect.SwitchLens.create(this._lensSwitch.pipe(O.a.map((function(e){var t=e.lensId,n=e.focusFirst;return{lensId:t,alertSource:e.source,options:{order:"lensOrder",toFocus:n?k.e.Effect.FocusBehavior.focusFirst:k.e.Effect.FocusBehavior.noFocus}}}))))},this.alertChangeEffects={id:"highlightOnAlertChange",when:m.constTrue,what:k.e.Effect.SwitchAlert.create(this._alertSwitch.pipe(O.a.map((function(e){return{alertHighlight:e.alertHighlight,alertSource:e.source,options:{order:"lensOrder"}}}))))},this.premiumButtonData=this._premiumButtonData,this.freePremiumButtonData=this._freePremiumButtonData,this._listenNavigationEvent(),this.showMuteControl=Object(f.pipe)(l,j.g.fold((function(){return h.a.create(!1)}),(function(e){return e.mutedCategories.view(y.a.BaseMutedCategories.filter(Object(_.m)(y.a.Category.isSpecial))).view((function(e){return e.size>0}))}))),this.lensTitleType=E.c.LensTitleType.default,this.lensPreviews=this._getLensPreiews(),j.g.isSome(this._features.denali.oggy)){var P=h.a.create(this._features.denali.sidebarOpenedByDefault?v.a.SpecialId.AllAlerts:v.a.SpecialId.Closed);this._subs.push(O.a.mergeStatic(this._lensSwitch.pipe(O.a.filter((function(e){var t=e.lensId;return v.a.isRelevantForOggy(t)}))),this._alertSwitch.pipe(O.a.map((function(e){var t=e.source;return{lensId:v.a.SpecialId.AllAlerts,source:t}})))).pipe(O.a.tap((function(e){var t=e.lensId,n=e.source;P.set(t),M.state.modify((function(e){return Object(d.a)(Object(u.a)({},e),{navigationSource:n,isGgoOpen:v.a.isCheetah(t)})}))}))).subscribe(),this.state.view("isSidebarOpen").pipe(O.a.skip(1),O.a.map((function(e){return e?v.a.SpecialId.AllAlerts:v.a.SpecialId.Closed})),O.a.tap(C.b.toAtom(P))).subscribe()),Object(f.pipe)(this._oggyUphookModel,j.g.tap((function(e){return M._subs.push(e.isFocused.pipe(O.a.map((function(e){return e?v.a.SpecialId.Premium:v.a.SpecialId.AllAlerts})),O.a.tap(C.b.toAtom(P))).subscribe())}))),this.activeLensId=P.view(),Object(_.r)("toggleSidebar",(function(){return M.state.modify((function(e){return Object(d.a)(Object(u.a)({},e),{isSidebarOpen:!e.isSidebarOpen})}))}))}else this.activeLensId=this._state.view("currentLens","id"),this._subs.push(this._state.pipe(O.a.tap((function(e){return M.state.set({isSidebarOpen:k.e.isSidebarOpened(e),isGgoOpen:v.a.isCheetah(e.currentLens.id),navigationSource:e.alertSource})}))).subscribe());Object(_.r)("activeLensId",(function(){return M.activeLensId.get()})),Object(_.r)("navigationState",(function(){return M.state.get()}))}return Object(s.a)(e,[{key:"_switchToLens",value:function(e,t){var n=this.activeLensId.get(),a=n===e?v.a.SpecialId.AllAlerts:e;if(n!==a){if(v.a.isEngagement(a)){if(this.lensPreviews.EngagementOutcome.isUnavailable.get())return this.popover.set(j.g.some(E.b.EngagementHook))}else if(v.a.isDelivery(a)){if(this.lensPreviews.DeliveryOutcome.isUnavailable.get())return this.popover.set(j.g.some(E.b.DeliveryHook))}else{if(v.a.isVox(a)&&this._features.denali.gbVoxLensUphook)return this.popover.set(j.g.some(E.b.GbVoxHook));if(v.a.isVox(a)&&this._features.denali.gbAdminVoxLensUphook)return this.popover.set(j.g.some(E.b.GbEnableVoxHook))}if(a===v.a.SpecialId.Plagiarism&&this._features.plagiarism.get()!==I.m.enabled)return this.popover.set(j.g.some(E.b.PlagiarismHook));this._lensSwitch.next({lensId:a,focusFirst:t.focusFirst,source:t.actionSource})}}},{key:"_listenNavigationEvent",value:function(){var e=this;this._subs.push(this.events.pipe(O.a.switchMap((function(t){switch(t.type){case"setGoals":return e._modalManager.show(g.c.setGoals("user"));case"preferences":return e._modalManager.show(M.a.preferences);case"performance":return e._modalManager.show(g.c.performance);case"switchToLens":switch(e._switchToLens(t.id,{focusFirst:t.focusFirst,actionSource:t.actionSource}),t.id){case v.a.SpecialId.FreePremiumAlerts:e._telemetry.gnarSpec.freeAdvancedIssuesButtonClick(e._telemetry.pageId,"wiritingAssistant");break;case v.a.SpecialId.Premium:e._telemetry.gnarSpec.advancedIssuesButtonClick(e._telemetry.pageId,"wiritingAssistant");break;default:e._telemetry.gnarSpec.openLensButtonClick(x.f.camelize(t.title),e._telemetry.pageId)}return O.a.EMPTY;case"toggleSidebar":return e.state.view("isSidebarOpen").get()?e._switchToLens(v.a.SpecialId.Closed,{focusFirst:!0,actionSource:t.actionSource}):e._focusClosestAlert(b.b.api),j.g.isSome(e._features.denali.oggy)&&e._toggleSidebarState(b.b.sidebar),O.a.EMPTY;case"switchToCritical":return e._features.isFree.get()?e._focusClosestAlert(t.actionSource):e._focusClosestAlertByPredicate(b.a.isCriticalImpact,t.actionSource),O.a.EMPTY;case"switchToAdvanced":return e._features.isFree.get()?e._switchToLens(v.a.SpecialId.Premium,{focusFirst:!0,actionSource:b.b.sidebar}):e._focusClosestAlertByPredicate(Object(_.m)(b.a.isCriticalImpact),t.actionSource),O.a.EMPTY;case"switchToAll":return e._switchToLens(v.a.SpecialId.AllAlerts,{actionSource:t.actionSource,focusFirst:t.focusFirst}),j.g.isSome(e._features.denali.oggy)&&e.toggleSidebar(!0,b.b.sidebar),O.a.EMPTY;default:return Object(A.c)(t)}}))).subscribe())}},{key:"_focusClosestAlert",value:function(e){var t=this;Object(f.pipe)(this._getAlertClosestToCursor(b.a.isRegisteredApplicableAlert,"cursor"),j.g.fold((function(){return t._switchToLens(v.a.SpecialId.AllAlerts,{focusFirst:!0,actionSource:e})}),(function(n){return t._alertSwitch.next({alertHighlight:n,source:e})})))}},{key:"_focusClosestAlertByPredicate",value:function(e,t){var n=this;Object(f.pipe)(this._getAlertClosestToCursor(Object(_.b)(b.a.isRegisteredApplicableAlert,e),"cursor"),j.g.fold((function(){return n._focusClosestAlert(t)}),(function(e){return n._alertSwitch.next({alertHighlight:e,source:t})})))}},{key:"_premiumButtonData",get:function(){var e=this,t=this._getPremiumCount("advanced"),n=t.get().title,a=t.view("count"),r=this._state.view(Object(m.flow)(k.e.getLens,j.g.chain((function(t){return t.items.find(Object(m.flow)(e._checksFeedCapabilities.hasActiveAlert,j.g.map((function(e){return e.alert})),j.g.exists(w.a.isFreePremium)))})),j.g.isSome)),i=Object(f.pipe)(this._oggyUphookModel,j.g.map((function(e){return e.isAvailable})),j.g.getOrElse((function(){return a.view((function(e){return e>0}))})));return h.a.combine(this._features.isFree,i,r,(function(e,t,r){return e&&t&&!r?j.g.some({id:v.a.SpecialId.Premium,title:n,alerts:a}):j.g.none}))}},{key:"_freePremiumButtonData",get:function(){var e=this,t=this._getPremiumCount("freePremium"),n=t.get().title,a=t.view("count");return h.a.combine(this._features.isFree,a.view((function(e){return e>0})),(function(t,r){return t&&r&&j.g.isNone(e._oggyUphookModel)?j.g.some({id:v.a.SpecialId.FreePremiumAlerts,title:n,alerts:a}):j.g.none}))}},{key:"dispose",value:function(){this._subs.dispose()}}]),e}();!function(e){e.outcomesList=[v.a.SpecialId.Correctness,v.a.SpecialId.Clarity,v.a.SpecialId.Engagement,v.a.SpecialId.Delivery,v.a.SpecialId.Vox],e.lensPreviewFilter=function(e){var t=e.denali,n=t.voxInfo,a=t.gbVoxLensUphook,r=t.gbAdminVoxLensUphook;return function(e){return!v.a.isVox(e)||(a||r||Object(f.pipe)(n,j.g.isSome))}}}(P||(P={}))},"8TGn":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("zCOz"),r=n("ZqXC"),i=n("Q2+j");function o(e,t){let n,{elementType:o="button",isDisabled:s,onPress:c,onPressStart:l,onPressEnd:u,onPressChange:d,preventFocusOnPress:p,allowFocusWhenDisabled:m,onClick:f,href:h,target:g,rel:b,type:v="button"}=e;n="button"===o?{type:v,disabled:s}:{role:"button",tabIndex:s?void 0:0,href:"a"===o&&s?void 0:h,target:"a"===o?g:void 0,type:"input"===o?v:void 0,disabled:"input"===o?s:void 0,"aria-disabled":s&&"input"!==o?s:void 0,rel:"a"===o?b:void 0};let{pressProps:y,isPressed:O}=(0,i.m)({onPressStart:l,onPressEnd:u,onPressChange:d,onPress:c,isDisabled:s,preventFocusOnPress:p,ref:t}),{focusableProps:S}=(0,r.f)(e,t);m&&(S.tabIndex=s?-1:S.tabIndex);let C=(0,a.l)(S,y,(0,a.b)(e,{labelable:!0}));return{isPressed:O,buttonProps:(0,a.l)(n,C,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:e=>{f&&(f(e),console.warn("onClick is deprecated, please use onPress"))}})}}},"8Z+1":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("DTwm"),o=n("gIH0"),s=n("w8H4"),c={URI:o.URI,literal:function(){return o.id()},string:o.id(),number:o.id(),boolean:o.id(),nullable:o.nullable,type:o.type,struct:o.struct,partial:o.partial,record:o.record,array:o.array,tuple:o.tuple,intersect:o.intersect,sum:o.sum,lazy:function(e,t){return o.lazy(t)},readonly:o.readonly};!function(e){e.interpreter=Object(i.unsafeCoerce)(s.a);e.extend=function(e){return function(t){return Object(r.a)({},e,t)}}}(a||(a={}))},"9QYy":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("B8yO"),s=n("OwvP"),c=n("4GyQ"),l=n("TKPA"),u=n("mgiE"),d=n("111I"),p=n("nWMp"),m=n("QQOt"),f=n("ZDrO"),h=n("xk6L");!function(e){let t;function n(e){return d.b.List.make(f.a.Sorted.getFoldableWithIndex(),p(e))}!function(e){e.onMount="onMount"}(t=e.ActionsKind||(e.ActionsKind={})),e.cardListContent=n,e.cardList=function(e){return d.b.Knot.make(a,{content:n(e)})};var a=e.ScrollableBox=d.b.Grid.make(({notify:e,view:n,slots:a})=>o.createElement(s.a.div,Object(i.a)(Object(r.a)({},Object(c.c)(n("disableUserActions").pipe(h.a.map(Object(l.c)(b.disableUserActions,void 0))),b.scrollContent)),{"data-purpose":"scrollable-box",style:{height:n("height")},mount:n=>e({kind:t.onMount,element:u.g.fromNullable(n)})()}),a.content));function p(e){return d.b.Knot.make(v,{cell:d.b.Knot.make(m.a.Cell,{item:d.b.Composite.make(g,e)})})}e.cell=p;var g=e.CardStyleProvider=d.b.Grid.make(({slots:e})=>o.createElement("div",{className:b.cardWrapper},e.children)),v=e.IdProvider=d.b.Grid.make(({slots:e,state:t})=>o.createElement(s.a.div,{"data-id":t},e.cell))}(a||(a={}));const g={margin:p.a.rem(.5)+" 0",background:"none",userSelect:"none",$nest:{"&:before":{position:"absolute",left:p.a.rem(-.5),width:p.a.rem(.5),height:p.a.percent(100),background:"none",content:"''"}}},b=p.a.stylesheet({scrollContent:[{position:"relative",boxSizing:"content-box"}],disableUserActions:[{pointerEvents:"none"}],cardWrapper:[g]})},"9UJa":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n("a5gI"),r=n("KqOJ"),i=n("8h56"),o=n("tiWp"),s=n("0kuo"),c=n("TKPA"),l=n("mgiE"),u=n("M3t0"),d=n("D2TP"),p=n("xk6L"),m=n("yIk2"),f=n("hzat"),h=n("mDV6"),g=n("d3CI"),b=n("IJtK");class v{dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_effectToApplicator(e){switch(e.type){case g.e.Effect.Type.Applicator:case g.e.Effect.Type.ItemsApplicator:return e.source;case g.e.Effect.Type.SwitchLens:return e.source.pipe(p.a.tap(e=>this._switchLensActions.next(e)),p.a.switchMapTo(p.a.NEVER));case g.e.Effect.Type.SwitchAlert:return e.source.pipe(p.a.tap(e=>this._switchAlertActions.next(e)),p.a.switchMapTo(p.a.NEVER));default:return Object(s.c)(e)}}_checkState(e){try{if(g.e.hasCards(e)){const t=e.currentLens.items.filter(Object(c.b)(h.a.isAnimatable,h.a.isFocused));Object(s.f)(t.size<=1,"cannot have more than one focused card",()=>JSON.stringify(t))}}catch(e){return l.b.left(e)}return l.b.right(void 0)}constructor(e,t,n,s,h,v,y){Object(a.a)(this,"_state",void 0),Object(a.a)(this,"_stateProvider",void 0),Object(a.a)(this,"_alertsReader",void 0),Object(a.a)(this,"_alertsService",void 0),Object(a.a)(this,"_stateSideEffects",void 0),Object(a.a)(this,"_getActiveAlert",void 0),Object(a.a)(this,"_stateTransformer",void 0),Object(a.a)(this,"focusLens",void 0),Object(a.a)(this,"focusAlert",void 0),Object(a.a)(this,"_log",void 0),Object(a.a)(this,"_ts",void 0),Object(a.a)(this,"_switchLensActions",void 0),Object(a.a)(this,"_switchAlertActions",void 0),Object(a.a)(this,"_addMetadata",void 0),Object(a.a)(this,"_focusLensEffect",void 0),Object(a.a)(this,"_focusAlertEffect",void 0),Object(a.a)(this,"_subs",void 0),Object(a.a)(this,"_effects",void 0),this._state=e,this._stateProvider=t,this._alertsReader=n,this._alertsService=s,this._stateSideEffects=h,this._getActiveAlert=v,this._stateTransformer=y,this.focusLens=(e,t,n={toFocus:g.d.defaultOptions.focusBehavior})=>{this._log.debug("focusLens "+e),this._switchLensActions.next({lensId:e,alertSource:t,options:n})},this.focusAlert=(e,t,n)=>{this._switchAlertActions.next({alertHighlight:e,alertSource:t,options:{order:n}})},this._log=u.d.Logging.getLogger("FocusedLensManagerImpl"),this._ts=u.d.TimeSeries.rootFemetrics.getMetric("lens_state.manager"),this._switchLensActions=new p.a.Subject,this._switchAlertActions=new p.a.Subject,this._addMetadata=e=>t=>t.pipe(p.a.map(t=>({source:t,metadata:e}))),this._focusLensEffect=({lensId:e,alertSource:t,options:{toFocus:n=g.d.defaultOptions.focusBehavior,order:a}})=>{if(this._log.debug("_focusLensEffect ",{alertSource:t,lensId:e}),d.a.isClosedId(e))return Object(o.pipe)(p.a.of(g.e.Effect.Applicator.Source.override(Object(b.c)())),this._addMetadata({sourceId:"LSM.focusLensEffect"}));if(d.a.isDraftAIId(e)||d.a.isCheetah(e)){const t=d.a.isCheetah(e)?Object(b.b)():Object(b.d)();return Object(o.pipe)(p.a.of(g.e.Effect.Applicator.Source.override(t)),this._addMetadata({sourceId:"LSM.focusLensEffect"}))}const r=this._state.get(),i=r.patch({switchOrder:Boolean(a)?a:r.switchOrder,alertSource:t});return Object(o.pipe)(this._stateProvider.getLensEventsByLensId(i,e,{focusBehavior:n}),this._addMetadata({sourceId:"LSM.focusLensEffect"}))},this._focusAlertEffect=({alertHighlight:e,alertSource:t,options:n})=>{this._log.isEnabled(u.a.LogLevel.TRACE)&&this._log.trace(`focusAlert(${e.alert})`);const a=this._state.get(),r=a.patch({switchOrder:Boolean(n.order)?n.order:a.switchOrder,alertSource:t});return Object(o.pipe)(this._stateProvider.getLensEventsByAlert(r,function(e,t,n){if(e===d.a.SpecialId.PredictionTakeaways||e===d.a.SpecialId.PredictionEmogenie||e===d.a.SpecialId.RealTimeProofit||e===d.a.SpecialId.FreePremiumAlerts)return e;if(void 0!==n)return n;if(e===d.a.SpecialId.Closed||e===d.a.SpecialId.AllAlerts)return d.a.SpecialId.AllAlerts;return t}(a.currentLens.id,e.alert.lensId,n.lensId),e),this._addMetadata({sourceId:"LSM.focusAlertEffect"}))};const O=this._state.get(),S=this._stateTransformer,C=new p.a.BehaviorSubject(O);this._effects=p.a.mergeStatic(...this._stateSideEffects.map(({when:e,what:t,id:n})=>this._state.view("currentLens","id").view(e).pipe(p.a.switchMap(m.b.orEmpty(Object(o.pipe)(this._effectToApplicator(t),this._addMetadata({sourceId:n})))))),p.a.mergeStatic(this._switchAlertActions.pipe(p.a.map(this._focusAlertEffect)),this._switchLensActions.pipe(p.a.map(this._focusLensEffect))).pipe(p.a.switchAll()));const w=this._ts.getTimer("batched.long_state_change"),k=l.c.getStructEq({activeAlert:l.g.getEq(f.a.eq),lensId:l.c.eqString});this._subs=[this._effects.pipe(p.a.catchError((e,t)=>(this._log.error("Got error from effects: ",e),t)),p.a.withLatestFrom(C,({source:e,metadata:t},n)=>({state:e(n),metadata:t})),p.a.catchError((e,t)=>(this._log.error("Got error while applying new state: ",e),t)),p.a.tap(e=>{this._log.isEnabled(u.a.LogLevel.TRACE)&&this._log.trace("lens state before state transformer: ",e)}),p.a.map(S),p.a.catchError((e,t)=>(this._log.error("Got error while transforming state: ",e),t))).subscribe(e=>Object(o.pipe)(e,l.b.fold(({state:e,metadata:t})=>{this._log.isEnabled(u.a.LogLevel.TRACE)&&this._log.trace("lens state from: "+t.sourceId,e),Object(o.pipe)(this._checkState(e),l.b.fold(t=>this._log.error("incorrect state transition detected",{error:t,state:e}),()=>C.next(e)))},l.b.fold(e=>this._switchAlertActions.next(e),e=>this._switchLensActions.next(e))))),Object(o.pipe)(C,p.a.map(e=>({activeAlert:g.e.getActiveAlert(this._getActiveAlert)(e),lensId:e.currentLens.id})),p.a.tap(e=>this._log.trace("active alert: ",e.activeAlert)),p.a.distinctUntilChanged(k.equals),p.a.switchMap(({activeAlert:e,lensId:t})=>Object(o.pipe)(e,m.b.observeIfExists(e=>Object(o.pipe)(this._alertsService.takeReference(e,"activeCard_"+t),l.b.mapLeft(e=>this._log.error("can not take alertRef",e)),l.b.fold(i.i(c.e),e=>e.dispose)))))).subscribe(),C.subscribe(e=>{const t=performance.now();r.unstable_batchedUpdates(()=>{this._state.set(e)});const n=performance.now()-t;n>16&&w.recordTime(n)})],g.e.hasCards(O)&&Object(o.pipe)(g.e.getActiveAlertHighlight(this._getActiveAlert)(O),l.g.filter(e=>this._alertsReader.isRegistered(e.alert.id)),l.g.fold(()=>this._switchLensActions.next({lensId:O.currentLens.id,alertSource:O.alertSource,options:{order:O.switchOrder,toFocus:g.e.Effect.FocusBehavior.noFocus}}),e=>this._switchAlertActions.next({alertHighlight:e,alertSource:O.alertSource,options:{lensId:O.currentLens.id,order:O.switchOrder}})))}}Object(a.a)(v,"toLensAlert",({alert:e,highlightIndex:t})=>({alert:e,highlightIndex:t,lensId:e.lensId}))},"9bwL":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return f}));var a=n("B8yO"),r=n("0Qjk"),i=n("NDcT"),o=n("fC5a"),s=n("ySi0"),c=n("ZDrO"),l=n("SOPW"),u=n("itj6"),d=n("4Yir");const p=({card:{activeAlert:e,id:t,visualState:n},actions:p,mode:m,className:h,disabled:g})=>{const b=a.useContext(i.a.Context),v="mini"===m?f(n,b):"";return a.createElement(o.a.Tertiary,{key:"toggle-more",name:f(n,b),title:v,"aria-label":v,className:h,disabled:g,onClick:c.d.callOnce(()=>{const a=l.a.isCardOpen(n);p.next({type:u.a.Kind.startTransitionTo,id:t,transition:{type:a?"focused":"expanded",clockwise:!0}}),a||p.next({type:u.b.Type.alertFeedback,alertId:e.id,feedbackType:r.a.AlertFeedbackType.EXPANDED})})},l.a.isCardOpen(n)?a.createElement(s.d.Arrow,{key:"more",className:d.a.lessIcon}):a.createElement(s.d.QuestionMark,{key:"expand"}),"default"===m&&f(n,b))},m=({visualState:e,children:t,className:n})=>a.createElement("div",{className:(l.a.isCardOpen(e)?d.a.more:d.a.moreHidden)+" "+n},t);function f(e,t){const n=t.card;return l.a.isCardOpen(e)?n.less:n.more}},"9pXQ":function(e,t,n){e.exports=n.p+"files/f3eff5948418ea16f395ca03499aad13/mutedAlerts.png"},"9rYQ":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return y}));var a,r,i=n("a5gI"),o=n("tiWp"),s=n("/edk"),c=n("eGLn"),l=n("B/Ki"),u=n("fr9z"),d=n("RRF2"),p=n("mgiE"),m=n("0kuo"),f=n("TKPA"),h=n("M3t0"),g=n("xk6L");function b(e){return null===e||d.f.isBreakWordChar(e.charCodeAt(0))}class v{pushChanges(e){s.a.isReset(e)?this._textLength=e.length:s.a.isDelta(e)&&(this._verify&&Object(c.g)(e.prevLen,this._textLength,"Incorrect textLength on insert."),this._textLength+=e.length)}get textLength(){return this._textLength}constructor(e=0,t=!1){Object(i.a)(this,"_textLength",void 0),Object(i.a)(this,"_verify",void 0),this._textLength=e,this._verify=t}}!function(e){e.create=e=>u.b.compose({id:e})}(a||(a={})),function(e){class t{registerRange(e,t){return a.create(e)(t)}deregisterRange(e){return u.b.empty}findClosestToPosition(e,t){return p.g.none}findRanges(e){return[]}widen(e){return Object(o.pipe)(e,e=>u.b.alterLeft(e,1),p.b.chain(e=>u.b.alterRight(e,1)),p.b.unsafeGet)}narrow(e){return Object(o.pipe)(e,p.g.fromPredicate(e=>u.b.size(e)>1),p.g.map(e=>Object(o.pipe)(e,e=>u.b.alterLeft(e,-1),p.b.chain(e=>u.b.alterRight(e,-1)),p.b.unsafeGet)))}}e.RangeManagerMock=t;e.mock=new t}(r||(r={}));class y{pushChanges(e){this._log.trace("PM Incoming: ",{changes:e,currentLen:this._lenCalc.textLength});try{this._lenCalc.pushChanges(e)}catch(e){if(this._strictMode)throw e;this._log.error("TextLengthCalc check failed",e)}const t=((e,t)=>{let n=0;const a=new Map;if(s.a.isFlush(e))return{affected:[],changed:[]};let r=t.length+1;return s.a.isReset(e)?t.forEach(e=>{e.start=0,e.end=0,a.set(e.meta.id,e)}):e.delta.ops.forEach(e=>{if(l.a.isRetain(e))n+=e.retain;else if(l.a.isInsert(e)){const i=n,o=d.a.lowerBound(t,e=>e.end<i),s=e.insert,c="string"==typeof s?s.length:1;if(n+=c,p.g.isSome(o)){const e="string"==typeof s?s.charAt(s.length-1):null,n="string"==typeof s?s.charAt(0):null;for(let r=o.value;r<t.length;++r){const o=t[r];o.start<i?o.end===i?b(n)||a.set(o.meta.id,o):(a.set(o.meta.id,o),o.end+=c):o.start===o.end&&o.end===i?b(n)||a.set(o.meta.id,o):(o.start!==i||b(e)||a.set(o.meta.id,o),o.start+=c,o.end+=c)}r>o.value&&(r=o.value)}}else if(l.a.isDelete(e)){const i=n,o=d.a.lowerBound(t,e=>e.end<=i);if(p.g.isSome(o)){const n=i+e.delete;for(let r=o.value;r<t.length;++r){const o=t[r];o.start,o.start<n?(a.set(o.meta.id,o),o.start<i?o.end=o.end-Math.min(e.delete,o.end-i):o.end<=n?(o.start=i,o.end=i):(o.start=i,o.end-=e.delete)):(o.start-=e.delete,o.end-=e.delete)}r>o.value&&(r=o.value)}}}),{changed:t.slice(r),affected:Array.from(a.values())}})(e,this._rangesArray);this._verifyState&&this._verifyIsSorted();const n={changed:t.changed,affected:t.affected.map(e=>this.getRange(e.meta.id))};return this._enableMPTE&&n.affected.length>0?this.rangeChangedMPTE.next(n.affected):(n.changed.length>0||n.affected.length>0)&&this._rangeChanged.next(n),n}registerRange(e,t){if(this._ranges.has(e))throw new Error("Range already registered "+e);this._log.trace("Registered range: "+e);const n=a.create(e)(t);return this._validateRange(n),this._ranges.set(e,n),this._rangesArray.push(n),this._rangesArray.sort(u.b.ord.compare),n}_validateRange(e){u.b.isValid(this._lenCalc.textLength)(e)||this._log.warn("Trying to modify corrupted range start",{range:JSON.stringify(e),length:this._lenCalc.textLength})}getRange(e){const t=this._ranges.get(e);if(void 0===t)throw new Error("Range is not registered");return t}findRanges(e){return this._rangesArray.filter(e)}deregisterRange(e){this._log.trace("deregisterRange #"+e);const t=this.getRange(e);this._verifyState&&this._verifyIsSorted(),this._ranges.delete(e);try{return Object(o.pipe)(d.a.lowerBound(this._rangesArray,e=>e.end<t.end),p.g.getOrElse(()=>this._rangesArray.length),n=>{let a=n;for(;a<this._rangesArray.length&&this._rangesArray[a].meta.id!==e;)a++;return Object(m.f)(a<this._rangesArray.length&&this._rangesArray[a].meta.id===e,"Range should be present: "+e),this._rangesArray.splice(a,1),t})}catch(t){throw this._log.error("Cannot deregister range "+e,this._rangesArray),t}}findById(e){return p.g.fromNullable(this._ranges.get(e))}findByRange(e){const t=[];return Object(o.pipe)(d.a.lowerBound(this._rangesArray,t=>t.end<e.end),p.g.getOrElse(()=>this._rangesArray.length),n=>{let a=n;for(;a<this._rangesArray.length&&this._rangesArray[a].end===e.end;)this._rangesArray[a].start===e.start&&t.push(this._rangesArray[a]),a++;return t})}findIntersections(e){const t=[];return Object(o.pipe)(d.a.lowerBound(this._rangesArray,t=>t.end<e.start),p.g.getOrElse(()=>this._rangesArray.length),n=>{let a=n;for(;a<this._rangesArray.length;){const n=this._rangesArray[a];n.end>e.start&&e.end>n.start&&t.push(this._rangesArray[a]),a++}return t})}findClosestToPosition(e,t){const n=this._rangesArray.filter(t);return Object(o.pipe)(d.a.lowerBound(n,t=>e>=t.end),p.g.getOrElse(()=>n.length),t=>{const a=p.g.fromNullable(n[t]),r=p.g.fromNullable(n[t-1]);return Object(o.pipe)(a,p.g.map(t=>Object(o.pipe)(r,p.g.fold(()=>t,n=>t.start-e<=e-n.end?t:n))),p.g.orElse(r))})}getRegisteredRanges(){return this._rangesArray}getTextLength(){return this._lenCalc.textLength}_verifyIsSorted(){for(let e=1;e<this._rangesArray.length;++e)this._rangesArray[e-1].end>this._rangesArray[e].end&&(this._log.isEnabled(h.a.LogLevel.DEBUG)?this._log.error("Houston, we have a problem: Array is not sorted anymore @ "+e,this._rangesArray):this._log.error("Houston, we have a problem: Array is not sorted anymore"),this._rangesArray.sort(u.b.ord.compare))}toString(){return JSON.stringify(this,void 0,2)}toJSON(){return{textLength:this.getTextLength(),ranges:this._rangesArray}}constructor(e=0,t=!1,n=!1){Object(i.a)(this,"_enableMPTE",void 0),Object(i.a)(this,"_strictMode",void 0),Object(i.a)(this,"_log",void 0),Object(i.a)(this,"_verifyState",void 0),Object(i.a)(this,"_lenCalc",void 0),Object(i.a)(this,"_ranges",void 0),Object(i.a)(this,"_rangesArray",void 0),Object(i.a)(this,"_rangeChanged",void 0),Object(i.a)(this,"rangeChanged",void 0),Object(i.a)(this,"rangeChangedMPTE",void 0),Object(i.a)(this,"widen",void 0),Object(i.a)(this,"narrow",void 0),this._enableMPTE=t,this._strictMode=n,this._log=h.d.Logging.getLogger("position_manager",h.a.LogLevel.DEBUG),this._verifyState=this._log.isEnabled(h.a.LogLevel.INFO),this._ranges=new Map,this._rangesArray=[],this._rangeChanged=new g.a.Subject,this.rangeChanged=this._rangeChanged,this.rangeChangedMPTE=new g.a.Subject,this.widen=e=>(this._validateRange(e),Object(o.pipe)(e,e=>u.b.alterLeft(e,e.start<=0?0:1),p.b.chain(e=>u.b.alterRight(e,e.end>=this._lenCalc.textLength?0:1)),p.b.getOrElse(t=>(this._log.error("TextRange mutation error",t),e)))),this.narrow=e=>(this._validateRange(e),Object(o.pipe)(e,p.g.fromPredicate(e=>u.b.size(e)>1),p.g.map(e=>Object(o.pipe)(e,e=>u.b.alterLeft(e,e.meta.increasedLeft>0?-1:0),p.b.chain(e=>u.b.alterRight(e,e.meta.increasedRight>0?-1:0)),p.b.getOrElse(t=>(this._log.error("TextRange mutation error",t),e)))))),this._lenCalc=new v(e,this._verifyState),Object(f.r)("positions",()=>{this._log.info("PositionManager",this.toString()),this._verifyIsSorted()})}}},"9raK":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("000W"),r=n("U9Go"),i=n("DTwm"),o=n("FA0h"),s=n("j8jx"),c=r.i,l=r.g,u=r.e;r.j((function(e,t){return e.length===t.length})),r.j((function(e,t){for(var n in e)if(!(n in t))return!1;for(var n in t)if(!(n in e))return!1;return!0}));var d=r.l,p=d;var m=o.h,f=a.jb,h=r.m;var g=i.identity,b={URI:r.b,literal:function(){return r.h},string:c,number:l,boolean:u,nullable:function(e){return{equals:function(t,n){return null===t||null===n?t===n:e.equals(t,n)}}},type:p,struct:d,partial:function(e){return{equals:function(t,n){for(var a in e){var r=t[a],i=n[a];if(!(void 0===r||void 0===i?r===i:e[a].equals(r,i)))return!1}return!0}}},record:m,array:f,tuple:h,intersect:function(e){return function(t){return{equals:function(n,a){return t.equals(n,a)&&e.equals(n,a)}}}},sum:function(e){return function(t){return{equals:function(n,a){var r=n[e];return r===a[e]&&t[r].equals(n,a)}}}},lazy:function(e,t){return function(e){var t=Object(s.b)(e);return{equals:function(e,n){return t().equals(e,n)}}}(t)},readonly:g}},"A/YC":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return g}));var a,r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("DTwm"),c=n("tiWp"),l=n("+vYo"),u=n("xk6L"),d=n("phaH"),p=n("iVUr"),m=n("KH+i"),f=n("mgiE"),h=n("0kuo");!function(e){e.id="DraftAIItemId",e.Kind="DraftAIItem",e.eq=f.c.fromEquals((function(e,t){return p.a.PositionState.eq.equals(e.positionState,t.positionState)&&e.visibilityState===t.visibilityState}));e.isDraftAIItem=function(e){return e.id===a.id};e.changePosition=function(e){return function(t){return new b(e.visibilityState,t)}},e.clone=function(e){return new b(e.visibilityState,e.positionState)},e.createCard=function(e){return function(){return Object(c.pipe)(e,f.g.fold((function(){return new b("visible",p.a.PositionState.changeWatched(p.a.PositionState.empty,!0))}),(function(e){return new b(e.visibilityState,e.positionState)})))}}}(a||(a={}));var g,b=function(){function e(t,n){Object(r.a)(this,e),Object(o.a)(this,"visibilityState",void 0),Object(o.a)(this,"positionState",void 0),Object(o.a)(this,"kind",void 0),Object(o.a)(this,"id",void 0),Object(o.a)(this,"renderOptions",void 0),this.visibilityState=t,this.positionState=n,this.kind=a.Kind,this.id=a.id,this.renderOptions=m.a.defaultOptions}return Object(i.a)(e,[{key:"equals",value:function(e){return a.eq.equals(this,e)}},{key:"hashCode",value:function(){return Object(d.a)({positionState:JSON.stringify(this.positionState),visibilityState:this.visibilityState})}}]),e}();!function(e){var t;!function(e){var n;!function(e){e.draftAIMiniCardClick="draftAIMiniCardClick",e.draftAIMiniCardMount="draftAIMiniCardMount"}(n=e.Kind||(e.Kind={})),function(e){!function(e){e.collapsed="collapsed",e.expanded="expanded"}(e.NextState||(e.NextState={}))}(e.ToggleNonPriorityCards||(e.ToggleNonPriorityCards={}));e.match=function(e){return function(t){switch(t.kind){case n.draftAIMiniCardMount:return e.onMount(t);case n.draftAIMiniCardClick:return e.onCardClick(t);default:return Object(h.c)(t)}}};e.isMiniCardClick=function(e){return e.kind===t.Kind.draftAIMiniCardClick}}(t=e.Event||(e.Event={}));e.create=function(e){var a=new u.a.Subject,r=l.a.create({node:f.g.none,title:e});return a.subscribe(Object(s.flow)(t.match({onMount:n,onCardClick:function(){return s.identity}}),r.modify.bind(r))),{state:r,events:a}};var n=function(e){return function(t){return{node:e.node,title:t.title}}}}(g||(g={}))},AAy5:function(e){e.exports=JSON.parse('{"content":"_07edb9d2-plagiarism-content","loader":"_5d611963-plagiarism-loader","loadingText":"_29746dd2-plagiarism-loadingText","originality100Text":"_3ae74a12-plagiarism-originality100Text _29746dd2-plagiarism-loadingText","illusration":"_8568962c-plagiarism-illusration"}')},ALFw:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a,r,i,o,s,c=n("cZKX"),l=n("DTwm"),u=n("9raK"),d=n("w8H4"),p=n("mgiE"),m=n("tCI5"),f=n("0kuo");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){h(e,t,n[t])}))}return e}function b(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}(a||(a={})).getSduiSingleCardTransitions=function(e,t,n){var a=Object(l.pipe)(e,p.g.fold((function(){return-1}),(function(e){return n.compare(e,t)})));switch(a){case-1:return[r.Actions.slideContentLeft,r.Actions.slideTitleLeft];case 1:case 0:return[r.Actions.slideContentRight,r.Actions.slideTitleRight];default:Object(f.c)(a)}},o=r||(r={}),(i=o.Actions||(o.Actions={})).slideContentLeft={type:"transition",fromName:"content",toName:"content",animateFrom:m.a.AnimationName.SlideLeft,animateTo:m.a.AnimationName.SlideLeft},i.slideTitleLeft={type:"transition",fromName:"title",toName:"title",animateFrom:m.a.AnimationName.SlideLeft,animateTo:m.a.AnimationName.SlideLeft},i.slideContentRight={type:"transition",fromName:"content",toName:"content",animateFrom:m.a.AnimationName.SlideRight,animateTo:m.a.AnimationName.SlideRight},i.slideTitleRight={type:"transition",fromName:"title",toName:"title",animateFrom:m.a.AnimationName.SlideRight,animateTo:m.a.AnimationName.SlideRight},function(e){var t=function(e){return"cardDSL"in e&&"prevCardDSL"in e&&"transitions"in e};e.isSDUIItem=t;var n=d.a(u.a)(m.b.Content),r=d.a(u.a)(m.b.Action);e.eq=p.c.fromEquals((function(e,a){return t(e)&&t(a)&&p.g.getEq(n).equals(e.cardDSL,a.cardDSL)&&p.g.getEq(n).equals(e.prevCardDSL,a.prevCardDSL)&&c.eb(r).equals(e.transitions,a.transitions)})),e.getOrd=Object(l.flow)(p.g.getOrd,p.h.contramap((function(e){return e.cardDSL})));!function(e){e.getPojoUpdates=function(){return{setSDUIState:function(e,t,n){return function(a){return b(g({},a),{cardDSL:e,prevCardDSL:t,transitions:n})}},setDSL:function(e){return function(t){return b(g({},t),{cardDSL:e,transitions:[]})}}}},e.getSelect=function(e){return function(n,r){return function(i){return Object(l.pipe)(n,p.g.filter(t),p.g.filter((function(e){return p.g.isSome(i.cardDSL)||p.g.isSome(e.cardDSL)})),p.g.map((function(t){return e(i.cardDSL,t.cardDSL,a.getSduiSingleCardTransitions(p.g.some(t),i,r))(i)})),p.g.getOrElse((function(){return i})))}}},e.getCompleteTransition=function(e){return function(n){return t(n)?e(n.cardDSL,p.g.none,[])(n):n}}}(e.Capabilities||(e.Capabilities={}))}(s||(s={}))},AVfX:function(e){e.exports=JSON.parse('{"container":"_f04dcf08-gb-uphook-container","content":"_573ae2e4-gb-uphook-content","title":"_df4dc0ed-gb-uphook-title","image":"_dd8cbca1-gb-uphook-image","buttonsContainer":"_ccde066f-gb-uphook-buttonsContainer","ctaButton":"_fcb1b6c9-gb-uphook-ctaButton","dismissButton":"_d410f4aa-gb-uphook-dismissButton"}')},AVzG:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("vGXj"),s=n("B8yO"),c=n("DTwm"),l=n("tiWp"),u=n("OwvP"),d=n("4GyQ"),p=n("xk6L"),m=n("yIk2"),f=n("JsWC"),h=n("RRF2"),g=n("0kuo"),b=n("mgiE"),v=n("TKPA"),y=n("2swC"),O=n("XQlQ"),S=n("nWMp"),C=n("7IMz");!function(e){let t;!function(e){e.toSelector=function(e){switch(e){case"top":case"topCenter":return{align:"top",selector:f.a.Selector.preferBy("top",f.a.Selector.Placement.middle)};case"topRight":return{align:"top",selector:f.a.Selector.preferBy("top",f.a.Selector.Placement.right)};case"topLeft":return{align:"top",selector:f.a.Selector.preferBy("top",f.a.Selector.Placement.left)};case"bottom":case"bottomCenter":return{align:"bottom",selector:f.a.Selector.preferBy("bottom",f.a.Selector.Placement.middle)};case"bottomRight":return{align:"bottom",selector:f.a.Selector.preferBy("bottom",f.a.Selector.Placement.right)};case"bottomLeft":return{align:"bottom",selector:f.a.Selector.preferBy("bottom",f.a.Selector.Placement.left)};case"left":return{align:"left",selector:f.a.Selector.preferBy("left",f.a.Selector.Placement.middle)};case"right":return{align:"right",selector:f.a.Selector.preferBy("right",f.a.Selector.Placement.middle)};case"auto":case"center":return{align:h.c.Rect.Axis.vertical,selector:f.a.Selector.preferBy("top",f.a.Selector.Placement.middle)};default:return Object(g.c)(e)}}}(t=e.Alignment||(e.Alignment={}));var n=e.ByPoint=e=>{var{point:t,className:n}=e,a=Object(o.a)(e,["point","className"]);return s.createElement(u.a.div,Object(r.a)({"data-role":"positioned-container",style:t.pipe(p.a.map(b.g.mapOrDefault(f.a.toCss,{})))},Object(d.c)(A.wrapper,n,t.pipe(p.a.map(e=>b.g.isNone(e)?A.hidden:""))),a))};const a=e=>{const{rect:t,onMount:a}=C.a.useRectWatcher(),r=m.b.toObservable(e.rect),i=m.b.toObservable(e.pinTargetRect),o=w(e.align);var l;const u=S(r,t,o,null!==(l=e.selector)&&void 0!==l?l:f.a.Selector.preferTopMiddle,i,"relative"===e.position);return s.createElement(n,{mount:a,className:e.className,point:u.pipe(p.a.map(b.g.map(e=>e.tangentialPoint)))},!0===e.withPin&&u.pipe(p.a.map(Object(c.flow)(b.g.chain(e=>e.median),b.g.map(e=>s.createElement(y,{point:e,key:"pin"})),b.g.toNullable))),e.children)};e.ByAbsoluteRect=e=>s.createElement(a,Object(i.a)(Object(r.a)({},e),{position:"absolute"})),e.ByRelativeRect=e=>s.createElement(a,Object(i.a)(Object(r.a)({},e),{position:"relative"}));var y=e.Pin=e=>{const t=m.b.toObservable(e.point).pipe(p.a.map(e=>e.side),p.a.map(e=>x[e])),n=m.b.toObservable(e.point).pipe(p.a.map(e=>e.point),p.a.map(({x:e,y:t})=>({top:t,left:e})));return s.createElement(u.a.i,Object(r.a)({"data-role":"pin",style:n},Object(d.c)(t,x.wrapper)))};const S=(e,t,n,a,r,i)=>p.a.combineLatestStatic(e,s.useContext(O.a.Context).pipe(p.a.map(e=>e.rect)),t.pipe(p.a.distinctUntilChanged(b.g.getEq(h.c.Box.eq).equals)),r).pipe(p.a.map(([e,t,r,o])=>Object(l.pipe)(r,b.g.map(r=>{const s=f.a.QualifiedVariants.build(t,r,n(e));let c=a(s).point;const u=Object(l.pipe)(f.a.toRect(r,c),b.g.fromEither,b.g.chain(t=>Object(l.pipe)(h.c.Rect.getMedian(e,t),b.g.map(e=>({anchorMedian:e,bodyRect:t})))),b.g.chain(({anchorMedian:e,bodyRect:t})=>{if(void 0!==o){const n=h.c.Rect.stickToSide(h.c.Rect.Side.invert(e.side),o)(t);return c=f.a.fromRect(n),Object(l.pipe)(h.c.Rect.getMedian(o,n),b.g.map(({side:e,point:t})=>({side:e,point:h.c.Rect.Point.relativeTo(t,n)})))}return Object(l.pipe)(b.g.some(e),b.g.map(({side:e,point:n})=>({side:e,point:h.c.Rect.Point.relativeTo(n,t)})))}));return{tangentialPoint:f.a.relativeTo(c,i?e:t),median:u}})))),w=(e=h.c.Rect.Axis.both)=>Object(v.w)(h.c.Rect.Axis,e)?t=>f.a.Variants.byAxis(e,t):t=>({[e]:f.a.Zone.bySide(e,t)})}(a||(a={}));const w={position:"absolute",border:`${S.a.px(7)} solid ${y.a.BackgroundTooltip}`,transform:`translate(${S.a.px(-7)}, ${S.a.px(-7)})`},k={borderTopColor:"transparent",borderRightColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateY(${S.a.px(7)})`}}},E={borderTopColor:"transparent",borderRightColor:"transparent",borderBottomColor:"transparent",$nest:{"& + *":{transform:`translateX(${S.a.px(-7)})`}}},j={borderRightColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateY(${S.a.px(-7)})`}}},_={borderTopColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateX(${S.a.px(7)})`}}},x=S.a.stylesheet({wrapper:[w],top:[k],right:[E],bottom:[j],left:[_]}),A=S.a.stylesheet({hidden:[{visibility:"hidden",opacity:0}],wrapper:[{position:"absolute",transition:"opacity .2s"}]})},AcQZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("4GyQ"),s=n("2swC"),c=n("NDcT"),l=n("fC5a"),u=n("ySi0"),d=n("nWMp"),p=n("PltQ"),m=n("NbNH");const f=({upgradeAction:e,size:t,title:n,className:s,isEligibleForFreeTrial:d})=>{const p=i.useContext(c.a.Context),m=Boolean(d)?p.tryForFree:p.goPremium,f=Boolean(n)?n:m;return i.createElement(l.a,Object(r.a)(Object(a.a)({name:"upgrade"},Object(o.c)(s,"big"===t?_.baseBig:"link"===t?_.link:_.baseSmall)),{onClick:e}),"link"===t?i.createElement(u.d.PaidLink,{width:14,className:_.linkIcon}):i.createElement(u.d.Paid,{className:"big"===t?_.bigIcon:_.icon}),f)},h={display:"inline-flex",alignItems:"center",background:s.a.CoreGreen60,borderRadius:d.a.rem(m.t),boxShadow:"0 2px 5px "+d.a.color(p.j).fade(.35).toRGBA().toString(),color:s.a.CoreNeutral0,textTransform:"uppercase",letterSpacing:d.a.rem(m.h),fontWeight:"bold",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:d.a.color(s.a.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:d.a.color(s.a.CoreGreen60).tint(.2).toRGBA().toString()}}},g={padding:`0 ${d.a.rem(3)} 0 ${d.a.rem(2)}`,fontSize:d.a.rem(.8125),lineHeight:d.a.rem(3)},b={padding:`0 ${d.a.rem(1)} 0 ${d.a.rem(.5)}`,fontSize:d.a.rem(.6875),lineHeight:d.a.rem(2)},v={background:s.a.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:d.a.color(s.a.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:d.a.color(s.a.CoreGreen60).tint(.2).toRGBA().toString()}}},y={padding:`0 ${d.a.rem(3)} 0 ${d.a.rem(2)}`,fontSize:d.a.rem(.8125),lineHeight:d.a.rem(3)},O={padding:`0 ${d.a.rem(2)} 0 ${d.a.rem(.5)}`,fontSize:d.a.rem(.6875),lineHeight:d.a.rem(2)},S={fill:s.a.CoreNeutral0,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{fill:s.a.CoreNeutral0}}},C={marginRight:d.a.rem(.2)},w={display:"inline-flex",alignItems:"center",color:s.a.CoreGreen60,fontSize:d.a.rem(.75),transition:"transform .2s ease-out",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{transform:"scale(1.05)"},"&:not([data-disabled='true']):active":{transition:"none",transform:"scale(1)"}}},k={color:s.a.CoreGreen60},E={fill:s.a.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:s.a.CoreGreen60}}},j={fill:s.a.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:s.a.CoreGreen60}}},_=d.a.stylesheet({base:[h],baseBig:[h,g],baseSmall:[h,b],baseUpHookRedesign:[h,v],baseBigUpHookRedesign:[g,v,y],baseSmallUpHookRedesign:[b,v,O],icon:[S],bigIcon:[S,C],link:[w],linkUpHookRedesign:[w,k],linkIconUpHookRedesign:[E],linkIcon:[j]})},AvMM:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("JOKA"),i=n("tiWp"),o=n("+vYo"),s=n("uxqH"),c=n("0kuo"),l=n("RRF2"),u=n("mgiE"),d=n("TKPA"),p=n("4UH3");!function(e){var t,n=function(e,n){var a=n.emogenie.popup.intensities;switch(e){case t.VeryStrong:return a.veryStrong;case t.Strong:return a.strong;case t.Moderate:return a.moderate;case t.Slight:return a.slight;default:return Object(c.c)(e)}};!function(e){e[e.Low=1]="Low",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate",e[e.Strong=4]="Strong",e[e.VeryStrong=5]="VeryStrong"}(t||(t={}));var a,m,f,h;e.intensitiesOrder=l.e.keys(t).map((function(e){return t[e]})).filter((function(e){return"number"==typeof e})).sort();!function(e){e.fromConfidence=function(e,n){var a=s.b.unwrap(e);return a<.25?t.Slight:a<.5?t.Moderate:a/n>.5?t.VeryStrong:t.Strong}}(a||(a={})),function(e){e.fromModel=function(e,t,r,o){var s=e.name,c=e.confidence,l=e.feedback,d=e.emoji,m=a.fromConfidence(c,r);return{emoji:d,name:s,intensity:m,intensityCaption:n(m,o),feedback:l,actions:{like:{name:"".concat(s,"-like"),tooltip:o.emogenie.popup.actions.like,active:Object(i.pipe)(l,u.g.exists((function(e){return e===p.a.FeedbackType.Like}))),disabled:u.g.isSome(l),handler:function(){return t(s,p.a.FeedbackType.Like)}},dislike:{name:"".concat(s,"-dislike"),tooltip:o.emogenie.popup.actions.dislike,active:Object(i.pipe)(l,u.g.exists((function(e){return e===p.a.FeedbackType.Dislike}))),disabled:u.g.isSome(l),handler:function(){return t(s,p.a.FeedbackType.Dislike)}}}}}}(m=e.Item||(e.Item={})),function(e){!function(e){e.Report="Report",e.ZeroState="ZeroState"}(e.Type||(e.Type={}));e.isReport=function(e){return e.type===f.Type.Report}}(f=e.View||(e.View={})),function(e){e.fromModel=function(e,t,n){var a=e.reduce((function(e,t){return e+s.b.unwrap(t.confidence)}),0),i=Object(r.a)(e.map((function(e){return m.fromModel(e,t,a,n)}))),o=i[0],c=i.slice(1);return{type:f.Type.Report,primaryItem:o,secondaryItems:c,onPopupClose:d.e,onPopupOpen:d.e}}}(h||(h={})),function(e){e.create=function(e,t,n){return{visualState:o.a.combine(e.emotions,t.documentLength.view("trimmed").view((function(e){return e<120})),(function(t,a){return a||0===t.length?{type:f.Type.ZeroState,tooltipText:a?u.g.some(n.emogenie.popup.textIsTooShortMessage):u.g.none}:h.fromModel(t,e.sendEmotionFeedback,n)}))}}}(e.ViewModel||(e.ViewModel={})),e.getIntensityTitle=n}(a||(a={}))},AyJj:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("B8yO"),r=n("2swC"),i=n("fC5a"),o=n("k4jz"),s=n("nWMp"),c=n("NbNH");const l=e=>a.createElement(i.a.Animated,Object(i.c)(e,p.gray)),u={position:"relative",display:"inline-block",overflow:"hidden",outline:"none",border:0,verticalAlign:"middle",whiteSpace:"nowrap",cursor:"default",userSelect:"none",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{cursor:"pointer"}}},d={overflow:"hidden",padding:"0 "+s.a.rem(.5),borderRadius:s.a.rem(c.t),backgroundColor:r.a.CoreNeutral60,color:r.a.CoreNeutral0,textTransform:"none",letterSpacing:s.a.rem(r.h.ButtonLetterSpacing),fontSize:s.a.rem(r.h.ButtonSize),lineHeight:s.a.rem(r.h.ButtonLineHeight),transitionDuration:s.a.seconds(.2),$nest:{"&[data-active='true'] > i[role='icon'] > svg, &:not([data-disabled='true']):hover > i[role='icon'] > svg, &:not([data-disabled='true'])[data-hovered='true'] > i[role='icon'] > svg":{fill:r.a.CoreNeutral0},"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:r.a.CoreNeutral50,color:r.a.CoreNeutral0},"&:not([data-disabled='true'])[data-active='true']":{backgroundColor:r.a.CoreNeutral50,color:r.a.CoreNeutral0,$nest:{"&:hover":{backgroundColor:r.a.CoreNeutral50,color:r.a.CoreNeutral0}}},"&[data-disabled='true']":{backgroundColor:r.a.CoreNeutral60,color:r.a.CoreNeutral50},[`.${o.g} &`]:{padding:"0 "+s.a.rem(.5),marginRight:s.a.px(2),borderRadius:0,backgroundColor:r.a.CoreNeutral60,$nest:{"&:first-child":{borderRadius:`${s.a.rem(c.t)} 0 0 ${s.a.rem(c.t)}`},"&:last-child":{marginRight:0,borderRight:"none",borderRadius:`0 ${s.a.rem(c.t)} ${s.a.rem(c.t)} 0`},"&[data-active='true']":{backgroundColor:r.a.CoreBlue50,color:r.a.CoreNeutral0,$nest:{"&:hover":{backgroundColor:r.a.CoreBlue40,color:r.a.CoreNeutral0}}}}}}},p=s.a.stylesheet({button:[u],gray:[u,d]})},B8sb:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("Wy1Y"),r=n("uKMM"),i=n("a5gI"),o=n("8O/t"),s=n("X76w"),c=n("E+R1"),l=n("DTwm"),u=n("tiWp"),d=n("/edk"),p=n("GMJx"),m=n("B/Ki"),f=n("mgiE"),h=function(){function e(t){var n=this;Object(a.a)(this,e),Object(i.a)(this,"_ded",void 0),Object(i.a)(this,"_pushChanges",void 0),Object(i.a)(this,"_getContents",void 0),this._ded=t,this._pushChanges=function(e){return c.o((function(){return n._ded.pushChanges(d.a.delta(e,n._ded.getTextLength()),"user")}),f.b.toError)},this._getContents=Object(u.pipe)(c.o(this._ded.getContents,f.b.toError),f.l.fromIOEither)}return Object(r.a)(e,[{key:"selectedRange",get:function(){var e=this._ded.getCursor();return{start:e.index,end:e.length+e.index}}},{key:"replaceCurrentSelectionWith",value:function(e){return this.insertContent(e,{onNewLine:!1,replace:!0,preserveSelection:!1})}},{key:"insertContent",value:function(e,t){var n=this;return Object(u.pipe)(f.l.fromIO(this._ded.flushChanges),f.l.apSecond(Object(u.pipe)(f.l.fromIO((function(){var e=n.selectedRange,a=e.start,r=e.end;return{start:a,deleteDelta:t.replace&&r>a?(new p.a).delete(r-a):new p.a}})),f.l.map(Boolean(t.onNewLine)?b:g),f.l.ap(this._getContents))),f.l.chainFirst(Object(l.flow)((function(t){return(new p.a).retain(t.start).concat(e).concat(t.deleteDelta)}),this._pushChanges,f.l.fromIOEither)),f.l.chain((function(a){var r=a.start;return function(){return new Promise((function(a){return requestAnimationFrame((function(){return a(n._ded.setCursor(r,Boolean(t.preserveSelection)?e.length():0))}))}))}})))}}]),e}();function g(e){return function(){return e}}function b(e){var t=e.start,n=function(e){return m.a.isInsertString(e)&&e.insert.includes("\n")},a=m.a.findInDelta(n,(function(e){return e.insert.indexOf("\n")}));return function(r){return Object(u.pipe)(r,(function(e){return e.delta.slice(t)}),a,f.g.getOrElse((function(){return r.delta.length()})),function(e,a){return function(r){var i=a.delta,o=1;if(0===t)1===i.length()&&(o=0);else if(t>0&&n(i.slice(t-1,t).ops[0])){var s=i.slice(t,t+1).ops[0];Boolean(s)?n(s)&&(o=0):o=0}return e+r+o}}(t,r),(function(t){return Object(s.a)(Object(o.a)({},e),{start:t})}))}}},BFgw:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("OwvP"),s=n("0kuo"),c=n("2swC"),l=n("6Fzp"),u=n("M3t0"),d=n("NDcT"),p=n("fC5a"),m=n("IRug"),f=n("nWMp"),h=n("AyJj");const g={unauthorizedError:(e,t)=>i.createElement(b.UnauthorizedError,{action:t("gotoLogin")}),offline:(e,t)=>i.createElement(b.Offline,{reconnect:t("reconnect"),reconnectTime:e.args.reconnectTime}),serverError:()=>i.createElement(b.ServerError,null),connectionWSError:()=>i.createElement(b.ConnectionWSError,null),clientConnectionError:()=>i.createElement(b.ClientConnectionError,null),documentNotFoundError:(e,t)=>i.createElement(b.DocumentNotFoundError,{navigateToDocuments:t("navigateToDocuments")}),selfUpdate:()=>i.createElement(b.SelfUpdate,null),desktopHardUpdate:(e,t)=>i.createElement(b.DesktopHardUpdate,{reloadMethod:t("reloadMethod")}),desktopHardDownload:(e,t)=>i.createElement(b.DesktopHardDownload,{downloadMethod:t("downloadMethod")}),slowNetwork:()=>i.createElement(b.SlowNetworkError,null),checkingIsDown:()=>i.createElement(b.CheckingIsDownError,null),error:()=>i.createElement(b.Error,null),paymentSuccess:()=>i.createElement(b.PaymentSuccessMessage,null),paymentError:()=>i.createElement(b.PaymentErrorMessage,null),proofitPaymentDeclinedError:(e,t)=>i.createElement(b.ProofitPaymentDeclinedError,{paymentMethod:e.args.paymentMethod,navigateToSubscription:t("navigateToSubscription")}),proofitEmptyDocumentError:()=>i.createElement(b.ProofitEmptyDocumentError,null),proofitComplexInternalStructureError:(e,t)=>i.createElement(b.ProofitComplexInternalStructureError,{navigateToDocuments:t("navigateToDocuments")}),proofitDocumentProofreadError:(e,t)=>i.createElement(b.ProofitDocumentProofreadError,{navigateToDocuments:t("navigateToDocuments")}),copyToClipboardFailed:()=>i.createElement(b.CopyToClipboardError,null),proofitCancelled:()=>i.createElement(b.ProofitCancelled,null),proofitCompleted:e=>i.createElement(b.ProofitCompleted,{documentTitle:e.args.documentTitle,documentDownloadUrl:e.args.documentDownloadUrl,email:e.args.email}),denaliDocumentUploaded:(e,t)=>i.createElement(b.DenaliDocumentUploaded,{navigateToDocuments:t("navigateToDocuments")}),denaliFormattingCompatibility:()=>i.createElement(b.DenaliFormattingCompatibility,null),alertsNothingFound:()=>i.createElement(b.AlertsNothingFound,null),desktopSoftUpdate:(e,t)=>i.createElement(b.DesktopSoftUpdate,{reloadMethod:t("reloadMethod")}),desktopSoftDownload:(e,t)=>i.createElement(b.DesktopSoftDownload,{downloadMethod:t("downloadMethod")}),switchToDenali:()=>i.createElement(b.Generic,{type:S.switchToDenali}),feedbackSend:()=>i.createElement(b.Generic,{type:S.feedbackSend}),statisticsError:()=>i.createElement(b.Generic,{type:S.statisticsError}),copySuccess:e=>i.createElement(b.Generic,{type:"referenceCopied"===e.args.copyType?S.referenceCopied:"documentCopied"===e.args.copyType?S.documentCopied:S.somethingCopied}),downloadDocumentNotFoundError:()=>i.createElement(b.DownloadDocumentNotFoundError,null),isTemporaryDownloadError:()=>i.createElement(b.Generic,{type:S.isTemporaryDownloadError}),clipboardNotSupported:e=>i.createElement(b.ClipboardNotSupported,{hotkey:e.args.hotkey}),documentSizeExceeded:e=>i.createElement(b.DocumentSizeExceeded,{os:e.args.os,officeAddinUrl:e.args.officeAddinUrl}),documentUploaded:(e,t)=>i.createElement(b.DocumentUploaded,{navigateToDocument:t("navigateToDocument")}),documentTypeUnsupported:()=>i.createElement(b.DocumentTypeUnsupported,null),trackedChangesIsUnsupported:e=>i.createElement(b.DocumentWithTrackedChangesIsUnsupported,{link:e.args.link}),documentUploadGeneralError:()=>i.createElement(b.Generic,{type:S.documentUploadGeneralError}),documentIsEmpty:()=>i.createElement(b.Generic,{type:S.documentIsEmpty}),noFileToUpload:()=>i.createElement(b.Generic,{type:S.noFileToUpload}),oneDocumentIsAllowed:()=>i.createElement(b.Generic,{type:S.oneDocumentIsAllowed})};var b;!function(e){e.UnauthorizedError=({action:e})=>i.createElement(m.b.TitledContent,{title:"You've Been Logged Out"},"This occurs due to inactivity or logging out on another device.",i.createElement("br",null),i.createElement(h.a,{name:"login",className:O.footerLink,onClick:e},"Log Back In")),e.Offline=({reconnect:e,reconnectTime:t})=>i.createElement(m.b.TitledContent,{title:"Lost Connection"},"Your Internet session was interrupted. We’ll try to reconnect you in"," ",i.createElement(o.a.span,null,t.view(e=>e))," seconds.",i.createElement("br",null),i.createElement(h.a,{name:"reconnect",className:O.footerLink,onClick:e},"Reconnect Now")),e.ServerError=()=>{const e=t(h.a,"UnknownConnectionError"),n=i.useContext(l.a.Context);return i.createElement(m.b.TitledContent,{title:"Grammarly couldn’t establish a connection to the server"},"Try reloading the page in 5 minutes. If the issue persists, check"," ",i.createElement(p.a,{name:"serverEncounteredAnError",className:O.link,href:n.support.troubleshooting.serverEncounteredAnError,target:"_blank"},"this article"),".",i.createElement("br",null),i.createElement(e,{name:"reload-page",className:O.footerLink},"Reload This Page"))},e.ConnectionWSError=()=>{const e=i.useContext(l.a.Context);return i.createElement(m.b.TitledContent,{title:"Can’t Connect to Grammarly"},"Your network configuration currently blocks Grammarly services on this computer. ",i.createElement("br",null),i.createElement(h.a,{name:"troubleshoot",className:O.footerLink,href:e.support.troubleshooting.diagnosticTestPath,target:"_blank"},"Troubleshoot This Issue"))},e.ClientConnectionError=()=>{const e=t(h.a,"ClientConnectionErrorNotification"),n=i.useContext(l.a.Context);return i.createElement(m.b.TitledContent,{title:"Grammarly couldn’t establish a connection to the server"},"Try reloading the page in 5 minutes. If the issue persists, check"," ",i.createElement(p.a,{name:"serverEncounteredAnError",className:O.link,href:n.support.troubleshooting.serverEncounteredAnError,target:"_blank"},"this article"),".",i.createElement("br",null),i.createElement(e,{name:"reload-page",className:O.footerLink},"Reload Page Now"))},e.DocumentNotFoundError=({navigateToDocuments:e})=>i.createElement(m.b.TitledContent,{title:"Can’t find this document"},"It looks like this document was removed or URL is incorrect.",i.createElement("br",null),i.createElement(h.a,{name:"goto-docs",className:O.footerLink,onClick:e},"Go to your documents")),e.SelfUpdate=()=>{const e=i.useContext(d.a.Context),n=t(p.a,"SelfUpdateBlocker");return i.createElement(m.b.TitledContent,{title:"Grammarly needs to refresh this page"},"Don't worry - your documents have already been saved. Please"," ",i.createElement(n,{name:"reload-page",className:O.link},"reload")," ","the page ",e.hotkeyLabelR,".")},e.DesktopHardUpdate=({reloadMethod:e})=>{const t=i.useContext(d.a.Context).desktopUpdate;return i.createElement(m.b.TitledContent,{title:t.hardTitle},t.hard,i.createElement("br",null),i.createElement(h.a,{name:"reload-desktop",className:O.footerLink,onClick:e},t.reload))},e.DesktopHardDownload=({downloadMethod:e})=>{const t=i.useContext(d.a.Context).desktopUpdate;return i.createElement(m.b.TitledContent,{title:t.hardTitle},t.hard,i.createElement("br",null),i.createElement(h.a,{name:"download-desktop",className:O.footerLink,onClick:e},t.download))},e.SlowNetworkError=()=>{const e=i.useContext(l.a.Context);return i.createElement(m.b.TitledContent,{title:"Your internet connection is unstable"},"Check"," ",i.createElement(p.a,{name:"connectionIsUnstable",className:O.link,href:e.support.troubleshooting.connectionIsUnstable,target:"_blank"},"this article")," ","to resolve the issue.")},e.CheckingIsDownError=()=>{const e=i.useContext(l.a.Context);return i.createElement(m.b.TitledContent,{title:"Text checking is temporarily unavailable"},"To resolve the issue, check"," ",i.createElement(p.a,{name:"textCheckingUnavailable",className:O.link,href:e.support.troubleshooting.textCheckingUnavailable,target:"_blank"},"this article"),".")},e.Error=()=>{const e=i.useContext(l.a.Context);return i.createElement(m.b.TitledContent,{title:"We couldn’t perform this action"},i.createElement(p.a,{name:"howDoIClearCacheAndCookies",className:O.link,href:e.support.troubleshooting.howDoIClearCacheAndCookies,target:"_blank"},"Clear cache")," ","and try again.")},e.ProofitPaymentDeclinedError=({paymentMethod:e,navigateToSubscription:t})=>{const n=i.useContext(d.a.Context).proofitPayment,a=function(e,t,n){switch(e){case"creditCard":return t;case"payPal":return n;default:const a="Unknown payment method: "+e;throw u.d.Logging.getLogger("ProofitView").warn(a),new Error(a)}}(e,n.creditCard,n.payPal);return i.createElement(m.b.TitledContent,{title:"Order can not be processed"},i.createElement("div",null,a),"Please update your credit card information in the Manage Subscription section.",i.createElement("br",null),i.createElement(h.a,{name:"manage-subscription",className:O.footerLink,onClick:t},"Go to Manage Subscription"))},e.PaymentSuccessMessage=()=>{const e=i.useContext(d.a.Context).proofitOrderModal.card.paymentSuccess;return i.createElement(m.b.TitledContent,{title:e.title},i.createElement("div",null,e.message))},e.PaymentErrorMessage=()=>{const e=i.useContext(d.a.Context).proofitOrderModal.card.paymentError,t=i.useContext(l.a.Context);return i.createElement(m.b.TitledContent,{title:e.title},i.createElement("div",null,e.message(t.support.login)))},e.ProofitEmptyDocumentError=()=>i.createElement(m.b.TitledContent,{title:"Document is empty"},"The document you are trying to submit is empty. Please write something and try again."),e.ProofitDocumentProofreadError=({navigateToDocuments:e})=>i.createElement(m.b.TitledContent,{title:"This document is a recent submission"},"The text you are trying to send for human proofreading was reviewed by our team. Please edit your text or select another document before you re-submit.",i.createElement("br",null),i.createElement(h.a,{name:"goto-docs",className:O.footerLink,onClick:e},"Go to your documents")),e.ProofitComplexInternalStructureError=({navigateToDocuments:e})=>i.createElement(m.b.TitledContent,{title:"This document cannot be corrected"},"The text you are trying to send for human proofreading is either too long or has a complex internal structure. Please edit your text (e.g., reduce length, remove significantly long tables) or select another document.",i.createElement("br",null),i.createElement(h.a,{name:"goto-docs",className:O.footerLink,onClick:e},"Go to your documents"));var t=e.withReload=(e,t)=>{class n extends i.Component{render(){return i.createElement(e,Object(r.a)(Object(a.a)({},this.props),{onClick:()=>{try{localStorage.setItem("pageReloadReason",JSON.stringify({source:t,location:window.location.href,timestamp:Date.now()}))}catch(e){}window.location.reload()}}))}}return n};e.CopyToClipboardError=()=>{const e=i.useContext(d.a.Context);return i.createElement(m.b.TitledContent,{title:"Copying Is Not Supported by Your Browser"},"Please use ",e.hotkeyLabelC," instead.")},e.ProofitCancelled=()=>{const e=i.useContext(l.a.Context);return i.createElement(m.b.TitledContent,{title:"Your order has been cancelled"},"Your proofreading order has been cancelled and the payment refunded. Please check your email for more information, or contact"," ",i.createElement(h.a,{name:"support",className:O.footerLink,href:e.support.login,target:"_blank"},"Grammarly support"))},e.ProofitCompleted=({documentTitle:e,documentDownloadUrl:t,email:n})=>i.createElement(m.b.TitledContent,{title:(e||"Your")+" document has been proofread"},"A version of this document with proofreaders’ marks has been emailed to you at ",n," in .docx format.",i.createElement("br",null),i.createElement(h.a,{name:"download",className:O.footerLink,href:t,target:"_blank"},"Download .docx")),e.DenaliFormattingCompatibility=()=>{const e=i.useContext(d.a.Context),t=i.useContext(l.a.Context);return i.createElement(m.b.TitledContent,{title:e.rtfCompatibilityModeNotificationTitle},"To preserve your document’s formatting, Grammarly’s formatting tools are temporarily not available.",i.createElement("br",null),i.createElement(h.a,{name:"support",className:O.footerLink,href:t.support.rtfCompatibilityUrl,target:"_blank"},"Learn more"))},e.DenaliDocumentUploaded=({navigateToDocuments:e})=>{const{denaliDocumentUploadNotification:t}=i.useContext(d.a.Context);return i.createElement(m.b.TitledContent,{title:t.title},t.text," ",i.createElement(p.a,{name:"goto-docs",className:O.link,onClick:e},t.link))},e.AlertsNothingFound=()=>i.createElement(m.b.Content,null,"Grammarly found no critical writing issues in this text. Keep up the great work!"),e.DesktopSoftUpdate=({reloadMethod:e})=>{const t=i.useContext(d.a.Context).desktopUpdate;return i.createElement(m.b.TitledContent,{title:t.softTitle},t.soft,i.createElement("br",null),i.createElement(h.a,{name:"reload-desktop",className:O.footerLink,onClick:e},t.reload))},e.DesktopSoftDownload=({downloadMethod:e})=>{const t=i.useContext(d.a.Context).desktopUpdate;return i.createElement(m.b.TitledContent,{title:t.softTitle},t.soft,i.createElement("br",null),i.createElement(h.a,{name:"download-desktop",className:O.footerLink,onClick:e},t.download))},e.DownloadDocumentNotFoundError=()=>{const e=i.useContext(d.a.Context);return i.createElement(m.b.TitledContent,{"data-name":"document-not-found",title:e.downloadDocumentNotFoundError})},e.ClipboardNotSupported=({hotkey:e})=>{const t=i.useContext(d.a.Context);return i.createElement(m.b.Content,null,t.hotkeyUnsupported,i.createElement("b",null,e))},e.DocumentSizeExceeded=({os:e,officeAddinUrl:t})=>{const n=i.useContext(d.a.Context).fileSizeExceededNotification;return i.createElement(m.b.TitledContent,{title:n.title},n.body,"windows"===e&&i.createElement(h.a,{name:"officeAddin",className:O.footerLink,href:t,target:"_blank"},n.link))},e.DocumentUploaded=({navigateToDocument:e})=>{const t=i.useContext(d.a.Context).documentUploaded;return i.createElement(m.b.Content,null,t.message,i.createElement("br",null),i.createElement(h.a,{name:"goto-doc",className:O.footerLink,onClick:e},t.link))},e.DocumentTypeUnsupported=()=>{const e=i.useContext(d.a.Context);return i.createElement(m.b.Content,null,"Unsupported file type. ",e.notificationUploadFileText,": Microsoft Word (.doc, .docx), OpenOffice (.odt), TXT and RTF.")},e.DocumentWithTrackedChangesIsUnsupported=({link:e})=>i.createElement(m.b.Content,null,"Your document contains revisions. Accept all revisions and try uploading again. Click"," ",i.createElement(p.a,{name:"document-accept-tracked-changes",className:O.link,href:e,target:"_blank"},"here")," ","for details.");const n=(e,t)=>{switch(e){case S.switchToDenali:return t.switchToDenali;case S.feedbackSend:return t.feedbackSend;case S.statisticsError:return t.statisticsError;case S.referenceCopied:return t.referenceCopied;case S.documentCopied:return t.documentCopied;case S.somethingCopied:return t.somethingCopied;case S.isTemporaryDownloadError:return t.isTemporaryDownloadError;case S.documentUploadGeneralError:return t.documentUploadGeneralError;case S.documentIsEmpty:return t.documentIsEmpty;case S.noFileToUpload:return t.noFileToUpload;case S.oneDocumentIsAllowed:return t.oneDocumentIsAllowed;default:return Object(s.c)(e)}};e.Generic=({type:e})=>{const t=i.useContext(d.a.Context);return i.createElement(m.b.TitledContent,{title:n(e,t)})}}(b||(b={}));const v={display:"inline-flex",overflow:"unset",color:c.a.CoreNeutral0,verticalAlign:"baseline",textDecoration:"underline",fontWeight:"bold",cursor:"pointer"},y={marginTop:f.a.rem(.5),textDecoration:"none"},O=f.a.stylesheet({link:[v],footerLink:[v,y]});var S;!function(e){e.switchToDenali="switchToDenali",e.feedbackSend="feedbackSend",e.statisticsError="statisticsError",e.referenceCopied="referenceCopied",e.documentCopied="documentCopied",e.somethingCopied="somethingCopied",e.isTemporaryDownloadError="isTemporaryDownloadError",e.documentUploadGeneralError="documentUploadGeneralError",e.documentIsEmpty="documentIsEmpty",e.noFileToUpload="noFileToUpload",e.oneDocumentIsAllowed="oneDocumentIsAllowed"}(S||(S={}))},BSU1:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return _}));var a,r,i=n("Wy1Y"),o=n("uKMM"),s=n("4mQT"),c=n("8O/t"),l=n("t5lx"),u=n("B8yO"),d=n("OwvP"),p=n("4GyQ"),m=n("fC5a"),f=n("ySi0"),h=n("WLOZ"),g=n("wuWi"),b=n("nWMp"),v=n("2swC"),y=n("WSjW"),O={position:"fixed",zIndex:b.d.level5,display:"flex",padding:"0 1rem",width:"28rem",height:"13rem",background:v.a.CoreNeutral0,alignItems:"center"},S={display:"flex",flexDirection:"column",marginTop:"2rem",height:b.a.percent(100),flexBasis:"6rem",alignItems:"center"},C={display:"inline-block",margin:".9rem 1.4rem 0 0",padding:"0 .15rem 0 .25rem",height:"1.125rem",borderTopLeftRadius:".1875rem",borderTopRightRadius:".1875rem",background:b.c.ui200,color:b.c.ui600,textTransform:"uppercase",letterSpacing:b.a.px(1.1),fontSize:".6rem",lineHeight:"1.125rem"},w={display:"flex",flexDirection:"column",height:b.a.percent(100),flexBasis:"19rem"},k=b.a.stylesheet({modalNotification:[O,y.a],modalNotificationReverse:[{flexDirection:"row-reverse"}],topLeft:[{top:".5rem",left:"4.5rem"}],topRight:[{top:".5rem",right:"4.5rem"}],bottomLeft:[{bottom:".5rem",left:"4.5rem"}],bottomRight:[{right:"4.5rem",bottom:".5rem"}],closeIcon:[{position:"absolute",top:0,right:0}],iconSection:[S],icon:[{marginTop:"1.1rem"}],label:[C],contentSection:[w],title:[{display:"block",marginTop:"1.05rem"}],content:[{display:"block",marginTop:".6rem"}],btnGroup:[{display:"flex",marginTop:".65rem"}]});!function(e){e.TopLeft="topLeft",e.TopRight="topRight",e.BottomLeft="bottomLeft",e.BottomRight="bottomRight"}(a||(a={})),function(e){e.Left="Left",e.Right="Right"}(r||(r={}));var E,j,_=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,i=t.content,o=t.position,s=t.icon,l=t.iconPosition,h=t.label,b=t.buttons,v=t.isCloseButton;return u.createElement(d.a.Fragment,null,this.props.isVisibleAtom.view((function(t){return t&&u.createElement("div",Object(c.a)({role:"status","aria-live":"polite",id:e._id},Object(p.c)(k.modalNotification,l===r.Right?k.modalNotificationReverse:"",k[null!=o?o:a.BottomLeft])),!1!==v&&u.createElement(m.a,{name:"modal-notification-close",className:k.closeIcon,onClick:function(){return e._closeModal()}},u.createElement(f.d.Close,null)),(s||h)&&u.createElement("section",{className:k.iconSection},Boolean(h)?u.createElement("div",{className:k.label},h):null,Boolean(s)?u.createElement("div",{className:k.icon},s):null),u.createElement("section",{className:k.contentSection},u.createElement(g.j,{className:k.title},n),u.createElement(g.a,{className:k.content},i),b&&u.createElement("div",{className:k.btnGroup},b)))})))}},{key:"_id",get:function(){return Boolean(this.props.id)?this.props.id:"modal-notification"}},{key:"_closeModal",value:function(){this.props.isVisibleAtom.set(!1)}}]),n}(u.Component);E=_||(_={}),j=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement(h.b,{positionType:"fixed",preventClose:!1,visible:this.props.isVisibleAtom,alignment:"none",overlayType:"transparent"}),u.createElement(_,Object(c.a)({key:"modal-notification"},this.props)))}}]),n}(u.Component),E.WithOverlay=j},BbKl:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("B8yO"),r=n("ThYs");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function s(e){return function(t){return a.createElement(a.Fragment,null,a.createElement(e,o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){i(e,t,n[t])}))}return e}({},t),{"aria-describedby":Boolean(t.meta.description)?"".concat(t.id,"-description"):void 0})),Boolean(t.meta.description)&&a.createElement(r.a,{id:"".concat(t.id,"-description")},t.meta.description))}}},Bf87:function(e){e.exports=JSON.parse('{"fakeToolbarWrapper":"_b57d7ffb-header-fakeToolbarWrapper","fakeToolbarTitle":"_83b0cecd-header-fakeToolbarTitle","fakeToolbarTitleMacEditor":"_a0de5151-header-fakeToolbarTitleMacEditor","toolbarBtn":"_00d699e4-header-toolbarBtn","backIcon":"_11861f7c-header-backIcon"}')},Bl9I:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("B8yO"),i=n("XQlQ"),o=n("xk6L");!function(e){var t=e.navigationHideWidthThreshold=850;e.useCollapsibleNavbarThreshold=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=r.useContext(i.a.Context);return n.pipe(o.a.pluck("rect","width"),o.a.map((function(t){return t<=e})))}}(a||(a={}))},CA3N:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return E}));var a,r,i,o,s,c,l,u,d=n("Wy1Y"),p=n("uKMM"),m=n("a5gI"),f=n("8O/t"),h=n("X76w"),g=n("hcme"),b=n("DTwm"),v=n("tiWp"),y=n("+vYo"),O=n("La5+"),S=n("xk6L"),C=n("mgiE"),w=n("TKPA"),k=n("M3t0");u=a||(a={}),(l=u.Type||(u.Type={})).checking="checking",l.checkingIn="checkingIn",l.checkingOut="checkingOut",(c=u.TextType||(u.TextType={})).loading="loading",c.processing="processing",r=u.State||(u.State={}),i=r.eq=C.c.getStructEq({text:C.g.getEq(C.c.eqString),lens:C.g.getEq(C.c.eqString),navigation:C.g.getEq(C.c.eqString)}),r.isIdle=function(e){return i.equals(e,o)},o=r.idle={text:C.g.none,lens:C.g.none,navigation:C.g.none},r.text={text:C.g.some(a.TextType.loading),lens:C.g.none,navigation:C.g.none},s=r.processing={text:C.g.some(a.TextType.processing),lens:C.g.some(a.Type.checking),navigation:C.g.some(a.Type.checking)},r.lensAndNavigationProcessing=Object(h.a)(Object(f.a)({},s),{text:C.g.none}),r.navigationProcessing=Object(h.a)(Object(f.a)({},o),{navigation:C.g.some(a.Type.checking)}),r.loading={text:C.g.some(a.TextType.loading),lens:C.g.some(a.Type.checking),navigation:C.g.some(a.Type.checking)},r.toString=function(e){var t=Object(v.pipe)(e.lens,C.g.filter((function(e){return"checkingOut"!==e})),C.g.fold((function(){return"on"}),(function(){return"off"}))),n=Object(v.pipe)(e.navigation,C.g.filter((function(e){return"checkingOut"!==e})),C.g.fold((function(){return"on"}),(function(){return"off"}))),a=Object(v.pipe)(e.text,C.g.getOrElse((function(){return"off"})));return"text: ".concat(a,"; lens: ").concat(t,"; nav: ").concat(n)};var E=function(){function e(t,n){var r=this;Object(d.a)(this,e),Object(m.a)(this,"_router",void 0),Object(m.a)(this,"_features",void 0),Object(m.a)(this,"state",void 0),Object(m.a)(this,"_log",void 0),Object(m.a)(this,"_metric",void 0),Object(m.a)(this,"_subs",void 0),this._router=t,this._features=n,this.state=y.a.create(a.State.idle),this._log=k.d.Logging.getLogger("denali_loader"),this._metric=k.d.TimeSeries.rootFemetrics.getMetric("denali_loader"),this._subs=new O.a.Keeper,this._listenLoading(),Object(v.pipe)(this._router.locationState,C.g.exists((function(e){return!0===e.openSidebar})))||this._features.sidebarOpenedByDefault?this.state.set(a.State.processing):this.state.set(a.State.text),Object(w.r)("setLoader",(function(e){switch(e){case"idle":return r.state.set(a.State.idle);case"text":return r.state.set(a.State.text);case"navigation":return r.state.set(a.State.navigationProcessing);case"assistantAndNavigation":return r.state.set(a.State.lensAndNavigationProcessing);case"all":return r.state.set(a.State.processing);default:return Object(b.absurd)(e)}}))}return Object(p.a)(e,[{key:"dispose",value:function(){this._subs.dispose()}},{key:"listenEngineErrors",value:function(e){var t=this;this._subs.push(e.pipe(S.b.compact).subscribe(C.b.fold((function(){return t.state.set(a.State.idle)}),w.e)))}},{key:"_listenLoading",value:function(){var e=this;this._subs.push(this.state.subscribe((function(t){e._log.debug("State is changed to ".concat(a.State.toString(t)))})),this._listenTimeseries("text",(function(e){return Object(v.pipe)(e.text,C.g.orUndefined)}),!0),this._listenTimeseries("lens",(function(e){return Object(v.pipe)(e.lens,C.g.filter((function(e){return"checkingOut"!==e})),C.g.map((function(){return"checking"})),C.g.orUndefined)})),this._listenTimeseries("navigation",(function(e){return Object(v.pipe)(e.navigation,C.g.filter((function(e){return"checkingOut"!==e})),C.g.map((function(){return"checking"})),C.g.orUndefined)})))}},{key:"_listenTimeseries",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this;return this.state.pipe(S.a.skip(1),S.a.map((function(e){return t(e)})),S.a.distinctUntilChanged(),S.a.map((function(t){if(void 0!==t)return n&&a._metric.getCounter("".concat(e,".").concat(t,".start.counter")).increment(),{time:a._metric.getTimer("".concat(e,".").concat(t,".time")).start(),counter:n?a._metric.getCounter("".concat(e,".").concat(t,".stop.counter")):void 0}})),S.a.pairwise()).subscribe((function(e){var t=Object(g.a)(e,1)[0];t&&(t.time.stop(),t.counter&&t.counter.increment())}))}}]),e}()},CBmo:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("OwvP"),s=n("4GyQ"),c=n("7IMz"),l=n("xk6L"),u=n("yIk2"),d=n("mgiE"),p=n("NDcT"),m=n("nWMp"),f=n("hldE"),h=n("7Cqk");const g=e=>{const{shade:t}=Object(f.c)(e.visualState),n=i.useContext(p.a.Context),{rect:m,onMount:h}=c.a.useRectWatcher(),g=m.pipe(l.a.map(d.g.exists(e=>e.height>0)));i.useEffect(()=>{Boolean(t)||e.onFocus()},[]);const b=e.theme||{};return i.createElement(o.a.div,{className:b.container},e.header,i.createElement(o.a.div,{className:b.innerContainer},i.createElement(o.a.div,Object(r.a)(Object(a.a)({},Object(s.c)(k.wrapper,b.wrapper)),{onMouseOver:e.onMouseOver,onMouseOut:e.onMouseOut}),i.createElement(o.a.div,Object(s.c)(k.grid,b.content),i.createElement(o.a.div,Object(a.a)({role:"region","aria-label":u.b.toObservable(e.ariaLabel).pipe(l.a.map(e=>`${n.card.description}: ${e}`))},Object(s.c)(k.mainContent,b.contentBody)),e.body),Boolean(e.footer)?i.createElement(o.a.div,{role:"complementary",mount:h,"aria-hidden":u.b.invert(g),"aria-label":u.b.toObservable(e.ariaLabel).pipe(l.a.map(e=>`${n.card.more}: ${e}`)),className:k.footerContent},e.footer):null,Boolean(e.subActions)||Boolean(e.navigation)||Boolean(e.mainActions)?i.createElement(o.a.nav,{"aria-label":u.b.toObservable(e.ariaLabel).pipe(l.a.map(e=>`${n.card.cardActions}: ${e}`)),className:k.actions},e.subActions,i.createElement("div",{className:k.spacerOne}),e.navigation,i.createElement("div",{className:k.spacerFloat}),e.mainActions):null)),e.extra))},b={position:"relative"},v={padding:`${m.a.rem(1)} ${m.a.rem(.5)} ${m.a.rem(.75)} ${m.a.rem(1)}`},y={padding:`0 ${m.a.rem(.5)} 0 ${m.a.rem(1)}`,$nest:{"& > * + *":{marginTop:m.a.rem(.75)}}},O={padding:`0 ${m.a.rem(.5)} 0 ${m.a.rem(1)}`,$nest:{"& > * + *":{marginTop:m.a.rem(.75)}}},S={display:"flex",marginLeft:m.a.rem(.5),justifyContent:"space-between",$nest:{"& > *":{flexShrink:0}}},C={width:m.a.rem(1),flexShrink:1},w={$nest:{"& > * + *":{marginTop:m.a.rem(.75)}}},k=Object(r.a)(Object(a.a)({},m.a.stylesheet({mainContent:[y],footerContent:[O],actions:[S],spacerOne:[C],spacerFloat:[{flex:1}],grid:[w]})),{fullCard:m.a.joinClasses([h.b.fullCardSelector,m.a.style(b)]),wrapper:m.a.joinClasses([h.b.fullCardSelector,m.a.style(b,v)])})},CDtd:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"d",(function(){return d}));var a=n("TKPA");function r(e){return"sduiItemAdd"===e.kind}function i(e,t){return{kind:"sduiItemAdd",sduiRootId:e,sdui:t}}function o(e){return"sduiItemUpdate"===e.kind}function s(e,t){return{kind:"sduiItemUpdate",sduiRootId:e,sdui:t}}function c(e){return"sduiItemRemove"===e.kind}function l(e){return{kind:"sduiItemRemove",sduiRootId:e}}function u(e){return"sduiReset"===e.kind}function d(){return{kind:"sduiReset"}}Object(a.p)(r,o,c,u)},CNxR:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var a=n("B8yO"),r=n("OwvP"),i=n("TKPA"),o=n("ldOx"),s=n("fC5a"),c=n("ySi0"),l=n("3I9b"),u=n("6Fzp"),d=n("NDcT"),p=n("wuWi"),m=n("2swC"),f=n("nWMp"),h=n("NbNH");const g={position:"fixed",bottom:f.a.rem(1),right:f.a.rem(1),zIndex:h.j,width:f.a.rem(20),padding:f.a.rem(2),background:m.a.CoreNeutral0,transition:`transform ${f.a.seconds(.1)} linear ${f.a.seconds(.1)}`,transform:"perspective(100)",borderRadius:f.a.rem(h.s),boxShadow:"0 12px 48px 0 rgba(96, 101, 123, .24)"},b={transitionDelay:f.a.seconds(0),transform:"perspective(100) rotateY(90deg)"},v={transform:"perspective(100) rotateY(-90deg)"},y={paddingBottom:f.a.rem(1)},O={marginBottom:f.a.rem(1)},S={width:f.a.percent(100),borderRadius:f.a.rem(h.t),padding:`${f.a.rem(.5)} 0 ${f.a.rem(.5)} ${f.a.rem(.5)}`,lineHeight:f.a.rem(1.3125),margin:"0 2px"},C={width:f.a.rem(1),height:f.a.rem(1),minHeight:f.a.rem(1),display:"inline-block",verticalAlign:"top",marginLeft:f.a.rem(.25)},w={color:m.a.CoreBlue50,textDecoration:"none"},k={paddingTop:f.a.rem(2),height:f.a.rem(15),flexGrow:1},E={marginBottom:f.a.rem(.5)},j={$nest:{"& ul":{paddingLeft:f.a.rem(2)},"& a":{color:m.a.CoreBlue50,textDecoration:"none"}}},_=f.a.stylesheet({notification:[g],rotateHide:[g,b],rotateShow:[g,v],closeIcon:[{position:"absolute",top:0,right:0}],question:[y],questionText:[O],answerBtn:[S],answer:[{whiteSpace:"normal"}],outcomeIcon:[C],learnMoreLink:[w],completionScreen:[{display:"flex",flexDirection:"column",alignItems:"flex-start"}],completionContent:[k],completionHeader:[E],badExperience:[j]}),x=({viewModel:e,onClose:t})=>a.createElement(r.a.div,{className:_.completionScreen},e.state.view(e=>l.a.isSecondAnswerAboutDissatisfaction(e)?a.createElement(I,{reason:e.answer2}):a.createElement(A,null)),a.createElement(s.a.Primary,{name:"survey.done",onClick:t},"done")),A=()=>{const e=a.useContext(d.a.Context).premiumOnboardingSurvey.completion;return a.createElement(a.Fragment,null,a.createElement(c.d.NotificationInfo,{width:40}),a.createElement("div",{className:_.completionContent},a.createElement(p.e,{className:_.completionHeader},e.enjoyment.header),a.createElement(p.a,null,e.enjoyment.sub)))},I=({reason:e})=>{const t=a.useContext(u.a.Context),n=a.useContext(d.a.Context).premiumOnboardingSurvey.completion.badExperience,r=(()=>{switch(e){case l.b.DissatisfactionReason.LowQualitySuggestions:return n.lowQuality;case l.b.DissatisfactionReason.PoorPlagiarismSuggestions:return n.noPlagiarism;case l.b.DissatisfactionReason.NoSupportForDesirableApp:return n.noSupportForDesirableApp(t.extension.chrome.installURL,t.extension.edge.infoURL,t.extension.firefox.installURL,t.extension.safari.installURL,t.funnel.keyboardInstall,t.funnel.desktopAppInstall);case l.b.DissatisfactionReason.AggressivePremiumPromotion:case l.b.DissatisfactionReason.NoPremiumSuggestions:case l.b.DissatisfactionReason.PremiumAndFreeAreIdentical:default:return n.possibleMultipleAccounts}})();return a.createElement("div",null,a.createElement(p.a,{className:_.badExperience},r),a.createElement("br",null))};var T=n("t39C");const M=({answerType:e,viewModel:t,children:n})=>a.createElement(s.a.Flat,{className:_.answerBtn,name:"answer."+e,onClick:()=>t.answer(e)},a.createElement("span",{className:_.answer},n));var P=l.b.Experience;const N=({viewModel:e})=>{const t=a.useContext(d.a.Context).premiumOnboardingSurvey.firstQuestion;return a.createElement("div",{className:_.question},a.createElement(p.e,{className:_.questionText},t.question),a.createElement(M,{answerType:P.VerySatisfied,viewModel:e},a.createElement(T.b,null,"😄")," ",t.answers.verySatisfied),a.createElement(M,{answerType:P.SomewhatSatisfied,viewModel:e},a.createElement(T.b,null,"🙂")," ",t.answers.somewhatSatisfied),a.createElement(M,{answerType:P.Neutral,viewModel:e},a.createElement(T.b,null,"😐")," ",t.answers.neutral),a.createElement(M,{answerType:P.SomewhatDissatisfied,viewModel:e},a.createElement(T.b,null,"🙁")," ",t.answers.somewhatDissatisfied),a.createElement(M,{answerType:P.VeryDissatisfied,viewModel:e},a.createElement(T.b,null,"😞")," ",t.answers.veryDissatisfied))};var D=n("RRF2"),B=l.b.SatisfactionReason,L=l.b.DissatisfactionReason;const F=({viewModel:e})=>a.createElement(r.a.div,{className:_.question},e.state.view(l.a.isSecondQuestionAboutDissatisfaction).view(Object(i.c)(a.createElement(R,{viewModel:e}),a.createElement(H,{viewModel:e})))),R=({viewModel:e})=>{const t=a.useContext(d.a.Context).premiumOnboardingSurvey.secondDissatisfactionQuestion;return a.createElement(a.Fragment,null,a.createElement(p.e,{className:_.questionText},t.question),D.a.shuffle([a.createElement(M,{answerType:L.LowQualitySuggestions,viewModel:e},t.answers.lowQualitySuggestions),a.createElement(M,{answerType:L.PoorPlagiarismSuggestions,viewModel:e},t.answers.poorPlagiarismSuggestions),a.createElement(M,{answerType:L.NoSupportForDesirableApp,viewModel:e},t.answers.noSupportForDesirableApp),a.createElement(M,{answerType:L.AggressivePremiumPromotion,viewModel:e},t.answers.aggressivePremiumPromotion),a.createElement(M,{answerType:L.NoPremiumSuggestions,viewModel:e},t.answers.noPremiumSuggestions),a.createElement(M,{answerType:L.PremiumAndFreeAreIdentical,viewModel:e},t.answers.premiumAndFreeAreIdentical)]))},H=({viewModel:e})=>{const t=a.useContext(u.a.Context),n=a.useContext(d.a.Context).premiumOnboardingSurvey.secondSatisfactionQuestion;return a.createElement(a.Fragment,null,a.createElement(p.e,{className:_.questionText},n.question),D.a.shuffle([a.createElement(M,{answerType:B.PlagiarismChecker,viewModel:e},n.answers.plagiarismChecker," ",a.createElement(c.d.PlagiarismOutcome,{className:_.outcomeIcon})),a.createElement(M,{answerType:B.ClaritySuggestions,viewModel:e},n.answers.claritySuggestions," ",a.createElement(c.d.ClarityOutcome,{className:_.outcomeIcon})),a.createElement(M,{answerType:B.EngagementSuggestions,viewModel:e},n.answers.engagementSuggestions," ",a.createElement(c.d.EngagementOutcome,{className:_.outcomeIcon})),a.createElement(M,{answerType:B.ToneSuggestions,viewModel:e},n.answers.toneSuggestions," ",a.createElement(c.d.DeliveryOutcome,{className:_.outcomeIcon})),a.createElement(M,{answerType:B.UsingMultipleDevices,viewModel:e},a.createElement(a.Fragment,null,n.answers.usingMultipleDevices," ",a.createElement("a",{href:t.funnel.keyboardInstall,onClick:e=>e.stopPropagation(),className:_.learnMoreLink,target:"_blank"},n.learnMoreLink)))]))},V=({viewModel:e,onClose:t})=>a.createElement(U,{viewModel:e},n=>a.createElement(a.Fragment,null,l.a.isFirstQuestion(n)?a.createElement(N,{viewModel:e}):l.a.isSecondQuestion(n)?a.createElement(F,{viewModel:e}):a.createElement(x,{viewModel:e,onClose:t}),a.createElement(s.a,{name:"survey-close",className:_.closeIcon,onClick:t},a.createElement(c.d.Close,null)))),U=({viewModel:e,children:t})=>a.createElement(o.a,{state:e.state,stateToClassMapper:(e,t)=>{const[n,a]=e&&l.a.isFirstQuestion(e)&&l.a.isSecondQuestion(t)||e&&l.a.isSecondQuestion(e)&&l.a.isCompleted(t)?[_.rotateHide,_.rotateShow]:[_.notification,_.notification];return{prev:{start:_.notification,end:n},next:{start:a,end:_.notification}}}},e=>a.createElement(r.a.div,{className:e.view,onTransitionEnd:"prev"===e.type?e.done:i.e},t(e.state)))},CQgj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r,i,o,s=n("hcme"),c=n("B8yO"),l=n("5AnK"),u=n("fC5a"),d=n("IRug"),p=n("7IMz"),m=n("AyJj"),f=n("mgiE"),h=n("To5e"),g=n("nWMp"),b=n("NbNH"),v=n("2swC"),y=g.a.prefixedStylesheet("obtain_grades",{contentWrapper:[{padding:"".concat(g.a.rem(1)," ").concat(g.a.rem(2.75)," ").concat(g.a.rem(1.25)," ").concat(g.a.rem(1.25)),width:g.a.percent(100),maxWidth:g.a.rem(22.5),borderRadius:g.a.rem(b.t),background:v.a.BackgroundNotification,color:v.a.CoreNeutral0,marginRight:0,marginLeft:"auto"}],icon:[{display:"none"}],header:[{fontSize:g.a.rem(.875),lineHeight:g.a.rem(1.25),fontWeight:700,marginBottom:g.a.rem(.4375)}],body:[{fontSize:g.a.rem(.875),lineHeight:g.a.rem(1.3125),marginBottom:g.a.rem(.9375)}],gradeButtons:[{marginBottom:g.a.rem(.9375)}],gradeButton:[{width:g.a.rem(5),textAlign:"center"}],submitButton:[{fontWeight:700}]});r=a||(a={}),i={content:{wrapper:y.contentWrapper,icon:y.icon}},o=function(e){var t=e.viewModel;return c.createElement(u.a.Group,{sticky:!0},Object.entries(t.grades).map((function(e){var n=Object(s.a)(e,2),a=n[0],r=n[1];return c.createElement(m.a,{name:a,className:y.gradeButton,active:t.state.view(f.g.exists((function(e){return l.a.Outcomes.Students.Grade.eq.equals(e,r)}))),onClick:function(){return t.selectScore(r)},key:a},a)})))},r.ObtainGrades=function(e){var t=e.onClose,n=e.onShow,a=e.notification,r=e.viewModel,s=c.useContext(h.a.Context).obtainGrades;return p.a.useEffectOnDidMount((function(){r.show().finally(n)})),c.createElement(d.b.Wrapper,{notification:a,onClose:function(){r.reject().finally(t)},theme:i},c.createElement(d.b.Content,null,c.createElement("div",{className:y.header},s.title),c.createElement("div",{className:y.body},""!==r.document.title?s.titleMessage(r.document.title):s.contentMessage(r.document.content)),c.createElement("div",{className:y.gradeButtons},c.createElement(o,{viewModel:r})),c.createElement(m.a,{name:"submit",className:y.submitButton,disabled:r.state.view(f.g.isNone),onClick:function(){r.submit().finally(t)}},"Submit")))}},CRXm:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("B8yO"),r=n("7LqD"),i=n("tREI"),o=n("XGPX");class s{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}constructor(e,{expandedKeys:t}={}){this.keyMap=new Map,this.iterable=e,t=t||new Set;let n,a=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&("section"===e.type||t.has(e.key)))for(let t of e.childNodes)a(t)};for(let t of e)a(t);let r=0;for(let[e,t]of this.keyMap)n?(n.nextKey=e,t.prevKey=n.key):(this.firstKey=e,t.prevKey=void 0),"item"===t.type&&(t.index=r++),n=t,n.nextKey=void 0;this.lastKey=null==n?void 0:n.key}}function c(e){let[t,n]=(0,o.b)(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,e.onExpandedChange),c=(0,r.b)(e),l=(0,a.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),u=(0,i.i)(e,(0,a.useCallback)(e=>new s(e,{expandedKeys:t}),[t]),null);(0,a.useEffect)(()=>{null==c.focusedKey||u.getItem(c.focusedKey)||c.setFocusedKey(null)},[u,c.focusedKey]);return{collection:u,expandedKeys:t,disabledKeys:l,toggleKey:e=>{n(function(e,t){let n=new Set(e);n.has(t)?n.delete(t):n.add(t);return n}(t,e))},setExpandedKeys:n,selectionManager:new(0,r.a)(u,c)}}},CcDN:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var a,r=n("a5gI"),i=n("8O/t"),o=n("X76w"),s=n("2zNz"),c=n("nWMp"),l=n("fB2g"),u=n("TKPA"),d=n("2swC"),p=d.a.CoreGreen10,m=s.D.Color.NeutralGray10;!function(e){e.markHeightStandard="".concat("alerts-","markHeightStandard"),e.markHeightTall="".concat("alerts-","markHeightTall"),e.markSelected="".concat("alerts-","markSelected"),e.markSelectedFocused="".concat("alerts-","markSelectedFocused"),e.markBase="".concat("alerts-","markBase"),e.markAppliedBase="".concat("alerts-","markAppliedBase"),e.markVisible="".concat("alerts-","markVisible"),e.markStart="".concat("alerts-","markStart"),e.correctness="".concat("alerts-","correctness"),e.premium="".concat("alerts-","premium"),e.clarity="".concat("alerts-","clarity"),e.engagement="".concat("alerts-","engagement"),e.delivery="".concat("alerts-","delivery"),e.critical="".concat("alerts-","critical"),e.advanced="".concat("alerts-","advanced"),e.plagiarism="".concat("alerts-","plagiarism"),e.originality="".concat("alerts-","originality"),e.vox="".concat("alerts-","vox"),e.knowledgeHub="".concat("alerts-","knowledgeHub"),e.synonym="".concat("alerts-","synonym"),e.markAnimated="".concat("alerts-","markAnimated"),e.markHidden="".concat("alerts-","markHidden"),e.markApplied="".concat("alerts-","markApplied"),e.markBulkApplied="".concat("alerts-","markBulkApplied"),e.markBulkAppliedAnimation="".concat("alerts-","markBulkAppliedAnimation"),e.markSuccess="".concat("alerts-","markSuccess"),e.noAnimation="".concat("alerts-","noAnimation"),e.markVBar="".concat("alerts-","markVBar"),e.markVBarHighlighted="".concat("alerts-","markVBarHighlighted"),e.markWritingExpert="".concat("alerts-","markWritingExpert"),e.markWritingExpertHighlighted="".concat("alerts-","markWritingExpertHighlighted")}(a||(a={}));var f,h,g="".concat("alerts-","custom"),b={backgroundPosition:"center calc(100% + ".concat("2px",")"),backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{borderBottomWidth:"0 !important"}}},v={$nest:{"@media print":{borderBottomWidth:"3 !important"}}},y=c.a.keyframes({from:{backgroundSize:"100% 0"},to:{backgroundSize:"100% 12%"}}),O={standard:"calc(".concat(c.a.rem(.45)," - 3px)"),tall:"calc(".concat(c.a.rem(.425)," + 1px)")},S=function(e){return{to:{backgroundColor:e}}},C=function(e,t,n,s){var c;return Object(o.a)(Object(i.a)({$unique:!0},b),{paddingBottom:"1px",borderBottom:"".concat("2px"," solid ").concat(t),transition:"border-bottom-color .5s linear",$nest:Object(o.a)(Object(i.a)({},b.$nest),{"&[data-vertical-underline-start]:before":{borderColor:n,color:n},"& > [data-vertical-underline-body]:after":{borderColor:n},"& > [data-vertical-underline-index]":{color:n},"&[data-superscript]":{padding:0,border:"none",color:n,transition:"none"},"&:not([data-superscript])":{$nest:(c={},Object(r.a)(c,"&.".concat(a.markSelected,".").concat(a.markHeightStandard),{paddingTop:O.standard}),Object(r.a)(c,"&.".concat(a.markSelected,".").concat(a.markHeightTall),{paddingTop:O.tall}),Object(r.a)(c,"&.".concat(a.markSelected),{$unique:!0,borderBottomColor:s,animation:"".concat(e," 1s ease forwards")}),Object(r.a)(c,"&.".concat(a.markSelectedFocused),{$unique:!0,borderBottomColor:n}),Object(r.a)(c,"&.".concat(a.markSelected," .").concat(a.markBase,":not(.").concat(a.markSelected,"):not(.").concat(a.markWritingExpert,")"),{paddingBottom:"calc(".concat("2px"," + ").concat("1px",")"),borderBottomStyle:"hidden"}),Object(r.a)(c,"&.".concat(a.markSelectedFocused," .").concat(a.markBase,":not(.").concat(a.markSelected,"):not(.").concat(a.markWritingExpert,")"),{paddingBottom:"calc(".concat("2px"," + ").concat("1px",")"),borderBottomStyle:"hidden"}),c)}})})},w=c.a.keyframes(S(d.a.CoreRed10)),k=c.a.keyframes(S(d.a.CoreYellow10)),E=c.a.keyframes(S(d.a.CoreCyan10)),j=c.a.keyframes(S(d.a.CorePurple10)),_=c.a.keyframes(S(d.a.CoreNeutral10)),x=c.a.keyframes(S(d.a.CoreBlue10)),A=c.a.keyframes(S(d.a.CoreRed10)),I=c.a.keyframes(S(d.a.CoreYellow10)),T=c.a.keyframes(S(d.a.CoreBlue10)),M=c.a.keyframes(S(d.a.CoreGreen10)),P=c.a.keyframes(S(d.a.CorePurple10)),N=c.a.keyframes(S(d.a.CoreGreen10)),D=c.a.keyframes(S(m)),B=function(e){var t,n=c.a.color(p).fade(e).toRGBA().toString();return{borderBottomColor:n,backgroundColor:n,$nest:(t={},Object(r.a)(t,"&.".concat(a.markHeightStandard),{paddingTop:O.standard}),Object(r.a)(t,"&.".concat(a.markHeightTall),{paddingTop:O.tall}),t)}},L=function(e){return{borderBottomColor:"transparent",backgroundColor:c.a.color(p).fade(e).toRGBA().toString()}},F=c.a.keyframes({from:B("100%"),to:B("50%")}),R={borderBottomWidth:"2px",borderBottomColor:"".concat(d.a.CoreNeutral40),borderBottomStyle:"dotted",backgroundColor:"transparent"},H=c.a.keyframes({to:Object(i.a)({},B("0%"),R)}),V=c.a.keyframes({from:L("100%"),to:L("50%")}),U={$nest:(f={},Object(r.a)(f,"&.".concat(a.markHeightStandard),{paddingTop:O.standard}),Object(r.a)(f,"&.".concat(a.markHeightTall),{paddingTop:O.tall}),Object(r.a)(f,"&:not(.".concat(a.markSelected,"):not(.").concat(a.markSelectedFocused,")"),{$nest:Object(r.a)({},"&.".concat(a.clarity," &.").concat(a.clarity),{borderBottomStyle:"solid",borderBottomColor:d.a.CoreBlue50})}),Object(r.a)(f,"&.".concat(a.correctness,", &.").concat(a.markSelected,", &.").concat(a.markSelectedFocused),{$nest:Object(r.a)({},".".concat(a.markVisible,":not(.").concat(a.markSelected,"):not(.").concat(a.markSelectedFocused,").").concat(a.clarity," .").concat(a.markVisible,":not(.").concat(a.markSelected,"):not(.").concat(a.markSelectedFocused,").").concat(a.clarity),{})}),Object(r.a)(f,"&.".concat(a.clarity),{$nest:Object(r.a)({},"& & &:not(.".concat(a.markSelected,"):not(.").concat(a.markSelectedFocused,")"),{borderBottomStyle:"hidden !important"})}),f)},W={borderBottom:"0 solid transparent !important",background:"none",animation:"none"},z={position:"relative",$nest:(h={},Object(r.a)(h,"& > .".concat(a.markVisible,":not(.").concat(a.markSelected,"):not(.").concat(a.markSelectedFocused,")"),{borderBottomStyle:c.a.important("hidden")}),Object(r.a)(h,"&:after",{content:'"  "',position:"absolute",height:0,bottom:c.a.rem(-.15),right:c.a.rem(-.875),width:c.a.rem(.75),borderBottom:"".concat(c.a.rem(.175)," dotted ").concat(s.D.Color.Green60)}),h)},G=Object(u.l)((function(){return{custom:function(e,t){var n=c.a.color(e).fade(.25).toRGBA().toString(),r=c.a.keyframes(S(n));return[g,a.markBase,c.a.style(C(r,t,t,n)),l.a.style(C(r,t,t,n),v)].join(" ")},markWritingExpert:[a.markWritingExpert,a.markBase,c.a.style(C(D,s.D.Color.Green60,s.D.Color.Green60,s.D.Color.BlueGray5),z),l.a.style(C(D,s.D.Color.Green60,s.D.Color.Green60,s.D.Color.Green10),z,v)].join(" "),markWritingExpertHighlighted:[a.markWritingExpertHighlighted,c.a.style(C(D,"transparent","transparent",m))].join(" "),markVBar:a.markVBar,markBase:[a.markBase,c.a.style(b),l.a.style(b,{$nest:{"@media print":{borderBottomWidth:"3 !important"}}})].join(" "),markAppliedBase:[a.markAppliedBase,a.markBase,c.a.style({paddingBottom:"".concat("1px"),borderBottom:"".concat("2px"," solid ").concat(p)})].join(" "),correctness:[a.correctness,a.markBase,c.a.style(C(A,d.a.CoreRed50,d.a.CoreRed50,d.a.CoreRed10)),l.a.style(C(A,d.a.CoreRed50,d.a.CoreRed50,d.a.CoreRed10),v)].join(" "),premium:[a.premium,a.markBase,c.a.style(C(I,d.a.CoreYellow40,d.a.CoreYellow40,d.a.CoreYellow10)),l.a.style(C(I,d.a.CoreYellow40,d.a.CoreYellow40,d.a.CoreYellow10),v)].join(" "),clarity:[a.clarity,a.markBase,c.a.style(C(T,d.a.CoreBlue50,d.a.CoreBlue50,d.a.CoreBlue10)),l.a.style(C(T,d.a.CoreBlue50,d.a.CoreBlue50,d.a.CoreBlue10),v)].join(" "),markVisible:[a.markVisible,c.a.style(U),l.a.style(U)].join(" "),engagement:[a.engagement,a.markBase,c.a.style(C(M,d.a.CoreGreen50,d.a.CoreGreen50,d.a.CoreGreen10)),l.a.style(C(M,d.a.CoreGreen50,d.a.CoreGreen50,d.a.CoreGreen10),v)].join(" "),delivery:[a.delivery,a.markBase,c.a.style(C(P,d.a.CorePurple50,d.a.CorePurple50,d.a.CorePurple10)),l.a.style(C(P,d.a.CorePurple50,d.a.CorePurple50,d.a.CorePurple10),v)].join(" "),critical:[a.critical,a.markBase,c.a.style(C(w,d.a.CoreRed50,d.a.CoreRed50,d.a.CoreRed10)),l.a.style(C(w,d.a.CoreRed50,d.a.CoreRed50,d.a.CoreRed10),v)].join(" "),advanced:[a.advanced,a.markBase,c.a.style(C(k,d.a.CoreYellow40,d.a.CoreYellow40,d.a.CoreYellow10)),l.a.style(C(k,d.a.CoreYellow40,d.a.CoreYellow40,d.a.CoreYellow10),v)].join(" "),plagiarism:[a.plagiarism,a.markBase,c.a.style(C(E,d.a.CoreCyan50,d.a.CoreCyan50,d.a.CoreCyan10)),l.a.style(C(k,d.a.CoreCyan50,d.a.CoreCyan50,d.a.CoreCyan10),v)].join(" "),originality:[a.originality,a.markBase,c.a.style(C(j,d.a.CorePurple50,d.a.CorePurple50,d.a.CorePurple10)),l.a.style(C(P,d.a.CorePurple50,d.a.CorePurple50,d.a.CorePurple10),v)].join(" "),vox:[a.vox,a.markBase,c.a.style(C(_,d.a.CoreNeutral50,d.a.CoreNeutral50,d.a.CoreNeutral10)),l.a.style(C(_,d.a.CoreNeutral50,d.a.CoreNeutral50,d.a.CoreNeutral10),v)].join(" "),knowledgeHub:[a.knowledgeHub,a.markBase,c.a.style(C(_,d.a.CoreNeutral50,d.a.CoreNeutral50,d.a.CoreNeutral10)),l.a.style(C(_,d.a.CoreNeutral50,d.a.CoreNeutral50,d.a.CoreNeutral10),v)].join(" "),synonym:[a.synonym,a.markBase,c.a.style(C(x,d.a.CoreBlue50,"transparent",d.a.CoreBlue50)),l.a.style(C(x,d.a.CoreBlue50,"transparent",d.a.CoreBlue50),v)].join(" "),markAnimated:[a.markAnimated,c.a.style({animation:"".concat(y," .075s ease")})].join(" "),markHidden:[a.markHidden,c.a.style(W),l.a.style(W)].join(" "),markBulkAppliedAnimation:[a.markBulkAppliedAnimation,a.markBase,c.a.style(B("100%"),R,{animation:"".concat(F," 2s linear forwards,\n          ").concat(H," .25s linear 2s forwards")})].join(" "),markBulkApplied:[a.markBulkApplied,a.markBase,c.a.style(C(N,d.a.CoreNeutral40,d.a.CoreGreen10,d.a.CoreGreen10),R)].join(" "),markApplied:[a.markApplied,c.a.style(B("100%"),{animation:"".concat(F," .25s linear forwards")})].join(" "),markSuccess:[a.markSuccess,c.a.style(L("100%"),{animation:"".concat(V," .25s linear forwards")})].join(" "),noAnimation:[a.noAnimation,c.a.style({animationDuration:"0s !important"})].join(" "),markVBarHighlighted:[a.markVBarHighlighted,c.a.style({backgroundColor:"#DEF7F5",borderBottom:"solid 5px #DEF7F5",borderTop:"solid 5px #DEF7F5"})].join(" "),markSelected:a.markSelected,markSelectedFocused:a.markSelectedFocused,markHeightStandard:a.markHeightStandard,markHeightTall:a.markHeightTall,markStart:a.markStart}}))},CcwN:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("B8yO"),s=n("OwvP"),c=n("4GyQ"),l=n("nWMp");!function(e){e.Top=e=>o.createElement(t,Object(i.a)(Object(r.a)({},e),{where:"top"})),e.Bottom=e=>o.createElement(t,Object(i.a)(Object(r.a)({},e),{where:"bottom"}));const t=e=>o.createElement(s.a.div,Object(i.a)(Object(r.a)({onTransitionEnd:e.onTransitionEnd},Object(c.c)(e.className,"top"===e.where?u.fixedTop:u.fixedBottom)),{"aria-label":e["aria-label"],role:e.role}),e.children)}(a||(a={}));const u=l.a.stylesheet({fixedTop:[{position:"fixed",top:0,height:0}],fixedBottom:[{position:"fixed",bottom:0}]})},CzGE:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var a=n("nWMp");function r(e,t){return Object.assign(Object.assign({},function(e){return{width:a.a.rem(e),minWidth:a.a.rem(e)}}(e)),function(e){return{height:a.a.rem(e),minHeight:a.a.rem(e)}}(null!=t?t:e))}function i(e,t){return("."+e).repeat(t)}const o=7;function s(e,t){return function(e,t,n){return{$nest:{["&"+i(t,n)]:e}}}(e,t,o)}},"D/bz":function(e,t,n){e.exports=n.p+"files/55c843b0b146c9d1db049e4751172fe1/inter-regular.woff2"},DHNH:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n("LzOy"),r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("0Uv3"),c=n("DTwm"),l=n("+vYo"),u=n("4tRT"),d=n("xk6L"),p=n("0IPU"),m=n("mgiE"),f=n("TKPA"),h=n("0kuo"),g=n("M3t0"),b=n("xAs4"),v=n("hcme"),y=n("tiWp"),O=n("h+d6"),S=n("yIk2"),C=n("hzat");function w(e,t){return d.a.combineLatestStatic([e,t]).pipe(d.a.map((function(e){var t=Object(v.a)(e,2),n=t[0],a=t[1];return n&&!a})))}function k(){return d.a.of(!0)}function E(){return d.a.of(!0)}function j(e){var t=e.getText();return Object(y.pipe)(["Grammarly Premium can give you very helpful feedback on your writing. Passive voice can be fixed by Grammarly, and it can handle classical word-choice mistakes.","Grammarly Premium can give you very helpful feedback on your writing.","Passive voice can be fixed by Grammarly, and it can handle classical word-choice mistakes.","You'll find suggestions that can possibly help you revise a wordy sentence in an effortless manner."],m.a.findFirstMap((function(e){var n=t.indexOf(e);return n>-1?m.g.some({index:n,length:e.length}):m.g.none})))}function _(e,t,n,a,r,i,o,s){if(b.k.isHidden(r))return[];var u=s.denali.showOnboardingTourA11yUpdates,p=u?function(e){return e.pipe(d.a.switchMap((function(e){return Object(y.pipe)(e,m.g.filter((function(e){return m.g.isNone(e.oggyMode)})),m.g.fold((function(){return d.a.of(m.g.none)}),(function(e){return e.onboardingViewModels})))})),d.a.switchMap((function(e){return Object(y.pipe)(e,m.g.fold((function(){return d.a.of(m.g.none)}),(function(e){return e.onboarding.activeStep})))}))).pipe(d.a.map((function(e){return Object(y.pipe)(e,m.g.fold((function(){return!1}),(function(e){var t;return"initial"===e.name||"initialBTS"===(null===(t=e)||void 0===t?void 0:t.name)})))})))}(i):d.a.of(!1),f={id:O.a.StepId.Synfony,switch:function(){return a.pipe(d.a.map(m.g.map((function(e){return e.alert}))),d.a.filter(m.g.exists(C.a.isSynfony)),d.a.mapTo(!0))},gnarName:"Synfony drilldown",skipDot:u,isLastStep:!0},g={id:O.a.StepId.Step11,switch:function(){return function(e,t){return l.a.combine(t,e,(function(e,t){return t&&m.g.isNone(e)})).pipe(d.a.first())}(o.state.view("isSidebarOpen"),a)},gnarName:"Step 1: Select active card",skipDot:u},v={id:O.a.StepId.Step4,switch:function(){return w(function(e,t){return e.view(m.g.exists((function(e){return t.isRegistered(e.alert.id)&&C.a.isDefault(e.alert)&&m.g.isSome(e.alert.getTransform())})))}(a,n),p)},gnarName:"Step 2: Apply alert",skipDot:u},_={id:O.a.StepId.GrammarlyGORewrite,switch:function(){return function(e,t){return e.pipe(d.b.chain((function(e){return e.navigation.isActive.pipe(d.a.skipUntil(e.isGenAiAvailable.pipe(d.a.filter(c.identity))),d.a.map((function(e){return Object(y.pipe)(t,m.g.fromPredicate((function(){return!e})),m.g.chain(j),m.g.map(c.constTrue))})))})),d.a.map(m.g.getOrElse(c.constFalse)))}(i,e)},gnarName:"Step 3: Click GrammarlyGO Rewrite",skipDot:u,prepareStep:function(){return Object(y.pipe)(i.get(),m.g.chain((function(e){var t=e.navigation;return m.g.fromPredicate(Boolean)(!t.isActive.get())})),m.g.chain((function(){return j(e)})),m.g.tap((function(t){var n=t.index,a=t.length;e.setCursor(n,a)})),m.g.fold(c.constFalse,c.constTrue))}},x={id:O.a.StepId.GrammarlyGOIdeationAssistant,switch:function(){return w(function(e){return e.pipe(d.a.switchMap(m.g.mapOrDefault((function(e){return e.navigation.isActive.pipe(d.a.map((function(e){return!e})))}),d.a.of(!1))))}(i),p)},gnarName:"Step 4: Open GrammarlyGO Ideation Assistant",skipDot:u},A={id:O.a.StepId.Step1,switch:function(){return w(d.a.of(!0),p)},gnarName:"Step 5: Open Set Goals",skipDot:u},I={id:O.a.StepId.Step8,switch:function(){return w(d.a.of(!0),p)},gnarName:"Step 6: Open Performance",skipDot:u},T={id:O.a.StepId.Step9,switch:function(){return n=e.contentUpdated.pipe(d.a.mapTo(S.b.voidValue)),a=t.checkingState,d.a.from(a.pipe(d.a.filter((function(e){return"idle"===e})),d.a.first(),d.a.mapTo(!0))).pipe(d.a.merge(n.pipe(d.a.first(),d.a.mapTo(!1))));var n,a},gnarName:"Step 7: See synonyms",skipDot:u},M={id:O.a.StepId.Step10,switch:k,gnarName:"Step 8: Open left sidebar",skipDot:u},P={id:O.a.StepId.DocumentTitle,switch:E,gnarName:"Step 9: Edit title",skipDot:u};switch(r.content){case b.k.Content.Oggy:return[v,A,I,M,P];case b.k.Content.OggySplit:return[v,_,x,A,I,M,P];case b.k.Content.SynfonyOnly:return[f];case b.k.Content.WithoutInlineCards:return[v,_,x,A,I,M,P,f];case b.k.Content.Full:return[g,v,_,x,A,I,T,M,P,f];default:return Object(h.c)(r)}}var x=[p.a.Popup,p.a.Popover];function A(e,t,n){e.modify((function(e){var a=e.slice(0);return a[t]=n,a}))}var I=function(){function e(t,n,a,i,s,h,v,y,O,S,C){var w=this;Object(r.a)(this,e),Object(o.a)(this,"_settings",void 0),Object(o.a)(this,"_ded",void 0),Object(o.a)(this,"_sessionChecksModel",void 0),Object(o.a)(this,"_alertsReader",void 0),Object(o.a)(this,"_mode",void 0),Object(o.a)(this,"_telemetry",void 0),Object(o.a)(this,"_activeAlertHighlight",void 0),Object(o.a)(this,"_getFirstTargetRect",void 0),Object(o.a)(this,"_cheetahViewModel",void 0),Object(o.a)(this,"_navigationViewModel",void 0),Object(o.a)(this,"_features",void 0),Object(o.a)(this,"_log",void 0),Object(o.a)(this,"_steps",void 0),Object(o.a)(this,"_stepsByIdx",void 0),Object(o.a)(this,"_switches",void 0),Object(o.a)(this,"_states",void 0),Object(o.a)(this,"_subs",void 0),Object(o.a)(this,"_stepsSubscriptions",void 0),Object(o.a)(this,"_enableState",void 0),Object(o.a)(this,"getFirstTargetRect",void 0),Object(o.a)(this,"completionTrigger",void 0),Object(o.a)(this,"_isPopup",void 0),Object(o.a)(this,"_addStep",void 0),this._settings=t,this._ded=n,this._sessionChecksModel=a,this._alertsReader=i,this._mode=s,this._telemetry=h,this._activeAlertHighlight=v,this._getFirstTargetRect=y,this._cheetahViewModel=O,this._navigationViewModel=S,this._features=C,this._log=g.d.Logging.getLogger("OnboardingViewModelImpl",g.a.LogLevel.TRACE),this._steps={},this._stepsByIdx=new Array,this._switches=l.a.create([]),this._states=l.a.create([]),this._subs=[],this._stepsSubscriptions=[],this._enableState=l.a.create(!0),this.getFirstTargetRect=this._getFirstTargetRect,this.completionTrigger=this._activeAlertHighlight.view(m.g.isSome),this._isPopup=function(e){return x.includes(e)},this._addStep=function(e,t,n){A(w._switches,t,!1);var a=w._states.lens(u.a.index(t).compose(u.a.withDefault("dummy")));A(w._states,t,n.has(e.id)?p.a.Passed:p.a.Hidden),w._steps[e.id]={state:a,idx:t,gnarName:e.gnarName,isLastStep:e.isLastStep},w._stepsByIdx[t]=e,w._stepsSubscriptions.push(e.switch().pipe(d.a.combineLatest(w._enableState,(function(e,t){return e&&t}))).subscribe((function(e){return A(w._switches,t,e)}),(function(e){w._log.error("onboarding malfunction",e),A(w._states,t,p.a.Passed)})))};var k=b.k.isForced(s)?new Set:new Set(this._settings.onboardingPassed.get());this._initSteps(k),this._subs.push(this._switches.pipe(d.a.debounceTime(500)).subscribe((function(e){return w._updateStates()}))),this._subs.push(this._states.pipe(d.a.skip(1)).subscribe((function(e){return w._settings.updateOnboardingPassed(Object.keys(w._steps).filter((function(t){return e[w._steps[t].idx]===p.a.Passed})))}))),this._log.isEnabled(g.a.LogLevel.TRACE)&&this._subs.push(this._states.subscribe((function(e){return w._log.debug("Onboarding states updated: "+e.join(", "))}))),Object(f.r)("fireOnboardingStep",(function(e,t){return Object(c.pipe)(m.g.fromNullable(w._steps[e]),m.g.fold((function(){return console.info("No such step "+e)}),(function(e){return e.state.set(t)})))})),Object(f.r)("onboardingState",this)}return Object(i.a)(e,[{key:"_initSteps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set,t=this;this._stepsSubscriptions.forEach((function(e){return e.unsubscribe()})),this._stepsSubscriptions=[],_(this._ded,this._sessionChecksModel,this._alertsReader,this._activeAlertHighlight,this._mode,this._cheetahViewModel,this._navigationViewModel,this._features).forEach((function(n,a){return t._addStep(n,a,e)}))}},{key:"isLastStep",value:function(e){return Boolean(this._steps[e].isLastStep)}},{key:"isStepEnabled",value:function(e){return void 0!==this._steps[e]}},{key:"subscribeForStep",value:function(e){var t=this,n=this._steps[e],a=n.state,r=n.gnarName;if(void 0===a)throw new Error("Illegal onboarding step id "+e);return{id:e,state:a,dotShown:function(){t._telemetry.gnarSpec.onboardingStepDotOnboardingShow(t._telemetry.pageId,r)},dotClicked:function(){Object(h.f)(a.get()===p.a.Dot,"Should be in dot state"),t._log.info("Dot clicked for: "+e),a.set(p.a.Popup),t._telemetry.gnarSpec.onboardingStepOnboardingPass(t._telemetry.pageId,r)},popupIgnored:function(){Object(h.f)(t._isPopup(a.get()),"Should be in popup state"),t._log.info("Popup ignored for: "+e),a.set(p.a.Hidden),t._updateStates()},popupClosed:function(){Object(h.f)(t._isPopup(a.get()),"Should be in popup state"),t._log.info("Popup closed for: "+e),a.set(p.a.Passed),t._updateStates()},actionTaken:function(){Object(h.f)(t._isPopup(a.get())||a.get()===p.a.Dot,"Should be in popup or dot state"),t._log.info("Action taken for: "+e),a.set(p.a.Passed),t._updateStates(),t._telemetry.gnarSpec.onboardingStepOnboardingPass(t._telemetry.pageId,r)}}}},{key:"unsubscribe",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._stepsSubscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"getStepCompletionCallback",value:function(e){var t=this;return function(){if(t.isStepEnabled(e)){var n=t.subscribeForStep(e),a=n.state.get();(a===p.a.Dot||t._isPopup(a))&&n.actionTaken()}}}},{key:"changeState",value:function(e){this._enableState.set(e)}},{key:"relaunchAllSteps",value:function(){this._initSteps()}},{key:"_updateStates",value:function(){var e=this;return Object(a.a)((function(){var t,n,a,r,i,o,c,l,u;return Object(s.c)(this,(function(s){switch(s.label){case 0:return[4,Object(f.s)(500)];case 1:for(s.sent(),t=e._switches.get(),e._log.debug("Onboarding switches updated "+t),n=e._states.get().slice(),t.forEach((function(e,t){e||n[t]===p.a.Hidden||n[t]===p.a.Passed||(n[t]=p.a.Hidden)})),a=n.filter((function(t){return e._isPopup(t)||t===p.a.Dot})).length,r=Math.max(0,1-a),i=0;i<n.length&&!(r<=0);++i)if(n[i]===p.a.Hidden&&t[i]){if(!(null===(l=null===(o=(c=e._stepsByIdx[i]).prepareStep)||void 0===o?void 0:o.call(c))||void 0===l||l)){n[i]=p.a.Hidden;continue}e._stepsByIdx[i].skipDot?n[i]=e._features.denali.showOnboardingTourA11yUpdates?p.a.Popover:p.a.Popup:n[i]=p.a.Dot,r--}return u=n.filter((function(t){return e._isPopup(t)||t===p.a.Dot})).length,Object(h.f)(u<=1,"Should be only ".concat(1," popups and dots visible, now ").concat(u)),e._states.set(n),[2]}}))}))()}}]),e}()},DUEA:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("DTwm"),s=n("tiWp"),c=n("OwvP"),l=n("4GyQ"),u=n("0Qjk"),d=n("TKPA"),p=n("0kuo"),m=n("mgiE"),f=n("NDcT"),h=n("ldOx"),g=n("nWMp"),b=n("xk6L"),v=n("P9Nt");class y extends h.a{}const O=(e,t)=>{const n=e=>e+" "+M.transitionDelay;return e&&e.type===v.a.SuccessType.large&&t.type===v.a.SuccessType.small?{prev:{start:{main:M.fadeOutEnd,secondary:M.fadeOutEnd},end:{main:M.fadeOutEnd,secondary:M.fadeOutEnd}},next:{start:{main:M.visible,secondary:M.fadeInStart},end:{main:M.visible,secondary:M.fadeInEnd}}}:e&&e.type===v.a.SuccessType.small&&t.type===v.a.SuccessType.large?{prev:{start:{main:M.fadeOutEnd,secondary:M.fadeOutStart},end:{main:M.fadeOutEnd,secondary:M.fadeOutEnd}},next:{start:{main:M.visible,secondary:M.visible},end:{main:M.visible,secondary:M.visible}}}:{prev:{start:{main:M.fadeOutStart,secondary:M.fadeOutStart},end:{main:M.fadeOutEnd,secondary:M.fadeOutEnd}},next:{start:{main:n(M.fadeInStart),secondary:n(M.fadeInStart)},end:{main:n(M.fadeInEnd),secondary:n(M.fadeInEnd)}}}},S=(e,t,n,a=!1,r)=>{switch(t){case v.a.SuccessType.zero:return a?i.createElement(e.Birthday,{key:"nothing-to-check",animate:n,onComplete:r}):i.createElement(e.NothingToCheck,{key:"nothing-to-check",animate:n,onComplete:r});case v.a.SuccessType.small:case v.a.SuccessType.large:return i.createElement(e.NoIssuesFound,{key:"no-issues-found",animate:n,onComplete:r});case v.a.SuccessType.applied:case v.a.SuccessType.premiumOnboardingStart:case v.a.SuccessType.premiumOnboardingComplete:return i.createElement(e.EverythingIsClear,{key:"everything-is-clear",animate:n,onComplete:r});default:return Object(p.c)(t)}},C=({state:e,preventAnimation:t,illustrations:n,children:h,scoreStatus:g})=>{const C=i.useContext(f.a.Context),w=e.get(),k=g.view(e=>Object(s.pipe)(e,m.g.map(e=>e===u.a.Message.ScoresStatus.SENSITIVE),m.g.getOrElse(o.constFalse)));return i.createElement(c.a.Fragment,null,n.view(n=>i.createElement(c.a.div,{className:M.successContainer},e.pipe(b.a.pairwise(),b.a.map(([e,a])=>((e,t,n,a=!0,r)=>{switch(t.type){case v.a.SuccessType.zero:return n.type===v.a.SuccessType.large||n.type===v.a.SuccessType.small?!0===t.showBirthday?i.createElement(e.Birthday,{key:"no-issue-found-to-nothing-to-check",animate:a,onComplete:r}):i.createElement(e.NoIssueFoundToNothingToCheck,{key:"no-issue-found-to-nothing-to-check",animate:a}):S(e,t.type,a,t.showBirthday,r);case v.a.SuccessType.applied:return S(e,t.type,a,!1,r);case v.a.SuccessType.large:case v.a.SuccessType.small:return n.type===v.a.SuccessType.zero?i.createElement(e.NothingToNoIssueFound,{key:"nothing-to-no-issue-found",animate:a,onComplete:r}):S(e,t.type,a&&n.type!==v.a.SuccessType.large&&n.type!==v.a.SuccessType.small,!1,r);default:return Object(p.c)(t)}})(n,a,e,!t)),b.a.startWith(S(n,w.type,!t,w.type===v.a.SuccessType.zero&&w.showBirthday))),i.createElement(y,{className:M.animationWrapper,state:e.pipe(b.a.map(e=>((e,t)=>{const n=t.successLens;switch(e.type){case v.a.SuccessType.zero:return!0===e.showBirthday?{type:v.a.SuccessType.zero,title:"It’s our birthday!",firstLine:i.createElement(i.Fragment,null,"Time to let ",i.createElement("s",null,"lose")," loose.")}:Object(r.a)(Object(a.a)({},n.emptyText),{type:v.a.SuccessType.zero});case v.a.SuccessType.small:return Object(r.a)(Object(a.a)({},n.smallText),{type:v.a.SuccessType.small});case v.a.SuccessType.large:return Object(r.a)(Object(a.a)({},n.largeText),{type:v.a.SuccessType.large});case v.a.SuccessType.applied:return{title:n.fixedText.titles[Object(d.q)(9)],type:v.a.SuccessType.applied,secondLine:void 0};default:return Object(p.c)(e)}})(e,C))),stateToClassMapper:O},({state:e,view:t})=>i.createElement("div",{"data-name":"success-lens-text",key:e.type,className:M.textWrapper},i.createElement(c.a.Fragment,null,k.view(n=>n?i.createElement("div",{className:M.successContent},null!=h?i.createElement(c.a.span,Object(l.c)(M.successText,t.pipe(b.a.map(e=>e.main))),h):null):i.createElement(i.Fragment,null,i.createElement(c.a.div,Object(l.c)(M.successTitle,t.pipe(b.a.map(e=>e.main))),e.title),i.createElement("div",{className:M.successContent},i.createElement(c.a.div,{key:"firstLine",className:t.pipe(b.a.map(e=>e.main))},e.firstLine),i.createElement(c.a.div,{key:"secondLine",className:t.pipe(b.a.map(e=>e.secondary))},e.secondLine),null!=h?i.createElement(c.a.span,Object(l.c)(M.successText,t.pipe(b.a.map(e=>e.main))),h):null)))))))))},w={display:"flex",flexDirection:"column",height:g.a.percent(100),justifyContent:"flex-start",alignItems:"center"},k={marginTop:g.a.rem(11.5)},E={marginTop:g.a.rem(2),textAlign:"center",wordSpacing:g.a.rem(.06),fontWeight:"bold",fontSize:g.a.rem(.9375)},j={marginTop:g.a.rem(.8),textAlign:"center",whiteSpace:"pre-line",wordSpacing:g.a.rem(.06),fontSize:g.a.rem(.875),lineHeight:g.a.rem(1.5)},_={position:"relative",display:"flex",width:g.a.percent(100),justifyContent:"center"},x={opacity:1,transition:"opacity "+g.a.seconds(.15)},A={opacity:0,transition:"opacity "+g.a.seconds(.15)},I={transitionDelay:g.a.seconds(.15)},T={right:g.a.rem(-.825)},M=g.a.stylesheet({successContainer:[w],successIcon:[k],successTitle:[E],successContent:[j],animationWrapper:[_],textWrapper:[{position:"absolute"}],fadeOutStart:[x],fadeOutEnd:[x,{opacity:0}],fadeInStart:[A],fadeInEnd:[A,{opacity:1}],visible:[{opacity:1}],transitionDelay:[I],backButton:[T],successText:[{display:"flex",flexDirection:"column",alignItems:"center"}]})},DgJv:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("lKCo"),i=n("DTwm"),o=n("TKPA");!function(e){let t,n;function a(e){return e.kind===t.activeLimited||e.kind===t.activeUnlimited}function s(e){return e.kind===t.passive}function c(e){return e.kind===t.unknown}function l(e){return a(e)||c(e)}function u(n){if(void 0===n)return{kind:t.unknown,userSettings:{inlineQuickReplyEnabled:!1,inlineRewriteEnabled:!1}};const a=e.Active.parseRefillDate(n.usage.refillDate);return n.usage.promptsRemaining<0?{kind:t.unknown,userSettings:n.settings}:1e4===n.usage.promptsAllocated&&n.usage.promptsRemaining>0?{kind:t.activeUnlimited,promptsRemaining:n.usage.promptsRemaining,promptsAllocated:n.usage.promptsAllocated,refillDate:a,userSettings:n.settings}:n.usage.promptsRemaining>0?{kind:t.activeLimited,promptsRemaining:n.usage.promptsRemaining,promptsAllocated:n.usage.promptsAllocated,refillDate:a,userSettings:n.settings}:{kind:t.passive,promptsRemaining:n.usage.promptsRemaining,promptsAllocated:n.usage.promptsAllocated,refillDate:a,userSettings:n.settings}}!function(e){e.activeLimited="activeLimited",e.activeUnlimited="activeUnlimited",e.passive="passive",e.unavailable="unavailable",e.disabled="disabled",e.pending="pending",e.unknown="unknown"}(t=e.Kind||(e.Kind={})),function(e){const t=Object(o.l)(e=>{const t=Date.parse(e);return isNaN(t)?0:t});function n(e){const t=e-Date.now();return Math.floor(t/36e5)}e.parseRefillDate=function(e){return t(e)},e.hoursUntilRefillDate=n,e.daysUntilRefillDate=function(e){return Math.floor(n(e)/24)}}(n=e.Active||(e.Active={})),e.isActive=a,e.isActiveUnlimited=function(e){return e.kind===t.activeUnlimited},e.isPassive=s,e.isActiveOrPassive=Object(o.p)(a,s),e.isUnknown=c,e.isUsable=l,e.isVisible=function(e){return l(e)||s(e)},e.isDisabled=function(e){return e.kind===t.disabled},e.isUnavailable=function(e){return e.kind===t.pending||e.kind===t.unavailable||e.kind===t.disabled},e.fromUserState=u,e.updateUsage=function(t,n){return u({usage:n,settings:t.kind===e.Kind.disabled||t.kind===e.Kind.unavailable?{inlineQuickReplyEnabled:!1,inlineRewriteEnabled:!1}:t.userSettings})},e.getPromptsAllocated=function(t){return Object(i.pipe)(t,r.fromPredicate(e.isActiveOrPassive),r.map(e=>e.promptsAllocated))}}(a||(a={}))},Djdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a,r=n("Vv+i"),i=n("Wy1Y"),o=n("uKMM"),s=n("a5gI"),c=n("4mQT"),l=n("x+Pc"),u=n("hcme"),d=n("mMt2"),p=n("t5lx"),m=n("000W"),f=n("DTwm"),h=n("tiWp"),g=n("M5RY"),b=n("B/Ki"),v=n("fr9z"),y=n("gg7t"),O=n("ShUL"),S=n("xk6L"),C=n("yIk2"),w=n("IjjT"),k=n("mgiE"),E=n("0kuo"),j=n("M3t0");!function(e){e.rangeMismatch="range_mismatch",e.partialRemoveMismatch="partial_update_mismatch",e.noMarkInDom="no_mark_in_dom"}(a||(a={}));var _=function(){function e(t,n,r){Object(i.a)(this,e),Object(s.a)(this,"action",void 0),Object(s.a)(this,"got",void 0),Object(s.a)(this,"expected",void 0),Object(s.a)(this,"type",void 0),this.action=t,this.got=n,this.expected=r,this.type=a.rangeMismatch}return Object(o.a)(e,[{key:"toString",value:function(){return"".concat(this.type," on action '").concat(this.action,"', expected: ").concat(this.expected,", got: ").concat(this.got)}}]),e}(),x=function(){function e(t,n,r){Object(i.a)(this,e),Object(s.a)(this,"action",void 0),Object(s.a)(this,"got",void 0),Object(s.a)(this,"expected",void 0),Object(s.a)(this,"type",void 0),this.action=t,this.got=n,this.expected=r,this.type=a.partialRemoveMismatch}return Object(o.a)(e,[{key:"toString",value:function(){return"".concat(this.type," on action '").concat(this.action,"', expected: ").concat(this.expected,", got: ").concat(this.got)}}]),e}(),A=function(){function e(t,n){Object(i.a)(this,e),Object(s.a)(this,"action",void 0),Object(s.a)(this,"got",void 0),Object(s.a)(this,"type",void 0),this.action=t,this.got=n,this.type=a.noMarkInDom}return Object(o.a)(e,[{key:"toString",value:function(){return"".concat(this.type," on action '").concat(this.action,"' for range: ").concat(this.got)}}]),e}();function I(e,t){return Object(h.pipe)((n=e,k.b.tryCatchError((function(){return n.ops.reduce((function(e,t){var n=e.deltaMarks,a=e.deltaLength;if(!b.a.isInsert(t))throw new Error("Quill marks: insert delta expected ".concat(t));var r=b.a.getInsertLength(t),i=t.attributes||{},o=Object.keys(i);return 0===o.length||o.filter(w.r).forEach((function(e){var t=v.b.create(a,a+r,i[e]);if(n.has(e)){var o=n.get(e);if(o.start>t.end+1)throw new Error("Corrupted partial range. End part1: ".concat(t.end,", start part2: ").concat(o.start));n.set(e,v.b.join(t,o))}else n.set(e,t)})),{deltaMarks:n,deltaLength:a+r}}),{deltaMarks:new Map,deltaLength:0}).deltaMarks}))),k.b.map((function(e){return Object(h.pipe)(t.map((function(t){return Object(h.pipe)(k.g.fromNullable(e.get(Object(w.n)(t.id))),(function(e){return function(e,t){return Object(h.pipe)(t,k.g.fold((function(){return v.b.isEmpty(e.range)?k.g.none:k.g.some(k.b.right(new A(e.action,e.range)))}),(function(t){return e.action===y.a.Change.ActionType.remove&&e.removeType===O.a.Change.RemoveType.partial?v.b.contains(e.range,t)?k.g.none:k.g.some(k.b.left(new x(e.action,e.range,t))):v.b.ord.equals(t,e.range)?k.g.none:k.g.some(v.b.contains(t,e.range)?k.b.right(new _(e.action,e.range,t)):k.b.left(new _(e.action,e.range,t)))})))}(t,e)}))})),m.y.sequence(k.g.option),k.g.getOrElse((function(){return[]})))})));var n}var T=g.import("core/module");function M(e,t){var n;return null===(n=e.getAttribute("data-mark-id"))||void 0===n?void 0:n.startsWith(t.split("|")[0])}var P=function(){function e(t,n,a,r,o){Object(i.a)(this,e),Object(s.a)(this,"id",void 0),Object(s.a)(this,"_getParentRect",void 0),Object(s.a)(this,"_getPosition",void 0),Object(s.a)(this,"_getNodeAt",void 0),Object(s.a)(this,"_getContents",void 0),Object(s.a)(this,"_cachedMarkLength",void 0),Object(s.a)(this,"_cachedNodes",void 0),this.id=t,this._getParentRect=n,this._getPosition=a,this._getNodeAt=r,this._getContents=o,this._cachedMarkLength=v.b.size(k.b.getOrElse((function(){return v.b.empty}))(this.range())),this._cachedNodes=null}return Object(o.a)(e,[{key:"fromMarkEvent",value:function(e){return Object(h.pipe)(this._getCachedDomNodes(),k.b.chain(k.g.fold((function(){return k.b.left(new y.a.CollapsedMarkError("cannot animate collapsed mark"))}),(function(e){var t=Object(u.a)(e,1)[0];return k.b.right(t)}))),k.b.fold((function(e){return S.a.of(k.b.left(e))}),(function(t){return S.a.fromEvent(t,e).pipe(S.a.map(k.b.right))})))}},{key:"range",get:function(){return this._getPosition(this.id)}},{key:"getRect",value:function(){var e=this;return Object(h.pipe)(this._getCachedDomNodes(),k.b.chain(k.g.fold((function(){return k.b.left(new y.a.CollapsedMarkError("Cannot get rect for collapsed mark"))}),(function(t){var n=Object(u.a)(t,2),a=n[0],r=n[1];return Object(h.pipe)(k.f.fromArray(a===r?Array.from(a.getClientRects()):Object(d.a)(Array.from(a.getClientRects())).concat(Object(d.a)(Array.from(r.getClientRects())))),k.g.fold((function(){return k.b.left(new Error("getClientRects returned nothing "))}),(function(t){return k.b.right({rootClientRect:e._getParentRect(),clientRects:t})})))}))))}},{key:"_getCachedDomNodes",value:function(){var e=this;return Object(h.pipe)(this.range(),k.b.fold((function(){return k.b.right(k.g.none)}),(function(t){var n=v.b.size(t);return null!==e._cachedNodes&&null!==e._cachedNodes[0].parentElement&&null!==e._cachedNodes[1].parentElement&&e._cachedMarkLength===n&&M(e._cachedNodes[0],e.id)&&M(e._cachedNodes[1],e.id)?k.b.right(k.g.some(e._cachedNodes)):Object(h.pipe)(e._getUnderlines(),k.b.map(k.g.map((function(t){var a=Object(u.a)(t,2),r=a[0],i=a[1];return e._cachedNodes=[r.domNode,i.domNode],e._cachedMarkLength=n,e._cachedNodes}))))})))}},{key:"_getUnderlines",value:function(){var e=this;return Object(h.pipe)(this.range(),k.b.fold((function(){return k.b.right(k.g.none)}),(function(t){return k.b.tryCatchError((function(){var n=t.start,a=t.end,r=e._getNodeAt(n+1)[0],i=e._getNodeAt(a)[0],o=w.g.findUnderlineUp(r),s=w.g.findUnderlineUp(i);return Object(E.f)(null!==o&&null!==s,"Cannot find corresponding Marker. Looks like we are trying to show/hide non-existing alert/underline",(function(){return"id=".concat(e.id,"; first=").concat(o,"; firstNode=").concat(r,"; last=").concat(s,"; lastNode=").concat(i,", getContents=").concat(e._getQuillContents(t,20))})),k.g.some([o,s])}))})))}},{key:"_getQuillContents",value:function(e,t){var n=e.start,a=e.end,r=n-t,i=this._getContents(r<0?0:r,a+t),o=b.a.anonymizeTextAndStringAttrs(i);return JSON.stringify(o)}}]),e}(),N=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e,a){var o;Object(i.a)(this,n),o=t.call(this,e,a),Object(s.a)(Object(r.a)(o),"quill",void 0),Object(s.a)(Object(r.a)(o),"options",void 0),Object(s.a)(Object(r.a)(o),"_subs",void 0),Object(s.a)(Object(r.a)(o),"_marks",void 0),Object(s.a)(Object(r.a)(o),"_log",void 0),Object(s.a)(Object(r.a)(o),"activeMarks",void 0),Object(s.a)(Object(r.a)(o),"hoveredMarks",void 0),Object(s.a)(Object(r.a)(o),"markChangeApplied",void 0),Object(s.a)(Object(r.a)(o),"getMarkById",void 0),Object(s.a)(Object(r.a)(o),"changeMarks",void 0),o.quill=e,o.options=a,o._subs=[],o._marks=new Map,o._log=j.d.Logging.getLogger("MarksManager",j.a.LogLevel.DEBUG),o.activeMarks=new S.a.BehaviorSubject(k.g.none),o.hoveredMarks=new S.a.BehaviorSubject(k.g.none),o.markChangeApplied=new S.a.Subject,o.getMarkById=function(e){return Object(h.pipe)(o._marks.get(e),k.b.fromNullable(new Error("Cannot find mark by id: ".concat(e))))},o.changeMarks=function(e){if(0===e.length)return y.a.Change.Result.getEmpty();var t=o._getMarksModels(e);return o._marksValidation(e,Object(w.y)(o.quill.editor.delta),o.options.getOpsHistory()),o.quill.updateContents(Object(w.z)(Object(w.t)(e,o._getMarkAttributes)),g.sources.API),e.forEach((function(e){return e.action===y.a.Change.ActionType.remove&&Object(w.i)(e.id)})),o.markChangeApplied.next(e.map((function(e){return e.id}))),t};var c=Object(w.A)(o.quill).pipe(S.a.share());return o._subs.push(c.pipe(S.a.filter(w.k)).subscribe((function(e){var t=e.delta;o._unwrapMarkExtension(t.ops)})),c.pipe(S.a.filter(w.l),S.a.filter((function(e){var t=e.range;return Boolean(t)&&0===t.length})),S.a.distinctUntilChanged((function(e,t){return e.range.index===t.range.index&&e.range.length===t.range.length})),S.a.map((function(e){var t=e.range;return e.source===g.sources.USER?Object(h.pipe)(k.g.fromNullable(t),k.g.chain((function(e){var t=o.quill.getLeaf(e.index)[0],n=o.quill.getLeaf(e.index+1)[0];if(n!==t&&Boolean(n)){var a=Object(h.pipe)(o._getMarksByBlot(t),k.g.fold((function(){return[]}),f.identity)),r=Object(h.pipe)(o._getMarksByBlot(n),k.g.fold((function(){return[]}),f.identity));return k.f.fromNullableArray(a.concat(r))}return o._getMarksByBlot(t)}))):k.g.none}))).subscribe(o.activeMarks),S.a.combineLatestStatic(S.a.mergeStatic(S.a.fromEvent(o.quill.root,"mouseenter").pipe(S.a.mapTo(!0)),S.a.fromEvent(o.quill.root,"mouseleave").pipe(S.a.mapTo(!1))).pipe(S.a.distinctUntilChanged()),o.options.ongoingSelection).pipe(S.a.switchMap((function(e){var t=Object(u.a)(e,2),n=t[0];return t[1]?S.a.of(k.g.none):n?S.a.mergeStatic(a.contentUpdated.pipe(S.a.mapTo(k.g.none)),a.scrollPositionChanged.pipe(S.a.mapTo(k.g.none)),S.a.fromEvent(o.quill.root,"mousemove",{passive:!0}).pipe(S.a.auditTime(50),S.a.map((function(e){var t=document.elementFromPoint(e.clientX,e.clientY);try{var n=g.find(t,!0);return!Boolean(n)||Object(l.a)(n,g)?k.g.none:o._getMarksByBlot(n)}catch(e){return k.g.none}})))):S.a.of(k.g.none).pipe(S.a.delay(200))})),S.a.distinctUntilChanged(k.g.getEq({equals:function(e,t){return e.length===t.length&&e.every((function(e,n){return t[n]===e}))}}).equals)).subscribe(o.hoveredMarks)),o}return Object(o.a)(n,[{key:"_getMarksByBlot",value:function(e){var t=this;return Object(h.pipe)(k.g.fromNullable(w.g.getMarksIdsByBlot(e)),k.g.filterMap(Object(f.flow)(m.V(Object(f.flow)((function(e){return t._marks.get(e)}),k.g.fromNullable)),k.f.fromArray)))}},{key:"dispose",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]}},{key:"_marksValidation",value:function(e,t,n){var a=this,r=e.filter((function(e){return!(e.action!==y.a.Change.ActionType.remove&&e.action!==y.a.Change.ActionType.update||v.c.is(e.meta.range())||Object(w.s)(e.id))})).map((function(e){return{id:e.id,action:e.action,range:v.b.copy(e.meta.range())}}));r.length>0&&C.b.Scheduler.inRic(S.a.of(void 0),2e3).pipe(S.a.map((function(){return I(t,r)})),S.a.first()).subscribe({next:k.b.fold((function(e){return a._log.warn("Cannot collect marks to validate",e)}),(function(e){return e.forEach(k.b.fold((function(e){a._log.warn("Got invalid marks",{error:e,opsHistory:n})}),(function(e){return a._log.info("Range does not match with mark",{rangeMismatch:e,opsHistory:n})})))}))})}},{key:"_createMarkModel",value:function(e){var t=this,n=new P(e.id,(function(){return t.quill.container.getBoundingClientRect()}),(function(){return function(){var t=e.meta.range();return v.b.isEmpty(t)?k.b.left(t):k.b.right(t)}}),(function(e){return t.quill.getLeaf(e)}),(function(e,n){return Object(w.y)(t.quill.getContents(e,n))}));return this._marks.set(n.id,n),Object(w.w)(n.id),n}},{key:"_getMarksModels",value:function(e){var t=this;return e.reduce((function(e,n){switch(n.action){case y.a.Change.ActionType.create:var a=t._createMarkModel(n);e.created.set(a.id,k.b.right(a));break;case y.a.Change.ActionType.update:t._marks.has(n.id)?e.created.set(n.id,k.b.right(t._marks.get(n.id))):e.updated.set(n.id,k.b.left(new E.b("Cannot update unknown mark")));break;case y.a.Change.ActionType.remove:if(!t._marks.has(n.id))throw e.removed.set(n.id,k.b.left(new E.b("Cannot remove unknown mark"))),new E.b("Cannot remove unknown mark");t._marks.delete(n.id),t._ensureActive(n.id),e.removed.set(n.id,k.b.right(void 0));break;default:Object(E.c)(n)}return e}),y.a.Change.Result.getEmpty())}},{key:"_getMarkAttributes",value:function(e){var t=Object(w.n)(e.id);switch(e.action){case y.a.Change.ActionType.create:return Object(s.a)({},t,{action:y.a.Change.ActionType.create,id:e.id,classes:e.meta.classes,order:e.meta.order});case y.a.Change.ActionType.update:return Object(s.a)({},t,{action:y.a.Change.ActionType.update,id:e.id,classes:e.meta.classes,order:e.meta.order});case y.a.Change.ActionType.remove:return Object(s.a)({},t,!1);default:return Object(E.c)(e)}}},{key:"_ensureActive",value:function(e){var t=this;Object(h.pipe)(this.activeMarks.getValue(),k.g.filter((function(t){return t.some((function(t){return t.id===e}))})),k.g.map((function(){t.activeMarks.next(k.g.none)}))),Object(h.pipe)(this.hoveredMarks.getValue(),k.g.filter((function(t){return t.some((function(t){return t.id===e}))})),k.g.map((function(){return t.hoveredMarks.next(k.g.none)})))}},{key:"_findInsertsToUnwrap",value:function(e,t){return this.quill.scroll.path(e+1).reduce((function(n,a){var r=Object(u.a)(a,2),i=r[0],o=r[1];return Object(l.a)(i,w.e)?((1===o&&!w.g.hasSameIdSibling(i,w.g.LOOKUP_DIRECTION.left)||o+t-1===i.length()&&!w.g.hasSameIdSibling(i,w.g.LOOKUP_DIRECTION.right))&&n.push(O.a.Change.getRemoveAction({range:function(){return v.b.create(e,e+t)}},O.a.Change.RemoveType.partial)(i.markId)),n):n}),[])}},{key:"_unwrapMarkExtension",value:function(e){var t=this,n=e.reduce((function(e,n){var a,r=e.start,i=e.toRemove;Object(w.q)(n)&&(a=i).push.apply(a,Object(d.a)(t._findInsertsToUnwrap(r,b.a.getInsertLength(n))));return{start:r+Object(w.h)(n),toRemove:i}}),{start:0,toRemove:[]}).toRemove;n.length&&this.quill.updateContents(Object(w.z)(Object(w.t)(n,this._getMarkAttributes)),g.sources.API)}}]),n}(T);Object(s.a)(N,"DEFAULTS",{})},DkqI:function(e){e.exports=JSON.parse('{"wrapper":"_3995e1ae-order-wrapper","row":"_87694a02-order-row","col":"_d5b7da38-order-col","leftCol":"_88bf7f72-order-leftCol _d5b7da38-order-col"}')},E5C1:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return w}));var a,r,i,o=n("Wy1Y"),s=n("uKMM"),c=n("a5gI"),l=n("JOKA"),u=n("tiWp"),d=n("+vYo"),p=n("lXop"),m=n("xk6L"),f=n("bM8p"),h=n("TKPA"),g=n("mgiE"),b=n("0kuo"),v=n("M3t0"),y=n("Eve8"),O=n("txgs"),S=n("s1NC"),C=n("OXKW");function w(e,t,n,a,r,i,o,s,c,l,u){var d=new m.a.Subject;return{viewModel:new k(e,d,t,n,a,r,i,o,s,c,l,u),events:d}}!function(e){e.Collapsed="Collapsed",e.Expanded="Expanded"}(a||(a={})),function(e){e.close="close",e.myGrammarly="myGrammarly",e.documentHeader="documentHeader",e.newDocument="newDocument",e.uploadFile="uploadFile",e.download="download",e.print="print",e.editHeader="editHeader",e.editorSettings="editorSettings",e.accountHeader="accountHeader",e.userName="userName",e.email="email",e.upgradeToPremium="upgradeToPremium",e.language="language",e.subscription="subscription",e.logout="logout",e.support="support",e.whatsNew="whatsNew",e.feedback="feedback",e.privacyPolicy="privacyPolicy",e.termsOfService="termsOfService",e.reportABug="reportABug"}(r||(r={})),function(e){e.uploadFile="uploadFile",e.accountHeaderLabel="accountHeaderLabel",e.languageSettings="languageSettings",e.whatsNewUpdates="whatsNewUpdates"}(i||(i={}));var k=function(){function e(t,n,r,i,s,p,b,S,w,k,E,j){var _=this;Object(o.a)(this,e),Object(c.a)(this,"_scheme",void 0),Object(c.a)(this,"_events",void 0),Object(c.a)(this,"_textResources",void 0),Object(c.a)(this,"_userAccount",void 0),Object(c.a)(this,"_dialectSettings",void 0),Object(c.a)(this,"_uploadViewModel",void 0),Object(c.a)(this,"_environment",void 0),Object(c.a)(this,"_notificationsManager",void 0),Object(c.a)(this,"_telemetry",void 0),Object(c.a)(this,"_documentModel",void 0),Object(c.a)(this,"_appRouter",void 0),Object(c.a)(this,"_isEditorFocused",void 0),Object(c.a)(this,"itemsState",void 0),Object(c.a)(this,"visualState",void 0),Object(c.a)(this,"items",void 0),Object(c.a)(this,"head",void 0),Object(c.a)(this,"getHotkeyString",void 0),Object(c.a)(this,"getBindings",void 0),Object(c.a)(this,"onMenuHovered",void 0),Object(c.a)(this,"onGoBackToGrammarlyHome",void 0),Object(c.a)(this,"onOpenToolbar",void 0),Object(c.a)(this,"_changeDialect",void 0),this._scheme=t,this._events=n,this._textResources=r,this._userAccount=i,this._dialectSettings=s,this._uploadViewModel=p,this._environment=b,this._notificationsManager=S,this._telemetry=w,this._documentModel=k,this._appRouter=E,this._isEditorFocused=j,this.visualState=d.a.create({type:a.Collapsed}),this.items=[],this.getHotkeyString=f.a.HotkeyOptions.toString(this._environment.has(O.b.Flag.isAppleSystem)),this.getBindings=Object(u.pipe)(this._scheme,C.a.Scheme.toBindingProvider((function(e){return _._events.next(e)}),(function(){return _._isEditorFocused.pipe(m.a.combineLatest(_.visualState.pipe(m.a.map((function(e){return e.type===a.Expanded}))),h.o))}))),this.onMenuHovered=function(){_._documentModel.flush().catch((function(e){return v.d.Logging.getLogger("documentSettings").error("Could not flush document from toolbar",e)}))},this.onGoBackToGrammarlyHome=function(){_._telemetry.gnarSpec.backToMyGrammarlyButtonClick(_._telemetry.pageId,"inline"),_._appRouter.navigate(y.a.routes.documents.href())},this.onOpenToolbar=function(){_.visualState.set({type:a.Expanded,scrollTo:g.g.none})},this._changeDialect=function(e){return m.a.from(_._dialectSettings.setDialect(e)).pipe(m.a.tap((function(){Object(u.pipe)(_._environment.actions.dialectChanged(),g.b.mapLeft((function(e){v.d.Logging.getLogger("documentSettings").error("env error during dialect change",e)}))),_._telemetry.gnarSpec.docSettingsLanguageEventFire(e,_._telemetry.pageId)})),m.a.catchError((function(e){return v.d.Logging.getLogger("documentSettings").error("Cannot set language preferences",e),_._notificationsManager.enqueue("error")}))).toPromise()},this.itemsState=d.a.create(t.filter(C.a.isItem).reduce((function(e,t){return e[t.name]=t.initialState,e}),{}));var x=Object(l.a)(t.map((function(e){return _._createViewItem(e)}))),A=x[0],I=x.slice(1);this.head=A,this.items=I}return Object(s.a)(e,[{key:"_createViewItem",value:function(e){var t=this;return C.a.isItem(e)?{name:e.name,title:this._getTitle(e.name),tooltip:this._getTooltip(e.name),nestedItem:this._getNestedItem(e),active:this.itemsState.view(e.name,"active"),disabled:this.itemsState.view(e.name,"disabled"),onClick:function(){return t._events.next({event:e.name,source:C.a.Source.View})}}:e}},{key:"_getNestedItem",value:function(e){var t=this,n=e.name;switch(n){case r.uploadFile:if(this._userAccount.features.demoMode)return g.g.none;var a=S.d.ACCEPTED_UPLOAD_EXTENSIONS.filter((function(e){return".doc"!==e&&".htm"!==e&&".html"!==e})).join(", ");return g.g.some(g.b.right({type:i.uploadFile,uploadViewModel:this._uploadViewModel,label:a}));case r.newDocument:case r.print:case p.d.undo:case p.d.redo:case p.d.cut:case p.d.copy:case p.d.paste:case p.d.selectAll:return Object(u.pipe)(e.hotkey,g.g.map((function(e){return g.b.left(t.getHotkeyString(e[0]))})));case r.accountHeader:return g.g.some(g.b.right({type:i.accountHeaderLabel,denaliUserType:this._userAccount.features.denaliUserType}));case r.language:return g.g.some(g.b.right({type:i.languageSettings,dialectSettings:this._dialectSettings,changeDialect:this._changeDialect}));case r.download:return this._documentModel.rtfMode===S.d.DocumentFeatures.FormattingMode.on?g.g.some(g.b.left(this._textResources.documentSettings.downloadLabel)):g.g.none;case r.close:case r.myGrammarly:case r.documentHeader:case r.editHeader:case r.editorSettings:case r.userName:case r.email:case r.upgradeToPremium:case r.subscription:case r.logout:case r.support:case r.whatsNew:case r.feedback:case r.reportABug:case r.privacyPolicy:case r.termsOfService:return g.g.none;default:return Object(b.c)(n)}}},{key:"_getTitle",value:function(e){var t=this._userAccount.profile.get();switch(e){case r.userName:return t.fullName;case r.email:return t.email;default:return this._textResources.documentSettings[e]}}},{key:"_getTooltip",value:function(e){switch(e){case r.documentHeader:case r.editHeader:case r.accountHeader:case r.email:case r.userName:return g.g.none;default:var t=this._textResources.documentSettings;return g.g.some(e in t.tooltips?t.tooltips[e]:t[e])}}}]),e}()},EBIN:function(e,t,n){"use strict";n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return ae})),n.d(t,"a",(function(){return Z}));var a={};n.r(a),n.d(a,"sendToSignIn",(function(){return A})),n.d(a,"sendToIdeasGallery",(function(){return I})),n.d(a,"handleGbPrompt",(function(){return T}));var r=n("a5gI"),i=n("8O/t"),o=n("X76w"),s=n("8h56"),c=n("DTwm"),l=n("tiWp"),u=n("O+SZ"),d=n("+vYo"),p=n("0Qjk"),m=n("mgiE"),f=n("0kuo"),h=n("RRF2"),g=n("TKPA"),b=n("skc2"),v=n("00I3"),y=n("M3t0"),O=n("ksEe"),S=n("Hj2R"),C=n("D2TP"),w=n("xk6L"),k=n("La5+"),E=n("ZDrO"),j=n("aODX"),_=n("itj6"),x=n("KZgA");const A=(e,t)=>Object(c.flow)(w.a.filter(e=>e.type===_.b.Type.toSignIn),w.a.map(()=>n=>(e.actions.openUrl(new b.a(t.funnel.signin).addParams({utm_medium:"internal",utm_source:"upHook",utm_campaign:"editorDenalianonymousUserGenericSignInPrompt"})),n))),I=(e,t)=>Object(c.flow)(w.a.filter(_.b.isOpenIdeasGallery),w.a.tap(()=>e.actions.openPopup(new b.a(t.ideas.galleryURL))),w.a.switchMapTo(w.a.EMPTY)),T=(e,t,n)=>a=>w.a.mergeStatic(Object(l.pipe)(a,w.a.filter(_.b.isGbPromptShow),w.a.tap(e=>M(e,n)),w.a.switchMapTo(w.a.EMPTY)),Object(l.pipe)(a,w.a.filter(_.b.isGbPromptApply),w.a.tap(a=>P(e,t,a,n)),w.a.switchMapTo(w.a.EMPTY)),Object(l.pipe)(a,w.a.filter(_.b.isGbPromptCreateRule),w.a.tap(e=>N(e,n)),w.a.switchMapTo(w.a.EMPTY)),Object(l.pipe)(a,w.a.filter(_.b.isGbPromptDismiss),w.a.tap(e=>D(e,n)),w.a.switchMapTo(w.a.EMPTY))),M=({patternName:e},t)=>t.onShow(e),P=(e,t,n,a)=>S.g.isVox(n.gbPrompt)?B(e,t,n,a):R(e,t,n,a),N=(e,t)=>S.g.isVox(e.gbPrompt)?U(e,t):G(),D=(e,t)=>S.g.isVox(e.gbPrompt)?q(e,t):K(e,t),B=(e,t,n,a)=>"redirect"===n.gbPrompt.promptType?L(e,t,n,a):F(),L=(e,t,{gbPrompt:{styleGuideId:n},source:a,target:r,patternName:i},o)=>{e.actions.openPopup(new b.a(t.account.styleGuide).addParams({utm_medium:"internal",utm_source:"acHook",utm_campaign:"consistencySGprompt",action:"createRule",source:a,target:r,styleGuideId:n})),o.onAccept(i)},F=()=>{},R=(e,t,n,a)=>"redirect"===n.gbPrompt.promptType?H(e,t,n,a):V(n,a),H=(e,t,{gbPrompt:n,patternName:a},r)=>{e.actions.openPopup(new b.a(t.account.writingStyle).addParams({utm_medium:"internal",utm_source:"acHook",utm_campaign:"consistencySGprompt",categoryTitle:n.categoryTitle})),r.onAccept(a)},V=({patternName:e},t)=>t.onAccept(e),U=(e,t)=>"redirect"===e.gbPrompt.promptType?W():z(e,t),W=()=>{},z=({patternName:e},t)=>t.onAccept(e),G=()=>{},q=({patternName:e,step:t},n)=>"initial"===t&&n.onDismiss(e),K=({patternName:e,step:t},n)=>"initial"===t&&n.onDismiss(e);var $,Z,Y=n("hzat"),X=n("SOPW"),Q=n("/1wo"),J=n("mDV6"),ee=n("iVUr"),te=n("d3CI"),ne=n("wdnv");!function(e){const t=(e,t,n,a)=>Object(l.pipe)(a(t=>(t.lensId===e.id||C.a.isMainLens(e.id))&&!S.a.isPremium(t),"middleOfTheViewport"),m.g.fold(()=>w.a.EMPTY,a=>Object(l.pipe)(n(e),m.g.filter(e=>e.activeAlert.id===a.alert.id),m.g.fold(()=>w.a.of(a),e=>((e,n)=>Object(l.pipe)(t,m.g.map(t=>t.alignMarkToCard(e,x.a.Animation.ANIMATE_ALL,m.g.none).pipe(w.a.switchMapTo(w.a.EMPTY))),m.g.getOrElse(()=>w.a.of(n))))(Object(c.unsafeCoerce)(e),a)))));e.changeAlertEffect=(e,n,a,r,i,o,s,c)=>({id:"changeAlertEffect",when:C.a.isWithAlertsId,what:te.e.Effect.SwitchAlert.create(n.actionEvents.pipe(w.a.switchMap(n=>{const u=e.get();if(!te.e.hasCards(u))return w.a.throwError(new f.b("Cannot update state without cards"));switch(n.type){case _.b.Type.alertMinicardButtonClick:return Object(l.pipe)(i.getRegistered(n.alertHighlight.alert.id),m.g.fold(()=>(c.error("somehow we got click on non registered alert",{alert:Y.a.snapshot(n.alertHighlight.alert),alertInRepo:Object(l.pipe)(i.getById(n.alertHighlight.alert.id),m.g.map(Y.a.fromModel),m.g.map(Y.a.snapshot)),state:te.e.snapshot(Q.a.snapshot,r)(u)}),w.a.EMPTY),()=>w.a.of(n.alertHighlight)));case _.b.Type.cardMatchesNavigationButtonClick:const e=n.transitionTo;switch(e.kind){case"anotherAlert":return Object(l.pipe)("right"===n.direction?a.nextAlert(e.card):Object(l.pipe)(a.prevAlert(e.card),m.g.orElse(a.anyRegisteredAlert(e.card))),m.g.fold(()=>w.a.EMPTY,e=>w.a.of({alert:e,highlightIndex:0})));case"sameAlert":return Object(l.pipe)(i.getRegistered(e.card.activeAlert.id),m.g.fold(()=>w.a.EMPTY,()=>w.a.of({alert:e.card.activeAlert,highlightIndex:e.highlightIndex})));default:return Object(f.c)(e)}case _.b.Type.switchToClosestByViewport:return t(u.currentLens,o,r,s);default:return w.a.EMPTY}}),w.a.map(e=>({alertHighlight:e,alertSource:S.b.sidebar,options:{order:"lensOrder"}}))))});e.createSendActiveAlertFeedbacksEffect=function(e,t,n,a,r){const i=e.pipe(w.a.map(te.e.getActiveAlert(t)),w.a.distinctUntilChanged(m.g.getEq(m.c.fromEquals((e,t)=>Y.a.eq.equals(e,t)&&e.patternName===t.patternName)).equals),w.a.map(Object(c.flow)(m.g.map(h.e.pick("id")),m.g.chain(a.getValidForFeedback))),w.b.compactMap(e=>w.a.Observable.create(()=>(Object(l.pipe)(a.getValidForFeedback(e.id),m.g.tap(()=>Object(l.pipe)(n.applyFeedback(e.id,{kind:p.a.AlertFeedbackType.LOOKED,subtype:p.a.FeedbackSubtype.Sidebar},S.b.sidebar),m.b.fold(e=>r.error("Failed to send LOOKED feedback",e),g.e)))),()=>Object(l.pipe)(a.getValidForFeedback(e.id),m.g.tap(()=>Object(l.pipe)(n.applyFeedback(e.id,{kind:p.a.AlertFeedbackType.CLOSED,subtype:p.a.FeedbackSubtype.Sidebar},S.b.sidebar),m.b.fold(e=>r.error("Failed to send CLOSED feedback: ",e),g.e))))))));return{id:"sendActiveAlertFeedbacksEffect",when:c.constTrue,what:te.e.Effect.Applicator.create(i.pipe(w.a.switchMapTo(w.a.NEVER)))}}}($||($={}));class ae{_applyStartVSChange(e,t){return t.reduce((e,[t,n])=>Object(l.pipe)(j.a.update(e,t,e=>this._checksFeedCapabilities.transitionTo(n)(e)),m.b.fold(()=>e,c.identity)),e)}_applyCompleteVSChange(e,t){return t.reduce((e,[t,n])=>Object(l.pipe)(e.items.get(t),m.g.map(({value:e})=>e),m.g.fold(()=>e,a=>J.a.isAnimatable(a)&&"removed"===a.visualState.transition.type?this._checksFeedCapabilities.removeItemById(t)(e):Object(l.pipe)(j.a.update(e.items,t,e=>J.a.isAnimatable(e)&&e.visualState.transitionId===n?this._checksFeedCapabilities.completeTransition(n)(e):e),m.b.fold(()=>e,t=>ne.a.Prism.items.set(t,e))))),e)}_handleSnippetsOpenExternalLink(){return this.actionEvents.pipe(w.a.filter(_.b.isSnippetsOpenExternalLink)).subscribe(({externalLink:e})=>this._platformEnvironment.actions.openPopup(new b.a(e)))}_updateToneAICard(e){return t=>Object(l.pipe)(e,m.b.chainW(({newAlert:e,itemId:n})=>j.a.update(t.currentLens.items,n,this._checksFeedCapabilities.updateWithAlerts([e]))),m.b.fold(e=>(this._log.error("Error updating card with ToneAI alert.",e),t),e=>te.e.Prism.getLens().compose(ne.a.Prism.items).set(e,t)))}_handleAlertFeedbacks(){return this.actionEvents.pipe(w.a.filter(_.b.isAlertFeedbackAction)).subscribe(({alertId:e,feedbackType:t})=>this._sendFeedback(e,{kind:t}))}_applyTakeawayFeedbacks(){return this.actionEvents.pipe(w.a.filter(_.b.isTakeawayDetectionFeedbackAction)).subscribe(({alertId:e,type:t})=>this._alertsService.changeTakeawayFeedback(e,t===_.b.Type.takeawayCorrectlyDetected?S.n.correctlyDetected:t===_.b.Type.takeawayIncorrectlyDetected?S.n.incorrectlyDetected:Object(f.c)(t)))}_sendTakeawayFeedbacks(){return this.actionEvents.pipe(w.a.filter(_.b.isTakeawayAction)).subscribe(e=>{switch(e.type){case _.b.Type.takeawayCorrectlyDetected:return e.isLikelyToBeRead?this._sendFeedback(e.alertId,{kind:p.a.AlertFeedbackType.ACKNOWLEDGED,text:e.takeawayText}):this._sendFeedback(e.alertId,{kind:p.a.AlertFeedbackType.ACCEPTED,replacementText:e.takeawayText});case _.b.Type.takeawayIncorrectlyDetected:return this._sendFeedback(e.alertId,{kind:p.a.AlertFeedbackType.IGNORE});case _.b.Type.takeawayDismiss:return this._sendFeedback(e.alertId,{kind:p.a.AlertFeedbackType.IGNORE,pnameQualifier:e.isLikelyToBeRead?p.a.PNameQualifier.likelyToBeReadTakeaway:p.a.PNameQualifier.unlikelyToBeReadTakeaway});case _.b.Type.takeawayResolve:return this._sendFeedback(e.alertId,{kind:p.a.AlertFeedbackType.ACKNOWLEDGED,pnameQualifier:e.isLikelyToBeRead?p.a.PNameQualifier.likelyToBeReadTakeaway:p.a.PNameQualifier.unlikelyToBeReadTakeaway});default:Object(f.c)(e)}})}_handleEssayDetectionSetAcademicDomainAndCitationStyle(){return this.actionEvents.pipe(w.a.filter(_.c.isSetAcademicDomainAndCitationStyleAction)).subscribe(({citationStyle:e})=>{this._setDocumentCitationStyle(e)})}_handleAlertResolve(){return this.actionEvents.pipe(w.a.filter(_.b.isAlertResolveAction)).subscribe(({alertId:e})=>this._sendFeedback(e,{kind:p.a.AlertFeedbackType.ACKNOWLEDGED}))}_handleIgnoreFormSubmit(){return this.actionEvents.pipe(w.a.filter(_.b.isAlertIgnoreFeedbackFormSubmit)).subscribe(({alertId:e,reason:t})=>{this._sendFeedback(e,{kind:p.a.AlertFeedbackType.IGNORE,reason:t})})}_handleApplyFormSubmit(){return this.actionEvents.pipe(w.a.filter(_.b.isAlertApplyFeedbackFormSubmit)).subscribe(e=>{this._applyAlert(Object(o.a)(Object(i.a)({},e.alertApplyActionProps),{reason:e.reason})),e.alertApplyActionProps.actionsToDispatchAfterSurvey&&e.alertApplyActionProps.actionsToDispatchAfterSurvey.forEach(e=>this.actionEvents.next(e))})}_handleGbPromptDismiss(){return this.actionEvents.pipe(w.a.filter(_.b.isGbPromptDismiss)).subscribe(e=>this._applyAlert(Object(o.a)(Object(i.a)({},e.alertApplyActionProps),{gbPrompt:{feedback:p.a.GbPromptFeedbackType.DISMISSED,source:e.source,target:e.target,description:e.description}})))}_handleGbPromptApply(){return this.actionEvents.pipe(w.a.filter(_.b.isGbPromptApply)).subscribe(e=>this._applyAlert(Object(o.a)(Object(i.a)({},e.alertApplyActionProps),{gbPrompt:{feedback:p.a.GbPromptFeedbackType.ACCEPTED,source:e.source,target:e.target,description:e.description}})))}_handleCommitMuteCategories(e){return this.actionEvents.pipe(w.a.filter(_.b.isMutedAlertCardDismissedAction)).subscribe(t=>Object(l.pipe)(e.muteCategories([t.categoryId]),m.b.fold(e=>this._log.error("error calling categories model to commit muted category",e),g.e)))}_handleSuggestionsManagementClick(e){return this.actionEvents.pipe(w.a.filter(_.b.isMutedAlertSuggestionsManagementClick)).subscribe(e)}_applyAlert(e){return Object(l.pipe)(this._alertsService.apply(e.alertId,{alternativeIndex:e.alternativeIndex,source:S.b.sidebar,feedbackSubtype:p.a.FeedbackSubtype.Sidebar,drilldownSuggestionIds:e.drilldownSuggestionIds,reason:e.reason,gbPrompt:e.gbPrompt}),m.b.fold(e=>this._log.error("error calling alert service to apply an alert",e),g.e))}_handleDrilldown(){return this.actionEvents.pipe(w.a.filter(_.f.isDrilldown)).subscribe(e=>this._sendFeedback(e.alertId,{kind:p.a.DrilldownFeedbackType.DRILLDOWN,drilldownSuggestionIds:e.drilldownSuggestionIds,alternativeIndex:e.alternativeId}))}_dismissAlertsBatch(){return this.actionEvents.pipe(w.a.filter(_.d.isDismissAlertsBatchAction)).subscribe(e=>Object(l.pipe)(this._alertsService.dismissBatch(e.alerts,p.a.FeedbackSubtype.Sidebar),m.b.fold(e=>this._log.error("error calling alert service to dismiss alerts batch",e),g.e)))}_newFeatureSeen(){return this.actionEvents.pipe(w.a.filter(_.b.isOnboardingClose)).subscribe(e=>Object(l.pipe)(this._markOnboardingAsSeen(e.value)))}getApplicatorEffects(){return Object(l.pipe)([[this._startTransitionStateChanges,"startTransitionStateChanges"],[this._completeTransitionStateChanges,"completeTransitionStateChanges"],[this._changePositionEffect,"changePositionEffect"],[this._transitionEndStateChanges,"transitionEndStateChanges"],[this._switchToNextChanges,"switchToNextChanges"],[this._dismissMuteQuotedAdvice,"dismissMuteQuotedAdvice"],[this._changeUserInput,"changeUserInput"],[this._toneAIChangeToneAlternative,"toneAIChangeToneAlternative"],[this._synfonyDrilldown,"synfonyDrilldown"],[this._synfonyBack,"synfonyBack"],[this._focusChecksFeedItem,"focusChecksFeedItem"],[this._collapseChecklistItem,"collapseChecklistItem"],[this._shortenItDismissEdit,"shortenItDismissEdit"],[this.actionEvents.pipe(w.a.filter(_.b.isNavigation),w.a.tap(this._navigationEvents),w.a.switchMapTo(w.a.EMPTY)),"navigationEvents"],...Object(l.pipe)(this._sendToUrl,m.g.getOrElse(Object(c.constant)([]))),[this._showSurveyFormEffect,"showIgnoreFormEffect"],[this._showMutedAlertSuccessEffect,"showMutedAlertSuccessEffect"],[this._undoMutedAlertEffect,"undoMutedAlertEffect"]],m.a.map(([e,t])=>({id:"cardsViewModel.effects."+t,when:C.a.isWithAlertsId,what:te.e.Effect.Applicator.create(e)})))}dispose(){this._subs.dispose()}constructor(e,t,n,a,s,d,h,b,v,C,x,A,I=new O.b,T={bufferTransitions:!0,showGbPrompt:!1},M=g.e){Object(r.a)(this,"_ops",void 0),Object(r.a)(this,"_navigationEvents",void 0),Object(r.a)(this,"_cardFactory",void 0),Object(r.a)(this,"_alertsService",void 0),Object(r.a)(this,"_alertsReader",void 0),Object(r.a)(this,"_markOnboardingAsSeen",void 0),Object(r.a)(this,"_markMuteQuotedAdviceAsDismissed",void 0),Object(r.a)(this,"_sendToUrlExperiment",void 0),Object(r.a)(this,"_getActiveItemWithAlert",void 0),Object(r.a)(this,"_checksFeedCapabilities",void 0),Object(r.a)(this,"_platformEnvironment",void 0),Object(r.a)(this,"_settings",void 0),Object(r.a)(this,"_setDocumentCitationStyle",void 0),Object(r.a)(this,"_log",void 0),Object(r.a)(this,"_subs",void 0),Object(r.a)(this,"_flushCompleteTransition",void 0),Object(r.a)(this,"_flushPositionAnimation",void 0),Object(r.a)(this,"actionEvents",void 0),Object(r.a)(this,"completePositionAnimation",void 0),Object(r.a)(this,"changePosition",void 0),Object(r.a)(this,"_transitionBuffer",void 0),Object(r.a)(this,"_positionAnimationBuffer",void 0),Object(r.a)(this,"_startTransitionStateChanges",void 0),Object(r.a)(this,"_completeTransitionStateChanges",void 0),Object(r.a)(this,"_changePositionEffect",void 0),Object(r.a)(this,"_transitionEndStateChanges",void 0),Object(r.a)(this,"_switchToNextChanges",void 0),Object(r.a)(this,"_dismissMuteQuotedAdvice",void 0),Object(r.a)(this,"_changeUserInput",void 0),Object(r.a)(this,"_shortenItDismissEdit",void 0),Object(r.a)(this,"_focusChecksFeedItem",void 0),Object(r.a)(this,"_collapseChecklistItem",void 0),Object(r.a)(this,"_toneAIChangeToneAlternative",void 0),Object(r.a)(this,"_synfonyDrilldown",void 0),Object(r.a)(this,"_synfonyBack",void 0),Object(r.a)(this,"_sendToUrl",void 0),Object(r.a)(this,"_sendFeedback",void 0),Object(r.a)(this,"_showSurveyForm",void 0),Object(r.a)(this,"_showSurveyFormEffect",void 0),Object(r.a)(this,"_showMutedAlertSuccessEffect",void 0),Object(r.a)(this,"_undoMutedAlertEffect",void 0),Object(r.a)(this,"_handleAlertIgnore",void 0),Object(r.a)(this,"_handleApplyAlerts",void 0),Object(r.a)(this,"hovered",void 0),Object(r.a)(this,"flushTransitionTo",void 0),Object(r.a)(this,"flushPositionAnimation",void 0),this._ops=e,this._navigationEvents=t,this._cardFactory=n,this._alertsService=a,this._alertsReader=s,this._markOnboardingAsSeen=d,this._markMuteQuotedAdviceAsDismissed=h,this._sendToUrlExperiment=v,this._getActiveItemWithAlert=x,this._checksFeedCapabilities=A,this._platformEnvironment=I,this._settings=T,this._setDocumentCitationStyle=M,this._log=y.d.Logging.getLogger("CardsViewModelImpl",y.a.LogLevel.DEBUG),this._subs=new k.a.Keeper,this._flushCompleteTransition=new w.a.Subject,this._flushPositionAnimation=new w.a.Subject,this.actionEvents=new w.a.Subject,this.completePositionAnimation=new w.a.Subject,this.changePosition=new w.a.Subject,this._transitionBuffer=w.a.interval(100).pipe(w.a.startWith(0),w.a.merge(this._flushCompleteTransition)),this._positionAnimationBuffer=w.a.interval(100).pipe(w.a.startWith(0),w.a.merge(this._flushPositionAnimation)),this._startTransitionStateChanges=this.actionEvents.pipe(w.a.filter(_.a.isStartTransitionTo),w.a.map(e=>t=>Z.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,e.transition]]),t))),this._completeTransitionStateChanges=this.actionEvents.pipe(w.a.filter(_.a.isCompleteTransitionTo),this._settings.bufferTransitions?w.a.buffer(this._transitionBuffer):w.a.map(e=>[e]),w.a.filter(g.n),w.a.map(e=>t=>{const n=t.currentLens,a=this._applyCompleteVSChange(n,e.map(e=>[e.id,e.transitionId]));return this._log.isEnabled(y.a.LogLevel.TRACE)&&this._log.trace("batch transition complete",{events:e,diff:E.a.Sorted.diff(n.items,a.items)}),te.e.Prism.getLens().set(a,t)})),this._changePositionEffect=this.changePosition.pipe(w.a.map(({id:e,height:t})=>n=>{const a=Object(l.pipe)(j.a.update(n.currentLens.items,e,e=>this._checksFeedCapabilities.changePosition(ee.a.PositionState.changeHeight(e.positionState,t))(e)),m.b.fold(()=>n.currentLens.items,c.identity));return Z.itemsLens.set(a,n)})),this._transitionEndStateChanges=this.completePositionAnimation.pipe(w.a.buffer(this._positionAnimationBuffer),w.a.filter(g.n),w.a.map(e=>t=>{const n=t.currentLens.items,a=e.map(e=>[e,!1]).reduce((e,[t,n])=>Object(l.pipe)(j.a.update(e,t,e=>this._checksFeedCapabilities.changePosition(ee.a.PositionState.changeAnimationInProgress(e.positionState,n))(e)),m.b.fold(()=>e,c.identity)),n);return Z.itemsLens.set(a,t)})),this._switchToNextChanges=this.actionEvents.pipe(w.a.filter(e=>e.type===_.b.Type.switchToNext),w.a.map(()=>e=>e.patch({currentLens:Object(l.pipe)(te.e.hasItems(e)?this._checksFeedCapabilities.findNextAlert(e.currentLens):m.g.none,m.g.fold(()=>Object(l.pipe)(te.e.getActiveAlert(this._getActiveItemWithAlert)(e),m.g.fold(()=>{throw new f.b("Can not switch from non-existing card")},t=>this._checksFeedCapabilities.release(t)(e.currentLens))),t=>te.e.hasItems(e)?this._checksFeedCapabilities.selectItemByAlert(t)(e.currentLens):e.currentLens)),switchOrder:"lensOrder",alertSource:S.b.sidebar}))),this._dismissMuteQuotedAdvice=this.actionEvents.pipe(w.a.filter(_.b.isDismissMuteQuotedAdvice),w.a.tap(this._markMuteQuotedAdviceAsDismissed),w.a.map(()=>e=>{const t=e.currentLens.items.filter(Object(c.flow)(this._checksFeedCapabilities.hasActiveAlert,m.g.map(e=>e.alert),m.g.exists(Y.a.isInQuotes))).keys().map(e=>[e,!1]).reduce((e,[t])=>Object(l.pipe)(j.a.update(e,t,this._cardFactory.hideMuteQuotedAdvice),m.b.fold(()=>e,c.identity)),e.currentLens.items);return Z.itemsLens.set(t,e)})),this._changeUserInput=this.actionEvents.pipe(w.a.filter(_.b.isChangeUserInput),w.a.tap(({alertId:e,userInput:t})=>{this._alertsService.changeGapValue(e,t)}),w.a.map(({cardId:e,userInput:t})=>n=>{const a=Object(l.pipe)(n.currentLens.items.update(e,this._checksFeedCapabilities.updateUserInput(Boolean(t)?m.g.some(t):m.g.none)),m.b.fold(()=>n.currentLens.items,c.identity));return Z.itemsLens.set(a,n)})),this._shortenItDismissEdit=this.actionEvents.pipe(w.a.filter(_.e.isDismissEdit),w.a.map(({alertId:e,group:t,itemId:n})=>a=>Object(l.pipe)(this._alertsService.dismissShortenItTransformGroup(e,t),m.b.map(e=>({newAlert:e,itemId:n})),m.b.chainW(({newAlert:e,itemId:t})=>j.a.update(a.currentLens.items,t,this._checksFeedCapabilities.updateWithAlerts([e]))),m.b.fold(e=>(this._log.error("Error updating card/alert with dismissed transform groups.",e),a),e=>Z.itemsLens.set(e,a))))),this._focusChecksFeedItem=this.actionEvents.pipe(w.a.filter(_.b.isMiniItemClick),w.a.map(e=>t=>t.patch({currentLens:Object(l.pipe)(t.currentLens.items.find(t=>t.id===e.id),m.g.fold(()=>(this._log.error("Can not switch from non-existing item"),t.currentLens),()=>Object(c.unsafeCoerce)(Object(l.pipe)(t.currentLens,this._checksFeedCapabilities.selectItemById(e.id))))),switchOrder:"lensOrder",alertSource:S.b.sidebar}))),this._collapseChecklistItem=this.actionEvents.pipe(w.a.filter(_.b.isChecklistItemCollapseButtonClick),w.a.map(()=>e=>e.patch({currentLens:te.e.hasItems(e)?this._checksFeedCapabilities.unselectItem()(e.currentLens):e.currentLens,switchOrder:"lensOrder",alertSource:S.b.sidebar}))),this._toneAIChangeToneAlternative=this.actionEvents.pipe(w.a.filter(_.b.isToneAIChangeToneAlternativeAction),w.a.map(({itemId:e,alertId:t,selectedToneAlternativeIdx:n})=>Object(l.pipe)(this._alertsService.changeToneAIToneAlternative(t,n),m.b.map(t=>({newAlert:t,itemId:e})))),w.a.map(e=>this._updateToneAICard(e))),this._synfonyDrilldown=this.actionEvents.pipe(w.a.filter(_.f.isDrilldown),w.a.map(({cardId:e,wordIndex:t})=>n=>Object(l.pipe)(j.a.update(n.currentLens.items,e,e=>{const n=e;return X.a.changeSynfonySelection(Object(l.pipe)(n.synfonySelection,m.g.getOrElse(()=>[]),e=>m.g.some(e.concat([t]))))(n)}),m.b.fold(()=>n,e=>te.e.Prism.getLens().compose(ne.a.Prism.items).set(e,n))))),this._synfonyBack=this.actionEvents.pipe(w.a.filter(_.f.isBack),w.a.map(({cardId:e})=>t=>Object(l.pipe)(j.a.update(t.currentLens.items,e,e=>{const t=e;return X.a.changeSynfonySelection(Object(l.pipe)(t.synfonySelection,m.g.map(e=>e.slice(0,-1))))(t)}),m.b.fold(()=>t,e=>te.e.Prism.getLens().compose(ne.a.Prism.items).set(e,t))))),this._sendToUrl=Object(l.pipe)(this._sendToUrlExperiment,m.g.map(e=>Object.entries(e).filter(([e])=>"handleGbPrompt"!==e||this._settings.showGbPrompt).map(([e,t])=>[t(this.actionEvents),e]))),this._sendFeedback=(e,t)=>Object(l.pipe)(e,m.g.fromPredicate(this._alertsReader.isValidForFeedback),m.g.tap(()=>Object(l.pipe)(this._alertsService.applyFeedback(e,Object(o.a)(Object(i.a)({},t),{subtype:p.a.FeedbackSubtype.Sidebar}),S.b.sidebar),m.b.fold(e=>this._log.error("error calling alert service to send a feedback",e),g.e)))),this._showSurveyForm=new u.a,this._showSurveyFormEffect=Object(l.pipe)(this._showSurveyForm,w.a.map(e=>t=>Z.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,"survey"===e.formType?Object(i.a)({type:"feedback_form",formType:"survey",clockwise:!0,survey:e.survey},e.submitActionType===_.b.Type.alertApplyFormSubmit?{submitActionType:_.b.Type.alertApplyFormSubmit,alertApplyActionProps:e.alertApplyActionProps}:{submitActionType:_.b.Type.alertIgnoreFormSubmit}):{type:"feedback_form",formType:"gbPrompt",clockwise:!0,gbPrompt:e.gbPrompt,alertApplyActionProps:e.alertApplyActionProps}]]),t))),this._showMutedAlertSuccessEffect=this.actionEvents.pipe(w.a.filter(_.b.isMuteCategoryAction),w.a.map(e=>t=>Z.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,{type:"muted",clockwise:!0}]]),t))),this._undoMutedAlertEffect=this.actionEvents.pipe(w.a.filter(_.b.isUndoMuteCategoryAction),w.a.map(e=>t=>Z.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,{type:"focused",clockwise:!0}]]),t))),this._handleAlertIgnore=Object(c.flow)(re(({alertId:e,drilldownSuggestionIds:t})=>()=>this._sendFeedback(e,{kind:p.a.AlertFeedbackType.IGNORE,drilldownSuggestionIds:t}),e=>()=>this._showSurveyForm.next(e),this._settings.showGbPrompt),e=>this.actionEvents.pipe(w.a.filter(_.b.isAlertIgnoreAction)).subscribe(t=>e(t)())),this._handleApplyAlerts=Object(c.flow)(re(e=>()=>this._applyAlert(e),e=>()=>this._showSurveyForm.next(e),this._settings.showGbPrompt),e=>this.actionEvents.pipe(w.a.filter(_.b.isAlertApplyAction)).subscribe(t=>e(t)())),this.hovered=this.actionEvents.pipe(w.a.filter(_.b.isHoverAction),w.a.tap(()=>this._ops.flush()),w.a.scan((e,t)=>"hover"===t.kind?m.g.some(t.id):Object(l.pipe)(e,m.g.filter(e=>e!==t.id)),m.g.none),w.a.share()),this.flushTransitionTo=()=>this._flushCompleteTransition.next(),this.flushPositionAnimation=()=>this._flushPositionAnimation.next(),this._subs.push(this._handleAlertFeedbacks(),this._applyTakeawayFeedbacks(),this._sendTakeawayFeedbacks(),this._handleIgnoreFormSubmit(),this._handleApplyFormSubmit(),this._handleGbPromptDismiss(),this._handleGbPromptApply(),this._handleAlertIgnore(C),this._handleAlertResolve(),this._handleApplyAlerts(C),this._dismissAlertsBatch(),this._newFeatureSeen(),this._handleDrilldown(),this._handleSnippetsOpenExternalLink(),this._handleEssayDetectionSetAcademicDomainAndCitationStyle()),Object(l.pipe)(b,m.g.tap(({model:e,openSuggestionsManagement:t})=>this._subs.push(this._handleCommitMuteCategories(e),this._handleSuggestionsManagementClick(t))))}}!function(e){e.itemsLens=te.e.Prism.getLens().compose(ne.a.Prism.items);e.Mock=class{constructor(){Object(r.a)(this,"animate",d.a.create(!0)),Object(r.a)(this,"clockwise",d.a.create(!0)),Object(r.a)(this,"toggleAnimations",()=>this.animate.modify(e=>!e)),Object(r.a)(this,"completePositionAnimation",new w.a.Subject),Object(r.a)(this,"actionEvents",new w.a.Subject),Object(r.a)(this,"flushTransitionTo",g.e),Object(r.a)(this,"sideEffect",{id:"cardsViewModelMock",when:C.a.isWithAlertsId,what:te.e.Effect.Applicator.create(w.a.EMPTY)}),Object(r.a)(this,"changePosition",new w.a.Subject),Object(r.a)(this,"dispose",g.e)}};e.Experiments=a}(Z||(Z={}));const re=(e,t,n)=>a=>r=>Object(l.pipe)(ie(r,n),s.i,v.a.chain(e=>Object(l.pipe)(a,s.h(t=>t?m.g.none:m.g.some(e)))),v.a.fold(()=>e(r),e=>t(e))),ie=(e,t)=>_.b.isAlertApplyAction(e)?oe(e,t):se(e),oe=(e,t)=>Object(l.pipe)(e.eligibleForGbPrompt,m.g.filter(Object(c.constant)(t)),m.g.map(t=>({id:e.id,formType:"gbPrompt",alertApplyActionProps:e,gbPrompt:t})),m.g.orElse(Object(l.pipe)(e.eligibleForSurvey,m.g.map(t=>({id:e.id,formType:"survey",submitActionType:_.b.Type.alertApplyFormSubmit,alertApplyActionProps:e,survey:t}))))),se=e=>Object(l.pipe)(e.eligibleForSurvey,m.g.map(t=>({id:e.id,formType:"survey",submitActionType:_.b.Type.alertIgnoreFormSubmit,survey:t})))},EFMT:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return m}));var a=n("B8yO"),r=n("tiWp"),i=n("RRF2"),o=n("mgiE"),s=n("XGsl"),c=n("vVRF"),l=i.c.classes,u=function(e){return a.createElement("div",{className:l(s.a.akkuratWrapper,e.className),style:e.style},e.children)},d=function(e){var t=e.model;return a.createElement(u,{className:s.a.content},a.createElement("div",{className:s.a.separatorRemover}),a.createElement(c.e,{title:t.title,author:o.g.some(t.author)}),a.createElement(c.b,{stats:t.stats}),a.createElement(c.d,{score:t.score,critical:t.criticalIssues,advanced:t.advancedIssues}),Object(r.pipe)(t.plagiarism,o.g.map((function(e){return a.createElement(c.c,{plagiarismData:e})})),o.g.toNullable),!i.e.isEmptyObject(t.issues)&&a.createElement(c.f,{issues:t.issues}),a.createElement(c.a,{stats:t.stats}))},p=function(e){var t=e.title;return a.createElement(u,{style:{width:"100%",marginLeft:"17.4857px",marginRight:"38.4686px",fontFamily:"Akkurat Std",color:"#becafa",letterSpacing:"0.1px",position:"absolute",top:0}},a.createElement("div",{style:{width:"144px",position:"absolute",top:"15.7351px",left:0}},a.createElement("svg",{"aria-hidden":!0,width:"83.5px",viewBox:"0 0 93 23"},a.createElement("path",{d:"M32.1137999,10.3020362 L32.1137999,10.2761929 C32.1137999,9.3346607 31.3716092,8.67717134 30.4082654,8.67717134 C29.4453916,8.67717134 28.7163619,9.3346607 28.7163619,10.2761929 L28.7163619,10.3020362 C28.7163619,11.2561408 29.4453916,11.9010577 30.4082654,11.9010577 C31.3716092,11.9010577 32.1137999,11.2433355 32.1137999,10.3020362 Z M27.6230525,15.7046709 C27.2846248,15.5761532 27.0632367,15.3053812 27.0632367,14.9440414 C27.0632367,14.5056376 27.4275165,14.1447634 27.8702927,14.1447634 C28.0004933,14.1447634 28.1046069,14.170141 28.1955593,14.2092551 C28.7683012,14.4669891 29.3802912,14.6215829 30.1222469,14.6215829 C31.4757227,14.6215829 32.1137999,13.9771316 32.1137999,12.7389841 L32.1137999,12.4037204 C31.527897,13.1003239 30.8902898,13.5256897 29.8357585,13.5256897 C28.2087204,13.5256897 26.7375,12.352034 26.7375,10.3020362 L26.7375,10.2761929 C26.7375,8.21315707 28.2345725,7.05253935 29.8357585,7.05253935 C30.9159069,7.05253935 31.5539841,7.50398123 32.0874778,8.08394085 L32.0874778,8.07113564 C32.0874778,7.54239686 32.530019,7.10399301 33.0766737,7.10399301 C33.6233284,7.10399301 34.0658696,7.54239686 34.0658696,8.08394085 L34.0658696,12.5327038 C34.0658696,13.7708513 33.7666901,14.6732694 33.1807872,15.2536947 C32.530019,15.8983788 31.527897,16.1821889 30.1744212,16.1821889 C29.2498556,16.1821889 28.4430346,16.0273622 27.6230525,15.7046709 Z M35.5315436,8.05210654 C35.5315436,7.49972039 35.9859169,7.05253935 36.5476701,7.05253935 C37.1089407,7.05253935 37.5633141,7.49972039 37.5633141,8.05210654 L37.5633141,8.36772184 C37.8574624,7.68400743 38.3383791,7.05253935 38.9399473,7.05253935 C39.5680588,7.05253935 39.9285653,7.46053565 39.9285653,8.02574589 C39.9285653,8.55200888 39.5810891,8.8673867 39.1670133,8.9597677 C38.1380977,9.19677603 37.5633141,9.97263396 37.5633141,11.3927841 L37.5633141,13.2608277 C37.5633141,13.8129763 37.1089407,14.2601574 36.5476701,14.2601574 C35.9859169,14.2601574 35.5315436,13.8129763 35.5315436,13.2608277 L35.5315436,8.05210654 Z M39.9285653,12.118996 L39.9285653,12.092591 C39.9285653,10.5651097 41.0750287,9.85971938 42.7113383,9.85971938 C43.406799,9.85971938 43.9094379,9.97736302 44.3988189,10.1471094 L44.3988189,10.0294657 C44.3988189,9.20690326 43.8964126,8.75000271 42.917418,8.75000271 C42.3764007,8.75000271 41.9384233,8.82827463 41.5648749,8.94591827 C41.4488097,8.98505423 41.3713554,8.99825672 41.281341,8.99825672 C40.8303382,8.99825672 40.4695825,8.64556156 40.4695825,8.18842524 C40.4695825,7.8362016 40.6884549,7.53560913 40.997807,7.41796549 C41.6162785,7.18291396 42.2859211,7.05253935 43.2009519,7.05253935 C44.269961,7.05253935 45.042876,7.33992932 45.532257,7.8362016 C46.0476887,8.35817158 46.279819,9.1288671 46.279819,10.0690732 L46.279819,13.2546461 C46.279819,13.7902901 45.8546344,14.2078189 45.3264099,14.2078189 C44.759342,14.2078189 44.3857936,13.8034926 44.3857936,13.3854922 L44.3857936,13.3722897 C43.9094379,13.9079337 43.2523555,14.2601574 42.2989464,14.2601574 C40.997807,14.2601574 39.9285653,13.5029001 39.9285653,12.118996 Z M47.256935,8.09698499 C47.256935,7.54859209 47.7036529,7.10464375 48.2557042,7.10464375 C48.8075183,7.10464375 49.2542362,7.54859209 49.2542362,8.09698499 L49.2542362,8.17549524 C49.713765,7.58772933 50.318483,7.05253935 51.3303003,7.05253935 C52.2498323,7.05253935 52.9463611,7.45711468 53.314079,8.16252808 C53.9316078,7.44414752 54.6675181,7.05253935 55.626906,7.05253935 C57.1117745,7.05253935 58.0052104,7.94043603 58.0052104,9.62498776 L58.0052104,13.2680519 C58.0052104,13.816209 57.5584925,14.2601574 57.0062039,14.2601574 C56.4543898,14.2601574 56.0076719,13.816209 56.0076719,13.2680519 L56.0076719,10.2778252 C56.0076719,9.33758838 55.5875246,8.85426703 54.838329,8.85426703 C54.0893707,8.85426703 53.6298419,9.33758838 53.6298419,10.2778252 L53.6298419,13.2680519 C53.6298419,13.816209 53.183124,14.2601574 52.6308354,14.2601574 C52.0790214,14.2601574 51.6323034,13.816209 51.6323034,13.2680519 L51.6323034,10.2778252 C51.6323034,9.33758838 51.2119188,8.85426703 50.4629605,8.85426703 C49.713765,8.85426703 49.2542362,9.33758838 49.2542362,10.2778252 L49.2542362,13.2680519 C49.2542362,13.816209 48.8075183,14.2601574 48.2557042,14.2601574 C47.7036529,14.2601574 47.256935,13.816209 47.256935,13.2680519 L47.256935,8.09698499 Z M59.4708843,8.09698499 C59.4708843,7.54859209 59.9176023,7.10464375 60.4696536,7.10464375 C61.0214677,7.10464375 61.4681856,7.54859209 61.4681856,8.09698499 L61.4681856,8.17549524 C61.9277144,7.58772933 62.5326696,7.05253935 63.5442497,7.05253935 C64.4637816,7.05253935 65.1603105,7.45711468 65.5280284,8.16252808 C66.1457945,7.44414752 66.8814675,7.05253935 67.8408553,7.05253935 C69.3257239,7.05253935 70.2191598,7.94043603 70.2191598,9.62498776 L70.2191598,13.2680519 C70.2191598,13.816209 69.7724419,14.2601574 69.2201533,14.2601574 C68.6685765,14.2601574 68.2218585,13.816209 68.2218585,13.2680519 L68.2218585,10.2778252 C68.2218585,9.33758838 67.8014739,8.85426703 67.0522784,8.85426703 C66.3033201,8.85426703 65.8437913,9.33758838 65.8437913,10.2778252 L65.8437913,13.2680519 C65.8437913,13.816209 65.3970734,14.2601574 64.8447848,14.2601574 C64.2929707,14.2601574 63.8462528,13.816209 63.8462528,13.2680519 L63.8462528,10.2778252 C63.8462528,9.33758838 63.4261055,8.85426703 62.6769099,8.85426703 C61.9277144,8.85426703 61.4681856,9.33758838 61.4681856,10.2778252 L61.4681856,13.2680519 C61.4681856,13.816209 61.0214677,14.2601574 60.4696536,14.2601574 C59.9176023,14.2601574 59.4708843,13.816209 59.4708843,13.2680519 L59.4708843,8.09698499 Z M70.7077178,12.118996 L70.7077178,12.092591 C70.7077178,10.5651097 71.8542231,9.85971938 73.4903601,9.85971938 C74.1863114,9.85971938 74.6882709,9.97736302 75.1779025,10.1471094 L75.1779025,10.0294657 C75.1779025,9.20690326 74.6757103,8.75000271 73.6964472,8.75000271 C73.1554102,8.75000271 72.7174168,8.82827463 72.3438547,8.94591827 C72.2277853,8.98505423 72.1507933,8.99825672 72.0603103,8.99825672 C71.6092911,8.99825672 71.2487548,8.64556156 71.2487548,8.18842524 C71.2487548,7.8362016 71.4678678,7.53560913 71.776766,7.41796549 C72.3952602,7.18291396 73.0653925,7.05253935 73.979759,7.05253935 C75.0492724,7.05253935 75.8222157,7.33992932 76.3118472,7.8362016 C76.8268326,8.35817158 77.0589714,9.1288671 77.0589714,10.0690732 L77.0589714,13.2546461 C77.0589714,13.7902901 76.6337712,14.2078189 76.10576,14.2078189 C75.538904,14.2078189 75.1653418,13.8034926 75.1653418,13.3854922 L75.1653418,13.3722897 C74.6882709,13.9079337 74.0313971,14.2601574 73.0781857,14.2601574 C71.776766,14.2601574 70.7077178,13.5029001 70.7077178,12.118996 Z M78.5246454,8.05210654 C78.5246454,7.49972039 78.9792601,7.05253935 79.540772,7.05253935 C80.1020425,7.05253935 80.5564159,7.49972039 80.5564159,8.05210654 L80.5564159,8.36772184 C80.8505642,7.68400743 81.3314809,7.05253935 81.9330491,7.05253935 C82.5611606,7.05253935 82.9216671,7.46053565 82.9216671,8.02574589 C82.9216671,8.55200888 82.5741909,8.8673867 82.1603564,8.9597677 C81.1311995,9.19677603 80.5564159,9.97263396 80.5564159,11.3927841 L80.5564159,13.2608277 C80.5564159,13.8129763 80.1020425,14.2601574 79.540772,14.2601574 C78.9792601,14.2601574 78.5246454,13.8129763 78.5246454,13.2608277 L78.5246454,8.05210654 Z M86.930076,16.0926159 C86.6386162,15.9887322 86.293794,15.7541713 86.293794,15.2728277 C86.293794,14.7907791 86.6780997,14.4654962 87.0892063,14.4654962 C87.2480973,14.4654962 87.3407039,14.4915846 87.4203887,14.517438 C87.5926802,14.5696149 87.6986873,14.5957033 87.8446565,14.5957033 C88.2024006,14.5957033 88.374692,14.5305997 88.5601447,14.1789933 L88.6266683,14.0229327 L86.2011873,8.50346419 C86.1483034,8.37349204 86.0951802,8.17794623 86.0951802,8.0482091 C86.0951802,7.48836521 86.5326091,7.09774365 87.0892063,7.09774365 C87.5926802,7.09774365 87.8843792,7.37108473 88.0566707,7.83950155 L89.5941327,11.9010727 L91.0782323,7.85266329 C91.2376019,7.43618832 91.5288223,7.09774365 92.0456967,7.09774365 C92.5628104,7.09774365 93,7.48836521 93,8.00872389 C93,8.16525455 92.9468768,8.38665378 92.9073933,8.47761078 L90.4290285,14.3223623 C89.8324693,15.7412445 89.2361494,16.275 88.0298698,16.275 C87.5792798,16.275 87.2614977,16.2098964 86.930076,16.0926159 Z M83.4102251,5.63428404 C83.4102251,5.09034375 83.8474903,4.65 84.387109,4.65 C84.9274239,4.65 85.364457,5.09034375 85.364457,5.63428404 L85.364457,13.2761072 C85.364457,13.8198136 84.9274239,14.2601574 84.387109,14.2601574 C83.8474903,14.2601574 83.4102251,13.8198136 83.4102251,13.2761072 L83.4102251,5.63428404 Z M44.4248696,11.6618596 L44.4248696,11.3091645 C44.0896995,11.1526206 43.6517221,11.0481795 43.1749012,11.0481795 C42.3373247,11.0481795 41.8223582,11.3876722 41.8223582,12.0145548 L41.8223582,12.0404883 C41.8223582,12.5761323 42.2603356,12.88922 42.8913673,12.88922 C43.8063981,12.88922 44.4248696,12.379981 44.4248696,11.6618596 Z M75.2037215,11.6618596 L75.2037215,11.3091645 C74.8687717,11.1526206 74.4307782,11.0481795 73.9544051,11.0481795 C73.1167979,11.0481795 72.6013474,11.3876722 72.6013474,12.0145548 L72.6013474,12.0404883 C72.6013474,12.5761323 73.0393408,12.88922 73.6708608,12.88922 C74.5854599,12.88922 75.2037215,12.379981 75.2037215,11.6618596 Z",fill:"#2B2D38"}),a.createElement("path",{d:"M22.0875,11.04375 C22.0875,17.1430211 17.1430211,22.0875 11.04375,22.0875 C4.94447894,22.0875 0,17.1430211 0,11.04375 C0,4.94447894 4.94447894,0 11.04375,0 C17.1430211,0 22.0875,4.94447894 22.0875,11.04375 Z M13.08629,12.2595253 C12.6265316,12.2595253 12.2634378,12.6652216 12.3492818,13.1315014 C12.4146868,13.4862794 12.7551774,13.72932 13.1230803,13.72932 L14.2820947,13.72932 L14.9536979,13.6369127 C13.8790847,15.1833207 12.0128791,15.8947626 9.9720999,15.5805306 C8.31100614,15.3247604 6.88387942,14.2231805 6.28200946,12.684316 C4.91523805,9.19122567 7.51749002,5.8563121 10.9086894,5.8563121 C12.6758257,5.8563121 14.2253463,6.86996364 15.1140844,8.09483187 L15.1143248,8.09483187 C15.1145653,8.09483187 15.1148058,8.12076249 15.1152867,8.12123396 C15.3509369,8.45479604 15.8181496,8.55026787 16.1583997,8.31924961 C16.4820581,8.0993108 16.5710281,7.68206354 16.3764964,7.35392332 L16.381546,7.35392332 C15.1523174,5.47301038 12.9436975,4.26912238 10.4599921,4.43224956 C7.22581273,4.64488065 4.60817136,7.23959285 4.42253668,10.4120864 C4.20636365,14.1034282 7.19335071,17.1175092 10.9086894,17.1175092 C12.8600177,17.1175092 14.6069554,16.2844291 15.7974701,14.9365083 L15.6565609,15.7094765 L15.6565609,16.4081889 C15.6565609,16.7688602 15.9044745,17.1026581 16.266366,17.1667774 C16.7419947,17.2509341 17.1558254,16.8949774 17.1558254,16.444256 L17.1558254,12.2595253 L13.08629,12.2595253 Z",fill:"#15C39A"}))),a.createElement("p",{style:{position:"absolute",left:"111.05px",width:"823px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",borderBottom:"2px solid #e4e6f2",transform:"scale(0.563)",transformOrigin:"top left",paddingBottom:"21px",top:0,fontSize:"19px"}},"Report: ",t))},m=function(){return a.createElement(u,{style:{marginLeft:"128.8807px",marginRight:"25.4686px",width:"100%",fontFamily:"Akkurat Std",fontSize:"19px",color:"#becafa",letterSpacing:"0.1px",lineHeight:"90px"}},a.createElement("div",{style:{position:"relative",top:"-19px",transform:"scale(0.563)",transformOrigin:"top left",width:"180%",borderTop:"1px solid #e4e6f2"}},a.createElement("div",{style:{position:"absolute",top:0,width:"100%",zIndex:1e3}},"Report was generated on ",(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),a.createElement("span",{style:{float:"right"}},"Page ",a.createElement("span",{className:"pageNumber"})," of ",a.createElement("span",{className:"totalPages"})))))}},Ekth:function(e,t,n){e.exports=n.p+"files/ebef654642ae42ba62e081cb7c9799d1/inter-bolditalic.woff"},ElpI:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("DTwm"),i=n("0Qjk"),o=n("eGLn"),s=n("xk6L"),c=n("mgiE"),l=n("M3t0");!function(e){e.create=function(e,t,n){var a=l.d.Logging.getLogger("DOXConnector",l.a.LogLevel.DEBUG,l.a.LogColor.Model.getColor("DOXConnector")),u=new s.a.Subject;return{pushChanges:function(t){n.demoMode||(a.debug("Outgoing DeltaChange to DOX",t),u.next(t),c.l.toPromise(e.remoteDocument.pushChanges(t)).catch((function(e){return o.b.isNotConnectedError(e)?a.warn("Could not push changes to DOX",e):a.error("Error on pushing changes to DOX",e)})))},changes:Object(r.pipe)(t,s.a.filter(i.b.DOXEvent.is("change")),s.a.pluck("change"),s.a.startWith(e.initialDelta),s.a.tap((function(e){return a.debug("Incoming Change from DOX",e)}))),outgoingChanges:u}},e.Mock=function(e){var t;return{pushChanges:r.constVoid,changes:(null===(t=e)||void 0===t?void 0:t.changes)||s.a.EMPTY,outgoingChanges:s.a.EMPTY}}}(a||(a={}))},"F0/G":function(e,t,n){"use strict";n.d(t,"b",(function(){return Q})),n.d(t,"a",(function(){return J}));var a=n("8O/t"),r=n("X76w"),i=n("2zNz"),o=n("k4jz"),s=n("2swC"),c=n("nWMp"),l=n("fB2g"),u=n("NbNH");const d=e=>({$nest:{[`&[data-indent="${e}"]`]:{marginLeft:c.a.rem(.5*e)}}}),p=(e,t,n,a)=>({$nest:{[`&[data-indent="${t}"]`]:{counterIncrement:"card-list"+t,counterReset:a,$nest:{"&:before":{content:`'${e}' '\\A\\00a0' counter(card-list${t}, ${n}) '. '`}}}}}),m=e=>[p(e,0,"decimal","card-list1 card-list2 card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),p(e,1,"lower-alpha","card-list2 card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),p(e,2,"lower-roman","card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),p(e,3,"decimal","card-list4 card-list5 card-list6 card-list7 card-list8"),p(e,4,"lower-alpha","card-list5 card-list6 card-list7 card-list8"),p(e,5,"lower-roman","card-list6 card-list7 card-list8"),p(e,6,"decimal","card-list7 card-list8"),p(e,7,"lower-alpha","card-list8"),p(e,8,"lower-roman","none")],f="cards-replacements_labels-",h={list:f+"list",item:f+"item",diff:f+"diff",columnList:f+"columnList",itemInsert:f+"itemInsert",deleteAll:f+"deleteAll",crossed:f+"crossed",deleteQuote:f+"deleteQuote",deletePunctuation:f+"deletePunctuation",deleteDoubleComma:f+"deleteDoubleComma",deleteApostrophe:f+"deleteApostrophe",deleteLetter:f+"deleteLetter",deletePunctuationBeforeLetter:f+"deletePunctuationBeforeLetter",itemOriginal:f+"itemOriginal",itemOriginalStrikeThrough:f+"itemOriginalStrikeThrough",itemOriginalContent:f+"itemOriginalContent",spacesOnlyContent:f+"spacesOnlyContent",removeOrContainer:f+"removeOrContainer",itemContext:f+"itemContext",itemContextShifted:f+"itemContextShifted",or:f+"or",arrowInsertsList:f+"arrowInsertsList",cozyArrowInsertsList:f+"cozyArrowInsertsList",inlineHeader:f+"inlineHeader",fullSentenceBackground:f+"fullSentenceBackground",minimalFullSentenceBackground:f+"minimalFullSentenceBackground",fullSentenceDelete:f+"fullSentenceDelete",fullSentenceDeleteCollapsed:f+"fullSentenceDeleteCollapsed",fullSentenceHidden:f+"fullSentenceHidden",fullSentenceListItem:f+"fullSentenceListItem",fullSentenceBulletListItem:f+"fullSentenceBulletListItem",fullSentenceDashedListItem:f+"fullSentenceDashedListItem",fullSentenceOrderedListItem:f+"fullSentenceOrderedListItem",fullSentenceOrderedListItemWithFormatting:f+"fullSentenceOrderedListItemWithFormatting",fullSentenceDashedListItemWithFormatting:f+"fullSentenceDashedListItemWithFormatting",fullSentenceBulletListItemWithFormatting:f+"fullSentenceBulletListItemWithFormatting",fullSentenceInsert:f+"fullSentenceInsert",fullSentenceInsertPunctuation:f+"fullSentenceInsertPunctuation",toneAIInsert:f+"toneAIInsert",itemRemove:f+"itemRemove",oneGapInsert:f+"oneGapInsert",oneGapInput:f+"oneGapInput",drilldownInsertGroup:f+"drilldownInsertGroup",drilldownArrowButton:f+"drilldownArrowButton",drilldownIcon:f+"drilldownIcon",drilldownOriginalRow:f+"drilldownOriginalRow",drilldownBackButton:f+"drilldownBackButton",collapsibleDelete:f+"collapsibleDelete",collapsibleInsert:f+"collapsibleInsert",collapsiblePartContent:f+"collapsiblePartContent"},g={position:"relative",overflow:"hidden",margin:`0 ${c.a.rem(.5)} ${c.a.rem(.5)} 0`,padding:`${c.a.rem(.25)} ${c.a.rem(.5)}`,borderRadius:c.a.rem(u.t),color:s.a.CoreNeutral0,textAlign:"left",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:c.a.rem(1.5),cursor:"pointer",transitionDuration:".2s",overflowWrap:"break-word"},b={position:"relative",fontWeight:"bolder",overflow:"clip",$nest:{"&:after":{position:"absolute",top:"-8%",left:c.a.rem(.3125),width:"1px",height:"120%",background:s.a.CoreNeutral0,content:"''",opacity:.8}}},v={position:"relative",marginRight:c.a.rem(.5),whiteSpace:"nowrap"},y=e=>({overflowX:"hidden",overflowY:"auto",overflowWrap:"anywhere",margin:c.a.rem(1)+" 0",padding:e?0:c.a.rem(.5),maxHeight:c.a.rem(12),borderRadius:c.a.rem(u.t),background:e?s.a.CoreNeutral0:s.a.CoreNeutral10,color:s.a.CoreNeutral90,whiteSpace:"pre-wrap",fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${u.e}, ${u.f}`}),O={position:"relative",marginRight:c.a.rem(.5),maxWidth:`calc(100% - ${c.a.rem(.5)})`,overflowWrap:"break-word",$nest:{"&:after":{display:"inline-block",marginLeft:c.a.rem(.5),color:s.a.CoreNeutral50,content:"'→'",verticalAlign:"middle"}}},S={textDecoration:"line-through",color:s.a.CoreRed40,textDecorationLine:"line-through"},C=[d(0),d(1),d(2),d(3),d(4),d(5),d(6),d(7),d(8)],w={display:"flex",alignItems:"flex-start",flexWrap:"wrap",fontFeatureSettings:`${u.e}, ${u.f}`},k=e=>({display:"inline-block",background:e?i.D.SemanticColor.Color.Background.Brand.Default:s.a.BackgroundCardApply,maxWidth:"100%",$nest:{"&[data-hovered='true']":{background:e?i.D.Color.Blue80:s.a.CoreGreen50},"&[data-disabled='true']":{background:e?i.D.SemanticColor.Color.Background.Brand.Default:s.a.CoreGreen40,opacity:.4}}}),E={$nest:{"&:after":{transform:"rotate(-25deg)"}}},j={paddingRight:c.a.rem(.35),$nest:{"&:after":{transform:"rotate(25deg)"}}},_=e=>({color:e?i.D.SemanticColor.Color.Background.Brand.Default:s.a.CoreGreen60,fontWeight:600}),x={paddingRight:c.a.rem(.3125),$nest:{"&:before":{content:"' '"},"&:after":{transform:"rotate(25deg)"}}},A={textDecoration:"line-through",whiteSpace:"pre-wrap",$nest:{"&:before":{content:"' '"},"&:after":{background:"transparent !important",content:"' '"}}},I={display:"flex",flexBasis:"100%"},T={margin:`0 ${c.a.rem(.5)} ${c.a.rem(.5)} 2px`,color:s.a.CoreNeutral60},M={display:"flex",minWidth:"50%",flexWrap:"wrap",flexBasis:"content"},P={marginBottom:c.a.rem(.25),color:s.a.CoreNeutral60,fontWeight:400,fontSize:c.a.rem(.8),lineHeight:c.a.rem(1.2),$nest:{"&:first-letter":{textTransform:"capitalize"}}},N={color:i.D.SemanticColor.Color.Background.Critical.Default,textDecoration:"line-through",fontWeight:600},D=Object(r.a)(Object(a.a)({},N),{textDecoration:"none"}),B={fontWeight:"bold",color:s.a.CorePurple50},L={background:i.D.SemanticColor.Color.Background.Critical.Default,$nest:{"&[data-hovered='true'], &[data-disabled='true']":{background:i.D.Color.Red80}}},F={$nest:{"&:before":{content:"'¶\\A\\00a0-\\00a0'"}}},R={$nest:{"&:before":{content:"'¶\\A\\00a0\\2022\\00a0'"}}},H={width:"100%",marginTop:c.a.rem(.5),marginBottom:c.a.rem(.25),boxSizing:"border-box",$nest:{"&[data-disabled='true']":{background:s.a.CoreNeutral40}}},V={marginTop:c.a.rem(.5),lineHeight:`calc(${c.a.rem(2)} - ${c.a.px(2)})`,padding:"0 "+c.a.rem(.5),border:c.a.important(`${c.a.px(1)} solid ${s.a.CoreNeutral50}`),color:s.a.CoreNeutral90,boxSizing:"border-box",$nest:{"&:placeholder-shown":{borderColor:c.a.important(s.a.CoreNeutral20)}}},U=l.a.style(g,k(!1)),W={margin:`0 ${c.a.rem(.5)} ${c.a.rem(.5)} 0`,$nest:{["& ."+h.itemInsert]:{transitionProperty:"background",margin:0},[`& > .${h.itemInsert}:first-child:not(:last-child)`]:{borderTopRightRadius:0,borderBottomRightRadius:0},["& ."+h.drilldownArrowButton]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},z={boxShadow:"inset 1px 0px 0px rgba(255, 255, 255, 0.3)",paddingLeft:c.a.rem(.1875),paddingRight:c.a.rem(.3125)},G={width:c.a.rem(1),height:c.a.rem(1),minWidth:c.a.rem(1),minHeight:c.a.rem(1),verticalAlign:"top",marginTop:c.a.rem(.25),$nest:{"& > svg":{transform:"scale(0.75)"},"& > svg *":{fill:c.a.important("white")}}},q={width:c.a.percent(100),marginBottom:c.a.rem(.5),display:"flex",$nest:{"& > *":{marginRight:c.a.rem(.5)}}},K={background:s.a.CoreNeutral10,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:s.a.CoreNeutral10}}},$={display:"inline-block",width:c.a.rem(1),lineHeight:c.a.rem(.625),height:c.a.rem(.625),margin:"0 "+c.a.rem(.25),verticalAlign:"middle",cursor:"pointer",overflowWrap:"normal",textAlign:"center",borderRadius:c.a.rem(u.u)},Z={lineHeight:c.a.rem(.2),verticalAlign:"super",marginLeft:"1px"},Y=Object(r.a)(Object(a.a)({},$),{backgroundColor:s.a.CoreRed10}),X=Object(r.a)(Object(a.a)({},$),{backgroundColor:s.a.CoreGreen10}),Q={list:c.a.joinClasses([h.list,c.a.style(w),l.a.style(w)]),item:c.a.joinClasses([h.item,c.a.style(g),l.a.style(g)]),itemInsert:c.a.joinClasses([h.itemInsert,c.a.style(g,k(!1)),U]),deleteAll:c.a.joinClasses([h.deleteAll,c.a.style({textDecoration:"line-through"}),l.a.style({textDecoration:"line-through"})]),crossed:c.a.joinClasses([h.crossed,c.a.style(b)]),deleteQuote:c.a.joinClasses([h.deleteQuote,c.a.style(b,E),l.a.style(b,E)]),deletePunctuation:c.a.joinClasses([h.deletePunctuation,c.a.style(b,j),l.a.style(b,j)]),deleteDoubleComma:c.a.joinClasses([h.deleteDoubleComma,c.a.style({textDecoration:"line-through"}),l.a.style({textDecoration:"line-through"})]),deleteApostrophe:c.a.joinClasses([h.deleteApostrophe,c.a.style(b,x),l.a.style(b,x)]),deleteLetter:c.a.joinClasses([h.deleteLetter,c.a.style(A),l.a.style(A)]),deletePunctuationBeforeLetter:c.a.joinClasses([h.deletePunctuationBeforeLetter,c.a.style({textDecoration:"line-through"}),l.a.style({textDecoration:"line-through"})]),itemOriginal:c.a.joinClasses([h.itemOriginal,c.a.style(O),l.a.style(O)]),itemOriginalStrikeThrough:c.a.joinClasses([h.itemOriginalStrikeThrough,c.a.style(S),l.a.style(S)]),itemOriginalContent:c.a.joinClasses([h.itemOriginalContent,c.a.style({color:s.a.CoreNeutral90}),l.a.style({color:s.a.CoreNeutral90})]),spacesOnlyContent:c.a.joinClasses([h.spacesOnlyContent,c.a.style({whiteSpace:"pre"})]),removeOrContainer:c.a.joinClasses([h.removeOrContainer,c.a.style(I),l.a.style(I)]),itemContext:c.a.joinClasses([h.itemContext,c.a.style(v)]),itemContextShifted:c.a.joinClasses([h.itemContextShifted,c.a.style(v,{marginRight:"2px"}),l.a.style(v,{marginRight:"2px"})]),or:c.a.joinClasses([h.or,c.a.style(T),l.a.style(T)]),arrowInsertsList:c.a.joinClasses([h.arrowInsertsList,c.a.style(M),l.a.style(M)]),columnList:c.a.joinClasses([h.columnList,c.a.style(M,{flexDirection:"column",alignItems:"flex-start",maxWidth:"100%"}),l.a.style(M)]),cozyArrowInsertsList:c.a.joinClasses([h.arrowInsertsList,c.a.style(M,{flex:2,flexBasis:"0%"}),l.a.style(M)]),inlineHeader:c.a.joinClasses([h.inlineHeader,c.a.style(P),l.a.style(P)]),toneAIInsert:c.a.joinClasses([h.toneAIInsert,c.a.style(B),l.a.style(B)]),fullSentenceBackground:c.a.joinClasses([h.fullSentenceBackground,c.a.style(y(!1)),l.a.style(y(!1))]),minimalFullSentenceBackground:c.a.joinClasses([h.minimalFullSentenceBackground,c.a.style(y(!1),{lineHeight:c.a.rem(1.3125)}),l.a.style(y(!1),{lineHeight:c.a.rem(1.3125)})]),fullSentenceDelete:c.a.joinClasses([h.fullSentenceDelete,c.a.style(N),l.a.style(N)]),fullSentenceDeleteCollapsed:c.a.joinClasses([h.fullSentenceDeleteCollapsed,c.a.style(D),l.a.style(D)]),fullSentenceHidden:c.a.joinClasses([h.fullSentenceHidden,c.a.style({display:"none"})]),fullSentenceListItem:c.a.joinClasses([h.fullSentenceListItem,c.a.style(...C),l.a.style(...C)]),fullSentenceBulletListItem:c.a.joinClasses([h.fullSentenceBulletListItem,c.a.style({$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}}),l.a.style({$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}})]),fullSentenceDashedListItem:c.a.joinClasses([h.fullSentenceDashedListItem,c.a.style({$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}}),l.a.style({$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}})]),fullSentenceOrderedListItem:c.a.joinClasses([h.fullSentenceOrderedListItem,c.a.style(...m(""),...C),l.a.style(...m(""),...C)]),fullSentenceOrderedListItemWithFormatting:c.a.joinClasses([h.fullSentenceOrderedListItemWithFormatting,c.a.style(...m("¶"),...C,_(!1)),l.a.style(...m("¶"),...C,_(!1))]),fullSentenceBulletListItemWithFormatting:c.a.joinClasses([h.fullSentenceBulletListItemWithFormatting,c.a.style(...C,R,_(!1)),l.a.style(...C,R)]),fullSentenceDashedListItemWithFormatting:c.a.joinClasses([h.fullSentenceDashedListItemWithFormatting,c.a.style(...C,F,_(!1)),l.a.style(...C,F)]),fullSentenceInsert:c.a.joinClasses([h.fullSentenceInsert,c.a.style(_(!1))]),fullSentenceInsertPunctuation:c.a.joinClasses([h.fullSentenceInsertPunctuation,c.a.style(_(!1))]),diff:c.a.joinClasses([h.diff,c.a.style({fontWeight:"bolder"}),l.a.style({fontWeight:"bolder"})]),itemRemove:c.a.joinClasses([h.itemRemove,c.a.style(g,L)]),oneGapInsert:c.a.joinClasses([h.oneGapInsert,c.a.style(g,k(!1),H),U]),oneGapInput:c.a.joinClasses([h.oneGapInput,c.a.style(V)]),drilldownInsertGroup:c.a.joinClasses([h.drilldownInsertGroup,c.a.style(W)]),drilldownArrowButton:c.a.joinClasses([h.drilldownArrowButton,c.a.style(z)]),drilldownIcon:c.a.joinClasses([h.drilldownIcon,c.a.style(G)]),drilldownOriginalRow:c.a.joinClasses([h.drilldownOriginalRow,c.a.style(q)]),drilldownBackButton:c.a.joinClasses([h.drilldownBackButton,c.a.style(K)]),collapsibleDelete:c.a.joinClasses([h.collapsibleDelete,c.a.style(Y)]),collapsibleInsert:c.a.joinClasses([h.collapsibleInsert,c.a.style(X)]),collapsiblePartContent:c.a.joinClasses([h.collapsiblePartContent,c.a.style(Z)])};c.a.cssRule(`.${h.fullSentenceDelete} + .${h.fullSentenceInsert}`,{marginLeft:c.a.rem(.25)});const J=Object(r.a)(Object(a.a)({},Q),{itemInsert:c.a.joinClasses([h.itemInsert,c.a.style(g,k(!0)),U,o.l]),oneGapInsert:c.a.joinClasses([h.oneGapInsert,U,c.a.style(g,k(!0),H),o.l]),fullSentenceOrderedListItemWithFormatting:c.a.joinClasses([h.fullSentenceOrderedListItemWithFormatting,l.a.style(...m("¶"),...C,_(!1)),c.a.style(...m("¶"),...C,_(!0))]),fullSentenceBulletListItemWithFormatting:c.a.joinClasses([h.fullSentenceBulletListItemWithFormatting,c.a.style(...C,R,_(!0)),l.a.style(...C,R)]),fullSentenceDashedListItemWithFormatting:c.a.joinClasses([h.fullSentenceDashedListItemWithFormatting,c.a.style(...C,F,_(!0)),l.a.style(...C,F)]),fullSentenceInsert:c.a.joinClasses([h.fullSentenceInsert,c.a.style(_(!0))]),fullSentenceInsertPunctuation:c.a.joinClasses([h.fullSentenceInsertPunctuation,c.a.style(_(!0))]),fullSentenceBackground:c.a.joinClasses([h.fullSentenceBackground,c.a.style(y(!0)),l.a.style(y(!1))]),minimalFullSentenceBackground:c.a.joinClasses([h.minimalFullSentenceBackground,c.a.style(y(!0),{lineHeight:c.a.rem(1.3125)}),l.a.style(y(!0),{lineHeight:c.a.rem(1.3125)})])})},F0Vm:function(e,t,n){"use strict";n.d(t,"a",(function(){return Oe}));var a=n("OfeG"),r=n("9rYQ"),i=n("a5gI"),o=n("tiWp"),s=n("0kuo"),c=n("mgiE"),l=n("M3t0");class u{constructor(){Object(i.a)(this,"_log",l.d.Logging.getLogger("AlertManager.repository",l.a.LogLevel.DEBUG)),Object(i.a)(this,"_allAlerts",new Map),Object(i.a)(this,"_capiAlertsIdMapping",new Map),Object(i.a)(this,"add",e=>{this._allAlerts.set(e.id,e)}),Object(i.a)(this,"remove",e=>{this._log.trace("AllAlerts: Clean alert from all alerts",e.toLiteString()),Object(s.f)(0===e.references,"can not dispose alert in use",()=>e.toString()),Object(s.f)(!1===e.isValid,"can not dispose valid alert",()=>e.toString()),Object(s.f)(this._allAlerts.delete(e.id),"alert should exist in alerts list",()=>e.toString()),e.dispose()}),Object(i.a)(this,"addToCapiMapping",e=>{e.isValid||Object(o.pipe)(e.rawId,c.g.fold(()=>this._log.debug("skip register of local alert in capi mapping",e),t=>{this._log.trace("register alert in capi mapping",e.toLiteString()),Object(s.f)(void 0===this._capiAlertsIdMapping.get(t),"unexpected overlap of rawid alert",()=>e.toString()),e.validate(),this._capiAlertsIdMapping.set(t,e.id)}))}),Object(i.a)(this,"removeFromCapiMapping",e=>{e.isValid&&(Object(o.pipe)(e.rawId,c.g.tap(t=>{this._log.trace("clean valid alert capi mapping for: "+e.toLiteString()),Object(s.f)(this._capiAlertsIdMapping.delete(t),"valid alert should had valid raw id",()=>e.toString())})),e.invalidate())}),Object(i.a)(this,"getByAlertId",e=>c.g.fromNullable(this._allAlerts.get(e))),Object(i.a)(this,"getByRawAlertId",e=>Object(o.pipe)(c.g.fromNullable(this._capiAlertsIdMapping.get(e)),c.g.chain(this.getByAlertId))),Object(i.a)(this,"swapRaw",(e,t)=>{const n=Object(o.pipe)(e.rawId,c.g.exists(e=>this._capiAlertsIdMapping.has(e))),a=Object(o.pipe)(e.rawId,c.g.exists(e=>this._capiAlertsIdMapping.has(e)));Object(s.f)(n||a,"At least one of the swapped alerts should be registered in the system");const r=e._raw;e.silentPatchWithRawAlert(t._raw),t.silentPatchWithRawAlert(r),n&&this._capiAlertsIdMapping.set(c.g.unsafeGet(e.rawId),e.id),a&&this._capiAlertsIdMapping.set(c.g.unsafeGet(t.rawId),t.id)}),Object(i.a)(this,"toArray",()=>Array.from(this._allAlerts.values())),Object(i.a)(this,"toMap",()=>this._allAlerts),Object(i.a)(this,"toJSON",()=>({allAlerts:Array.from(this._allAlerts.entries()),idMapping:Array.from(this._capiAlertsIdMapping.entries())}))}}var d,p=n("8O/t"),m=n("X76w"),f=n("CulD"),h=n("DTwm"),g=n("+vYo"),b=n("0Qjk"),v=n("TKPA"),y=n("RRF2"),O=n("wqt/"),S=n("Qlyw"),C=n("xk6L"),w=n("ZDrO"),k=n("yIk2"),E=n("mEGS"),j=n("mML0"),_=n("fFVt"),x=n("K40b"),A=n("+3dY"),I=n("GVT+"),T=n("/taW");!function(e){var t=e.group=T.b.group;e.eq=T.b.eq;function n(e){return n=>Object(o.pipe)(e,x.a.foldMap(t)(r,i,a),Object(A.a)(t.concat)(n))}e.applyDiff=n,e.fromAlerts=function(e){const t=l.d.Logging.getLogger("DocumentCounters");return e.pipe(C.a.scan((e,t)=>({alerts:t,counters:n(E.a.Diff.toRegistered(E.a.diff(e.alerts,t)))(e.counters)}),{alerts:E.a.empty,counters:T.b.group.empty}),C.a.tap(({counters:e})=>{T.b.isValid(e)||t.error("Counters can not be below zero",T.b.show.show(e))}),C.a.map(({counters:e})=>e))};const a=e=>I.a.toUnmutedOnly(e.counters),r=Object(h.flow)(a,t.inverse),i=(e,n)=>t.concat(a(n),r(e))}(d||(d={}));var M,P=n("wvT7"),N=n("FA0h"),D=n("uxqH"),B=n("D2TP");!function(e){e.empty=new Map,e.eq=c.e.getEq(B.a.Id.ord,D.b.ord);function t(e){const{left:t,right:n}=Object(o.pipe)(e,N.d(c.g.fromNullable),N.e(e=>"GeneralScore"!==e),N.k((e,t)=>{return{lensId:(n=e,n===B.a.SpecialId.Plagiarism?c.b.right(B.a.SpecialId.Plagiarism):B.a.OutcomeId.toOutcomeId(n)),score:D.b.fromNumber(t)};var n}),N.l(Object(P.a)(c.b.either))),a=Object(o.pipe)(n,N.j(({lensId:e,score:t})=>Object(h.tuple)(e,t)),e=>new Map(Object.values(e)));return Object(o.pipe)(c.m.fromOptions(c.g.fromPredicate(Object(h.not)(N.i))(t),c.g.fromPredicate(Object(h.not)(c.e.isEmpty))(a)),c.g.getOrElse(()=>c.m.right(new Map)))}e.fromCapi=function(e){return e.pipe(C.a.filter(Object(v.p)(b.a.CAPIEvent.is("finish"),b.a.CAPIEvent.is("async_check_finished"),b.a.CAPIEvent.is("feedback_ack"))),C.a.map(e=>e.outcomeScores),C.a.filter(v.i),C.a.map(t),C.a.tap(c.m.mapLeft(e=>{N.i(e)||l.d.Logging.getLogger("LensesScores").error("failed to parse capi scores",e)})),C.a.filter(Object(v.p)(c.m.isBoth,c.m.isRight)),C.a.map(e=>e.right))}}(M||(M={}));var L=n("UK5+"),F=n("8h56"),R=n("E+R1"),H=n("/edk"),V=n("GMJx"),U=n("MK74"),W=n("eGLn"),z=n("ebLO"),G=n("AHUV"),q=n("cZKX"),K=n("B/Ki"),$=n("Hj2R");const Z=Object(v.l)(l.d.Logging.getLogger),Y=Object(h.flow)(q.ub(({beingAppliedAlert:e,undo:t,reversedAlternative:n})=>R.o(()=>{const a={action:b.a.AlertFeedbackType.ACCEPTED,commit:()=>Z("AlertManager.ops").debug(`_applyTransformJson(${e.toLiteString()}):commit()`),undo:t,reversedAlternative:e.registerReversedAlternative(n)},r=e.switchToApplied(a),i=$.q.create(r.state.from,G.a.create(e));return[r.id,i]},c.b.toError)),R.l);function X(e){const t=b.a.Alternative.compose(e.alternatives.map(f.c(e=>e.alternative)),e.currentFullText);return Object(o.pipe)(K.a.nonEmpty(t.composedDelta)?c.g.some(t):c.g.none,c.g.map(({composedDelta:t,reversedAlternatives:n})=>({changeWithFormatting:Object(o.pipe)(t,z.a.getEnrichedWithFormattingDelta(e.currentFullText),t=>H.a.delta(t,e.originalTextLength)),correctRevAlternatives:Object(o.pipe)(n,O.a.tapFailure(({rejected:e})=>l.d.Logging.getLogger("AlertManager.ops").error("failed to generate reverse alternative",e)),O.a.foldSuccess(c.a.map(t=>({reversedAlternative:t.reversedAlternative,alternative:f.b(e.alternatives[t.alternativeIndex]),alert:e.alerts[t.alternativeIndex].alert}))))})))}var Q;!function(e){const t=Object(h.flow)((e,t)=>c.b.tryCatch(()=>$.q.create(e,t),c.b.toError),c.b.map(e=>Object(h.tuple)(e[0].id,e)),F.i);e.prepare=F.e(Object(h.tupled)(t)),e.prepareFromAlert=R.d(e=>t(e.state.from,G.a.create(e)))}(Q||(Q={}));function J(e,t,n){return c.b.fromPredicate(e,e=>{const a=new s.b(t,e.toString());return l.d.Logging.getLogger("AlertManager.ops").error(t,{error:a,extra:n}),a})}const ee=(e,t)=>J($.a.isNotDisposed,e,t);function te(e){return R.d(c.g.fold(Object(h.constant)(R.j(void 0)),e))}var ne;(ne||(ne={})).mock={undoApplied:()=>R.j(void 0)};class ae{_applyFeedbackToAlert(e,t,n,a){return R.o(()=>{this._alertsRepo.removeFromCapiMapping(e);const r=this._createFeedbackUndoable(e,t,a);return e.changeState($.a.State.Applied.create(r,n,$.a.State.Applied.Method.ByCard,G.a.create(e)))},c.b.toError)}_createFeedbackUndoable(e,t,n){return{action:t,replacement:e.replaceText,commit:n,undo:()=>this._alertsRepo.addToCapiMapping(e)}}_commitFeedbackToCapi(e,t){return Object(o.pipe)(e.rawId,c.g.fold(Object(h.constant)(()=>this._log.debug("skip feedback for local alert",e)),e=>this._sendFeedback(Object(p.a)({id:e},t))))}_sendFeedback(e){return()=>{c.l.toPromise(this._capiClient.sendFeedback(e)).catch(this._handleCapiError("alert feedback"))}}_commitShortenItSubmitToCapi(e){return Object(o.pipe)(e.rawId,c.g.fold(Object(h.constant)(()=>this._log.debug("skip shorten-it-submit for local alert",e)),e=>this._shortenItSubmit(e)))}_shortenItSubmit(e){return()=>{c.l.toPromise(this._capiClient.shortenItSubmit(e)).catch(this._handleCapiError("shorten-it-submit"))}}_switchToBeingApplied(e,t,n){return R.o(()=>(this._alertsRepo.removeFromCapiMapping(e),e.switchToBeingAppliedState(t,n)),c.b.toError)}constructor(e,t,n,a){Object(i.a)(this,"_positionManager",void 0),Object(i.a)(this,"_getContent",void 0),Object(i.a)(this,"_capiClient",void 0),Object(i.a)(this,"_alertsRepo",void 0),Object(i.a)(this,"_log",void 0),Object(i.a)(this,"_sendUpdate",void 0),Object(i.a)(this,"_sendSingleUpdate",void 0),Object(i.a)(this,"_flushChanges",void 0),Object(i.a)(this,"changes",void 0),Object(i.a)(this,"events",void 0),Object(i.a)(this,"undoApplied",void 0),Object(i.a)(this,"_dismissBatch",void 0),Object(i.a)(this,"_applyAlert",void 0),Object(i.a)(this,"_applyTransformJson",void 0),Object(i.a)(this,"_alertFeedback",void 0),Object(i.a)(this,"_alertBatchFeedback",void 0),Object(i.a)(this,"_notifyAlertUpdated",void 0),Object(i.a)(this,"_releaseRef",void 0),Object(i.a)(this,"_changeMuteState",void 0),Object(i.a)(this,"_changeGapValue",void 0),Object(i.a)(this,"_confirmApplied",void 0),Object(i.a)(this,"_changeTakeawayFeedback",void 0),Object(i.a)(this,"_shortenItSummaryNotFound",void 0),Object(i.a)(this,"_commitShortenItSummaryRequest",void 0),Object(i.a)(this,"_dismissShortenItTransformGroup",void 0),Object(i.a)(this,"_changeToneAIToneAlternative",void 0),Object(i.a)(this,"_handleCapiError",void 0),Object(i.a)(this,"_applyAlertData",void 0),Object(i.a)(this,"_sendApplyFeedback",void 0),Object(i.a)(this,"_sendApplyTextFeedback",void 0),Object(i.a)(this,"_sendApplyTransformJsonFeedback",void 0),this._positionManager=e,this._getContent=t,this._capiClient=n,this._alertsRepo=a,this._log=l.d.Logging.getLogger("AlertManager.ops"),this._sendUpdate=e=>R.o(()=>this.events.next({updated:new Map(e)}),c.b.toError),this._sendSingleUpdate=R.d(e=>this._sendUpdate([e])),this._flushChanges=R.o(()=>this.changes.next(H.a.flush()),c.b.toError),this.changes=new C.a.Subject,this.events=new C.a.Subject,this.undoApplied=(e,t)=>{return Object(o.pipe)(()=>this._positionManager.getTextLength(),F.e(t=>{const a={alertsToUpdate:[],reversedDelta:new V.a,undo:h.constVoid},r=e.filter($.a.isApplied).reduce((e,t)=>{const a=t.state.undoable;return $.p.isWithAlternative(a)?Object(o.pipe)(a.reversedAlternative,c.g.fold(()=>{U.A.withTransformJson(t._raw)&&this._log.error("No reversed delta registered for alert",{alert:t.toLiteString()}),n(e,t)},Object(h.flow)(e=>e(),c.b.map(e=>e.delta),c.b.fold(e=>{this._log.error("Could not retrieve reversed delta",{e,alert:t.toLiteString()})},a=>{n(e,t),Object(o.pipe)(a,b.a.Alternative.fromRawDelta,t=>t.rebase(e.reversedDelta),c.g.fold(()=>{e.reversedDelta=e.reversedDelta.compose(a)},({delta:t})=>{e.reversedDelta=e.reversedDelta.compose(t)}))})))):n(e,t),e},a);return r.alertsToUpdate.length>0?Object(o.pipe)(R.o(()=>{const e=Object(o.pipe)(r.reversedDelta,z.a.getEnrichedWithFormattingDelta(this._getContent()));this.changes.next(H.a.delta(e,t))},c.b.toError),R.a(this._flushChanges),R.a(Object(o.pipe)(r.undo,F.h(c.b.right))),R.b(Object(o.pipe)(r.alertsToUpdate,R.l,R.d(this._sendUpdate)))):R.j(void 0)}));function n(e,n){e.undo=Object(h.flow)(e.undo,n.state.undoable.undo),e.alertsToUpdate.push(Q.prepare(()=>[G.a.create(n),G.a.create(n.changeState(t===$.a.State.Applied.Method.ByCard?$.a.State.init:$.a.State.Removed.create($.a.State.Removed.Reason.bulkAcceptUserResponse)))]))}},this._dismissBatch=(e,t)=>Object(o.pipe)(this._flushChanges,R.b(Object(o.pipe)(e,c.a.map(Object(h.flow)(F.i,F.h(ee("_dismissBatch: Cannot send feedback for already disposed",t)),R.d(e=>this._applyFeedbackToAlert(e,b.a.AlertFeedbackType.IGNORE,$.b.sidebar,this._commitFeedbackToCapi(e,{kind:b.a.AlertFeedbackType.IGNORE,subtype:t}))),Q.prepareFromAlert)),R.l,R.d(this._sendUpdate)))),this._applyAlert=({alert:e,replacementText:t,source:n,method:a,feedbackSubtype:r,reason:i,gbPrompt:s})=>Object(o.pipe)(e,J($.a.isRegistered,"can not apply alert in non registered state"),F.i,R.a(this._flushChanges),R.d(e=>this._switchToBeingApplied(e,n,a)),R.d(({beingAppliedAlert:e,undo:n})=>Object(o.pipe)(e.getReplaceEither.bind(e),R.m,R.c(()=>new Error("Cannot apply alert with tJSON"),a=>{this._log.debug(`_applyAlert(${e.toLiteString()}, rrange: ${a})`);const o=a.start,c=a.end-a.start,l=(new V.a).retain(o).delete(t.length).insert(e.replaceText);return{alert:e,undo:n,reverseDelta:l,replacementText:t,removeLen:c,feedbackSubtype:r,pos:o,reason:i,gbPrompt:s}}))),R.d(this._applyAlertData)),this._applyTransformJson=({alerts:e,source:t,method:n,feedbackSubtype:a,drilldownSuggestionIds:r,reason:i,gbPrompt:s})=>Object(o.pipe)(this._flushChanges,R.b(Object(o.pipe)(e,R.n(e=>Object(o.pipe)(e.alternative,R.i(t=>Object(h.tuple)(t,function(e){switch(e._raw.point){case"AllCapsBoldification":return b.a.AlternativeReversed.fromAlternativeBoldified;case"Lists":return b.a.AlternativeReversed.fromAlternativeListified;default:return b.a.AlternativeReversed.fromAlternative}}(e.alert))))))),R.d(t=>R.o(()=>({alternatives:t,alerts:e,originalTextLength:this._positionManager.getTextLength(),currentFullText:this._getContent()}),c.b.toError)),R.i(X),te(e=>Object(o.pipe)(e.correctRevAlternatives,c.a.map(({alert:e,alternative:c,reversedAlternative:l})=>Object(o.pipe)(this._switchToBeingApplied(e,t,n),R.e(e=>R.k(this._sendApplyTransformJsonFeedback(e.beingAppliedAlert,c.alternativeIndex,a,r,i,s))),R.i(e=>Object(m.a)(Object(p.a)({},e),{reversedAlternative:l})))),R.l,R.d(t=>Object(o.pipe)(R.o(()=>this.changes.next(e.changeWithFormatting),c.b.toError),R.a(this._flushChanges),F.d(Object(o.pipe)(Y(t),R.d(this._sendUpdate)))))))),this._alertFeedback=(e,t,n)=>{this._log.debug(`_alertFeedback(${e.toLiteString()}, feedbackType: ${t.kind}, source: ${n})`),$.a.isHidden(e)&&this._log.error("Sending feedback for a hidden alert",{alert:e,feedbackType:t.kind});const a=this._commitFeedbackToCapi(e,t);return Object(o.pipe)(e,ee("_alertFeedback: Cannot send feedback for already disposed",t),F.i,R.d(e=>t.kind!==b.a.AlertFeedbackType.LOOKED||e.isRead?b.a.FeedbackType.willRemoveAlert(t.kind)?Object(o.pipe)(this._flushChanges,R.b(this._applyFeedbackToAlert(e,t.kind,n,a)),Q.prepareFromAlert,this._sendSingleUpdate):Object(o.pipe)(a,R.k):Object(o.pipe)(Q.prepare(()=>[G.a.create(e),(e.isRead=!0,G.a.create(e))]),this._sendSingleUpdate,F.c(a))))},this._alertBatchFeedback=(e,t,n)=>Object(o.pipe)(e,c.a.filterMap(e=>e.rawId),c.f.fromArray,c.g.fold(Object(h.constant)(h.constVoid),e=>this._sendFeedback({kind:t,alertIds:e,subtype:n}))),this._notifyAlertUpdated=Object(h.flow)(e=>[[e[0].id,e]],this._sendUpdate),this._releaseRef=(e,t)=>Object(o.pipe)(R.o(()=>{this._log.debug(`_releaseRef ${e} on (${t.toLiteString()}) refs: ${t._refNames}`,{shouldBeRemoved:$.a.shouldBeRemoved(t)}),$.a.shouldBeRemoved(t)&&this.events.next({removed:new Map([[t.id,G.a.create(t)]])})},c.b.toError)),this._changeMuteState=(e,t)=>{const n=Object(o.pipe)(e,O.a.fromArray(Object(h.flow)(ee("_changeMuteState: Cannot send Mute feedback for already disposed",t),c.b.chain(J(e=>c.g.isSome(e.muteCategory)||$.a.belongsToAnySpecialCategory(e),"Alert is not muting")))));return Object(o.pipe)(n,O.a.foldSuccess(c.a.map(e=>Q.prepare(()=>[G.a.create(e),(e.mute=t,G.a.create(e))]))),R.l,R.i(c.f.fromArray),te(this._sendUpdate),R.i(Object(h.constant)(n)))},this._changeGapValue=(e,t)=>Object(o.pipe)(e,J($.a.isOneGap,"can not change gap value for a non one gap alert"),F.i,R.d(e=>Q.prepare(()=>[G.a.create(e),G.a.create(e.changeGapValue(t))])),this._sendSingleUpdate),this._confirmApplied=Object(h.flow)(c.a.map(e=>Q.prepare(()=>[G.a.create(e),G.a.create(e.changeState($.a.State.Removed.create($.a.State.Removed.Reason.bulkAcceptUserResponse)))])),R.l,R.d(this._sendUpdate)),this._changeTakeawayFeedback=(e,t)=>Object(o.pipe)(e,J($.a.isTakeaway,"can not change feedback for non-takeaway alert"),F.i,R.d(e=>{const n=G.a.create(e),a=e.setFeedback(t),r=G.a.create(a);return Object(o.pipe)(Q.prepare(()=>[n,r]),this._sendSingleUpdate,R.i(()=>a))})),this._shortenItSummaryNotFound=e=>Object(o.pipe)(e,ee("_shortenItSummaryNotFound: Cannot change state to not-found for already disposed"),c.b.chain(J($.a.isShortenIt,"cannot change state to not-found for a non shorten-it alert")),F.i,R.d(e=>{const t=G.a.create(e),n=e.changeSummaryState("notFound"),a=G.a.create(n);return Object(o.pipe)(Q.prepare(()=>[t,a]),this._sendSingleUpdate,R.i(()=>n))})),this._commitShortenItSummaryRequest=e=>Object(o.pipe)(e,ee("_commitShortenItSummaryRequest: Cannot send shorten_it_submit message for already disposed"),c.b.chain(J($.a.isShortenIt,"cannot send shorten_it_submit for a non shorten-it alert")),F.i,R.d(e=>{const t=G.a.create(e),n=e.changeSummaryState("requestSent"),a=G.a.create(n);return Object(o.pipe)(Q.prepare(()=>[t,a]),this._sendSingleUpdate,R.i(()=>n),F.c(this._commitShortenItSubmitToCapi(e)))})),this._dismissShortenItTransformGroup=(e,t)=>Object(o.pipe)(e,ee("_dismissShortenItTransformGroup: Cannot dismiss transform group for already disposed",t),c.b.chain(J($.a.isShortenIt,"cannot dismiss transform group for a non shorten-it alert")),F.i,R.d(e=>{const n=G.a.create(e),a=e.dismissTransformGroup(t),r=G.a.create(a);return Object(o.pipe)(Q.prepare(()=>[n,r]),this._sendSingleUpdate,R.i(()=>a))})),this._changeToneAIToneAlternative=(e,t)=>Object(o.pipe)(e,J($.a.isToneAI,"Cannot change tone for a non-ToneAI alert."),F.i,R.d(e=>R.o(()=>{const n=[Object(h.tuple)(e.id,$.q.create(G.a.create(e),G.a.create(e.setSelectedToneAlternativeIdx(t))))];return this.events.next({updated:new Map(n)}),e},c.b.toError))),this._handleCapiError=e=>t=>{W.a.isDroppedError(t)?this._log.debug(`Stopped listening for ${e} message acknowledge`,t):W.b.isNotConnectedError(t)?this._log.warn(`Failed to send ${e} as CAPI was not connected`,t):this._log.error("Failed to send "+e,t)},this._applyAlertData=({pos:e,removeLen:t,reverseDelta:n,undo:a,replacementText:r,alert:i,feedbackSubtype:s,reason:l,gbPrompt:u})=>Object(o.pipe)(R.o(()=>{let o=this._positionManager.getTextLength(),d=!1;const p={action:b.a.AlertFeedbackType.ACCEPTED,replacement:r,commit:()=>{d||this._log.debug(`_applyAlert(${i.toLiteString()}):commit()`)},reversedAlternative:c.g.none,undo:()=>{d=!0,this._log.debug(`_applyAlert(${i.toLiteString()}):undo()`);const e=this._positionManager.getTextLength();e!==o&&this._log.error(`Text has changed while uncommitted apply is present. Expected: ${o}, actual: ${e}`);const t=H.a.delta(n,e);this.changes.next(t),this.changes.next(H.a.flush()),a()}};return this._sendApplyTextFeedback(i,r,s,l,u)(),this.changes.next(H.a.delta((new V.a).retain(e).delete(t).insert(r),o)),this.changes.next(H.a.flush()),o=this._positionManager.getTextLength(),p},c.b.toError),R.d(e=>R.o(()=>i.switchToApplied(e),c.b.toError)),Q.prepareFromAlert,this._sendSingleUpdate),this._sendApplyFeedback=(e,t)=>e.state.method===$.a.State.Applied.Method.ByCard?this._commitFeedbackToCapi(e,t):h.constVoid,this._sendApplyTextFeedback=(e,t,n,a,r)=>this._sendApplyFeedback(e,{kind:b.a.AlertFeedbackType.ACCEPTED,replacementText:t,subtype:n,reason:a,gbPrompt:r}),this._sendApplyTransformJsonFeedback=(e,t,n,a,r,i)=>{const o={kind:b.a.AlertFeedbackType.ACCEPTED,alternativeIndex:t,subtype:n,drilldownSuggestionIds:a,reason:r,gbPrompt:i},s=$.a.isOneGap(e)?Object(m.a)(Object(p.a)({},o),{gapValue:e.gapValue}):$.a.isShortenIt(e)?Object(m.a)(Object(p.a)({},o),{dismissedTransformGroups:Array.from(e.dismissedTransformGroups)}):o;return this._sendApplyFeedback(e,s)}}}var re,ie,oe,se,ce,le=n("000W");(re||(re={})).toString=c.b.fold(({id:e})=>"rid:"+e,e=>"aid:"+e.toString()),(ie||(ie={})).match=function(e){return t=>t instanceof $.e?e.alertAddOrUpdate(t):t instanceof Map?e.rangeChange(t):"_tag"in t?e.alertRemove(t):e.alertChange(t)},(oe||(oe={})).defaultValidator=$.a.isDuplicatedBy;class ue{static _prepareUpdate(e,t){const n=Object(m.a)(Object(p.a)({},e.toRawAlert()),{rev:t.rev});return Object(o.pipe)(t.extraProperties,c.g.tap(e=>n.extra_properties=e)),Object(o.pipe)(t.muted,c.g.tap(e=>n.muted=e)),U.A.withTransformJson(n)&&Object(o.pipe)(t.transformJson,c.g.tap(e=>n.transformJson=e)),n}_processBatch(e){return e.reduce((e,t)=>(ie.match({alertAddOrUpdate:t=>{Object(o.pipe)(t.rawId,c.g.fold(()=>{e.toAdd.set(t.id,t)},n=>{Object(o.pipe)(this._alertsRepo.getByRawAlertId(n),c.g.filter(e=>e.allowUpdate),c.g.map(()=>{Object(o.pipe)(c.g.fromNullable(e.toAddOrUpdate.get(n)),c.g.map(t=>{this._log.debug("got overlap in batch on update"),e.toUpdate.delete(t.id),e.toDispose.set(t.id,t)})),e.toUpdate.set(t.id,t)}),c.g.getOrElse(()=>{Object(o.pipe)(c.g.fromNullable(e.toAddOrUpdate.get(n)),c.g.map(t=>{this._log.info("got overlap in batch on add"),e.toAdd.delete(t.id),e.toDispose.set(t.id,t)})),e.toAdd.set(t.id,t)})),e.toAddOrUpdate.set(n,t)}))},rangeChange:t=>{Object(s.f)(void 0===e.rangeChanges,"unexpected rangeChanges duplicate"),e.rangeChanges=t},alertRemove:t=>{e.toRemoveUnfiltered.push(t)},alertChange:t=>{e.toChangeUnfiltered.push(t)}})(t),e),{toAdd:new Map,toRemoveUnfiltered:[],toChangeUnfiltered:[],toUpdate:new Map,toAddOrUpdate:new Map,rangeChanges:void 0,toDispose:new Map})}_getMergeTarget(e,t){return Object(o.pipe)(e,c.b.swap,c.g.fromEither,c.g.chain(e=>e.mergedIn),c.g.chain(e=>{const n=Object(o.pipe)(this._alertsRepo.getByRawAlertId(e),c.g.map(e=>c.b.right(e)),c.g.alt(()=>Object(o.pipe)(c.g.fromNullable(t.get(e)),c.g.map(e=>c.b.left(e)))));return c.g.isNone(n)&&this._log.warn("Merge from CAPI: Cannot find alert to merge into.",{capiId:e}),n}),c.g.filter(de(e=>!!e.allowUpdate||(this._log.warn("Merge from CAPI: Trying to merge in a non-updatable alert, skipping. ",{target:e.toLiteString()}),!1))))}_addAlerts(e,t){return e.length>0&&this._log.debug("_addAlerts, count = "+e.length,{alerts:e.map(e=>e.toLiteString())}),Object(o.pipe)(e,le.U(this._validateAlertAdd),le.Jb({alertsToAdd:new Map,alertsToUpdate:new Map,alertsToRemove:t},(e,t)=>{this._log.trace("Adding alert: "+t.toLiteString());const n=this._getAlertsWithMatchingRanges(t.getNotEnclosingHighlightRanges()[0]),a=this._tryToMatchInvalid(t,n);switch(this._log.trace("Adding alert match result",{inc:t.id,match:a}),a.type){case se.Type.Merged:{const n=a.result[1];$.a.isNotRegistered(n.alert)?$.a.isRemoved(n.alert)&&this._log.warn("unexpected merge into removed alert",{alert:n,newAlert:t}):this._alertsRepo.addToCapiMapping(n.alert),e.alertsToUpdate.set(n.id,a.result);break}case se.Type.Restored:{const t=a.result[1];Object(s.f)(!e.alertsToRemove.has(t.id),"can't update alert which we wanted to remove earlier"),this._alertsRepo.addToCapiMapping(t.alert),e.alertsToUpdate.set(t.id,a.result);break}case se.Type.Unmatched:{const t=a.result,r=n.filter(n=>$.a.isDuplicateCandidate(n,c.g.isNone(n.rawId))&&this._alertDuplicateValidator(t,n)&&!e.alertsToRemove.has(n.id));Object(s.f)(t.allowDuplicates||$.a.isApplicableAlert(t),"BaseAlertImpl must allow duplicates or be an ApplicableAlert type");const i=t.allowDuplicates?{result:ce.Add,toRemove:c.g.none}:this._tryAddAlert(t,r);switch(i.result){case ce.Add:case ce.OverwriteExisting:this._log.debug("AllAlerts: Append alert to all alerts",t.toLiteString()),this._alertsRepo.addToCapiMapping(t),Object(s.f)(!e.alertsToRemove.has(t.id),"can't add alert which we wanted to remove earlier",()=>t.toLiteString()),this._alertsRepo.add(t),e.alertsToAdd.set(t.id,G.a.create(t)),Object(o.pipe)(i.toRemove,c.g.tap(t=>{if(e.alertsToAdd.has(t.id)){this._alertsRepo.removeFromCapiMapping(t);const e=t.changeState($.a.State.Removed.create($.a.State.Removed.Reason.canceled));this._terminateAlertChecking(e),this._alertsRepo.remove(e)}else this._log.debug("schedule to remove duplicate",t.toLiteString()),e.alertsToRemove.set(t.id,{alert:t,reason:$.a.State.Removed.Reason.duplicated});e.alertsToAdd.delete(t.id),e.alertsToUpdate.delete(t.id)}));break;case ce.Skip:this._log.debug("Skip alert with low priority",t.id);break;default:Object(s.c)(i.result)}break}default:Object(s.c)(a)}return e}))}_updateAlerts(e,t){this._log.debug("_updateAlerts, to update = "+e.length,{alerts:e.map(e=>e.toLiteString())}),Object(o.pipe)(e,le.Jb(t,(e,t)=>(this._log.trace("Updating alert: "+t.toLiteString()),Object(o.pipe)(this._alertsRepo.getByRawAlertId(c.g.unsafeGet(t.rawId)),c.g.fold(()=>this._log.warn("tried to update unknown alert",t),n=>{const a=t._raw;t.dispose();const r=e.has(n.id)?e.get(n.id)[0]:G.a.create(n);n.enqueueRawAlertForUpdate(a),e.set(n.id,$.q.create(r,G.a.create(n)))})),e)))}_startAlertsChecking(e,t,n){this._log.debug("_startAlertsChecking, to update = "+e.length,{alerts:e.map(([e,t])=>[e.toLiteString(),t])});const a=(e,t)=>{const n=e.changeState($.a.State.Registered.create($.a.CheckingState.CHECKING));return this._recheckedAlerts.add(e.id),G.a.create(t.size>0?n.enqueueRangesRemove(t):n)};Object(o.pipe)(e,le.Jb({updatedAlerts:t,addedAlerts:n},(e,[t,n])=>(Object(o.pipe)(this._alertsRepo.getByAlertId(t.id),c.g.fold(()=>{this._log.warn("tried to start checking unknown alert",{alert:t,ranges:n})},()=>{if(e.addedAlerts.has(t.id))e.addedAlerts.set(t.id,a(t,n));else{const r=e.updatedAlerts.has(t.id)?e.updatedAlerts.get(t.id)[0]:G.a.create(t);e.updatedAlerts.set(t.id,$.q.create(r,a(t,n)))}})),e)))}_removeAlerts(e,t){e.forEach((e,n)=>{Object(o.pipe)(this._alertsRepo.getByAlertId(n),c.g.fold(()=>{this._log.warn("tried to remove unknown alert",e)},()=>Object(o.pipe)(t.get(n),c.g.fromNullable,c.g.map(f.b),c.g.filter(e=>$.a.isNotDisposed(e.alert)),c.g.alt(()=>Object(o.pipe)(e.alert,c.g.fromPredicate($.a.isNotDisposed),c.g.map(G.a.create))),c.g.tap(a=>{const r=this._applyRemoveToAlert(e);this._terminateAlertChecking(r),t.set(n,$.q.create(a,G.a.create(r)))}))))})}_getAlertsWithMatchingRanges(e){return Object(o.pipe)(this._positionManager.findIntersections(e),le.U(Object(v.b)(L.a.is,L.b.isVisible)),le.U(Object(v.m)(L.b.isEnclosingView)),le.V(e=>this._alertsRepo.getByAlertId(e.meta.alertId)),le.U(e=>!($.a.isApplied(e)&&e.getAppliedRanges().length>0)))}_tryToMatchInvalid(e,t){return Object(s.f)(!e.isValid,"added alert should be invalid"),Object(s.f)($.a.isRegistered(e),"added alert should be in registered state",()=>e.toString()),Object(o.pipe)(c.g.fromNullable(t.find(t=>!t.isValid&&t.canBeMergedWith(e))),c.g.fold(()=>({result:e,type:se.Type.Unmatched}),t=>{Object(s.f)(Object(o.pipe)(t.rawId,c.g.forAll(Object(h.flow)(this._alertsRepo.getByRawAlertId,c.g.isNone))),"CAPI mapping should not contain invalid alerts"),this._log.debug(`Merging new alert (${e}) into the existing one aid(${t})`);const n=G.a.create(t);return t.patchWithRawAlert(e._raw),e.dispose(),t.allowUpdate&&$.a.isCapiDone(t)?{result:$.q.create(n,G.a.create(t.changeState($.a.State.init))),type:se.Type.Restored}:{result:$.q.create(n,G.a.create(t)),type:se.Type.Merged}}))}_tryAddAlert(e,t){return Object(o.pipe)(c.f.fromArray(t),c.g.map(t=>{Object(s.f)(1===t.length,"Only one visible alert to one range is expected while _tryEnqueueAlert",`got ${t.map(e=>e.toString())} with input (${e.toString()})`);const n=t[0];return n.extraProperties.priority<=e.extraProperties.priority?{result:ce.OverwriteExisting,toRemove:c.g.some(n)}:(e.dispose(),{result:ce.Skip,toRemove:c.g.none})}),c.g.getOrElse(()=>({result:ce.Add,toRemove:c.g.none})))}_cleanupPendingAlerts(e){e.removed.forEach(e=>{this._heuristicallyRemovedAlerts.delete(e)&&this._log.info("unexpected alert remove from finish msg",e)}),this._heuristicallyRemovedAlerts.size>0&&this._log.debug("we had heuristically removed alerts which were not confirmed by capi",{size:this._heuristicallyRemovedAlerts.size}),this._heuristicallyRemovedAlerts.clear()}_finishAlertsChecking(){return Object(o.pipe)(Array.from(this._recheckedAlerts.values()),le.V(e=>{const t=this._alertsRepo.getByAlertId(e);c.g.isNone(t)&&(this._log.error("tried to finish checking on missing alert",e),this._recheckedAlerts.delete(e));const n=Object(o.pipe)(t,c.g.filter(e=>$.a.isRegistered(e)),c.g.map(e=>Object(h.tuple)(e.id,this._finishAlertChecking(e))));return c.g.isNone(n)&&this._log.error("tried to update checking state on non-registered alert",e),n}),e=>({updated:new Map(e)}))}constructor(e,t,n){Object(i.a)(this,"_positionManager",void 0),Object(i.a)(this,"_alertsRepo",void 0),Object(i.a)(this,"_alertDuplicateValidator",void 0),Object(i.a)(this,"_log",void 0),Object(i.a)(this,"_heuristicallyRemovedAlerts",void 0),Object(i.a)(this,"process",void 0),Object(i.a)(this,"reset",void 0),Object(i.a)(this,"_processAlertsBatch",void 0),Object(i.a)(this,"_collectChanges",void 0),Object(i.a)(this,"_validateAlertAdd",void 0),Object(i.a)(this,"_recheckedAlerts",void 0),Object(i.a)(this,"_terminateAlertChecking",void 0),Object(i.a)(this,"_applyRemoveToAlert",void 0),Object(i.a)(this,"_finishAlertChecking",void 0),this._positionManager=e,this._alertsRepo=t,this._alertDuplicateValidator=n,this._log=l.d.Logging.getLogger("AlertManager.pipeline",l.a.LogLevel.DEBUG),this._heuristicallyRemovedAlerts=new Map,this.process=e=>(this._log.trace("process, to process = "+e.length),this._collectChanges(this._processAlertsBatch(e))),this.reset=e=>(this._cleanupPendingAlerts(e),this._finishAlertsChecking()),this._processAlertsBatch=e=>{const{toAdd:t,toUpdate:n,toAddOrUpdate:a,toRemoveUnfiltered:r,toChangeUnfiltered:i,toDispose:l,rangeChanges:u}=this._processBatch(e),d=e=>Object(o.pipe)(this._alertsRepo.getByAlertId(e),c.g.getOrElse(()=>t.get(e)||n.get(e)||l.get(e)));i.forEach(e=>Object(o.pipe)(c.g.fromNullable(a.get(e.id)),c.g.fold(()=>Object(o.pipe)(this._alertsRepo.getByRawAlertId(e.id),c.g.map(t=>{const r=t.copy(!1),i=ue._prepareUpdate(r,e);c.g.isSome(e.transformJson)?r.updateAlertWithManagedData(i):r.patchWithRawAlert(i),n.set(r.id,r),a.set(e.id,r)}),c.g.getOrElse(()=>this._log.info("Change from CAPI: Cannot find internal AlertId."))),t=>{const a=ue._prepareUpdate(t,e);n.has(t.id)?t.patchWithRawAlert(a):t.updateAlertWithManagedData(a)})));const p=r.reduce((e,r)=>{const i=Object(o.pipe)(r,c.b.fold(({id:e})=>Object(o.pipe)(this._alertsRepo.getByRawAlertId(e),c.g.map(e=>$.a.isRegistered(e)?e:void 0),c.g.getOrElse(()=>this._heuristicallyRemovedAlerts.has(e)?void this._heuristicallyRemovedAlerts.delete(e):a.get(e))),d));return void 0===i?(c.b.isLeft(r)?this._log.debug("Remove from CAPI: Cannot find internal AlertId. capiId: #"+JSON.stringify(r.left)):this._log.error("Cannot find existing alert by id",r.right),e):(Object(o.pipe)(this._getMergeTarget(r,a),c.g.filter(de(e=>e.lensId!==i.lensId?(this._log.warn("Trying to merge alerts from different lenses",{source:i,target:e}),!1):c.g.isNone(i.rawId)?(this._log.warn("Trying to merge into local alert",{source:i,target:e}),!1):i.references>e.references)),c.g.fold(()=>{e.set(i.id,{alert:i,reason:Object(o.pipe)(r,c.b.swap,c.g.fromEither,c.g.chain(e=>e.hint),c.g.chain(e=>e===b.a.AlertRemoveHint.NotFixed?c.g.some($.a.State.Removed.Reason.capiDismiss):c.g.none),c.g.getOrElse(()=>$.a.State.Removed.Reason.capiDone))})},c.b.fold(e=>{this._log.debug("swap raw alerts with new alert",{source:i.toString(),newTarget:e.toString()}),this._alertsRepo.swapRaw(i,e);const r=c.g.unsafeGet(i.rawId);Object(s.f)(void 0===n.get(e.id),"Added alert should not be present in the updated alerts map",()=>n.get(e.id).toString());const o=i.copy();n.set(o.id,o),a.set(r,o),t.delete(e.id),l.set(e.id,e)},t=>{this._log.debug("swap raw alerts with existing alert",{source:i.toString(),existingTarget:t.toString()}),this._alertsRepo.swapRaw(i,t),e.set(t.id,{alert:t,reason:$.a.State.Removed.Reason.capiDismiss})}))),e)},new Map),m=new Map;return u&&u.forEach((e,t)=>{Object(o.pipe)(t,d,c.g.fromPredicate(a=>a?$.a.isInteractable(a)?!n.has(a.id)||(this._log.debug("skip range change on updateHolder alert",a.toLiteString()),!1):(this._log.debug("skip range change on non-interactable alert",a.toLiteString()),!1):(this._log.warn("got range changes for unknown alert",{alertId:t,alertRanges:e}),!1)),c.g.chain(n=>Object(o.pipe)(n.onRangeChange(e),c.g.map(e=>{switch(e.state){case $.a.Transition.State.Pending:return m.set(n.id,[n,e.removedRanges]);case $.a.Transition.State.Dispose:return Object(o.pipe)(n.rawId,c.g.fold(()=>this._log.debug("dispose by range change on unknown rid",n.id),e=>this._heuristicallyRemovedAlerts.set(e,n))),p.set(t,{alert:n,reason:$.a.State.Removed.Reason.textChange});default:return Object(s.c)(e)}}))))}),p.forEach(({alert:e})=>{this._log.trace("check cancellations from toRemove: "+e.toLiteString()),Object(o.pipe)(e.rawId,c.g.fold(()=>{t.get(e.id)&&(this._log.debug("cancel add local alert for: "+e.toLiteString()),t.delete(e.id),p.delete(e.id),l.set(e.id,e)),Object(s.f)(!1===n.has(e.id),"Added local alert should not be present in the updated alerts map",()=>n.get(e.id).toString())},r=>{const i=a.get(r);i&&(a.delete(r),t.delete(i.id)?(this._log.debug("cancel add for: "+i.toLiteString()),this._log.debug("cancel remove for: "+e.toLiteString()),p.delete(e.id),l.set(e.id,e),l.set(i.id,i)):n.delete(i.id)?(this._log.debug("cancel update for: "+i.toLiteString()),i.id!==e.id&&(this._log.debug("marking update to dispose: "+i.toLiteString()),l.set(i.id,i))):this._log.error("_addOrUpdateAlert toAdd || toUpdate mapping in unsync state!",i))})),this._log.trace("check if local orphan toRemove: "+e.toLiteString()),Object(o.pipe)(this._alertsRepo.getByAlertId(e.id),c.g.fold(()=>{this._log.debug("cancel delete for: "+e.toLiteString()),p.delete(e.id)},h.constVoid))}),l.size>0&&this._log.debug("_cancelAlerts, to cancel = "+l.size,{alerts:Array.from(l.values()).map(e=>e.toLiteString())}),l.forEach(e=>{m.delete(e.id)&&this._log.debug("cancel startChecking for: "+e.toLiteString());try{e.dispose()}catch(t){this._log.warn("unexpected error on disposing canceled alert",t,e)}}),{toAdd:t,toUpdate:n,toRemove:p,toStartChecking:m}},this._collectChanges=({toAdd:e,toUpdate:t,toRemove:n,toStartChecking:a})=>{const{alertsToAdd:r,alertsToUpdate:i,alertsToRemove:o}=this._addAlerts(Array.from(e.values()),n);return t.size>0&&this._updateAlerts(Array.from(t.values()),i),a.size>0&&this._startAlertsChecking(Array.from(a.values()),i,r),o.size>0&&this._removeAlerts(o,i),{added:r,updated:i}},this._validateAlertAdd=e=>{try{const t=!$.a.isPremium(e)||void 0!==e.categoryHuman;return e._raw.impact!==U.A.Impact.Critical&&e._raw.impact!==U.A.Impact.Advanced&&c.g.isSome(e.rawId)&&this._log.warn("CAPI provides corrupted impact prop",{alert:e,raw:U.A.clearUserTextFields(e._raw)}),t||(this._log.error("CAPI provides corrupted alert",{alert:e,raw:U.A.clearUserTextFields(e._raw)}),e.dispose()),Object(o.pipe)(e.rawId,c.g.exists(e=>c.g.isSome(this._alertsRepo.getByRawAlertId(e))))?(this._log.warn("unexpected overlap on rawId for non-updatable alert",{alert:e,raw:U.A.clearUserTextFields(e._raw)}),e.dispose(),!1):e.lensType===B.a.Type.Plagiarism&&D.b.isMax(e.progress)?(this._log.info("CAPI provides a Plagiarism alert with an invalid progress",{alert:e,raw:U.A.clearUserTextFields(e._raw)}),e.dispose(),!1):t}catch(t){this._log.error("Cannot validate alert",t);try{e.dispose()}catch(e){this._log.warn("Cannot dispose invalid alert",e)}return!1}},this._recheckedAlerts=new Set,this._terminateAlertChecking=({id:e})=>{this._recheckedAlerts.delete(e)&&this._log.debug("Stopped watching checking state for alert",e)},this._applyRemoveToAlert=({alert:e,reason:t})=>(this._alertsRepo.removeFromCapiMapping(e),t!==$.a.State.Removed.Reason.textChange&&t!==$.a.State.Removed.Reason.duplicated&&e.clearCapiId(),e.changeState($.a.State.Removed.create(t))),this._finishAlertChecking=e=>{Object(s.f)(this._recheckedAlerts.delete(e.id),"tried to finish checking on alert which had not been marked as checking"),this._log.debug("Stopped watching checking state for alert",e.id);const t=G.a.create(e);return $.q.create(t,G.a.create(e.changeState($.a.State.Registered.create($.a.CheckingState.IDLE))))}}}function de(e){return c.b.fold(e,e)}!function(e){let t;!function(e){e.Unmatched="Unmatched",e.Merged="Merged",e.Restored="Restored"}(t=e.Type||(e.Type={}))}(se||(se={})),function(e){e.Skip="Skip",e.Add="Add",e.OverwriteExisting="OverwriteExisting"}(ce||(ce={}));var pe=n("cj5G");class me{flushAlerts(){this._flush.next()}loadAlerts(e){const t=new Map;return Object(v.n)(e)&&(this._log.debug(e.length+" external alert(s) where loaded"),e.map(pe.a.splitById).map(({id:e,local:t})=>({id:e,alert:$.a.create(Object(o.pipe)(t,b.a.RawAlert.matchBy(h.identity,e=>Object(m.a)(Object(p.a)({},e),{transformJson:{highlights:e.transformJson.highlights,alternatives:Object(o.pipe)(e.transformJson.alternatives,c.g.map(b.a.Alternative.Group.fromSerialized))}}),h.identity),this._transformRawAlert),this._ops,this._positionManager,this._alternativeManager)})).forEach(({id:e,alert:n})=>{this._addAlertBuffered(n),e&&t.set(e,n.id)})),t}toString(){return JSON.stringify(this,void 0,2)}toJSON(){return{repo:this._alertsRepository}}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_getTypeFilter(e){switch(e){case"alert":return e=>!$.a.isPlagiarism(e);case"plagiarism":return e=>$.a.isPlagiarism(e);default:return Object(s.c)(e)}}_addAlertBuffered(e){this._log.trace(`_addAlert(${e.toLiteString()})`),this._addAlerts.next(e)}_handleFreePremium(e){this._log.trace(`_handleFreePremium(${e.id})`),Boolean(e.updatable)&&Object(o.pipe)(this._alertsRepository.getByRawAlertId(e.id),c.g.filter($.a.isNotDisposed),c.g.tap(()=>this._removeAlertBuffered(c.b.left({id:e.id,mergedIn:c.g.none,hint:c.g.none}))));const t=$.a.create(this._transformRawAlert(e),this._ops,this._positionManager,this._alternativeManager);this.flushAlerts(),this._freePremiumAlerts.next(t)}_changeAlertBuffered(e){this._log.trace(`_changeAlert(${e.id})`),this._changeAlerts.next(e)}_removeAlertBuffered(e){this._log.trace(`_removeAlert(${re.toString(e)})`),this._removeAlerts.next(e)}_getAllAlertsAsArray(){return this._alertsRepository.toArray().filter($.a.isNotRemoved)}constructor(e,t,n,a,r,s,p,m=oe.defaultValidator,x=new u,A=e.rangeChanged){Object(i.a)(this,"_positionManager",void 0),Object(i.a)(this,"_alternativeManager",void 0),Object(i.a)(this,"_getContent",void 0),Object(i.a)(this,"_capiEvents",void 0),Object(i.a)(this,"_capiClient",void 0),Object(i.a)(this,"_documentCounters",void 0),Object(i.a)(this,"_transformRawAlert",void 0),Object(i.a)(this,"_alertDuplicateValidator",void 0),Object(i.a)(this,"_alertsRepository",void 0),Object(i.a)(this,"rangeChanged",void 0),Object(i.a)(this,"_state",void 0),Object(i.a)(this,"state",void 0),Object(i.a)(this,"lensesScores",void 0),Object(i.a)(this,"_log",void 0),Object(i.a)(this,"_subs",void 0),Object(i.a)(this,"_addAlerts",void 0),Object(i.a)(this,"_removeAlerts",void 0),Object(i.a)(this,"_changeAlerts",void 0),Object(i.a)(this,"_freePremiumAlerts",void 0),Object(i.a)(this,"_flush",void 0),Object(i.a)(this,"_alertsPerRevision",void 0),Object(i.a)(this,"_ops",void 0),Object(i.a)(this,"_pipeline",void 0),Object(i.a)(this,"changes",void 0),Object(i.a)(this,"loadScores",void 0),Object(i.a)(this,"undoApplied",void 0),Object(i.a)(this,"_invalidateAlerts",void 0),Object(i.a)(this,"_removeInvalidAlerts",void 0),Object(i.a)(this,"_onCapiEvent",void 0),Object(i.a)(this,"_emitDomainEvent",void 0),Object(i.a)(this,"_prepareDiff",void 0),Object(i.a)(this,"_disposeAlert",void 0),this._positionManager=e,this._alternativeManager=t,this._getContent=n,this._capiEvents=a,this._capiClient=r,this._documentCounters=s,this._transformRawAlert=p,this._alertDuplicateValidator=m,this._alertsRepository=x,this.rangeChanged=A,this._state=g.a.create(_.a.empty),this.state=this._state.view(_.a.toCheckingResult),this.lensesScores=g.a.create(M.empty),this._log=l.d.Logging.getLogger(me.loggerName,l.a.LogLevel.TRACE,l.a.LogColor.Manager.getColor()),this._subs=[],this._addAlerts=new C.a.Subject,this._removeAlerts=new C.a.Subject,this._changeAlerts=new C.a.Subject,this._freePremiumAlerts=new C.a.Subject,this._flush=new C.a.Subject,this._alertsPerRevision=0,this._pipeline=new ue(this._positionManager,this._alertsRepository,this._alertDuplicateValidator),this._invalidateAlerts=()=>{this.flushAlerts();const[e,t]=y.a.partition(this._getAllAlertsAsArray(),e=>e.isValid);this._log.debug("Invalidate alerts...",{valid:e.length,invalid:t.length}),e.forEach(e=>{this._alertsRepository.removeFromCapiMapping(e),e.clearCapiId()}),t.forEach(e=>e.clearCapiId())},this._removeInvalidAlerts=e=>{this._log.debug(`Removing invalid alerts by type '${e}'...`);const t=this._getTypeFilter(e),n=this._getAllAlertsAsArray().filter(e=>!e.isValid&&$.a.isNotDisposed(e)&&$.a.isRegistered(e)&&t(e));n.forEach(e=>this._removeAlertBuffered(c.b.right(e.id))),this._log.debug(n.length+" invalid alerts removed"),this.flushAlerts(),this._log.isEnabled(l.a.LogLevel.TRACE)&&this._log.trace("Removed alerts",n.map(e=>e.toString()))},this._onCapiEvent=e=>{try{switch("alert_received"===e.kind&&this._alertsPerRevision++,e.kind){case"alert_received":case"plagiarism_alert_received":if(!1===e.alert.hidden&&void 0===e.alert.cardLayout)return void this._log.warn("got alert with empty mapping",{pname:e.alert.pname});"unlocked"===e.alert.extra_properties.free_premium?this._handleFreePremium(e.alert):this._addAlertBuffered($.a.create(this._transformRawAlert(e.alert),this._ops,this._positionManager,this._alternativeManager));break;case"alert_removed":this._log.debug(`Remove from capi #${e.alertId}, merged in #${c.g.getOrElse(()=>"None")(e.mergedIn)}, hint: ${c.g.getOrElse(()=>"None")(e.hint)}`);Object(o.pipe)(this._alertsRepository.getByRawAlertId(e.alertId),c.g.exists($.a.isBulkApplied))||this._removeAlertBuffered(c.b.left({id:e.alertId,mergedIn:e.mergedIn,hint:e.hint}));break;case"alert_changed":this._log.debug("Alert change from capi #"+e.alertId),this._changeAlertBuffered({id:e.alertId,rev:e.rev,extraProperties:c.g.fromNullable(e.extraProperties),transformJson:c.g.fromNullable(e.transformJson),muted:c.g.fromNullable(e.muted)});break;case"finish":this._log.debug(`Alerts per revision (#${e.revision}): ${this._alertsPerRevision}`),this._alertsPerRevision=0,"idle"===this._capiClient.checkingState&&this._emitDomainEvent(this._pipeline.reset(e))}}catch(t){S.a.isErrorLike(t)?this._log.error("Cannot handle CAPI event.",t,{capiEvent:e}):this._log.error("Cannot handle CAPI event.",{capiEvent:e,error:t})}},this._emitDomainEvent=e=>{Object(o.pipe)(e,this._prepareDiff,j.a.createDiff,O.a.recover(e=>this._log.error("conflicts on diff creating",e)),e=>(this._log.debug("_emitDomainEvent",E.a.Diff.show.show(e)),e),_.a.applyDiff,c.j.map(O.a.recover(e=>this._log.error("conflicts on diff apply",e))),e=>this._state.modify(e))},this._prepareDiff=({added:e,updated:t=new Map,removed:n=new Map})=>(t.forEach((e,a)=>{Object(o.pipe)(e,f.d,$.a.fromAlertModel,$.a.shouldBeRemoved)&&(t.delete(a),n.set(a,e[0]))}),n.forEach(Object(h.flow)($.a.fromAlertModel,this._disposeAlert)),{added:e,updated:t,removed:n}),this._disposeAlert=e=>{if($.a.isApplied(e)&&e.state.undoable.commit(),$.a.isNotRegistered(e))try{this._alertsRepository.remove(e)}catch(t){this._log.error("Cannot remove alert.",t),$.a.isNotDisposed(e)&&e.dispose()}else this._log.error("unexpected remove of registered alert",e.toString())},this._ops=new ae(this._positionManager,this._getContent,this._capiClient,this._alertsRepository),this.loadScores=e=>{this.lensesScores.set(e)},this.undoApplied=this._ops.undoApplied,this.changes=this._ops.changes;const I=this.rangeChanged.pipe(C.a.map(({affected:e})=>e),C.a.filter(e=>e.length>0),C.a.map(e=>w.a.groupBy(e=>e.meta.alertId,e.filter(L.a.is))),C.a.filter(e=>e.size>0),C.a.tap(e=>this._log.debug("Range[s] changed",e)),C.a.share()),T=C.a.interval(250).pipe(C.a.startWith(0),C.a.merge(this._flush)),P=k.b.createIgnoreErrorsSubscriber(this._log);this._subs.push(P("_alertsInvalidation",this._capiEvents.pipe(C.a.filter(e=>b.a.CAPIEvent.is("session_started")(e)&&e.isNewSession),C.a.tap(this._invalidateAlerts),C.a.switchMapTo(C.a.mergeStatic(this._capiEvents.pipe(C.a.filter(b.a.CAPIEvent.is("finish")),C.a.take(1),C.a.mapTo("alert")),this._capiEvents.pipe(C.a.filter(b.a.CAPIEvent.is("async_check_finished")),C.a.take(1),C.a.mapTo("plagiarism")))),C.a.tap(this._removeInvalidAlerts))),P("_capiEvents",this._capiEvents.pipe(C.a.tap(this._onCapiEvent))),P("_alertsProccesing",this._addAlerts.pipe(C.a.merge(this._freePremiumAlerts),C.a.merge(this._removeAlerts),C.a.merge(this._changeAlerts),C.a.merge(I),C.a.buffer(T),C.a.filter(v.n),C.a.map(this._pipeline.process),C.a.tap(this._emitDomainEvent))),P("_alertsBuffer",I.pipe(C.a.merge(this._capiEvents.pipe(C.a.filter(b.a.CAPIEvent.is("before_finish","before_async_check_finish","async_check_finished")))),C.a.mapTo(k.b.voidValue),C.a.tap(this._flush))),P("_alertOpsAlertChanges",this._ops.events.pipe(C.a.tap(this._emitDomainEvent))),P("_lensesScoresChanges",M.fromCapi(this._capiEvents).pipe(C.a.tap(k.b.toAtom(this.lensesScores)))),P("documentCountersChanges",d.fromAlerts(this._state.view(j.a.iso.wrap)).pipe(C.a.tap(k.b.toAtom(this._documentCounters))))),Object(v.r)("alerts",()=>this.toString()),Object(v.r)("triggerRemove",e=>{this._removeAlertBuffered(c.b.right(e))})}}var fe;Object(i.a)(me,"loggerName","AlertManager"),(fe||(fe={})).create=function(e){const t=t=>Object(o.pipe)(e.get(),E.a.get(t),c.g.map($.a.fromAlertModel)),n=e=>Object(o.pipe)(t(e),c.g.filter($.a.isInteractable)),a=e=>Object(o.pipe)(t(e),c.g.filter($.a.isRegistered)),r=Object(h.flow)(a,c.g.filter(Object(v.b)($.a.isNotDisposed,Object(h.not)($.a.isInPremiumLens),Object(h.not)($.a.isHidden)))),i=Object(h.flow)(r,c.g.isSome);return{getById:t,getRegistered:a,getInteractable:n,getValidForFeedback:r,isValidForFeedback:i,isRegistered:e=>Object(o.pipe)(a(e),c.g.isSome),isInteractable:e=>Object(o.pipe)(n(e),c.g.isSome)}};var he=n("HOlR"),ge=n("yQCL");class be{apply(e,t){const{alternativeIndex:n,source:a}=t;return this._log.trace("apply",e),Object(o.pipe)(this._findAlert(e),c.b.chain(c.b.fromPredicate($.a.isApplicableAlert,()=>new Error("cannot apply not applicable alert"))),c.b.chain(e=>Object(o.pipe)(c.b.tryCatchError(()=>e.apply(t)),c.b.mapLeft(t=>(this._log.error("apply single alert error",{error:t,alert:e.toLiteAlert(),alternativeIndex:n,source:a}),t)))))}applyBulk(e,t){this._log.trace("applyBulk",e),this.sendBatchFeedback(e,b.a.AlertsBatchFeedbackType.BULK_ACCEPTED,t);const n=Object(o.pipe)(e,O.a.fromArray(e=>Object(o.pipe)(this._findAlert(e),c.b.mapLeft(t=>Object(h.tuple)(t,{id:e})),c.b.chain(c.b.fromPredicate($.a.isRegisteredApplicableAlert,e=>Object(h.tuple)(new Error("cannot apply not applicable or non-registered alert"),e.toLiteAlert()))),c.b.chain(c.b.fromPredicate(e=>U.A.withTransformJson(e._raw),e=>Object(h.tuple)(new Error("Only alerts with transformJSON can be bulk applied"),e.toLiteAlert()))),c.b.mapLeft(([e,t])=>(this._log.error(e.message,t),e)))));return Object(o.pipe)(n,O.a.flatMap(le.kb(),e=>Object(o.pipe)(this._ops._applyTransformJson({alerts:e.map(e=>({alert:e,alternative:$.a.getApplicableAlternative(e,0)})),source:$.b.api,method:$.a.State.Applied.Method.Bulk,feedbackSubtype:t}),R.f(t=>()=>(this._log.error("applyBulk error",t),O.a.of([],e.map(e=>e.id))),()=>()=>O.a.of(e.map(e=>e.id))))()))}confirmApplied(e){return this._log.trace("commitApplied",e),Object(o.pipe)(e,O.a.fromArray(Object(h.flow)(this._findAlert,c.b.map($.e.castApplied))),c.b.mapLeft(e=>new Error("Error on trying to confirm applied alerts: "+e.rejected.join(","))),c.b.chain(e=>this._ops._confirmApplied(e)()))}dismissBatch(e,t){return this._log.trace("dismissBatch",e),Object(o.pipe)(e.map(Object(h.flow)(this._findAlert,c.b.map(e=>[e]))),Object(ge.fold)(ye),c.b.chain(e=>this._ops._dismissBatch(e,t)()))}applyFeedback(e,t,n){return this._log.trace("sendFeedback",{alertId:e,type:t.kind}),Object(o.pipe)(this._findAlert(e),c.b.chain(e=>this._ops._alertFeedback(e,t,n)()))}sendBatchFeedback(e,t,n){return this._log.trace("sendBatchFeedback",{alertIds:e,type:t}),Object(o.pipe)(e,O.a.fromArray(this._findAlert),O.a.tapFailure(e=>this._log.error("Cannot send batch feedback for alerts",e.rejected)),O.a.foldSuccess(e=>c.b.right(this._ops._alertBatchFeedback(e,t,n)())))}takeReference(e,t){return this._log.trace("takeReference",{alertId:e.id,from:t}),Object(o.pipe)(this._findAlert(e.id),c.b.chain(e=>e.takeReference(t)))}changeMuteState(e,t){return this._log.trace("changeMuteState",e),Object(o.pipe)(e,O.a.fromArray(e=>this._findAlert(e.id)),O.a.flatMap(le.kb(),e=>Object(o.pipe)(this._ops._changeMuteState(e,t)(),c.b.mapLeft(e=>(this._log.error("Can not change mute state",e),e)),c.b.unsafeGet)))}changeGapValue(e,t){return Object(o.pipe)(this._findAlert(e),c.b.chain(e=>this._ops._changeGapValue(e,t)()))}changeTakeawayFeedback(e,t){return Object(o.pipe)(this._findAlert(e),c.b.chain(e=>this._ops._changeTakeawayFeedback(e,t)()))}shortenItSummaryNotFound(e){return Object(o.pipe)(this._findAlert(e),c.b.chain(e=>this._ops._shortenItSummaryNotFound(e)()))}sendShortenItSummaryRequest(e){return Object(o.pipe)(this._findAlert(e),c.b.chain(e=>this._ops._commitShortenItSummaryRequest(e)()))}dismissShortenItTransformGroup(e,t){return Object(o.pipe)(this._findAlert(e),c.b.chain(e=>this._ops._dismissShortenItTransformGroup(e,t)()))}changeToneAIToneAlternative(e,t){return Object(o.pipe)(this._findAlert(e),c.b.chain(e=>this._ops._changeToneAIToneAlternative(e,t)()))}constructor(e,t){Object(i.a)(this,"_alertsReader",void 0),Object(i.a)(this,"_ops",void 0),Object(i.a)(this,"_log",void 0),Object(i.a)(this,"_findAlert",void 0),Object(i.a)(this,"undoBulk",void 0),Object(i.a)(this,"getHighlightRanges",void 0),Object(i.a)(this,"hasNewRangesForUpdate",void 0),Object(i.a)(this,"applyPendingRangesUpdate",void 0),Object(i.a)(this,"getAppliedRanges",void 0),this._alertsReader=e,this._ops=t,this._log=l.d.Logging.getLogger("AlertsServiceImpl"),this._findAlert=e=>Object(o.pipe)(e,this._alertsReader.getById,c.b.fromOption(()=>new Error(`alert ${e} not found in the repo`))),this.undoBulk=Object(h.flow)(q.P(Object(h.flow)(this._alertsReader.getById,c.g.filter($.a.isBulkApplied))),e=>this._ops.undoApplied(e,$.a.State.Applied.Method.Bulk)(),c.b.getOrElse(e=>{throw this._log.error("Could not undo bulk-applied alerts",e),e})),this.getHighlightRanges=Object(h.flow)(this._findAlert,c.b.map(e=>e.getHighlightRanges())),this.hasNewRangesForUpdate=Object(h.flow)(this._findAlert,c.b.map(e=>e.hasNewRangesForUpdate)),this.applyPendingRangesUpdate=Object(h.flow)(this._findAlert,c.b.map(e=>e.applyPendingRangesUpdate())),this.getAppliedRanges=Object(h.flow)(this._alertsReader.getById,c.b.fromOption(()=>new Error("alert not found in the repo")),c.b.filterOrElse($.a.isApplicableAlert,e=>new Error("alert is not applicable: "+e.alertType)),c.b.map(e=>e.getAppliedRanges()))}}const ve=le.kb(),ye=Object(he.getApplyMonoid)(ve);function Oe(e,t,n,i,o){const s=new r.a,c=new a.a,l=new u,d=new me(s,c,e,i,n,o,t,void 0,l),p=fe.create(d.state);return{positionManager:s,altManager:c,alertManager:d,alertsRepository:l,alertsReader:p,alertsService:new be(p,d._ops)}}},F0rY:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("tiWp"),i=n("mgiE"),o=n("Hj2R"),s=n("mEGS");!function(e){e.create=e=>({getAlertMuteCategory:t=>Object(r.pipe)(e.getById(t),i.g.chain(e=>e.muteCategory))});e.getAlerts=function(e,t){const n={byCategory:new Map(t.map(e=>[e,[]])),all:[]};return Object(r.pipe)(e.get(),s.a.reduce(n,(e,{alert:n})=>Object(r.pipe)(n.muteCategory,i.g.filter(e=>t.includes(e.id)),i.g.map(e=>e.id),i.g.alt(()=>i.g.fromNullable(t.find(o.a.belongsToSpecialCategory(n)))),i.g.fold(()=>e,t=>(e.byCategory.get(t).push(n),e.all.push(n),e)))))}}(a||(a={}))},FAyr:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a={};n.r(a),n.d(a,"fontsProvider",(function(){return l}));var r={};n.r(r),n.d(r,"experimantalFontsProvider",(function(){return p}));var i=n("8O/t"),o=n("B8yO"),s=n("4GyQ"),c=n("nWMp");function l(e,t={withPreload:!0}){return a=>(o.useLayoutEffect(()=>{n("wV17")},[]),o.createElement(o.Fragment,null,t.withPreload?o.createElement(u,{fontStyles:Object(i.a)({},d)}):null,o.createElement(e,Object(i.a)({},a,Object(s.c)(a.className,Boolean(t.customFontStyle)?t.customFontStyle:d.wrapper)))))}const u=({fontStyles:e})=>o.createElement("div",{className:e.fontsPreload},o.createElement("span",{className:e.italicBold}),o.createElement("span",{className:e.italicRegular}),o.createElement("span",{className:e.italicLight}),o.createElement("span",{className:e.normalBold}),o.createElement("span",{className:e.normalRegular}),o.createElement("span",{className:e.normalLight})),d=c.a.stylesheet({wrapper:[{fontWeight:"normal",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, Arial",fontFeatureSettings:"'ss01'","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",$nest:{"@media print":{visibility:"hidden"}}}],fontsPreload:[{visibility:"hidden",fontFamily:"'Inter'"}],italicBold:[{fontWeight:700,fontStyle:"italic"}],italicRegular:[{fontWeight:400,fontStyle:"italic"}],italicLight:[{fontWeight:100,fontStyle:"italic"}],normalBold:[{fontWeight:700,fontStyle:"normal"}],normalRegular:[{fontWeight:400,fontStyle:"normal"}],normalLight:[{fontWeight:300,fontStyle:"normal"}]});function p(e){return t=>(o.useLayoutEffect(()=>{n("4MM/")},[]),o.createElement(o.Fragment,null,o.createElement(m,{fontStyles:Object(i.a)({},f)}),o.createElement(e,Object(i.a)({},t,Object(s.c)(t.className,f.wrapper)))))}const m=({fontStyles:e})=>o.createElement("div",{className:e.fontsPreload},o.createElement("span",{className:e.italicBold}),o.createElement("span",{className:e.italicRegular}),o.createElement("span",{className:e.italicLight}),o.createElement("span",{className:e.normalBold}),o.createElement("span",{className:e.normalRegular}),o.createElement("span",{className:e.normalLight})),f=c.a.stylesheet({wrapper:[{fontWeight:"normal",fontFamily:"'Grammarly Product BETA', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, Arial",fontFeatureSettings:"'ss01'","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",$nest:{"@media print":{visibility:"hidden"}}}],fontsPreload:[{visibility:"hidden",fontFamily:"'Grammarly Product BETA'"}],italicBold:[{fontWeight:700,fontStyle:"italic"}],italicRegular:[{fontWeight:400,fontStyle:"italic"}],italicLight:[{fontWeight:100,fontStyle:"italic"}],normalBold:[{fontWeight:700,fontStyle:"normal"}],normalRegular:[{fontWeight:400,fontStyle:"normal"}],normalLight:[{fontWeight:300,fontStyle:"normal"}]})},"Fg+b":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return I}));var a,r=n("DTwm"),i=n("cZKX"),o=n("WBKC"),s=n("9raK"),c=n("w8H4"),l=n("0kuo"),u=n("mgiE"),d=n("TKPA"),p=n("RRF2"),m=n("IMGo"),f=n("tCI5"),h=n("kMtn");function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function b(e){if(Array.isArray(e))return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){v(e,t,n[t])}))}return e}function C(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function w(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k(e,t){return b(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||j(e,t)||O()}function E(e){return function(e){if(Array.isArray(e))return g(e)}(e)||y(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function _(e,t){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function x(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function A(e){return f.c.unsupportedComponents.includes(e.type)}function I(e){switch(e){case"row":return"block";case"button":case"box":return"inline";default:throw new Error("Unsupported component")}}!function(e){var t,n=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=E(r).concat([e.id]);switch(a){case t.PreOrder:return n(e,i),X(e,n,a,i);case t.PostOrder:return X(e,n,a,i),n(e,i);default:Object(l.c)(a)}},g=function(e){var n,a=arguments;return _(this,(function(r){switch(r.label){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:t.PreOrder,[5,x(B(e,n,[]))];case 1:return r.sent(),[2]}}))},I=function(e,t,n,r){var i=r;return a.forEach(e,(function(e,n){return i=t(i,e,n)}),n),i},T=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.TreeTraversal.PreOrder,r=!0,i=!1,o=void 0;try{for(var s,c=g(e,n)[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;if(l.type===t)return u.g.some(l)}}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return u.g.none},M=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(a){case t.PreOrder:return Object(r.pipe)(n(e),(function(e){return G(e,n,a)}));case t.PostOrder:return Object(r.pipe)(G(e,n,a),u.g.map(n));default:Object(l.c)(a)}},P=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(a){case t.PreOrder:return Object(r.pipe)(e,u.g.fromPredicate(n),u.g.chain((function(e){return Object(r.pipe)(q(e,n,a),u.g.map((function(t){return S({},e,t)})))})));case t.PostOrder:return Object(r.pipe)(q(e,n,a),u.g.chain((function(t){return u.g.fromPredicate(n)(S({},e,t))})));default:Object(l.c)(a)}},N=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(a){case t.PreOrder:return Object(r.pipe)(n(e),u.g.chain((function(e){return Object(r.pipe)(K(e,n,a),u.g.map((function(t){return S({},e,t)})))})));case t.PostOrder:return Object(r.pipe)(K(e,n,a),u.g.chain((function(t){return n(S({},e,t))})));default:Object(l.c)(a)}},D=function(e){return P(e,Object(d.m)(z),t.PostOrder)},B=function(e){var n,a,r,i=arguments;return _(this,(function(o){switch(o.label){case 0:switch(n=i.length>1&&void 0!==i[1]?i[1]:t.PreOrder,a=i.length>2&&void 0!==i[2]?i[2]:[],r=E(a).concat([e.id]),n){case t.PreOrder:return[3,1];case t.PostOrder:return[3,4]}return[3,7];case 1:return[4,e];case 2:return o.sent(),[5,x(F(e,n,r))];case 3:return o.sent(),[3,8];case 4:return[5,x(F(e,n,r))];case 5:return o.sent(),[4,e];case 6:return o.sent(),[3,8];case 7:Object(l.c)(n),o.label=8;case 8:return[2]}}))},L=function(e){var n,a,r,i=arguments;return _(this,(function(o){switch(o.label){case 0:n=i.length>1&&void 0!==i[1]?i[1]:t.PreOrder,a=i.length>2?i[2]:void 0,r=0,o.label=1;case 1:return r<e.length?[5,x(B(e[r],n,a))]:[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2]}}))},F=function(e){var n,a,r,i,o,s,c,u,d=arguments;return _(this,(function(p){switch(p.label){case 0:switch(n=d.length>1&&void 0!==d[1]?d[1]:t.PreOrder,a=d.length>2?d[2]:void 0,e.type){case"column":return[3,1];case"assistantCard":return[3,3];case"popoverStack":return[3,8];case"strongAlertRef":return[3,10];case"row":return[3,12];case"block":return[3,15];case"box":case"scroll":case"inlineCard":case"shortFormCard":return[3,17];case"globalPart":return[3,19];case"globalPartPlaceholder":return[3,21];case"list":return[3,23];case"button":return[3,25];case"alternativeChoice":return[3,27];case"alternativeSlider":return[3,32];case"assistantFeed":return[3,37];case"viewStack":return[3,42];case"collapsedCard":return[3,44];case"longFormCard":return[3,49];case"tooltip":return[3,52];case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return[3,54]}return[3,55];case 1:return[5,x(L(e.children,n,a))];case 2:return p.sent(),[3,56];case 3:return null==e.footer?[3,5]:[5,x(B(e.footer,n,a))];case 4:return p.sent(),[3,6];case 5:null,p.label=6;case 6:return[5,x(B(e.child,n,a))];case 7:return p.sent(),[3,56];case 8:return[5,x(L(Object.values(e.views).map((function(e){return e.child})),n,a))];case 9:return p.sent(),[3,56];case 10:return[5,x(B(e.child,n,a))];case 11:return p.sent(),[3,56];case 12:return[5,x(L(e.left,n,a))];case 13:return p.sent(),[5,x(L(e.right,n,a))];case 14:return p.sent(),[3,56];case 15:return[5,x(L(e.parts,n,a))];case 16:return p.sent(),[3,56];case 17:return[5,x(B(e.child,n,a))];case 18:return p.sent(),[3,56];case 19:return[5,x(B(e.content,n,a))];case 20:return p.sent(),[3,56];case 21:return e.child?[5,x(B(e.child,n,a))]:[2];case 22:return p.sent(),[3,56];case 23:return[5,x(L(e.items.map((function(e){return e.label})),n,a))];case 24:return p.sent(),[3,56];case 25:return[5,x(B(e.label,n,a))];case 26:return p.sent(),[3,56];case 27:r=0,p.label=28;case 28:return r<e.alternatives.length?(i=e.alternatives[r],o=i.label,s=i.preview,[5,x(L([o,s],n,a))]):[3,31];case 29:p.sent(),p.label=30;case 30:return r++,[3,28];case 31:return[3,56];case 32:c=0,p.label=33;case 33:return c<e.choices.length?(u=e.choices[c].preview,[5,x(B(u,n,a))]):[3,36];case 34:p.sent(),p.label=35;case 35:return c++,[3,33];case 36:return[3,56];case 37:return null==e.footer?[3,39]:[5,x(B(e.footer,n,a))];case 38:return p.sent(),[3,40];case 39:null,p.label=40;case 40:return[5,x(B(e.header,n,a))];case 41:return p.sent(),[3,56];case 42:return[5,x(L(Object.values(e.views),n,a))];case 43:return p.sent(),[3,56];case 44:return null==e.quickActions?[3,46]:[5,x(B(e.quickActions,n,a))];case 45:return p.sent(),[3,47];case 46:null,p.label=47;case 47:return[5,x(B(e.child,n,a))];case 48:return p.sent(),[3,56];case 49:return[5,x(B(e.collapsedContent,n,a))];case 50:return p.sent(),[5,x(B(e.fullContent,n,a))];case 51:return p.sent(),[3,56];case 52:return[5,x(B(e.child,n,a))];case 53:return p.sent(),[3,56];case 54:return[2];case 55:if(A(e))return[2];Object(l.c)(e),p.label=56;case 56:return[2]}}))};!function(e){e.PreOrder="PreOrder",e.PostOrder="PstOrder"}(t=e.TreeTraversal||(e.TreeTraversal={})),e.forEach=n,e.traverse=g,e.reduce=I,e.findFirst=T,e.findFirstWithPredicate=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.TreeTraversal.PreOrder,r=!0,i=!1,o=void 0;try{for(var s,c=g(e,n)[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;if(t(l))return u.g.some(l)}}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return u.g.none};var R=e.over=function(e,n,a){var i,o=b(i=n)||y(i)||j(i)||O(),s=o[0],c=o.slice(1);return u.a.isEmpty(c)&&s===e.id?a(e):Z(e,r.constVoid,t.PreOrder,(function(t){return e.id===s&&t.id===c[0]?R(t,c,a):u.g.some(t)}))};e.map=M,e.filter=P,e.filterMap=N,e.compact=D;var H=e.getAlertRefs=function(e){switch(e.type){case"alternativeChoice":case"alternativeSlider":case"block":case"button":case"count":case"alertsCount":case"icon":case"image":case"row":case"box":case"slider":case"text":case"clickableText":case"column":case"scroll":case"assistantFeed":case"assistantCard":case"popoverStack":case"gButton":case"lensesSwitchPanel":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"viewStack":case"proofitButton":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"collapsedCard":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"tooltip":case"globalPartPlaceholder":return u.g.none;case"shortFormCard":return H(e.child);case"longFormCard":return Object(r.pipe)(e.behaviors,i.O(h.b.isStrongAlertRef),m.E);case"strongAlertRef":return u.g.some([e]);case"inlineCard":return Object(r.pipe)(Object(r.pipe)(e.behaviors,u.g.fromNullable,u.g.chain(Object(r.flow)(i.O(h.b.isStrongAlertRef),m.E))));case"list":return Object(r.pipe)(e.items,i.ub((function(e){return Object(r.pipe)(e.behaviors,u.g.fromNullable,u.g.chain(Object(r.flow)(u.a.filter(h.b.isStrongAlertRef),m.E)))})),u.g.sequenceArray,u.g.map(m.A));default:if(A(e))return u.g.none;Object(l.c)(e)}},V=(e.getAlertIds=Object(r.flow)(H,u.g.chain(Object(r.flow)(i.w(p.e.pick("alertIds")),m.F))),e.getAllAlertIds=function(e){return I(e,(function(e,t){return Object(r.pipe)(a.getAlertIds(t),u.g.map((function(t){return e.concat(t)})),u.g.getOrElse((function(){return e})))}),t.PreOrder,[])},e.getSDUIId=function(e){return u.g.fromNullable(e.id)},e.setPopoverView=function(e,t){return M(e,(function(e){switch(e.type){case"box":case"row":case"button":return Object(r.pipe)(u.g.fromNullable(e.behaviors),u.g.chain(i.S(h.b.isPopoverAnchor)),u.g.fold(Object(r.constant)(e),(function(n){var a=n.view,i=w(n,["view"]);return Object(r.pipe)(u.g.fromNullable(a),u.g.fold((function(){return Object(r.pipe)(t,u.g.filter((function(e){return"component"===e.anchor.kind&&e.anchor.id===i.id})),u.g.fold(Object(r.constant)(e),(function(t){return C(S({},e),{behaviors:[C(S({},i),{view:t})]})})))}),(function(n){return Object(r.pipe)(t,u.g.filter((function(e){return p.e.isEqual(e.anchor,n.anchor)})),u.g.fold((function(){return C(S({},e),{behaviors:[i]})}),(function(t){return t.rootPopoverId===n.rootPopoverId&&t.id===n.id?e:C(S({},e),{behaviors:[C(S({},i),{view:t})]})})))})))})));default:return e}}))},e.setGlobalPartPlaceholderContent=function(e,t){return M(e,(function(e){switch(e.type){case"globalPartPlaceholder":return Object(r.pipe)(t(e.globalPartId),u.g.fold((function(){return e}),(function(t){return C(S({},e),{child:t.content})})));default:return e}}))},e.removeStrongAlertRef=function(e){return function(t){var n=Object(r.pipe)(t,i.ub((function(e){return e.alertIds})),i.Y,(function(e){return new Set(e)})),a=Object(r.pipe)(t,m.y(h.a.isStrongAlertRefComponent)),o=Object(r.pipe)(t,m.y(h.a.isStrongAlertRefBehavior));return Object(r.pipe)(N(e,U(n,a,o)),u.g.chain(D))}},function(e,t){var n;return C(S({},e),{behaviors:null===(n=e.behaviors)||void 0===n?void 0:n.map((function(e){return"behavior:strongAlertRef"===e.type?C(S({},e),{alertIds:e.alertIds.filter((function(e){return!t.has(e)}))}):e}))})}),U=function(e,t,n){return function(a){switch(a.type){case"alternativeChoice":case"alternativeSlider":case"box":case"block":case"button":case"count":case"alertsCount":case"icon":case"image":case"row":case"slider":case"text":case"column":case"scroll":case"assistantFeed":case"assistantCard":case"popoverStack":case"gButton":case"lensesSwitchPanel":case"clickableText":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeGetStartedChecklistModal":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"viewStack":case"proofitButton":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"collapsedCard":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"tooltip":case"globalPartPlaceholder":return u.g.some(a);case"shortFormCard":return U(e,t,n)(a.child);case"longFormCard":return u.g.some(C(S({},a),{behaviors:a.behaviors.map((function(t){return h.b.isStrongAlertRef(t)?C(S({},t),{alertIds:t.alertIds.filter((function(t){return!e.has(t)}))}):t}))}));case"strongAlertRef":return Object(r.pipe)(t,u.g.exists((function(e){return e.some((function(e){return W.equals(a,e)}))})))?u.g.none:u.g.some(C(S({},a),{alertIds:a.alertIds.filter((function(t){return!e.has(t)}))}));case"inlineCard":return a.behaviors&&a.behaviors.some((function(e){return h.b.isStrongAlertRef(e)&&Object(r.pipe)(n,u.g.exists((function(t){return t.some((function(t){return h.b.StrongAlertRef.eq.equals(e,t)}))})))}))?u.g.none:u.g.some(V(a,e));case"list":var i=a.items.filter((function(e){return!e.behaviors||!e.behaviors.some((function(e){return h.b.isStrongAlertRef(e)&&Object(r.pipe)(n,u.g.exists((function(t){return t.some((function(t){return h.b.StrongAlertRef.eq.equals(e,t)}))})))}))}));return 0===i.length?u.g.none:u.g.some(C(S({},a),{items:i.map((function(t){return V(t,e)}))}));default:if(A(a))return u.g.some(a);Object(l.c)(a)}}},W=(e.switchViewStack=function(e,t,n){return Object(r.pipe)(R(e,t,(function(e){return"viewStack"!==e.type&&"popoverStack"!==e.type||null==e.views[n]?u.g.some(e):u.g.some(C(S({},e),{selected:n}))})),u.g.fold((function(){return e}),r.identity))},e.toContentMap=function(e){return a.reduce(e,(function(e,t,n){return e[t.id]={content:t,path:n},e}),t.PreOrder,{})},e.eq=c.a(s.a)(f.b.Content)),z=e.isEmpty=function(e){if(null==e)return!0;switch(e.type){case"column":return i.nb(e.children);case"assistantCard":return null==e.child&&null==e.footer;case"box":case"scroll":case"strongAlertRef":case"collapsedCard":case"inlineCard":case"shortFormCard":case"globalPartPlaceholder":return null==e.child;case"row":return i.nb(e.left)&&i.nb(e.right);case"block":return i.nb(e.parts);case"list":return i.nb(e.items);case"button":return null==e.label;case"alternativeChoice":return i.nb(e.alternatives);case"alternativeSlider":return i.nb(e.choices);case"assistantFeed":return null==e.header&&null==e.footer;case"viewStack":return p.e.isEmptyObject(e.views);case"longFormCard":return null==e.fullContent;case"tooltip":return null==e.child;case"globalPart":return null==e.content;case"count":case"alertsCount":case"icon":case"image":case"slider":case"text":case"clickableText":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"popoverStack":return!1;default:if(A(e))return!1;Object(l.c)(e)}};e.isSwitchViewAction=function(e){return"switchView"===e.type};e.bulkSwitchView=function(e,t,n){var i=null!=n?n:a.toContentMap(e);return t.reduce((function(e,t){var n=t.selected,o=t.where;return Object(r.pipe)(i[o],u.g.fromNullable,u.g.map(p.e.pick("path")),u.g.fold((function(){return e}),(function(t){return a.switchViewStack(e,t,n)})))}),e)},e.getCardPropsForFeed=function(e){return e.filtering.filter((function(e){return e.condition===f.a.ContentAssistantFeedFilteringCondition.EqualTo})).reduce((function(e,t){return C(S({},e),v({},t.property,t.value))}),{})};var G=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return Z(e,n,a,M)},q=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return Z(e,n,a,P)},K=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return Z(e,n,a,N)},$=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,o=arguments.length>3?arguments[3]:void 0;return Object(r.pipe)(e,i.Fb(new Array,(function(e,t){return Object(r.pipe)(o(t,n,a),u.g.fold(r.constVoid,(function(t){return e.push(t)}))),e})))},Z=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,o=arguments.length>3?arguments[3]:void 0;switch(e.type){case"column":return Object(r.pipe)($(e.children,n,a,o),(function(t){return C(S({},e),{children:t})}),u.g.some);case"assistantCard":var s=Object(r.pipe)(u.g.fromNullable(e.footer),u.g.chain((function(e){return o(e,n,a)})),u.g.getOrElse((function(){})));return Object(r.pipe)(o(e.child,n,a),u.g.map((function(t){return C(S({},e),{child:t,footer:s})})));case"strongAlertRef":case"scroll":case"inlineCard":case"shortFormCard":case"box":return Object(r.pipe)(o(e.child,n,a),u.g.map((function(t){return C(S({},e),{child:t})})));case"row":var c=$(e.right,n,a,o),d=$(e.left,n,a,o);return u.g.some(C(S({},e),{left:d,right:c}));case"block":return Object(r.pipe)($(e.parts,n,a,o),(function(t){return C(S({},e),{parts:t})}),u.g.some);case"list":return Object(r.pipe)(e.items,i.ub((function(e){return Object(r.pipe)(o(e.label,n,a),u.g.map((function(t){return C(S({},e),{label:t})})))})),i.O(u.g.isSome),i.ub(u.g.unsafeGet),(function(t){return C(S({},e),{items:t})}),u.g.some);case"button":return Object(r.pipe)(o(e.label,n,a),u.g.map((function(t){return C(S({},e),{label:t})})));case"alternativeChoice":return Object(r.pipe)(e.alternatives,i.ub((function(e){return Object(r.pipe)([o(e.label,n,a),o(e.preview,n,a)],u.g.sequenceArray,u.g.map((function(e){return e})),u.g.map((function(t){var n=k(t,2),a=n[0],r=n[1];return C(S({},e),{label:a,preview:r})})))})),i.O(u.g.isSome),i.ub(u.g.unsafeGet),(function(t){return C(S({},e),{alternatives:t})}),u.g.some);case"alternativeSlider":return Object(r.pipe)(e.choices,i.ub((function(e){return Object(r.pipe)(o(e.preview,n,a),u.g.map((function(t){return C(S({},e),{preview:t})})))})),i.O(u.g.isSome),i.ub(u.g.unsafeGet),(function(t){return C(S({},e),{choices:t})}),u.g.some);case"assistantFeed":return Object(r.pipe)(u.g.fromNullable(e.footer),u.g.chain((function(e){return o(e,n,a)})),u.g.map((function(t){return C(S({},e),{footer:t})})),u.g.alt((function(){return u.g.some(e)})),u.g.chain((function(e){return Object(r.pipe)(o(e.header,n,a),u.g.map((function(t){return C(S({},e),{header:t})})))})));case"popoverStack":return Object(r.pipe)(Object.keys(e.views),i.Fb({},(function(t,i){return Object(r.pipe)(o(e.views[i].child,n,a),u.g.fold((function(){return delete t[i],t}),(function(n){return t[i]=C(S({},e.views[i]),{child:n}),t})))})),(function(t){return C(S({},e),{views:t})}),u.g.some);case"viewStack":return Object(r.pipe)(Object.keys(e.views),i.Fb({},(function(t,i){return Object(r.pipe)(o(e.views[i],n,a),u.g.fold((function(){return delete t[i],t}),(function(e){return t[i]=e,t})))})),(function(t){return C(S({},e),{views:t})}),u.g.some);case"collapsedCard":var p=Object(r.pipe)(u.g.fromNullable(e.quickActions),u.g.chain((function(e){return o(e,n,a)})),u.g.getOrElse((function(){})));return Object(r.pipe)(o(e.child,n,a),u.g.map((function(t){return C(S({},e),{child:t,quickActions:p})})));case"longFormCard":return Object(r.pipe)(o(e.fullContent,n,a),u.g.chain((function(t){return Object(r.pipe)(o(e.collapsedContent,n,a),u.g.map((function(n){return C(S({},e),{fullContent:t,collapsedContent:n})})))})));case"tooltip":return Object(r.pipe)(o(e.child,n,a),u.g.map((function(t){return C(S({},e),{child:t})})));case"globalPart":return Object(r.pipe)(o(e.content,n,a),u.g.map((function(t){return C(S({},e),{content:t})})));case"globalPartPlaceholder":return e.child?Object(r.pipe)(o(e.child,n,a),u.g.map((function(t){return C(S({},e),{child:t})}))):u.g.some(e);case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return u.g.some(e);default:if(A(e))return u.g.some(e);Object(l.c)(e)}},Y=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,i=arguments.length>3?arguments[3]:void 0;return e.forEach((function(e){return n(e,a,r,i)}))},X=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,i=arguments.length>3?arguments[3]:void 0;switch(e.type){case"column":return Y(e.children,a,r,i);case"assistantCard":return null!=e.footer&&n(e.footer,a,r,i),n(e.child,a,r,i);case"popoverStack":return Y(Object.values(e.views).map((function(e){return e.child})),a,r,i);case"strongAlertRef":return n(e.child,a,r,i);case"row":return Y(e.left,a,r,i),Y(e.right,a,r,i);case"block":return Y(e.parts,a,r,i);case"box":case"scroll":case"inlineCard":case"shortFormCard":return n(e.child,a,r,i);case"list":return Y(e.items.map((function(e){return e.label})),a,r,i);case"button":return n(e.label,a,r,i);case"alternativeChoice":return e.alternatives.forEach((function(e){var t=e.label,n=e.preview;return Y([t,n],a,r,i)}));case"alternativeSlider":return e.choices.forEach((function(e){var t=e.preview;return n(t,a,r,i)}));case"assistantFeed":return null!=e.footer&&n(e.footer,a,r,i),n(e.header,a,r,i);case"viewStack":return Y(Object.values(e.views),a,r,i);case"collapsedCard":return null!=e.quickActions&&n(e.quickActions,a,r,i),n(e.child,a,r,i);case"longFormCard":return n(e.collapsedContent,a,r,i),n(e.fullContent,a,r,i);case"tooltip":return n(e.child,a,r,i);case"globalPart":return n(e.content,a,r,i);case"globalPartPlaceholder":return e.child?n(e.child,a,r,i):void 0;case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return;default:if(A(e))return;Object(l.c)(e)}},Q=(e.Functor={map:function(e,n){return M(e,n,t.PreOrder)}},e.checkForGlobalPartWithPlaceholder=function(e){return h.e.isGlobalPart(e)?Object(r.pipe)(T(e,"globalPartPlaceholder"),u.g.fold((function(){return u.b.right(e)}),(function(t){return u.b.left(new Error("globalPart can not contain globalPartPlaceholder. globalPartPlaceholder (id: ".concat(t.id,") found in globalPart (id: ").concat(e.id,")")))}))):u.b.right(e)}),J=c.a(o.Schemable)(f.b.Content);e.dslRootParser=Object(r.flow)(J.decode,u.b.mapLeft((function(e){return new Error(o.draw(e))})),u.b.chain(Q))}(a||(a={}))},G0RH:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("lKCo"),r=n("DTwm"),i=n("La5+"),o=n("xk6L"),s=n("yIk2"),c=n("+vYo"),l=n("IH4a"),u=n("DgJv");class d{constructor(e,t){this._capiService=e,this._genAIFeaturesState=t,this._subs=new i.a.Keeper,this._availability=c.a.create({kind:u.a.Kind.pending,userSettings:{inlineQuickReplyEnabled:!1,inlineRewriteEnabled:!1}}),this.availability=this._availability.view(),this._subs.push(this._genAIFeaturesState.subscribe(e=>{this._availability.set(e.enabled?u.a.fromUserState(e.userState):{kind:u.a.Kind.unavailable})})),this._subs.push(Object(r.pipe)(this._capiService.relevantInboundCAPIMessages,o.a.filter(l.a.CheetahInboundCAPIMessage.is),o.a.map(e=>{switch(e.action){case"cheetah:setUserState":return a.some(e.state);default:return a.none}}),o.b.compact,o.a.map(u.a.fromUserState)).subscribe(s.b.toAtom(this._availability))),this._subs.push(Object(r.pipe)(this._capiService.relevantInboundCAPIMessages,o.a.filter(l.a.CheetahInboundCAPIMessage.is),o.a.map(e=>{switch(e.action){case"cheetah:setContext":case"cheetah:result":return a.some(e.usage);default:return a.none}}),o.b.compact,o.a.map(e=>u.a.updateUsage(this._availability.get(),e))).subscribe(s.b.toAtom(this._availability)))}dispose(){this._subs.dispose()}}},GHef:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return h}));var a,r=n("lKCo"),i=n("DTwm"),o=n("M4GM"),s=n("O+SZ"),c=n("yIk2"),l=n("xk6L"),u=n("0kuo"),d=n("+vYo"),p=n("X5M1"),m=n("L6Sa"),f=n("AW+w");!function(e){e.isTooltipOnboardingStep=function(e){return m.a.StepName.isTooltipOnboardingStep(e.name)}}(a||(a={}));class h{constructor(e){var t,n,a,h,b,v;this._params=e,this._subs=new o.a,this._assistantElements=d.a.create({}),this._externalElements=d.a.create({}),this._hideAssistantTooltips=d.a.create(!1),this._nextCandidateStep=d.a.create(r.none),this.stepsSeenOnThisSession=d.a.create(new Set),this._uiActions=new s.a,this.uiActions=this._uiActions.asObservable(),this.activeStep=d.a.combine(this._nextCandidateStep,this._assistantElements,this._externalElements,this._hideAssistantTooltips,(e,t,n,a)=>Object(i.pipe)(e,r.chain(e=>function(e,t,n,a){switch(e){case m.a.StepName.initial:return Object(i.pipe)(r.fromNullable(n[p.b.initialPopupAnchor]),r.map(e=>({name:m.a.StepName.initial,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0})));case m.a.StepName.initialBTS:return Object(i.pipe)(r.fromNullable(n[p.b.initialBTSPopupAnchor]),r.map(e=>({name:m.a.StepName.initialBTS,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0})));case m.a.StepName.rewrite:return Object(i.pipe)(r.fromNullable(n[p.b.rewriteTooltipAnchor]),r.map(e=>({name:m.a.StepName.rewrite,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0})));case m.a.StepName.prompts:return Object(i.pipe)(r.fromNullable(t[p.a.initialActionsList]),r.map(e=>({name:m.a.StepName.prompts,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!a})));case m.a.StepName.review:return Object(i.pipe)(r.fromNullable(t[p.a.followUpActionsList]),r.map(e=>({name:m.a.StepName.review,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!a})));case m.a.StepName.knowledgeHub:return Object(i.pipe)(r.fromNullable(t[p.a.promptInput]),r.map(e=>({name:m.a.StepName.knowledgeHub,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!a})));case m.a.StepName.references:return Object(i.pipe)(r.fromNullable(t[p.a.referencesList]),r.map(e=>({name:m.a.StepName.references,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!a})));case m.a.StepName.history:return Object(i.pipe)(r.fromNullable(t[p.a.historyButton]),r.map(e=>({name:m.a.StepName.history,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!a})));default:return Object(u.d)(e)}}(e,t,n,a)))),this.promptsAllocated=this._params.promptsAllocated,this._subs.add((t=this.activeStep,n=this._params.upstreamOnboardingState,a=this._params.session,h=this._params.textStats,b=this._params.forceDisabledOnboardingSteps,v=this._params.client,l.a.combineLatestStatic([a,n,h.pipe(Object(i.flow)(l.b.compact,l.a.map(e=>e.wordCount),l.a.startWith(0),l.a.pairwise(),l.a.scan((e,[t,n])=>Object(i.pipe)(Math.abs(n-t),t=>t<=2?e+t:e),0),l.a.startWith(0),l.a.distinctUntilChanged())),a.pipe(l.a.map(r.isSome),l.a.distinctUntilChanged(),l.a.withLatestFrom(n),l.a.map(([e,t])=>e?r.some(t):r.none))]).pipe(l.a.map(([e,n,a,o])=>{if(r.isNone(e)){const e=!Object(i.pipe)(t.get(),r.map(e=>e.name===m.a.StepName.initial),r.getOrElse(i.constFalse))&&!b.has(m.a.StepName.initialBTS)&&!n.initialBTS[v].completed&&void 0===n.initialBTS[v].lastSeen,o=!b.has(m.a.StepName.initial)&&!n.initial[v].completed&&void 0===n.initial[v].lastSeen&&!n.initialBTS[v].completed&&void 0===n.initialBTS[v].lastSeen,s=!b.has(m.a.StepName.rewrite)&&!n.rewrite[v].completed&&(n.initial[v].completed||n.initialBTS[v].completed)&&a>=30;return e?r.some(m.a.StepName.initialBTS):o?r.some(m.a.StepName.initial):s?r.some(m.a.StepName.rewrite):r.none}return f.a.Step.anyClientCompleted(n.prompts)||b.has(m.a.StepName.prompts)?f.a.Step.anyClientCompleted(n.review)||b.has(m.a.StepName.review)?f.a.Step.anyClientCompleted(n.history)||b.has(m.a.StepName.history)||!g(o)?f.a.Step.anyClientCompleted(n.knowledgeHub)||b.has(m.a.StepName.knowledgeHub)||!g(o)?f.a.Step.anyClientCompleted(n.references)||b.has(m.a.StepName.references)||!g(o)?r.none:r.some(m.a.StepName.references):r.some(m.a.StepName.knowledgeHub):r.some(m.a.StepName.history):r.some(m.a.StepName.review):r.some(m.a.StepName.prompts)}))).subscribe(c.b.toAtom(this._nextCandidateStep))),this._subs.add(this._params.assistantMountActions.subscribe(({name:e,element:t})=>this._assistantElements.modify(n=>Object.assign(Object.assign({},n),{[e]:{reference:t,placement:e===p.a.historyButton?"bottom":"left"}})))),this._subs.add(this._params.assistantUnmountActions.subscribe(({name:e})=>this._assistantElements.modify(t=>Object.assign(Object.assign({},t),{[e]:void 0})))),this._subs.add(this._params.externalElements.subscribe(c.b.toAtom(this._externalElements))),this._subs.add(this._params.hideAssistantOnboardingTooltips.subscribe(c.b.toAtom(this._hideAssistantTooltips))),this._subs.add(this.activeStep.pipe(l.b.compact).subscribe(e=>this.stepsSeenOnThisSession.modify(t=>new Set([...t,e.name])))),this._subs.add(this._params.session.pipe(l.a.map(r.isSome),l.a.startWith(!1),l.a.pairwise(),l.a.filter(([e,t])=>e&&!t)).subscribe(()=>this._assistantElements.set({})))}notify(e){this._uiActions.next(e)}dispose(){this._subs.unsubscribe()}}function g(e){return Object(i.pipe)(e,r.fold(i.constFalse,({prompts:e,review:t})=>{const n={prompts:f.a.Step.anyClientCompleted(e),review:f.a.Step.anyClientCompleted(t)};return Object.values(n).every(i.identity)}))}},"Ga/O":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n("Wy1Y"),r=n("uKMM"),i=n("a5gI"),o=n("8O/t"),s=n("X76w"),c=n("hcme"),l=n("mMt2"),u=n("cZKX"),d=n("DTwm"),p=n("+vYo"),m=n("0Qjk"),f=n("Hj2R"),h=n("mEGS"),g=n("xk6L"),b=n("yIk2"),v=n("caai"),y=n("hzat"),O=n("mgiE"),S=n("TKPA"),C=n("M3t0"),w=function(){function e(t,n,r,o,s,c,l,u){var m=this;Object(a.a)(this,e),Object(i.a)(this,"_capiEvents",void 0),Object(i.a)(this,"_denaliEditorModel",void 0),Object(i.a)(this,"_alertsService",void 0),Object(i.a)(this,"_checkingState",void 0),Object(i.a)(this,"_alertVisibleFilter",void 0),Object(i.a)(this,"_marksVM",void 0),Object(i.a)(this,"_inlineManager",void 0),Object(i.a)(this,"_isAssistantMode",void 0),Object(i.a)(this,"items",void 0),Object(i.a)(this,"highlightedVbarAlert",void 0),Object(i.a)(this,"alertClickedInAssistantMode",void 0),Object(i.a)(this,"isVisibleFeedbackModal",void 0),Object(i.a)(this,"_sub",void 0),Object(i.a)(this,"_mountedFeedbacks",void 0),Object(i.a)(this,"_sendFeedback",void 0),Object(i.a)(this,"_log",void 0),Object(i.a)(this,"_activeVbarProxy",void 0),this._capiEvents=t,this._denaliEditorModel=n,this._alertsService=r,this._checkingState=o,this._alertVisibleFilter=s,this._marksVM=c,this._inlineManager=l,this._isAssistantMode=u,this.items=p.a.create([]),this.highlightedVbarAlert=new g.a.Subject,this.alertClickedInAssistantMode=new g.a.Subject,this.isVisibleFeedbackModal=p.a.create(O.g.none),this._sub=new g.a.Subscription,this._mountedFeedbacks=new Set,this._sendFeedback=function(e,t){return Object(d.pipe)(m._alertsService.applyFeedback(e,t,f.b.text),O.b.fold((function(e){return m._log.error("error sending alert feedback",e)}),d.constVoid))},this._log=C.d.Logging.getLogger("VbarsViewModelImpl",C.a.LogLevel.DEBUG),this._activeVbarProxy=p.a.create(O.g.none),this._sub.add(this._inlineManager.activeVbar.subscribe(b.b.toAtom(this._activeVbarProxy))),this._sub.add(this._createVbarActivationSub()),this._sub.add(this._createVbarItemsSub()),this._sub.add(this._createCAPISub())}return Object(r.a)(e,[{key:"applyAlert",value:function(e){var t=this;setTimeout((function(){return t.onVbarClose()}),0),Object(d.pipe)(this._alertsService.apply(e,{alternativeIndex:0,source:f.b.text,feedbackSubtype:m.a.FeedbackSubtype.Inline}),O.b.fold((function(e){return t._log.error("error applying alert",e)}),d.constVoid))}},{key:"dismissAlert",value:function(e){var t=this;setTimeout((function(){return t.onVbarClose()}),0),Object(d.pipe)(this._alertsService.dismissBatch([e],m.a.FeedbackSubtype.Inline),O.b.fold((function(e){return t._log.error("error dismissing alert",e)}),d.constVoid))}},{key:"toggleVbarHighlighting",value:function(e,t){var n=this.items.get().find((function(t){return t.alert.id===e}));t?n&&this.highlightedVbarAlert.next(O.g.some(n.alert)):this.highlightedVbarAlert.next(O.g.none)}},{key:"onVbarClick",value:function(e){var t,n=this;this._sendFeedback(e,{kind:m.a.AlertFeedbackType.ACCEPTED,subtype:m.a.FeedbackSubtype.Vbar,alternativeIndex:0}),this._isAssistantMode.get()?(Object(d.pipe)(this.items.get(),O.a.findFirst((function(t){return t.alert.id===e})),O.g.fold((function(){return n._log.error("Vbar item not found on click in assistant mode")}),(function(e){return n.alertClickedInAssistantMode.next(O.g.some({highlightIndex:0,alert:e.alert}))}))),this._inlineManager.changeActiveVbar.next(O.g.none)):this._inlineManager.changeActiveVbar.next(O.g.some({alertId:e,state:"opened"})),null===(t=this.items.get().find((function(t){return t.alert.id===e})))||void 0===t||t.hoveringService.reset()}},{key:"onVbarMount",value:function(e){var t=this.items.get().find((function(t){return t.alert.id===e}));t&&!this._mountedFeedbacks.has(e)&&(this._sendFeedback(t.alert.id,{kind:m.a.AlertFeedbackType.RENDERED,subtype:m.a.FeedbackSubtype.Vbar}),this._mountedFeedbacks.add(e))}},{key:"onInlineCardMount",value:function(e){this.items.get().find((function(t){return t.alert.id===e}))&&this._sendFeedback(e,{kind:m.a.AlertFeedbackType.LOOKED,subtype:m.a.FeedbackSubtype.Inline})}},{key:"onStickerMount",value:function(e){this._sendFeedback(e,{kind:m.a.AlertFeedbackType.LOOKED,subtype:m.a.FeedbackSubtype.Vbar})}},{key:"onVbarMouseEnter",value:function(e){var t=this.items.get().find((function(t){return t.alert.id===e}));t&&t.hoveringService.htmlElementHandlers.onMouseEnter()}},{key:"onVbarMouseLeave",value:function(e){var t=this.items.get().find((function(t){return t.alert.id===e}));t&&t.hoveringService.htmlElementHandlers.onMouseLeave()}},{key:"onVbarClose",value:function(){this._inlineManager.changeActiveVbar.next(O.g.none)}},{key:"onGiveFeedbackClick",value:function(e){var t=O.g.fromNullable(this.items.get().find((function(t){return t.alert.id===e})));this.isVisibleFeedbackModal.set(Object(d.pipe)(t,O.g.map((function(e){return e.alert}))))}},{key:"onCloseFeedbackModal",value:function(){this.isVisibleFeedbackModal.set(O.g.none)}},{key:"submitFeedback",value:function(e,t){return this.isVisibleFeedbackModal.set(O.g.none),this._sendFeedback(e,{kind:m.a.AlertFeedbackType.USER_SATISFACTION_FEEDBACK,subtype:m.a.FeedbackSubtype.Vbar,userSatisfactionDescription:t.detailed}),Promise.resolve()}},{key:"dispose",value:function(){this.highlightedVbarAlert.complete(),this._sub.unsubscribe(),this.items.get().forEach((function(e){return e.hoveringService.reset()}))}},{key:"_createVbarActivationSub",value:function(){var e=this;return this._inlineManager.activeVbar.subscribe((function(t){Object(d.pipe)(t,O.g.fold((function(){e.highlightedVbarAlert.next(O.g.none),e.items.modify((function(e){return e.map((function(e){return Object(s.a)(Object(o.a)({},e),{state:"visible"})}))}))}),(function(t){var n=e.items.get().findIndex((function(e){return e.alert.id===t.alertId})),a=e.items.get()[n];n>-1&&(e.highlightedVbarAlert.next(O.g.some(a.alert)),e.items.modify((function(e){return e.map((function(e,a){return a===n?Object(s.a)(Object(o.a)({},e),{state:t.state}):Object(s.a)(Object(o.a)({},e),{state:"visible"})}))})))})))}))}},{key:"_updateItems",value:function(e,t){var n=this;Object(d.pipe)(this._denaliEditorModel.contentRect,O.g.tap((function(a){var r,i,c,l=function(e,t,n,a){return Object(d.pipe)(e,Object(u.ub)((function(e){return Object(d.pipe)(e.highlightTexts,Object(u.vb)((function(n){return t.getMarkByAlert({alert:e,highlightIndex:n})})),(function(n){return n.concat(t.getEnclosingMarkByAlert(e))}),u.B,(function(e){var t={left:Number.MAX_SAFE_INTEGER,top:Number.MAX_SAFE_INTEGER,bottom:Number.MIN_SAFE_INTEGER};return Object(d.pipe)(e,Object(u.ub)((function(e){return O.g.fromEither(e.getRect())})),u.B,Object(u.w)((function(e){return e.clientRects})),Object(u.Fb)(t,(function(e,t){return{left:Math.min(t.left-n.left,e.left),top:Math.min(t.top-n.top,e.top),bottom:Math.max(t.top-n.top+t.height,e.bottom)}})))}),(function(t){return Object(s.a)(Object(o.a)({},t),{alert:e,state:"visible",mode:"replacement",withSticker:a})}))})))}(e,n._marksVM,a,!t);n.items.modify((r=l,i=n._inlineManager,c=n._activeVbarProxy.view(),function(e){var t=[];return r.forEach((function(n){var a=e.find((function(e){return e.alert.id===n.alert.id}));a?t.push(Object(s.a)(Object(o.a)({},n),{state:a.state,hoveringService:a.hoveringService})):t.push(Object(s.a)(Object(o.a)({},n),{hoveringService:Object(v.a)({onHover:function(){Object(d.pipe)(c.get(),O.g.forAll((function(e){return"opened"!==e.state})))&&i.changeActiveVbar.next(O.g.some({alertId:n.alert.id,state:"hovered"}))},onBlur:function(){Object(d.pipe)(c.get(),O.g.fold((function(){return i.changeActiveVbar.next(O.g.none)}),(function(e){e.alertId===n.alert.id&&i.changeActiveVbar.next(O.g.none)})))}},100,300)}))})),t}))})))}},{key:"_createVbarItemsSub",value:function(){var e,t,n=this;return g.a.combineLatestStatic([(e=this._checkingState,t=this._alertVisibleFilter,g.a.combineLatestStatic([e,t]).pipe(g.a.map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(d.pipe)(n,h.a.reduce([],(function(e,t){var n=t.alert,r=Object(S.b)(f.a.isVbar,a);return r(n)?Object(l.a)(e).concat([n]):e})),(function(e){return e.sort(f.d.ord.compare)}),Object(u.ub)(y.a.fromModel))})))),this._isAssistantMode,this._denaliEditorModel.changes.pipe(g.a.startWith(null)),this._denaliEditorModel.viewport]).subscribe((function(e){var t=Object(c.a)(e,4),a=t[0],r=t[1];t[2],t[3];return n._updateItems(a,r)}))}},{key:"_createCAPISub",value:function(){var e=this;return this._capiEvents.pipe(g.a.filter((function(e){return"session_started"===e.kind}))).subscribe((function(){e._mountedFeedbacks.clear()}))}}]),e}()},GaKX:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("B8yO"),r=n("RRF2"),i=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const o=a.forwardRef((function(e,t){var{children:n,rel:o}=e,s=i(e,["children","rel"]);const c=a.useMemo(()=>r.f.alphanumeric(10),[]);return a.createElement(a.Fragment,null,a.createElement("span",{hidden:!0,id:c},"Opens an external site in a new window"),a.createElement("a",Object.assign({},s,{"aria-describedby":c,target:"_blank",rel:null!=o?o:"noopener noreferrer",ref:t}),n))}))},GllM:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return g}));var a=n("B8yO"),r=n("OwvP"),i=n("4GyQ"),o=n("111I"),s=n("2swC"),c=n("NDcT"),l=n("hSa3"),u=n("ySi0"),d=n("xk6L"),p=n("PyEC");const m=e=>o.b.Grid.make(({slots:t})=>a.createElement(r.a.div,Object(i.c)(p.a.wrapper,e),t.body)),f=({alertsCount:e,extendedCard:t})=>{const n=a.useContext(c.a.Context).premiumUpHookCard.title;return a.createElement("div",{className:p.a.title},t?null:a.createElement(u.d.UpgradeHookPanel.TitleDiamond,{className:p.a.icon}),a.createElement("span",{className:p.a.titleText},n.weFound,a.createElement(r.a.span,null,e.pipe(d.a.map(e=>a.createElement("b",null,n.premiumIssues(e))))),t?n.forPremiumExtended:n.forPremium))},h=({alertsCount:e})=>a.createElement(r.a.div,{className:p.a.counter},a.createElement("svg",{"aria-hidden":!0,height:"128",width:"128"},a.createElement("circle",{cx:"50%",cy:"50%",r:"50%",fill:s.a.CoreYellow1}),a.createElement("circle",{cx:"50%",cy:"50%",r:"25%",fill:s.a.CoreYellow20})),e.pipe(d.a.map(e=>a.createElement("div",{className:p.a.counterText},e)))),g=({alert:e})=>a.createElement("div",{key:e.category,className:p.a.alertCategory},a.createElement(l.a.Counter,{count:e.count,type:"yellowPremium"}),a.createElement("div",{className:p.a.categoryHumanContainer},e.categoryHuman))},Gouu:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return w}));var a,r,i=n("LzOy"),o=n("Wy1Y"),s=n("uKMM"),c=n("a5gI"),l=n("8O/t"),u=n("X76w"),d=n("mMt2"),p=n("0Uv3"),m=n("tiWp"),f=n("+vYo"),h=n("GMJx"),g=n("/edk"),b=n("0Qjk"),v=n("ebLO"),y=n("xk6L"),O=n("mgiE"),S=n("RRF2"),C=n("M3t0");!function(e){e.Querying="querying",e.SynonymsReady="ready",e.SynonymsEmpty="empty",e.SynonymApplied="applied",e.SynonymsError="error",e.SynonymsNone="none"}(a||(a={})),function(e){e.isReady=function(e){return null!==e&&e.kind===a.SynonymsReady},e.isEmpty=function(e){return null!==e&&e.kind===a.SynonymsEmpty},e.isQuerying=function(e){return null!==e&&e.kind===a.Querying},e.isApplied=function(e){return null!==e&&e.kind===a.SynonymApplied};e.defaultState={kind:a.SynonymsNone,query:{id:-1,start:-1,word:""}}}(r||(r={}));var w,k=function(){function e(t,n,a,i){Object(o.a)(this,e),Object(c.a)(this,"positionManager",void 0),Object(c.a)(this,"_getContent",void 0),Object(c.a)(this,"_capi",void 0),Object(c.a)(this,"_ded",void 0),Object(c.a)(this,"state",void 0),Object(c.a)(this,"changes",void 0),Object(c.a)(this,"_log",void 0),this.positionManager=t,this._getContent=n,this._capi=a,this._ded=i,this.state=f.a.create(r.defaultState),this.changes=new y.a.Subject,this._log=C.d.Logging.getLogger("editor.SynonymsModelImpl")}return Object(s.a)(e,[{key:"query",value:function(e){var t=this;return Object(i.a)((function(){return Object(p.c)(this,(function(n){return t._log.trace("SynonymsQuery: "+e.word),t.state.set({kind:a.Querying,query:e}),[2,O.l.toPromise(t._capi.requestSynonyms(e.start,e.word)).then((function(n){var r=S.d.Local.Timestamp.now(),i=Object(m.pipe)(n.synonymsOrGroups,O.g.fold((function(){return{kind:a.SynonymsEmpty,query:e,synonyms:{id:n.id},readyAt:r,stats:w.emptySynonymsStats,pname:n.pname}}),(function(t){return{kind:a.SynonymsReady,query:e,synonyms:Object(u.a)(Object(l.a)({},n),{synonymsOrGroups:t}),readyAt:r,stats:w.getSynonymsStats(t),pname:n.pname}})));return t._onResponse(i),i})).catch((function(n){return t.abortQuery(),Boolean(n.message)&&-1!==n.message.indexOf("Timeout")?t._log.info("Synonyms timeout",n):t._log.warn("Error getting synonyms",n),{kind:a.SynonymsError,query:e}}))]}))}))()}},{key:"abortQuery",value:function(){var e=this.state.get();r.isQuerying(e)&&this.state.set(r.defaultState)}},{key:"_onResponse",value:function(e){var t=this,n=window.SQT;setTimeout((function(){t._log.trace("_onResponse() newState: "+e);var n=t.state.get();r.isQuerying(n)&&n.query.word===e.query.word?t.state.set(e):t._log.trace("Discarding result for "+e.query.word)}),n)}},{key:"applySynonym",value:function(e,t){var n=this;this._log.debug("_applySynonym(#".concat(e.id,")"));var r=e.range,i=r.start,o=r.end-r.start;this._ded.flushChanges();var s=this.positionManager.getTextLength(),c=Object(m.pipe)((new h.a).retain(i).delete(o).insert(t),v.a.getEnrichedWithFormattingDelta(this._getContent())),l=g.a.delta(c,s),u=c.invert(this._getContent());return this.changes.next(l),O.b.getOrElse((function(e){return n._log.error("Failed to set cursor on synonym apply.",e,{position:i})}))(this._ded.setCursor(i,0)),this.state.set({kind:a.SynonymApplied,target:e}),this._capi.sendFeedback({id:e.id,kind:b.a.SynonymFeedbackType.SYNONYM_ACCEPTED,replacementText:t})(),this._ded.flushChanges(),s=this.positionManager.getTextLength(),{action:b.a.SynonymFeedbackType.SYNONYM_ACCEPTED,replacement:t,commit:function(){n._log.debug("_applySynonym(#".concat(e.id,"):commit()")),e.dispose()},undo:function(){n._log.debug("_applySynonym(#".concat(e.id,"):undo()"));var t=n.positionManager.getTextLength();if(t===s){var a=g.a.delta(u,t);n.changes.next(a)}else n._log.error("Text has changed while uncommitted apply is present");return e.dispose(),[]}}}},{key:"ignore",value:function(e){var t=this.state.get();(r.isEmpty(t)||r.isReady(t))&&t.synonyms.id===e?this._capi.sendFeedback({id:e,kind:b.a.SynonymFeedbackType.SYNONYM_DISMISSED})():this._log.error("Tried to report ignore for an unknown synonyms id",{reportedId:e,currentState:t})}}]),e}();!function(e){var t=e.emptySynonymsStats={numberOfMeanings:0,numberOfSynonymsByMeanings:[],numberOfSynonymsTotal:0},n=function(e){return{numberOfMeanings:1,numberOfSynonymsByMeanings:[e.length],numberOfSynonymsTotal:e.length}},a=function(e){return e.reduce((function(e,t){return{numberOfMeanings:e.numberOfMeanings+1,numberOfSynonymsByMeanings:Object(d.a)(e.numberOfSynonymsByMeanings).concat([t.words.length]),numberOfSynonymsTotal:e.numberOfSynonymsTotal+t.words.length}}),t)},r=(e.getSynonymsStats=function(e){return Object(m.pipe)(e,O.b.fold(n,a))},function(e,t){var n=t.findIndex((function(t){return t===e}));return{meaningIndex:0,synonymIndexInGroup:n,synonymIndexAbs:n}}),i={meaningIndex:-1,synonymIndexInGroup:-1,synonymIndexAbs:-1};e.getSynonymStats=function(e,t){return Object(m.pipe)(t,O.b.fold((function(t){return r(e,t)}),(function(t){return function(e,t){return t.reduce((function(t,n,a){var i=t.result,o=t.numberOfLookedSynonyms,s=r(e,n.words).synonymIndexInGroup;return s>-1?{result:{meaningIndex:a,synonymIndexInGroup:s,synonymIndexAbs:o+s},numberOfLookedSynonyms:o}:{result:i,numberOfLookedSynonyms:o+n.words.length}}),{result:i,numberOfLookedSynonyms:0}).result}(e,t)})))},e.getTimeToClose=function(e){return Object(m.pipe)(e,(function(e){return S.d.Local.Timestamp.subtract(S.d.Local.Timestamp.now(),e)}),(function(e){return e/1e3}))}}(w||(w={}))},GsAQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n("8O/t"),r=n("X76w"),i=n("vGXj"),o=n("B8yO"),s=n("zCOz"),c=n("tREI");let l="undefined"!=typeof window?window.performance:null,u=l&&(l.now||l.webkitNow||l.msNow||l.mozNow);u&&u.bind(l);var d=n("M+v9"),p=n("ZqXC"),m=n("TtyI");let f=null;function h(e,t="assertive",n=7e3){f||(f=new g),f.announce(e,t,n)}class g{createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",n=7e3){if(!this.node)return;let a=document.createElement("div");a.textContent=e,"assertive"===t?this.assertiveLog.appendChild(a):this.politeLog.appendChild(a),""!==e&&setTimeout(()=>{a.remove()},n)}clear(e){this.node&&(e&&"assertive"!==e||(this.assertiveLog.innerHTML=""),e&&"polite"!==e||(this.politeLog.innerHTML=""))}constructor(){this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node)}}var b=n("Q2+j");function v(e){return e&&e.__esModule?e.default:e}new WeakMap;var y;function O(e,t){var n;let{getRowText:a=(e=>{var a,r,i;return null!==(n=null===(r=(a=t.collection).getTextValue)||void 0===r?void 0:r.call(a,e))&&void 0!==n?n:null===(i=t.collection.getItem(e))||void 0===i?void 0:i.textValue})}=e,r=(0,d.c)(v(y)),i=t.selectionManager.rawSelection,c=(0,o.useRef)(i);(0,s.B)(()=>{var e;if(!t.selectionManager.isFocused)return void(c.current=i);let n=S(i,c.current),o=S(c.current,i),s="replace"===t.selectionManager.selectionBehavior,l=[];if(1===t.selectionManager.selectedKeys.size&&s){if(t.collection.getItem(t.selectionManager.selectedKeys.keys().next().value)){let e=a(t.selectionManager.selectedKeys.keys().next().value);e&&l.push(r.format("selectedItem",{item:e}))}}else if(1===n.size&&0===o.size){let e=a(n.keys().next().value);e&&l.push(r.format("selectedItem",{item:e}))}else if(1===o.size&&0===n.size&&t.collection.getItem(o.keys().next().value)){let e=a(o.keys().next().value);e&&l.push(r.format("deselectedItem",{item:e}))}"multiple"===t.selectionManager.selectionMode&&(0===l.length||"all"===i||i.size>1||"all"===c.current||(null===(e=c.current)||void 0===e?void 0:e.size)>1)&&l.push("all"===i?r.format("selectedAll"):r.format("selectedCount",{count:i.size})),l.length>0&&h(l.join(" ")),c.current=i},[i])}function S(e,t){let n=new Set;if("all"===e||"all"===t)return n;for(let a of e.keys())t.has(a)||n.add(a);return n}function C(e){let t=(0,d.c)(v(y)),n=(0,b.j)(),a=("pointer"===n||"virtual"===n||null==n)&&"undefined"!=typeof window&&"ontouchstart"in window,r=(0,o.useMemo)(()=>{let n=e.selectionManager.selectionMode,r=e.selectionManager.selectionBehavior,i=void 0;return a&&(i=t.format("longPressToSelect")),"replace"===r&&"none"!==n&&e.hasItemActions?i:void 0},[e.selectionManager.selectionMode,e.selectionManager.selectionBehavior,e.hasItemActions,t,a]);return(0,s.r)(r)}function w(e,t){let{key:n}=e,a=t.selectionManager,r=(0,s.v)(),i=!t.selectionManager.canSelectItem(n),o=t.selectionManager.isSelected(n);return{checkboxProps:{id:r,"aria-label":(0,d.c)(v(y)).format("select"),isSelected:o,isDisabled:i,onChange:()=>a.select(n)}}}y={"ar-AE":{deselectedItem:e=>e.item+" غير المحدد",longPressToSelect:"اضغط مطولًا للدخول إلى وضع التحديد.",select:"تحديد",selectedAll:"جميع العناصر المحددة.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"لم يتم تحديد عناصر",one:()=>t.number(e.count)+" عنصر محدد",other:()=>t.number(e.count)+" عنصر محدد"})+".",selectedItem:e=>e.item+" المحدد"},"bg-BG":{deselectedItem:e=>e.item+" не е избран.",longPressToSelect:"Натиснете и задръжте за да влезете в избирателен режим.",select:"Изберете",selectedAll:"Всички елементи са избрани.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Няма избрани елементи",one:()=>t.number(e.count)+" избран елемент",other:()=>t.number(e.count)+" избрани елементи"})+".",selectedItem:e=>e.item+" избран."},"cs-CZ":{deselectedItem:e=>`Položka ${e.item} není vybrána.`,longPressToSelect:"Dlouhým stisknutím přejdete do režimu výběru.",select:"Vybrat",selectedAll:"Vybrány všechny položky.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nevybrány žádné položky",one:()=>`Vybrána ${t.number(e.count)} položka`,other:()=>`Vybráno ${t.number(e.count)} položek`})+".",selectedItem:e=>`Vybrána položka ${e.item}.`},"da-DK":{deselectedItem:e=>e.item+" ikke valgt.",longPressToSelect:"Lav et langt tryk for at aktivere valgtilstand.",select:"Vælg",selectedAll:"Alle elementer valgt.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Ingen elementer valgt",one:()=>t.number(e.count)+" element valgt",other:()=>t.number(e.count)+" elementer valgt"})+".",selectedItem:e=>e.item+" valgt."},"de-DE":{deselectedItem:e=>e.item+" nicht ausgewählt.",longPressToSelect:"Gedrückt halten, um Auswahlmodus zu öffnen.",select:"Auswählen",selectedAll:"Alle Elemente ausgewählt.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Keine Elemente ausgewählt",one:()=>t.number(e.count)+" Element ausgewählt",other:()=>t.number(e.count)+" Elemente ausgewählt"})+".",selectedItem:e=>e.item+" ausgewählt."},"el-GR":{deselectedItem:e=>`Δεν επιλέχθηκε το στοιχείο ${e.item}.`,longPressToSelect:"Πατήστε παρατεταμένα για να μπείτε σε λειτουργία επιλογής.",select:"Επιλογή",selectedAll:"Επιλέχθηκαν όλα τα στοιχεία.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Δεν επιλέχθηκαν στοιχεία",one:()=>`Επιλέχθηκε ${t.number(e.count)} στοιχείο`,other:()=>`Επιλέχθηκαν ${t.number(e.count)} στοιχεία`})+".",selectedItem:e=>`Επιλέχθηκε το στοιχείο ${e.item}.`},"en-US":{deselectedItem:e=>e.item+" not selected.",select:"Select",selectedCount:(e,t)=>t.plural(e.count,{"=0":"No items selected",one:()=>t.number(e.count)+" item selected",other:()=>t.number(e.count)+" items selected"})+".",selectedAll:"All items selected.",selectedItem:e=>e.item+" selected.",longPressToSelect:"Long press to enter selection mode."},"es-ES":{deselectedItem:e=>e.item+" no seleccionado.",longPressToSelect:"Mantenga pulsado para abrir el modo de selección.",select:"Seleccionar",selectedAll:"Todos los elementos seleccionados.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Ningún elemento seleccionado",one:()=>t.number(e.count)+" elemento seleccionado",other:()=>t.number(e.count)+" elementos seleccionados"})+".",selectedItem:e=>e.item+" seleccionado."},"et-EE":{deselectedItem:e=>e.item+" pole valitud.",longPressToSelect:"Valikurežiimi sisenemiseks vajutage pikalt.",select:"Vali",selectedAll:"Kõik üksused valitud.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Üksusi pole valitud",one:()=>t.number(e.count)+" üksus valitud",other:()=>t.number(e.count)+" üksust valitud"})+".",selectedItem:e=>e.item+" valitud."},"fi-FI":{deselectedItem:e=>`Kohdetta ${e.item} ei valittu.`,longPressToSelect:"Siirry valintatilaan painamalla pitkään.",select:"Valitse",selectedAll:"Kaikki kohteet valittu.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Ei yhtään kohdetta valittu",one:()=>t.number(e.count)+" kohde valittu",other:()=>t.number(e.count)+" kohdetta valittu"})+".",selectedItem:e=>e.item+" valittu."},"fr-FR":{deselectedItem:e=>e.item+" non sélectionné.",longPressToSelect:"Appuyez de manière prolongée pour passer en mode de sélection.",select:"Sélectionner",selectedAll:"Tous les éléments sélectionnés.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Aucun élément sélectionné",one:()=>t.number(e.count)+" élément sélectionné",other:()=>t.number(e.count)+" éléments sélectionnés"})+".",selectedItem:e=>e.item+" sélectionné."},"he-IL":{deselectedItem:e=>e.item+" לא נבחר.",longPressToSelect:"הקשה ארוכה לכניסה למצב בחירה.",select:"בחר",selectedAll:"כל הפריטים נבחרו.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"לא נבחרו פריטים",one:()=>`פריט ${t.number(e.count)} נבחר`,other:()=>t.number(e.count)+" פריטים נבחרו"})+".",selectedItem:e=>e.item+" נבחר."},"hr-HR":{deselectedItem:e=>`Stavka ${e.item} nije odabrana.`,longPressToSelect:"Dugo pritisnite za ulazak u način odabira.",select:"Odaberite",selectedAll:"Odabrane su sve stavke.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nije odabrana nijedna stavka",one:()=>`Odabrana je ${t.number(e.count)} stavka`,other:()=>`Odabrano je ${t.number(e.count)} stavki`})+".",selectedItem:e=>`Stavka ${e.item} je odabrana.`},"hu-HU":{deselectedItem:e=>e.item+" nincs kijelölve.",longPressToSelect:"Nyomja hosszan a kijelöléshez.",select:"Kijelölés",selectedAll:"Az összes elem kijelölve.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Egy elem sincs kijelölve",one:()=>t.number(e.count)+" elem kijelölve",other:()=>t.number(e.count)+" elem kijelölve"})+".",selectedItem:e=>e.item+" kijelölve."},"it-IT":{deselectedItem:e=>e.item+" non selezionato.",longPressToSelect:"Premi a lungo per passare alla modalità di selezione.",select:"Seleziona",selectedAll:"Tutti gli elementi selezionati.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nessun elemento selezionato",one:()=>t.number(e.count)+" elemento selezionato",other:()=>t.number(e.count)+" elementi selezionati"})+".",selectedItem:e=>e.item+" selezionato."},"ja-JP":{deselectedItem:e=>e.item+" が選択されていません。",longPressToSelect:"長押しして選択モードを開きます。",select:"選択",selectedAll:"すべての項目を選択しました。",selectedCount:(e,t)=>t.plural(e.count,{"=0":"項目が選択されていません",one:()=>t.number(e.count)+" 項目を選択しました",other:()=>t.number(e.count)+" 項目を選択しました"})+"。",selectedItem:e=>e.item+" を選択しました。"},"ko-KR":{deselectedItem:e=>e.item+"이(가) 선택되지 않았습니다.",longPressToSelect:"선택 모드로 들어가려면 길게 누르십시오.",select:"선택",selectedAll:"모든 항목이 선택되었습니다.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"선택된 항목이 없습니다",one:()=>t.number(e.count)+"개 항목이 선택되었습니다",other:()=>t.number(e.count)+"개 항목이 선택되었습니다"})+".",selectedItem:e=>e.item+"이(가) 선택되었습니다."},"lt-LT":{deselectedItem:e=>e.item+" nepasirinkta.",longPressToSelect:"Norėdami įjungti pasirinkimo režimą, paspauskite ir palaikykite.",select:"Pasirinkti",selectedAll:"Pasirinkti visi elementai.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nepasirinktas nė vienas elementas",one:()=>`Pasirinktas ${t.number(e.count)} elementas`,other:()=>"Pasirinkta elementų: "+t.number(e.count)})+".",selectedItem:e=>`Pasirinkta: ${e.item}.`},"lv-LV":{deselectedItem:e=>`Vienums ${e.item} nav atlasīts.`,longPressToSelect:"Ilgi turiet nospiestu. lai ieslēgtu atlases režīmu.",select:"Atlasīt",selectedAll:"Atlasīti visi vienumi.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nav atlasīts neviens vienums",one:()=>"Atlasīto vienumu skaits: "+t.number(e.count),other:()=>"Atlasīto vienumu skaits: "+t.number(e.count)})+".",selectedItem:e=>`Atlasīts vienums ${e.item}.`},"nb-NO":{deselectedItem:e=>e.item+" er ikke valgt.",longPressToSelect:"Bruk et langt trykk for å gå inn i valgmodus.",select:"Velg",selectedAll:"Alle elementer er valgt.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Ingen elementer er valgt",one:()=>t.number(e.count)+" element er valgt",other:()=>t.number(e.count)+" elementer er valgt"})+".",selectedItem:e=>e.item+" er valgt."},"nl-NL":{deselectedItem:e=>e.item+" niet geselecteerd.",longPressToSelect:"Druk lang om de selectiemodus te openen.",select:"Selecteren",selectedAll:"Alle items geselecteerd.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Geen items geselecteerd",one:()=>t.number(e.count)+" item geselecteerd",other:()=>t.number(e.count)+" items geselecteerd"})+".",selectedItem:e=>e.item+" geselecteerd."},"pl-PL":{deselectedItem:e=>`Nie zaznaczono ${e.item}.`,longPressToSelect:"Naciśnij i przytrzymaj, aby wejść do trybu wyboru.",select:"Zaznacz",selectedAll:"Wszystkie zaznaczone elementy.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nie zaznaczono żadnych elementów",one:()=>t.number(e.count)+" zaznaczony element",other:()=>t.number(e.count)+" zaznaczonych elementów"})+".",selectedItem:e=>`Zaznaczono ${e.item}.`},"pt-BR":{deselectedItem:e=>e.item+" não selecionado.",longPressToSelect:"Mantenha pressionado para entrar no modo de seleção.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>t.number(e.count)+" item selecionado",other:()=>t.number(e.count)+" itens selecionados"})+".",selectedItem:e=>e.item+" selecionado."},"pt-PT":{deselectedItem:e=>e.item+" não selecionado.",longPressToSelect:"Prima continuamente para entrar no modo de seleção.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>t.number(e.count)+" item selecionado",other:()=>t.number(e.count)+" itens selecionados"})+".",selectedItem:e=>e.item+" selecionado."},"ro-RO":{deselectedItem:e=>e.item+" neselectat.",longPressToSelect:"Apăsați lung pentru a intra în modul de selectare.",select:"Selectare",selectedAll:"Toate elementele selectate.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Niciun element selectat",one:()=>t.number(e.count)+" element selectat",other:()=>t.number(e.count)+" elemente selectate"})+".",selectedItem:e=>e.item+" selectat."},"ru-RU":{deselectedItem:e=>e.item+" не выбрано.",longPressToSelect:"Нажмите и удерживайте для входа в режим выбора.",select:"Выбрать",selectedAll:"Выбраны все элементы.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Нет выбранных элементов",one:()=>t.number(e.count)+" элемент выбран",other:()=>t.number(e.count)+" элементов выбрано"})+".",selectedItem:e=>e.item+" выбрано."},"sk-SK":{deselectedItem:e=>`Nevybraté položky: ${e.item}.`,longPressToSelect:"Dlhším stlačením prejdite do režimu výberu.",select:"Vybrať",selectedAll:"Všetky vybraté položky.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Žiadne vybraté položky",one:()=>t.number(e.count)+" vybratá položka",other:()=>"Počet vybratých položiek:"+t.number(e.count)})+".",selectedItem:e=>`Vybraté položky: ${e.item}.`},"sl-SI":{deselectedItem:e=>`Element ${e.item} ni izbran.`,longPressToSelect:"Za izbirni način pritisnite in dlje časa držite.",select:"Izberite",selectedAll:"Vsi elementi so izbrani.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Noben element ni izbran",one:()=>t.number(e.count)+" element je izbran",other:()=>t.number(e.count)+" elementov je izbranih"})+".",selectedItem:e=>`Element ${e.item} je izbran.`},"sr-SP":{deselectedItem:e=>e.item+" nije izabrano.",longPressToSelect:"Dugo pritisnite za ulazak u režim biranja.",select:"Izaberite",selectedAll:"Izabrane su sve stavke.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nije izabrana nijedna stavka",one:()=>`Izabrana je ${t.number(e.count)} stavka`,other:()=>`Izabrano je ${t.number(e.count)} stavki`})+".",selectedItem:e=>e.item+" je izabrano."},"sv-SE":{deselectedItem:e=>e.item+" ej markerat.",longPressToSelect:"Tryck länge när du vill öppna väljarläge.",select:"Markera",selectedAll:"Alla markerade objekt.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Inga markerade objekt",one:()=>t.number(e.count)+" markerat objekt",other:()=>t.number(e.count)+" markerade objekt"})+".",selectedItem:e=>e.item+" markerat."},"tr-TR":{deselectedItem:e=>e.item+" seçilmedi.",longPressToSelect:"Seçim moduna girmek için uzun basın.",select:"Seç",selectedAll:"Tüm ögeler seçildi.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Hiçbir öge seçilmedi",one:()=>t.number(e.count)+" öge seçildi",other:()=>t.number(e.count)+" öge seçildi"})+".",selectedItem:e=>e.item+" seçildi."},"uk-UA":{deselectedItem:e=>e.item+" не вибрано.",longPressToSelect:"Виконайте довге натиснення, щоб перейти в режим вибору.",select:"Вибрати",selectedAll:"Усі елементи вибрано.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Жодних елементів не вибрано",one:()=>t.number(e.count)+" елемент вибрано",other:()=>"Вибрано елементів: "+t.number(e.count)})+".",selectedItem:e=>e.item+" вибрано."},"zh-CN":{deselectedItem:e=>`未选择 ${e.item}。`,longPressToSelect:"长按以进入选择模式。",select:"选择",selectedAll:"已选择所有项目。",selectedCount:(e,t)=>t.plural(e.count,{"=0":"未选择项目",one:()=>`已选择 ${t.number(e.count)} 个项目`,other:()=>`已选择 ${t.number(e.count)} 个项目`})+"。",selectedItem:e=>`已选择 ${e.item}。`},"zh-TW":{deselectedItem:e=>`未選取「${e.item}」。`,longPressToSelect:"長按以進入選擇模式。",select:"選取",selectedAll:"已選取所有項目。",selectedCount:(e,t)=>t.plural(e.count,{"=0":"未選取任何項目",one:()=>`已選取 ${t.number(e.count)} 個項目`,other:()=>`已選取 ${t.number(e.count)} 個項目`})+"。",selectedItem:e=>`已選取「${e.item}」。`}};const k=new WeakMap;function E(e,t){let{id:n}=k.get(e);if(!n)throw new Error("Unknown list");return`${n}-${function(e){return"string"==typeof e?e.replace(/\s*/g,""):""+e}(t)}`}function j(e){let t,n;do{n=e.lastChild(),n&&(t=n)}while(n);return t}function _(e,t){let{key:n}=e;const{checkboxProps:a}=w(e,t);return{checkboxProps:{...a,"aria-labelledby":`${a.id} ${E(t,n)}`}}}var x,A=n("huq3"),I=n("O+SZ"),T=n("4GyQ"),M=n("+vYo"),P=n("xk6L"),N=n("RRF2"),D=n("4lxU"),B=n("zK/v"),L=n("nWMp"),F=n("7IMz");!function(e){function t(e){var{theme:t={},itemAnimationMode:c,assistiveScroll:l=!1,onClick:u}=e;const d=Object(i.a)(e,["theme","itemAnimationMode","assistiveScroll","onClick"]),h=Object(A.a)(d),g=o.useRef(null),{gridProps:b}=function(e,t,n){let{isVirtualized:a,keyboardDelegate:r,onAction:i}=e;e["aria-label"]||e["aria-labelledby"]||console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let{listProps:o}=(0,m.d)({selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,ref:n,keyboardDelegate:r,isVirtualized:a,selectOnFocus:"replace"===t.selectionManager.selectionBehavior,shouldFocusWrap:e.shouldFocusWrap}),c=(0,s.v)(e.id);k.set(t,{id:c,onAction:i});let l=C({selectionManager:t.selectionManager,hasItemActions:!!i}),u=(0,p.g)(n,{isDisabled:0!==t.collection.size}),d=(0,s.b)(e,{labelable:!0}),f=(0,s.l)(d,{role:"grid",id:c,"aria-multiselectable":"multiple"===t.selectionManager.selectionMode?"true":void 0},0===t.collection.size?{tabIndex:u?-1:0}:o,l);return a&&(f["aria-rowcount"]=t.collection.size,f["aria-colcount"]=1),O({},t),{gridProps:f}}(d,h,g);return o.createElement("ul",Object(a.a)(Object(r.a)(Object(a.a)({},b),{ref:g}),Object(T.c)(f.list,t.list)),Array.from(h.collection).map(e=>o.createElement(n,{key:e.key,item:e,state:h,theme:t.item,animationMode:c,assistiveScroll:l,onClick:u})))}e.List=t,e.LiftedList=function(e){return Object(T.d)(t)(e)};e.Item=c.a;function n({item:e,state:t,animationMode:n,assistiveScroll:c,onClick:u,showCheckbox:h=!1,theme:g={}}){const v=o.useRef(null),{rowProps:y,gridCellProps:O,isPressed:S}=function(e,t,n){let{node:a,isVirtualized:r,shouldSelectOnPressUp:i}=e,{direction:c}=(0,d.b)(),{onAction:l}=k.get(t),u=(0,s.z)(),f=(0,o.useRef)(null),{itemProps:h,...g}=(0,m.c)({selectionManager:t.selectionManager,key:a.key,ref:n,isVirtualized:r,shouldSelectOnPressUp:i,onAction:l?()=>l(a.key):void 0,focus:()=>{(null!=f.current&&a.key!==f.current||!n.current.contains(document.activeElement))&&(0,p.b)(n.current)}}),v=(0,s.l)(h,{role:"row",onKeyDownCapture:e=>{if(!e.currentTarget.contains(e.target))return;let t=(0,p.c)(n.current);switch(t.currentNode=document.activeElement,e.key){case"ArrowLeft":{let a="rtl"===c?t.nextNode():t.previousNode();if(a)e.preventDefault(),e.stopPropagation(),(0,p.b)(a),(0,s.p)(a,{containingElement:(0,s.d)(n.current)});else if(e.preventDefault(),e.stopPropagation(),"rtl"===c)(0,p.b)(n.current),(0,s.p)(n.current,{containingElement:(0,s.d)(n.current)});else{t.currentNode=n.current;let e=j(t);e&&((0,p.b)(e),(0,s.p)(e,{containingElement:(0,s.d)(n.current)}))}break}case"ArrowRight":{let a="rtl"===c?t.previousNode():t.nextNode();if(a)e.preventDefault(),e.stopPropagation(),(0,p.b)(a),(0,s.p)(a,{containingElement:(0,s.d)(n.current)});else if(e.preventDefault(),e.stopPropagation(),"ltr"===c)(0,p.b)(n.current),(0,s.p)(n.current,{containingElement:(0,s.d)(n.current)});else{t.currentNode=n.current;let e=j(t);e&&((0,p.b)(e),(0,s.p)(e,{containingElement:(0,s.d)(n.current)}))}break}case"ArrowUp":case"ArrowDown":!e.altKey&&n.current.contains(e.target)&&(e.stopPropagation(),e.preventDefault(),n.current.parentElement.dispatchEvent(new KeyboardEvent(e.nativeEvent.type,e.nativeEvent)))}},onFocus:e=>{f.current=a.key,e.target===n.current||(0,b.c)()||t.selectionManager.setFocusedKey(a.key)},"aria-label":a.textValue||void 0,"aria-selected":t.selectionManager.canSelectItem(a.key)?t.selectionManager.isSelected(a.key):void 0,"aria-disabled":t.selectionManager.isDisabled(a.key)||void 0,"aria-labelledby":u&&a.textValue?`${E(t,a.key)} ${u}`:void 0,id:E(t,a.key)});return r&&(v["aria-rowindex"]=a.index+1),{rowProps:v,gridCellProps:{role:"gridcell","aria-colindex":1},descriptionProps:{id:u},...g}}({node:e},t,v),{isFocusVisible:C,focusProps:w}=Object(p.e)(),_=o.useMemo(()=>new I.a,[]),x=o.useCallback(()=>null!=n&&o.createElement(B.b,{mouseDownEvents:_,animationMode:n,className:g.ripple}),[_,n,g.ripple]);o.useEffect(()=>{var e;c&&C&&(null===(e=v.current)||void 0===e||e.scrollIntoView({block:"nearest"}))},[C,c]);const A=h&&"none"!==t.selectionManager.selectionMode&&"toggle"===t.selectionManager.selectionBehavior,{onPointerDown:M}=y,D=Object(i.a)(y,["onPointerDown"]),L=Object(s.l)(D,w,{onPointerDown:e=>{var t;_.next({pageX:e.pageX,pageY:e.pageY}),null===(t=M)||void 0===t||t(e)}});return F.a.useEffectOnDidMount(()=>{var e;v.current&&(e=v.current,N.c.findAll(N.c.Guardians.isButtonLike)(e).forEach(e=>{var t;const n=null===(t=e.onpointerdown)||void 0===t?void 0:t.bind(e);e.onpointerdown=e=>{var t;e.stopPropagation(),null===(t=n)||void 0===t||t(e)}}))}),F.a.useSubscriptionTo(_.pipe(P.a.map(t=>{var n;return null===(n=u)||void 0===n?void 0:n({key:e.key,clickPoint:{x:Math.floor(t.pageX),y:Math.floor(t.pageY)}})}))),o.createElement("li",Object(a.a)(Object(r.a)(Object(a.a)({},L),{ref:v}),Object(T.c)("none"!==t.selectionManager.selectionMode?f.selectableItem:f.item,S?g.pressed:void 0,C?g.focused:void 0,g.base)),o.createElement("div",O,A&&o.createElement(l,{item:e,state:t}),e.rendered),x())}function l({item:e,state:t}){const{checkboxProps:n}=_({key:e.key},t);return o.createElement(D.a,Object(r.a)(Object(a.a)({name:e.textValue+"-checkbox"},n),{checked:M.a.create(Boolean(n.isSelected))}))}const u={position:"relative",overflow:"hidden",$nest:{'& > [role="gridcell"]':{display:"flex",justifyContent:"space-between",alignItems:"center",width:L.a.percent(100)}}},f=L.a.stylesheet({list:[{listStyle:"none",overflow:"auto",padding:0}],item:[u],selectableItem:[u,{cursor:"pointer"}]})}(x||(x={}))},Gwvb:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a,r,i,o=n("a5gI"),s=n("CulD"),c=n("DTwm"),l=n("tiWp"),u=n("mgiE"),d=n("TKPA"),p=n("0kuo"),m=n("Hj2R"),f=n("D2TP"),h=n("xk6L"),g=n("yIk2"),b=n("LFoX"),v=n("d3CI"),y=n("rtUA");!function(e){let t;!function(e){e.AppliedAlertAnimationFinished="AppliedAlertAnimationFinished"}(t=e.Type||(e.Type={}))}(a||(a={})),function(e){e.Mock=class{ensureAlertHighlightInViewport(){throw new Error("Method not implemented.")}getMarkByAlert(e){throw new Error("Method not implemented.")}getEnclosingMarkByAlert(e){throw new Error("Method not implemented.")}getAlertByMark(e){throw new Error("Method not implemented.")}constructor(){Object(o.a)(this,"events",new h.a.Subject),Object(o.a)(this,"focusAlertHighlight",()=>u.b.left(new Error("Method not implemented."))),Object(o.a)(this,"highlightAlertHighlight",()=>u.b.left(new Error("Method not implemented."))),Object(o.a)(this,"moveCursorToHighlight",d.e)}},e.getHighlightIndex=function(e,t){return Object(l.pipe)(t,u.b.mapLeft(()=>new Error("Mark is collapsed")),u.b.chain(t=>u.b.tryCatchError(()=>{const n=e.getHighlightRanges(),a=n.length>1?n.findIndex(e=>e.start===t.start&&e.end===t.end):0;return Object(p.f)(-1!==a,"Could not find highlight index by Range for provided Alert",()=>JSON.stringify({alertRanges:n,targetRange:t})),a})))}}(r||(r={})),function(e){var t=e.getHighlightSubscription=(e,t,n)=>e.pipe(h.a.distinctUntilChanged(u.g.getEq(m.d.ord).equals),h.a.switchMap(e=>Object(l.pipe)(e,u.g.fold(()=>h.a.EMPTY,e=>h.a.Observable.create(()=>(n.debug("highlight mark: "+e.id),Object(l.pipe)(t.highlightAlertHighlight(e),u.b.fold(t=>(n.error("Cannot highlight mark",t,{alertId:e.id}),d.e),t=>()=>{n.debug("unhighlight mark: "+e.id),t.dispose()})))))))),n=(e.getHoverAlertHightlightSource=(e,t,n,a)=>Object(l.pipe)(a,h.a.debounceTime(100),h.a.map(Object(c.flow)(u.g.chain(a=>{const r=e.get();return v.e.hasCards(r)?r.currentLens.items.find(e=>Object(l.pipe)(t.hasActiveAlert(e),u.g.map(e=>e.alert),u.g.exists(t=>e.id===a&&n.isRegistered(t.id)))):u.g.none}),u.g.chain(({value:e})=>t.hasActiveAlert(e)),u.g.map(e=>e.alert))),h.a.distinctUntilChanged(u.g.getEq(m.d.ord).equals),h.a.map(u.g.map(t=>({alert:t,highlightIndex:0,source:e.get().alertSource}))),h.a.startWith(u.g.none)),e.highlightMarkByHighlightedCard=(e,n,a,r,i,o)=>{const s=t(e.hovered.pipe(h.a.debounceTime(100),h.a.map(Object(c.flow)(u.g.chain(e=>{const t=n.get();return v.e.hasCards(t)?t.currentLens.items.find(t=>Object(l.pipe)(i.hasActiveAlert(t),u.g.map(e=>e.alert),u.g.exists(n=>t.id===e&&r.isRegistered(n.id)))):u.g.none}),u.g.chain(({value:e})=>i.hasActiveAlert(e)),u.g.map(e=>e.alert)))),a,o);return{id:"highlightMarkByHighlightedAlert",when:f.a.isWithAlertsId,what:v.e.Effect.Applicator.create(s.pipe(h.a.switchMapTo(h.a.NEVER)))}},e.getAlertHighlightSource=e=>t=>Object(l.pipe)(t,h.a.distinctUntilChanged(u.g.getEq(m.d.ord).equals),h.a.map(u.g.map(t=>({alert:t,source:e,highlightIndex:0}))),h.a.startWith(u.g.none)),e.getActiveHighlightSource=(e,t,n)=>e.view(v.e.mapper(({currentLens:e,alertSource:t})=>Object(l.pipe)(n(e),u.g.map(e=>({alert:e.activeAlert,source:t,highlightIndex:e.activeHighlightIndex}))))).pipe(h.a.switchMap(g.b.Scheduler.rafScheduler),h.a.skipBy(u.g.getEq(b.a.getEq())),h.a.map(u.g.filter(e=>u.g.isSome(t.getRegistered(e.alert.id))))));e.focusMarkByActiveAlert=(e,t,a,r,i,o=h.a.of(!0))=>{const s=Object(l.pipe)(n(e,a,r),h.a.tap(u.g.tap(e=>i.trace("new alert highlight: ",e))),h.a.withLatestFrom(o),h.a.switchMap(([e,n])=>Object(l.pipe)(e,u.g.fold(()=>(i.debug("Nothing to focus"),h.a.EMPTY),e=>h.a.Observable.create(()=>(i.debug(`Focus mark: ${e.alert.id} | ${e.highlightIndex}`),e.source===m.b.sidebar&&n&&t.moveCursorToHighlight(e,"start"),Object(l.pipe)(t.focusAlertHighlight(e),u.b.fold(t=>(i.error("Cannot focus mark",t,{alertId:e.alert.id,highlightIndex:e.highlightIndex}),d.e),t=>()=>{i.debug(`Unfocus mark: ${e.alert.id} | ${e.highlightIndex}'`),t.dispose()}))))))));return{id:"focusMarkByActiveAlert",when:f.a.isWithAlertsId,what:v.e.Effect.Applicator.create(s.pipe(h.a.switchMapTo(h.a.NEVER)))}},e.focusAlertByClickedMark=(e,t,n)=>({id:"focusAlertByActiveMark",when:v.e.Effect.When.isSidebarOpen,what:v.e.Effect.SwitchAlert.create(e.pipe(h.a.skip(1),h.b.compact,h.a.withLatestFrom(t.pipe(h.a.filter(v.e.hasCards))),h.a.filter(([e,t])=>m.a.State.isRegistered(e.alert.state)&&Object(l.pipe)(e.alert,y.a.findItemWithAlertInLens(t.currentLens,n),u.g.isSome)),h.a.map(s.b),h.a.map(({alert:e,highlightIndex:t})=>({alertHighlight:{alert:e,highlightIndex:t},alertSource:m.b.text,options:{order:"textOrder"}}))))});e.createOnAlertApplySideEffect=function(e,t){const n=e.pipe(h.a.map(e=>n=>e.type===a.Type.AppliedAlertAnimationFinished&&n.currentLens.meta.filter(e.alert)&&m.a.isApplicableAlert(e.alert)&&v.e.hasItems(n)?n.patch({currentLens:t.finishApplyAnimation([e.alert])(n.currentLens),alertSource:e.alert.state.source}):n));return{id:"onAlertApply",when:v.e.Effect.When.isSidebarOpen,what:v.e.Effect.Applicator.create(n)}}}(i||(i={}))},H2Tl:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n("hcme"),r=n("mMt2"),i=n("B8yO"),o=n("wuWi"),s=n("RRF2"),c=n("a5gI"),l=n("nWMp"),u=n("Frap"),d=n("PltQ"),p=n("2swC").a.CoreNeutral0,m={position:"relative",width:l.a.percent(100),height:l.a.vh(100),boxShadow:"0 -25px 56px 0 rgba(96, 101, 123, .05)"},f={position:"absolute",top:l.a.percent(30),overflow:"hidden",width:l.a.percent(100),height:l.a.rem(24),$nest:Object(c.a)({"&::after":{position:"absolute",top:0,left:0,width:l.a.percent(100),height:l.a.percent(100),backgroundImage:"linear-gradient(-180deg, ".concat(p," 5%, ").concat(u.transparent," 50%, ").concat(p," 95%)"),content:"''"}},"@media (".concat(l.d.smallHeightMedia,")"),{top:l.a.percent(15)})},h={opacity:0,animationName:l.a.keyframes({"0%":{opacity:1},"100%":{opacity:0}}),animationDuration:"1s",animationIterationCount:1,$nest:{"&:nth-child(2)":{animationDelay:".1s"},"&:nth-child(3)":{animationDelay:".3s"}}},g={padding:"0 ".concat(l.a.rem(1)),color:d.j,lineHeight:l.a.rem(3),transition:"color .3s",willChange:"color"},b=l.a.stylesheet({wrapper:[m],checkingWrapper:[f],dot:[{transition:"opacity .6s",transitionDelay:".3s",$nest:{"&:nth-child(2)":{transitionDelay:".5s"},"&:nth-child(3)":{transitionDelay:".7s"}}}],dotOptimized:[h],item:[g]}),v=n("No46"),y={position:"absolute",width:l.a.percent(100),$nest:{"&:last-child:after":{position:"absolute",top:l.a.rem(3),width:l.a.percent(100),height:l.a.rem(3),content:"''",pointerEvents:"none"}}},O={transition:"transform ".concat(l.a.seconds(.3))},S=l.a.stylesheet({flowPosition:[y],flowPositionAnimate:[O]}),C=function(e){var t=e.offset,n=e.theme||S,a=n.flowPosition,r=n.flowPositionAnimate;return i.createElement("div",{style:{transform:"translate3d(0, ".concat(t,", 0)")},className:"".concat(a," ").concat(r)},e.children)},w=Object(r.a)(["Conjunctions","Determiners","Fluency","Modifiers","Nouns","Numerals","Prepositions","Pronouns","Punctuation","Syntax","Spelling","Verbs","Word Order"]).concat(Object(r.a)(["Conciseness","References","Voice"]),Object(r.a)(["Formality","Sensitivity","Variety","Vocabulary","Conventions"])).map((function(e){return{id:e,title:e}})),k=function(e){return i.createElement("span",null,i.createElement("span",{className:b.dotOptimized},"."),i.createElement("span",{className:b.dotOptimized},"."),i.createElement("span",{className:b.dotOptimized,onAnimationEnd:e.onTransitionEnd},"."))},E=function(){var e=Object(a.a)(i.useState((function(){return s.a.shuffle(w)})),2),t=e[0],n=e[1],r=i.useCallback((function(){n((function(e){var t=e.slice(0),n=t.shift();return n&&t.push(n),t}))}),[]);return i.createElement("div",{className:b.wrapper},i.createElement("div",{className:b.checkingWrapper},t.slice(0,8).map((function(e,t){var n=e.id,a=e.title;return i.createElement(C,{key:n,offset:"".concat(100*t,"%"),theme:v.a},i.createElement(o.a,{className:b.item},a,5===t&&i.createElement(k,{onTransitionEnd:r})))}))))}},HDmH:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var a=n("lKCo"),r=n("DTwm"),i=n("pbOK"),o=n("GMJx"),s=n("B/Ki");const c=i.s(i.z({ops:i.t(i.B([i.z({insert:i.s(i.w)}),i.z({retain:i.s(i.q)}),i.z({delete:i.s(i.q)})]))}));function l(e){return Object(r.pipe)(e,a.fromPredicate(c.is),a.map(e=>new o.a([...e.ops])))}function u(e,t){return e.reduce((e,t)=>(s.a.isInsertString(t)?(e.text=`${e.text.substring(0,e.index)}${t.insert}${e.text.substring(e.index)}`,e.index+=t.insert.length):s.a.isDelete(t)?e.text=`${e.text.substring(0,e.index)}${e.text.substring(e.index+t.delete)}`:s.a.isRetain(t)?e.index+=t.retain:function(e){var t;return s.a.isInsertEmbed(e)&&!0===(null===(t=e.insert)||void 0===t?void 0:t.linebreak)}(t)&&(e.text=`${e.text.substring(0,e.index)}\n${e.text.substring(e.index)}`,e.index+=1),e),{text:t,index:0}).text}},HGxo:function(e,t,n){"use strict";var a;function r(e){const t=e.replace(/\s/g,"");return null!==e&&null!==t.match(/^["'”“.,;:!?\\\/…\-—()]+$/)}function i(e){return null!==e&&null!==e.match(/^\s+$/)}function o(e,t){if(e.length<=4)return null;const n=s(e,t);if(void 0===n)return null;const{from:a,to:r,oldFragment:i,newFragment:o}=n,c=1===o.length&&a>0&&e[a-1]===o,l=1===i.length&&0===o.length&&t[a-1]===i;let u=a,d=o;return(c||l)&&(u=a-1),c&&(d=o+o),l&&(d=i),d.length>3?null:[e.substring(0,u),d,e.substring(r)]}function s(e,t){if(e===t)return;const n=e.length,a=t.length;if(a>n){if(t.substr(0,n)===e)return{from:n,to:n,oldFragment:"",newFragment:t.substr(n)};if(t.substr(a-n)===e)return{from:0,to:0,oldFragment:"",newFragment:t.substr(0,a-n)}}if(a<n){if(e.substr(n-a)===t)return{from:0,to:n-a,oldFragment:e.substr(0,n-a),newFragment:""};if(e.substr(0,a)===t)return{from:a,to:n,oldFragment:e.substr(a),newFragment:""}}const r=a<n?a:n,i=function(e,t,n){let a=0;for(;e[a]===t[a]&&a<n;)a+=1;return a}(e,t,r);let o=function(e,t,n,a,r){let i=0;for(;e[n-i-1]===t[a-i-1]&&r-i>=0;)i+=1;return i}(e,t,n,a,r);return i+o>n&&(o-=i+o-n),i+o>a&&(o-=i+o-a),{from:i,to:n-o,oldFragment:e.substr(i,n-o-i),newFragment:t.substr(i,a-o-i)}}n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return s})),function(e){e.getClass=function(e,t){return null!==(n=t)&&1===n.length&&/["'”’]/.test(n)?e.deleteApostrophe:function(e){return null!==e&&null!==e.match(/["'”][.,;]/)}(t)?e.deleteQuote:r(t)?e.deletePunctuation:function(e){return null!==e&&null!==e.match(/,,/)}(t)?e.deleteDoubleComma:function(e){return null!==e&&1===e.length&&null!==e.match(/[a-z]/i)}(t)?e.deleteLetter:Boolean(function(e){return null!==e&&e.match(/[.,;:!?\\\/-]\s*[a-z]/i)}(t))?e.deletePunctuationBeforeLetter:e.deleteAll;var n}}(a||(a={}))},Hby5:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return u}));var a,r,i,o=n("8O/t"),s=n("X76w"),c=n("U9Go"),l=n("Hj2R");function u(e){return e.from.visualState===i.initial||e.from.visualState===i.hidden||e.to.visualState===i.highlighted}!function(e){e.eq=Object(c.c)(e=>e.alert)(l.d.ordId),e.isPending=e=>null!==e.state.scheduled&&(e.state.scheduled.visualState!==e.state.current.visualState||e.state.scheduled.updateRanges||e.state.scheduled.forceUpdate),e.isOneOf=(...e)=>t=>e.some(e=>e===t.state.current.visualState);var t=e.notAnyOf=(...e)=>t=>e.every(e=>e!==t.state.current.visualState);e.canBeChanged=e=>n=>Boolean(e)&&i.applied===n.state.current.visualState?e===i.disposed:l.a.State.isBulkApplied(n.alert.state)||t(i.applied,i.disposed)(n),e.isOrWillBe=e=>t=>null===t.state.scheduled?t.state.current.visualState===e:t.state.scheduled.visualState===e,e.willBe=e=>t=>null!==t.state.scheduled&&t.state.scheduled.visualState===e}(a||(a={})),function(e){e.updateRanges=function(e,t){return Object(s.a)(Object(o.a)({},e),{updateRanges:t})},e.forceUpdate=function(e,t){return Object(s.a)(Object(o.a)({},e),{forceUpdate:t})},e.updateVisualState=function(e,t){return Object(s.a)(Object(o.a)({},e),{visualState:t})},e.from=function(e){return{visualState:e,updateRanges:!1,forceUpdate:!1}}}(r||(r={})),function(e){e.initial="initial",e.highlighted="highlighted",e.visible="visible",e.faded="faded",e.hidden="hidden",e.success="success",e.applied="applied",e.disposed="disposed"}(i||(i={})),(i||(i={})).isApplied=function(e){return e===i.applied}},Hkin:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("+vYo"),r=n("mgiE"),i=n("0kuo"),o=n("tCI5"),s=n("DTwm"),c=n("Fg+b");function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"activePopoverStack",void 0),u(this,"activePopoverView",void 0),u(this,"_state",void 0),this._state=a.a.create({dsl:r.g.none,revision:-1}),this.activePopoverStack=this._state.view("dsl"),this.activePopoverView=this.activePopoverStack.view(r.g.chain((function(e){return r.g.fromNullable(e.views[e.selected])})))}var t,n,d;return t=e,(n=[{key:"getInteractionActions",value:function(e,t,n){return Object(s.pipe)(this._state.get(),(function(e){return e.dsl}),r.g.filter((function(n){return n.id===e&&n.selected===t})),r.g.map((function(e){return e.views[e.selected]})),r.g.fold((function(){return[]}),(function(e){switch(n){case o.a.ActionInteractPopoverInteraction.Fulfill:return e.onFulfill||[];case o.a.ActionInteractPopoverInteraction.Dismiss:return e.onDismiss||[];default:Object(i.d)(n)}})))}},{key:"addPopover",value:function(e,t){this._state.modify((function(n){var a=void 0!==t&&n.revision>t,i=void 0!==t&&n.revision===t,o=Object(s.pipe)(n.dsl,r.g.exists((function(t){return t.id===e.id}))),c=!r.g.isNone(n.dsl);return a||o||i&&c?n:{dsl:r.g.some(e),revision:null!=t?t:n.revision}}))}},{key:"removePopover",value:function(e,t){this._state.modify((function(n){var a=void 0!==t&&n.revision>t,i=Object(s.pipe)(n.dsl,r.g.exists((function(t){return t.id===e})));return a||!i?n:{dsl:r.g.none,revision:null!=t?t:n.revision}}))}},{key:"switchView",value:function(e){this._state.modify((function(t){return Object(s.pipe)(t.dsl,r.g.filter((function(t){return t.id===e.sduiRootId})),r.g.map((function(t){return c.a.bulkSwitchView(t,[{where:e.where,selected:e.selected,type:"switchView"}])})),r.g.filter((function(e){return"popoverStack"===e.type})),r.g.fold((function(){return t}),(function(e){return{dsl:r.g.some(e),revision:t.revision}})))}))}}])&&l(t.prototype,n),d&&l(t,d),e}()},I1gR:function(e,t,n){e.exports=n.p+"files/7f67ab6aeebccf32e1fdc69b4b9a01de/inter-light.woff2"},IH4a:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var a,r,i=n("pbOK"),o=n("yRey"),s=n("w8H4"),c=n("TKPA"),l=n("cMhG");!function(e){e.Codec=i.s(i.n([i.s(i.z({action:i.s(i.w)})),i.B([i.r({}),i.u(i.w,i.C)])])),e.is=function(t){return e.Codec.is(t)}}(a||(a={})),function(e){let t,n,a,r,u,d;!function(e){const t=i.s(i.p("error")),n=i.s(i.z({action:t}));e.is=function(e){return n.is(e)},e.isAction=function(e){return t.is(e)}}(t=e.Error||(e.Error={})),function(e){const t=i.s(i.p("finished")),n=i.s(i.B([i.s(i.p("all_checks_failed")),i.s(i.p("all_checks_succeeded")),i.s(i.p("nothing_to_check")),i.s(i.p("some_checks_failed")),i.s(i.p("some_checks_in_progress")),i.s(i.p("unknown"))])),a=i.s(i.z({action:t,checksStatus:n}));e.is=function(e){return a.is(e)},e.isAction=function(e){return t.is(e)}}(n=e.Finished||(e.Finished={})),function(e){const t=i.s(i.p("async_check_finished")),n=i.s(i.z({action:t}));e.is=function(e){return n.is(e)},e.isAction=function(e){return t.is(e)}}(a=e.AsyncCheckFinished||(e.AsyncCheckFinished={})),function(e){const t=i.s(i.p("emotions")),n=i.s(i.z({action:i.s(i.p("emotions"))}));e.is=function(e){return n.is(e)},e.isAction=function(e){return t.is(e)}}(r=e.TonesResult||(e.TonesResult={})),function(e){const t=i.s(i.p("show_survey")),n=i.s(i.z({action:t}));e.is=function(e){return n.is(e)},e.isAction=function(e){return t.is(e)}}(u=e.ShowSurvey||(e.ShowSurvey={})),function(e){let t,n;!function(e){const t=i.s(i.p("cheetah"));e.Codec=i.s(i.z({action:t,id:i.s(i.q)})),e.is=function(t){return e.Codec.is(t)},e.isAction=function(e){return t.is(e)}}(t=e.CheetahAck||(e.CheetahAck={})),function(e){e.is=s.a(l.a.extend(o.Schemable)({any:o.id(),sensitiveString:o.string,sensitiveDelta:o.id()}))(l.a.ServerMessageImplementations).is}(n=e.CheetahProtocolServerMessage||(e.CheetahProtocolServerMessage={})),e.is=Object(c.p)(t.is,n.is)}(d=e.CheetahInboundCAPIMessage||(e.CheetahInboundCAPIMessage={})),e.is=Object(c.p)(t.is,u.is,d.is,r.is,n.is,a.is)}(r||(r={}));const u=Object(c.p)(r.Finished.is,r.AsyncCheckFinished.is,r.TonesResult.is),d=(Object(c.p)(r.Finished.isAction,r.AsyncCheckFinished.isAction,r.TonesResult.isAction),r.CheetahInboundCAPIMessage.is)},IJtK:function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return C}));var a=n("a5gI"),r=n("DTwm"),i=n("tiWp"),o=n("mgiE"),s=n("0kuo"),c=n("K40b"),l=n("TKPA"),u=n("M3t0"),d=n("Hj2R"),p=n("D2TP"),m=n("mEGS"),f=n("Nsc4"),h=n("xk6L"),g=n("d3CI"),b=n("wdnv");const v=Object(r.not)(d.a.isMuted),y=()=>g.e.create({alertSource:d.b.api,switchOrder:"lensOrder",currentLens:b.a.Closed.create(r.constFalse,o.c.fromEquals(r.constFalse))}),O=()=>g.e.create({alertSource:d.b.api,switchOrder:"lensOrder",currentLens:b.a.DraftAI.create()}),S=()=>g.e.create({alertSource:d.b.api,switchOrder:"lensOrder",currentLens:b.a.Cheetah.create()});class C{static _mapByActiveLensId(e,t,n,a){if(p.a.isOutcomeId(e))return a();switch(e){case p.a.SpecialId.Plagiarism:return t();case p.a.SpecialId.Premium:return n();case p.a.SpecialId.AllAlerts:case p.a.SpecialId.PredictionTakeaways:case p.a.SpecialId.PredictionEmogenie:case p.a.SpecialId.RealTimeProofit:case p.a.SpecialId.FreePremiumAlerts:return a();default:return Object(s.c)(e)}}_conditionedApplicator(e,t){return n=>a=>e(a,n)?t(n)(a):a}static _filterALEvents(e,t){return n=>h.a.of(Object(i.pipe)(n,m.a.Diff.filter(t=>e(t.alert)),e=>(t.isEnabled(u.a.LogLevel.TRACE)&&t.trace("diff after filter",e),e))).pipe(h.a.filter(Object(r.not)(c.a.isEmpty)))}emptyState(e=p.a.SpecialId.AllAlerts){return g.e.create({currentLens:this._createLens({lensId:e,initialLens:this._lensPreviewVM.getLens(e).get(),visibleAlerts:[],alertHighlight:o.g.none,previousState:o.g.none,alertSource:d.b.api}),alertSource:d.b.api,switchOrder:"lensOrder"})}getLensEventsByLensId(e,t,n={}){const a=this._getActiveLensMeta(t),r=this._lensAlerts(a),s=this._createState(e,o.g.none,a,t,r),c=n.focusBehavior?this._getAlertToFocus(n.focusBehavior,s):o.g.none;e.currentLens.id===t&&g.e.hasItems(e)&&this._capabilities.getActiveAlertsCount(e.currentLens)!==r.length&&this._log.warn("Lens contains inconsistent number of alerts",a.id);const l=g.e.hasItems(s)?Object(i.pipe)(c,o.g.fold(()=>s,n=>this._createState(e,o.g.some(n),a,t,r))):s;return this._generateEventsFromState(l,this._alertsHandlerFactory(t))}getLensEventsByAlert(e,t,n){Object(s.f)(o.g.isSome(this._alertsReader.getById(n.alert.id)),"Can't focus non existing alert",n.alert.id);const a=this._getActiveLensMeta(t),r=e.currentLens.meta.id===t&&e.currentLens.meta.filter(n.alert)&&g.e.hasItems(e)?g.e.Prism.getLensWithItems().modify(this._capabilities.selectItemByAlert(n),e):this._createState(e,o.g.some(n),a,t,this._lensAlerts(a));return this._generateEventsFromState(r,this._alertsHandlerFactory(t))}findNextAlertInTextByLens(e,t){return this._alertSearchService.findNextAlertInText(e,Object(l.b)(this._alertsFilterService.alertVisibleInText(t.id),t=>t.id!==e.alert.id,Object(r.flow)(b.a.findItemWithAlertInLens(t,this._capabilities),o.g.isSome)))}findPremiumAlert(){return this._lensPreviewVM.getLens(p.a.SpecialId.Premium).get().count>0?this._alertSearchService.findPremiumAlert():o.g.none}hasZeroFreeAlerts(e){return 0===this._lensPreviewVM.getLens(e.get()).get().priorityCount}_getMetaChangesObservable(e){return g.e.hasItems(e)&&e.currentLens.kind===g.f.persistent?this._lensPreviewVM.getLens(e.currentLens.id).view(this._updateMetaSource(e.currentLens.id)):g.e.hasItems(e)&&e.currentLens.type===g.i.lensview?this._lenses.pipe(h.a.distinctUntilChanged(f.a.eq.equals),h.a.map(Object(r.flow)(f.a.lookup(e.currentLens.id),o.g.map(this._updateMetaSource(e.currentLens.id)),o.g.getOrElse(()=>g.e.Effect.Applicator.Source.identity)))):g.e.Effect.Applicator.Source.empty}_generateEventsFromState(e,t){return h.a.mergeStatic(this._checkingState.pipe(h.a.pairwise(),h.a.map(([e,t])=>m.a.diff(e,t)),h.a.tap(e=>{this._log.isEnabled(u.a.LogLevel.TRACE)&&this._log.trace("new alerts diff",e)}),h.a.switchMap(C._filterALEvents(e.currentLens.meta.filter,this._log)),h.a.map(this._conditionedApplicator((e,t)=>{const n=this._alertsFilterService.getLensesFilter(e.currentLens.id),a=Object(i.pipe)(t,m.a.Diff.filter(Object(r.not)(({alert:e})=>n(e))));return c.a.isEmpty(a)},this._transformAlertsDiffToApplicator(t)))),this._getMetaChangesObservable(e)).pipe(h.a.startWith(g.e.Effect.Applicator.Source.override(e)))}_getActiveLensMeta(e){const t=C._mapByActiveLensId(e,()=>this._lensPreviewVM.getLens(p.a.SpecialId.Plagiarism).get(),()=>this._lensPreviewVM.getLens(p.a.SpecialId.Premium).get(),()=>this._lensPreviewVM.getLens(e).get());return Object(s.f)(void 0!==t,"unknown lensId:"+e),t}_createState(e,t,n,a,r){Object(s.f)(o.g.forAll(({alert:e})=>o.g.isSome(this._alertsReader.getInteractable(e.id)))(t),"we can create state only with alert in registered state",()=>Object(i.pipe)(t,o.g.fold(()=>"null",e=>e.toString())));const c=e.alertSource,l=e.switchOrder,u=this._createLens({lensId:a,initialLens:n,visibleAlerts:r,alertHighlight:t,alertSource:c,previousState:o.g.some(e.currentLens)});return g.e.create({currentLens:u,alertSource:c,switchOrder:l})}_createLens(e){return this._lensFactory(e.lensId,e.initialLens,e.visibleAlerts,this._focusFirstFilter(e),e.previousState)}_getAlertToFocus(e,t){switch(e.kind){case g.e.Effect.FocusBehaviorType.noFocus:case g.e.Effect.FocusBehaviorType.unFocus:return o.g.none;case g.e.Effect.FocusBehaviorType.focusFirst:return g.e.hasItems(t)?this._capabilities.findFirstAlert(t.currentLens):o.g.none;case g.e.Effect.FocusBehaviorType.focusNext:return g.e.hasItems(t)?this._capabilities.findNextAlert(t.currentLens):o.g.none;case g.e.Effect.FocusBehaviorType.focusAlert:return o.g.some(e.alertHighlight);default:Object(s.c)(e)}}constructor(e,t,n,r,o,s,c,l,p,f=g.e.FocusFirstFilter.defaultFilter){Object(a.a)(this,"_checkingState",void 0),Object(a.a)(this,"_alertsReader",void 0),Object(a.a)(this,"_lenses",void 0),Object(a.a)(this,"_alertSearchService",void 0),Object(a.a)(this,"_lensPreviewVM",void 0),Object(a.a)(this,"_lensFactory",void 0),Object(a.a)(this,"_alertsHandlerFactory",void 0),Object(a.a)(this,"_capabilities",void 0),Object(a.a)(this,"_alertsFilterService",void 0),Object(a.a)(this,"_focusFirstFilter",void 0),Object(a.a)(this,"_transformAlertsDiffToApplicator",void 0),Object(a.a)(this,"_log",void 0),Object(a.a)(this,"findClosestAlertHighlight",void 0),Object(a.a)(this,"findNextAlertInText",void 0),Object(a.a)(this,"_updateMetaSource",void 0),Object(a.a)(this,"_lensAlerts",void 0),this._checkingState=e,this._alertsReader=t,this._lenses=n,this._alertSearchService=r,this._lensPreviewVM=o,this._lensFactory=s,this._alertsHandlerFactory=c,this._capabilities=l,this._alertsFilterService=p,this._focusFirstFilter=f,this._transformAlertsDiffToApplicator=e=>t=>n=>g.e.hasItems(n)?n.patch({currentLens:e(t,v)(n.currentLens)}):n,this._log=u.d.Logging.getLogger("FocusedLensManagerImpl"),this.findClosestAlertHighlight=this._alertSearchService.findClosestAlertHighlight,this.findNextAlertInText=this._alertSearchService.findNextAlertInText,this._updateMetaSource=e=>t=>n=>e===n.currentLens.id&&g.e.hasItems(n)?g.e.Prism.getLensWithItems().modify(this._capabilities.updateMeta(t),n):n,this._lensAlerts=e=>{const t=this._alertsFilterService.alertVisibleInSidebar(e.id);return Object(i.pipe)(this._checkingState.get(),m.a.reduce([],(e,{alert:n})=>t(n)?[...e,n]:e),e=>e.sort(d.d.ord.compare))}}}},IOJj:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));n("5FCM"),n("0kuo");var a=n("yuAa");n("dDfY"),n("6dqF"),n("OpUX");const r={CheetahFetchSkills:new a.Gate("cheetah_fetch_skills")},i={}},IPPO:function(e){e.exports=JSON.parse('{"wrapper":"_3f5ee219-emotions-wrapper","primaryItemIcon":"_0536cacd-emotions-primaryItemIcon","primaryItem":"_b3d009af-emotions-primaryItem _0536cacd-emotions-primaryItemIcon","primaryItemWrapper":"_3c2f96cf-emotions-primaryItemWrapper","report":"_2d80add7-emotions-report","reportItem":"_3e628060-emotions-reportItem","reportItemAttribute":"_ed268e94-emotions-reportItemAttribute","reportItemEmoji":"_b197dea7-emotions-reportItemEmoji _ed268e94-emotions-reportItemAttribute","reportItemName":"_02fed82b-emotions-reportItemName _ed268e94-emotions-reportItemAttribute","reportItemIntensity":"_f7e646ea-emotions-reportItemIntensity _ed268e94-emotions-reportItemAttribute","reportItemActions":"_daae9b4a-emotions-reportItemActions _ed268e94-emotions-reportItemAttribute","intensityItem":"_6a026c7a-emotions-intensityItem","intensityColor":"_926b0ef1-emotions-intensityColor","intensityNoColor":"_3cddd399-emotions-intensityNoColor","button":"_1ca8451a-emotions-button","zeroStateTooltip":"_72398b9b-emotions-zeroStateTooltip"}')},IRug:function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return A}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("4GyQ"),s=n("0kuo"),c=n("2swC"),l=n("NDcT"),u=n("fC5a"),d=n("ySi0"),p=n("wuWi"),m=n("nWMp"),f=n("PltQ"),h=n("NbNH"),g=n("y4Zb");const b={position:"relative",width:m.a.percent(100)},v={position:"relative",margin:"0 0 "+m.a.rem(.5)},y={display:"flex",boxSizing:"border-box",padding:`${m.a.rem(1)} ${m.a.rem(2)} ${m.a.rem(1)} ${m.a.rem(.75)}`,width:m.a.percent(100),borderRadius:m.a.rem(h.t),background:c.a.BackgroundNotification,color:c.a.CoreNeutral0,textAlign:"left",letterSpacing:0,alignItems:"flex-start"},O={width:m.a.percent(100)},S={display:"inline-block",width:m.a.percent(100)},C={margin:`${m.a.rem(-.5)} ${m.a.rem(.75)} ${m.a.rem(-.5)} 0`},w={position:"absolute",top:0,right:0,marginTop:m.a.rem(.5),marginRight:m.a.rem(.4),marginLeft:m.a.rem(.5)},k={stroke:f.i},E={margin:"0 0 "+m.a.rem(.5),color:c.a.CoreNeutral0,wordBreak:"break-word",fontWeight:"bold",fontSize:m.a.rem(c.h.BodySize),lineHeight:m.a.rem(1.25)},j={marginTop:m.a.rem(-.1),marginBottom:m.a.rem(-.25),color:c.a.CoreNeutral0,fontSize:m.a.rem(c.h.BodySize),lineHeight:m.a.rem(1.25)},_=m.a.prefixedStylesheet("notifications",{wrapper:[b],notification:[v],flexibleNotification:[v,{display:"flex",width:"auto"}],contentWrapper:[y],miniContentWrapper:[y,{position:"relative",width:"auto"}],fullWidthNotification:[v,y,O],content:[S],miniContent:[{flex:1}],alertIcon:[C],closeIconWrapper:[w],closeIcon:[k],header:[E],description:[j]});var x,A;!function(e){e.Wrapper=({notification:e,onClose:n,children:o,theme:s={}})=>{i.useEffect(()=>e.actions.next("shown"),[e.actions]);const c={wrapper:Boolean(s.wrapper)?s.wrapper:b.wrapper,content:void 0!==s.content?Object.assign({},b.content,s.content):b.content};return i.createElement("div",Object(r.a)(Object(a.a)({},g.a.getAriaLiveProps(e)),{className:c.wrapper}),i.createElement(t,{metadata:e.metadata,onClose:n,theme:c.content},o))};var t=e.Base=({metadata:e,onClose:t,theme:a,children:r})=>i.createElement("div",{className:a.wrapper},n(e,a.icon),i.createElement("div",{className:a.content},r),!function(e){return e.priority===g.a.Priority.high||e.priority===g.a.Priority.highest}(e)&&i.createElement(m,{onClick:t,className:a.close}));const n=(e,t)=>{switch(e.icon){case g.a.Icon.sparkles:return i.createElement(d.d.Sparkles,{className:t});case void 0:case g.a.Icon.priority:return i.createElement(c,{priority:e.priority,className:t});default:return Object(s.c)(e.icon)}};e.AdHoc=({title:e,children:t,className:n,onClose:a})=>i.createElement("div",Object(o.c)(b.content.wrapper,n),i.createElement("div",{className:b.content.content},i.createElement(f,{title:e},t)),i.createElement(m,{onClick:a,className:b.content.close}));var c=e.PriorityIcon=({priority:e,className:t})=>{switch(e){case g.a.Priority.lowest:case g.a.Priority.low:return i.createElement(d.d.NotificationInfo,{className:t});case g.a.Priority.average:return i.createElement(d.d.NotificationWarning,{className:t});case g.a.Priority.high:case g.a.Priority.highest:return i.createElement(d.d.NotificationError,{className:t});default:return Object(s.c)(e)}},m=e.CloseButton=({onClick:e,className:t})=>{const n=i.useContext(l.a.Context);return i.createElement(u.a,{name:"closeNotification","aria-label":n.actions.close,className:t,onClick:e},i.createElement(d.d.Close,{className:_.closeIcon,width:12}))},f=e.TitledContent=({title:e,children:t})=>Boolean(t)?i.createElement(i.Fragment,null,i.createElement(p.i,{className:_.header},e),i.createElement(h,null,t)):i.createElement(p.i,{className:_.description},e),h=e.Content=({children:e})=>i.createElement(p.a,{className:_.description},e);const b={wrapper:_.wrapper,content:{wrapper:_.fullWidthNotification,icon:_.alertIcon,content:_.content,close:_.closeIconWrapper}}}(x||(x={})),function(e){e.Wrapper=({notification:e,onClose:t,children:n})=>(i.useEffect(()=>e.actions.next("shown"),[e.actions]),i.createElement("div",{className:_.flexibleNotification},i.createElement(x.Base,{metadata:e.metadata,onClose:t,theme:{wrapper:_.miniContentWrapper,icon:_.alertIcon,content:_.miniContent,close:_.closeIconWrapper}},n)))}(A||(A={}))},IjjT:function(e,t,n){"use strict";n.d(t,"t",(function(){return U})),n.d(t,"g",(function(){return W})),n.d(t,"o",(function(){return z})),n.d(t,"h",(function(){return G})),n.d(t,"q",(function(){return q})),n.d(t,"r",(function(){return K})),n.d(t,"s",(function(){return $})),n.d(t,"p",(function(){return Y})),n.d(t,"y",(function(){return X})),n.d(t,"z",(function(){return J})),n.d(t,"A",(function(){return ee})),n.d(t,"l",(function(){return te})),n.d(t,"j",(function(){return ne})),n.d(t,"k",(function(){return ae})),n.d(t,"x",(function(){return re})),n.d(t,"u",(function(){return ie})),n.d(t,"v",(function(){return se})),n.d(t,"c",(function(){return oe})),n.d(t,"b",(function(){return de})),n.d(t,"m",(function(){return pe})),n.d(t,"d",(function(){return be})),n.d(t,"f",(function(){return M})),n.d(t,"e",(function(){return P})),n.d(t,"n",(function(){return N})),n.d(t,"w",(function(){return R})),n.d(t,"i",(function(){return H})),n.d(t,"a",(function(){return le}));var a=n("0Uv3"),r=n("M5RY"),i=n("GMJx"),o=n("B/Ki"),s=n("/edk"),c=n("fr9z"),l=n("gg7t"),u=n("lXop"),d=(n("MBt8"),n("xk6L")),p=n("mgiE"),m=n("RRF2"),f=n("0kuo"),h=n("TKPA"),g=n("DTwm"),b=n("nWMp"),v=n("M3t0"),y=n("tiWp"),O=r.import("parchment"),S=r.import("blots/inline"),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.getOrders=function(e,t){return[S.order.indexOf(e),Boolean(t)&&"object"==typeof t&&"number"==typeof t.order?t.order:-1]},t.prototype._compareWith=function(e,n){if(!Boolean(n))return 0;var a=this.formats()[this.statics.blotName];if(!Boolean(a))return 0;var r,i,o=t.getOrders(this.statics.blotName,a),s=t.getOrders(e,n);return o[0]===s[0]?o[1]===s[1]?(r=this.statics.blotName)>(i=e)?1:r<i?-1:0:o[1]-s[1]:o[0]-s[0]},t.prototype.formatAt=function(t,n,a,r){if(this._compareWith(a,r)<0&&O.query(a,O.Scope.BLOT)){var i=this.isolate(t,n);Boolean(r)&&i.wrap(a,r)}else e.prototype.formatAt.call(this,t,n,a,r)},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),this.parent instanceof O.Inline&&this._compareWith(this.parent.statics.blotName,this.parent.formats()[this.parent.statics.blotName])>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}},t}(O.Inline),w=C;C.allowedChildren=[C,O.Inline,O.Embed,O.Text];var k,E,j=function(e){return Array.from(e.attributes).map((function(e){return e.value}))},_=function(e){return Boolean(e.parent)?_(e.parent):e},x=function(e){function t(n){var a=e.call(this,n)||this;return a._unwrapMe=a.allowUnwrap(),a._unwrapMe&&t._logger.warn("Created self-unwrapped blot",j(a.domNode)),a}return Object(a.b)(t,e),Object.defineProperty(t,"_logger",{get:function(){return void 0===t.__logger&&(t.__logger=v.d.Logging.getLogger("DEd.custom_inline_blot")),t.__logger},enumerable:!1,configurable:!0}),t.prototype.allowUnwrap=function(){return this.domNode.childNodes.length>0&&Object.getPrototypeOf(this)===t.prototype&&"SPAN"===this.domNode.tagName},t.prototype.optimize=function(t){e.prototype.optimize.call(this,t),this._tryUnwrap("optimize")},t.prototype._unwrap=function(e,n){var a=this;return p.b.tryCatchError((function(){t._logger.info("unwrap happened",{source:e,name:n,position:{index:a.length(),length:a.offset(_(a))}});var r=window.getSelection();if(r.isCollapsed&&r.anchorNode&&(r.anchorNode===a.domNode||r.anchorNode.parentNode===a.domNode&&1===a.domNode.childNodes.length)){var i=a.offset(a.parent)+a.length();a.unwrap(),requestAnimationFrame((function(){return Object(y.pipe)(t._restoreSelectionWithinBlot(a.parent,i),p.b.mapLeft((function(e){t._logger.error("Self-unwrapped blot: cannot preserve selection",e,j(a.domNode))})))}))}else r.anchorNode===a.domNode||r.focusNode===a.domNode?(t._logger.error("Self-unwrapped blot: unknown case",j(a.domNode)),a.unwrap()):a.unwrap()}))},t.prototype.formatAt=function(t,n,a,r){e.prototype.formatAt.call(this,t,n,a,r),this._tryUnwrap("formatAt")},t.prototype.update=function(t,n){e.prototype.update.call(this,t,n),this._tryUnwrap("update")},t.prototype._tryUnwrap=function(e){if(this._unwrapMe){if(0===this.children.length)return;Object(y.pipe)(this._unwrap("tryUnwrap: ".concat(e),this.statics.blotName),p.b.mapLeft((function(n){t._logger.warn('Cannot unwrap on "'.concat(e,'"'),n)}))),this._unwrapMe=!1}},t.__logger=void 0,t._restoreSelectionWithinBlot=function(e,t){return p.b.tryCatchError((function(){Object(y.pipe)(p.g.fromNullable(window.getSelection()),p.g.map((function(n){for(var a=0,r=e.children.head;r&&a+r.length()<t;)a+=r.length(),r=r.next;var i=t-a;n.collapse(r.domNode,i)})))}))},t}(w);k=r.import("blots/inline"),E=r.import("blots/block"),k.allowedChildren.push(x),E.allowedChildren.push(x),r.register("blots/inline",x,!0);var A,I=r.import("parchment"),T=b.a.style({animation:"none",transition:"none"}),M="mark_underline";!function(e){e.hasValue=function(e){return!1!==e}}(A||(A={}));var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=v.d.Logging.getLogger("underline"),t}return Object(a.b)(t,e),Object.defineProperty(t.prototype,"markId",{get:function(){return this.statics.markId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataOrder",{get:function(){return this.domNode.__dataOrder||0},enumerable:!1,configurable:!0}),t.create=function(t){var n=this,r=e.create.call(this,t);return r.__lastValue=t,Object(g.pipe)(t,p.g.fromPredicate(A.hasValue),p.g.tap((function(e){r.setAttribute("data-mark-id",e.id),r.__dataId=e.id,r.__dataOrder=e.order||0,void 0!==e.order&&r.setAttribute("data-order","".concat(e.order)),r.className=m.c.classes.apply(m.c,Object(a.d)([n.className],Boolean(e.classes)?e.classes:[],!1))}))),r},t.prototype.wrap=function(t,n){return V(this),e.prototype.wrap.call(this,t,n)},t.prototype.clone=function(){V(this);var t=e.prototype.clone.call(this),n=t.domNode;return n.__dataOrder=this.domNode.__dataOrder,n.__dataId=this.domNode.__dataId,n.__lastValue=this.domNode.__lastValue,t},t.prototype.formatAt=function(t,n,r,i){if(r===this.statics.blotName)if(null==i);else if(!1===i)e.prototype.formatAt.call(this,t,n,r,i);else switch(i.action){case l.a.Change.ActionType.create:this._log.warn("Create actions user for already created mark",i);break;case l.a.Change.ActionType.update:this.domNode.className=m.c.classes.apply(m.c,Object(a.d)([this.statics.className,T],i.classes||[],!1)),0!==t||this.length(),e.prototype.formatAt.call(this,t,n,r,i);break;default:this._log.warn("Got an unknown action")}else e.prototype.formatAt.call(this,t,n,r,i)},t.formats=function(e){return e.__lastValue},t.prototype._tryMergeWithNextIfEq=function(){var e=this.next;return!!(e instanceof t&&e.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(-1!==n.indexOf(M)){var a=e[n],r=t[n];if("object"==typeof a&&"object"==typeof r||a===r)continue;return!1}if(e[n]!==t[n])return!1}return!0}(this.formats(),e.formats()))&&(e.moveChildren(this),e.remove(),!0)},t.prototype.optimize=function(t){e.prototype.optimize.call(this,t),L.has(this.domNode.__dataId)?this._tryMergeWithNextIfEq():this.domNode.hasAttribute("data-unwrapped")?this._log.debug("Oops. change in already removed mark",{id:this.markId}):(this._log.warn("Oops. change in already removed mark",{id:this.markId}),(this.domNode.hasAttribute("class")||this.domNode.hasAttribute("style"))&&(this.domNode.setAttribute("data-unwrapped","true"),this.domNode.removeAttribute("class"),this.domNode.removeAttribute("style")))},t}(x);P.tagName="SPAN";var N=function(e){return"".concat(M,"_").concat(e)},D=function(e){return"formats/".concat(N(e))},B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype.allowUnwrap=function(){return Object.getPrototypeOf(this)===t.prototype&&"SPAN"===this.domNode.tagName},Object.defineProperty(t.prototype,"logName",{get:function(){return"fake_underline_blot"},enumerable:!1,configurable:!0}),t}(x);var L=new Set;function F(e){r.register("formats/".concat(e.blotName),e,!0)}function R(e){var t=r.imports[D(e)];if(n=t,Boolean(n)&&Object.getPrototypeOf(n)===P)return t;L.add(e);var n,i=function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t}(P);return t.className="mark_underline_".concat(e),t.blotName=N(e),t.markId=e,t}(e);return F(i),i}function H(e){Boolean(r.imports[D(e)])&&F(function(e){return B.blotName=N(e),B.className="mark_underline_".concat(e),B}(e)),L.delete(e)}function V(e){(function(e){return e instanceof P})(e)&&!e.domNode.classList.contains(T)&&e.domNode.classList.add(T),function(e){return e instanceof I.Container}(e)&&e.children.forEach(V)}function U(e,t){for(var n=new i.a,a=0,r=e;a<r.length;a++){var o=r[a],s=o.meta.range();if(s.start!==s.end&&"number"==typeof s.start&&"number"==typeof s.end&&(-1!==s.start||-1!==s.end)){var c=o.meta.range(),l=c.start<0?0:c.start;n=n.compose((new i.a).retain(l).retain(c.end-l,t(o)))}}return n}var W;function z(e,t,n){void 0===n&&(n=100);for(var a=e.length,r=function(e){return/^[\w\-]$/.test(e)},i=t-1,o=t,s=[];i>=0&&r(e[i])&&n>=t-i;)s.unshift(e[i]),i--;for(i++;o<a&&r(e[o])&&n>o-t;)s.push(e[o]),o++;return s.length>0?p.g.some(c.b.create(i,o,{value:s.join("")})):p.g.none}!function(e){function t(e){for(var t=e,n=[];Boolean(t);)t instanceof P&&n.push(t),t=t.parent;return n}var n;e.findUnderlineUp=function(e){return pe(e,(function(e){return e instanceof P&&Boolean(e.domNode.getAttribute("data-mark-id"))}))},e.lookupUnderlinesUp=t,function(e){e[e.left=0]="left",e[e.right=1]="right"}(n=e.LOOKUP_DIRECTION||(e.LOOKUP_DIRECTION={})),e.isUnderlineWithId=function(e){return function(t){return t instanceof P&&t.markId===e}};var r=function(e){return"children"in e},i=function(e){return r(e)&&e.children.head?Object(a.d)([e],i(e.children.head),!0):[e]},o=function(e){return r(e)&&e.children.tail?Object(a.d)([e],o(e.children.tail),!0):[e]};e.getSiblingBlots=function(t,a){var r=a===n.left?Boolean(t.prev)?o(t.prev):void 0:Boolean(t.next)?i(t.next):void 0;return null!=r?r:Boolean(t.parent)?e.getSiblingBlots(t.parent,a):[]},e.hasSameIdSibling=function(t,n){return e.getSiblingBlots(t,n).some(e.isUnderlineWithId(t.markId))},e.getMarksIdsByBlot=function(e){return t(e).map((function(e){return e.markId}))}}(W||(W={}));var G=o.a.getOperationOffset,q=function(e){return o.a.isInsert(e)&&Z(e)},K=function(e){return-1!==e.indexOf(M)},$=function(e){return-1!==e.indexOf(l.a.SynonymMark.id)},Z=function(e){return!o.a.isDelete(e)&&Boolean(e.attributes)&&Object.keys(e.attributes).some((function(e){return K(e)||$(e)}))};function Y(e,t){return void 0===t&&(t="suffix"),!(!o.a.isInsert(e)||"string"!=typeof e.insert)&&("suffix"===t?m.f.isBreakWordChar(e.insert.charCodeAt(0)):m.f.isBreakWordChar(e.insert.charCodeAt(e.insert.length-1)))}var X=function(e){return new i.a(e.ops)},Q=r.import("delta"),J=function(e){return new Q(e.ops)};function ee(e){return d.a.fromEvent(e,"editor-change",(function(e,t,n,a){return"text-change"===e?{name:"text-change",delta:X(t),oldDelta:X(n),source:a}:{name:"selection-change",range:t,oldRange:n,source:a}}))}function te(e){return"selection-change"===e.name}var ne=function(e){return function(t){return"text-change"===t.name&&t.delta.ops.some((function(t){return!o.a.isRetain(t)||!!t.attributes&&Object.keys(t.attributes).some((function(t,n,a){return!K(t)&&!$(t)&&e(t,a)}))}))}};function ae(e){return"text-change"===e.name&&e.delta.ops.some((function(e){return!o.a.isRetain(e)}))}function re(){(Boolean(window.MutationObserver)||n("OVHU"),Boolean(document.getSelection))||(document.getSelection=function(){return null})}function ie(e){for(var t=p.b.unsafeGet(e.text),n=new i.a,a=0,r=0;r<t.length-1;r++)if("\r"===t[r]){var o=r-a;a=r,"\n"!==t[r+1]?(n.retain(o).delete(1).insert("\n"),a++):(n.retain(o).delete(1),a++)}var c=t.length-1,l=c-a;return"\r"===t[c]?n.retain(l).delete(1).insert("\n"):"\n"!==t[c]&&n.retain(l+1).insert("\n"),s.a.delta(n,t.length)}var oe,se=function(e){var t=e[0],n=e[1];if(m.c.Guardians.isBR(t.domNode)){var a=Array.from(t.parent.domNode.childNodes).findIndex((function(e){return e===t.domNode}));return[t.parent.domNode,a+n]}return[t.domNode,n]};!function(e){var t;function n(e){switch(e){case t.bold:case t.italic:case t.underline:case t.strike:case t.header:case t.list:case t.indent:return!1;case t.link:return!0;default:return Object(f.c)(e)}}function a(e){switch(e){case u.e.Type.italic:return{key:t.italic,value:!0};case u.e.Type.bold:return{key:t.bold,value:!0};case u.e.Type.orderedList:return{key:t.list,value:"ordered"};case u.e.Type.bulletList:return{key:t.list,value:"bullet"};case u.e.Type.dashedList:return{key:t.list,value:"dashed"};case u.e.Type.underline:return{key:t.underline,value:!0};case u.e.Type.link:return{key:t.link,value:void 0};case u.e.Type.header1:return{key:t.header,value:1};case u.e.Type.header2:return{key:t.header,value:2};case u.e.Type.strike:return{key:t.strike,value:!0};default:return Object(f.c)(e)}}!function(e){e.italic="italic",e.bold="bold",e.list="list",e.underline="underline",e.link="link",e.header="header",e.strike="strike",e.indent="indent"}(t=e.QuillFormatNames||(e.QuillFormatNames={})),function(e){e.is=function(e){switch(e){case"bold":case"italic":case"underline":case"strike":case"header":case"list":case"link":case"indent":return!0;default:return!1}}}(t=e.QuillFormatNames||(e.QuillFormatNames={})),e.mapEditorFormatToQuill=a,e.getQuillFormattingAsList=function(){return[t.bold,t.italic,t.underline,t.strike,t.header,t.list,t.link]},e.mapQuillFormatToEditor=Object(h.l)((function(e,t){return Object.keys(u.e.Type).find((function(r){var i=a(r);return i.key===e&&(n(e)||i.value===t)}))}),(function(e,t){return n(e)?e:e+"_"+t})),e.mapQuillFormatsToDenali=function(n,a){var i=n.getFormat(a.start,c.b.size(a));return Object.keys(i).reduce((function(o,s){if(t.is(s)){var c=i[s],l=e.mapQuillFormatToEditor(s,c);if(null!=l)if(l===u.e.Type.link){var d=r(n,a,c);d.length>0&&(o[u.e.Type.link]=d)}else o[l]=!0}return o}),{})};var r=function(e,t,n){var a=c.b.size(t);return e.scroll.descendants((function(e){return"A"===e.domNode.nodeName}),a>0?t.start:Math.max(0,t.start-1),a>0?a:1).map((function(t){var a=t.offset(e.scroll);return{url:n,rect:new de(t.domNode,(function(){return e.container.getBoundingClientRect()})),range:c.b.create(a,a+t.length())}}))};e.isBlockFormat=function(e){switch(e){case u.e.Type.bold:case u.e.Type.italic:case u.e.Type.strike:case u.e.Type.underline:case u.e.Type.link:return!1;case u.e.Type.header1:case u.e.Type.header2:case u.e.Type.orderedList:case u.e.Type.bulletList:case u.e.Type.dashedList:return!0;default:return Object(f.c)(e)}}}(oe||(oe={}));var ce,le,ue,de=function(){function e(e,t){this._el=e,this._rootClientRect=t}return e.prototype.getRect=function(){var e=this;return p.b.tryCatch((function(){var t=e._rootClientRect();Object(f.f)(!m.c.Rect.eq.equals(t,m.c.Rect.empty),"Got an empty parent rect");var n=Array.from(e._el.getClientRects());if(!n.length&&e._el instanceof Range&&Boolean(e._el.startContainer)&&e._el.collapsed&&""===e._el.startContainer.textContent){var a=document.createRange();a.selectNodeContents(e._el.startContainer),n=Array.from(a.getClientRects())}return Object(f.f)(!n.every((function(e){return m.c.Rect.eq.equals(e,m.c.Rect.empty)})),"Got an empty Rect"),{rootClientRect:t,clientRects:p.g.unsafeGet(p.f.fromArray(n))}}),p.b.toError)},e}(),pe=function(e,t){for(var n=e;n;){if(Boolean(n)&&t(n))return n;n=n.parent}return null},me=n("2zNz"),fe=r.import("blots/block"),he=r.import("blots/break"),ge=function(e,t){var n="".concat(-t,"px * var(--rem)"),a="(".concat(e,"px + ").concat(n,")");return b.a.keyframes({to:{marginTop:"calc(".concat(n," - ").concat(a,")")}})},be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.create=function(n){var a=e.create.call(this,n);return a.setAttribute("data-template-id",n.id),t.setMeta(a,n,0),a.className=t.className,a},t.prototype.clone=function(){var n=e.prototype.clone.call(this),r=n.domNode;return r.className=t.className,t.setMeta(r,Object(a.a)(Object(a.a)({},this.domNode.__meta),{used:!0}),this.domNode.__meta.uuid+1),n},t.prototype.removePlaceholder=function(){var e,n=this;1===this.children.length&&1===(null===(e=this.children.head)||void 0===e?void 0:e.length())?t.fadeOut(this.domNode,200,2,(function(){t.resetClassName(n.domNode)})):t.resetClassName(this.domNode),this.meta.used=!0},Object.defineProperty(t.prototype,"meta",{get:function(){return this.domNode.__meta},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholderStyle",{get:function(){var e,t;return this._placeholderStyle||(this._placeholderStyle=(e=this.meta.placeholder,t=2,b.a.style({$nest:{"&:after":{background:me.D.Color.BlueGray0,color:me.D.Color.BlueGray60,overflow:"hidden",content:'"'.concat(e,'"'),userSelect:"none",marginTop:"".concat(b.a.rem(-t)),display:"flex",width:"100%"}}}))),this._placeholderStyle},enumerable:!1,configurable:!0}),t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),this.meta.used)this.meta.trackable||this.replaceWith("block");else if(0===this.children.length||1===this.children.length&&this.children.head instanceof he){if(this.domNode.classList.contains(this.placeholderStyle))return;this.domNode.classList.add(this.placeholderStyle)}else this.removePlaceholder()},t.prototype.formats=function(){var e;return(e={})[t.blotName]={id:this.meta.id,used:this.meta.used,placeholder:this.meta.placeholder,trackable:this.meta.trackable},e},t}(fe);be.blotName="template_section",be.className="template_section",(ce=be||(be={})).setMeta=function(e,t,n){var a,r;return e.__meta={id:t.id,placeholder:t.placeholder,trackable:null===(a=t.trackable)||void 0===a||a,used:null!==(r=t.used)&&void 0!==r&&r,uuid:n},e.setAttribute("data-uuid","".concat(n)),e},ce.fadeOut=function(e,t,n,a){var r=function(){e.removeEventListener("animationend",r),clearTimeout(i),a(e)};e.classList.add(function(e,t){return b.a.style({$nest:{"&:after":{visibility:"hidden",animation:"".concat(ge(e,t)," ").concat(b.a.seconds(.2)," linear forwards")}}})}(e.offsetHeight,n)),e.addEventListener("animationend",r);var i=setTimeout(r,t)},ce.resetClassName=function(e){e.className!==ce.className&&(e.className=ce.className)},(ue=le||(le={})).getPossibleCaretPosition=function(e,t){return p.b.tryCatchError((function(){var n;if("caretPositionFromPoint"in document)return{node:(n=document.caretPositionFromPoint(e,t)).offsetNode,offset:n.offset};if("caretRangeFromPoint"in document)return null!=(n=document.caretRangeFromPoint(e,t))?{node:n.startContainer,offset:n.startOffset}:{node:document.elementFromPoint(e,t),offset:0};throw new Error("Browser doesn't support range API")}))},ue.fitPositionInViewport=function(e,t,n){return{x:Math.floor(e>=n.right?n.right-1:e<=n.left?n.left+1:e),y:Math.floor(t<=n.top?n.top+1:t>=n.bottom?n.bottom-1:t)}},ue.getPositionByNativeCursor=function(e){return function(t){return r.find(t.node).offset(e)+t.offset}},ue.getNativeCursorByPosition=function(e,t,n,a,r){void 0===r&&(r=!1);var i=ue.fitPositionInViewport(e,t,n),o=i.x,s=i.y;return r&&m.c.renderDot(o,s,"top"),Object(y.pipe)(ue.getPossibleCaretPosition(o,s),p.b.map((function(e){var t,r=e.node,i=e.offset;if(m.c.isParent(a,r))return{node:r,offset:i};if(s<=n.top+1)return{node:m.c.getFirstChild(a),offset:0};var o=m.c.getLastChild(a);return{node:o,offset:(null!==(t=o.textContent)&&void 0!==t?t:"").length}})))}},IrSI:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return f}));var a,r=n("B8yO"),i=n("tiWp"),o=n("OwvP"),s=n("111I"),c=n("fC5a"),l=n("PyEC"),u=n("GllM");!function(e){let t;!function(e){e.onMiniShow="onMiniShow"}(t=e.ActionsKind||(e.ActionsKind={}))}(a||(a={}));const d=s.b.Node.make(({view:e,notify:t})=>r.createElement(o.a.div,{mount:t({type:"upgradeHookAction",kind:a.ActionsKind.onMiniShow})},r.createElement(u.d,{alertsCount:e("alertsCount")}))),p=s.b.Grid.make(({slots:e,notify:t})=>r.createElement(r.Fragment,null,r.createElement(c.a,{className:l.a.shadowWrapper,onClick:t("onClick"),name:"upgrade.hook.mini.card"},e.body))),m=s.b.Knot.make(p,{body:s.b.Composite.make(Object(u.b)(l.a.minimizedWrapper),d)}),f=Object(i.pipe)(s.b.squash(m),s.b.contramapState(e=>({body:e})))},IzGB:function(e,t,n){"use strict";n.d(t,"c",(function(){return $n.a})),n.d(t,"b",(function(){return et.a})),n.d(t,"d",(function(){return Yn})),n.d(t,"a",(function(){return Xn}));var a=n("Wy1Y"),r=n("uKMM"),i=n("a5gI"),o=n("8O/t"),s=n("X76w"),c=n("hcme"),l=n("mMt2"),u=n("DTwm"),d=n("mgiE"),p=n("0kuo"),m=n("TKPA"),f=n("cZKX"),h=n("M3t0"),g=n("ksEe"),b=n("Hj2R"),v=n("D2TP"),y=n("itj6"),O=n("qCVM"),S=n("d3CI"),C=n("wdnv"),w=n("La5+"),k=n("xk6L"),E=n("yIk2"),j=n("iVUr"),_=n("f38j"),x=n("hzat"),A=n("ALFw"),I=n("2IcJ"),T=n("rT5Y"),M=n("+vYo");function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||H(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}var V,U=function(){function e(t,n,a,r,i,o,s,c){var l,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new g.b,m=this;N(this,e),B(this,"_checksFeedCapabilities",void 0),B(this,"_lensState",void 0),B(this,"_alertReader",void 0),B(this,"_capiClient",void 0),B(this,"_platformEnvironment",void 0),B(this,"_sduiViewModel",void 0),B(this,"sduiActionEvents",void 0),B(this,"_sduiAlertIdResolver",void 0),B(this,"_log",void 0),B(this,"_subs",void 0),B(this,"actionEvents",void 0),B(this,"_focusedItem",void 0),B(this,"_mapToDenaliAlerts",void 0),this._checksFeedCapabilities=n,this._lensState=a,this._alertReader=o,this._capiClient=s,this._platformEnvironment=p,this._log=h.d.Logging.getLogger("SDUICardsViewModelImpl",h.a.LogLevel.DEBUG),this._subs=new w.a.Keeper,this.actionEvents=new k.a.Subject,this._focusedItem=this._lensState.view((function(e){return S.e.hasItems(e)?Object(u.pipe)(e.currentLens.cardIndex,d.g.chain((function(t){return e.currentLens.items.getAt(t)}))):d.g.none})),this._mapToDenaliAlerts=function(e){return Object(u.pipe)(e,f.cc(d.g.option)((function(e){return m._alertReader.getById(m._mapToDenaliAlertId(e))})),d.g.filter(f.ob))},this._sduiAlertIdResolver=Object(T.b)(r.alertIdResolver,this._log);var b=M.a.create(d.g.none);this._sduiViewModel=new T.a(t,r,i,s,b,p),this.sduiActionEvents=this._sduiViewModel.sduiActionEvents,(l=this._subs).push.apply(l,R(this._integrateCardsViewModel(c)).concat([Object(u.pipe)(this._focusedItem,k.a.distinctUntilChanged((function(e,t){return d.g.getEq(j.a.eqById).equals(e,t)})),k.a.map(d.g.chain(d.g.fromPredicate(A.a.isSDUIItem))),k.a.map(d.g.map((function(e){return _.a.Item.Id.from(e.id)})))).subscribe(E.b.toAtom(b)),this._sduiViewModel]))}var t,n,a;return t=e,(n=[{key:"_integrateCardsViewModel",value:function(e){return[this.actionEvents.subscribe(e.actionEvents),e.actionEvents.pipe(k.a.filter(O.a.isSduiCardAction)).subscribe(this.sduiActionEvents)]}},{key:"_sduiActionsHandler",value:function(){var e=this;return this.sduiActionEvents.pipe(k.a.skipBy(O.a.eq),k.a.map((function(t){var n=t.cardId,a=t.actions,r=t.scope;return function(t){return e._log.info("sdui card action:",{cardId:n,actions:a}),Object(u.pipe)(a,f.Fb(t,(function(t,a){switch(a.type){case"notify":return t;case"removeRoot":return Object(u.pipe)(t.currentLens.items.get(n),d.g.map((function(e){return e.value})),d.g.map(e._checksFeedCapabilities.remove(u.constTrue,u.constTrue)),d.g.map((function(e){return S.e.Prism.getLens().compose(C.a.Prism.items).set(t.currentLens.items.modifyWith([[e.id,e]],(function(){return e})),t)})),d.g.getOrElse(Object(u.constant)(t)));case"applyAlerts":return Object(u.pipe)(t.currentLens.items.get(n),d.g.map((function(e){return e.value})),d.b.fromOption((function(){return new Error("unknown cardId: ".concat(n))})),d.b.bimap((function(t){return e._log.error("error in processing applyAlerts action",t)}),(function(t){Object(u.pipe)(e._sduiAlertIdResolver(r.alertRefs),d.g.tap((function(n){requestAnimationFrame((function(){Object(u.pipe)(n,e._mapToDenaliAlerts,d.g.map(f.ub((function(n){return e.actionEvents.next({type:y.b.Type.alertApply,id:t.id,eligibleForSurvey:n.acceptSurvey,eligibleForGbPrompt:n.gbPrompt,alertId:n.id,alternativeIndex:a.alternativeIndex,cardType:y.b.getCardType({activeAlert:x.a.fromModel(n)})})}))))}))})))})),(function(){return t.patch({alertSource:b.b.sidebar})}));case"closeCard":return t.patch({currentLens:S.e.hasItems(t)?e._checksFeedCapabilities.unselectItem()(t.currentLens):t.currentLens,switchOrder:"lensOrder",alertSource:b.b.sidebar});case"removeAlerts":return Object(u.pipe)(e._sduiAlertIdResolver(r.alertRefs),d.g.tap((function(t){requestAnimationFrame((function(){Object(u.pipe)(t,e._mapToDenaliAlerts,d.g.map(f.ub((function(t){return e.actionEvents.next({type:y.b.Type.alertIgnore,id:n,alertId:t.id,eligibleForSurvey:t.dismissSurvey})}))))}))}))),t.patch({alertSource:b.b.sidebar});case"highlightAlert":return Object(u.pipe)(e._sduiAlertIdResolver(r.alertRefs),d.g.chain(e._mapToDenaliAlerts),d.g.map((function(e){if(!S.e.hasItems(t))return t;var n=function(e,t){return function(n){return Object(u.pipe)(n.items.update(e,(function(e){return Object(u.pipe)(e,d.g.fromPredicate(I.a.isAlertRefSDUIItem),d.g.chain(I.a.Capabilities.setActiveAlertId(t)),d.g.chain(I.a.Capabilities.setActiveHighlightIndex(a.highlightIndex)),d.g.getOrElse(Object(u.constant)(e)))})),d.b.fold((function(){return n}),(function(e){return L(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){B(e,t,n[t])}))}return e}({},n),{items:e})})))}},r=e[0];return Object(u.pipe)(S.k.getActiveItem(t.currentLens),d.g.map((function(e){return S.e.Prism.getLensWithItems().modify(n(e.id,r.id),t)})),d.g.map((function(e){return e.patch({alertSource:b.b.sidebar})})),d.g.getOrElse(Object(u.constant)(t)))})),d.g.getOrElse(Object(u.constant)(t)));case"nextCard":case"prevCard":case"openSettings":case"openToneDetector":case"openFeedback":case"upgradeToPremium":case"openLearnMore":case"transition":case"openCreateSnippetModal":case"nativeOpenAssistant":return t;case"showHighlights":case"hideHighlights":case"selectAlternative":case"openLink":case"copyToClipboard":return t;case"pushAssistantFeed":case"popAssistantFeed":case"focusAssistantCard":case"switchView":case"newRevision":return t;case"stopApplyingAlerts":case"closePopover":case"interactPopover":case"openGrammarlyGo":case"enablePlagiarismCheck":case"disablePlagiarismCheck":case"enableWritingExpertCheck":case"disableWritingExpertCheck":case"openPerformanceScore":case"nativeOpenUserSatisfactionFeedback":return t;default:Object(p.d)(a)}})))}})))}},{key:"getApplicatorEffects",value:function(){return Object(u.pipe)([[this._sduiActionsHandler(),"sduiActions"]],d.a.map((function(e){var t=F(e,2),n=t[0],a=t[1];return{id:"cardsViewModel.effects.".concat(a),when:v.a.isWithAlertsId,what:S.e.Effect.Applicator.create(n)}})))}},{key:"onAssistantClose",value:function(){this._sduiViewModel.onAssistantClose()}},{key:"dispose",value:function(){this._subs.dispose()}},{key:"_mapToDenaliAlertId",value:function(e){return"".concat(e)}}])&&D(t.prototype,n),a&&D(t,a),e}();!function(e){e.itemsLens=S.e.Prism.getLens().compose(C.a.Prism.items),e.createLegacy=function(e,t,n,a,r,i,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:new g.b,c={enablePlagiarismSearch:function(){return Promise.resolve(d.b.right(void 0))},disablePlagiarismSearch:function(){return Promise.resolve(d.b.right(void 0))},enableWritingExpert:function(){return Promise.resolve(d.b.right(void 0))},disableWritingExpert:function(){return Promise.resolve(d.b.right(void 0))},requestWritingExpert:function(){return function(){return Promise.resolve(d.b.right(void 0))}}};return Object(u.pipe)(d.g.sequenceT(e,a,r),d.g.fold((function(){return new V.Mock}),(function(e){var a=F(e,3),r=a[0],l=a[1],u=a[2];return new U(r,t,n,l,u,i,c,o,s)})))};e.Mock=function e(){N(this,e),B(this,"actionEvents",new k.a.Subject),B(this,"sduiActionEvents",new k.a.Subject),B(this,"sideEffect",{id:"cardsViewModelMock",when:v.a.isWithAlertsId,what:S.e.Effect.Applicator.create(k.a.EMPTY)}),B(this,"getApplicatorEffects",(function(){return[{id:"cardsViewModelMock",when:v.a.isWithAlertsId,what:S.e.Effect.Applicator.create(k.a.EMPTY)}]})),B(this,"onAssistantClose",m.e),B(this,"dispose",m.e)}}(V||(V={}));var W,z,G,q=n("kMtn");function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}G=W||(W={}),z=G.PrevNextNavigation||(G.PrevNextNavigation={}),(z.Events||(z.Events={})).fromSduiCardActions=Object(u.flow)(k.a.map((function(e){var t=Object(u.pipe)(e.actions,f.O(q.d.Action.isTransitionAction));return e.actions.find((function(e){return"prevCard"===e.type}))?d.g.some({kind:"prevClicked",transitions:t}):e.actions.find((function(e){return"nextCard"===e.type}))?d.g.some({kind:"nextClicked",transitions:t}):d.g.none})),k.b.compact),z.sideEffect=function(e,t,n){return{id:"SingleCardAssistant.prevNextNavigation",when:S.e.Effect.When.isSidebarOpen,what:S.e.Effect.ItemsApplicator.create(Object(u.pipe)(e,k.a.withLatestFrom(t.pipe(k.a.filter(S.e.hasCards))),k.a.map((function(e){var t=$(e,2),n=t[0],a=t[1];return Object(u.pipe)(a.currentLens.cardIndex,d.g.chain((function(e){return a.currentLens.items.getAt("nextClicked"===n.kind?e+1:e-1)})))})),k.b.compact,k.a.map((function(e){return function(t){return S.e.Prism.getLensWithItems().modify(n.selectItemById(e.id),t)}}))))}};var Z,Y,X,Q=n("Fg+b"),J=n("tCI5");function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){te(e,t,n[t])}))}return e}function ae(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Y=Z||(Z={}),X=Object(m.l)(h.d.Logging.getLogger),(Y.DisablePrevNextButtons||(Y.DisablePrevNextButtons={})).create=function(e){var t=X("SingleCardAssistant.Transformers.disablePrevNextButtons");return function(n){var a=n.state,r=n.metadata;if(!S.e.hasItems(a))return t.trace("state has no feed items, returning original state"),d.b.left({state:a,metadata:r});var i=a;return Object(u.pipe)(i.currentLens.cardIndex,d.g.chain((function(e){return Object(u.pipe)(S.k.getActiveItem(a.currentLens),d.g.map((function(t){return Object(u.tuple)(t,e)})))})),d.g.map((function(t){var n=re(t,2),r=n[0],o=n[1];return S.e.Prism.getLensWithItems().modify((function(t){if(!A.a.isSDUIItem(r)||!d.g.isSome(r.cardDSL))return t;var n=e.clone(r),i=d.g.unsafeGet(n.cardDSL),s=!1,c=Q.a.map(i,(function(e){if("button"===e.type&&e.name.value===J.a.ComponentKnownName.ButtonPrev){var t=0===o?J.a.ButtonState.Disabled:J.a.ButtonState.Enabled;return s=s||t!==e.state,ae(ne({},e),{state:t})}if("button"===e.type&&e.name.value===J.a.ComponentKnownName.ButtonNext){var n=o===a.currentLens.items.size-1?J.a.ButtonState.Disabled:J.a.ButtonState.Enabled;return s=s||n!==e.state,ae(ne({},e),{state:n})}return e}));return d.g.isSome(c)&&s?(n=Object.assign(n,{cardDSL:c}),ae(ne({},t),{items:t.items.add(n)})):t}),i)})),d.g.getOrElse((function(){return a})),(function(e){return d.b.left({state:e,metadata:r})}))}};var ie,oe=n("tiWp"),se=n("0mi2"),ce=n("G0RH"),le=n("DgJv"),ue=n("lXop"),de=n("5OZM"),pe=n("mML0"),me=n("y9id"),fe=n("o5hd"),he=n("ZDrO"),ge=n("JLFM"),be=n("osAs"),ve=n("p81r"),ye=n("1CxT"),Oe=n("EBIN"),Se=n("TFiY"),Ce=n("4Pfx"),we=n("VOhR"),ke=n("SOPW"),Ee=n("4wwO"),je=n("s4G0"),_e=n("IMGo"),xe=n("RRF2"),Ae=n("mEGS"),Ie=n("aODX"),Te=n("/1wo"),Me=n("e92m");!function(e){var t=e.MIN_ACCEPTABLE_COUNT=4;e.getFocusFirstFilter=(e,t)=>({visibleAlerts:n,alertSource:a,lensId:r,alertHighlight:i})=>Object(oe.pipe)(i,d.g.filter(()=>"text"===a||!v.a.isMainLens(r)||Object(oe.pipe)(n,d.a.map(n=>Object(oe.pipe)(e.getById(n.id),d.g.filter(t.alertIsBulkAcceptable(r)),d.g.map(x.a.fromModel),d.g.filter(Object(m.b)(x.a.isDefault,Object(u.not)(x.a.isBulkApplied))))),d.a.compact).length<ie.MIN_ACCEPTABLE_COUNT));let n;!function(e){e.create=(e,n)=>({getBulkAcceptableAlerts:r(n),willShowBulkAccept:Object(u.flow)(S.e.mapper(t=>Object(oe.pipe)(e.get(),r(n)(t.currentLens.id))),d.g.map(e=>e.length>=t),d.g.getOrElse(u.constFalse))})}(n=e.BulkAcceptReader||(e.BulkAcceptReader={}));const a=Object(m.l)(h.d.Logging.getLogger);e.getStateTransformer=(e,t,n,i,c,p)=>{let m=!1;return f=>{const{state:g,metadata:b}=f,y=a("BulkAccept.stateTransformer",h.a.LogLevel.TRACE,h.a.LogColor.Manager.getColor());if(m)return d.b.left({state:g,metadata:b});if(!S.e.hasItems(g)||!v.a.isMainLens(g.currentLens.id)||!S.e.isLensview(g))return d.b.left(f);const O=Object(oe.pipe)(Ie.a.find(g.currentLens.items,Me.a.isBulkAcceptItem),d.g.map(xe.e.pick("value")));return Object(oe.pipe)(O,d.g.exists(e=>"dismissed"===e.visibilityState))?(y.debug("Bulk Accept was dismissed by user. The transformer will skip processing the lens state till the end of the session."),m=!0,d.b.left(f)):Object(oe.pipe)(e.get(),r(t)(g.currentLens.id),d.g.map(l(O,n,y)),d.g.map(e=>Object(oe.pipe)(O,d.g.fold(()=>{const t=Me.a.create(e,(n=g.currentLens.id,Te.b.toCardRenderOptions(p,n,k.a.of(d.g.none))));var n;if(Me.a.isInAppliedState(t))return g;y.debug("adding new BulkAcceptItem to the current lens");const a="text"===g.alertSource;return c.onShow(e.length,a),a?S.e.Prism.getLens().compose(C.a.Prism.items).set(g.currentLens.items.add(t),g):S.e.Prism.getLens().set(Object(u.unsafeCoerce)(Object(oe.pipe)(g.currentLens,i.unselectItem(),e=>Object(s.a)(Object(o.a)({},e),{items:e.items.add(t)}),i.selectItemById(Me.a.id))),g)},t=>{if(Me.a.efficientAlertEq.equals(e,t.alerts))return y.trace("BulkAcceptItem exists and did not change, returning the original state"),g;{const n=Object(oe.pipe)(e,_e.M,x.a.isBulkApplied);return Object(oe.pipe)(e,_e.M,x.a.isBeingApplied)||n&&Me.a.isInUndoneState(t)?(y.trace("BulkAcceptItem is in undone state, skipping update with applied alerts"),g):Me.a.isInAppliedState(t)?(y.debug("Items changed, removing applied BulkAcceptItem from lens"),S.e.Prism.getLens().compose(C.a.Prism.items).set(g.currentLens.items.remove(t.id),g)):(y.debug("updating BulkAcceptItem with new alerts"),S.e.Prism.getLens().compose(C.a.Prism.items).set(g.currentLens.items.add(Me.a.updateAlerts(t,e)),g))}}))),d.g.getOrElse(()=>Object(oe.pipe)(O,d.g.fold(()=>g,e=>Me.a.isInUndoneState(e)?(y.trace("BulkAcceptItem is in undone state, returning original state"),g):(y.debug("removing BulkAcceptItem from the current lens"),S.e.Prism.getLens().compose(C.a.Prism.items).set(g.currentLens.items.remove(e.id),g))))),e=>d.b.left({state:e,metadata:b}))}};const r=e=>n=>a=>Object(oe.pipe)(n,d.g.fromPredicate(v.a.isMainLens),d.g.map(t=>Object(oe.pipe)(a,Ae.a.reduce([],(n,a)=>Object(oe.pipe)(a,d.g.fromPredicate(n=>e.alertIsBulkAcceptable(t)(n.alert)||b.a.State.isBulkApplied(n.state)||b.a.isBeingAppliedinBulk(n.alert)),d.g.map(xe.e.pick("alert")),d.g.map(x.a.fromModel),d.g.filter(x.a.isDefault),d.g.fold(()=>n,e=>(n.push(e),n)))))),d.g.map(d.a.partition(x.a.isBulkApplied)),d.g.chain(({left:e,right:n})=>n.length>0?d.g.some(n):e.length>=t?d.g.some(e):d.g.none)),i=(e,t)=>n=>Object(oe.pipe)(e,d.g.map(xe.e.pick("alerts")),d.g.chain(f.S(e=>e.id===n.id)),d.g.chain(xe.e.pick("diff")),d.g.alt(()=>t(n))),c=(e,t)=>n=>Object(oe.pipe)(n.getTransform(),d.g.map(xe.e.pick("content")),d.g.chain(d.g.fromEither),d.g.map(e=>e.alternatives.slice(0,1)),d.g.map(e),d.g.chain(d.b.fold(e=>(t.error("Could not hydrate diff",{e,alert:x.a.snapshot(n)}),d.g.none),f.ib))),l=(e,n,a)=>r=>Object(oe.pipe)(r,f.ub(l=>Object(s.a)(Object(o.a)({},l),{diff:Object(oe.pipe)(l,i(e,c(n,a))),ignoreAllowed:r.length>t})))}(ie||(ie={}));var Pe,Ne=n("0Qjk"),De=n("wqt/"),Be=n("Mi0J"),Le=n("eAYH");!function(e){const t=Object(m.l)(h.d.Logging.getLogger),n=()=>t("BulkAcceptSideEffects"),a=e=>n().error("Bulk accept item not found in lens state",{effectId:e}),r=(e,t)=>n().error("Alert does not exist in AlertsCollection",{alertId:e,effectId:t});e.selectNextCardOnBulkAcceptConfirmed=(e,t,a,r)=>e.pipe(k.a.filter(Be.a.isConfirmAll),k.a.withLatestFrom(a,r),k.a.filter(([,e,n])=>n&&S.e.hasCards(e)&&v.a.isMainLens(e.currentLens.id)&&d.g.isNone(t(e.currentLens))),k.a.map(()=>S.e.Effect.FocusBehavior.focusNext),k.a.tap(e=>n().trace("selectNextCardOnBulkAccept emit: ",e)));const i=e=>Object(oe.pipe)(e.currentLens.items.find(Me.a.isBulkAcceptItem),d.g.map(e=>e.value));e.createEffects=function({actions:e,tracking:t,alertService:s,alertsReader:c,enableMPTE:l=!1}){const p=new Map,h=e=>{l&&(p.has(e.id)&&g(e.id),Object(oe.pipe)(s.takeReference(e,"BulkAccept"),d.b.fold(e=>n().error("failed to hold reference to bulk accepted alert",e),t=>p.set(e.id,t))))},g=e=>{if(l){const t=p.get(e);void 0!==t&&(t.dispose(),p.delete(e))}},v=()=>{l&&(p.forEach(e=>e.dispose()),p.clear())},y=[{actionToHandle:Be.a.Kind.apply,handler:({kind:e})=>r=>(requestAnimationFrame(()=>Object(oe.pipe)(i(r),d.g.map(xe.e.pick("alerts")),d.g.map(f.ub(e=>(h(e),e.id))),d.g.fold(()=>a(e),e=>{t.onAccept(e.length),Object(oe.pipe)(s.applyBulk(e,Ne.a.FeedbackSubtype.Sidebar),De.a.tapFailure(e=>n().error("error calling alert service to apply alerts bulk",e)))}))),r)},{actionToHandle:Be.a.Kind.dismiss,handler:({kind:e})=>n=>Object(oe.pipe)(i(n),d.g.fold(()=>(a(e),n),e=>{t.onDismiss(e.alerts.length);const a=Me.a.dismiss(e);return S.e.Prism.getLens().compose(C.a.Prism.items).set(n.currentLens.items.modifyWith([[e.id,a]],()=>a),n)}))},{actionToHandle:Be.a.Kind.bulkUndo,handler:({kind:e})=>n=>Object(oe.pipe)(i(n),d.g.fold(()=>(a(e),n),e=>{v(),t.onBulkUndo(e.alerts.length),requestAnimationFrame(()=>{s.undoBulk(e.alerts.map(e=>e.id),Ne.a.FeedbackSubtype.Sidebar)});const a=Me.a.undo(e);return S.e.Prism.getLens().compose(C.a.Prism.items).set(n.currentLens.items.modifyWith([[e.id,a]],()=>a),n)}))},{actionToHandle:Be.a.Kind.ignore,handler:({alertId:e,kind:r})=>o=>Object(oe.pipe)(o,((e,t)=>Object(u.flow)(i,d.g.map(xe.e.pick("alerts")),d.g.chain(Object(u.flow)(f.S(t=>t.id===e),d.g.tapLeft(()=>t.error("Alert not found in BulkAcceptItem"))))))(e,n()),d.g.fold(()=>(a(r),o),a=>(h(a),t.onIgnore(a.patternName),Object(oe.pipe)(s.applyFeedback(e,{kind:Ne.a.AlertFeedbackType.IGNORE,subtype:Ne.a.FeedbackSubtype.Sidebar},b.b.text),d.b.fold(e=>n().error("error sending ignore feedback",e),u.constVoid)),o)))},{actionToHandle:Be.a.Kind.individualUndo,handler:({alertId:e,kind:a})=>i=>Object(oe.pipe)(c.getById(e),d.g.fold(()=>(r(e,a),i),a=>(l&&i.currentLens.items.filter(Object(m.b)(Le.b.isWithAlertsItem,e=>b.a.isRemoved(e.activeAlert))).values().forEach(e=>g(e.activeAlert.id)),t.onRevert(a.patternName),Object(oe.pipe)(s.applyFeedback(e,{kind:Ne.a.AlertFeedbackType.IGNORE_BULK_ACCEPTED,subtype:Ne.a.FeedbackSubtype.Sidebar},b.b.text),d.b.fold(e=>n().error("error sending undo feedback",e),u.constVoid)),i)))},{actionToHandle:Be.a.Kind.confirmed,handler:({alertId:e,kind:a})=>i=>Object(oe.pipe)(c.getById(e),d.g.fold(()=>(r(e,a),i),e=>(g(e.id),t.onLooksGood(),Object(oe.pipe)(s.confirmApplied([e.id]),d.b.fold(e=>n().error("error during individual confirm",e),u.constVoid)),i)))},{actionToHandle:Be.a.Kind.confirmedAll,handler:({alertIds:e})=>a=>(v(),t.onAllLooksGood(e.length),Object(oe.pipe)(s.confirmApplied(e),d.b.fold(e=>n().error("error during bulk confirm of applied alerts",e),u.constVoid)),a)},{actionToHandle:Be.a.Kind.highlight,handler:({kind:e,alert:n})=>r=>Object(oe.pipe)(i(r),d.g.fold(()=>(a(e),r),e=>{const a=Object(oe.pipe)(S.e.Prism.getLens().compose(C.a.Prism.items).set(r.currentLens.items.add(Object(oe.pipe)(e,Me.a.selectAlert(n.id))),r),e=>({currentLens:e.currentLens,alertSource:b.b.sidebar}));return t.onSuggestionClick(n.patternName),r.patch(a)}))}];return Object(oe.pipe)(y,d.f.map(o(e)))};const o=e=>({actionToHandle:t,handler:n})=>{const a=e.pipe(k.a.map(e=>a=>e.kind===t?n(e)(a):a));return{id:"bulkAcceptSideEffect-"+t,when:v.a.isWithAlertsId,what:S.e.Effect.Applicator.create(a)}}}(Pe||(Pe={}));var Fe,Re=n("zvK+"),He=n("+ySe"),Ve=n("KH+i"),Ue=n("wsul"),We=n("rtUA"),ze=n("9UJa"),Ge=n("IJtK"),qe=n("mtPC"),Ke=n("6YEU");!function(e){e.nothing=d.b.left;e.liftLensState=function(e){return t=>d.b.left(Object(s.a)(Object(o.a)({},t),{state:e(t.state)}))},e.liftWithItemsState=function(e){return t=>d.b.left(Object(s.a)(Object(o.a)({},t),{state:S.e.hasItems(t.state)?S.e.Prism.getLensWithItems().modify(e,t.state):t.state}))},e.liftLensView=function(e){return t=>d.b.left(Object(s.a)(Object(o.a)({},t),{state:S.e.hasCards(t.state)?S.e.Prism.getLens().modify(e,t.state):t.state}))}}(Fe||(Fe={}));var $e,Ze=n("aaNd"),Ye=n("Gwvb"),Xe=n("K40b");!function(e){function t(e){return([t,n])=>Object(oe.pipe)(Ae.a.diff(t,n),Xe.a.reduce(!1,u.identity,(t,{alert:n})=>b.a.isApplied(n)&&n.state.undoable.action===Ne.a.AlertFeedbackType.IGNORE&&d.g.isSome(e.getAlertMuteCategory(n.id)),u.identity))}e.showCardMuteOnboarding=function(e,n,a,r,i,o){return{id:"mutingAlertDismissed",when:u.constTrue,what:S.e.Effect.Applicator.create(n.state.pipe(k.a.takeUntil(e.pipe(k.a.filter(u.identity))),k.a.pairwise(),k.a.filter(t(a)),k.a.scan(e=>e+1,0),k.a.filter(e=>2===e),k.a.switchMap(r),k.a.tap(e=>{"closedByUser"===e?i():"shown"===e&&o()}),k.a.switchMap(()=>k.a.NEVER)))}}}($e||($e={}));var Qe,Je,et=n("h+d6"),tt=n("P9Nt"),nt=n("jH4R"),at=n("skc2"),rt=n("Eve8"),it=n("txgs"),ot=n("s1NC"),st=n("jSIJ"),ct=n("B8sb"),lt=n("QYPR"),ut=n("/VNA"),dt=n("iUFV"),pt=n("1vTd"),mt=n("PR1L");!function(e){var t=e.OVERRIDE_NEXT_PAY_DATE_FOR_DEBUG_KEY="OVERRIDE_NEXT_PAY_DATE_FOR_DEBUG_KEY";e.create=function({nextPayDate:e,currentPlan:a},r,i=he.c.DenaliStorage.fromLocalStorage(he.c.ls)){Object(m.r)("gbSatisfactionSurveyModelOverrideNextPayDateForDebug",e=>i.setItem(t,e));const o=xe.d.Local.parseDate(Object(oe.pipe)(i.getItem(t),d.g.getOrElse(()=>e)));return a?Object(oe.pipe)(d.g.fromEither(o),d.g.map(n),d.g.map(e=>({daysFromInstitutionCreation:e,isAdmin:r.admin,isTrial:!0===a.hasTrial}))):d.g.none};const n=e=>{const t=xe.d.Local.Timestamp,n=xe.d.Local.daysAgo(e,7);return Math.floor(t.subtract(t.now(),n)/xe.d.MS_IN_DAY)}}(Qe||(Qe={})),function(e){let t=null;e.create=function({currentPlan:e,nextPayDate:r,expirationDate:i}){var o;Object(m.r)("premiumSurveyModelOverridePremiumEndDate",e=>t=e);const s=xe.d.Local.parseDate(null!==(o=null!=t?t:r)&&void 0!==o?o:i);return e?Object(oe.pipe)(d.g.fromEither(s),d.g.map(n(e.periodMonths)),d.g.map(t=>({weeksPassedFromLastPayment:t,currentPlanType:a(e)}))):d.g.none};const n=e=>t=>{const n=xe.d.Local.Timestamp.toLocal(xe.d.Local.monthsAgo(t,e));return xe.d.Local.toTimestamp(xe.d.Local.subtract(xe.d.Local.now(),n))/xe.d.MS_IN_WEEK};function a(e){switch(e.periodMonths){case 1:return"Monthly";case 3:return"Quarterly";default:return"Annual"}}}(Je||(Je={}));var ft,ht=n("ykgB"),gt=n("Y8fD"),bt=n("xAs4"),vt=n("MKsy");!function(e){e[e.Inactive=0]="Inactive",e[e.ListenCrossSession=1]="ListenCrossSession",e[e.ListenCurrentSession=2]="ListenCurrentSession"}(ft||(ft={}));var yt,Ot;!function(e){var t=function(e,t){return{type:e,currentSessionRules:[k.a.EMPTY,t.pipe(k.a.filter(S.e.isLensview),k.a.pairwise(),k.a.filter((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return!vt.a.isInGlobalSuccess(n)&&vt.a.isInGlobalSuccess(a)})),k.a.debounceTime(2e3))],crossSessionRules:function(e){return k.a.of({counter:e.counter+1})},get defaultData(){return{actual:!0,counter:0,wasClosedAt:d.g.none}},getState:function(e){var t=Date.now()-Object(oe.pipe)(e.wasClosedAt,d.g.fold((function(){return 0}),(function(e){return e.getTime()})));return!e.actual||t<7*xe.d.MS_IN_DAY?ft.Inactive:e.counter>=3?ft.ListenCurrentSession:ft.ListenCrossSession},transform:function(e){return gt.a.isCloseAction(e)?{actual:!1}:{wasClosedAt:d.g.some(new Date)}}}};e.getMostActiveUsers=function(e){return{type:st.p.MostActiveUsers,currentSessionRules:t(st.p.MostActiveUsers,e).currentSessionRules,crossSessionRules:function(e){return k.a.of({lastThreeVisits:e.lastThreeVisits.concat([(new Date).toISOString()]).slice(-3)})},get defaultData(){return{passed:!1,lastThreeVisits:[]}},getState:function(e){return e.passed?ft.Inactive:e.lastThreeVisits.length<3||Date.now()-new Date(e.lastThreeVisits[0]).getTime()>7*xe.d.MS_IN_DAY?ft.ListenCrossSession:ft.ListenCurrentSession},transform:function(){return{passed:!0}}}},e.getDefault=t;var n=function(e){var t=xe.d.Local.toTimestamp(e),n=xe.d.Local.daysAgo(xe.d.Local.now(),14);return t>=xe.d.Local.monthsAgo(xe.d.Local.now(),12)&&t<=n};e.getProofit=function(e,t,a,r,i){var o=a.modal.pipe(k.a.first(d.g.isSome),k.a.mapTo({actual:!1}));return{type:st.p.ProofitPromo,crossSessionRules:function(){return k.a.throwError(new p.b("Proofit Survey invalid cross session observable"))},get currentSessionRules(){var s=e.textInfo.pipe(k.a.map(d.g.filter((function(e){return e.wordsCount>=200}))),k.a.concatMap(d.g.fold((function(){return k.a.EMPTY}),(function(){return a.requestStatistics()}))),k.b.compact,k.a.map((function(e){return e.lastCompletedJobDate})),k.b.compact,k.a.filter(n)),c=t.textChangedAfterPaste.pipe(k.a.filter((function(e){return"partial"!==e.type})),k.a.switchMapTo(s));return[o,i.view((function(e){return e===bt.m.enabled})).pipe(k.a.switchMap(E.b.orEmpty(k.a.mergeStatic(r.isUploaded()?s:k.a.EMPTY,c).pipe(k.a.first()))))]},get defaultData(){return{actual:!0}},getState:function(e){return e.actual?ft.ListenCurrentSession:ft.Inactive},transform:function(e){return"getStarted"===e&&a.showOrderModal(),{actual:!1}}}},e.getPremiumOnboarding=function(e){return{type:st.p.PremiumOnboarding,crossSessionRules:function(){return k.a.throwError(new p.b("Premium Onboarding Survey invalid cross session observable"))},defaultData:{afterFirstWeek:!1,afterSecondWeek:!1},currentSessionRules:[k.a.EMPTY,k.a.of(e).pipe(k.a.filter(d.g.exists((function(e){return e.weeksPassedFromLastPayment>1}))),k.a.delay(2e3))],getState:function(t){return Object(oe.pipe)(e,d.g.fold((function(){return ft.Inactive}),(function(e){var n=e.weeksPassedFromLastPayment;return n>2&&!t.afterSecondWeek||n>1&&!t.afterFirstWeek?ft.ListenCurrentSession:ft.Inactive})))},transform:function(t){return Object(i.a)({},Object(oe.pipe)(e,d.g.exists((function(e){return e.weeksPassedFromLastPayment>2})))?"afterSecondWeek":"afterFirstWeek",gt.a.isCloseAction(t))}}},e.getGBSatisfaction=function(e){return{type:st.p.GBSatisfaction,crossSessionRules:function(){return k.a.throwError(new p.b("GB Satisfaction Survey invalid cross session observable"))},defaultData:{firstAppearance:!1,secondAppearance:!1,surveyCompleted:!1},currentSessionRules:[k.a.EMPTY,k.a.of(e).pipe(k.a.filter(d.g.exists((function(e){return e.daysFromInstitutionCreation>=3}))),k.a.delay(2e3))],getState:function(t){return t.surveyCompleted?ft.Inactive:Object(oe.pipe)(e,d.g.fold((function(){return ft.Inactive}),(function(e){var n=e.daysFromInstitutionCreation;return n>=5&&!t.secondAppearance||n>=3&&!t.firstAppearance?ft.ListenCurrentSession:ft.Inactive})))},transform:function(t){return gt.a.isCloseAction(t)?Object(i.a)({},Object(oe.pipe)(e,d.g.exists((function(e){return e.daysFromInstitutionCreation>=5})))?"secondAppearance":"firstAppearance",!0):{surveyCompleted:"completeSurvey"===t}}}}}(yt||(yt={})),(Ot||(Ot={})).create=function(e,t,n,a){var r=h.d.Logging.getLogger("SurveyManager"),i=t.getSurveyModel(e.type).view(d.g.getOrElse((function(){return e.defaultData}))),o=new k.a.BehaviorSubject(d.g.none),s=[i.view((function(t){return[e.getState(t),t]})).pipe(k.a.distinctUntilChanged((function(e,t){return Object(c.a)(e,1)[0]===Object(c.a)(t,1)[0]})),k.a.tap((function(){return o.next(d.g.none)})),k.a.switchMap((function(t){var r=Object(c.a)(t,2),i=r[0],s=r[1];switch(i){case ft.Inactive:return k.a.EMPTY;case ft.ListenCrossSession:return e.crossSessionRules(s);case ft.ListenCurrentSession:var l=Object(c.a)(e.currentSessionRules,2),u=l[0],m=l[1];return u.pipe(k.a.merge(m.pipe(k.a.switchMapTo(n.state),k.a.filter((function(e){return e.length<1})),k.a.take(1),k.a.switchMap((function(){return o.next(d.g.some(e.type)),a(e.type).pipe(k.a.map(e.transform),k.a.take(1),k.a.finalize((function(){o.next(d.g.none)})))})))));default:return Object(p.c)(i)}}))).subscribe((function(n){return t.setSurveyModel(e.type,xe.e.update(i.get(),n))}),(function(e){return r.error("Survey error",e)}))];return Object(m.r)("survey",{show:function(){return i.get()},clear:function(){return t.setSurveyModel(e.type,e.defaultData)}}),{dispose:function(){return s.forEach((function(e){return e.unsubscribe()}))}}};var St=n("/7y/"),Ct=n("3I9b"),wt=function(e){return function(t){return{onShow:function(){e.gnarSpec.gbSatisfactionSurveySurveyShow(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId)},onClose:function(){e.gnarSpec.gbSatisfactionSurveySurveyClose(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId)},onFirstAnswer:function(n){e.gnarSpec.gbSatisfactionSurveySurveyAnswerFirst(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId,n)},onSecondAnswer:function(n){e.gnarSpec.gbSatisfactionSurveySurveyAnswerSecond(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId,n)},onThirdAnswer:function(n){e.gnarSpec.gbSatisfactionSurveySurveyAnswerThird(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId,n)}}}};function kt(e,t,n,a,r,i,o,s,c,l,u){var m=Object(oe.pipe)(l.state.get(),(function(e){return ht.a.isOk(e)?Je.create(e.value):d.g.none})),f=Object(oe.pipe)(l.state.get(),(function(e){return ht.a.isOk(e)&&Boolean(e.value.currentPlan)&&d.g.isSome(o.profile.get().institutionInfo)?Qe.create(e.value,d.g.unsafeGet(o.profile.get().institutionInfo)):d.g.none})),h=function(e,t,n,a,r){return function(i){return st.m.mapBySurveyType(i,(function(){return e.state.view(d.g.isNone).pipe(k.a.switchMap(E.b.orEmpty(t.enqueue("proofitPromo").pipe(k.a.filter((function(e){return"shown"!==e}))))))}),(function(e){return t.enqueue("externalSurvey",{surveyType:e}).pipe(k.a.filter((function(e){return"shown"!==e})))}),(function(){return Object(oe.pipe)(n,d.g.map(function(e){return function(t){return{onShow:function(){e.gnarSpec.premiumOnboardingSurveySurveyShow(t.weeksPassedFromLastPayment>2,e.pageId,t.currentPlanType)},onClose:function(){e.gnarSpec.premiumOnboardingSurveySurveyClose(t.weeksPassedFromLastPayment>2,e.pageId,t.currentPlanType)},onFirstAnswer:function(n){e.gnarSpec.premiumOnboardingSurveySurveyAnswerFirst(t.weeksPassedFromLastPayment>2,e.pageId,t.currentPlanType,n)},onSecondAnswer:function(n){e.gnarSpec.premiumOnboardingSurveySurveyAnswerSecond(t.weeksPassedFromLastPayment>2,e.pageId,t.currentPlanType,n)}}}}(r)),d.g.fold((function(){return k.a.EMPTY}),(function(e){return e.onShow(),t.enqueue("premiumOnboardingSurvey",{viewModel:new Ct.c(e)}).pipe(k.a.filter((function(e){return"shown"!==e})),k.a.tap(e.onClose))})))}),(function(){return Object(oe.pipe)(a,d.g.map((function(e){return{isAdmin:e.isAdmin,tracking:wt(r)(e)}})),d.g.fold((function(){return k.a.EMPTY}),(function(e){var n=e.isAdmin,a=e.tracking;return a.onShow(),t.enqueue("gbSatisfactionSurvey",{viewModel:new St.c(a,n)}).pipe(k.a.filter((function(e){return"shown"!==e})),k.a.tap(a.onClose))})))}))}}(s,c,m,f,u);switch(e){case st.p.FreeClarityAlertsEnabled:case st.p.FreeClarityAlertsControl:case st.p.ProofitPromo:return Ot.create(yt.getProofit(n,a,r,i,o.features.proofit),o.settings,c,h);case st.p.PremiumOnboarding:return Ot.create(yt.getPremiumOnboarding(m),o.settings,c,h);case st.p.GBSatisfaction:return Ot.create(yt.getGBSatisfaction(f),o.settings,c,h);case st.p.MostActiveUsers:return Ot.create(yt.getMostActiveUsers(t),o.settings,c,h);default:return Object(p.c)(e)}}var Et=n("3PdT"),jt=n("/9H4"),_t=n("5OHN");var xt,At=n("LqyO"),It=n("8XoQ"),Tt=n("6uQI"),Mt=h.d.Logging.getLogger("cardsTelemetry"),Pt=h.d.TimeSeries.rootFemetrics.getMetric("card.fullChecking"),Nt=function(){function e(t,n,r,o,s){var l=this;Object(a.a)(this,e),Object(i.a)(this,"_telemetry",void 0),Object(i.a)(this,"_cardActions",void 0),Object(i.a)(this,"_lensState",void 0),Object(i.a)(this,"_mutingAlertsReader",void 0),Object(i.a)(this,"_activeAlertGetter",void 0),Object(i.a)(this,"_subs",void 0),Object(i.a)(this,"_focusedCardObservable",void 0),Object(i.a)(this,"_cardFeedbackFormDismissed",void 0),Object(i.a)(this,"_isFreePremiumAlert",void 0),this._telemetry=t,this._cardActions=n,this._lensState=r,this._mutingAlertsReader=o,this._activeAlertGetter=s,this._subs=new w.a.Keeper,this._focusedCardObservable=this._lensState.pipe(k.a.map(S.e.getActiveItem(this._activeAlertGetter)),k.b.compact,k.a.filter((function(e){return"focused"===e.visualState.transition.type}))),this._cardFeedbackFormDismissed=this._lensState.pipe(k.a.map(S.e.getActiveItem(this._activeAlertGetter)),k.b.compact,k.a.pairwise(),k.a.filter((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return"feedback_form"===n.visualState.transition.type&&n.id!==a.id})),k.a.map((function(){return k.a.from(l._telemetry.gnarSpec.feedbackFormCardFormSkipped((l._telemetry.pageId,l._telemetry.pageSessionId)))}))),this._isFreePremiumAlert=this._lensState.view((function(e){return Object(oe.pipe)(e,S.e.getActiveItem(l._activeAlertGetter),d.g.chain((function(e){return e.activeAlert.freePremium})),d.g.exists((function(e){return"unlocked"===e})))})),this._subs.push(this._cardActions.pipe(k.a.map((function(e){switch(e.type){case y.b.Type.alertCardShow:var t=l._lensState.get();return k.a.from(l._telemetry.gnarSpec.alertCardShow(e.cardType,l._isFreePremiumAlert.get(),t.currentLens.id,l._telemetry.pageId,t.switchOrder,l._telemetry.pageSessionId));case y.b.Type.alertMinicardButtonClick:return k.a.from(l._telemetry.gnarSpec.alertMinicardButtonClick(Object(oe.pipe)(e.alertHighlight.alert.freePremium,d.g.exists((function(e){return"unlocked"===e}))),l._telemetry.pageId,l._telemetry.pageSessionId));case y.b.Type.alertApply:if(e.cardType!==y.b.CardType.superCard&&Object(oe.pipe)(r.get(),S.e.mapper((function(t){return t.currentLens.items.get(e.id)})),d.g.map(xe.e.pick("value")),d.g.exists((function(e){return Object(m.p)(Le.b.isWithAlertsItem,vt.a.isAlertRefSDUI)(e)&&1===e.alerts.length})))){var n="timer_cardApply";Object(oe.pipe)(Tt.a.popTimeFromGlobalTimers(n),d.g.fold((function(){return h.d.Logging.getLogger(n).error("Missing start time")}),(function(e){return h.d.TimeSeries.rootFemetrics.getTimer(n).recordTime(Date.now()-e)})))}return k.a.from(l._telemetry.gnarSpec.suggestedReplacementButtonClick(l._isFreePremiumAlert.get(),l._telemetry.pageId,e.cardType,"assistantOn",l._telemetry.pageSessionId));case y.b.Type.openSetGoals:return k.a.from(l._telemetry.gnarSpec.cardActionButtonClick(l._telemetry.pageId));case y.b.Type.alternativeReplacementRadioButtonClick:return k.a.from(l._telemetry.gnarSpec.alternativeReplacementRadioButtonClick(l._telemetry.pageId,e.index));case y.b.Type.cardMatchesNavigationButtonClick:return k.a.from(l._telemetry.gnarSpec.cardMatchesNavigationButtonClick(e.direction,l._telemetry.pageId,l._telemetry.pageSessionId));case y.b.Type.switchToClosestByViewport:return k.a.from(l._telemetry.gnarSpec.moreAlertsButtonClick(e.position,e.cardsAmount,l._telemetry.pageId));case y.b.Type.moreAlertsButtonShow:return k.a.from(l._telemetry.gnarSpec.moreAlertsButtonShow(e.position,e.cardsAmount,l._telemetry.pageId));case y.b.Type.fullSentenceHighlightChangesToggle:return k.a.from(l._telemetry.gnarSpec.fullSentenceCardHighlightChangesToggled(e.showChanges,l._telemetry.pageId,l._telemetry.pageSessionId));case y.b.Type.moreActionsButtonToggle:return"open"===e.mode?k.a.from(l._telemetry.gnarSpec.alertCardThreeDotsMenuClick(l._isFreePremiumAlert.get(),l._telemetry.pageId,l._telemetry.pageSessionId)):k.a.EMPTY;case y.b.Type.alertIgnore:return k.a.from(l._telemetry.gnarSpec.alertCardDismissClick(l._isFreePremiumAlert.get(),l._telemetry.pageId,Object(oe.pipe)(l._mutingAlertsReader,d.g.chain((function(t){return t.getAlertMuteCategory(e.alertId)})),d.g.map((function(e){return e.id})),d.g.getOrElse((function(){}))),l._telemetry.pageSessionId));case y.b.Type.muteAlertCategory:return k.a.from(l._telemetry.gnarSpec.deactivatedSuggestionsCardTurnOffButtonClick(e.categoryId,l._telemetry.pageId,l._telemetry.pageSessionId));case y.b.Type.mutedAlertSuccessShow:return k.a.from(l._telemetry.gnarSpec.deactivatedSuggestionsCardCategoryDeactivatedShow(l._telemetry.pageId,l._telemetry.pageSessionId));case y.b.Type.undoMuteAlertCategory:return k.a.from(l._telemetry.gnarSpec.deactivatedSuggestionsTurnBackOnButtonClick(l._telemetry.pageId,l._telemetry.pageSessionId));case y.b.Type.mutedAlertSuggestionManagementClick:return k.a.from(l._telemetry.gnarSpec.deactivatedSuggestionsSuggestionManagementClick(l._telemetry.pageId,"undoPopup",l._telemetry.pageSessionId));case y.b.Type.muteQuotedAdviceShow:return k.a.from(l._telemetry.gnarSpec.muteQuotedAlertsNotificationShown(l._telemetry.pageId,l._telemetry.pageSessionId));case y.b.Type.dismissMuteQuotedAdvice:return k.a.from(l._telemetry.gnarSpec.muteQuotedAlertsNotificationDismissed(l._telemetry.pageId,l._telemetry.pageSessionId));case y.b.Type.openPreferences:return k.a.from(l._telemetry.gnarSpec.muteQuotedAlertsSettingsOpened((l._telemetry.pageId,l._telemetry.pageSessionId)));case y.b.Type.alertIgnoreFormSubmit:return Boolean(e.reason)?k.a.EMPTY:k.a.from(l._telemetry.gnarSpec.feedbackFormCardFormSkipped((l._telemetry.pageId,l._telemetry.pageSessionId)));case y.b.Type.alertIgnoreFeedbackFormShow:return k.a.from(l._telemetry.gnarSpec.feedbackFormCardFormOpened((l._telemetry.pageId,l._telemetry.pageSessionId)));default:return k.a.EMPTY}})),k.a.merge(this._cardFeedbackFormDismissed),k.a.switchMap((function(e){return e.pipe(k.a.catchError((function(e){return Mt.warn("Card telemetry request failed",e),k.a.EMPTY})))}))).subscribe(),this._focusedCardObservable.pipe(k.a.distinctUntilChanged((function(e,t){return e.id===t.id})),k.a.switchMap((function(e){if(e.meta.checking===It.a.CheckingState.Full){var t=performance.now(),n=!1;return l._focusedCardObservable.pipe(k.a.first((function(e){return e.meta.checking!==It.a.CheckingState.Full})),k.a.tap((function(){Pt.getTimer("finished").recordTime(performance.now()-t),n=!0})),k.a.finalize((function(){n||Pt.getTimer("interrupted").recordTime(performance.now()-t)})))}return k.a.EMPTY}))).subscribe())}return Object(r.a)(e,[{key:"dispose",value:function(){this._subs.dispose()}}]),e}(),Dt=n("wxju"),Bt=n("Jr5U"),Lt=n("6x3U"),Ft=n("m1oj"),Rt=n("OMUe"),Ht=n("AvMM"),Vt=n("rOJn");(xt||(xt={})).updateCitationStyle=function(e,t,n){return function(a){var r=Object(oe.pipe)(e.defaultContext.get(),d.g.getOrElse((function(){return Vt.a.defaultContextFallback}))),i=Object(oe.pipe)(e.context.get(),Vt.a.OutcomeContext.withCitationStyle(a));if(Object(oe.pipe)(i,e.updateContext)){var o=t.enqueue("citationStyleChange",{citationStyle:a}).subscribe();return n.gnarSpec.goalsFormSuccess(Object(oe.pipe)(i.domain,d.g.getOrElse((function(){return r.domain}))),Object(oe.pipe)(i.goals,d.g.getOrElse((function(){return r.goals})),(function(e){return Array.from(e)})),n.pageId,"essayDetectionCard",Object(oe.pipe)(i.outcomeContext,d.g.map(xe.e.pick("type")),d.g.toUndefined),void 0,Object(oe.pipe)(i.outcomeContext,d.g.map(xe.e.pick("citation")),d.g.toUndefined),void 0),o}return k.a.EMPTY.subscribe()}};var Ut=n("wvT7"),Wt=n("CulD"),zt=n("MK74"),Gt=h.d.Logging.getLogger("ethicalAICardtelemetry"),qt=function(){function e(t,n,r,o,s,l,p,f){var h=this;Object(a.a)(this,e),Object(i.a)(this,"_telemetry",void 0),Object(i.a)(this,"_cardActions",void 0),Object(i.a)(this,"_lensState",void 0),Object(i.a)(this,"_alertsReader",void 0),Object(i.a)(this,"_alertUserEvents",void 0),Object(i.a)(this,"_obsCapiClient",void 0),Object(i.a)(this,"_checkingDomain",void 0),Object(i.a)(this,"_alertsFilterService",void 0),Object(i.a)(this,"_subs",void 0),Object(i.a)(this,"_alertCardOrBundleTransitionedToRendered",void 0),Object(i.a)(this,"_alertCardExpanded",void 0),Object(i.a)(this,"_activeAlert",void 0),Object(i.a)(this,"_alertHighlightClicked",void 0),this._telemetry=t,this._cardActions=n,this._lensState=r,this._alertsReader=o,this._alertUserEvents=s,this._obsCapiClient=l,this._checkingDomain=p,this._alertsFilterService=f,this._subs=new w.a.Keeper,this._alertCardOrBundleTransitionedToRendered=this._lensState.view((function(e){return Object(oe.pipe)(d.g.fromPredicate(S.e.hasItems)(e),d.g.map((function(e){return e.currentLens.items})),d.g.map((function(e){return e.filter(Object(m.p)(vt.a.isAlertCard,vt.a.isAlertsBundle))})),d.g.map((function(e){return e.filter((function(e){return"rendered"===e.visualState.transition.type}))})),d.g.map((function(e){return e.values()})))})).pipe(k.b.compact,k.a.startWith([]),k.a.pairwise(),k.a.map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1],r=new Set(n.map((function(e){return e.id})));return a.filter((function(e){return!r.has(e.id)}))})),k.a.mergeAll()),this._alertCardExpanded=this._cardActions.pipe(k.a.filter(y.a.isCardExpand),k.a.withLatestFrom(this._lensState),k.a.map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(oe.pipe)(d.g.fromPredicate(S.e.hasItems)(a),d.g.chain((function(e){return e.currentLens.items.get(n.id)})))})),k.b.compact,k.a.pluck("value")),this._activeAlert=this._lensState.pipe(k.a.map(Object(u.flow)(d.g.fromPredicate(Object(m.b)(S.e.hasCards,vt.a.hasItemUnion)),d.g.filter((function(e){return v.a.isMainLens(e.currentLens.id)})),d.g.chain((function(e){return vt.a.getActiveItemWithAlert(e.currentLens)})),d.g.map((function(e){return e.activeAlert}))))),this._alertHighlightClicked=this._alertUserEvents.alertClicked.pipe(k.a.map(d.g.map((function(e){return e.alert}))),k.a.withLatestFrom(this._activeAlert),k.a.map(Object(u.flow)(Object(u.tupled)(Object(Ut.b)(d.g.option)),d.g.filter((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return n.id!==a.id})),d.g.map(Wt.b))),k.b.compact),this._subs.push(k.a.mergeStatic(this._obsCapiClient.events.pipe(k.a.filter(Ne.a.CAPIEvent.is("alert_received")),k.a.map((function(e){return e.alert})),k.a.filter(zt.A.isEthicalAI),k.a.map((function(t){return k.a.from(h._telemetry.gnarSpec.ethicalAIAlertTriggered(h._telemetry.pageId,e._getSensitivityType(t.pname),h._telemetry.pageSessionId))}))),this._getEthicalAIAlertObservable(this._checkingDomain.state.pipe(k.a.pairwise(),k.a.map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return Ae.a.diff(n,a)})),k.a.map(Xe.a.foldMap(d.a.getMonoid())(Object(u.constant)(d.a.empty),Object(u.constant)(d.a.empty),(function(e){return[e]}))),k.a.filter(d.a.isNonEmpty),k.a.mergeAll(),k.a.map((function(e){return e.alert})),k.a.combineLatest(be.a.getAlertVisibleInTextFilter(this._alertsFilterService,this._lensState)),k.a.filter((function(e){var t=Object(c.a)(e,2),n=t[0];return t[1].filter(n)})),k.a.map((function(e){return Object(c.a)(e,1)[0].id})))).pipe(k.a.map((function(t){return k.a.from(h._telemetry.gnarSpec.ethicalAIAlertUnderlineShow(h._telemetry.pageId,e._getSensitivityType(t.patternName),h._telemetry.pageSessionId))}))),this._getEthicalAIAlertObservable(this._alertHighlightClicked.pipe(k.a.filter(x.a.isEthicalAI),k.a.map((function(e){return e.id})))).pipe(k.a.map((function(t){return k.a.from(h._telemetry.gnarSpec.ethicalAIAlertUnderlineClick(h._telemetry.pageId,e._getSensitivityType(t.patternName),h._telemetry.pageSessionId))}))),this._getEthicalAIAlertObservable(this._alertCardOrBundleTransitionedToRendered.pipe(k.a.filter(Le.b.isEthicalAIItem),k.a.map((function(e){return e.activeAlert.id})))).pipe(k.a.map((function(t){return k.a.from(h._telemetry.gnarSpec.ethicalAIAssistantMiniCardShow(h._telemetry.pageId,e._getSensitivityType(t.patternName),h._telemetry.pageSessionId))}))),this._getEthicalAIAlertObservable(this._cardActions.pipe(k.a.filter(y.b.isAlertCardShow),k.a.map((function(e){return e.alertId})))).pipe(k.a.debounceTime(300),k.a.map((function(t){return k.a.from(h._telemetry.gnarSpec.ethicalAIAssistantFullCardShow(h._telemetry.pageId,e._getSensitivityType(t.patternName),h._telemetry.pageSessionId))}))),this._getEthicalAIAlertObservable(this._cardActions.pipe(k.a.filter(y.b.isEthicalAIOpenExternalLinkAction),k.a.map((function(e){return e.alertId})))).pipe(k.a.map((function(t){return k.a.from(h._telemetry.gnarSpec.ethicalAIAssistantFullCardExternalLinkButtonClick(t.externalLink,h._telemetry.pageId,e._getSensitivityType(t.patternName),h._telemetry.pageSessionId))}))),this._getEthicalAIAlertObservable(this._alertCardExpanded.pipe(k.a.filter(Le.b.isEthicalAIItem),k.a.map((function(e){return e.activeAlert.id})))).pipe(k.a.map((function(t){return k.a.from(h._telemetry.gnarSpec.ethicalAIAssistantFullCardLearnMoreButtonClick(h._telemetry.pageId,e._getSensitivityType(t.patternName),h._telemetry.pageSessionId))}))),this._getEthicalAIAlertObservable(this._cardActions.pipe(k.a.filter(y.b.isAlertIgnoreAction),k.a.map((function(e){return e.alertId})))).pipe(k.a.map((function(t){return k.a.from(h._telemetry.gnarSpec.ethicalAIAssistantFullCardDismissButtonClick(h._telemetry.pageId,e._getSensitivityType(t.patternName),h._telemetry.pageSessionId))})))).pipe(k.a.switchMap((function(e){return e.pipe(k.a.catchError((function(e){return Gt.warn("EthicalAI card telemetry request failed",e),k.a.EMPTY})))}))).subscribe())}return Object(r.a)(e,[{key:"dispose",value:function(){this._subs.dispose()}},{key:"_getEthicalAIAlertObservable",value:function(e){return e.pipe(k.a.map(this._alertsReader.getById),k.b.compact,k.a.filter(b.a.isEthicalAI))}}],[{key:"_getSensitivityType",value:function(e){return e.split("/").slice(3).join("/")}}]),e}(),Kt=n("55o/"),$t=function(e){return{onShow:function(t){return e.gnarSpec.gbPromptFormShow(e.pageId,t,e.pageSessionId)},onAccept:function(t){return e.gnarSpec.gbPromptAcceptClick(e.pageId,t,e.pageSessionId)},onDismiss:function(t){return e.gnarSpec.gbPromptDismissClick(e.pageId,t,e.pageSessionId)}}},Zt=n("YyPR"),Yt=n("KXIk"),Xt=n("KIX2"),Qt=n("L4BC"),Jt=n("zQvz"),en=n("000W"),tn=n("bQod"),nn=n("V+fo"),an=n("uxqH"),rn=n("XlqH"),on=function(){function e(t,n,r,c,l){var d=this;Object(a.a)(this,e),Object(i.a)(this,"_lensesList",void 0),Object(i.a)(this,"_documentModel",void 0),Object(i.a)(this,"_features",void 0),Object(i.a)(this,"_alertsFilterService",void 0),Object(i.a)(this,"_lensViewMode",void 0),Object(i.a)(this,"_transform",void 0),Object(i.a)(this,"getLens",void 0),Object(i.a)(this,"_outcomes",void 0),Object(i.a)(this,"_previews",void 0),Object(i.a)(this,"_isDocumentEmpty",void 0),Object(i.a)(this,"_outcomeStatusMask",void 0),Object(i.a)(this,"_getPlagiarismLens",void 0),this._lensesList=t,this._documentModel=n,this._features=r,this._alertsFilterService=c,this._lensViewMode=l,this._transform=cn(ln(this._voxInfo)),this.getLens=Object(m.l)((function(e){switch(e){case v.a.SpecialId.AllAlerts:return this._lensesList.view(sn(v.a.Info.allAlerts,v.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(v.a.SpecialId.AllAlerts)));case v.a.SpecialId.PredictionTakeaways:return this._lensesList.view(sn(v.a.Info.predictionTakeaways,v.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(v.a.SpecialId.PredictionTakeaways)));case v.a.SpecialId.PredictionEmogenie:return this._lensesList.view(sn(v.a.Info.predictionEmogenie,v.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(v.a.SpecialId.PredictionEmogenie)));case v.a.SpecialId.Plagiarism:return this._lensesList.view(this._getPlagiarismLens);case v.a.SpecialId.Premium:return this._lensesList.view(sn(v.a.Info.premium,v.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(v.a.SpecialId.Premium)));case v.a.SpecialId.FreePremiumAlerts:return this._lensesList.view(sn(v.a.Info.freePremium,v.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(v.a.SpecialId.FreePremiumAlerts)));case v.a.SpecialId.Correctness:case v.a.SpecialId.Clarity:case v.a.SpecialId.Engagement:case v.a.SpecialId.Delivery:case v.a.SpecialId.Vox:case v.a.SpecialId.KnowledgeHub:return this._lensesList.view(sn(v.a.Info.createOutcome(e),v.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(e)));case v.a.SpecialId.RealTimeProofit:return this._lensesList.view(sn(v.a.Info.realTimeProofit,v.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(e)));default:return Object(p.c)(e)}})),this._outcomes=[v.a.SpecialId.Correctness,v.a.SpecialId.Clarity,v.a.SpecialId.Engagement,v.a.SpecialId.Delivery,v.a.SpecialId.Vox],this._previews=Object(m.l)((function(){return tn.u(Object(nn.getFirstSemigroup)(),en.y)(d._outcomes,(function(e){return[e,d._getPreview(e)]}))})),this._isDocumentEmpty=this._documentModel.documentLength.view("full").view((function(e){return 0===e})),this._outcomeStatusMask=M.a.combine(this._isDocumentEmpty,this._features.isFree,(function(e,t){var n=0;return e&&(n|=rn.a.IsDocumentEmpty),t&&(n|=rn.a.IsFreeUser),n})),this._getPlagiarismLens=Object(u.flow)(sn(v.a.Info.plagiarism,Object(s.a)(Object(o.a)({},v.a.Meta.group.empty),{percentile:an.b.MAX}),this._alertsFilterService.getLensesFilter(v.a.SpecialId.Plagiarism)),v.a.WithAlerts.modifyMeta((function(e){return Object(s.a)(Object(o.a)({},e),{percentile:an.b.groupSum.concat(an.b.MAX,an.b.groupSum.inverse(e.percentile))})})))}return Object(r.a)(e,[{key:"_voxInfo",get:function(){return this._features.denali.voxInfo}},{key:"_getPreview",value:function(e){return this._transform(Object(o.a)(Object(s.a)(Object(o.a)({},v.a.Info.base),{logo:d.g.none}),this._getOutcomeButtonData(e)))}},{key:"lensPreviews",get:function(){return this._previews()}},{key:"_getOutcomeButtonData",value:function(e){var t=this,n=this.getLens(e),a=n.get().title,r=n.get().type,i=M.a.combine(this._features.isFree.view((function(n){return v.a.isVox(e)&&d.g.isNone(t._voxInfo)||(v.a.isEngagement(e)||v.a.isDelivery(e))&&n})),n,(function(e,t){return 0===t.count&&e})),o=M.a.combine(n.view("count").view((function(e){return 0===e})),i,(function(t,n){return t&&!n||n&&v.a.isVox(e)})),s=Object(rn.b)(e),c=s.description,l=s.stateMessage,p=M.a.combine(this._isDocumentEmpty,o,n.view("percentile"),(function(e,t,n){return e?an.b.MIN:t?an.b.MAX:n})).view(an.a.fromRatio),m=M.a.combine(this._documentModel.scoreStatus.view((function(e){return Object(oe.pipe)(e,d.g.map((function(e){return e===Ne.a.Message.ScoresStatus.SENSITIVE})),d.g.getOrElse(u.constFalse))})),n,p,this._outcomeStatusMask,this._lensViewMode.view((function(t){return t(e)===S.h.allAlerts})),l);return{id:e,title:a,description:c,status:m,progress:p,isUnavailable:i,type:r}}}]),e}();function sn(e,t,n){return function(a){return new v.a.LensImpl(e,(r=e.id,i=t,function(e){return Object(oe.pipe)(d.e.lookup(v.a.Id.ord)(r,e),d.g.getOrElse((function(){return i})))})(a),n);var r,i}}var cn=function(e){return function(t){return v.a.isVox(t.id)?Object(s.a)(Object(o.a)({},t),{logo:e()}):t}},ln=function(e){return function(){return Object(oe.pipe)(e,d.g.chain((function(e){return e.logoUrl})))}},un=n("jnnb"),dn=n("how3"),pn=n("gEtV"),mn=n("x1PS"),fn=n("NMQX"),hn=n("8SdM"),gn=n("DHNH"),bn=n("4yB1"),vn=n("zRh/"),yn=n("vf87");function On(e){return"lensesSwitchPanel"===e.type}var Sn,Cn,wn,kn,En,jn,_n,xn=function(){function e(t,n,r){var o=this;Object(a.a)(this,e),Object(i.a)(this,"_lensSwitchPanel",M.a.create(d.g.none)),Object(i.a)(this,"_subs",new w.a.Keeper),this._subs.push(t.state.pipe(k.a.startWith(yn.a.empty),k.a.pairwise(),k.a.map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return yn.a.diff(n,a)})),k.a.tap(Xe.a.forEach((function(e){On(e.content)&&o._lensSwitchPanel.set(d.g.none)}),(function(e,t){On(t.content)&&o._lensSwitchPanel.set(d.g.some(t.content))}),(function(e){On(e.content)&&o._lensSwitchPanel.set(d.g.some(e.content))})))).subscribe(),k.a.combineLatestStatic([n,this._lensSwitchPanel]).pipe(k.a.map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(u.pipe)(n,d.g.fromPredicate(v.a.isWithAlertsId),d.g.chain(Sn.outcomeIdToSDUIKind),d.g.chain((function(e){return Object(u.pipe)(a,d.g.chainNullableK((function(t){return t.lensSwitchButtons.find((function(t){return t.kind===e}))})),d.g.map((function(e){return e.onClickActions})),d.g.tap((function(e){requestAnimationFrame((function(){r.next({type:y.b.Type.sduiCardAction,sourceId:"native",cardId:"",actions:e,scope:{alertRefs:[]}})}))})))})))}))).subscribe())}return Object(r.a)(e,[{key:"dispose",value:function(){this._subs.dispose()}}]),e}();Cn=Sn||(Sn={}),En=function(e){return d.g.fromNullable(jn[e])},wn={},Object(i.a)(wn,v.a.SpecialId.AllAlerts,J.a.LensKind.AllSuggestions),Object(i.a)(wn,v.a.SpecialId.Correctness,J.a.LensKind.Correctness),Object(i.a)(wn,v.a.SpecialId.Clarity,J.a.LensKind.Clarity),Object(i.a)(wn,v.a.SpecialId.Delivery,J.a.LensKind.Delivery),Object(i.a)(wn,v.a.SpecialId.Engagement,J.a.LensKind.Engagement),Object(i.a)(wn,v.a.SpecialId.Vox,J.a.LensKind.StyleGuide),jn=wn,kn={},Object(i.a)(kn,v.a.SpecialId.AllAlerts,_.a.Item.Id.from("lens-all-suggestions-feed")),Object(i.a)(kn,v.a.SpecialId.Correctness,_.a.Item.Id.from("lens-correctness-feed")),Object(i.a)(kn,v.a.SpecialId.Clarity,_.a.Item.Id.from("lens-clarity-feed")),Object(i.a)(kn,v.a.SpecialId.Delivery,_.a.Item.Id.from("lens-delivery-feed")),Object(i.a)(kn,v.a.SpecialId.Engagement,_.a.Item.Id.from("lens-engagement-feed")),Object(i.a)(kn,v.a.SpecialId.Vox,_.a.Item.Id.from("lens-style-guide-feed")),_n=kn,Cn.outcomeIdToSDUIKind=En,Cn.outcomeIdToFeedId=function(e){return d.g.fromNullable(_n[e])},Cn.isSDUIVisibleOutcomesLens=function(e){return Object(u.pipe)(e,d.g.fromPredicate(v.a.isWithAlertsId),d.g.chain(En),d.g.isSome)};var An=n("fn2K"),In=n("LzOy"),Tn=n("0Uv3"),Mn=n("mDV6"),Pn=n("CA3N"),Nn=Object(m.l)(h.d.Logging.getLogger);function Dn(e,t,n,a,r,i,o,s){return{id:"successSwitcher",when:v.a.isMainLens,what:S.e.Effect.SwitchLens.create(e.pipe(k.a.combineLatest(Object(oe.pipe)(t.checkingState,k.a.map((function(e){return"full"!==e}))),(function(e,t){return vt.a.isInGlobalSuccess(e)&&"sidebar"!==e.alertSource&&t})),k.a.distinctUntilChanged(),k.a.filter(u.identity),k.a.switchMapTo(t.counters.pipe(k.a.map((function(e){return e.critical+e.advanced>0})),k.a.filter(Boolean),k.a.switchMap(E.b.Scheduler.rafScheduler),k.a.map((function(){var e=s.get(),t=a.getLens(e).get(),r=a.getLens(v.a.SpecialId.Premium).get();return n(t)?d.g.some(e):n(r)?d.g.some(v.a.SpecialId.Premium):d.g.none})),k.b.compact,k.a.first(),k.a.filter(Object(u.not)(v.a.isMainLens)),k.a.filter((function(e){return!(e===v.a.SpecialId.Premium&&d.g.isSome(o.denali.gbUpHook.get()))})),k.a.map((function(e){Nn("sideEffects.successSwitcher").debug("Switching from success to "+e);var t=d.g.isSome(r.state.get());return{lensId:e,alertSource:t?S.c.forceSidebar:S.c.forceText,options:{order:"lensOrder",toFocus:t||!v.a.isMainLens(e)||i.get()?S.e.Effect.FocusBehavior.focusFirst:S.e.Effect.FocusBehavior.noFocus}}}))))))}}function Bn(e,t,n,a,r,i,o,s){return{id:"createFreePremiumSwitcherSideEffect",when:function(e){return e===v.a.SpecialId.FreePremiumAlerts},what:S.e.Effect.SwitchLens.create(e.pipe(k.a.combineLatest(Object(oe.pipe)(t.checkingState,k.a.map((function(e){return"full"!==e}))),(function(e,t){return v.a.isFreePremiumId(e.currentLens.id)&&t})),k.a.distinctUntilChanged(),k.a.filter(u.identity),k.a.switchMapTo(t.counters.pipe(k.a.map((function(e){return 0===e.freePremium})),k.a.filter(Boolean),k.a.switchMap(E.b.Scheduler.rafScheduler),k.a.map((function(){var e=s.get(),t=a.getLens(v.a.SpecialId.Premium).get();return n(t)?d.g.some(v.a.SpecialId.Premium):d.g.some(e)})),k.b.compact,k.a.first(),k.a.filter((function(e){return!(e===v.a.SpecialId.Premium&&d.g.isSome(o.denali.gbUpHook.get()))})),k.a.map((function(e){Nn("sideEffects.successSwitcher").debug("Switching from success to "+e);var t=d.g.isSome(r.state.get());return{lensId:e,alertSource:t?S.c.forceSidebar:S.c.forceText,options:{order:"lensOrder",toFocus:t||!v.a.isMainLens(e)||i.get()?S.e.Effect.FocusBehavior.focusFirst:S.e.Effect.FocusBehavior.noFocus}}}))))))}}function Ln(e,t,n,a,r,i,o){return{id:"createPremiumToFreePremiumSwitcherSideEffect",when:function(e){return e===v.a.SpecialId.Premium},what:S.e.Effect.SwitchLens.create(e.pipe(k.a.combineLatest(Object(oe.pipe)(t.checkingState,k.a.map((function(e){return"full"!==e}))),(function(e,t){return v.a.isPremiumId(e.currentLens.id)&&t})),k.a.distinctUntilChanged(),k.a.filter(u.identity),k.a.switchMapTo(t.counters.pipe(k.a.filter((function(e){return e.freePremium>0})),k.a.switchMap(E.b.Scheduler.rafScheduler),k.a.map((function(){var e=o.get(),t=a.getLens(v.a.SpecialId.FreePremiumAlerts).get();return n(t)?v.a.SpecialId.FreePremiumAlerts:e})),k.a.first(),k.a.map((function(e){Nn("sideEffects.successSwitcher").debug("Switching from success to "+e);var t=d.g.isSome(r.state.get());return{lensId:e,alertSource:t?S.c.forceSidebar:S.c.forceText,options:{order:"lensOrder",toFocus:t||!v.a.isMainLens(e)||i.get()?S.e.Effect.FocusBehavior.focusFirst:S.e.Effect.FocusBehavior.noFocus}}}))))))}}function Fn(e,t,n){return{id:"textPasteSideEffect",when:e,what:S.e.Effect.Applicator.create(t.pipe(k.a.tap(n),k.a.switchMapTo(k.a.NEVER)))}}var Rn=function(e,t){return{id:"textPasteSideEffect",when:u.constTrue,what:S.e.Effect.Applicator.create(e.changes.pipe(k.a.map((function(){return e.getTextLength()})),k.a.distinctUntilChanged(),k.a.throttleTime(t),k.a.tap((function(e){h.d.TimeSeries.rootFemetrics.getTimer("text_length").recordTime(e)})),k.a.switchMapTo(k.a.NEVER)))}};var Hn;function Vn(e,t,n,a,r,i,s,l){var p,m=t.features,f=t.settings,h=Object(oe.pipe)(s,k.a.pairwise(),k.a.filter((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return!v.a.isPremiumId(n)&&v.a.isPremiumId(a)}))),g=Object(oe.pipe)(e.getLens(l.get()).pipe(k.a.map((function(e){return e.count})),k.a.pairwise(),k.a.filter((function(e){var t=Object(c.a)(e,2),n=t[0];return 0===t[1]&&n>0})),k.a.delay(1500)),k.a.map((function(){return m.denali.gbUpHook.get()})),k.a.map(d.g.filter(Object(u.not)((function(e){return e.appearancesInLastThreeDays||e.dismissCount>=2||e.dismissedInLastSevenDays})))),k.b.compact,k.a.switchMap((function(e){return Object(oe.pipe)(n.enqueue("gbUpHook",Object(o.a)({},e)),k.a.map((function(t){return[t,e]})),k.a.takeUntil(h),k.a.takeWhile(Object(u.not)((function(e){var t=Object(c.a)(e,1)[0];return gt.a.isCloseAction(t)||"shown"!==t})),!0))})),k.a.tap((p=Object(In.a)((function(e){var t,n,o;return Object(Tn.c)(this,(function(s){switch(s.label){case 0:switch(t=Object(c.a)(e,2),n=t[0],o=t[1],n){case"shown":return[3,1];case"dismiss":return[3,3];case"cta":return[3,5]}return[3,6];case 1:return a.gnarSpec.getGBButtonShow(o.type,n,a.pageId,"documentPopup"),[4,f.gbUpHookSeen(o.type)];case 2:return s.sent(),[3,7];case 3:return a.gnarSpec.getGBDismissButtonClick(o.type,n,a.pageId,"documentPopup"),[4,f.dismissGBUpHook(o.type)];case 4:return s.sent(),[3,7];case 5:return a.gnarSpec.getGBButtonClick(o.type,n,a.pageId,"documentPopup"),i.actions.openPopup(r.fromGbUpHookNotification(o.type)),[3,7];case 6:case 7:return[2]}}))})),function(e){return p.apply(this,arguments)})));return{id:"openGBUpHook",when:S.e.Effect.When.isSidebarOpen,what:S.e.Effect.Applicator.create(g.pipe(k.a.switchMapTo(k.a.NEVER)))}}function Un(e,t,n){return{id:"SDUIItemRemoveSideEffect",when:v.a.isWithAlertsId,what:S.e.Effect.Applicator.create(k.a.mergeStatic(e.pipe(k.a.map((function(){return function(e){return Object(oe.pipe)(e.currentLens.id,Sn.outcomeIdToSDUIKind,d.g.map((function(){return S.e.Prism.getLens().compose(C.a.Prism.items).set(e.currentLens.items.clear(),e)})),d.g.getOrElse(Object(u.constant)(e)))}}))),t.pipe(k.a.switchMap((function(e){return e.feed.pipe(k.a.map((function(e){return function(t){var a=Object(oe.pipe)(e.cards,Xe.a.reduce([],(function(e,a){return Object(oe.pipe)(t.currentLens.items.get(a.id),d.g.map(xe.e.pick("value")),d.g.filter(Object(m.p)(Object(u.not)(Mn.a.isAnimatable),Object(u.not)(Mn.a.isAnimatingRemoval))),d.g.map(n.remove(u.constTrue,u.constTrue)),d.g.fold((function(){return e}),(function(t){return e.push(t),e})))}),u.identity,u.identity));if(a.length>0){var r=t.currentLens.items.add(a);return S.e.Prism.getLens().compose(C.a.Prism.items).set(r,t)}return t}})))})))))}}!function(e){e.defaultNextLensPredicate=function(e){return e.count>0}}(Hn||(Hn={}));var Wn=n("cZ4c"),zn=h.d.Logging.getLogger("synfonyTelemetry"),Gn=function(e){return e.map((function(e){return e.text})).join()},qn=function(){function e(t,n,r,s){var c=this;Object(a.a)(this,e),Object(i.a)(this,"_telemetry",void 0),Object(i.a)(this,"_cardActions",void 0),Object(i.a)(this,"_lensState",void 0),Object(i.a)(this,"_activeAlertGetter",void 0),Object(i.a)(this,"_subs",void 0),this._telemetry=t,this._cardActions=n,this._lensState=r,this._activeAlertGetter=s,this._subs=new w.a.Keeper,this._subs.push(this._cardActions.pipe(k.a.map((function(e){return Object(oe.pipe)(c._lensState.get(),(function(t){return Object(oe.pipe)(t,y.b.isAlertIgnoreAction(e)?Object(u.flow)(d.g.fromPredicate(S.e.hasItems),d.g.chain((function(t){return Ie.a.get(t.currentLens.items,e.id,Le.b.isSynfonyItem)})),d.g.map((function(e){return e.value}))):S.e.getActiveItem(c._activeAlertGetter))}),d.g.filter(ke.a.isSynfonyView),d.g.chain((function(t){return Object(oe.pipe)(t.transform,d.g.map((function(n){return Object(o.a)({transform:n,event:e,selection:d.g.getOrElse((function(){return[]}))(t.synfonySelection)},Wn.d.getSelectedItems(n,d.g.toUndefined(t.synfonySelection)))})))})))})),k.b.compact,k.a.map((function(e){var t=e.event,n=e.selection,a=e.transform,r=e.activeLabels;switch(t.type){case y.b.Type.alertApply:return c._telemetry.gnarSpec.synonymAcceptButtonClick(t.alternativeIndex,n.length+1,r.length,Gn(a.original),c._telemetry.pageId,Gn(Object(oe.pipe)(r.filter((function(e){return e.alternativeId===t.alternativeIndex})),d.a.head,d.g.map((function(e){return e.label})),d.g.getOrElse((function(){return[]})))));case y.b.Type.alertIgnore:return c._telemetry.gnarSpec.synonymCardDismiss(r.length,Gn(a.original),c._telemetry.pageId);case y.f.Kind.drilldown:return c._telemetry.gnarSpec.synonymDeepDiveClick(n.length+2,Gn(a.original),c._telemetry.pageId,Gn(r[t.wordIndex].label));default:return null}})),k.a.catchError((function(e){return zn.warn("Card telemetry request failed",e),k.a.EMPTY}))).subscribe())}return Object(r.a)(e,[{key:"dispose",value:function(){this._subs.dispose()}}]),e}(),Kn=n("/u+j"),$n=n("mybP"),Zn=n("Ga/O"),Yn=function(e){return function(){return e.getCursor().index}},Xn=function(){function e(t,n,r,f,g,O,j,_,x,A,T,P,N,D,B,L,F,R,H,V,z,G){var q,K,$=this;Object(a.a)(this,e),Object(i.a)(this,"_engine",void 0),Object(i.a)(this,"_denaliEditorModel",void 0),Object(i.a)(this,"_userAccount",void 0),Object(i.a)(this,"_upgradeHook",void 0),Object(i.a)(this,"_subscription",void 0),Object(i.a)(this,"_environment",void 0),Object(i.a)(this,"_platformEnvironment",void 0),Object(i.a)(this,"_telemetry",void 0),Object(i.a)(this,"_remSizeObs",void 0),Object(i.a)(this,"_networkState",void 0),Object(i.a)(this,"_docId",void 0),Object(i.a)(this,"_uploadViewModel",void 0),Object(i.a)(this,"_notificationsManager",void 0),Object(i.a)(this,"_dialectSettings",void 0),Object(i.a)(this,"documentLoader",void 0),Object(i.a)(this,"_textResources",void 0),Object(i.a)(this,"_config",void 0),Object(i.a)(this,"_router",void 0),Object(i.a)(this,"_telemetryContainerId",void 0),Object(i.a)(this,"_bannersFeatures",void 0),Object(i.a)(this,"bannersModel",void 0),Object(i.a)(this,"_experimentClient",void 0),Object(i.a)(this,"capabilities",void 0),Object(i.a)(this,"cardsViewModel",void 0),Object(i.a)(this,"inlineCardViewModel",void 0),Object(i.a)(this,"inlineUpgradeHookViewModel",void 0),Object(i.a)(this,"feedUpgradeViewModel",void 0),Object(i.a)(this,"cardsListScrollManager",void 0),Object(i.a)(this,"lensState",void 0),Object(i.a)(this,"lensStateProvider",void 0),Object(i.a)(this,"lensPreviewViewModel",void 0),Object(i.a)(this,"alignmentViewModel",void 0),Object(i.a)(this,"marksViewModel",void 0),Object(i.a)(this,"alertUserEvents",void 0),Object(i.a)(this,"synonymsViewModel",void 0),Object(i.a)(this,"proofitViewModel",void 0),Object(i.a)(this,"successLensViewModel",void 0),Object(i.a)(this,"onboardingViewModel",void 0),Object(i.a)(this,"upgradeViewModel",void 0),Object(i.a)(this,"searchViewModel",void 0),Object(i.a)(this,"downloadViewModel",void 0),Object(i.a)(this,"surveyManager",void 0),Object(i.a)(this,"feedbackViewModel",void 0),Object(i.a)(this,"navigationViewModel",void 0),Object(i.a)(this,"obtainGradesNotificationManager",void 0),Object(i.a)(this,"modalManager",void 0),Object(i.a)(this,"notificationsManager",void 0),Object(i.a)(this,"hotkeyManager",void 0),Object(i.a)(this,"formattingViewModel",void 0),Object(i.a)(this,"emotionsViewModel",void 0),Object(i.a)(this,"vbarsViewModel",void 0),Object(i.a)(this,"sduiInlineViewModel",void 0),Object(i.a)(this,"documentSettingsViewModel",void 0),Object(i.a)(this,"autofocusListener",void 0),Object(i.a)(this,"documentPlaceholderViewModel",void 0),Object(i.a)(this,"showConfetti",void 0),Object(i.a)(this,"focus",void 0),Object(i.a)(this,"cheetahViewModel",void 0),Object(i.a)(this,"cheetahAvailabilityService",void 0),Object(i.a)(this,"capiSession",void 0),Object(i.a)(this,"_lensStateManager",void 0),Object(i.a)(this,"_cheetahInlineAvailabilityProvider",void 0),Object(i.a)(this,"_cheetahViewModel",void 0),Object(i.a)(this,"_inlineManager",void 0),Object(i.a)(this,"_reportViewModel",void 0),Object(i.a)(this,"_getAlertClosestToCursor",void 0),Object(i.a)(this,"_pageTelemetry",void 0),Object(i.a)(this,"_cardsTelemetry",void 0),Object(i.a)(this,"_ethicalAICardTelemetry",void 0),Object(i.a)(this,"_gbRuleCreatedViewModel",void 0),Object(i.a)(this,"_synfonyTelemetry",void 0),Object(i.a)(this,"_openInlineAlert",void 0),Object(i.a)(this,"_inlineAlertHovered",void 0),Object(i.a)(this,"_inlineUpgradeHookClicked",void 0),Object(i.a)(this,"_hydrateTransforms",void 0),Object(i.a)(this,"_getActiveItemWithAlert",void 0),Object(i.a)(this,"_log",void 0),Object(i.a)(this,"_subs",void 0),Object(i.a)(this,"_editorWrapperViewport",void 0),Object(i.a)(this,"_remSize",void 0),Object(i.a)(this,"_focusFirstAlert",void 0),Object(i.a)(this,"_autoScrollToNextAlert",void 0),Object(i.a)(this,"_openedAfterPaste",void 0),Object(i.a)(this,"_shouldShowNewLabel",void 0),Object(i.a)(this,"_sduiCardsViewModel",void 0),Object(i.a)(this,"_sduiNavigationModel",void 0),Object(i.a)(this,"_sduiCardsViewModelObservable",void 0),Object(i.a)(this,"_sduiActionEvents",void 0),Object(i.a)(this,"_getSDUIApplicatorSource",void 0),Object(i.a)(this,"_getSDUIApplicatorEffects",void 0),Object(i.a)(this,"_focusSDUIItemByAlert",void 0),this._engine=t,this._denaliEditorModel=n,this._userAccount=r,this._upgradeHook=f,this._subscription=g,this._environment=O,this._platformEnvironment=j,this._telemetry=_,this._remSizeObs=x,this._networkState=A,this._docId=T,this._uploadViewModel=P,this._notificationsManager=N,this._dialectSettings=D,this.documentLoader=B,this._textResources=L,this._config=F,this._router=R,this._telemetryContainerId=H,this._bannersFeatures=V,this.bannersModel=z,this._experimentClient=G,this.obtainGradesNotificationManager=d.g.none,this.formattingViewModel=d.g.none,this.emotionsViewModel=d.g.none,this.sduiInlineViewModel=M.a.create(d.g.none),this._cheetahViewModel=M.a.create(d.g.none),this._reportViewModel=d.g.none,this._openInlineAlert=new k.a.Subject,this._inlineAlertHovered=new k.a.Subject,this._inlineUpgradeHookClicked=new k.a.Subject,this._hydrateTransforms=Object(we.b)(this._denaliEditorModel.getContents),this._getActiveItemWithAlert=vt.a.getActiveItemWithAlert,this._log=h.d.Logging.getLogger("view_models"),this._subs=new w.a.Keeper,this._editorWrapperViewport=M.a.create(this._denaliEditorModel.viewport.value.wrapper),this._remSize=M.a.create(16),this._focusFirstAlert=M.a.create(this._userAccount.features.denali.focusFirstCard),this._autoScrollToNextAlert=this._userAccount.settings.editorPreferences.view("autoScrollToNextAlert").view(he.b.O.unwrap(!this._userAccount.features.denali.autoJumpSettings.isDisabledByDefault)),this._openedAfterPaste=new k.a.Subject,this._shouldShowNewLabel=Object(u.constant)(k.a.of(d.g.none)),this._sduiCardsViewModel=d.g.none,this._sduiNavigationModel=d.g.none,this._sduiCardsViewModelObservable=Object(oe.pipe)(this._engine.sduiFeedManager,d.g.map((function(e){return e.pipe(k.a.switchMap(E.b.Scheduler.rafScheduler),k.a.map((function(){return $._sduiCardsViewModel})),k.b.compact)}))),this._sduiActionEvents=Object(oe.pipe)(this._sduiCardsViewModelObservable,d.g.map(Object(u.flow)(k.a.switchMap((function(e){return e.sduiActionEvents})),k.a.filter((function(e){return!e.actions.some((function(e){return"nextCard"===e.type}))||e.actions.some((function(e){return"notify"===e.type&&"click"===e.userAction}))}))))),this._getSDUIApplicatorSource=function(e){return Object(oe.pipe)($._sduiCardsViewModelObservable,d.g.map(k.a.switchMap((function(t){return Object(oe.pipe)(t.getApplicatorEffects(),d.a.findFirst((function(t){return t.id===e})),d.g.map((function(e){return e.what.source})),d.g.getOrElse(Object(u.constant)(k.a.of(u.identity))))}))),d.g.getOrElse(Object(u.constant)(k.a.of(u.identity))))},this._getSDUIApplicatorEffects=function(){return Object(oe.pipe)($._sduiCardsViewModel,d.g.fold(Object(u.constant)(d.a.empty),(function(e){return e.getApplicatorEffects().map((function(e){return Object(s.a)(Object(o.a)({},e),{what:Object(s.a)(Object(o.a)({},e.what),{source:$._getSDUIApplicatorSource(e.id)})})}))})))},this._focusSDUIItemByAlert=function(e){Object(oe.pipe)(d.g.sequenceT($._engine.sduiFeedManager,e),d.g.tap((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1],r=n.get();$._subs.push(r.feed.pipe(k.a.take(1),k.a.pluck("cards"),k.a.tap(Object(u.flow)(Xe.a.filter(u.constFalse,u.constFalse,(function(e){return e.alertIds.includes(Object(u.unsafeCoerce)(a.alert.id))})),Xe.a.foldMap(d.a.getMonoid())(Object(u.constant)(d.a.empty),Object(u.constant)(d.a.empty),d.a.of),d.a.head,d.g.tap((function(e){requestAnimationFrame((function(){Object(oe.pipe)(r.focusCard(e.id),d.b.fold((function(e){return $._log.warn("Error on focusing SDUI item in a new lens",e)}),u.constVoid))}))}))))).subscribe())})))},this.notificationsManager=this._notificationsManager,this.focus=Se.a.create({contentFocusChanges:pt.a.create(this._denaliEditorModel),eq:pt.b.eq,ord:pt.b.ord,show:pt.b.show,contentSection:d.g.some(pt.b.create(pt.b.Id.editor))}),this._denaliEditorModel.dontFreezeWhen(this.focus.state.pipe(k.a.map(d.g.exists((function(e){return e.id!==pt.b.Id.editor})))),"focus-manager"),this._subs.push(this._denaliEditorModel.viewport.pipe(k.a.distinctUntilChanged(),k.a.map((function(e){return e.wrapper}))).subscribe(E.b.toAtom(this._editorWrapperViewport)),this._remSizeObs.subscribe(E.b.toAtom(this._remSize)),pt.b.initTracking(this.focus,this._telemetry));var Y=this._engine.alertsReader,X=M.a.create(me.a.defaultState),Q=this._userAccount.features.denali.sdui,J=this._userAccount.features.denali.feedUpgradeHook,ee=this._userAccount.features.denali.premiumUphookCardUI,te=be.a.create(be.a.defaultLensFilters,be.a.defaultTextFilters),ne=Object(oe.pipe)(this._userAccount.features.denali.mutedAlerts,d.g.fromPredicate(u.identity),d.g.map((function(){return $._engine.mutedAlertsModel})));this._subs.push(this._engine.checkingDomain.state.pipe((function(e){return me.a.get(e,$._engine.checkingDomain.lensesScores,te)})).subscribe(E.b.toAtom(X)));var ae=M.a.create(S.g.getDefault),re=this._userAccount.settings.editorPreferences.view((function(e){var t=e.suggestionsVisualMode;switch(t){case st.o.Default:return Ve.a.CardVisualMode.RegularLightMode;case st.o.Accessible:return Ve.a.CardVisualMode.ContrastLightMode;default:return Object(p.c)(t)}}));this.lensPreviewViewModel=new on(X.view("lenses"),this._engine.sessionModel,this._userAccount.features,te,ae);var pe=Object(Te.c)(this._hydrateTransforms,Y,this._userAccount.features.denali.cardsRenderOptions,this._shouldShowNewLabel,this._engine.mutingAlertsReader,ke.a.canHydrate),_e=Ee.a.ItemFactory.create(this._hydrateTransforms,this._engine.mutingAlertsReader,this._userAccount.features.denali.cardsRenderOptions,this._shouldShowNewLabel),Ae=Ke.a.ItemFactory.create(Y,this._userAccount.features.denali.cardsRenderOptions),Ie=vt.a.getCapabilities(pe,_e,Ae,Y,this._hydrateTransforms,this._userAccount.features,this._userAccount.features.denali.cardsRenderOptions),Me=vt.a.alertIterator(Y),Ne=vt.a.isSelectableItem,De=this._userAccount.features.denali.cardBundles?C.a.WithBundles.getHasAlerts(Me,Y,(function(){return Ne}),Ie):vt.a.hasAlerts(Me,Y,(function(){return Ne}),Ie);this.capabilities=Object(o.a)({},Ie,De);var Le,Qe=new qe.c(new qe.a(vt.a.equatable.structEq,vt.a.defaultOrd),vt.a.equatable.structEq,vt.a.defaultOrd),Je=this._userAccount.features.denali.cardBundles?new qe.b((function(e){return v.a.isAllAlerts(e.id)}),Qe,vt.a.equatable.structEq,vt.a.bundlesOrd):Qe,et=Ue.a.ItemFactory.create(this._userAccount.features.denali.cardsRenderOptions,d.g.isSome(this._userAccount.features.denali.getStartedType)&&this._engine.sessionModel.isDemoDocument?"demo":"default"),ft=Object(qe.e)(pe,Ae,this.capabilities),ht=J||ee?Ue.a.Handler.withUphookAlertsHandlerFactory(ft,et,pe):ft,gt=Object(qe.d)(_e,this._userAccount.features.denali.cardsRenderOptions,(function(e){return v.a.isAllAlerts(e)}),ht,this.capabilities),bt=Object(u.constant)(u.identity),yt=Object(u.flow)(Sn.outcomeIdToSDUIKind,d.g.isSome),Ot=Q?function(e){return yt(e)?bt:ht(e)}:this._userAccount.features.denali.cardBundles?gt:ht,St=this._userAccount.features.denali.bulkAccept&&!Q,Ct=Object(oe.pipe)(St,d.g.fromPredicate(u.identity),d.g.map((function(){return ie.getFocusFirstFilter(Y,te)})),d.g.getOrElse((function(){return S.e.FocusFirstFilter.defaultFilter}))),wt=We.a.createWithInitialAlerts(Je,Ot,te,Object(u.not)(b.a.isMuted),this.capabilities);if(Q){var It=We.a.createWithExternalItems(Je,this.capabilities);Le=function(e,t,n,a,r){return yt(e)?($._focusSDUIItemByAlert(a),It(e,t,n,a,Object(oe.pipe)(r,d.g.filter((function(e){return v.a.isWithAlertsId(e.id)&&yt(e.id)}))))):wt(e,t,n,a,r)}}else Le=wt;var Tt=new ve.a.Impl(this._engine.checkingDomain.state,this._engine.positionManager,Y,te.alertCanBeDisplayed);this.lensStateProvider=new Ge.a(this._engine.checkingDomain.state,Y,X.view("lenses"),Tt,this.lensPreviewViewModel,Le,Ot,this.capabilities,te,Ct),this.searchViewModel=new An.c(this._denaliEditorModel,this._engine.positionManager,this._editorWrapperViewport);var Mt=this._engine.sessionModel.rtfMode===ot.d.DocumentFeatures.FormattingMode.on?d.g.some(Object(fn.c)(this._denaliEditorModel.getCursor.bind(this._denaliEditorModel),(function(e){$._denaliEditorModel.setFormatting(Object(s.a)(Object(o.a)({},e),{meta:Object(s.a)(Object(o.a)({},e.meta),{formatting:Object(o.a)({},e.meta.formatting)})}))}),this._denaliEditorModel.selectedFormatting,this._denaliEditorModel.isEditorFocused,this._textResources.denali,this._telemetry.gnarSpec,this._telemetry.pageId,this._environment)):d.g.none;this._getAlertClosestToCursor=Object(je.d)((function(e){switch(e){case"cursor":return Yn($._denaliEditorModel)();case"middleOfTheViewport":return Object(oe.pipe)($._denaliEditorModel.getPossibleCursorPosition(d.b.left(ue.c.X.middle),d.b.left(ue.c.Y.middle)),d.b.getOrElse(Yn($._denaliEditorModel)));default:return Object(p.c)(e)}}),this.lensStateProvider);var Pt=v.a.SpecialId.AllAlerts;this.lensState=M.a.create(Object(oe.pipe)(this._router.locationState,d.g.exists((function(e){return!0===e.openSidebar})))||this._userAccount.features.denali.sidebarOpenedByDefault?this.lensStateProvider.emptyState(Pt):Object(Ge.c)());var Vt=this.lensState.view(S.e.getActiveAlertHighlight(this._getActiveItemWithAlert));this.upgradeViewModel=new Kn.b(this._engine.checkingDomain,this.lensState,this.lensPreviewViewModel,this._docId,this._platformEnvironment,this._upgradeHook,this._config,this._userAccount.features.denali.uphookFormat,this._userAccount.features.denali.uphookDestination,this._telemetry,(function(){$._router.navigate(rt.a.routes.documents.href())}),(function(){return $._userAccount.features.isEligibleForFreeTrial})),this.feedbackViewModel=new Kt.a(this._notificationsManager,(function(e){return h.d.Logging.getLogger("userFeedback").info("Submit form feedback",{briefDescription:e.brief,detailedFeedback:e.detailed}),$._telemetry.gnarSpec.feedbackFormSubmit(e.brief,e.detailed,$._telemetry.pageId)})),this._reportViewModel=this._environment.has(it.b.Flag.supportsDownloadPDF)?d.g.some(new vn.a(this._engine,this._userAccount.profile,this._userAccount.features,this._notificationsManager,this._denaliEditorModel.contentUpdated.pipe(k.a.startWith(null),k.a.delay(0),k.a.map(this._denaliEditorModel.getHTML)),this._hydrateTransforms,(function(){return $.lensState}),(function(){return $.marksViewModel}),(function(){return $.navigationViewModel}),X.view("lenses"),this._telemetry)):d.g.none,this.modalManager=new de.b(new jt.c(this._userAccount,this._textResources,this._engine.sessionModel,this.upgradeViewModel,this._config,this._platformEnvironment,this.feedbackViewModel,this._notificationsManager,this._engine.sessionModel,this._reportViewModel,this._telemetry,this._engine.mutedAlertsModel,this.bannersModel,this._bannersFeatures,this._userAccount.logout));var Ut=be.a.getAlertVisibleInTextFilter(te,this.lensState);this.marksViewModel=new dn.a(this._denaliEditorModel,this._engine.checkingDomain,Y,this._engine.alertsService,this._engine.alertsService,this._environment.has(it.b.Flag.highHighlights),new Ze.a(Vt),te,Ut,this._userAccount.settings.editorPreferences.view("suggestionsVisualMode"),Vt),this.cardsListScrollManager=new Re.a((function(){return d.b.right(void 0)}));var Wt=ye.d.getSuperScrollMapper(this.lensState,this.cardsListScrollManager,this._remSize),zt=ye.e.getMapper(this.marksViewModel,this._denaliEditorModel,this._log.getLogger("getMarkPosition")),Gt=vt.a.alignMarkToGetter(zt,Wt,this._remSize),en=vt.a.alignItemToMarkGetter(zt,Wt);this.alignmentViewModel=new ye.c(Wt,Gt,en);var tn,nn=(tn=this._telemetry,{onShow:function(e,t){return tn.gnarSpec.bulkAcceptPanelShowed(e,t,tn.pageId,tn.pageSessionId)},onAccept:function(e){return tn.gnarSpec.bulkAcceptAcceptAllClicked(e,tn.pageId,tn.pageSessionId)},onDismiss:function(e){return tn.gnarSpec.bulkAcceptDismissClicked(e,tn.pageId,tn.pageSessionId)},onBulkUndo:function(e){return tn.gnarSpec.bulkAcceptAllUndoClicked(e,tn.pageId,tn.pageSessionId)},onRevert:function(e){return tn.gnarSpec.bulkAcceptRevertClicked(tn.pageId,e,tn.pageSessionId)},onIgnore:function(e){return tn.gnarSpec.bulkAcceptIgnoreClicked(tn.pageId,e,tn.pageSessionId)},onSuggestionClick:function(e){return tn.gnarSpec.bulkAcceptPanelAlertClicked(tn.pageId,e,tn.pageSessionId)},onLooksGood:function(){return tn.gnarSpec.bulkAcceptLooksGoodClicked(tn.pageId,tn.pageSessionId)},onAllLooksGood:function(){return tn.gnarSpec.bulkAcceptAllLooksGoodClicked(tn.pageId,tn.pageSessionId)}}),an=Object(we.a)(this._denaliEditorModel.getContents),rn=Object(Bt.a)(this._engine.obsCapiClient,this._engine.latestCAPIMessageByActionName),sn=rn.capiService,cn=rn.capiMessages;this.capiSession=new At.a(cn);var ln=M.a.create({enabled:!1});this._subs.push(cn.pipe(k.a.filter((function(e){return"start"===e.action})),k.a.filter((function(e){var t;return null===(t=e.allowedFeatures)||void 0===t?void 0:t.includes(se.a)})),k.a.map(Object(u.flow)((function(e){return d.g.fromNullable(e.cheetahState)}),d.g.fold((function(){return{enabled:!1}}),(function(e){return{enabled:!0,userState:e}})))),k.a.take(1)).subscribe(E.b.toAtom(ln))),this.cheetahAvailabilityService=new ce.a(sn,ln);var un=this.cheetahAvailabilityService.availability.view(le.a.isVisible);this._subs.push(this._trackPlagiarismAlertsEditing());var yn=new hn.c(this._telemetry,this.modalManager,this.lensState,this._userAccount.features,this._getAlertClosestToCursor,this._engine.sessionModel,ne,(function(){return hn.d.outcomesList.filter(hn.d.lensPreviewFilter($._userAccount.features)).reduce((function(e,t){return e[t]=$.lensPreviewViewModel.lensPreviews[t],e}),{})}),re,un,this.capabilities,(function(e){return $.lensPreviewViewModel.getLens("advanced"===e?v.a.SpecialId.Premium:v.a.SpecialId.FreePremiumAlerts)}),d.g.none);this.navigationViewModel=yn,this.cardsViewModel=new Oe.c({flush:this._denaliEditorModel.flushChanges},this.navigationViewModel.events,pe,this._engine.alertsService,this._engine.alertsReader,(function(e){return $._userAccount.settings.markFeatureOnboarded(e).then((function(){return $._telemetry.gnarSpec.featureOnboardingEventClose($._telemetry.pageId)}))}),(function(){return $._userAccount.settings.markFeatureOnboarded(fe.a.MuteQuotedAdvice)}),Object(oe.pipe)(ne,d.g.map((function(e){return{model:e,openSuggestionsManagement:function(){return $._platformEnvironment.actions.openPopup(new at.a($._config.account.suggestions))}}}))),d.g.some({sendToSignIn:Oe.a.Experiments.sendToSignIn(this._platformEnvironment,this._config),handleGbPrompt:Oe.a.Experiments.handleGbPrompt(this._platformEnvironment,this._config,$t(this._telemetry))}),this._userAccount.features.denali.dismissFeedbackFormSuppressed,this._getActiveItemWithAlert,this.capabilities,this._platformEnvironment,{bufferTransitions:!0,showGbPrompt:this._userAccount.features.denali.gbPrompt},Object(u.flow)(xt.updateCitationStyle(this._engine.sessionModel,this._notificationsManager,this._telemetry),this._subs.push.bind(this._subs)));this.downloadViewModel=new Rt.a(this._engine.sessionModel,this._notificationsManager),this.documentSettingsViewModel=Object(pn.b)(this._denaliEditorModel,this._router,this._textResources.denali,this._userAccount,this._dialectSettings,this.downloadViewModel,this.upgradeViewModel,this.modalManager,this._uploadViewModel,this._environment,this._notificationsManager,this.searchViewModel,this._telemetry,this._docId,this._engine.sessionModel);var On=dt.a.create();this.alertUserEvents=new ge.a(this._denaliEditorModel,this.marksViewModel,Y,Vt,this.lensState.view((function(e){return e.currentLens.meta.filter}))),this._subs.push(this._denaliEditorModel.clickedWord.pipe(k.a.map(d.g.filter((function(e){return 2===e.meta.clicks}))),k.a.withLatestFrom(this.alertUserEvents.alertClicked.pipe(k.a.startWith(d.g.none)),(function(e,t){return d.g.isNone(t)?e:d.g.none})),k.b.compact).subscribe(On.doubleClickedWord)),this._cheetahInlineAvailabilityProvider=Dt.a.create(this.navigationViewModel,this.documentSettingsViewModel.viewModel.visualState,this.cheetahAvailabilityService.availability,this._userAccount.features.denali),this._inlineManager=Object(Qt.a)(this._denaliEditorModel,this.alertUserEvents,Y,Mt,On,this._cheetahInlineAvailabilityProvider);var Cn=Xt.a.ViewModel.getInlineHighlightFilter(this.navigationViewModel.state.view("isSidebarOpen")),wn=Object(u.flow)(this.marksViewModel.getMarkByAlert,d.b.fromOption((function(){return new Error("mark not found")})),d.b.chain((function(e){return e.getRect()})),d.l.fromEither);this.inlineCardViewModel=new Xt.b(this._inlineManager,wn,k.a.mergeStatic(this._denaliEditorModel.contentUpdated.pipe(k.a.mapTo(E.b.voidValue))),this._engine.checkingDomain,Y,this._engine.alertsService,this._telemetry,this._openInlineAlert,this._inlineAlertHovered,this._hydrateTransforms,Cn);var kn=function(){return Object(oe.pipe)(d.g.sequenceT($._engine.sduiService,$._engine.sduiManager,$._engine.sduiInlineManager,$._engine.sduiFeedManager),d.g.map((function(e){var t,n=Object(c.a)(e,4),a=n[0],r=n[1],i=n[2],l=n[3],u=new U(a,$.capabilities,$.lensState,r.get(),l.get(),$._engine.alertsReader,$._engine.obsCapiClient,(t=Object(s.a)(Object(o.a)({},$.cardsViewModel.actionEvents),{next:function(e){y.b.isAlertIgnoreAction(e)||$.cardsViewModel.actionEvents.next(e)}}),Object.defineProperty(t,"pipe",{value:$.cardsViewModel.actionEvents.pipe.bind($.cardsViewModel.actionEvents)}),Object.defineProperty(t,"subscribe",{value:$.cardsViewModel.actionEvents.subscribe.bind($.cardsViewModel.actionEvents)}),{actionEvents:t}),$._platformEnvironment);return{navigationModel:new xn(r.get(),$.lensState.view("currentLens","id"),u.actionEvents),cardsViewModel:u,inlineViewModel:new Yt.a(a,r.get(),i.get(),$.inlineCardViewModel,$._engine.alertsReader,$._engine.obsCapiClient)}})))},En=function(){Object(oe.pipe)(d.g.sequenceT($._sduiCardsViewModel,$._sduiNavigationModel,$.sduiInlineViewModel.get()),d.g.tap((function(e){var t=Object(c.a)(e,3),n=t[0],a=t[1],r=t[2];n.dispose(),a.dispose(),r.dispose()})));var e=kn();d.g.isSome(e)?($._sduiCardsViewModel=d.g.some(e.value.cardsViewModel),$._sduiNavigationModel=d.g.some(e.value.navigationModel),$.sduiInlineViewModel.set(d.g.some(e.value.inlineViewModel))):($._sduiCardsViewModel=d.g.none,$._sduiNavigationModel=d.g.none)};En(),this._subs.push(this.lensState.view("currentLens","id").pipe(k.a.tap((function(e){return Object(oe.pipe)(e,d.g.fromPredicate(v.a.isWithAlertsId),d.g.chain(Sn.outcomeIdToSDUIKind),d.g.tapLeft((function(){$._engine.resetSDUI("feedOnly","switch to a native lens")(),En()})))}))).subscribe(),Object(oe.pipe)(this._engine.sduiFeedManager,d.g.getOrElse(Object(u.constant)(Object(u.unsafeCoerce)(k.a.NEVER))),k.a.skip(1),k.a.withLatestFrom(this.lensState)).subscribe((function(e){var t=Object(c.a)(e,2)[1];S.e.hasItems(t)&&Sn.isSDUIVisibleOutcomesLens(t.currentLens.id)&&$._focusSDUIItemByAlert($.capabilities.getActiveAlert(t.currentLens)),En()}))),this._cardsTelemetry=new Nt(this._telemetry,this.cardsViewModel.actionEvents,this.lensState,this._engine.mutingAlertsReader,this._getActiveItemWithAlert),this._synfonyTelemetry=new qn(this._telemetry,this.cardsViewModel.actionEvents,this.lensState,this._getActiveItemWithAlert),this._ethicalAICardTelemetry=new qt(this._telemetry,this.cardsViewModel.actionEvents,this.lensState,this._engine.alertsReader,this.alertUserEvents,this._engine.obsCapiClient,this._engine.checkingDomain,te),this._gbRuleCreatedViewModel=new Zt.a(this._config,this._engine.obsCapiClient,this._notificationsManager,this._telemetry);var jn=this._userAccount.features.denali.fontAccessibilityTesting;if(d.g.isSome(jn))var _n=Object(oe.pipe)(this._engine.sessionModel.checkingState,k.a.map((function(e){if("idle"===e){if("inlineCard"===jn.value){var t=$._engine.alertsReader.getById("local_7");if(d.g.isSome(t)){var n={alert:t.value,highlightIndex:0},a=$.marksViewModel.getMarkByAlert(n);d.g.isSome(a)&&$._denaliEditorModel.hoveredMarks.next(d.g.some([a.value]))}}if("assistantCard"===jn.value){var r=$._engine.alertsReader.getById("local_2");if(d.g.isSome(r)){var i={alert:r.value,highlightIndex:0};$._lensStateManager.focusAlert(i,b.b.api)}}_n.unsubscribe()}}))).subscribe();this.inlineUpgradeHookViewModel=new Jt.b(this._inlineManager,wn,this._denaliEditorModel.contentUpdated.pipe(k.a.mapTo(E.b.voidValue)),this._engine.checkingDomain,this._inlineUpgradeHookClicked,this._userAccount.settings,this.upgradeViewModel),this.feedUpgradeViewModel=new Ue.a.ViewModel.UpgradeHookItemViewModelImpl(this.cardsViewModel,this.upgradeViewModel,k.a.NEVER,ot.i.Place.DenaliDocument.editorDenaliChecksFeed,Ue.a.ViewModel.EventHandlers.empty),this.successLensViewModel=new tt.b(this.lensState,this._engine.sessionModel,(function(e){return $._telemetry.gnarSpec.sidebarSuccessStateShow($.lensState.get().currentLens.id,$._telemetry.pageId,e)}),this.capabilities,this._userAccount.features.denali.mutedAlertsOnSuccessView?d.g.some(void 0):d.g.none,vt.a.isInSuccess,this._userAccount.features.denali.showGrammarlyBDGift);var In=Object(oe.pipe)(St,d.g.fromPredicate(u.identity),d.g.map((function(){return Be.a.create($.cardsViewModel.actionEvents,$.inlineCardViewModel.events)})));this.vbarsViewModel=this._userAccount.features.denali.writingExpertVbarsEnabled?d.g.some(new Zn.a(this._engine.obsCapiClient.events,this._denaliEditorModel,this._engine.alertsService,this._engine.checkingDomain.state,this.lensState.view((function(e){return te.alertVisibleInText(e.currentLens.id)})),this.marksViewModel,this._inlineManager,this.lensState.view(Object(u.not)(S.e.is(v.a.SpecialId.Closed))))):d.g.none;var Tn,Mn,Nn,Wn,zn,Gn,$n,Xn,Qn,Jn,ea,ta,na,aa=M.a.create(v.a.SpecialId.AllAlerts),ra=Hn.defaultNextLensPredicate,ia=[(Qn=this._engine.sessionModel.asyncChecksState.view("plagiarism"),Jn=this._engine.plagiarismModel,ea=this._autoScrollToNextAlert,ta=this.capabilities,na=Qn.pipe(k.a.filter((function(e){return"idle"===e})),k.a.mapTo((function(e){return!S.e.hasItems(e)||d.g.isSome(vt.a.getActiveItemWithAlert(e.currentLens))?e:Object(oe.pipe)(ta.findNextAlert(e.currentLens),d.g.map((function(t){return e.patch({currentLens:ta.selectItemByAlert(t)(e.currentLens)})})),d.g.getOrElse((function(){return e})))}))),{id:"plagiarismSideEffect",when:function(e){return e===v.a.SpecialId.Plagiarism},what:S.e.Effect.Applicator.create(k.a.Observable.create((function(){return Jn.enable()})).pipe(k.a.startWith(E.b.voidValue),k.a.switchMapTo(ea.pipe(k.a.switchMap(Object(m.c)(na,na.pipe(k.a.first())))))))}),Dn(this.lensState,this._engine.sessionModel,ra,this.lensPreviewViewModel,this.modalManager,this._autoScrollToNextAlert,this._userAccount.features,aa),Bn(this.lensState,this._engine.sessionModel,ra,this.lensPreviewViewModel,this.modalManager,this._autoScrollToNextAlert,this._userAccount.features,aa),Ln(this.lensState,this._engine.sessionModel,ra,this.lensPreviewViewModel,this.modalManager,this._autoScrollToNextAlert,aa)].concat(Object(l.a)(Q?[]:nt.c.create(this._engine.checkingDomain,Y,this.lensState,this._getActiveItemWithAlert,(function(e){return Object(nt.d)((function(){return $._notificationsManager.enqueue("alertUndo",{params:Object(nt.e)(e)}).pipe(k.a.tap((function(e){return"undo"===e&&$._telemetry.gnarSpec.undoNotificationUndoButtonClicked($._telemetry.pageId)})))}),(function(){return $._telemetry.gnarSpec.notificationCloseButtonClick("alertUndo",$._telemetry.pageId)}),(function(){return $._denaliEditorModel.flushChanges(),$._denaliEditorModel.contentUpdated}))}),this._log.getLogger("sideEffects.undo"))),[Fn(S.e.Effect.When.always,this._denaliEditorModel.textChangedAfterPaste,(function(e){var t=e.type,n=e.source,a=e.tags,r=e.len;switch(t){case"initial":h.d.TimeSeries.rootFemetrics.getTimer("text_paste_initial").recordTime(r);break;case"reset":h.d.TimeSeries.rootFemetrics.getTimer("text_paste_reset").recordTime(r);break;case"partial":h.d.TimeSeries.rootFemetrics.getTimer("text_paste_partial").recordTime(r);break;default:Object(p.c)(t)}$._telemetry.gnarSpec.pasteEventFire(r,$._telemetry.pageId,n,a,t)})),Fn(S.e.Effect.When.isSidebarClosed,this._denaliEditorModel.textChangedAfterPaste,(function(e){var t=e.type;"initial"!==t&&"reset"!==t||($.navigationViewModel.events.next({type:"toggleSidebar",actionSource:b.b.api}),$._openedAfterPaste.next())})),(Wn=this._denaliEditorModel,zn=this._notificationsManager,Gn=function(){return $._telemetry.gnarSpec.undoTextRemovedNotificationShow($._telemetry.pageId)},$n=function(){return $._telemetry.gnarSpec.undoTextRemovedHotkeyPress()},Xn=function(){return $._telemetry.gnarSpec.undoTextRemovedButtonClick($._telemetry.pageId)},{id:"textRemovedSideEffect",when:u.constTrue,what:S.e.Effect.Applicator.create(Wn.contentUpdated.pipe(k.a.filter(ue.b.isTextMaybeWithFormatting),k.a.map((function(){return Wn.getTextLength()})),k.a.startWith(Wn.getTextLength()),k.a.pairwise(),k.a.filter((function(e){var t=Object(c.a)(e,2);return t[0]-t[1]>500})),k.a.exhaustMap((function(){return k.a.timer(1e3).pipe(k.a.takeUntil(Wn.shortcutUsed),k.a.switchMapTo(zn.enqueue("textRemoved").pipe(k.a.takeUntil(Wn.shortcutUsed.pipe(k.a.tap($n))),k.a.tap((function(e){"shown"===e?Gn():"undo"===e&&(Wn.undo(),Xn())})),k.a.takeWhile((function(e){return"undo"!==e})))),k.a.mapTo(S.e.Effect.Applicator.Source.identity))}))))}),(Mn=this._openedAfterPaste,Nn=this.documentLoader.state,{id:"afterPasteLoadingSideEffect",when:S.e.Effect.When.isSidebarOpen,what:S.e.Effect.Applicator.create(Mn.pipe(k.a.tap((function(){return Nn.set(Pn.a.State.lensAndNavigationProcessing)})),k.a.switchMapTo(k.a.NEVER)))}),Rn(this._denaliEditorModel,5*xe.d.MS_IN_MIN)],Object(l.a)(this.cardsViewModel.getApplicatorEffects()),Object(l.a)(this._getSDUIApplicatorEffects()),[Oe.b.changeAlertEffect(this.lensState,this.cardsViewModel,pe,this._getActiveItemWithAlert,Y,d.g.none,this._getAlertClosestToCursor,this._log.getLogger("CardsViewModelEffects.changeAlertEffect")),He.b.freezeActiveCardOnCardsListUpdate(this.lensState,this.cardsListScrollManager,this.capabilities),He.b.moveNearestItemIntoViewport(this.focus.focusEvents.pipe(k.a.filter((function(e){return e.section.id===pt.b.Id.checksFeed&&e.kind===Se.a.FocusEvent.navigationBackwards}))),this.lensState,Wt,this.cardsListScrollManager,this.capabilities),He.b.manageCardsVisibility(this.lensState,this.cardsListScrollManager,this.capabilities,Object(u.unsafeCoerce)(this.cardsViewModel.actionEvents)),ye.a.createAlignmentSideEffect(this.lensState,this.cardsViewModel.actionEvents,je.a.getFirstApiAlignmentOverride(),vt.a.getActiveAlignableItem,this.capabilities,Gt,en),ye.a.createAlignmentOnTypingEffect(this.lensState,this.alignmentViewModel,this._denaliEditorModel.contentUpdated,this._getActiveItemWithAlert,this.capabilities),ye.a.createAlignOnDisjointedAreasEffect(this.lensState,this.alignmentViewModel,this._denaliEditorModel,this.cardsListScrollManager),ye.a.createAlignOnResizeSideEffect(this.lensState,this.alignmentViewModel,this._userAccount.settings.editorPreferences.view("fontSize").pipe(k.a.skip(1)),this._getActiveItemWithAlert,this.capabilities),yn.lensChangeEffects,yn.alertChangeEffects,Ye.a.focusAlertByClickedMark(k.a.mergeStatic(this.alertUserEvents.alertClicked,Object(oe.pipe)(this.vbarsViewModel,d.g.map((function(e){return e.alertClickedInAssistantMode})),d.g.getOrElse((function(){return k.a.EMPTY})))),this.lensState,this.capabilities),(Tn=this._openInlineAlert,{id:"openInlineAlert",when:S.e.Effect.When.isSidebarClosed,what:S.e.Effect.SwitchAlert.create(Tn.pipe(k.a.map((function(e){return{alertHighlight:e,alertSource:b.b.text,options:{order:"textOrder"}}}))))})],Object(l.a)([Ye.a.focusMarkByActiveAlert(this.lensState,this.marksViewModel,Y,vt.a.getActiveFocusableItem,this._log.getLogger("MarksEffects.focusMarkByActiveAlert"),this.focus.state.pipe(k.a.map(d.g.exists((function(e){return e.id===pt.b.Id.editor}))))),Ye.a.highlightMarkByHighlightedCard(this.cardsViewModel,this.lensState,this.marksViewModel,Y,this.capabilities,this._log.getLogger("MarksEffects.highlightMarkByHighlightedCard")),Xt.a.Effects.highlightMarkByInlineAlert(this._inlineAlertHovered.pipe(k.a.filter(Cn)),this.marksViewModel,this._log.getLogger("MarksEffects.highlightMarkByInlineAlert"),"highlightMarkByInlineAlert"),Jt.a.Effects.highlightMarkByInlineUpgradeHook(this._inlineUpgradeHookClicked,this.marksViewModel,this._log.getLogger("MarksEffects.highlightMarkByInlineUpgradeHook"))]),Object(l.a)(d.g.isNone(this._engine.sduiManager)?[Oe.b.createSendActiveAlertFeedbacksEffect(this.lensState,this._getActiveItemWithAlert,this._engine.alertsService,Y,this._log.getLogger("CardsViewModelEffects.createSendActiveAlertFeedbacksEffect"))]:[]),[Ye.a.createOnAlertApplySideEffect(this.marksViewModel.events,this.capabilities),Vn(this.lensPreviewViewModel,this._userAccount,this._notificationsManager,this._telemetry,this._upgradeHook,this._platformEnvironment,this.lensState.view("currentLens","id"),aa),this.successLensViewModel.applicatorEffects]);Object(oe.pipe)(this.vbarsViewModel,d.g.tap((function(e){ia.push(Xt.a.Effects.highlightMarkByInlineAlert(e.highlightedVbarAlert,$.marksViewModel,$._log.getLogger("WritingExpert.vbarMarksHighlight"),"highlightMarkByVbarInlineAlert"))}))),Object(oe.pipe)(this._sduiActionEvents,d.g.map((function(e){return[W.PrevNextNavigation.sideEffect(W.PrevNextNavigation.Events.fromSduiCardActions(e),$.lensState,$.capabilities)].concat(Object(l.a)(Object(oe.pipe)(d.g.sequenceT($._engine.sduiFeedManager,$._engine.sduiManager),d.g.fold((function(){return[]}),(function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return[I.a.SideEffects.createSDUIFeedSideEffect(Object(s.a)(Object(o.a)({},$.capabilities),{findNextAlert:Object(u.constant)(d.g.none),selectItemByAlert:function(){return u.identity}}),n.pipe(k.a.switchMap((function(e){return e.feed})),k.a.withLatestFrom($.lensState),k.a.map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(oe.pipe)(n,d.g.fromPredicate((function(e){return S.e.hasItems(a)&&yt(a.currentLens.id)&&Object(oe.pipe)(Sn.outcomeIdToFeedId(a.currentLens.id),d.g.exists((function(t){return t===e.feedId})))})),d.g.map((function(e){return Object(s.a)(Object(o.a)({},e),{cards:Object(oe.pipe)(e.cards,Xe.a.filter(u.constFalse,u.constTrue,u.constTrue))})})),d.g.getOrElse(Object(u.constant)(n)))}))),vt.a.sduiToChecksFeedOrd($.capabilities),$._engine.alertsReader),Un(a,n,$.capabilities)]})))))})),d.g.tap((function(e){return(q=ia).push.apply(q,Object(l.a)(e))}))),Object(oe.pipe)(this._engine.mutingAlertsReader,d.g.tap((function(e){ia.push($e.showCardMuteOnboarding($._userAccount.settings.featuresOnboardingSeen.view((function(e){return e.has(fe.a.CardMute)&&!$._userAccount.features.denali.enforceFeaturesOnboarding.has(fe.a.CardMute)})),$._engine.checkingDomain,e,(function(){return $._notificationsManager.enqueue("cardMuteOnboarding")}),(function(){return $._userAccount.settings.markFeatureOnboarded(fe.a.CardMute)}),(function(){return $._telemetry.gnarSpec.deactivatedSuggestionsOnboardingNotificationShow($._telemetry.pageId,$._telemetry.pageSessionId)})))}))),Object(oe.pipe)(In,d.g.tap((function(e){var t,n;(t=ia).push.apply(t,Object(l.a)(nt.b.create(e,Y,$._engine.checkingDomain,nn)).concat(Object(l.a)(nt.a.create(e,Y,$._engine.checkingDomain))));var a=Pe.createEffects({actions:e,alertService:$._engine.alertsService,tracking:nn,alertsReader:Y});(n=ia).push.apply(n,Object(l.a)(a))})));var oa=Object(oe.pipe)(In,d.g.map((function(e){return[Pe.selectNextCardOnBulkAcceptConfirmed(e,$._getActiveItemWithAlert,$.lensState,$._autoScrollToNextAlert)]})),d.g.getOrElse((function(){return[]}))),sa=Object(oe.pipe)(In,d.g.fold((function(){return M.a.create(!1)}),(function(){return $.lensState.view(S.e.mapper((function(e){return Object(oe.pipe)(e.currentLens,S.k.getActiveItemOfType(vt.a.isBulkAcceptItem))}))).view(d.g.isSome)}))),ca={bigPaste:this._denaliEditorModel.textChangedAfterPaste.pipe(k.a.filter((function(e){return"reset"===e.type||"initial"===e.type})),k.a.map((function(){})))},la=Object(oe.pipe)((K=k.a).mergeStatic.apply(K,Object(l.a)(Object(l.a)(oa)).concat([Q?je.c.focusFirstCardAfterBigCheck(this.lensState,this._engine.sessionModel.checkingState,this._focusFirstAlert,ca):je.a.focusFirstCardAfterBigCheck(this.lensState,this._engine.sessionModel.checkingState,this._focusFirstAlert,ca,sa)])),(function(e){return Q?je.c.getSideEffect(e,$.capabilities):je.a.getSideEffect(e,$.capabilities)}));ia.push(la),this.autofocusListener=new je.b(this._engine.sessionModel.checkingState,this.lensState);var ua=je.a.getDefaultBehavior(this._getActiveItemWithAlert,this.capabilities),da=function(){return d.g.isNone($._userAccount.features.denali.gbUpHook.get())&&!J},pa=Object(je.f)(this.lensStateProvider,this._getAlertClosestToCursor,aa,this.capabilities,vt.a.isInGlobalSuccess,da),ma=this._userAccount.features.denali.cardBundles?Object(je.e)((function(e){return v.a.isMainLens(e.currentLens.id)}),pa,this.capabilities):pa,fa=Q?je.c.getStateTransformer(ua,Object(je.g)(this.lensStateProvider,aa,this.capabilities,vt.a.isInGlobalSuccess,da),this.capabilities,je.c.getShouldAutoFocus(this._autoScrollToNextAlert,Y,this._getActiveItemWithAlert),(function(e){return e.kind===S.e.Effect.FocusBehaviorType.focusFirst&&$._telemetry.gnarSpec.focusFirstCardShow($._telemetry.pageId)}),aa):je.a.getStateTransformer(ua,ma,Y,this.capabilities,je.a.getShouldAutoFocus(this._autoScrollToNextAlert,Y,this._getActiveItemWithAlert),(function(e){return e.kind===S.e.Effect.FocusBehaviorType.focusFirst&&$._telemetry.gnarSpec.focusFirstCardShow($._telemetry.pageId)}),aa),ha=C.a.Items.getItemsPositionsUpdateTransformer(this.capabilities),ga=Q?C.a.Items.getRemoveDisposedItemsTransformer(this.capabilities):Fe.nothing,ba=Object(oe.pipe)(In,d.g.map((function(){return ie.getStateTransformer($._engine.checkingDomain.state,te,an,$.capabilities,nn,$._userAccount.features.denali.cardsRenderOptions)})),d.g.getOrElse((function(){return Fe.nothing}))),va=Q?Z.DisablePrevNextButtons.create(this.capabilities):Fe.nothing,ya=Object(u.flow)(ga,d.b.chainLeft(fa),d.b.chainLeft(ba),d.b.chainLeft(va),d.b.chainLeft(ha));this._lensStateManager=new ze.a(this.lensState,this.lensStateProvider,Y,this._engine.alertsService,ia,this._getActiveItemWithAlert,ya),Object(m.r)("getLensStateSnapshot",(function(){return S.e.snapshot(Te.a.snapshot,$._getActiveItemWithAlert)($.lensState.get())})),Object(m.r)("getLensState",(function(){return $.lensState.get()})),Object(m.r)("getLensesCollection",(function(){return X.view("lenses").get()})),this._pageTelemetry=new bn.a(this.lensState,this.lensState.view(S.e.isSidebarOpened),this._telemetry),this.synonymsViewModel=new Et.a(this._inlineManager,this._engine.positionManager,this._engine.synonymsModel,this._networkState,this._denaliEditorModel,this._notificationsManager,Vt,(function(){return $._telemetry.gnarSpec.notificationCloseButtonClick("alertUndo",$._telemetry.pageId)}),(function(e,t){$._telemetry.gnarSpec.synonymsPopupShow(t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,$._telemetry.pageId,e)}),(function(e,t,n){$._telemetry.gnarSpec.synonymsPopupClose(t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,n,$._telemetry.pageId,e)}),(function(e,t,n){$._telemetry.gnarSpec.synonymsAcceptButtonClick(t.meaningIndex,t.synonymIndexInGroup,t.synonymIndexAbs,t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,n,$._telemetry.pageId,e)})),this.proofitViewModel=new mt.b(this._subscription,this._engine.sessionModel,this._denaliEditorModel,this._userAccount,this._notificationsManager,this._router,this._config);this.surveyManager=Object(oe.pipe)(this._userAccount.features.denali.surveyType,d.g.map((function(e){return kt(e,$.lensState,$._engine.sessionModel,$._denaliEditorModel,$.proofitViewModel,$._uploadViewModel,$._userAccount,$.modalManager,$._notificationsManager,$._subscription,$._telemetry)}))),this.formattingViewModel=Object(oe.pipe)(d.g.sequenceT(Mt,this._engine.formattingModel),d.g.map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1],r=mn.a.createManager($._denaliEditorModel,a,$._inlineManager);return $._subs.push(n,r),{toolbarViewModel:n.viewModel,linksManager:r}}))),this.documentPlaceholderViewModel=new Ft.a(this._uploadViewModel,this._denaliEditorModel,this._userAccount,this._environment),this.emotionsViewModel=Object(oe.pipe)(this._engine.emotionsModel,d.g.map((function(e){return Ht.a.ViewModel.create(e,$._engine.sessionModel,$._textResources.denali)})));var Oa=Object(oe.pipe)(Mt,d.g.map((function(e){return[e.viewModel,$.searchViewModel,$.documentSettingsViewModel.viewModel]})),d.g.getOrElse((function(){return[$.searchViewModel,$.documentSettingsViewModel.viewModel]})));this.hotkeyManager=new Ce.a(d.a.UniqueArray.from(Oa),this._environment.has(it.b.Flag.isAppleSystem),this._environment.platform===it.b.Platform.IPAD),this._subs.push(this._handleFocusUserInputInCards()),this._subs.push(Oe.a.Experiments.sendToIdeasGallery(this._platformEnvironment,this._config)(this.cardsViewModel.actionEvents).subscribe()),this.showConfetti=M.a.create(!1);var Sa=function(){var e,t=$.successLensViewModel.successState.get(),n=$.lensState.get();return vt.a.isInSuccess(n)&&t.type===tt.a.SuccessType.zero&&!(null===(e=t.showBirthday)||void 0===e||!e)};this._subs.push(un.pipe(k.a.switchMap((function(e){if(e){var t=new lt.a($.navigationViewModel,$._denaliEditorModel),n=new ct.a($._denaliEditorModel),a=new ut.a($._denaliEditorModel,$._engine.positionManager),r=M.a.create(d.g.none),i=M.a.create(!1),o=Object(Bt.e)($._denaliEditorModel,n,a,(function(){i.set(!0)}),r,Object(_t.a)($.notificationsManager,$._environment)),s=Object(Bt.d)($._telemetryContainerId,$._environment,$._platformEnvironment,t,$._log),c=Object(Bt.f)($._telemetry,$._platformEnvironment,$._config,$.upgradeViewModel),l=Object(Bt.b)($._experimentClient);return k.a.from(Lt.a.create({capi:$._engine.obsCapiClient,sessionModel:$._engine.sessionModel,capiService:sn,denaliEditorModel:$._denaliEditorModel,userAccount:$._userAccount,navigation:t,navigationVM:$.navigationViewModel,dialect:$._dialectSettings,isDemoDocument:$._engine.sessionModel.isDemoDocument,availabilityService:$.cheetahAvailabilityService,telemetry:$._telemetry,inlineManager:$._inlineManager,config:$._config,modalManager:$.modalManager,selectionRange:r,textEditorService:o,usedDuringSession:i,lifecycleService:s,uphookService:c,experimentService:l,alertService:d.g.none,sduiService:d.g.none})).pipe(k.a.take(1),k.a.map(d.g.some))}return k.a.of(d.g.none)})),k.a.map(d.g.tap((function(e){return $._subs.push(k.a.fromEvent(window,"beforeunload").subscribe((function(){return e.dispose()})))})))).subscribe(E.b.toAtom(this._cheetahViewModel))),this.cheetahViewModel=this._cheetahViewModel.view(),this.onboardingViewModel=new gn.a(this._userAccount.settings,this._denaliEditorModel,this._engine.sessionModel,Y,this._userAccount.features.onboardingMode(),this._telemetry,Vt,(function(){return $.marksViewModel.getFirstMark().pipe(k.b.compact,k.a.map((function(e){return d.g.fromEither(e.getRect())})))}),this.cheetahViewModel,this.navigationViewModel,this._userAccount.features),this._subs.push(this.successLensViewModel.successState.pipe(k.a.debounceTime(2e3),k.a.filter(Sa)).subscribe((function(){$._userAccount.settings.markBDayGiftSeen(),$._telemetry.gnarSpec.bdayGiftAnimationShow($._telemetry.pageId),k.a.timer(4e3).subscribe((function(){Sa()&&$.showConfetti.set(!0)}))})))}return Object(r.a)(e,[{key:"dispose",value:function(){this._engine.shutdown(),Object(oe.pipe)(this.vbarsViewModel,d.g.tap((function(e){return e.dispose()}))),this.searchViewModel.dispose(),this.successLensViewModel.dispose(),this._lensStateManager.dispose(),this.marksViewModel.dispose(),this.synonymsViewModel.dispose(),d.g.option.map(this._reportViewModel,(function(e){return e.dispose()})),this.downloadViewModel.dispose(),this.navigationViewModel.dispose(),Object(oe.pipe)(this.surveyManager,d.g.map((function(e){return e.dispose()}))),this.documentSettingsViewModel.dispose(),Object(oe.pipe)(this.obtainGradesNotificationManager,d.g.map((function(e){return e.dispose()}))),this.proofitViewModel.dispose(),this._pageTelemetry.dispose(),this._cardsTelemetry.dispose(),this._ethicalAICardTelemetry.dispose(),this._gbRuleCreatedViewModel.dispose(),this._synfonyTelemetry.dispose(),this.inlineCardViewModel.dispose(),this.cardsViewModel.dispose(),Object(oe.pipe)(this._sduiCardsViewModel,d.g.tap((function(e){return e.dispose()}))),Object(oe.pipe)(this._sduiNavigationModel,d.g.tap((function(e){return e.dispose()}))),this.autofocusListener.dispose(),this.hotkeyManager.dispose(),this.cheetahAvailabilityService.dispose(),Object(oe.pipe)(this.cheetahViewModel.get(),d.g.tap((function(e){return e.dispose()}))),this._subs.dispose()}},{key:"_handleFocusUserInputInCards",value:function(){return this._denaliEditorModel.dontFreezeWhen(this.lensState.pipe(k.a.map(Object(u.flow)(S.e.getActiveItem(this._getActiveItemWithAlert),d.g.filter((function(e){return vt.a.isAlertCard(e)})),d.g.filter(Object(m.p)(ke.a.hasBackgroundGbPrompt,Object(m.b)(Le.b.isDefaultItem,ke.a.hasOneGapTransform))),d.g.fold(u.constFalse,u.constTrue))),k.a.startWith(!1),k.a.distinctUntilChanged()),"userInput")}},{key:"_trackPlagiarismAlertsEditing",value:function(){var e=this;return this._engine.checkingDomain.state.pipe(k.a.filter(Object(u.flow)(pe.a.iso.get,(function(e){return e.latestChangeDiff}),Xe.a.filter(u.constFalse,(function(e,t){return t.alert.lensType===v.a.Type.Plagiarism&&t.state.type===b.a.State.Type.REMOVED&&(t.state.reason===b.a.State.Removed.Reason.capiDone||t.state.reason===b.a.State.Removed.Reason.textChange)}),u.constFalse),Object(u.not)(Xe.a.isEmpty))),k.a.tap((function(){return e._telemetry.gnarSpec.plagiarismAlertEdit(e._docId,e._telemetry.pageId,e._telemetry.pageSessionId)}))).subscribe()}},{key:"createLoaderViewModel",value:function(e){return new un.b(this.documentLoader.state,this.navigationViewModel,this._engine.sessionModel,e,this._denaliEditorModel,this._userAccount.features)}}]),e}()},JLFM:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a,r,i=n("a5gI"),o=n("000W"),s=n("DTwm"),c=n("tiWp"),l=n("+vYo"),u=n("mgiE"),d=n("RRF2"),p=n("TKPA"),m=n("D2TP"),f=n("xk6L"),h=n("hzat");!function(e){const t=e=>t=>Object(c.pipe)(t,u.g.map(Object(s.flow)(o.V(t=>e.getAlertByMark(t)),o.Xb(u.h.contramap(({alert:{lensType:e,lensPriority:t}})=>({type:e,priority:t}))(m.a.ord)))));e.fromMarksEvents=(e,n)=>({activeHighlights:Object(c.pipe)(n.activeMarks,f.a.map(t(e))),hoveredHighlights:Object(c.pipe)(n.hoveredMarks,f.a.map(t(e)))})}(a||(a={})),function(e){e.Mock=class{constructor(){Object(i.a)(this,"alertHovered",new f.a.Subject),Object(i.a)(this,"alertClicked",new f.a.Subject),Object(i.a)(this,"highlightedAlert",l.a.create(u.g.none))}}}(r||(r={}));class g{constructor(e,t,n,r,o,s){Object(i.a)(this,"_ded",void 0),Object(i.a)(this,"_markAlertMapper",void 0),Object(i.a)(this,"_alertsReader",void 0),Object(i.a)(this,"_activeAlertChanges",void 0),Object(i.a)(this,"_alertFilter",void 0),Object(i.a)(this,"_resolveClickedAlert",void 0),Object(i.a)(this,"_impl",void 0),Object(i.a)(this,"alertHovered",void 0),Object(i.a)(this,"alertClicked",void 0),this._ded=e,this._markAlertMapper=t,this._alertsReader=n,this._activeAlertChanges=r,this._alertFilter=o,this._resolveClickedAlert=s,this._impl=new b(a.fromMarksEvents(this._markAlertMapper,this._ded),this._alertsReader,this._activeAlertChanges,this._alertFilter,this._resolveClickedAlert),this.alertHovered=this._impl.alertHovered,this.alertClicked=this._impl.alertClicked}}class b{constructor(e,t,n,a,r){Object(i.a)(this,"_highlightEvents",void 0),Object(i.a)(this,"_alertsReader",void 0),Object(i.a)(this,"_activeAlertChanges",void 0),Object(i.a)(this,"_alertFilter",void 0),Object(i.a)(this,"_resolveClickedAlert",void 0),Object(i.a)(this,"alertHovered",void 0),Object(i.a)(this,"alertClicked",void 0),this._highlightEvents=e,this._alertsReader=t,this._activeAlertChanges=n,this._alertFilter=a,this._resolveClickedAlert=r,this.alertHovered=this._highlightEvents.hoveredHighlights.pipe(f.a.map(u.g.map(o.zb(({alert:e})=>e))),f.a.scan((e,t)=>Object(c.pipe)(t,u.g.chain(t=>Object(c.pipe)(e,u.g.filter(e=>-1!==t.indexOf(e)),u.g.fold(()=>u.g.fromNullable(t[0]),u.g.some)))),u.g.none),f.a.map(u.g.filter(e=>this._alertsReader.isInteractable(e.id)&&!h.a.isPlagiarism(e))),f.a.distinctUntilChanged()),this.alertClicked=this._highlightEvents.activeHighlights.pipe(f.a.withLatestFrom(this._activeAlertChanges,this._alertFilter),f.a.scan((e,[t,n,a])=>{const r=t=>Object(c.pipe)(e,u.g.exists(e=>e.alert.id===t.alert.id)),i=e=>Object(c.pipe)(n,u.g.exists(t=>t.alert.id===e.alert.id)),o=e=>a(e.alert);var s;return Object(c.pipe)(t,u.g.chain(e=>Object(c.pipe)(e,null!==(s=this._resolveClickedAlert)&&void 0!==s?s:d.a.findByPredicateList([Object(p.b)(r,i),i,Object(p.b)(r,o),o,r]),u.g.fold(()=>u.g.fromNullable(e[0]),u.g.some),u.g.map(e=>d.e.update(e,{highlightIndex:e.alert.hasNestedHighlights?0:e.highlightIndex})))))},u.g.empty()),f.a.shareReplay({refCount:!0,bufferSize:1}))}}},JRBS:function(e,t,n){"use strict";n.d(t,"a",(function(){return ne})),n.d(t,"c",(function(){return ae})),n.d(t,"b",(function(){return re})),n.d(t,"e",(function(){return oe})),n.d(t,"f",(function(){return le})),n.d(t,"d",(function(){return ue})),n.d(t,"g",(function(){return me}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("DTwm"),s=n("tiWp"),c=n("4GyQ"),l=n("+vYo"),u=n("OwvP"),d=n("jY3z"),p=n("sX1a"),m=n("RRF2"),f=n("0kuo"),h=n("TKPA"),g=n("mgiE"),b=n("NDcT"),v=n("fC5a"),y=n("zK/v"),O=n("L8Yl"),S=n("ySi0"),C=n("Butu"),w=n("wuWi"),k=n("h+d6"),E=n("xk6L"),j=n("cZ4c"),_=n("KH+i"),x=n("N5Ay"),A=n("6+at"),I=n("F0/G"),T=n("HGxo");const M=e=>e?I.a:I.b,P=({theme:e,children:t})=>i.createElement(w.j,{className:e.list},t),N=({transform:e,title:t,disabled:n,boldifier:a=W,classes:r,onClick:o})=>i.createElement(v.a,{animationMode:y.a.FromClickPoint,name:"apply-insert",role:"insertion",tag:O.b.div,onClick:o,title:t,disabled:n,className:r.itemInsert},e.map((e,t)=>i.createElement(i.Fragment,{key:t},a(e,r.diff)))),D=({transform:e,theme:t,showOnboarding:n,onClick:r,onExpand:o})=>{const s=i.useContext(b.a.Context),l=e.label.map((e,t)=>i.createElement(i.Fragment,{key:t},e.text)),u=i.createElement(v.a,Object(a.a)({animationMode:y.a.FromClickPoint,name:"expand-insert",onClick:o,title:s.synfony.drilldownTooltip(l)},Object(c.c)(t.itemInsert,t.drilldownArrowButton)),i.createElement(S.d.Arrow,{direction:S.a.right,className:t.drilldownIcon}));return i.createElement("div",{className:t.drilldownInsertGroup},i.createElement(v.a,{animationMode:y.a.FromClickPoint,name:"apply-insert",role:"insertion",tag:O.b.div,onClick:r,title:s.synfony.applyTooltip,className:t.itemInsert},l),Boolean(e.subLabels.length)&&(n?i.createElement(ie,null,u):u))},B=({transform:e,title:t,theme:n,onClick:a})=>i.createElement(v.a,{animationMode:y.a.FromClickPoint,name:"apply-remove",role:"deletion",tag:O.b.div,onClick:a,title:t,className:n.itemRemove},e.map((e,t)=>i.createElement(G,{key:t,element:e,theme:n}))),L=({transform:e,title:t,theme:n,onClick:a,children:r})=>i.createElement("div",{className:n.removeOrContainer},e.map((r,o)=>"text"===r.type?i.createElement("span",{key:o,className:o===e.length-1?n.itemContextShifted:n.itemContext},r.text):i.createElement(v.a,{key:o,animationMode:y.a.FromClickPoint,name:"apply-remove-or",role:"deletion",tag:O.b.div,onClick:a,title:t,className:n.itemRemove},i.createElement(G,{element:r,theme:n}))),r),F=e=>i.createElement("span",{className:e.classes.or},i.useContext(b.a.Context).card.or),R=({transform:e,replacements:t,boldifier:n=W,theme:a,strikeThrough:r=!0})=>{var o;const l=e.every(e=>null===e.text.match(/\n/)),u=e.map(e=>e.text).join(""),d=1===t.length?t[0].map(e=>e.text).join(""):"",p=Object(T.e)(u,d),f=Object(s.pipe)(null===(o=p)||void 0===o?void 0:o.oldFragment,e=>Boolean(e)&&m.f.containsSpacesOnly(e)),h=l&&f;return i.createElement("div",Object(c.c)(a.itemOriginal,r&&a.itemOriginalStrikeThrough),i.createElement("span",Object(c.c)(a.itemOriginalContent,h&&a.spacesOnlyContent),e.map((e,t)=>i.createElement(i.Fragment,{key:t},n(e,a.diff)))))},H=()=>{const e=i.useContext(b.a.Context);return i.createElement(d.a.Regular,{a11yContrast:!0},e.beta)},V=({transform:e,boldifier:t=W,header:n,classes:a,onClick:r,beta:o})=>i.createElement(v.a,{name:"apply-insert",onClick:r,className:a.item},Boolean(n)?i.createElement("div",{className:a.inlineHeader},n,Boolean(o)&&i.createElement(H,null)):null,e.map((e,n)=>i.createElement(i.Fragment,{key:n},t(e,a.diff)))),U=({transform:e,boldifier:t=W,header:n,classes:a,onClick:r,beta:s})=>i.createElement(v.a,{name:"apply-insert",onClick:r,className:a.item},Boolean(n)?i.createElement("div",{className:a.inlineHeader},n,Boolean(s)&&i.createElement(H,null)):null,i.createElement(p.Typography.Base,{className:a.transform},e.filter(e=>[j.k.Text,j.k.Insert].includes(e.type)).map((e,n)=>i.createElement(i.Fragment,{key:n},t(Object(o.unsafeCoerce)(e),a.diff))))),W=m.e.pick("text"),z=({text:e,type:t},n)=>"text"===t?e:i.createElement("span",{className:n},e),G=({element:e,strikeClass:t,theme:n})=>"delete"===e.type?i.createElement("span",Object(c.c)(T.a.getClass(n,e.text),t),e.text):i.createElement(i.Fragment,null,e.text);function q({labels:e,original:t,onlyReplacements:n},a,r,o,s){const c=1===t.length,[l]=c?[t[0].text,e[0][0].text].map((e=>(t,n)=>a=>i.createElement(ne,{index:n,oldText:t,newText:a.text,theme:e}))(o)):[z,z];return i.createElement(P,{theme:o},!n&&i.createElement(R,{transform:t,theme:o,replacements:e}),i.createElement("div",{className:r===_.a.Density.cozy?o.cozyArrowInsertsList:e.length>2?o.columnList:o.arrowInsertsList},e.map((e,t)=>i.createElement(N,{key:t,title:a,onClick:s(t),transform:e,boldifier:l,classes:o}))))}const K=/^\W/,$=(e,t)=>{switch(e.type){case j.k.Delete:return t.fullSentenceDelete;case j.k.Insert:return K.test(e.text)?t.fullSentenceInsertPunctuation:t.fullSentenceInsert;case j.k.Text:case j.k.List:return"";default:return Object(f.c)(e)}},Z=(e,t)=>{switch(e.type){case j.k.Delete:return t.fullSentenceHidden;case j.k.List:case j.k.Text:case j.k.Insert:return"";default:return Object(f.c)(e)}},Y=(e,t)=>{switch(e.type){case j.k.Delete:return t.fullSentenceHidden;case j.k.List:return"bullet"===e.kind?t.fullSentenceBulletListItemWithFormatting:"dashed"===e.kind?t.fullSentenceDashedListItemWithFormatting:t.fullSentenceOrderedListItemWithFormatting;case j.k.Insert:case j.k.Text:return"";default:return Object(f.c)(e)}},X=(e,t)=>{switch(e.type){case j.k.Delete:return t.fullSentenceHidden;case j.k.List:return"bullet"===e.kind?t.fullSentenceBulletListItem:"dashed"===e.kind?t.fullSentenceDashedListItem:t.fullSentenceOrderedListItem;case j.k.Insert:case j.k.Text:return"";default:return Object(f.c)(e)}},Q=({p:e,theme:t})=>{const n=l.a.create(e.shouldBeCollapsed);return i.createElement(u.a.Fragment,null,n.view(Object(h.c)(i.createElement("span",{className:e.type===j.k.Delete?t.collapsibleDelete:t.collapsibleInsert,onClick:()=>n.set(!1),role:"button",tabIndex:0},i.createElement("span",{className:t.collapsiblePartContent},"…")),i.createElement(i.Fragment,null,e.text))))},J=(e,t,n)=>{var a;if(null===(a=e.shouldBeCollapsed)||void 0===a||!a)return e.text;switch(e.type){case j.k.Insert:case j.k.Delete:return t?i.createElement(Q,{p:e,theme:n}):e.text;case j.k.Text:return i.createElement("span",null," … ");default:Object(f.c)(e)}},ee=e=>{const t=Object(s.pipe)(e.showDiff,Object(h.c)($,Z),t=>t(e.transformPart,e.theme));return i.createElement("span",{className:t},J(e.transformPart,e.showDiff,e.theme))},te=e=>{const t=Object(s.pipe)(e.showDiff,Object(h.c)(Y,X),t=>t(e.transformPart,e.theme));return e.transformPart.type===j.k.List?i.createElement("span",{className:t,"data-indent":e.transformPart.indent}):i.createElement("span",{className:t},J(e.transformPart,e.showDiff,e.theme))},ne=({index:e=0,oldText:t,theme:n,newText:a})=>{const r=Object(T.b)(t,a),o=!!r&&m.f.containsSpacesOnly(r[1]);return i.createElement(i.Fragment,null,r?[r[0],i.createElement("span",{key:e,className:o?n.spacesOnlyContent:n.diff},r[1]),r[2]]:a)},ae=e=>{const{onMount:t,maxHeight:n}=Object(x.b)(),a=M(e.a11yContrast);return i.createElement(w.a,{mount:t,style:{maxHeight:n.pipe(E.a.map(g.g.getOrElse(o.constUndefined)))},tabIndex:0,className:Object(s.pipe)(e.layoutDensity,_.a.Density.matchOrDefault(_.a.Density.minimal)(()=>a.minimalFullSentenceBackground,()=>a.fullSentenceBackground))},e.replacements.kind===j.f.WithFormatting?e.replacements.labels.map((t,n)=>i.createElement(te,{showDiff:e.showDiff,transformPart:t,key:n,theme:a})):e.replacements.labels.map((t,n)=>i.createElement(ee,{showDiff:e.showDiff,transformPart:t,key:n,theme:a})))},re=({replacements:e,layoutDensity:t,a11yContrast:n,selection:a,onClick:r,onDive:o,onBack:s})=>{const c=i.useContext(b.a.Context),{activeLabels:l,original:u}=j.d.getSelectedItems(e,a),d=M(n);return i.createElement(P,{theme:d},i.createElement("div",{className:d.drilldownOriginalRow},a.length>0&&i.createElement(v.a.Ghost,{name:"go-back",title:c.synfony.back,onClick:s,className:d.drilldownBackButton},i.createElement(S.d.Arrow,{direction:S.a.left})),i.createElement(R,{transform:u,theme:d,replacements:[],strikeThrough:!Boolean(a)||0===a.length})),i.createElement("div",{className:t===_.a.Density.cozy?d.cozyArrowInsertsList:d.arrowInsertsList},l.map((e,t)=>i.createElement(D,{key:t,transform:e,showOnboarding:2===t,theme:d,onClick:r(e.alternativeId),onExpand:()=>o(t,e.alternativeId)}))))},ie=e=>{const t=i.useContext(b.a.Context);return i.createElement(A.b,{alignment:"topLeft",eventType:"onclick",stepId:k.a.StepId.Synfony,message:t.synfony.onboardingTooltip,dotPosition:{kind:"dotAtPosition",position:A.a.rightCenter}},e.children)},oe=e=>{const t=i.useContext(b.a.Context).card,n=""===e.gapValue,a=M(e.a11yContrast);return i.createElement(i.Fragment,null,i.createElement(C.b,{name:"input",placeholder:t.gapCard.placeholder,value:e.gapValue,onChange:t=>e.onChange(t.target.value),onKeyPress:e=>{"Enter"===e.key&&e.currentTarget.nextElementSibling&&e.currentTarget.nextElementSibling.click()},className:a.oneGapInput}),i.createElement(N,{title:n?"":t.todoAction(e.replacements.tooltipText),boldifier:z,onClick:e.onApply,classes:{itemInsert:a.oneGapInsert,inlineHeader:a.inlineHeader,diff:a.diff},disabled:n,transform:se(e.replacements.labels.left,e.gapValue,e.replacements.labels.right)}))},se=(e,t,n)=>[...e,{type:j.k.Insert,text:ce(e)+(t||"…")+ce(n)},...n],ce=e=>e.length?" ":"",le=({replacementsLabels:e,layoutDensity:t,a11yContrast:n,onClick:a})=>{const r=i.useContext(b.a.Context).card.todoAction(e.tooltipText),o=M(n);switch(e.type){case j.j.Type.InsertList:return i.createElement(P,{theme:o},e.labels.map((e,t)=>i.createElement(N,{key:t,title:r,onClick:a(t),transform:e,classes:o})));case j.j.Type.DeleteList:return i.createElement(P,{theme:o},e.labels.map((e,t)=>i.createElement(B,{key:t,title:r,onClick:a(t),transform:e,theme:o})));case j.j.Type.Arrow:return q(e,r,t,o,a);case j.j.Type.InsertOr:return i.createElement(P,{theme:o},i.createElement(N,{transform:e.labels[0],title:r,onClick:a(0),boldifier:z,classes:o}),i.createElement(F,{classes:o}),i.createElement(N,{transform:e.labels[1],title:r,onClick:a(1),boldifier:z,classes:o}));case j.j.Type.DeleteOr:return i.createElement(P,{theme:o},e.labels.map((t,n)=>i.createElement(L,{key:n,title:r,onClick:a(n),theme:o,transform:t},n===e.labels.length-2&&i.createElement(F,{classes:o}))));case j.j.Type.Citation:case j.j.Type.FullSentence:case j.j.Type.OneGap:case j.j.Type.Drilldown:case j.j.Type.ShortenIt:case j.j.Type.ToneAI:return null;default:return Object(f.c)(e)}},ue=({replacementsLabels:e,onClick:t,header:n,customStyle:a,a11yContrast:r,beta:o})=>{const s=Array.isArray(e.labels)&&1===e.labels.length?a.inlineHeaderOne:a.inlineHeader,c=M(r);switch(e.type){case j.j.Type.DeleteList:return i.createElement("div",{className:a.inlineWrappedList},e.labels.map((e,r)=>i.createElement(V,{key:r,onClick:t(r),classes:{item:a.itemRemove,inlineHeader:s,diff:c.diff},boldifier:e=>i.createElement(G,{element:e,strikeClass:a.strike,theme:c}),transform:e,header:0===r?n:""})));case j.j.Type.InsertList:case j.j.Type.InsertOr:case j.j.Type.Arrow:return i.createElement("div",{className:a.inlineWrappedList},e.labels.map((e,r)=>i.createElement(V,{key:r,onClick:t(r),classes:{item:a.itemInsert,inlineHeader:s,diff:c.diff},transform:e,boldifier:e=>z(e,a.diff),header:0===r?n:""})));case j.j.Type.FullSentence:return i.createElement("div",{className:a.inlineWrappedList},i.createElement(U,{onClick:t(0),classes:{item:a.itemInsert,inlineHeader:s,diff:c.diff,transform:a.transform},transform:e.labels,boldifier:e=>z(e,a.diff),header:n,beta:o}));case j.j.Type.DeleteOr:case j.j.Type.OneGap:case j.j.Type.Drilldown:case j.j.Type.ShortenIt:case j.j.Type.ToneAI:case j.j.Type.Citation:return null;default:return Object(f.c)(e)}},de=({label:e,a11yContrast:t})=>{const n=e.findIndex(e=>e.type===j.k.Delete);let o=e.reduce((e,t)=>e=e.concat(t.text.split(" ").map(e=>({word:e,isDelete:t.type===j.k.Delete,shouldHighlight:!1}))),[]).filter(e=>""!==e.word);return o=0===n?o.filter(e=>!e.isDelete).map((e,t)=>{let n=!1;return t-2<0&&(n=!0),Object(r.a)(Object(a.a)({},e),{shouldHighlight:n})}):n===e.length-1?o.filter(e=>!e.isDelete).map((e,t,n)=>{let i=!1;return t+2>=n.length&&(i=!0),Object(r.a)(Object(a.a)({},e),{shouldHighlight:i})}):o.map((e,t,n)=>{let i=!1;return(void 0!==n[t+1]&&n[t+1].isDelete||void 0!==n[t-1]&&n[t-1].isDelete)&&(i=!0),Object(r.a)(Object(a.a)({},e),{shouldHighlight:i})}).filter(e=>!e.isDelete),i.createElement(i.Fragment,null,o.map((e,n,a)=>i.createElement("span",{key:`${e.word}-${n}`,className:e.shouldHighlight?M(t).toneAIInsert:void 0},e.word,void 0===a[n+1]||Object(T.c)(a[n+1].word)?"":" ")))},pe=({label:e,a11yContrast:t})=>i.createElement(i.Fragment,null,e.filter(e=>e.type!==j.k.Delete).map(e=>i.createElement("span",{key:e.text,className:e.type===j.k.Insert?M(t).toneAIInsert:void 0},e.text))),me=({label:e,className:t,a11yContrast:n})=>{let a;return a=!e.some(e=>e.type===j.k.Insert)?i.createElement(de,{label:e,a11yContrast:n}):i.createElement(pe,{label:e,a11yContrast:n}),i.createElement("div",{className:t},a)}},JUw6:function(e){e.exports=JSON.parse('{"secondTier":"_fff97a92-document-view-secondTier","secondTierLoader":"_28c5f0ad-document-view-secondTierLoader _fff97a92-document-view-secondTier","invisibleSecondTier":"_3bf7ac70-document-view-invisibleSecondTier _fff97a92-document-view-secondTier","horizontal":"_4a6e6106-document-view-horizontal","horizontalEditorWrapper":"_62489cd6-document-view-horizontalEditorWrapper","fixedHorizontal":"_b15ab221-document-view-fixedHorizontal","inlineCardWrapper":"_3d817d93-document-view-inlineCardWrapper","baseLoaderClass":"_6a85d163-document-view-baseLoaderClass","textLoaderWrap":"_23159c5b-document-view-textLoaderWrap","fixedLoader":"_fcc28cfc-document-view-fixedLoader","overlayVisible":"_27da620b-document-view-overlayVisible","fixedOverlay":"_085dcda9-document-view-fixedOverlay","withPlaceForScrollbar":"_0981226d-document-view-withPlaceForScrollbar","documentContainer":"_f95a18f5-document-view-documentContainer","documentPlaceholder":"_ab1c6375-document-view-documentPlaceholder"}')},JcQk:function(e,t,n){"use strict";n.d(t,"a",(function(){return _e}));var a=n("B8yO"),r=n("DTwm"),i=n("tiWp"),o=n("OwvP"),s=n("xk6L"),c=n("SOPW"),l=n("eAYH"),u=n("KH+i"),d=n("LqiM"),p=n("8O/t"),m=n("X76w"),f=n("+vYo"),h=n("ukVJ"),g=n("sX1a"),b=n("mgiE"),v=n("TKPA"),y=n("0kuo"),O=n("M3t0"),S=n("NDcT"),C=n("fC5a"),w=n("ySi0"),k=n("Butu"),E=n("wuWi"),j=n("Hj2R"),_=n("ZDrO"),x=n("hzat"),A=n("itj6"),I=n("CBmo"),T=n("2swC"),M=n("nWMp");const P=M.a.style({margin:M.a.rem(1)+" 0"}),N=(M.a.style({marginLeft:M.a.rem(.5),lineHeight:M.a.rem(1.3125),fontSize:M.a.rem(.875),color:T.a.CoreNeutral90}),M.a.style({marginLeft:M.a.rem(1)})),D={color:T.a.CoreRed60,fontSize:M.a.rem(.75),lineHeight:M.a.rem(1.125)},B=M.a.style(D),L=M.a.style(D,{visibility:"hidden"}),F=M.a.style({padding:0}),R=M.a.style({paddingTop:M.a.rem(1),paddingLeft:M.a.rem(1),paddingRight:M.a.rem(1),display:"flex"}),H=M.a.style({minWidth:M.a.rem(1)}),V=M.a.style({paddingTop:M.a.rem(.25),paddingLeft:M.a.rem(.5)}),U=M.a.style({paddingLeft:M.a.rem(.5),paddingRight:M.a.rem(1),marginTop:M.a.rem(.5)}),W=M.a.style({display:"flex",alignItems:"center",gap:M.a.rem(.75),marginTop:M.a.rem(1)}),z=M.a.style({flexGrow:1}),G=M.a.style({marginTop:M.a.rem(1.5)}),q=M.a.style({fontWeight:"bold",paddingBottom:M.a.rem(.25)}),K=M.a.style({height:M.a.rem(2.5),paddingLeft:M.a.rem(.5)}),$=M.a.style({height:M.a.rem(6),paddingLeft:M.a.rem(.5)}),Z=M.a.style({paddingTop:M.a.rem(1.5),color:T.a.CoreNeutral50}),Y=M.a.style({display:"flex",flexDirection:"row",columnGap:M.a.rem(.5),alignItems:"center",paddingLeft:M.a.rem(.5),paddingRight:M.a.rem(1),paddingBottom:M.a.rem(.5)}),X=M.a.style({flex:3,textAlign:"center"}),Q=M.a.style({color:T.a.CoreNeutral50,border:"1px solid "+T.a.CoreNeutral20,borderRadius:M.a.rem(.25)});var J=n("jEie");const ee=({card:e,actions:t})=>Object(i.pipe)(e.visualState.transition,b.g.fromPredicate(e=>"feedback_form"===e.type),b.g.fold(()=>(O.d.Logging.getLogger("FeedbackForm").error("Trying to render feedback form from non-feedback state",e),null),n=>"survey"===n.formType?a.createElement(te,{card:e,data:n,actions:t}):a.createElement(ne,{card:e,data:n,actions:t}))),te=({card:e,data:t,actions:n})=>{const r=a.useContext(S.a.Context).card.feedbackForm,i=f.a.create(void 0),s=f.a.create(!1),c=a=>n.next(Object(p.a)({alertId:e.activeAlert.id,reason:a},t.submitActionType===A.b.Type.alertApplyFormSubmit?{type:A.b.Type.alertApplyFormSubmit,alertApplyActionProps:t.alertApplyActionProps}:{type:A.b.Type.alertIgnoreFormSubmit})),l="survey-title-"+e.id;return a.createElement(I.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,onFocus:()=>n.next({type:A.b.Type.alertIgnoreFeedbackFormShow,alertId:e.activeAlert.id}),theme:Object(J.b)(e.renderOptions),visualState:e.visualState,body:a.createElement(a.Fragment,null,a.createElement(E.g,{id:l,className:P},t.survey.question||r.dismissReason),a.createElement(h.b.Group,{id:"survey-"+e.id,selectedItemIndex:i,"aria-labelledby":l,items:t.survey.options.map(e=>e.text),onChange:()=>s.set(!1)})),mainActions:a.createElement(a.Fragment,null),footer:a.createElement(a.Fragment,null,a.createElement(o.a.div,{"aria-hidden":s,className:s.view(Object(v.c)(B,L))},r.error),a.createElement("div",null,a.createElement(C.a.Primary,{name:"submitCardFeedbackForm",onClick:()=>{const e=i.get();return void 0===e?s.set(!0):_.d.callOnce(()=>c(t.survey.options[e].key))()}},r.submit),a.createElement(C.a.Ghost,{className:N,name:"skipCardFeedbackForm",onClick:_.d.callOnce(()=>c("skipped"))},r.skip))),subActions:a.createElement(a.Fragment,null)})},ne=({card:e,data:t,actions:n})=>{const r=ie(e,t),i="background"===t.gbPrompt.promptType&&j.g.isVox(t.gbPrompt),[o,s]=a.useState("initial"),[c,l]=a.useState(r.source),[u,d]=a.useState(r.target),[f,h]=a.useState(""),b=!("createRule"!==o||c&&u),v=a=>{const r={alertId:e.activeAlert.id,alertApplyActionProps:t.alertApplyActionProps,gbPrompt:t.gbPrompt,patternName:e.activeAlert.patternName,source:c,target:u,description:f};switch(a){case A.b.Type.gbPromptDismiss:n.next(Object(m.a)(Object(p.a)({},r),{type:a,step:o}));break;case A.b.Type.gbPromptApply:case A.b.Type.gbPromptCreateRule:n.next(Object(m.a)(Object(p.a)({},r),{type:a}));break;default:Object(y.c)(a)}},O="initial"===o?t.gbPrompt.description:a.createElement(a.Fragment,null,a.createElement("div",{className:W},a.createElement("div",{className:z},a.createElement(g.Typography.Base,{className:q},"Original"),a.createElement(k.b,{name:"gbprompt-source",className:K,value:c,onChange:e=>l(e.target.value)})),a.createElement(g.Typography.Paper,{className:Z},"→"),a.createElement("div",{className:z},a.createElement(g.Typography.Base,{className:q},"Change to"),a.createElement(k.b,{name:"gbprompt-target",className:K,value:u,onChange:e=>d(e.target.value)}))),a.createElement("div",{className:G},a.createElement(g.Typography.Base,{className:q},"Explanation"),a.createElement(k.c,{className:$,value:f,onChange:e=>h(e.target.value),placeholder:"Add it here...",blockExtension:!0})));return a.createElement(I.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,onFocus:()=>n.next({type:A.b.Type.gbPromptShow,patternName:e.activeAlert.patternName}),theme:Object(m.a)(Object(p.a)({},Object(J.b)(e.renderOptions)),{wrapper:F}),visualState:e.visualState,header:a.createElement("div",{className:R},a.createElement(w.d.StyleGuide,null),a.createElement(E.g,{className:V},t.gbPrompt.title)),body:a.createElement("div",{className:U},O),mainActions:a.createElement(a.Fragment,null),footer:a.createElement("div",{className:Y},a.createElement(ae,{step:o,disabled:b,onClick:()=>{"initial"===o&&i?(s("createRule"),v(A.b.Type.gbPromptCreateRule)):v(A.b.Type.gbPromptApply)}}),a.createElement(re,{step:o,onClick:()=>v(A.b.Type.gbPromptDismiss)})),subActions:a.createElement(a.Fragment,null)})},ae=({step:e,disabled:t,onClick:n})=>{const r=a.useContext(S.a.Context).card.gbPrompt;return"initial"===e?a.createElement(C.a.Primary,{name:"submitGbPromptFeedbackForm",className:X,disabled:t,onClick:_.d.callOnce(n)},a.createElement(w.d.StyleGuideWhite,{width:18,className:H}),r.addRule):a.createElement(C.a.Primary,{name:"submitGbPromptFeedbackForm",className:X,disabled:t,onClick:_.d.callOnce(n)},r.saveRule)},re=({step:e,onClick:t})=>{const n=a.useContext(S.a.Context).card.gbPrompt;return"initial"===e?a.createElement(C.a.Flat,{name:"dismissGbPromptFeedbackForm",className:Q,onClick:_.d.callOnce(t)},n.dismiss):a.createElement(C.a.Flat,{name:"dismissGbPromptFeedbackForm",className:Q,onClick:_.d.callOnce(t)},n.cancelSavingRule)},ie=(e,t)=>{const n=e.activeAlert,a=t.alertApplyActionProps.alternativeIndex;return x.a.isSuper(n)?j.g.isVox(t.gbPrompt)?oe(n,a):se(n,a):{source:"",target:""}},oe=(e,t)=>{const n=e.labels;return{source:n.filter((e,n)=>n!==t).map(ce)[0],target:ce(n[t])}},se=(e,t)=>({source:"",target:e.labels[t].label}),ce=({replacementTexts:e})=>[...e].sort()[0];var le=n("XVhX"),ue=n("5eEL"),de=n("7IMz"),pe=n("TXN2");const me=M.a.style({marginRight:M.a.rem(-.5),marginTop:M.a.rem(.5)}),fe=M.a.style({padding:`0 ${M.a.rem(1.625)} !important`,marginRight:M.a.rem(.125)}),he=M.a.style({marginRight:0}),ge=({card:e,actions:t,showLabel:n=!0})=>{const r=a.useRef(f.a.create(!1));de.a.useEffectOnWillUnmount(()=>{r.current.get()||Object(i.pipe)(e.muteCategory,b.g.map(n=>t.next({type:A.b.Type.mutedAlertSuccessDismissed,id:e.id,categoryId:n.id})))});const o=a.useContext(S.a.Context).card.mutedAlertCard;return a.createElement(I.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,onFocus:()=>t.next({type:A.b.Type.mutedAlertSuccessShow}),theme:Object(J.b)(e.renderOptions),visualState:e.visualState,body:a.createElement(a.Fragment,null,n?a.createElement(pe.i,{alert:e.activeAlert,options:e.renderOptions}):null,a.createElement(E.a,null,o.description(Object(i.pipe)(e.muteCategory,b.g.fold(()=>"",e=>e.description))))),mainActions:a.createElement(a.Fragment,null),footer:a.createElement("div",{className:me},a.createElement(C.a.Primary,{name:"gotIt",className:fe,onClick:()=>_.d.callOnce(()=>t.next({type:A.b.Type.switchToNext}))()},o.successButtonLabel),a.createElement(C.a.Ghost,{name:"turnBackOn",onClick:_.d.callOnce(()=>{r.current.set(!0),Object(i.pipe)(e.muteCategory,b.g.map(n=>t.next({type:A.b.Type.undoMuteAlertCategory,categoryId:n.id,viewType:e.activeAlert.type,id:e.id})))})},o.undoButtonLabel,a.createElement(w.d.Undo,{color:T.a.CoreBlue50,className:he}))),subActions:a.createElement(C.a.Tertiary,{name:"manageOptionalSuggestions",onClick:()=>t.next({type:A.b.Type.mutedAlertSuggestionManagementClick})},o.settingsLabel,a.createElement(w.d.OuterLink,null))})};var be=n("cqTd"),ve=n("eveZ"),ye=n("9bwL"),Oe=n("eM7Q");function Se(e,t,n){const{activeAlert:a,activeHighlightIndex:r}=t,i=a.getHighlightRanges(),o=(r+("left"===e?i.length-1:1))%i.length;n.next({type:A.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"sameAlert",card:t,highlightIndex:o},direction:e})}const Ce=({card:e,actions:t,selectedLabelIndex:n,isChecking:r})=>{const i=a.useContext(S.a.Context),o=f.a.create(!1);return de.a.useSubscriptionTo(r.pipe(s.a.tap(e=>o.set(e)))),a.createElement(pe.q,{applyMessage:e.activeAlert.todoAction,checkingMessage:i.card.checking,title:i.card.todoAction(e.activeAlert.todoAction),checkingInProgress:o,onClick:()=>{t.next({type:A.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n.get(),id:e.id,eligibleForSurvey:c.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:c.a.isEligibleForGbPrompt(e),cardType:A.b.getCardType(e)})}})},we=({card:e,actions:t})=>a.createElement(Oe.a,{onLeftClick:()=>Se("left",e,t),onRightClick:()=>Se("right",e,t),currentMatch:e.activeHighlightIndex,totalMatch:e.activeAlert.getHighlightRanges().length,disableOnEnd:!1,style:{}});var ke=n("zpyO");const Ee=({activeAlert:e,selectedLabelIndex:t,actions:n})=>{const r=a.useContext(S.a.Context);return a.createElement("div",{className:ke.a.optionsContainer},e.labels.map((i,o)=>a.createElement(a.Fragment,{key:"option-"+o},a.createElement(h.b.Item,{id:`${e.id}-${o}`,className:ke.a.optionLabel,onChange:()=>{t.set(o),n.next({type:A.b.Type.alternativeReplacementRadioButtonClick,index:o})},checked:t.view(e=>e===o)},i.label),a.createElement(E.l,{className:ke.a.optionExample},i.replacementTexts.join("; ")),a.createElement(E.l,{className:ke.a.optionSecondaryAttribute},r.card.matchesNavigation.numberOfMatches(i.matches)))))},je=({card:e,actions:t,isChecking:n,isCheckingGlobal:r})=>{const i=f.a.create(0);return a.createElement(I.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:A.b.Type.alertCardShow,cardType:A.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object(p.a)({wrapper:(o=e.renderOptions,o.hasOwnProperty("features")&&o.features.has(u.a.Features.sduiContainerStyle)?ke.a.sduiSuperWrapper:ke.a.superWrapper),content:r.pipe(s.a.map(Object(v.c)(ke.a.loadingWrapperInvisible,ke.a.loadingWrapper)))},Object(J.a)(e.renderOptions.layoutDensity)),extra:a.createElement(pe.c,{isChecking:r}),body:a.createElement(a.Fragment,null,a.createElement(pe.i,{alert:e.activeAlert,options:e.renderOptions}),a.createElement(pe.p,{alert:e.activeAlert}),a.createElement(pe.k,{card:e,isChecking:n}),a.createElement(pe.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}),a.createElement(Ee,{activeAlert:e.activeAlert,selectedLabelIndex:i,actions:t})),mainActions:a.createElement(pe.e,{card:e,feedbackActions:t}),footer:a.createElement(a.Fragment,null,a.createElement(pe.g,{card:e}),a.createElement(Ce,{selectedLabelIndex:i,card:e,actions:t,isChecking:n})),navigation:a.createElement(we,{card:e,actions:t}),subActions:a.createElement(ye.a,{actions:t,card:e,mode:"mini"})});var o};var _e;!function(e){e.Full=({card:e,actions:t})=>{const{isChecking:n,isCheckingGlobal:i,transform:l}=c.a.useCardStates(e),u=e=>a.createElement(le.a,{card:e,actions:t,isChecking:n,transform:l,isCheckingGlobal:i});return a.createElement(o.a.Fragment,null,e.pipe(s.a.distinctUntilChanged((e,t)=>e.hashCode()===t.hashCode()),s.a.map(Object(r.flow)(c.a.match({super:e=>a.createElement(je,{card:e,actions:t,isChecking:n,isCheckingGlobal:i}),takeaway:u,synfony:u,shortenIt:u,toneAI:u,ethicalAI:u,suggestedSnippet:u,knowledgeHubSuggestedTerm:u,default:u}),c.a.foldCard))))},e.Mini=({card:e,actions:r})=>a.createElement(o.a.Fragment,null,e.pipe(s.a.map(e=>u.a.Density.matchL(()=>a.createElement(t,{card:e,actions:r}),()=>a.createElement(n,{card:e,actions:r}),()=>a.createElement(n,{card:e,actions:r}))(e.renderOptions.layoutDensity))));var t=e.MiniSingleLined=({card:e,actions:t})=>{function n(e){return a.createElement(ue.a.Standard,{card:e,actions:t})}return Object(i.pipe)(e,c.a.match({super:n,takeaway:n,synfony:n,shortenIt:n,toneAI:n,ethicalAI:function(e){return a.createElement(be.a.Mini,{card:e,actions:t})},suggestedSnippet:n,knowledgeHubSuggestedTerm:n,default:n}),c.a.foldCard)},n=e.MiniTwoLined=({card:e,actions:t})=>{function n(e){return a.createElement(ue.a.TwoLined,{card:e,actions:t})}return Object(i.pipe)(e,c.a.match({super:n,takeaway:n,synfony:n,shortenIt:n,toneAI:n,ethicalAI:function(e){return a.createElement(be.a.Mini,{card:e,actions:t,twoLined:!0})},suggestedSnippet:n,knowledgeHubSuggestedTerm:n,default:n}),c.a.foldCard)};e.Success=({cardData:e,actions:t,isLastCard:n})=>{function r(){return a.createElement(d.a.Success,{actions:t,isLastCard:n})}return Object(i.pipe)(e,l.b.match({takeaway:r,default:r,synfony:r,super:r,shortenIt:r,toneAI:r,ethicalAI:r,suggestedSnippet:function(e){return a.createElement(ve.a.Success,{card:e,actions:t})},knowledgeHubSuggestedTerm:r}),c.a.foldCard)},e.FeedbackForm=({cardData:e,actions:t})=>{function n(e){return a.createElement(ee,{card:e,actions:t})}return Object(i.pipe)(e,l.b.match({takeaway:n,default:n,synfony:n,super:n,shortenIt:n,toneAI:n,ethicalAI:n,suggestedSnippet:n,knowledgeHubSuggestedTerm:n}),c.a.foldCard)},e.MutedAlert=({cardData:e,actions:t})=>{function n(e){return a.createElement(ge,{card:e,actions:t})}return Object(i.pipe)(e,l.b.match({takeaway:n,default:n,synfony:n,super:n,shortenIt:n,toneAI:n,ethicalAI:n,suggestedSnippet:n,knowledgeHubSuggestedTerm:n}),c.a.foldCard)}}(_e||(_e={}))},Je0D:function(e,t,n){e.exports=n.p+"files/2fdff5731e4f939b623f3e6d82b7eacf/mutedAlerts.mp4"},Jhpk:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("B8yO"),r=n("7IMz"),i=n("xk6L");function o(e){const{ref:t,onMount:n}=r.a.useElWatcher(),o=a.useMemo(()=>t.pipe(i.a.observeOn(i.a.asapScheduler),i.b.compact,i.a.distinctUntilChanged(),e),[t]);return r.a.useSubscriptionTo(o),{ref:t,onMount:n}}},Jqms:function(e,t,n){"use strict";n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return T})),n.d(t,"d",(function(){return M}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("2zNz"),s=n("OwvP"),c=n("4GyQ"),l=n("koeM"),u=n("ySi0"),d=n("nWMp"),p=n("xk6L"),m=n("mgiE"),f=n("ZDrO");const h={position:"absolute",alignItems:"end",overflow:"visible",cursor:"pointer",width:d.a.rem(1),$nest:{"&:after":{content:'""',position:"absolute",left:"0",top:"0",right:d.a.rem(-.625),height:"100%",backgroundColor:"transparent",zIndex:1}}},g={backgroundColor:o.D.Color.Green60,width:d.a.px(4),borderRadius:d.a.px(2),position:"absolute",top:0,right:0,bottom:0},b=Object(r.a)(Object(a.a)({},g),{bottom:`calc(${d.a.rem(1.5)} + 1px)`}),v={position:"absolute",left:0,top:d.a.px(1),padding:d.a.rem(.5),boxShadow:o.D.Elevation.Elevation100.boxShadow,borderRadius:d.a.rem(.5),fontSize:d.a.rem(.75),background:"white",display:"flex",alignItems:"flex-start",justifyContent:"center",$nest:{div:{width:"fit-content",display:"flex"}},width:"max-content",minHeight:d.a.rem(2.625),minWidth:d.a.rem(8),maxWidth:d.a.rem(16)},y=Object(r.a)(Object(a.a)({},v),{borderTopLeftRadius:0}),O={right:0,position:"absolute",width:d.a.rem(1.5),height:d.a.rem(1.5),cursor:"pointer"},S=Object(r.a)(Object(a.a)({},O),{bottom:0,zIndex:999,overflow:"visible"}),C=Object(r.a)(Object(a.a)({},O),{top:0,border:`${d.a.px(.5)} solid ${o.D.SemanticColor.Color.Border.Base.Subdued}`,borderRadius:`${d.a.rem(1)} ${d.a.rem(1)} 0 ${d.a.rem(1)}`,boxShadow:o.D.Elevation.Elevation100.boxShadow,display:"flex",alignItems:"center",justifyContent:"center",background:"white"}),w=Object(r.a)(Object(a.a)({},C),{borderRadius:`${d.a.rem(1)} 1px ${d.a.rem(1)} ${d.a.rem(1)}`}),k={$nest:{svg:{width:d.a.rem(1.25)}}},E={marginRight:d.a.rem(.25),marginLeft:0},j={padding:0,backgroundColor:o.D.Color.White,height:d.a.rem(1.5),width:d.a.rem(1.5),borderRadius:d.a.rem(.75),display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:d.a.rem(.5),right:d.a.rem(-2),cursor:"pointer",border:`${d.a.px(.5)} solid ${o.D.SemanticColor.Color.Border.Base.Subdued}`,boxShadow:o.D.Elevation.Elevation100.boxShadow,color:"inherit",font:"inherit",outline:"inherit"},_=d.a.stylesheet({vbarWrapper:[h],vbarLine:[g],vbarLineWithSticker:[b],vbarStickerReplacementExpanded:[v],vbarStickerInsertionExpanded:[y],vbarStickerContainer:[S],vbarStickerInsertion:[C],vbarStickerReplacement:[w],vbarActionIcon:[k],vbarSuggestionText:[E],dismissBtn:[j]}),x=({model:e,InlineCard:t,suggestionFeedback:n})=>{const a=e.isVisibleFeedbackModal.view(m.g.isSome);return i.createElement(i.Fragment,null,i.createElement(s.a.Fragment,null,e.isVisibleFeedbackModal.view(t=>m.g.isSome(t)?n({visible:a,alert:t.value,submitFeedback:n=>e.submitFeedback(t.value.id,n),close:()=>e.onCloseFeedbackModal()}):null)),i.createElement(s.a.Fragment,null,e.items.pipe(p.a.map(n=>i.createElement(i.Fragment,null,n.map(n=>i.createElement(A,{key:n.alert.id,model:n,applyAlert:()=>e.applyAlert(n.alert.id),giveFeedback:()=>e.onGiveFeedbackClick(n.alert.id),dismissAlert:()=>e.dismissAlert(n.alert.id),onMount:()=>e.onVbarMount(n.alert.id),onInlineCardMount:()=>e.onInlineCardMount(n.alert.id),onStickerMount:()=>e.onStickerMount(n.alert.id),onClick:()=>e.onVbarClick(n.alert.id),onDismiss:()=>e.dismissAlert(n.alert.id),onClose:e.onVbarClose.bind(e),onMouseEnter:()=>e.onVbarMouseEnter(n.alert.id),onMouseLeave:()=>e.onVbarMouseLeave(n.alert.id),InlineCard:t,withSticker:n.withSticker})))))))},A=({model:e,applyAlert:t,dismissAlert:n,giveFeedback:o,onClick:u,onClose:d,onDismiss:m,onMount:f,onStickerMount:h,onInlineCardMount:g,onMouseEnter:b,onMouseLeave:v,InlineCard:y,withSticker:O})=>{i.useEffect(()=>{f()},[f]);const S=i.useContext(l.a.Context),C=M(e);return"opened"===e.state?i.createElement(y,{alert:e.alert,position:C.card,applyAlert:t,dismissAlert:n,giveFeedback:o,title:e.alert.title,onMount:g,close:d}):i.createElement(s.a.div,Object(r.a)(Object(a.a)({role:"button",onClick:u,onMouseEnter:b,onMouseLeave:v,key:e.alert.id},Object(c.c)(_.vbarWrapper)),{style:Object(a.a)({},C.vbar)}),i.createElement("div",{className:O?_.vbarLineWithSticker:_.vbarLine,style:{visibility:C.isVbarTooShort&&O?"hidden":"visible"}}),O&&S.pipe(p.a.map(e=>16===e?"medium":e>16?"large":"small"),p.a.map(t=>i.createElement(I,{mode:"replacement",size:t,text:e.alert.miniCardTitle,isExpanded:"hovered"===e.state,onMount:h,onDismiss:m}))))},I=({isExpanded:e,text:t,mode:n,size:r,onMount:s,onDismiss:l})=>(i.useEffect(()=>{e&&s()},[s,e]),i.createElement("div",{className:_.vbarStickerContainer},e?i.createElement("div",{className:"insertion"===n?_.vbarStickerInsertionExpanded:_.vbarStickerReplacementExpanded},i.createElement("div",{className:_.vbarActionIcon},"replacement"===n?i.createElement(u.g.Replacement,null):i.createElement(u.g.Insertion,null)),i.createElement("span",Object(a.a)({},Object(c.c)(_.vbarSuggestionText),f.d.setInnerHTML(t,{allowedTags:["i","b"]}))),i.createElement("div",null,i.createElement(o.e,{icon:o.v,size:r,accessibilityLabel:"Open suggestion"})),i.createElement(o.E,{placement:"top"},i.createElement(o.G,{asChild:!0},i.createElement("button",{className:_.dismissBtn,onClick:l},i.createElement(o.e,{icon:o.d,size:r,accessibilityLabel:"Dismiss"}))),i.createElement(o.F,{root:null},"Dismiss"))):i.createElement("div",{className:"insertion"===n?_.vbarStickerInsertion:_.vbarStickerReplacement},"replacement"===n?i.createElement(u.g.Replacement,null):i.createElement(u.g.Insertion,null)))),T=1;function M(e){const t=e.bottom-e.top<40;return{card:{left:`calc(${d.a.px(e.left)} - ${d.a.rem(T)})`,top:e.bottom+"px",zIndex:999999},vbar:{left:`calc(${d.a.px(e.left)} - ${d.a.rem(1)} - ${d.a.rem(.25)})`,top:e.top+"px",height:t&&e.withSticker?d.a.rem(1.75).toString():d.a.px(e.bottom-e.top),zIndex:Math.abs(999999-e.top)},isVbarTooShort:t}}},Jr5U:function(e,t,n){"use strict";n.d(t,"e",(function(){return ge})),n.d(t,"a",(function(){return be})),n.d(t,"g",(function(){return ve})),n.d(t,"f",(function(){return ye})),n.d(t,"c",(function(){return Oe})),n.d(t,"d",(function(){return Se})),n.d(t,"h",(function(){return Ce})),n.d(t,"b",(function(){return we}));var a=n("LzOy"),r=n("8O/t"),i=n("X76w"),o=n("0Uv3"),s=n("DTwm"),c=n("pbOK"),l=n("IH4a"),u=n("pFSi"),d=n("5FCM"),p=n("KMes"),m=n("xk6L"),f=n("Wy1Y"),h=n("a5gI"),g=n("HOlR"),b=n("WBKC"),v=n("B/Ki"),y=n("hcme"),O=n("eXH8"),S=n("gIH0"),C=n("RRF2");function w(e){return{encode:function(t){var n=Object.entries(e).filter((function(e){return Object(y.a)(e,1)[0]in t})).map((function(e){var n=Object(y.a)(e,2),a=n[0],r=n[1];return Object(s.pipe)(void 0===t[a]?d.eb(void 0):r.encode(t[a]),d.ab((function(e){return[a,e]})))}));return Object(s.pipe)(d.hb(n),d.ab((function(e){return C.e.fromEntries(e)})))}}}var k=w,E=k;function j(){return{encode:function(e){return d.eb(e)}}}var _=function(e){return null===e?"null":void 0===e?"undefined":Object(O.a)(e)},x=function(e,t){if(void 0!==e&&void 0!==t){var n=_(e),a=_(t);if("object"===n||"object"===a)return Object.assign({},e,t)}return t},A={URI:"io-ts/EncoderAsync",literal:function(){return j()},string:j(),number:j(),boolean:j(),nullable:function(e){return{encode:function(t){return null===t?d.eb(null):e.encode(t)}}},type:E,struct:k,partial:w,record:function(e){return{encode:function(t){var n=Object.entries(t).map((function(t){var n=Object(y.a)(t,2),a=n[0],r=n[1];return Object(s.pipe)(e.encode(r),d.ab((function(e){return[a,e]})))}));return Object(s.pipe)(d.hb(n),d.ab((function(e){return C.e.fromEntries(e)})))}}},array:function(e){return{encode:function(t){return d.hb(t.map((function(t){return e.encode(t)})))}}},tuple:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{encode:function(e){return d.hb(t.map((function(t,n){return t.encode(e[n])})))}}},intersect:function(e){return function(t){return{encode:function(n){return Object(s.pipe)(t.encode(n),d.u((function(t){return Object(s.pipe)(e.encode(n),d.ab((function(e){return x(t,e)})))})))}}}},sum:S.sum,lazy:function(e,t){return S.lazy(t)},readonly:S.readonly},I=n("8Z+1"),T=n("Vv+i"),M=n("uKMM"),P=n("4mQT"),N=n("t5lx"),D=n("0kuo"),B=function(e){Object(P.a)(n,e);var t=Object(N.a)(n);function n(e,a){var r;return Object(f.a)(this,n),r=t.call(this,"DLP Sanitizer: Schema mismatch error. ".concat(e)),Object(h.a)(Object(T.a)(r),"decodeError",void 0),r.decodeError=a,r}return Object(M.a)(n,[{key:"toString",value:function(){return"Decode error:\n      Message: ".concat(this.message,"\n      Details: ").concat(this.decodeError)}}]),n}(D.a),L=function e(t){var n=this;Object(f.a)(this,e),Object(h.a)(this,"_sanitizationFunctions",void 0),Object(h.a)(this,"sanitizeMessage",void 0),Object(h.a)(this,"unsanitizeMessage",void 0),Object(h.a)(this,"_replaceInDelta",void 0),Object(h.a)(this,"_sanitizeDelta",void 0),Object(h.a)(this,"_unsanitizeDelta",void 0),Object(h.a)(this,"_sensitiveDecoder",void 0),Object(h.a)(this,"_sanitizingEncoder",void 0),Object(h.a)(this,"_unsanitizingEncoder",void 0),Object(h.a)(this,"_getMessageHandler",void 0),this._sanitizationFunctions=t,this.sanitizeMessage=function(e,t){var a=n._getMessageHandler(t);return Object(s.pipe)(a.decode(e),g.fold((function(e){return d.X(new B("Sanitization failed",b.draw(e)))}),(function(e){return a.sanitizer.encode(e)})))},this.unsanitizeMessage=function(e,t){var a=n._getMessageHandler(t);return Object(s.pipe)(a.decode(e),g.fold((function(e){return d.X(new B("Unsanitization failed",b.draw(e)))}),(function(e){return a.unsanitizer.encode(e)})))},this._replaceInDelta=function(e,t){return Object(s.pipe)(d.hb(e.ops.map((function(e){return v.a.isInsertString(e)?Object(s.pipe)(t(e.insert),d.ab((function(t){return Object(i.a)(Object(r.a)({},e),{insert:t})}))):d.eb(e)}))),d.ab((function(e){return{ops:e}})))},this._sanitizeDelta=function(e){return n._replaceInDelta(e,n._sanitizationFunctions.sanitizeText)},this._unsanitizeDelta=function(e){return n._replaceInDelta(e,n._sanitizationFunctions.unsanitizeText)},this._sensitiveDecoder=I.a.extend(R)({any:b.id(),sensitiveString:b.string,sensitiveDelta:b.id()}),this._sanitizingEncoder=I.a.extend(A)({any:j(),sensitiveString:{encode:this._sanitizationFunctions.sanitizeText},sensitiveDelta:{encode:this._sanitizeDelta}}),this._unsanitizingEncoder=I.a.extend(A)({any:j(),sensitiveString:{encode:this._sanitizationFunctions.unsanitizeText},sensitiveDelta:{encode:this._unsanitizeDelta}}),this._getMessageHandler=function(e){return Object(i.a)(Object(r.a)({},I.a.interpreter(n._sensitiveDecoder)(e)),{sanitizer:I.a.interpreter(n._sanitizingEncoder)(e),unsanitizer:I.a.interpreter(n._unsanitizingEncoder)(e)})}},F=function e(){Object(f.a)(this,e),Object(h.a)(this,"sanitizeMessage",(function(e,t){return d.eb(e)})),Object(h.a)(this,"unsanitizeMessage",(function(e,t){return d.eb(e)}))},R=Object(i.a)(Object(r.a)({},b.Schemable),{struct:b.Schemable.partial,type:b.Schemable.partial}),H=n("dDfY"),V=n("6dqF"),U=n("OpUX");class W{constructor(e){this._params=e,this.relevantInboundCAPIMessages=this._getRelevantInboundCAPIMessagesObs();const t=e.dlpOptions;this._dlpSanitizer=t?new L({sanitizeText:e=>d.sb(()=>t.sanitizeText(e),U.b),unsanitizeText:e=>d.sb(()=>t.unsanitizeText(e),U.b)}):new F}cheetahGetContext(e){return Object(s.pipe)(this._sanitizeOutboundCheetahMessage("cheetah:getContext",e,p.a.MessageGetContext),d.u(e=>this._params.sendCAPIMessage({action:"cheetah:getContext",shouldInjectRev:!0,data:e,shouldInjectSessionId:!1})))}cheetahAction(e){return Object(s.pipe)(this._sanitizeOutboundCheetahMessage("cheetah:action",e,p.a.MessageAction),d.u(e=>this._params.sendCAPIMessage({action:"cheetah:action",shouldInjectRev:!0,data:e,shouldInjectSessionId:!1})))}cheetahGetHistory(){return this._params.sendCAPIMessage({action:"cheetah:getHistory",shouldInjectRev:!1,data:{},shouldInjectSessionId:!1})}cheetahGetUserState(){return this._params.sendCAPIMessage({action:"cheetah:getUserState",data:{},shouldInjectRev:!1,shouldInjectSessionId:!1})}cheetahInterrupt(e){return this._params.sendCAPIMessage({action:"cheetah:interrupt",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}cheetahSearchReferences(e){return this._params.sendCAPIMessage({action:"cheetah:searchReferences",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}cheetahSetVoice(e){return this._params.sendCAPIMessage({action:"cheetah:setVoice",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}cheetahSetVoiceProfile(e){return this._params.sendCAPIMessage({action:"cheetah:setVoiceProfile",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}user_action(e){return this._params.sendCAPIMessage({action:"user_action",data:e,shouldInjectRev:!1,shouldInjectSessionId:!0})}set_context(e){return this._params.sendCAPIMessage({action:"set_context",data:e,shouldInjectRev:!0,shouldInjectSessionId:!1})}submit_survey_result(e){return this._params.sendCAPIMessage({action:"submit_survey_result",data:e,shouldInjectRev:!0,shouldInjectSessionId:!1})}feedback(e){return this._params.sendCAPIMessage({action:"feedback",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}toggle_checks(e){return this._params.sendCAPIMessage({action:"toggle_checks",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}_getRelevantInboundCAPIMessagesObs(){return this._params.inboundCAPIMessages.pipe(m.a.filter(l.a.is),m.a.concatMap(e=>m.a.from(Object(s.pipe)(e,e=>{switch(e.action){case"cheetah:setContext":return this._dlpSanitizer.unsanitizeMessage(e,p.a.MessageSetContext);case"cheetah:chunk":return this._dlpSanitizer.unsanitizeMessage(e,p.a.MessageChunk);case"cheetah:result":return this._dlpSanitizer.unsanitizeMessage(e,p.a.MessageResult);default:return d.eb(e)}},d.F(t=>(this._params.monitoringService.notify(Object(H.a)(Object(V.v)({capiMessageAction:e.action,rawError:Object(U.b)(t)}))),u.of(e)),u.of),e=>e()))))}_sanitizeOutboundCheetahMessage(e,t,n){return Object(s.pipe)(this._dlpSanitizer.sanitizeMessage(t,n),d.bb(t=>(this._params.monitoringService.notify(Object(H.a)(Object(V.r)({capiMessageAction:e,rawError:Object(U.b)(t)}))),t)))}}var z=n("lKCo"),G=n("0Qjk"),q=n("La5+"),K=n("+vYo"),$=n("z+vV"),Z=n("lkU9");function Y(e){return{source:"userSurvey",kind:"error",name:"submitSurveyFailed",data:e}}var X=n("0hD5");class Q{constructor(e){this._params=e,this._subs=new q.a.Keeper,this._activeSurvey=K.a.create(z.none),this.activeSurvey=this._activeSurvey.view(),this._init()}dispose(){this._subs.dispose()}submitSurveyResult(e){Object(Z.b)("submitSurveyResult",this._params.capiService.submit_survey_result({placement:e.placement,score:e.rating,stage:X.a.Stage.toCAPIStage(e.stage),open_answer:z.getOrElse(()=>"")(e.openAnswer),detailed_placement:e.detailedPlacement,type:e.type}),void 0,void 0,()=>this._params.monitoringService.notify(Object(H.a)(Y({surveyType:e.type,surveyPlacement:e.placement,surveyDetailedPlacement:e.detailedPlacement}))))}dismissSurvey(e){Object(Z.b)("submitSurveyResult",this._params.capiService.submit_survey_result({placement:e.placement,score:"declined",stage:X.a.Stage.toCAPIStage(e.stage),detailed_placement:e.detailedPlacement,type:e.type}),void 0,void 0,()=>this._params.monitoringService.notify(Object(H.a)(Y({surveyType:e.type,surveyPlacement:e.placement,surveyDetailedPlacement:e.detailedPlacement}))))}_init(){this._subs.push(this._params.capiService.relevantInboundCAPIMessages.pipe(m.a.filter(l.a.ShowSurvey.is)).subscribe(e=>this._handleShowSurvey(e)))}_handleShowSurvey(e){Object(s.pipe)(e.survey,z.fromPredicate(e=>e.placement===G.a.Message.Survey.Data.BaseSurvey.Placement.ggo),z.chain(e=>"open_answer_score"===e.type?z.some(e):z.none),z.chain(e=>{var t;return"string"==typeof e.detailed_placement&&2===(null===(t=e.detailed_placement)||void 0===t?void 0:t.split(":").length)?z.some({survey:e,detailedPlacement:e.detailed_placement}):z.none}),z.chain(({survey:e,detailedPlacement:t})=>{const[n,a]=t.split(":"),r=Math.abs(Number.parseInt(a,10));return Number.isNaN(r)?z.none:z.some({survey:e,detailedPlacement:t,sessionId:n,resultId:$.a.Id.create(r)})}),z.fold(()=>this._params.monitoringService.notify(Object(H.a)({source:"userSurvey",kind:"warn",name:"unexpectedSurveyFormatReceived",data:{surveyType:e.survey.type,surveyPlacement:e.survey.placement,surveyDetailedPlacement:e.survey.detailed_placement}})),({survey:e,detailedPlacement:t,resultId:n})=>{this._activeSurvey.modify(()=>z.some({placement:e.placement,title:e.title,detailedPlacement:t,type:G.a.Message.Survey.Data.OpenAnswerScoreSurvey.type,resultId:n,maxScore:e.max_score,boxText:z.fromNullable(e.box_text),ratingLabels:e.score_labels,acknowledgmentTitle:z.fromNullable(e.acknowledgment_title),acknowledgment:z.fromNullable(e.acknowledgment),skipOpenAnswerFrom:e.skip_open_answer_from,openAnswer:z.fromNullable({placeholder:e.open_answer.placeholder,maxLen:e.open_answer.max_len,minLen:z.fromNullable(e.open_answer.min_len)})}))}))}}var J,ee=n("IOJj"),te=n("GMJx"),ne=n("mgiE"),ae=n("TKPA"),re=n("skc2"),ie=n("M3t0"),oe=n("2HlN"),se=n("s1NC"),ce=n("xAs4");(J||(J={})).create=function(e){var t=new m.a.Subject,n=e.getLogger("OggyLifecycleEvents");return{push:t.next.bind(t),events:t.pipe(m.a.tap((function(e){return n.info(e.kind,e)})))}};var le,ue,de=n("XLv6"),pe=n("nvxh"),me=n("fjQv"),fe=n("aZd8"),he=ie.d.Logging.getLogger("Cheetah.TextInsertion"),ge=function(e,t,n,a,r,i){return{getText:function(t){return Object(s.pipe)(ne.b.tryCatchError((function(){return e.getText().substring(t.start,t.end)})),ne.l.fromEither)},flush:function(){return ne.l.tryCatch((function(){return Promise.resolve(e.flushChanges())}),ne.b.toError)},insertText:function(e){return he.info("Inserting text"),Object(s.pipe)((new te.a).insert(e),(function(e){return t.replaceCurrentSelectionWith(e)}),ne.l.bimap((function(e){return he.error("Text insertion error",e),e}),(function(){a(),he.info("Text inserted")})))},copyText:function(e){return i(e,"somethingCopied").then(ae.e)},setContextHighlight:function(e,t){n.setContextHighlight(e,t)},selectedRange:r,textUpdated:e.contentUpdated.pipe(m.a.mapTo(void 0)),trimmedTextLength:e.contentUpdated.pipe(m.a.map((function(){return e.getTextLength()})),m.a.startWith(e.getTextLength()))}},be=(c.z({action:c.w}),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(e){return n&&"user_action"===e.action},o=new m.a.Subject;e.registerExternalMessageHandler((function(e){return o.next(e),Object(ae.p)(l.b,a)(e)?G.a.ExternalHandler.Result.STOP_HANDLING:G.a.ExternalHandler.Result.CONTINUE_HANDLING}));var s=function(){return Object.values(t.get())},c=new W({inboundCAPIMessages:m.a.concatStatic(m.a.defer((function(){return m.a.from(s())})).pipe(m.a.filter(l.c)),o),sendCAPIMessage:function(t){var n=t.action,a=t.data,o=t.shouldInjectRev,s=t.shouldInjectSessionId;return e.enqueueExternalCommand((function(e){var t=e.id,c=e.sessionId,l=e.currentRevision;return Object(i.a)(Object(r.a)({action:n,id:t},a),{rev:!0===o?l:void 0,sessionId:!0===s?c:void 0})}))},monitoringService:me.a.getInstance()});return{capiService:c,capiMessages:o}}),ve=function(e,t){return{user:K.a.combine(e.profile,t.dialectOrDefault,(function(t,n){return{id:t.id,isPremium:ce.e.isPremium(e.features.denaliUserType),dialect:n,institution:t.institutionInfo,email:t.email}})),setDialect:function(e){return Object(s.pipe)(ne.l.tryCatch((function(){return t.setDialect(e)}),ne.b.toError),ne.l.map(ae.e))}}},ye=function(e,t,n,a,o){var c=pe.a.create(e.gnarSpec),l={pageId:e.pageId,upgradeHookVariant:a.isEligibleForFreeTrial?"premiumTrial":"premium"},u={trackUphookShown:function(t){return Object(s.pipe)(ne.l.fromTask((function(){switch(t){case"grammarlyGoPrompts":return c.countShow(Object(i.a)(Object(r.a)({},l),{upgradeHookName:"grammarlyGoPrompts",upgradeHookSlot:"grammarlyGo"})),c.trackShow(Object(i.a)(Object(r.a)({},l),{sessionUuid:e.sessionUuid,placement:"grammarlyGoPrompts",upgradeHookName:"grammarlyGoPrompts",upgradeHookSlot:"grammarlyGo"}));case"plagiarism":return c.countShow(Object(i.a)(Object(r.a)({},l),{upgradeHookName:"plagiarism",upgradeHookSlot:"plagiarismView"})),c.trackShow(Object(i.a)(Object(r.a)({},l),{sessionUuid:e.sessionUuid,placement:"plagiarismView",upgradeHookName:"plagiarism",upgradeHookSlot:"plagiarismView"}));default:Object(D.c)(t)}})),ne.l.toPromise)},trackUphookClicked:function(t){return Object(s.pipe)(ne.l.fromTask((function(){switch(t){case"grammarlyGoPrompts":return c.countClick(Object(i.a)(Object(r.a)({},l),{upgradeHookName:"grammarlyGoPrompts",upgradeHookSlot:"grammarlyGo"})),c.trackClick({pageId:e.pageId,sessionUuid:e.sessionUuid,placement:"grammarlyGoPrompts",upgradeHookName:"grammarlyGoPrompts",upgradeHookSlot:"grammarlyGo"});case"plagiarism":return c.countClick(Object(i.a)(Object(r.a)({},l),{upgradeHookName:"plagiarism",upgradeHookSlot:"plagiarismView"})),c.trackClick({pageId:e.pageId,sessionUuid:e.sessionUuid,placement:"plagiarismView",upgradeHookName:"plagiarism",upgradeHookSlot:"plagiarismView",upgradeHookVariant:"premium"});default:Object(D.c)(t)}})),ne.l.toPromise)},executeUphook:function(e){return Object(s.pipe)(ne.l.fromIO((function(){switch(e){case"grammarlyGoPrompts":return a.fromGrammarlyGO();case"advancedIssues":return a.openUpgradeUrl(se.i.Place.DenaliDocument.editorDenaliAdvanced);case"plagiarism":return a.openUpgradeUrl(se.i.Place.DenaliDocument.oggyPlagiarismUphook);default:Object(D.c)(e)}})),ne.l.toPromise)}};return null!=o?Object(i.a)(Object(r.a)({},u),{notifyPremiumSuggestionsUphookAvailabilityChanged:function(e){return o.push({kind:fe.b.Kind.AvailabilityChanged,available:e})},notifyPremiumSuggestionsUphookFocusChanged:function(e){return o.push({kind:fe.b.Kind.FocusChanged,focused:e})},requestFocusPremiumSuggestionsUphook:o.outgoing}):u},Oe=function(e){return{domain:K.a.create(null),submitFeedback:function(t){return ne.l.fromTask((function(){return e.gnarSpec.feedbackFormSubmit("",null!==(le=t.message)&&void 0!==le?le:"",e.pageId,t.mood)}))}}},Se=(ue=Object(a.a)((function(e,t,n,r,i,s){var c,l,u,d,p;return Object(o.c)(this,(function(m){switch(m.label){case 0:return c=Object(oe.b)().env,[4,e.getContainerId().catch((function(){return""}))];case 1:return l=m.sent(),u=J.create(i),d=u.events,p=u.push,[2,{events:d,hostInfo:{clientType:t.names.tracking,clientVersion:t.buildVersion.toString(),containerId:l,environment:"fb"===c||"dev"===c?"dev":c},sizeBehavior:null!=s?s:de.a.fitContent(document.documentElement),dragBehavior:K.a.create({kind:"notDraggable"}),openUrl:function(){var e=Object(a.a)((function(e){return Object(o.c)(this,(function(t){return[2,ne.b.unsafeGet(n.actions.openUrl(new re.a(e)))]}))}));return function(t){return e.apply(this,arguments)}}(),visuallyReady:function(e){return p({kind:fe.a.Kind.visuallyReady,visuallyReadyInfo:e}),Promise.resolve([fe.c])},readyToDrag:function(e){return p({kind:fe.a.Kind.readyToDrag,readyToDragInfo:e}),Promise.resolve(void 0)},focusStateChanged:function(e){return p({kind:fe.a.Kind.focusStateChanged,focusState:e}),Promise.resolve()},starting:function(){return p({kind:fe.a.Kind.starting}),Promise.resolve([fe.c])},close:function(){return r.closeCheetahLens(),p({kind:fe.a.Kind.close}),Promise.resolve()}}]}}))})),function(e,t,n,a,r,i){return ue.apply(this,arguments)}),Ce=function(e){return new Q({capiService:e,monitoringService:me.a.getInstance()})},we=function(e){return{gates:ee.b,experiments:ee.a,getTreatment:Object(s.flow)(e.getTreatment,ne.l.right),peekTreatment:Object(s.flow)(e.peekTreatment,ne.l.right),logTreatment:function(t,n){return ne.l.tryCatch((function(){return e.logTreatment(t,n)}),(function(e){return String(e)}))},isGateEnabled:Object(s.flow)(e.isGateEnabled,ne.l.right)}}},JsWC:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("hcme"),o=n("000W"),s=n("FA0h"),c=n("V+fo"),l=n("tiWp"),u=n("9tCC"),d=n("0kuo"),p=n("mgiE");!function(e){var t,n=function(e,n){var a=n.position,i=n.point,o={width:Math.trunc(e.width),height:Math.trunc(e.height)};return u.Rect.validate(t.match((function(){return Object(r.a)({top:i.y,right:i.x,bottom:i.y+o.height,left:i.x-o.width},o)}),(function(){return Object(r.a)({top:i.y-o.height,right:i.x,bottom:i.y,left:i.x-o.width},o)}),(function(){return Object(r.a)({top:i.y-o.height,right:i.x+o.width,bottom:i.y,left:i.x},o)}),(function(){return Object(r.a)({top:i.y,right:i.x+o.width,bottom:i.y+o.height,left:i.x},o)}))(a))},m=function(e){return g(u.Rect.Point.normalize({x:e.left,y:e.top}))};!function(e){e.topLeft="topLeft",e.topRight="topRight",e.bottomRight="bottomRight",e.bottomLeft="bottomLeft"}(t=e.Position||(e.Position={})),(t=e.Position||(e.Position={})).match=function(e,n,a,r){return function(i){switch(i){case t.topRight:return e();case t.bottomRight:return n();case t.bottomLeft:return a();case t.topLeft:return r();default:return Object(d.c)(i)}}};var f,h,g=e.topLeft=function(e){return{position:t.topLeft,point:u.Rect.Point.normalize(e)}},b=e.topRight=function(e){return{position:t.topRight,point:u.Rect.Point.normalize(e)}},v=e.bottomRight=function(e){return{position:t.bottomRight,point:u.Rect.Point.normalize(e)}},y=e.bottomLeft=function(e){return{position:t.bottomLeft,point:u.Rect.Point.normalize(e)}};e.relativeTo=function(e,t){return{position:e.position,point:u.Rect.Point.relativeTo(e.point,t)}},e.empty=g(u.Rect.Point.empty);e.toRect=n,e.fromRect=m,e.inRect=function(e,t){var n=t.point;return u.Rect.hasPoint(e,n)},e.toCss=function(e){var n=e.position,a=e.point;return t.match((function(){return{top:a.y,right:a.x}}),(function(){return{right:a.x,bottom:a.y}}),(function(){return{bottom:a.y,left:a.x}}),(function(){return{top:a.y,left:a.x}}))(n)},function(e){e.create=function(e,t){return Object(d.f)(e.point.x===t.point.x||e.point.y===t.point.y,"can not form Zone without a common dimension",(function(){return JSON.stringify({a:e,b:t})})),[e,t]};e.bySide=function(e,t){return u.Rect.Side.match((function(){return f.create(y({x:Math.ceil(t.left),y:Math.ceil(t.top)}),v({x:Math.floor(t.right),y:Math.ceil(t.top)}))}),(function(){return f.create(g({x:Math.floor(t.right),y:Math.ceil(t.top)}),y({x:Math.floor(t.right),y:Math.floor(t.bottom)}))}),(function(){return f.create(g({x:Math.ceil(t.left),y:Math.floor(t.bottom)}),b({x:Math.floor(t.right),y:Math.floor(t.bottom)}))}),(function(){return f.create(b({x:Math.ceil(t.left),y:Math.ceil(t.top)}),v({x:Math.ceil(t.left),y:Math.floor(t.bottom)}))}))(e)}}(f=e.Zone||(e.Zone={})),function(e){e.byAxis=function(e,t){return s.g(Object(c.getFirstSemigroup)(),o.y)(u.Rect.Axis.toSides(e).map((function(e){return[e,f.bySide(e,t)]})))}}(e.Variants||(e.Variants={})),function(e){e.empty={quality:0,point:a.empty};function t(e,t){return Object(l.pipe)(u.Rect.intersection(e,t),p.g.map((function(e){var n=e.width/t.width,a=e.height/t.height,r=(Number.isNaN(n)?0:n/2)+(Number.isNaN(a)?0:a/2);return Object(d.f)(r>=0,"quality can not be negavite: ".concat(r)),Object(d.f)(r<=1,"quality can be higher than 1: ".concat(r)),r})))}e.qualityOfIntersection=t,e.byViewport=function(e,n){return{quality:Object(l.pipe)(t(e,n),p.g.getOrElse((function(){return 0})))+Object(l.pipe)(u.Rect.scale(2,n),p.b.chain(u.Rect.normalize),p.g.fromEither,p.g.chain((function(n){return t(e,n)})),p.g.getOrElse((function(){return 0}))),point:m(n)}},e.fromZone=function(e,t,a){return Object(l.pipe)(o.y.traverse(p.b.either)(a,(function(e){return n(t,e)})),p.b.chain((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return u.Rect.join(n,a)})),p.b.chain((function(e){return u.Box.placeIntoRect(t,e)})),p.b.map((function(t){return t.map((function(t){return h.byViewport(e,t)}))})))}}(h=e.Qualified||(e.Qualified={})),function(e){e.build=function(e,t,n){return Object(l.pipe)(n,s.j((function(n){return h.fromZone(e,t,n)})))}}(e.QualifiedVariants||(e.QualifiedVariants={})),function(e){var t;!function(e){e[e.left=0]="left",e[e.middle=1]="middle",e[e.right=2]="right",e[e.edges=20]="edges",e[e.any=210]="any"}(t=e.Placement||(e.Placement={}));e.takeBy=function(e,t){return function(n){return Object(l.pipe)(n,s.n({point:h.empty,side:e},(function(n,a,r){return Object(l.pipe)(r,p.b.map((function(r){return r.filter((function(a,r){return t.toString().includes(r.toString())&&e===n})).reduce((function(e,t){return t.quality>e.point.quality?{point:t,side:n}:e}),a)})),p.b.unsafeGet)}))).point}};var n=e.preferBy=function(e,t){return function(n){return Object(l.pipe)(n,s.n({point:h.empty,side:e},(function(n,a,r){return Object(l.pipe)(r,p.b.map((function(r){return r.reduce((function(a,r,i){return r.quality>a.point.quality||r.quality===a.point.quality&&t.toString().includes(i.toString())&&e===n?{point:r,side:n}:a}),a)})),p.b.unsafeGet)}))).point}};e.preferTopMiddle=n("top",t.middle),e.preferTopEdges=n("top",t.edges)}(e.Selector||(e.Selector={}))}(a||(a={}))},K5qu:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h}));var a=n("B8yO"),r=n.n(a);const i={prefix:String(Math.round(1e10*Math.random())),current:0},o=r.a.createContext(i),s=r.a.createContext(!1);let c=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),l=new WeakMap;function u(e=!1){let t=(0,a.useContext)(o),n=(0,a.useRef)(null);if(null===n.current&&!e){var i,s;let e=null===(i=r.a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===i||null===(s=i.ReactCurrentOwner)||void 0===s?void 0:s.current;if(e){let n=l.get(e);null==n?l.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==n.state&&(t.current=n.id,l.delete(e))}n.current=++t.current}return n.current}const d="function"==typeof r.a.useId?function(e){let t=r.a.useId(),[n]=(0,a.useState)(h());return e||`${n?"react-aria":"react-aria"+i.prefix}-${t}`}:function(e){let t=(0,a.useContext)(o);t!==i||c||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=u(!!e),r="react-aria"+t.prefix;return e||`${r}-${n}`};function p(){return!1}function m(){return!0}function f(e){return()=>{}}function h(){return"function"==typeof r.a.useSyncExternalStore?r.a.useSyncExternalStore(f,p,m):(0,a.useContext)(s)}},KIX2:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return j}));var a,r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("8O/t"),c=n("X76w"),l=n("hcme"),u=n("DTwm"),d=n("tiWp"),p=n("0Qjk"),m=n("Hj2R"),f=n("D2TP"),h=n("mEGS"),g=n("PYgo"),b=n("xk6L"),v=n("La5+"),y=n("yIk2"),O=n("d3CI"),S=n("Gwvb"),C=n("mgiE"),w=n("TKPA"),k=n("0kuo"),E=n("M3t0");!function(e){!function(e){e.getInlineHighlightFilter=function(e){return function(t){return!e.get()||Object(d.pipe)(t,C.g.map((function(e){return m.a.State.isBulkApplied(e.state)})),C.g.getOrElse(u.constTrue))}}}(e.ViewModel||(e.ViewModel={})),function(e){e.highlightMarkByInlineAlert=function(e,t,n,a){return{id:a,when:Object(w.p)(f.a.isClosedId,f.a.isMainLens),what:O.e.Effect.Applicator.create(S.a.getHighlightSubscription(e,t,n).pipe(b.a.switchMapTo(b.a.NEVER)))}}}(e.Effects||(e.Effects={}))}(a||(a={}));var j=function(){function e(t,n,a,i,p,f,O,S,w,j,_){var x=this;Object(r.a)(this,e),Object(o.a)(this,"_inlineManager",void 0),Object(o.a)(this,"_alertMarkRectGetter",void 0),Object(o.a)(this,"_closeEvent",void 0),Object(o.a)(this,"_checkingDomain",void 0),Object(o.a)(this,"_alertsReader",void 0),Object(o.a)(this,"_alertsService",void 0),Object(o.a)(this,"_telemetry",void 0),Object(o.a)(this,"_openInlineAlert",void 0),Object(o.a)(this,"_hovered",void 0),Object(o.a)(this,"hydrate",void 0),Object(o.a)(this,"_inlineHighlightFilter",void 0),Object(o.a)(this,"_subs",void 0),Object(o.a)(this,"events",void 0),Object(o.a)(this,"_emitCloseWhen",void 0),Object(o.a)(this,"_toMarkAndAlert",void 0),Object(o.a)(this,"state",void 0),Object(o.a)(this,"_log",void 0),Object(o.a)(this,"_sendFeedback",void 0),this._inlineManager=t,this._alertMarkRectGetter=n,this._closeEvent=a,this._checkingDomain=i,this._alertsReader=p,this._alertsService=f,this._telemetry=O,this._openInlineAlert=S,this._hovered=w,this.hydrate=j,this._inlineHighlightFilter=_,this._subs=new v.a.Keeper,this.events=new b.a.BehaviorSubject({type:g.b.Type.closed}),this._emitCloseWhen=b.b.listenWhenSome((function(e){return x._checkingDomain.state.pipe(b.a.map(h.a.get(e.id)),b.a.filter(C.g.isNone),b.a.merge(x._closeEvent),b.a.tap(x._inlineManager.closeCards))})),this._toMarkAndAlert=Object(u.flow)(C.g.filter((function(e){return C.g.isSome(x._alertsReader.getInteractable(e.id))})),C.g.map((function(e){Object(k.f)(!m.a.isInPremiumLens(e),"Can't hover plagiarism alert");var t={alert:e,highlightIndex:0};return Object(c.a)(Object(s.a)({},t),{getMarkRect:x._alertMarkRectGetter(t)})}))),this.state=b.a.combineLatestStatic(this._inlineManager.hoveredMarkAlert.pipe(b.a.filter(this._inlineHighlightFilter),b.a.switchMap(this._emitCloseWhen)),this.events.pipe(b.a.tap((function(e){"unhovered"===e.type&&x._telemetry.gnarSpec.alertUnderlineHover(x._telemetry.pageId,"assistantOff",x._telemetry.pageSessionId)})))).pipe(b.a.debounce((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return b.a.timer(C.g.isNone(n)&&"closed"!==a.type?300:0)})),b.a.switchMap((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(d.pipe)(n,C.g.fold((function(){return"hovered"===a.type?b.a.EMPTY:(x._hovered.next(C.g.empty()),b.a.of(C.g.none))}),(function(e){switch(x._hovered.next(C.g.some(e)),a.type){case g.b.Type.closed:return y.b.delay(C.g.some(e),300);case g.b.Type.opened:case g.b.Type.unhovered:case g.b.Type.hovered:case g.b.Type.addedToDictionary:case g.b.Type.ignored:case g.b.Type.applied:case g.b.Type.confirmed:case g.b.Type.undone:case g.b.Type.mounted:case g.b.Type.looked:return b.a.of(C.g.some(e));default:return Object(k.c)(a)}})))})),b.a.distinctUntilChanged(C.g.getEq(m.d.ordId).equals),b.a.map(this._toMarkAndAlert),b.a.share()),this._log=E.d.Logging.getLogger("InlineCardViewModelImpl",E.a.LogLevel.DEBUG),this._sendFeedback=function(e,t){return Object(d.pipe)(x._alertsService.applyFeedback(e,t,m.b.text),C.b.fold((function(e){return x._log.error("error sending alert feedback",e)}),u.constVoid))},this._subs.push(this._listenAlertOpenings(),this._listenAlertIgnores(),this._listenAlertAddedToDictionary(),this._listenAlertApplies(),this._listenCardLooks())}return Object(i.a)(e,[{key:"_openAlert",value:function(e){this._openInlineAlert.next(e)}},{key:"_listenAlertIgnores",value:function(){var e=this;return this.events.pipe(b.a.filter(g.b.isAlertIgnoreAction)).subscribe((function(t){return e._sendFeedback(t.alertId,{kind:p.a.AlertFeedbackType.IGNORE,subtype:p.a.FeedbackSubtype.Inline})}))}},{key:"_listenAlertAddedToDictionary",value:function(){var e=this;return this.events.pipe(b.a.filter(g.b.isAlertAddToDictionaryAction)).subscribe((function(t){return e._sendFeedback(t.alertId,{kind:p.a.AlertFeedbackType.ADD_TO_DICTIONARY,subtype:p.a.FeedbackSubtype.Inline})}))}},{key:"_listenAlertOpenings",value:function(){var e=this;return this.events.pipe(b.a.filter(g.b.isAlertOpenAction)).subscribe((function(t){e._openAlert(t.alert)}))}},{key:"_listenAlertApplies",value:function(){var e=this;return this.events.pipe(b.a.filter(g.b.isAlertApplyAction)).subscribe((function(t){Object(d.pipe)(e._alertsService.apply(t.alertId,{alternativeIndex:t.alternativeIndex,source:m.b.text,feedbackSubtype:p.a.FeedbackSubtype.Inline}),C.b.fold((function(t){return e._log.error("error applying alert",t)}),(function(){var n=Object(d.pipe)(e._alertsReader.getById(t.alertId),C.g.chain((function(e){return e.extraProperties.freePremium})),C.g.exists((function(e){return"unlocked"===e})));e._telemetry.gnarSpec.suggestedReplacementButtonClick(n,e._telemetry.pageId,"defaultCard","assistantOff",e._telemetry.pageSessionId)})))}))}},{key:"_listenCardLooks",value:function(){var e=this;return this.events.pipe(b.a.filter(g.b.isLookedAction),b.a.pluck("alertId"),b.a.filter(this._alertsReader.isValidForFeedback)).subscribe((function(t){return e._sendFeedback(t,{kind:p.a.AlertFeedbackType.LOOKED,subtype:p.a.FeedbackSubtype.Inline})}))}},{key:"dispose",value:function(){this._subs.dispose()}}]),e}();!function(e){var t=e.DATA_NAME="inline-card";e.isInlineCard=function(e){return!!e&&e.getAttribute("data-name")===t}}(a||(a={}))},KMes:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return d}));var a={};n.r(a),n.d(a,"ActionDefGeneratesTextType",(function(){return i})),n.d(a,"AvailableVoiceProfileSectionTagState",(function(){return o})),n.d(a,"ErrorKind",(function(){return s})),n.d(a,"GenerationMode",(function(){return c})),n.d(a,"NotificationKind",(function(){return l})),n.d(a,"VoiceProfileSettingsStatus",(function(){return u}));var r={};n.r(r),n.d(r,"ClientMessage",(function(){return b})),n.d(r,"ProtocolMessage",(function(){return v})),n.d(r,"ServerMessage",(function(){return y})),n.d(r,"StartMessage",(function(){return O})),n.d(r,"StartedMessage",(function(){return S})),n.d(r,"TextLike",(function(){return C})),n.d(r,"Root",(function(){return w})),n.d(r,"ActionArg",(function(){return k})),n.d(r,"ActionArgDef",(function(){return E})),n.d(r,"ActionArgDefStringHint",(function(){return j})),n.d(r,"ActionArgDefString",(function(){return _})),n.d(r,"ActionArgDefRadioButtonGroupHint",(function(){return x})),n.d(r,"ActionArgDefRadioButtonGroup",(function(){return A})),n.d(r,"ActionDefGeneratesTextType",(function(){return I})),n.d(r,"ActionDefDisabled",(function(){return T})),n.d(r,"ActionDef",(function(){return M})),n.d(r,"ActionInfo",(function(){return P})),n.d(r,"AvailableVoiceProfileSectionTagState",(function(){return N})),n.d(r,"AvailableVoiceProfileSectionTag",(function(){return D})),n.d(r,"AvailableVoiceProfileSection",(function(){return B})),n.d(r,"AvailableVoiceProfile",(function(){return L})),n.d(r,"AvailableVoiceProfiles",(function(){return F})),n.d(r,"Context",(function(){return R})),n.d(r,"DocumentOverview",(function(){return H})),n.d(r,"ErrorKind",(function(){return V})),n.d(r,"Error",(function(){return U})),n.d(r,"GeneratedText",(function(){return W})),n.d(r,"GenerationMode",(function(){return z})),n.d(r,"Message",(function(){return G})),n.d(r,"MessageGetContext",(function(){return q})),n.d(r,"MessageInvalidateContext",(function(){return K})),n.d(r,"MessageAction",(function(){return $})),n.d(r,"MessageSetVoice",(function(){return Z})),n.d(r,"MessageSetVoiceProfile",(function(){return Y})),n.d(r,"MessageInterrupt",(function(){return X})),n.d(r,"MessageGetUserState",(function(){return Q})),n.d(r,"MessageSearchReferences",(function(){return J})),n.d(r,"MessageGetHistory",(function(){return ee})),n.d(r,"MessageError",(function(){return te})),n.d(r,"MessageSetContext",(function(){return ne})),n.d(r,"MessageSearchReferencesResult",(function(){return ae})),n.d(r,"MessageChunk",(function(){return re})),n.d(r,"MessageResultChangesSummary",(function(){return ie})),n.d(r,"MessageResult",(function(){return oe})),n.d(r,"MessageSetUserState",(function(){return se})),n.d(r,"MessageSetHistoryCardTitle",(function(){return ce})),n.d(r,"MessageSetHistoryCardTitleUserPrompt",(function(){return le})),n.d(r,"MessageSetHistoryCardTitleAction",(function(){return ue})),n.d(r,"MessageSetHistoryCard",(function(){return de})),n.d(r,"MessageSetHistory",(function(){return pe})),n.d(r,"Metadata",(function(){return me})),n.d(r,"NotificationKind",(function(){return fe})),n.d(r,"Notification",(function(){return he})),n.d(r,"OuterContextItem",(function(){return ge})),n.d(r,"OuterContext",(function(){return be})),n.d(r,"PreviousText",(function(){return ve})),n.d(r,"PreviousTextRegular",(function(){return ye})),n.d(r,"PreviousTextHistory",(function(){return Oe})),n.d(r,"PreviousTextWriterExpert",(function(){return Se})),n.d(r,"Reference",(function(){return Ce})),n.d(r,"ReferencePrivacyLevel",(function(){return we})),n.d(r,"ReferencePrivacyLevelPublic",(function(){return ke})),n.d(r,"ReferencePrivacyLevelRestricted",(function(){return Ee})),n.d(r,"SpecialView",(function(){return je})),n.d(r,"SpecialViewAiUsageAlert",(function(){return _e})),n.d(r,"Style",(function(){return xe})),n.d(r,"Text",(function(){return Ae})),n.d(r,"TextRange",(function(){return Ie})),n.d(r,"Toggle",(function(){return Te})),n.d(r,"UrlReference",(function(){return Me})),n.d(r,"Usage",(function(){return Pe})),n.d(r,"UserStateSettings",(function(){return Ne})),n.d(r,"UserState",(function(){return De})),n.d(r,"Voice",(function(){return Be})),n.d(r,"VoiceProfileSettingsMyVoiceIsEnabledByDefault",(function(){return Le})),n.d(r,"VoiceProfileSettingsStatus",(function(){return Fe})),n.d(r,"VoiceProfileSettings",(function(){return Re})),n.d(r,"ClientMessageImplementations",(function(){return He})),n.d(r,"ServerMessageImplementations",(function(){return Ve})),n.d(r,"make",(function(){return ze})),n.d(r,"interpreter",(function(){return Ge})),n.d(r,"extend",(function(){return qe})),n.d(r,"encoderSchemable",(function(){return Ke}));var i,o,s,c,l,u,d={};n.r(d),n.d(d,"version",(function(){return $e})),function(e){e.Insertable="insertable",e.NonInsertable="non_insertable"}(i||(i={})),function(e){e.Active="active",e.Snoozed="snoozed"}(o||(o={})),function(e){e.Generic="generic",e.Overflow="overflow",e.PromptsLimitExceeded="promptsLimitExceeded",e.SensitiveContent="sensitiveContent",e.ServerOverloaded="serverOverloaded",e.UnsupportedLanguage="unsupportedLanguage"}(s||(s={})),function(e){e.Ideation="ideation",e.PushRewrite="pushRewrite",e.QuickReply="quickReply",e.QuickRewrite="quickRewrite",e.Rewrite="rewrite"}(c||(c={})),function(e){e.Generic="generic",e.Info="info"}(l||(l={})),function(e){e.Initial="initial",e.Seen="seen",e.Updated="updated"}(u||(u={}));var p=n("0Uv3"),m=n("gIH0"),f=n("j8jx"),h=n("w8H4"),g=n("DTwm"),b=ze((function(e){return We(v(e),e.struct({}))(e)})),v=ze((function(e){return e.struct({id:e.number})})),y=ze((function(e){return We(v(e),e.struct({}))(e)})),O=ze((function(e){return e.intersect(e.partial({docIdIsTransient:e.boolean}))(e.struct({}))})),S=ze((function(e){return e.struct({cheetahState:De(e)})})),C=ze((function(e){return e.struct({plain:e.sensitiveString,delta:e.sensitiveDelta})})),w=ze((function(e){return G(e)})),k=ze((function(e){return e.struct({name:e.string,value:e.sensitiveString})})),E=ze((function(e){var t;return e.sum("valueType")(((t={}).string=_(e),t.radioButtonGroup=A(e),t))})),j=ze((function(e){return e.struct({header:e.string,text:e.readonly(e.array(e.string))})})),_=ze((function(e){return e.intersect(e.partial({hint:j(e)}))(e.struct({valueType:e.literal("string"),label:e.string,name:e.string}))})),x=ze((function(e){return e.struct({header:e.string,text:e.readonly(e.array(e.string))})})),A=ze((function(e){return e.intersect(e.partial({hint:x(e)}))(e.struct({valueType:e.literal("radioButtonGroup"),label:e.string,name:e.string,radioButtonGroupValues:e.readonly(e.array(e.string))}))})),I=Ue(i),T=ze((function(e){return e.intersect(e.partial({onActionNotification:he(e)}))(e.struct({}))})),M=ze((function(e){return e.intersect(e.partial({generatesTextType:I(e)}))(e.intersect(e.partial({disabled:T(e)}))(e.struct({id:e.string,iconUrl:e.string,group:e.string,label:e.string,searchTags:e.readonly(e.array(e.string)),args:e.readonly(e.array(E(e)))})))})),P=ze((function(e){return e.intersect(e.partial({useReferences:e.readonly(e.array(Me(e)))}))(e.intersect(e.partial({omitReferenceIds:e.readonly(e.array(e.string))}))(e.struct({contextId:e.string,triggerContextId:e.string,actionId:e.string,args:e.readonly(e.array(k(e)))})))})),N=Ue(o),D=ze((function(e){return e.struct({name:e.string,state:N(e)})})),B=ze((function(e){return e.struct({name:e.string,tags:e.readonly(e.array(D(e)))})})),L=ze((function(e){return e.struct({name:e.string,summary:e.string,selected:e.boolean,sections:e.readonly(e.array(B(e)))})})),F=ze((function(e){return e.readonly(e.array(L(e)))})),R=ze((function(e){return e.intersect(e.partial({voiceProfileSettings:Re(e)}))(e.intersect(e.partial({intent:e.sensitiveString}))(e.intersect(e.partial({documentOverview:H(e)}))(e.intersect(e.partial({specialView:je(e)}))(e.intersect(e.partial({textScope:Ie(e)}))(e.intersect(e.partial({contextNotification:he(e)}))(e.intersect(e.partial({metadata:me(e)}))(e.struct({id:e.string,voice:Be(e),availableActions:e.readonly(e.array(M(e))),parentAction:P(e),stateBlob:e.string,promptAction:M(e),quickRewriteAction:M(e)}))))))))})),H=ze((function(e){return e.struct({title:e.string,summary:e.string})})),V=Ue(s),U=ze((function(e){return e.struct({kind:V(e),title:e.string,text:e.string})})),W=ze((function(e){return We(C(e),e.struct({plain:e.sensitiveString,interrupted:e.boolean,renderDiff:e.boolean,delta:e.sensitiveDelta}))(e)})),z=Ue(c),G=ze((function(e){var t;return We(v(e),e.sum("action")(((t={})["cheetah:getContext"]=q(e),t["cheetah:invalidateContext"]=K(e),t["cheetah:action"]=$(e),t["cheetah:setVoice"]=Z(e),t["cheetah:setVoiceProfile"]=Y(e),t["cheetah:interrupt"]=X(e),t["cheetah:getUserState"]=Q(e),t["cheetah:searchReferences"]=J(e),t["cheetah:getHistory"]=ee(e),t["cheetah:error"]=te(e),t["cheetah:setContext"]=ne(e),t["cheetah:searchReferencesResult"]=ae(e),t["cheetah:chunk"]=re(e),t["cheetah:result"]=oe(e),t["cheetah:setUserState"]=se(e),t["cheetah:setHistory"]=pe(e),t)))(e)})),q=ze((function(e){return We(b(e),e.intersect(e.partial({outerContext:be(e)}))(e.intersect(e.partial({selectedRange:Ie(e)}))(e.intersect(e.partial({stateBlob:e.string}))(e.intersect(e.partial({previousText:ve(e)}))(e.intersect(e.partial({includeDisabledActions:e.boolean}))(e.intersect(e.partial({metadata:me(e)}))(e.struct({action:e.literal("cheetah:getContext"),rev:e.number,generationMode:z(e)}))))))))(e)})),K=ze((function(e){return We(y(e),e.struct({action:e.literal("cheetah:invalidateContext")}))(e)})),$=ze((function(e){return We(b(e),e.intersect(e.partial({useReferences:e.readonly(e.array(Me(e)))}))(e.intersect(e.partial({omitReferenceIds:e.readonly(e.array(e.string))}))(e.intersect(e.partial({previousText:ve(e)}))(e.intersect(e.partial({metadata:me(e)}))(e.struct({action:e.literal("cheetah:action"),rev:e.number,contextId:e.string,triggerContextId:e.string,actionId:e.string,stateBlob:e.string,args:e.readonly(e.array(k(e)))}))))))(e)})),Z=ze((function(e){return We(b(e),e.struct({action:e.literal("cheetah:setVoice"),voice:Be(e)}))(e)})),Y=ze((function(e){return We(b(e),e.intersect(e.partial({role:e.string}))(e.intersect(e.partial({isEnabledByDefault:e.boolean}))(e.intersect(e.partial({profiles:F(e)}))(e.struct({action:e.literal("cheetah:setVoiceProfile")})))))(e)})),X=ze((function(e){return We(b(e),e.struct({action:e.literal("cheetah:interrupt"),promptId:e.number}))(e)})),Q=ze((function(e){return We(b(e),e.struct({action:e.literal("cheetah:getUserState")}))(e)})),J=ze((function(e){return We(b(e),e.intersect(e.partial({url:e.string}))(e.struct({action:e.literal("cheetah:searchReferences")})))(e)})),ee=ze((function(e){return We(b(e),e.struct({action:e.literal("cheetah:getHistory")}))(e)})),te=ze((function(e){return We(y(e),e.struct({action:e.literal("cheetah:error"),promptId:e.number,error:U(e)}))(e)})),ne=ze((function(e){return We(y(e),e.intersect(e.partial({progressMessage:e.string}))(e.struct({action:e.literal("cheetah:setContext"),promptId:e.number,context:R(e),usage:Pe(e)})))(e)})),ae=ze((function(e){return We(y(e),e.struct({action:e.literal("cheetah:searchReferencesResult"),promptId:e.number,references:e.readonly(e.array(Ce(e)))}))(e)})),re=ze((function(e){return We(y(e),e.intersect(e.partial({metadata:me(e)}))(e.struct({action:e.literal("cheetah:chunk"),promptId:e.number,token:e.sensitiveString})))(e)})),ie=ze((function(e){return e.struct({title:e.string,description:e.readonly(e.array(e.string))})})),oe=ze((function(e){return We(y(e),e.intersect(e.partial({metadata:me(e)}))(e.intersect(e.partial({context:R(e)}))(e.intersect(e.partial({error:U(e)}))(e.intersect(e.partial({text:W(e)}))(e.intersect(e.partial({withVoiceText:W(e)}))(e.intersect(e.partial({showVoiceTextByDefault:e.boolean}))(e.intersect(e.partial({references:e.readonly(e.array(Ce(e)))}))(e.intersect(e.partial({changesSummary:ie(e)}))(e.struct({action:e.literal("cheetah:result"),promptId:e.number,usage:Pe(e)}))))))))))(e)})),se=ze((function(e){return We(y(e),e.struct({action:e.literal("cheetah:setUserState"),state:De(e)}))(e)})),ce=ze((function(e){var t;return e.sum("kind")(((t={}).userPrompt=le(e),t.action=ue(e),t))})),le=ze((function(e){return e.struct({kind:e.literal("userPrompt"),text:e.string})})),ue=ze((function(e){return e.struct({kind:e.literal("action"),iconUrl:e.string,label:e.string})})),de=ze((function(e){return e.intersect(e.partial({showVoiceTextByDefault:e.boolean}))(e.struct({id:e.string,text:Ae(e),withVoiceText:Ae(e),title:ce(e),references:e.readonly(e.array(Ce(e)))}))})),pe=ze((function(e){return We(y(e),e.struct({action:e.literal("cheetah:setHistory"),cards:e.readonly(e.array(de(e)))}))(e)})),me=ze((function(e){return e.any})),fe=Ue(l),he=ze((function(e){return e.intersect(e.partial({title:e.string}))(e.struct({kind:fe(e),text:e.string}))})),ge=ze((function(e){return e.intersect(e.partial({title:e.sensitiveString}))(e.intersect(e.partial({people:e.readonly(e.record(e.readonly(e.array(e.sensitiveString))))}))(e.struct({text:e.sensitiveString})))})),be=ze((function(e){return e.intersect(e.partial({pageIdHash:e.string}))(e.intersect(e.partial({title:e.sensitiveString}))(e.intersect(e.partial({people:e.readonly(e.record(e.readonly(e.array(e.sensitiveString))))}))(e.intersect(e.partial({items:e.readonly(e.array(ge(e)))}))(e.struct({})))))})),ve=ze((function(e){var t;return e.sum("kind")(((t={}).regular=ye(e),t.history=Oe(e),t.writerExpert=Se(e),t))})),ye=ze((function(e){return e.struct({kind:e.literal("regular"),text:e.string})})),Oe=ze((function(e){return e.struct({kind:e.literal("history"),text:e.string})})),Se=ze((function(e){return e.struct({kind:e.literal("writerExpert"),text:e.string,suggestionId:e.string,pname:e.string})})),Ce=ze((function(e){return e.intersect(e.partial({url:e.string}))(e.struct({id:e.string,privacyLevel:we(e),title:e.string,iconUrl:e.string}))})),we=ze((function(e){var t;return e.sum("kind")(((t={}).public=ke(e),t.restricted=Ee(e),t))})),ke=ze((function(e){return e.struct({kind:e.literal("public")})})),Ee=ze((function(e){return e.struct({kind:e.literal("restricted")})})),je=ze((function(e){var t;return e.sum("kind")(((t={}).aiUsageAlert=_e(e),t))})),_e=ze((function(e){return e.struct({kind:e.literal("aiUsageAlert")})})),xe=ze((function(e){return e.struct({button:Te(e),tones:e.readonly(e.array(Te(e))),maxTones:e.number})})),Ae=ze((function(e){return We(C(e),e.struct({}))(e)})),Ie=ze((function(e){return e.struct({start:e.number,end:e.number})})),Te=ze((function(e){return e.struct({iconUrl:e.string,label:e.string,description:e.string})})),Me=ze((function(e){return e.struct({url:e.string,referenceId:e.string})})),Pe=ze((function(e){return e.struct({promptsRemaining:e.number,promptsAllocated:e.number,refillDate:e.string})})),Ne=ze((function(e){return e.struct({inlineQuickReplyEnabled:e.boolean,inlineRewriteEnabled:e.boolean})})),De=ze((function(e){return e.intersect(e.partial({historyItems:e.number}))(e.struct({settings:Ne(e),usage:Pe(e)}))})),Be=ze((function(e){return e.intersect(e.partial({styles:e.readonly(e.array(xe(e)))}))(e.intersect(e.partial({selectedRole:e.string}))(e.intersect(e.partial({roles:e.readonly(e.array(e.string))}))(e.struct({selectedStyle:e.string,selectedTones:e.readonly(e.array(e.string)),needSetup:e.boolean}))))})),Le=ze((function(e){return e.struct({state:e.boolean,label:e.string})})),Fe=Ue(u),Re=ze((function(e){return e.intersect(e.partial({status:Fe(e)}))(e.struct({userName:e.string,myVoiceIsEnabledByDefault:Le(e),title:e.string,subTitle:e.string,profiles:F(e)}))})),He=ze((function(e){var t;return e.sum("action")(((t={})["cheetah:getContext"]=q(e),t["cheetah:action"]=$(e),t["cheetah:setVoice"]=Z(e),t["cheetah:setVoiceProfile"]=Y(e),t["cheetah:interrupt"]=X(e),t["cheetah:getUserState"]=Q(e),t["cheetah:searchReferences"]=J(e),t["cheetah:getHistory"]=ee(e),t))})),Ve=ze((function(e){var t;return e.sum("action")(((t={})["cheetah:invalidateContext"]=K(e),t["cheetah:error"]=te(e),t["cheetah:setContext"]=ne(e),t["cheetah:searchReferencesResult"]=ae(e),t["cheetah:chunk"]=re(e),t["cheetah:result"]=oe(e),t["cheetah:setUserState"]=se(e),t["cheetah:setHistory"]=pe(e),t))}));function Ue(e){var t=Object.keys(e).map((function(t){return e[t]})),n=t[0],a=t.slice(1);return ze((function(e){return e.literal.apply(e,Object(p.d)([n],a,!1))}))}function We(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ze((function(t){return e.reduce((function(e,n){return t.intersect(n)(e)}))}))}function ze(e){return f.b(e)}var Ge=Object(g.unsafeCoerce)(h.a);function qe(e){return function(t){return Object(p.a)(Object(p.a)({},e),t)}}var Ke={URI:m.URI,literal:function(){return m.id()},string:m.id(),number:m.id(),boolean:m.id(),nullable:m.nullable,type:m.type,struct:m.struct,partial:m.partial,record:m.record,array:m.array,tuple:m.tuple,intersect:m.intersect,sum:m.sum,lazy:function(e,t){return m.lazy(t)},readonly:m.readonly},$e="16.2.0"},KXIk:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a,r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("qCVM"),c=n("rT5Y"),l=n("f38j"),u=n("DTwm"),d=n("+vYo"),p=n("PYgo"),m=n("xk6L"),f=n("La5+"),h=n("hzat"),g=n("mgiE"),b=n("0kuo"),v=n("TKPA");!function(e){e.eq=g.c.getStructEq({highlightIndex:g.c.eqNumber,action:s.a.eq})}(a||(a={}));var y=function(){function e(t,n,i,s,l,u){var p=this;Object(r.a)(this,e),Object(o.a)(this,"_sduiManager",void 0),Object(o.a)(this,"_inlineSDUIManager",void 0),Object(o.a)(this,"_inlineCardVM",void 0),Object(o.a)(this,"_alertsReader",void 0),Object(o.a)(this,"_sduiInlineCardActions",void 0),Object(o.a)(this,"_sduiViewModel",void 0),Object(o.a)(this,"_focusedItem",void 0),Object(o.a)(this,"_subs",void 0),Object(o.a)(this,"events",void 0),Object(o.a)(this,"focusCard",void 0),Object(o.a)(this,"handleSDUIAction",void 0),this._sduiManager=n,this._inlineSDUIManager=i,this._inlineCardVM=s,this._alertsReader=l,this._sduiInlineCardActions=new m.a.Subject,this._focusedItem=d.a.create(g.g.none),this._subs=new f.a.Keeper,this.focusCard=function(e){p._focusedItem.set(g.g.some(e))},this.handleSDUIAction=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p._sduiInlineCardActions.next({action:e,highlightIndex:t})},this.events=s.events,this._sduiViewModel=new c.a(t,n,new O,u,this._focusedItem.view(g.g.map((function(e){return e.id})))),this._subs.push(this._sduiInlineCardActions.pipe(m.a.skipBy(a.eq),m.a.tap((function(e){return p._handleSduiCardAction(e)}))).subscribe())}return Object(i.a)(e,[{key:"getInlineItemForAlert",value:function(e){var t=this;return Object(u.pipe)(this._sduiManager.state,m.a.map((function(n){return t._inlineSDUIManager.getInlineItemForAlert(l.a.AlertId.from(e))})))}},{key:"_handleSduiCardAction",value:function(e){this._sduiViewModel.sduiActionEvents.next(e.action),this._appHandling(e)}},{key:"_appHandling",value:function(e){var t=e.action,n=t.actions,a=t.scope,r=e.highlightIndex,i=this,o=n.filter((function(e){return"popAssistantFeed"===e.type||"pushAssistantFeed"===e.type||"focusAssistantCard"===e.type}));Object(u.pipe)(o,g.g.fromPredicate((function(e){return e.length>0})),g.g.map((function(e){}))),n.forEach((function(e){switch(e.type){case"nextCard":case"prevCard":case"openSettings":case"openToneDetector":case"openFeedback":case"openLearnMore":case"transition":case"openCreateSnippetModal":case"nativeOpenAssistant":case"selectAlternative":case"highlightAlert":case"closePopover":case"interactPopover":case"openPerformanceScore":case"openGrammarlyGo":case"enablePlagiarismCheck":case"disablePlagiarismCheck":case"nativeOpenUserSatisfactionFeedback":case"enableWritingExpertCheck":case"disableWritingExpertCheck":return;case"showHighlights":case"hideHighlights":return;case"notify":case"switchView":case"newRevision":case"openLink":case"copyToClipboard":return;case"pushAssistantFeed":return i._pushFeed(e,a,r);case"popAssistantFeed":case"focusAssistantCard":return;case"stopApplyingAlerts":case"upgradeToPremium":return;case"applyAlerts":return void i._applyAlerts(e,a);case"closeCard":case"removeRoot":return;case"removeAlerts":return void i._removeAlerts(e,a);default:Object(b.d)(e)}}))}},{key:"_removeAlerts",value:function(e,t){var n=this;Object(b.f)(t.alertRefs.length>0,"applyAlerts actions must have alerts");var a=this._sduiManager.alertIdResolver(l.a.AlertId.from(t.alertRefs[0]));Object(u.pipe)(a,g.g.tap((function(e){n._inlineCardVM.events.next({type:p.b.Type.ignored,alertId:e})})))}},{key:"_applyAlerts",value:function(e,t){Object(b.f)(t.alertRefs.length>0,"applyAlerts actions must have alerts scope");var n=this._sduiManager.alertIdResolver(l.a.AlertId.from(t.alertRefs[0]));Object(b.f)(g.g.isSome(n),"alert id must resolve"),this._inlineCardVM.events.next({type:p.b.Type.applied,alertId:g.g.unsafeGet(n),alternativeIndex:e.alternativeIndex})}},{key:"_pushFeed",value:function(e,t,n){Object(b.f)(t.alertRefs.length>0,"pushAssistantFeed actions must have alerts scope");var a=this._sduiManager.alertIdResolver(l.a.AlertId.from(t.alertRefs[0]));Object(b.f)(g.g.isSome(a),"alert id must resolve");var r=this._alertsReader.getById(g.g.unsafeGet(a));Object(b.f)(g.g.isSome(r),"inline alert must be registered"),this._inlineCardVM.events.next({type:p.b.Type.opened,alert:{alert:h.a.fromModel(r.value),highlightIndex:n}})}},{key:"dispose",value:function(){this._subs.dispose()}}]),e}(),O=function e(){Object(r.a)(this,e),Object(o.a)(this,"feed",m.a.EMPTY),Object(o.a)(this,"currentFeed",g.g.none),Object(o.a)(this,"onFeedRemove",m.a.EMPTY),Object(o.a)(this,"onFeedEmpty",m.a.EMPTY),Object(o.a)(this,"header",m.a.EMPTY),Object(o.a)(this,"footer",m.a.EMPTY),Object(o.a)(this,"pushFeed",(function(){return g.b.right(null)})),Object(o.a)(this,"popFeed",v.e),Object(o.a)(this,"focusCard",(function(){return g.b.right(null)})),Object(o.a)(this,"notifyCardFocused",v.e),Object(o.a)(this,"dispose",v.e)}},KYWP:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return N}));var a=n("8O/t"),r=n("X76w"),i=n("2swC"),o=n("nWMp"),s=n("PltQ"),c=n("NbNH");const l="0 1px 8px rgba(109, 117, 141, .18)",u={$nest:{"&:before":{top:o.a.rem(.85),left:0}}},d=o.a.joinClasses(["miniTwoLinedHighlightedText",o.a.style({overflow:"hidden",marginTop:o.a.rem(-.25),color:i.a.CoreNeutral90,textOverflow:"ellipsis"})]),p={height:o.a.rem(3.25),borderRadius:o.a.rem(c.s),boxShadow:l,$nest:{"&:hover":{boxShadow:l},"&:hover .miniTwoLinedHighlightedText":{borderColor:"transparent"}}},m={top:o.a.rem(.7)},f={top:o.a.rem(.1)},h={fontWeight:o.a.important(400),fontSize:o.a.rem(.75)},g={position:"absolute",left:o.a.rem(.5),minWidth:"initial",minHeight:"initial",background:i.a.CoreNeutral0},b=Object(r.a)(Object(a.a)({},g),{top:o.a.rem(.6)}),v=o.a.stylesheet({dot:[u],invisibleDot:[u,{$nest:{"&:before":{visibility:"hidden"}}}],wrapper:[p],miniContainer:[{flexDirection:"column"}],cardLogo:[m],lensIcon:[f],subTitle:[h],ctaText:[{overflow:"hidden",textOverflow:"ellipsis"}],takeawayIconMini:[b],takeawayIconStandard:[g]}),y={height:o.a.rem(3),$nest:{"&:hover .highlightText":{borderColor:"transparent"}}},O={$nest:{"&:before":{top:o.a.px(1),bottom:0,left:0}}},S={$nest:{"&:before":{top:o.a.px(1),bottom:0,left:0,visibility:"hidden"}}},C={height:o.a.important(o.a.rem(2.5)),borderRadius:o.a.rem(c.s)},w={color:i.a.CoreNeutral50,display:"flex",width:o.a.rem(2),height:o.a.percent(100),justifyContent:"center",alignItems:"center"},k={overflow:"hidden",color:i.a.CoreNeutral90,textOverflow:"ellipsis"},E={display:"inline-block",padding:"0 "+o.a.rem(.5)},j={top:0,bottom:0,left:o.a.rem(.5),margin:"auto"},_=o.a.stylesheet({wrapper:[y],dot:[O],invisibleDot:[O,S],miniContainer:[{display:"flex",justifyContent:"flex-end",alignItems:"center"}],bundleContainer:[C],alertsCounter:[w],highlightedText:[k],middleDot:[E],cardLogo:[j]}),x={color:i.a.CoreNeutral50,fontWeight:300},A={position:"absolute",left:o.a.rem(.5),width:o.a.rem(1),height:o.a.rem(1),background:s.e},I={left:o.a.rem(0)},T={marginLeft:o.a.rem(.5)},M={marginLeft:o.a.rem(-.5)},P={minHeight:"auto",left:o.a.rem(.4)},N=o.a.stylesheet({ctaText:[{$nest:{"&:first-letter":{textTransform:"uppercase"}}}],cta:[x],cardLogo:[A],lensIcon:[M],outcomesCardLogo:[A,I],newLabel:[T],diamondIcon:[P]})},KZgA:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("DTwm"),i=n("lXop"),o=n("mgiE"),s=n("0kuo"),c=n("M3t0"),l=n("xk6L"),u=n("yIk2"),d=n("YqdJ"),p=n("KH+i");!function(e){let t;!function(e){e[e.ANIMATE_ALL=0]="ANIMATE_ALL",e[e.ANIMATE_MARK=1]="ANIMATE_MARK",e[e.NO_ANIMATION=2]="NO_ANIMATION"}(t=e.Animation||(e.Animation={}));const n=c.d.Logging.root.getLogger("AlignmentViewModel");function m(e,t){return Object(r.pipe)(e,o.b.fold(({kind:e,reason:t})=>{switch(e){case"error":n.error("Cannot align card to mark",{reason:t});break;case"notFound":n.info("Item does not exist, alignment is canceled",{reason:t});break;default:Object(s.c)(e)}return l.a.EMPTY},e=>l.a.of({mark:t,card:e})))}e.alignMarkToItem=function(e,a){return({animation:s,suggestedPosition:c})=>({id:f,renderOptions:{features:h},activeHighlightIndex:g,activeAlert:b})=>Object(r.pipe)(e.getMarkAlertPosition({alert:b,highlightIndex:g}),l.b.compact,l.a.map(e=>({mark:e,cardPosition:a.getCardSuggestedPositionInViewport(f,h.has(p.a.Features.showLabel),o.g.none,"cardContentTop")})),l.a.switchMap(({cardPosition:e,mark:t})=>m(e,t)),l.a.switchMap(({card:e,mark:t})=>a.setCardPosition(f,h.has(p.a.Features.showLabel),!1,d.b.FromWindowTop.ISO.modify(d.a.concatC(-e.contentOffset))(t)).pipe(l.a.distinctUntilChanged(),l.a.mapTo(Object(r.pipe)(c,o.g.filter(t=>a.willFitViewport(f,d.b.FromWindowTop.ISO.modify(d.a.concatC(-e.contentOffset))(t))),o.g.getOrElse(()=>d.b.FromWindowTop.ISO.modify(d.a.concatC(e.contentOffset))(e.top)))))),l.a.switchMap(n=>e.moveAlertHighlightInViewport({alert:b,highlightIndex:g},n,s===t.ANIMATE_ALL?i.a.fake:i.a.none)),l.a.mapTo(u.b.voidValue),l.a.catchError(e=>(n.error("Cannot align mark to card",e),l.a.EMPTY)),l.a.share())},e.alignItemToMark=function(e,t){return({animation:s,fitCardIntoViewport:c})=>({id:f,renderOptions:{features:h},activeAlert:g,activeHighlightIndex:b})=>Object(r.pipe)(e.getMarkAlertPosition({alert:g,highlightIndex:b}),l.a.switchMap(o.g.fold(()=>l.a.EMPTY,e=>l.a.of(e))),l.a.map(e=>({mark:e,cardPosition:t.getCardSuggestedPositionInViewport(f,h.has(p.a.Features.showLabel),o.g.some(e),"cardContentTop")})),l.a.switchMap(({cardPosition:e,mark:t})=>m(e,t)),l.a.switchMap(({card:n,mark:r})=>l.a.mergeStatic(t.setCardPosition(f,h.has(p.a.Features.showLabel),s===a.Animation.ANIMATE_ALL,d.b.FromWindowTop.ISO.modify(d.a.concatC(-n.contentOffset))(r)),u.b.orEmpty(e.moveAlertHighlightInViewport({alert:g,highlightIndex:b},d.b.FromWindowTop.ISO.modify(d.a.concatC(n.contentOffset))(n.top),s===a.Animation.ANIMATE_ALL?i.a.initial:i.a.none))(c))),l.a.mapTo(u.b.voidValue),l.a.catchError(e=>(n.error("Cannot align card to mark",e),l.a.EMPTY)),l.a.share())}}(a||(a={}))},KoUC:function(e){e.exports=JSON.parse('{"mark":"_f5a63458-view-model-mark"}')},KpDw:function(e,t,n){"use strict";n.d(t,"g",(function(){return E})),n.d(t,"c",(function(){return J})),n.d(t,"d",(function(){return ee})),n.d(t,"e",(function(){return te})),n.d(t,"f",(function(){return ne})),n.d(t,"a",(function(){return Se})),n.d(t,"b",(function(){return Ce}));var a,r,i,o,s=n("a5gI"),c=n("8O/t"),l=n("X76w"),u=n("tCI5"),d=n("nWMp"),p=n("PKYJ"),m=n("2swC"),f=n("3n8C"),h=n("Bl9I"),g=d.a.percent(80),b=d.a.vh(20),v=d.a.percent(80),y=d.a.rem(20),O=f.a.maxWidth(h.a.navigationHideWidthThreshold),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{transition:"".concat(d.a.seconds(e)," transform linear, ").concat(d.a.seconds(e)," opacity linear"),transitionDelay:d.a.seconds(t)}},C=d.a.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),w={position:"relative",height:d.a.percent(100)},k={display:"flex",$nest:Object(s.a)({},f.a.print,{display:"none"})},E={root:{width:d.a.rem(26),marginRight:d.a.rem(d.d.navigationWidth)},$nest:(a={},Object(s.a)(a,f.a.tiny,{}),Object(s.a)(a,f.a.xs,{marginRight:d.a.rem(d.d.navigationWidthXs)}),Object(s.a)(a,f.a.xsLower,{marginRight:d.a.rem(d.d.navigationWidthXs),width:d.a.rem(21)}),Object(s.a)(a,O,{marginRight:0}),a)},j=Object(l.a)(Object(c.a)({position:"relative",zIndex:d.d.level0},E.root),{$nest:Object(c.a)({},E.$nest)}),_={position:"relative",zIndex:d.d.level0,marginRight:d.a.rem(d.d.navigationWidth),width:d.a.rem(d.d.sidebarWidth),transition:"opacity .2s",$nest:(r={},Object(s.a)(r,f.a.tiny,{width:d.a.rem(d.d.sidebarWidthTiny)}),Object(s.a)(r,f.a.xs,{width:d.a.rem(d.d.sidebarWidthXs),marginRight:d.a.rem(d.d.navigationWidthXs)}),Object(s.a)(r,f.a.xsLower,{width:d.a.rem(d.d.sidebarWidthXs),marginRight:d.a.rem(d.d.navigationWidthXs-1)}),Object(s.a)(r,O,{width:d.a.rem(d.d.sidebarWidthXs),marginRight:0}),Object(s.a)(r,f.a.xss,{width:d.a.rem(d.d.sidebarWidthXss),$nest:Object(s.a)({},'& button[data-name*="'.concat(u.a.ComponentKnownName.ButtonPrev,'"], & button[data-name*="').concat(u.a.ComponentKnownName.ButtonNext,'"]'),{display:"none"})}),r)},x={width:y},A={marginRight:d.a.rem(d.d.navigationWidth),$nest:(i={"&:before":{position:"absolute",left:d.a.rem(-1.5),display:"block",marginTop:d.a.rem(-4),paddingTop:d.a.rem(4),width:d.a.rem(1.5),height:d.a.percent(100),background:m.a.CoreNeutral0,content:"''"}},Object(s.a)(i,f.a.xs,{marginRight:d.a.rem(d.d.navigationWidthXs)}),Object(s.a)(i,f.a.xsLower,{marginRight:d.a.rem(d.d.navigationWidthXs-1)}),Object(s.a)(i,O,{marginRight:0}),i)},I={position:"absolute",top:0,right:0,height:d.a.percent(100),pointerEvents:"auto",display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"8fr 2fr"},T={position:"absolute",zIndex:d.d.level1,opacity:1},M={position:"absolute",zIndex:d.d.level0,display:"none"},P={opacity:0,$nest:{"&.lensMoveDown":{transform:"translateY(".concat(g,"))")},"&.lensMoveUp":{transform:"translateY(-".concat(g,"))")}}},N={opacity:0,$nest:{"&.lensMoveDown":{transform:"translateY(".concat(b,")")},"&.lensMoveUp":{transform:"translateY(-".concat(b,")")}}},D={position:"absolute",visibility:"hidden",opacity:.1,pointerEvents:"none"},B={opacity:.1,pointerEvents:"none"},L={animation:"".concat(C," ").concat(d.d.cardAnimationTime,"ms")},F={opacity:0,$nest:{"&.lensMoveDown":{transform:"translateY(-".concat(g,"))")},"&.lensMoveUp":{transform:"translateY(".concat(g,"))")}}},R={opacity:.5,$nest:{"&.lensMoveDown":{transform:"translateY(-".concat(b,")")},"&.lensMoveUp":{transform:"translateY(".concat(b,")")}}},H={position:"absolute",zIndex:d.d.level0,opacity:0,pointerEvents:"none",$nest:{"&.lensMoveDown":{transform:"translateY(".concat(b,")")},"&.lensMoveUp":{transform:"translateY(-".concat(b,")")}}},V={position:"absolute",zIndex:d.d.level0},U={position:"absolute",zIndex:d.d.level1,opacity:1},W={opacity:0,$nest:{"&.lensMoveDown":{transform:"translateY(-".concat(b,")")},"&.lensMoveUp":{transform:"translateY(".concat(b,")")}}},z={position:"absolute",zIndex:d.d.level1,opacity:1},G={position:"absolute",opacity:0,transform:"translateX(".concat(v,")")},q={position:"fixed",zIndex:d.d.level1,opacity:1},K={position:"fixed",opacity:0,transform:"translateX(".concat(v,")")},$={position:"fixed",zIndex:d.d.level0,opacity:0,transform:"translateX(".concat(v,")")},Z={opacity:0,transform:"translateX(".concat(v,")")},Y={position:"absolute",zIndex:d.d.level0,opacity:0,transform:"translateX(".concat(v,")")},X={opacity:0,transform:"translateX(".concat(v,")")},Q={transform:"translateX(0)"},J={opacity:1},ee={opacity:0,transform:"translateX(".concat(v,")")},te={opacity:0,transform:"translateX(".concat(v,")"),pointerEvents:"none"},ne={transform:"translateX(0)"},ae={position:"absolute",top:d.a.rem(-3),left:d.a.rem(-.1),fontWeight:"bold"},re={position:"absolute",top:0,right:0,width:"auto",height:"100vh",pointerEvents:"all",$nest:Object(s.a)({},O,{width:d.a.rem(12),transition:"transform .25s"})},ie={width:0,$nest:Object(s.a)({},O,{width:0})},oe={$nest:Object(s.a)({},f.a.maxWidth(h.a.navigationHideWidthThreshold),{transform:"translateX(".concat(d.a.rem(11),")")})},se={$nest:Object(s.a)({},O,{transform:"translateX(0)"})},ce={display:"none",cursor:"pointer",position:"absolute",left:d.a.rem(-1.65),top:d.a.rem(1),zIndex:d.d.level1,background:m.a.CoreNeutral0,borderRadius:d.a.px(5),border:"none",width:d.a.rem(2),height:d.a.rem(2),boxShadow:p.a.z100,margin:0,padding:0,overflow:"visible",textTransform:"none","-webkit-appearance":"none","-moz-appearance":"none",$nest:Object(l.a)(Object(c.a)((o={},Object(s.a)(o,O,{display:"block"}),Object(s.a)(o,"& i",{transform:"rotateZ(270deg)"}),Object(s.a)(o,"&:active path",{stroke:m.a.CoreBlue50}),Object(s.a)(o,"&:hover path",{stroke:m.a.CoreBlue50}),o),Object(f.c)({$nest:{"& path":{stroke:m.a.CoreBlue50}}}).$nest),{"&:focus:not(:focus-visible)":{boxShadow:p.a.z100}})},le={zIndex:d.d.level2,height:"auto"},ue={$nest:{'& [aria-controls*="navbar-right"]':{top:d.a.rem(3.75)}}},de={position:"absolute",width:d.a.percent(100)},pe={padding:"".concat(d.a.rem(11)," ").concat(d.a.rem(d.d.assistantSuccessLensPaddingRight)," 0 0"),width:d.a.percent(100),$nest:Object(s.a)({},f.a.xssHeight,{padding:"".concat(d.a.rem(6)," ").concat(d.a.rem(d.d.assistantSuccessLensPaddingRight)," 0 0")})},me={display:"flex",flexDirection:"column",width:d.a.percent(100),height:"100vh",justifyContent:"center"},fe={height:d.a.rem(20)},he={position:"absolute",top:d.a.rem(1),width:d.a.percent(100)},ge={marginTop:d.a.rem(.5)},be={marginLeft:d.a.rem(.25),padding:0,textTransform:"none",lineHeight:m.h.BodyLineHeight,$nest:{"&[data-textpos='everywhere']":{padding:0},"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{background:"none"}}},ve={margin:"".concat(d.a.rem(2)," auto 0")},ye={position:"relative",opacity:1},Oe={width:d.a.percent(100),position:d.a.important("static")},Se=d.a.prefixedStylesheet("assistant",{fullHeight:[w],sidebarWrapper:[w,k],wrapper:[_],oggyWrapper:[j],draftAIWrapper:[_,{marginRight:0}],iPadWrapper:[_,x],oggyLoaderWrapper:[j,A],loaderWrapper:[_,A],fadedWrapper:[_,{opacity:0}],hiddenWrapper:[{position:"absolute",top:0,right:0,pointerEvents:"none"}],actionsWrapper:[I],lensLeaveStart:[T],lensLeaveStartTitle:[{opacity:1,transform:"translateY(0)"}],lensLeaveStartContent:[{opacity:1}],lensLeave:[S(.2),M],lensLeaveTitle:[S(.1),P],lensLeaveContent:[S(.2/3),N],lensHideStart:[D],lensHide:[D,{opacity:0,transition:"opacity .01s"}],contentHideStart:[B],contentHide:[B,{opacity:0,transition:"opacity .01s"}],lensEnter:[S(.2),{position:"absolute",opacity:1}],lensEnterTitle:[S(.1,.1),{opacity:1,transform:"translateY(0)"}],lensEnterContent:[S(.2),{opacity:1}],draftAILensContent:[L],lensEnterStart:[{opacity:0}],lensEnterStartTitle:[F],lensEnterStartContent:[R],stateLeave:[S(.2),H],stateLeaveStart:[V],stateEnter:[S(.2),U],stateEnterStart:[W],ggoEnter:[S(.2,.1),U],ggoEnterStart:[W],ggoLeave:[S(.2),H],ggoLeaveStart:[V],sidebarEnterLeft:[S(.2),z],titleEnterLeft:[S(.2),{}],sidebarEnterLeftStart:[G],titleEnterLeftStart:[Z],sidebarLeaveRight:[S(.2),Y],titleLeaveRight:[S(.2),X],sidebarLeaveRightStart:[Q],navigationEnterLeft:[S(.2/3.1,.2-.2/3.1),J],navigationEnterLeftStart:[ee],navigationLeaveRight:[S(.2/3.1),te],navigationLeaveRightStart:[ne],allAlerts:[ae],allAlertsVisible:[ae,{transition:"opacity .2s ease .1s, transform .2s ease-out"}],allAlertsHidden:[ae,{opacity:0,transition:"opacity .1s, transform .2s ease-out",transform:"scale(.75)",pointerEvents:"none"}],navigationWrapperTier:[re],hiddenNavigationWrapperTier:[re,ie],expandedNavWrapperTier:[re,se],collapsedNavWrapperTier:[re,oe],navCollapseButton:[ce,{$nest:{"& i":{transform:"rotateZ(90deg)"}}}],navExpandButton:[ce],sidebarTier:[le],sidebarTierOggy:[ue],absoluteAssistant:[de],successLens:[pe],successLensContent:[{}],successLensIPad:[me],successLensContentIPad:[fe],successLensHeader:[he],toAllAlerts:[ge],mutedSuggestions:[{display:"inline-flex"}],reviewButton:[be],upgradeButton:[ve],newSuccessContainerContainer:[{position:"relative"}],onboardingWrapper:[Oe],oggyEnterLeft:[S(.2),q],oggyLeaveRight:[S(.2),$],oggyEnterLeftStart:[K],oggyLeaveRightStart:[{position:"fixed",transform:"translateX(0)"}]}),Ce=d.a.stylesheet({sidebarLoaderBase:[ye],checkingInStart:[G,ye],checkingInEnd:[z,ye],checkingOutStart:[Q,ye],checkingOutEnd:[Y,ye],checkingStart:[{opacity:.99}],checkingEnd:[{opacity:1,transition:"opacity .01s"}],hideStart:[{pointerEvents:"none"}],hideEnd:[{opacity:0,transition:"opacity .01s",pointerEvents:"none"}]})},KySh:function(e,t,n){e.exports=n.p+"files/2126cfb653b81bad8401da0a98c6bd25/inter-bold.woff2"},Kz57:function(e){e.exports=JSON.parse('{"optionsTable":"_3e7e5fe2-compare-options-optionsTable","optionsHeadCell":"_8728f2da-compare-options-optionsHeadCell","optionsTableColumn1":"_81366118-compare-options-optionsTableColumn1","optionsTableColumn2":"_93696e3e-compare-options-optionsTableColumn2 _8728f2da-compare-options-optionsHeadCell","optionsTableColumn3":"_1bcd23c5-compare-options-optionsTableColumn3 _8728f2da-compare-options-optionsHeadCell","columnTitle":"_5dcaa0c3-compare-options-columnTitle","columnDescription":"_9f7056f1-compare-options-columnDescription","optionCell":"_462f147b-compare-options-optionCell","option":"_dce003a6-compare-options-option","optionTitle":"_e0473725-compare-options-optionTitle","optionTitleTextWithBadge":"_7c9d94b7-compare-options-optionTitleTextWithBadge","questionMarkIcon":"_80eb6777-compare-options-questionMarkIcon","optionDescription":"_90458b05-compare-options-optionDescription","optionChecked":"_6e31babc-compare-options-optionChecked _462f147b-compare-options-optionCell","optionCheckedIcon":"_a5231352-compare-options-optionCheckedIcon"}')},L4BC:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a,r=n("a5gI"),i=n("hcme"),o=n("mMt2"),s=n("000W"),c=n("yQCL"),l=n("DTwm"),u=n("+vYo"),d=n("fr9z"),p=n("lXop"),m=n("Hj2R"),f=n("xk6L"),h=n("yIk2"),g=n("hzat"),b=n("LFoX"),v=n("mgiE"),y=n("TKPA"),O=n("M3t0"),S=n("x1PS"),C=n("NMQX");function w(e,t,n,c,p,g){var w,k=u.a.create(a.idle),E=u.a.create(new Set([a.Type.idle])),j=O.d.Logging.getLogger("inlineManager");j.isEnabled(O.a.LogLevel.DEBUG)&&k.subscribe((function(e){return j.debug("state change to",e)}));var _,x=new f.a.Subject,A=new f.a.Subject,I=new f.a.Subject,T=new f.a.Subject,M=new f.a.Subject,P=new f.a.Subject,N=Object(l.pipe)(c,v.g.fold((function(){return f.a.EMPTY}),(function(e){return C.b.fromToolbar(e.linkEvents)})),f.a.share()),D=(_={},Object(r.a)(_,a.Type.idle,a.Scheme.monoid.empty),Object(r.a)(_,a.Type.formattingLink,a.Scheme.forFormattingLink(e,N,I)),Object(r.a)(_,a.Type.upgradeHook,a.Scheme.forUpgradeHook(t,n,T)),Object(r.a)(_,a.Type.synonymsCard,a.Scheme.forSynonymsState(p,A)),Object(r.a)(_,a.Type.inlineCard,a.Scheme.forCardState(t,n,x)),Object(r.a)(_,a.Type.cheetahInlineButton,a.Scheme.forCheetahInlineButton(e,g,M)),Object(r.a)(_,a.Type.vbarCard,a.Scheme.forVbarCard(P)),_),B=E.view(Array.from).view(s.gb(a.Scheme.monoid)((function(e){return D[e]}))),L=f.a.combineLatestStatic([B,k.view("type")]).pipe(f.a.switchMap((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return(w=f.a).mergeStatic.apply(w,Object(o.a)(n[a]))})),f.a.scan((function(e,t){var n=Object(i.a)(t(e),2),a=n[0],r=n[1];return j.debug("state change",{prevState:e,changeReason:a,nextState:r}),r}),a.idle),f.a.tap(h.b.toAtom(k)),f.a.startWith(a.idle),f.a.share()),F=function(e){return f.a.Observable.create((function(){return E.modify((function(t){return new Set(t).add(e)})),function(){return E.modify((function(t){var n=new Set(t);return n.delete(e),n}))}})).pipe(f.a.startWith(h.b.voidValue))};return{doubleClickedWord:F(a.Type.synonymsCard).pipe(f.a.switchMapTo(L.pipe(f.a.map((function(e){return e.type===a.Type.synonymsCard?v.g.some(e.word):v.g.none})))),f.a.distinctUntilChanged(v.g.getEq(d.a.ord).equals),f.a.share()),closeSynonyms:A,hoveredMarkAlert:F(a.Type.inlineCard).pipe(f.a.switchMapTo(L.pipe(f.a.map((function(e){return e.type===a.Type.inlineCard?v.g.some(e.alert):v.g.none})))),f.a.distinctUntilChanged(v.g.getEq(m.d.ord).equals),f.a.share()),closeCards:x,formattingLinkState:F(a.Type.formattingLink).pipe(f.a.switchMapTo(L.pipe(f.a.map((function(e){return e.type===a.Type.formattingLink?v.g.some(e.link):v.g.none})))),f.a.distinctUntilChanged(v.g.getEq(S.a.LinkState.eq).equals),f.a.share()),closeLinks:I,upgradeHookState:F(a.Type.upgradeHook).pipe(f.a.switchMapTo(L.pipe(f.a.map((function(e){return e.type===a.Type.upgradeHook?v.g.some(e.alert):v.g.none})))),f.a.distinctUntilChanged(v.g.getEq(b.a.eq).equals),f.a.share()),closeUpgradeHooks:T,cheetahInlineButtonState:F(a.Type.cheetahInlineButton).pipe(f.a.switchMapTo(L.pipe(f.a.map((function(e){return e.type===a.Type.cheetahInlineButton?v.g.some(Object(y.e)()):v.g.none})),f.a.share()))),closeCheetahInlineButton:M,activeVbar:F(a.Type.vbarCard).pipe(f.a.switchMapTo(L.pipe(f.a.map((function(e){return e.type===a.Type.vbarCard?e.vbar:v.g.none})))),f.a.share()),changeActiveVbar:P}}function k(e){var t=Object(i.a)(f.a.partitionStatic(e.pipe(f.a.share()),v.g.isSome),2),n=t[0],a=t[1];return[n.pipe(f.a.map(v.g.unsafeGet)),a.pipe(f.a.mapTo(h.b.voidValue))]}!function(e){!function(e){e.idle="idle",e.inlineCard="inline-card",e.synonymsCard="synonyms-card",e.formattingLink="formatting-link",e.upgradeHook="upgrade-hook",e.cheetahInlineButton="cheetah-inline-button",e.vbarCard="vbar-card"}(e.Type||(e.Type={}));e.idle={type:a.Type.idle};!function(e){var t;e.monoid=c.getStructMonoid((t={},Object(r.a)(t,a.Type.idle,s.kb()),Object(r.a)(t,a.Type.formattingLink,s.kb()),Object(r.a)(t,a.Type.upgradeHook,s.kb()),Object(r.a)(t,a.Type.synonymsCard,s.kb()),Object(r.a)(t,a.Type.inlineCard,s.kb()),Object(r.a)(t,a.Type.cheetahInlineButton,s.kb()),Object(r.a)(t,a.Type.vbarCard,s.kb()),t));e.forCardState=function(e,t,n){var i,o=k(e.alertHovered.pipe(f.a.map(v.g.filter((function(e){return t.isInteractable(e.id)&&g.a.isHoverableInline(e)}))))),s=o[0].pipe(f.a.map((function(e,t){return function(){return["fromDed:markAlertHover:set(".concat(t,")"),{type:a.Type.inlineCard,alert:e}]}}))),c=o[1].pipe(f.a.map(E(a.Type.inlineCard,"Ded"))),l=n.pipe(f.a.map(E(a.Type.inlineCard,"Ext")));return i={},Object(r.a)(i,a.Type.idle,[s]),Object(r.a)(i,a.Type.formattingLink,[]),Object(r.a)(i,a.Type.upgradeHook,[]),Object(r.a)(i,a.Type.synonymsCard,[]),Object(r.a)(i,a.Type.inlineCard,[s,c,l]),Object(r.a)(i,a.Type.cheetahInlineButton,[]),Object(r.a)(i,a.Type.vbarCard,[]),i},e.forSynonymsState=function(e,t){var n,i=e.doubleClickedWord.pipe(f.a.map((function(e,t){return function(){return["fromDed:synonyms:set(".concat(t,")"),{type:a.Type.synonymsCard,word:e}]}}))),o=t.pipe(f.a.map(E(a.Type.synonymsCard,"Ext")));return n={},Object(r.a)(n,a.Type.idle,[i]),Object(r.a)(n,a.Type.formattingLink,[i]),Object(r.a)(n,a.Type.upgradeHook,[i]),Object(r.a)(n,a.Type.synonymsCard,[i,o]),Object(r.a)(n,a.Type.inlineCard,[i]),Object(r.a)(n,a.Type.cheetahInlineButton,[i]),Object(r.a)(n,a.Type.vbarCard,[i]),n},e.forFormattingLink=function(e,t,n){var i,o=t.pipe(f.a.map((function(e,t){return function(){return["fromUI:links:set(".concat(t,")"),{type:a.Type.formattingLink,link:e}]}}))),s=k(C.b.fromDenaliEditor(e.selectedFormatting)),c=s[0].pipe(f.a.map((function(e,t){return function(){return["fromDed:links:set(".concat(t,")"),{type:a.Type.formattingLink,link:e}]}}))),l=s[1].pipe(f.a.map(E(a.Type.formattingLink,"Ded"))),u=n.pipe(f.a.map(E(a.Type.formattingLink,"Ext")));return i={},Object(r.a)(i,a.Type.idle,[o,c]),Object(r.a)(i,a.Type.formattingLink,[o,c,l,u]),Object(r.a)(i,a.Type.upgradeHook,[o,c,l,u]),Object(r.a)(i,a.Type.synonymsCard,[o]),Object(r.a)(i,a.Type.inlineCard,[o]),Object(r.a)(i,a.Type.cheetahInlineButton,[o]),Object(r.a)(i,a.Type.vbarCard,[o]),i},e.forUpgradeHook=function(e,t,n){var o,s=Object(i.a)(k(e.alertClicked.pipe(f.a.map(v.g.filter((function(e){var n=e.alert;return t.isRegistered(n.id)&&m.a.isInPremiumLens(n)}))))),2),c=s[0],l=s[1],u=c.pipe(f.a.map((function(e,t){return function(){return["fromDed:markAlertClick:set(".concat(t,")"),{type:a.Type.upgradeHook,alert:e}]}}))),d=l.pipe(f.a.map(E(a.Type.upgradeHook,"Ded"))),p=n.pipe(f.a.map(E(a.Type.upgradeHook,"Ext")));return o={},Object(r.a)(o,a.Type.idle,[u]),Object(r.a)(o,a.Type.formattingLink,[u]),Object(r.a)(o,a.Type.upgradeHook,[u,d,p]),Object(r.a)(o,a.Type.synonymsCard,[u]),Object(r.a)(o,a.Type.inlineCard,[u]),Object(r.a)(o,a.Type.cheetahInlineButton,[u]),Object(r.a)(o,a.Type.vbarCard,[u]),o},e.forCheetahInlineButton=function(e,t,n){var o,s=e.selection.pipe(f.a.distinctUntilChanged(p.g.eqRange.equals),f.a.map((function(t){return e.getText().slice(t.index,t.index+t.length)}))),c=t.isAvailable(s).pipe(f.a.map(Object(y.c)(v.g.some(Object(y.e)()),v.g.none))),l=Object(i.a)(k(c),2),u=l[0],d=l[1],m=u.pipe(f.a.map((function(e,t){return function(){return["fromDed:cheetah:set(".concat(t,")"),{type:a.Type.cheetahInlineButton}]}}))),h=d.pipe(f.a.map(E(a.Type.cheetahInlineButton,"Ded"))),g=n.pipe(f.a.map(E(a.Type.cheetahInlineButton,"Ext")));return o={},Object(r.a)(o,a.Type.idle,[m]),Object(r.a)(o,a.Type.formattingLink,[]),Object(r.a)(o,a.Type.upgradeHook,[]),Object(r.a)(o,a.Type.synonymsCard,[]),Object(r.a)(o,a.Type.inlineCard,[]),Object(r.a)(o,a.Type.cheetahInlineButton,[m,h,g]),Object(r.a)(o,a.Type.vbarCard,[]),o},e.forVbarCard=function(e){var t,n=Object(i.a)(k(e),2),o=n[0],s=n[1],c=o.pipe(f.a.map((function(e,t){return function(){return["fromDed:activeVbar:set(".concat(t,")"),{type:a.Type.vbarCard,vbar:v.g.some(e)}]}}))),l=s.pipe(f.a.map(E(a.Type.vbarCard,"Ded")));return t={},Object(r.a)(t,a.Type.idle,[c]),Object(r.a)(t,a.Type.formattingLink,[]),Object(r.a)(t,a.Type.upgradeHook,[]),Object(r.a)(t,a.Type.synonymsCard,[]),Object(r.a)(t,a.Type.inlineCard,[]),Object(r.a)(t,a.Type.cheetahInlineButton,[]),Object(r.a)(t,a.Type.vbarCard,[c,l]),t}}(e.Scheme||(e.Scheme={}))}(a||(a={}));var E=function(e,t){return function(n,r){return function(n){return n.type===e?["from".concat(t,":").concat(e,":reset(").concat(r,")"),a.idle]:["from".concat(t,":").concat(e,":skipReset(").concat(r,")"),n]}}}},L6Sa:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("0kuo");!function(e){let t;!function(e){e.initial="initial",e.initialBTS="initialBTS",e.history="history",e.prompts="prompts",e.review="review",e.rewrite="rewrite",e.knowledgeHub="knowledgeHub",e.references="references"}(t=e.StepName||(e.StepName={})),function(e){e.isAssistantOnboardingStep=function(t){switch(t){case e.prompts:case e.review:case e.knowledgeHub:case e.references:case e.history:return!0;case e.initial:case e.initialBTS:case e.rewrite:return!1;default:return Object(r.d)(t)}},e.isTooltipOnboardingStep=function(t){switch(t){case e.prompts:case e.review:case e.rewrite:case e.knowledgeHub:case e.references:case e.history:return!0;case e.initial:case e.initialBTS:return!1;default:return Object(r.d)(t)}}}(t=e.StepName||(e.StepName={}))}(a||(a={}))},LFoX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("U9Go"),i=n("mgiE");!function(e){var t=e.eq=Object(r.l)({alert:Object(r.c)(e=>e.id)(r.h),highlightIndex:r.h});e.getEq=()=>t,e.getHighlightRange=e=>i.a.lookup(e.highlightIndex)(e.alert.getHighlightRanges())}(a||(a={}))},Lnjj:function(e,t,n){"use strict";n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return C})),n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return k}));var a=n("mMt2"),r=n("B8yO"),i=n("tiWp"),o=n("OwvP"),s=n("NDcT"),c=n("jY3z"),l=n("fC5a"),u=n("wuWi"),d=n("sX1a"),p=n("nWMp"),m=n("mgiE"),f=n("To5e"),h=n("Gouu"),g=n("3ewz"),b=(n("B4nd"),n("jVAy")),v=function(e){var t=e.word,n=e.apply;return r.createElement(l.a.Primary,{name:"accept-synonym",className:b.item,onClick:n(t)},t)},y=function(e){var t=e.synonyms,n=e.apply;return r.createElement("div",{className:b.row},t.map((function(e,t){return r.createElement(v,{word:e,key:t,apply:n})})))},O=function(e){var t=e.result.synonymsOrGroups,n=e.apply,a=r.useContext(f.a.Context);return r.createElement(o.a.div,{className:b.wrapper},r.createElement(u.a,{className:b.title},a.synonyms.title),Object(i.pipe)(t,m.b.fold((function(e){return r.createElement(y,{key:"single",synonyms:e,apply:n})}),(function(e){return r.createElement("ol",{className:b.list},e.map((function(e,t){var a=e.meaning,i=e.words;return r.createElement(d.Typography,{key:t,styleType:d.Typography.Type.Base,nodeType:"li",className:b.group},r.createElement(u.a,{className:b.groupTitle},a),r.createElement(y,{key:"single",synonyms:i,apply:n}))})))}))))},S=p.a.style({position:"absolute",top:p.a.rem(.8),right:p.a.rem(1),margin:0}),C=function(e){var t=e.result.synonymsOrGroups,n=e.apply,l=r.useContext(s.a.Context),d=r.useContext(f.a.Context);return r.createElement(o.a.div,{className:b.wrapper},r.createElement(u.a,{className:b.title},d.synonyms.symfony.title),r.createElement(c.a.Regular,{className:S},l.beta),Object(i.pipe)(t,m.b.fold((function(e){return r.createElement(y,{key:"single",synonyms:e,apply:n})}),(function(e){return r.createElement(y,{key:"single",synonyms:e.reduce((function(e,t){var n=t.words;return Object(a.a)(e).concat(Object(a.a)(n))}),[]),apply:n})}))))},w=function(e){var t=e.synonymsInfo,n=e.apply;return h.a.isEmpty(t.synonymsState)?r.createElement(g.a,{activeWord:t.activeWord.meta.value}):r.createElement(O,{key:"synonymsCard",apply:n,result:t.synonymsState.synonyms})},k=function(e){var t=e.synonymsInfo,n=e.apply;return h.a.isEmpty(t.synonymsState)?r.createElement(g.b,{activeWord:t.activeWord.meta.value}):r.createElement(C,{key:"synonymsCard",apply:n,result:t.synonymsState.synonyms})}},LqiM:function(e,t,n){"use strict";n.d(t,"a",(function(){return fe}));var a=n("a5gI"),r=n("B8yO"),i=n("DTwm"),o=n("tiWp"),s=n("OwvP"),c=n("+vYo"),l=n("mgiE"),u=n("5aph"),d=n("itj6"),p=n("sfTT"),m=n("mp9r"),f=n("hldE");const h=({children:e,mount:t})=>r.createElement(s.a.div,{"data-role":"animation-wrapper",className:p.a.animationWrapper,mount:t},e),g=e=>Object(o.pipe)(l.g.fromNullable(e.activeAlert),l.g.fold(()=>e.id,e=>e.id));class b extends r.Component{_stateToElement(e){switch(e){case"added":case"rendered":return this.props.miniCard;case"focused":case"expanded":case"presuccess":return this.props.fullCard;case"success":return this.props.successCard;case"feedback_form":return this.props.feedbackForm;case"removed":return this.props.removedCard;case"muted":return this.props.mutedCard;default:return null}}componentWillUnmount(){const{card:e,actions:t}=this.props;t.next({type:d.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})}render(){const{actions:e,card:t,transitionClassMapper:n}=this.props;if(!t.visualState.incomplete)return r.createElement(h,{mount:this.props.mount},r.createElement(s.a.div,{key:t.visualState.transition.type},this._stateToElement(t.visualState.transition.type)));const a=n||f.c,{main:b,shade:v}=a(t.visualState),y=c.a.create(void 0===v?l.g.none:Object(o.pipe)(t.visualState.from,l.g.map(e=>({state:e,className:v}))));return!Boolean(b)&&l.g.isNone(y.get())&&requestAnimationFrame(()=>e.next({type:d.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId})),r.createElement(u.a.Context.Provider,{value:this._elementState},r.createElement(h,{mount:this.props.mount},y.view(Object(i.flow)(l.g.map(({state:n,className:a})=>r.createElement(s.a.div,{className:a,key:"shade"+n+g(t),onAnimationEnd:n=>{m.b.get(n.animationName)!==a&&p.b.get(n.animationName)!==a||(e.next({type:d.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),requestAnimationFrame(()=>y.set(l.g.none)))}},this._stateToElement(n))),l.g.toUndefined)),r.createElement(s.a.div,{className:b,key:"expanded"===t.visualState.transition.type?"focused":t.visualState.transition.type,onAnimationEnd:()=>e.next({type:d.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),onTransitionEnd:()=>{"presuccess"===t.visualState.transition.type&&e.next({type:d.a.Kind.startTransitionTo,id:t.id,transition:{type:"success",clockwise:t.visualState.transition.clockwise}})}},this._stateToElement(t.visualState.transition.type))))}constructor(...e){super(...e),Object(a.a)(this,"_elementState",u.a.emptyWithName("card"))}}var v=n("8O/t"),y=n("4GyQ"),O=n("2swC"),S=n("ySi0"),C=n("wuWi"),w=n("nWMp"),k=n("PltQ"),E=n("NbNH");class j extends r.Component{componentDidUpdate(){var e,t;Boolean(this.props.inert)?null===(e=this._ref.current)||void 0===e||e.setAttribute("inert","true"):null===(t=this._ref.current)||void 0===t||t.removeAttribute("inert")}componentWillUnmount(){this._createCardToggler("unhover")()}render(){const{getActiveAlert:e,cardId:t,actions:n,children:a,counter:i,className:o,hideActivateButton:c,hideDot:l}=this.props;return r.createElement(s.a.div,Object(v.a)({"data-aid":t,mount:e=>this._ref.current=e,onClick:t=>{const a=e();n.next({type:d.b.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:a},clickPoint:{x:t.clientX,y:t.clientY}})},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},Object(y.c)(o,L.wrapper,null!=l&&l?null:L.miniCard)),r.createElement(C.a,Object(y.c)(L.contentWrapper,null!=l&&l?L.contentWrapperWithoutDot:L.contentWrapperWithDot),a),r.createElement("div",{className:L.iconContainer},i&&r.createElement("div",{className:_},i),null!=c&&c?null:r.createElement("div",{className:x},r.createElement(S.d.Arrow,{className:L.activeTopIcon}),r.createElement(S.d.Arrow,{className:L.activeBottomIcon}))))}constructor(...e){super(...e),Object(a.a)(this,"_ref",r.createRef()),Object(a.a)(this,"_createCardToggler",e=>()=>this.props.actions.next({type:d.b.Type.hover,kind:e,id:this.props.cardId}))}}const _=w.a.joinClasses(["baseMiniCounterContainer",w.a.style({position:"absolute",height:w.a.percent(100),top:0,right:0,zIndex:E.i,margin:"auto 0",background:O.a.CoreNeutral0,opacity:1})]),x=w.a.joinClasses(["baseMiniActivateBtnSelector",w.a.style({position:"absolute",top:0,right:0,height:w.a.percent(100),zIndex:E.i,display:"flex",flexDirection:"column",margin:"auto 0",background:O.a.CoreNeutral0,opacity:0,justifyContent:"center"})]),A={position:"relative",display:"flex",overflow:"hidden",borderRadius:w.a.rem(E.t),background:O.a.CoreNeutral0,boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",cursor:"pointer",alignItems:"center",$nest:{"&:hover":{background:O.a.CoreNeutral0,boxShadow:"0 1px 12px 0 rgba(129, 137, 169, .2)",transitionDuration:w.a.seconds(.2)},"&:hover .baseMiniActivateBtnSelector":{opacity:1},"&:hover .baseMiniCounterContainer":{opacity:0}}},I={overflow:"hidden",color:k.j,textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:w.a.rem(1.5)},T={margin:`0 ${w.a.rem(3)} 0 ${w.a.rem(2)}`},M={paddingLeft:w.a.rem(.5)},P={position:"absolute",top:0,right:w.a.rem(.5),bottom:0,display:"flex"},N={display:"flex",margin:`${w.a.rem(.1)} 0 ${w.a.rem(-1.25)}`,transform:"rotate(180deg)"},D={$nest:{"&:before":{position:"absolute",width:w.a.px(10),height:w.a.px(10),borderRadius:w.a.percent(50),content:"''",transform:"scale(.5)"}}},B={$nest:{"&:before":{margin:"auto 0 auto "+w.a.rem(.75)}}},L=w.a.stylesheet({wrapper:[A],contentWrapper:[I],contentWrapperWithDot:[T],contentWrapperWithoutDot:[M],iconContainer:[P],activeTopIcon:[N],activeBottomIcon:[{display:"flex",height:"auto"}],dotBase:[D],miniCard:[D,B]});var F=n("PKYJ");class R extends r.Component{componentDidUpdate(){var e,t;Boolean(this.props.inert)?null===(e=this._ref.current)||void 0===e||e.setAttribute("inert","true"):null===(t=this._ref.current)||void 0===t||t.removeAttribute("inert")}componentWillUnmount(){this._createCardToggler("unhover")()}render(){const{getActiveAlert:e,cardId:t,actions:n,children:a,counter:i,className:o,hideActivateButton:c,hideDot:l,sduiStyle:u}=this.props;return r.createElement(s.a.div,Object(v.a)({"data-aid":t,tabIndex:0,role:"button","aria-disabled":!1,mount:e=>this._ref.current=e,onClick:t=>{const a=e();n.next({type:d.b.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:a},clickPoint:{x:t.clientX,y:t.clientY}})},onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.target.click(),e.preventDefault())},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},Object(y.c)(o,null!=u&&u?X.sduiWrapper:X.wrapper,null!=l&&l?null:X.miniCard)),r.createElement(C.a,Object(y.c)(X.contentWrapper,null!=l&&l?X.contentWrapperWithoutDot:X.contentWrapperWithDot),a),r.createElement("div",{className:X.iconContainer},i&&r.createElement("div",{className:H},i),null!=c&&c?null:r.createElement("div",{className:V},r.createElement(S.d.Arrow,{className:X.activeTopIcon}),r.createElement(S.d.Arrow,{className:X.activeBottomIcon}))))}constructor(...e){super(...e),Object(a.a)(this,"_ref",r.createRef()),Object(a.a)(this,"_createCardToggler",e=>()=>this.props.actions.next({type:d.b.Type.hover,kind:e,id:this.props.cardId}))}}const H=w.a.joinClasses(["baseMiniCounterContainer",w.a.style({position:"absolute",height:w.a.percent(100),top:0,right:0,zIndex:E.i,margin:"auto 0",background:O.a.CoreNeutral0,opacity:1})]),V=w.a.joinClasses(["baseMiniActivateBtnSelector",w.a.style({position:"absolute",top:0,right:0,height:w.a.percent(100),zIndex:E.i,display:"flex",flexDirection:"column",margin:"auto 0",opacity:0,justifyContent:"center"})]),U={position:"relative",display:"flex",overflow:"hidden",borderRadius:w.a.rem(w.d.radius2),background:O.a.CoreNeutral0,boxShadow:F.a.z100,cursor:"pointer",alignItems:"center",$nest:{"&:hover":{background:O.a.CoreNeutral10,transitionDuration:w.a.seconds(.2)},"&:focus":{background:O.a.CoreNeutral10,boxShadow:F.a.z100+", 0 0 0 2px rgb(99 142 235)",outline:"none"},"&:hover .baseMiniActivateBtnSelector":{opacity:1},"&:hover .baseMiniCounterContainer":{opacity:0}}},W={boxShadow:F.b.llamaShadowToken},z={overflow:"hidden",color:k.j,textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:w.a.rem(1.5)},G={margin:`0 ${w.a.rem(3)} 0 ${w.a.rem(2)}`},q={paddingLeft:w.a.rem(.5)},K={position:"absolute",top:0,right:w.a.rem(.5),bottom:0,display:"flex"},$={display:"flex",margin:`${w.a.rem(.1)} 0 ${w.a.rem(-1.25)}`,transform:"rotate(180deg)"},Z={$nest:{"&:before":{position:"absolute",width:w.a.px(10),height:w.a.px(10),borderRadius:w.a.percent(50),content:"''",transform:"scale(.5)"}}},Y={$nest:{"&:before":{margin:"auto 0 auto "+w.a.rem(.75)}}},X=w.a.stylesheet({wrapper:[U],sduiWrapper:[U,W],contentWrapper:[z],contentWrapperWithDot:[G],contentWrapperWithoutDot:[q],iconContainer:[K],activeTopIcon:[$],activeBottomIcon:[{display:"flex",height:"auto"}],dotBase:[Z],miniCard:[Z,Y]});var Q,J=n("X76w"),ee=n("TKPA"),te=n("NDcT"),ne=n("fC5a"),ae=n("xk6L"),re=n("7Cqk");!function(e){e[e.stage0=0]="stage0",e[e.stage1=1]="stage1",e[e.stage2=2]="stage2"}(Q||(Q={}));const ie=({actions:e,isLastCard:t})=>{const n=r.useContext(te.a.Context).successLens.fixedText.titles,a=c.a.create(Q.stage0),i=()=>e.next({type:d.b.Type.switchToNext});return r.createElement(s.a.div,{className:me.successWrapper},r.createElement(C.i,{className:me.successText,onAnimationEnd:()=>{a.set(Q.stage1)}},n[Object(ee.q)(n.length)]),r.createElement(s.a.span,null,a.view(e=>e>=Q.stage1&&r.createElement("span",{onAnimationEnd:()=>a.set(Q.stage2)},r.createElement(S.d.CheckmarkAnimated,{className:me.successCheckMark})))),r.createElement(s.a.span,{className:me.successBtnHolder},t.pipe(ae.a.combineLatest(a,(e,t)=>t<Q.stage2?null:e?r.createElement(ne.a.Caps,{className:me.doneBtn,name:"done",key:"done-btn",onClick:i},"Done"):r.createElement(ne.a.Caps,{className:me.successBtn,name:"next",key:"next-card",onClick:i},"Next")))))},oe=w.a.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),se={fontWeight:"bold",lineHeight:w.a.rem(2),animation:`${oe} ${w.a.seconds(.2)} linear forwards`},ce={position:"relative",borderRadius:w.a.rem(E.s),background:O.a.CoreNeutral0,boxShadow:`0 ${w.a.rem(.625)} ${w.a.rem(E.a)} 0 rgba(198, 203, 222, .45)`},le={display:"flex",padding:`${w.a.rem(1.5)} ${w.a.rem(2)}`,alignItems:"center"},ue={marginLeft:w.a.rem(1),minWidth:0,minHeight:0,width:w.a.rem(1.325),height:w.a.rem(1.325),animation:`${oe} ${w.a.seconds(.2)} linear forwards`},de={float:"right",width:w.a.rem(4),textAlign:"center",animation:`${oe} ${w.a.seconds(.2)} linear forwards`},pe={backgroundColor:O.a.CoreGreen50,color:O.a.CoreNeutral0,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:k.a}}},me=Object(J.a)(Object(v.a)({},w.a.stylesheet({successText:[se],successCheckMark:[ue],successBtnHolder:[{marginLeft:"auto",fontWeight:"bold"}],successBtn:[de],doneBtn:[de,pe]})),{fullCard:w.a.joinClasses([re.b.fullCardSelector,w.a.style(ce)]),successWrapper:w.a.joinClasses([re.b.successWrapperSelector,w.a.style(ce,le)])});var fe,he;(he=fe||(fe={})).Mini=j,he.MiniContrast=R,he.Card=b,he.Success=ie},LqyO:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("Wy1Y"),r=n("a5gI"),i=n("+vYo"),o=n("xk6L"),s=n("yIk2"),c=function e(t){Object(a.a)(this,e),Object(r.a)(this,"sessionUuid",i.a.create("")),t.pipe(o.a.filter((function(e){return"start"===e.action})),o.a.map((function(e){return e.sessionUuid})),o.a.take(1)).subscribe(s.b.toAtom(this.sessionUuid))}},Lsxp:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n("a5gI"),r=n("8O/t"),i=n("nWMp"),o=n("2swC"),s=n("3n8C"),c=i.a.seconds(.2),l=function(e){return{$nest:Object(a.a)({},s.a.compactSidebar,e)}},u={padding:"".concat(i.a.rem(.5)," 0"),width:i.a.rem(9),whiteSpace:"normal",lineHeight:i.a.rem(1)},d={position:"relative",display:"block",borderRadius:i.a.rem(i.d.radius2),fontWeight:500,lineHeight:i.a.rem(1.5),transition:"background-color ".concat(c),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:o.a.CoreNeutral10},"&[data-active='true']":{backgroundColor:o.a.CoreNeutral10}}},p=Object(r.a)({margin:i.a.rem(.5),padding:"".concat(i.a.rem(o.g.ButtonOutcomeY)," ").concat(i.a.rem(o.g.ButtonOutcomeX))},l({display:"flex",alignItems:"center",$nest:{"& div":{top:"auto"}}})),m={boxSizing:"border-box",margin:"".concat(i.a.rem(.25)," ").concat(i.a.rem(1)),padding:i.a.rem(.75),borderRadius:i.a.rem(i.d.radius2),$nest:Object(a.a)({"&[data-active='true']":{backgroundColor:o.a.CoreBlue1,border:"1px solid ".concat(o.a.CoreBlue50),color:o.a.CoreBlue60,fontWeight:600}},s.a.xs,{paddingTop:i.a.rem(.5),paddingBottom:i.a.rem(.5)})},f=Object(r.a)({display:"block",color:o.h.SmallLightColor,whiteSpace:"normal",letterSpacing:i.a.rem(o.h.SmallLightLetterSpacing),fontWeight:o.h.SmallLightWeight},l(s.e)),h={overflow:"hidden",marginBottom:i.a.rem(-.25),width:i.a.percent(400),borderRadius:i.a.rem(.375),transition:"background-color ".concat(c),transform:"scale(.25)",transformOrigin:"left"},g={marginLeft:i.a.percent(-100),width:i.a.percent(100),height:i.a.rem(.75),transition:"transform .5s, background-color ".concat(c)},b={stroke:"none",fill:o.a.CoreNeutral40},v={position:"absolute",top:i.a.rem(.25),width:i.a.rem(1),height:i.a.rem(1),stroke:"none",$nest:{"&:not([data-disabled='true'])[data-active='true']":b,"&:not([data-disabled='true'])[data-hovered='true']":b,"&[data-disabled='true']":b}},y={position:"absolute",top:i.a.rem(.25),right:i.a.rem(.5),padding:i.a.rem(.5),width:i.a.rem(2),height:i.a.rem(2),objectFit:"contain"},O={right:i.a.rem(.5)},S={position:"absolute",top:i.a.rem(.25),right:i.a.rem(.5),padding:i.a.rem(.5),width:i.a.rem(2),height:i.a.rem(2),objectFit:"contain"},C={right:i.a.rem(.25),opacity:0,transition:"opacity ".concat(c),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{opacity:1}}},w=Object(a.a)({},s.a.xs,{paddingTop:i.a.rem(.25),paddingBottom:i.a.rem(.25)}),k=i.a.prefixedStylesheet("navigation",{tooltip:[u],outcomeBtn:[d,p],outcomeBtnBorders:[m],outcomeStatus:[f],progressBarBg:[h],progressBar:[g],icon:[v],voxLogo:[y],checkmarkIcon:[v,O],voxIconLeft:[S],infoIcon:[v,C],counterContent:[],inactive:[]}),E=function(e,t){var n,r;return{$nest:(r={},Object(a.a)(r,"& .".concat(k.checkmarkIcon),{fill:e,$nest:{"&:not([data-disabled='true'])[data-active='true']":{fill:e},"&:not([data-disabled='true'])[data-hovered='true']":{fill:e}}}),Object(a.a)(r,"& .".concat(k.progressBarBg),{backgroundColor:t}),Object(a.a)(r,"& .".concat(k.progressBar),{backgroundColor:e}),Object(a.a)(r,"&:not([data-disabled='true'])[data-active='true']",{$nest:Object(a.a)({},"& .".concat(k.progressBarBg),{backgroundColor:o.a.CoreNeutral0})}),Object(a.a)(r,"&:not([data-disabled='true'])[data-hovered='true']",{$nest:Object(a.a)({},"& .".concat(k.progressBarBg),{backgroundColor:o.a.CoreNeutral0})}),Object(a.a)(r,"&.".concat(k.inactive),{$nest:(n={},Object(a.a)(n,"& .".concat(k.checkmarkIcon),{fill:t}),Object(a.a)(n,"& .".concat(k.progressBarBg),{backgroundColor:o.a.CoreNeutral0}),Object(a.a)(n,"& .".concat(k.progressBar),{backgroundColor:t}),Object(a.a)(n,"&:not([data-disabled='true'])[data-active='true']",{$nest:Object(a.a)({},"& .".concat(k.progressBar),{backgroundColor:e})}),Object(a.a)(n,"&:not([data-disabled='true'])[data-hovered='true']",{$nest:Object(a.a)({},"& .".concat(k.progressBar),{backgroundColor:e})}),n)}),r)}},j={position:"absolute",top:i.a.rem(.5),right:i.a.rem(.5),left:"auto",fill:o.a.CoreYellow20,$nest:Object(a.a)({},"& .".concat(k.counterContent),{fill:o.a.CoreYellow80})},_=Object(r.a)({},i.a.prefixedStylesheet("navigation",{correctness:[d,E(o.a.CoreRed50,o.a.CoreRed10)],clarity:[d,E(o.a.CoreBlue50,o.a.CoreBlue10)],engagement:[d,E(o.a.CoreGreen50,o.a.CoreGreen10)],delivery:[d,E(o.a.CorePurple50,o.a.CorePurple10)],vox:[d,E(o.a.CoreNeutral50,o.a.CoreNeutral10)],knowledgeHub:[d,E(o.a.CoreNeutral50,o.a.CoreNeutral10)],plagiarism:[d,E(o.a.CoreCyan50,o.a.CoreCyan10)],counterWrapper:[j],premium:[w]}),k)},LvjW:function(e){e.exports=JSON.parse('{"wrapper":"_4e776e00-search_bar-wrapper","view":"_0b54df74-search_bar-view","searchInputWrapper":"_b64bef22-search_bar-searchInputWrapper","searchInput":"_3d4f0e89-search_bar-searchInput","searchIcon":"_8b70d1e9-search_bar-searchIcon","counter":"_7b81c65e-search_bar-counter","closeButton":"_83b88492-search_bar-closeButton","roundButton":"_6fdeb332-search_bar-roundButton","lessIcon":"_8bcca6bd-search_bar-lessIcon","lessIconUp":"_f2f84543-search_bar-lessIconUp _8bcca6bd-search_bar-lessIcon","overlayContentBase":"_90ddf0bf-search_bar-overlayContentBase","overlayContent":"_4e77fff3-search_bar-overlayContent _90ddf0bf-search_bar-overlayContentBase","overlayContentFaded":"_7c4ff6ad-search_bar-overlayContentFaded _90ddf0bf-search_bar-overlayContentBase"}')},"M+v9":function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return j}));var a=n("B8yO"),r=n.n(a),i=n("K5qu");class o{getStringForLocale(e,t){let n=this.strings[t];n||(n=function(e,t,n="en-US"){if(t[e])return t[e];let a=function(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}(e);if(t[a])return t[a];for(let e in t)if(e.startsWith(a+"-"))return t[e];return t[n]}(t,this.strings,this.defaultLocale),this.strings[t]=n);let a=n[e];if(!a)throw new Error(`Could not find intl message ${e} in ${t} locale`);return a}constructor(e,t="en-US"){this.strings={...e},this.defaultLocale=t}}const s=new Map,c=new Map;class l{format(e,t){let n=this.strings.getStringForLocale(e,this.locale);return"function"==typeof n?n(t,this):n}plural(e,t,n="cardinal"){let a=t["="+e];if(a)return"function"==typeof a?a():a;let r=this.locale+":"+n,i=s.get(r);return i||(i=new Intl.PluralRules(this.locale,{type:n}),s.set(r,i)),a=t[i.select(e)]||t.other,"function"==typeof a?a():a}number(e){let t=c.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),c.set(this.locale,t)),t.format(e)}select(e,t){let n=e[t]||e.other;return"function"==typeof n?n():n}constructor(e,t){this.locale=e,this.strings=t}}n("f9tp");new Map;new Map;const u=["hours","minutes","seconds"];new Map;n("zCOz");new Map;let d=!1;try{d="exceptZero"===new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay}catch(e){}let p=!1;try{p="unit"===new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style}catch(e){}new RegExp("^.*\\(.*\\).*$");new Map;new Set(["decimal","fraction","integer","minusSign","plusSign","group"]);const m=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),f=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function h(e){if(Intl.Locale){let t=new Intl.Locale(e).maximize().script;return m.has(t)}let t=e.split("-")[0];return f.has(t)}function g(){let e="undefined"!=typeof navigator&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch(t){e="en-US"}return{locale:e,direction:h(e)?"rtl":"ltr"}}let b=g(),v=new Set;function y(){b=g();for(let e of v)e(b)}function O(){let e=(0,i.a)(),[t,n]=(0,a.useState)(b);return(0,a.useEffect)(()=>(0===v.size&&window.addEventListener("languagechange",y),v.add(n),()=>{v.delete(n),0===v.size&&window.removeEventListener("languagechange",y)}),[]),e?{locale:"en-US",direction:"ltr"}:t}const S=r.a.createContext(null);function C(){let e=O();return(0,a.useContext)(S)||e}const w=new WeakMap;function k(e){let{locale:t}=C(),n=(0,a.useMemo)(()=>function(e){let t=w.get(e);return t||(t=new o(e),w.set(e,t)),t}(e),[e]);return(0,a.useMemo)(()=>new l(t,n),[t,n])}let E=new Map;function j(e){let{locale:t}=C(),n=t+(e?Object.entries(e).sort((e,t)=>e[0]<t[0]?-1:1).join():"");if(E.has(n))return E.get(n);let a=new Intl.Collator(t,e);return E.set(n,a),a}},M0hr:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("B8yO"),r=n("ySi0"),i=n("nWMp"),o=n("2zNz"),s=n("CzGE"),c=n("mPu6"),l=n("ty2y");const u="closeBtn",d="closeIcon",p=Object(s.a)({$nest:{["& ."+d]:Object.assign(Object.assign({},Object(s.c)(1.5)),{stroke:i.a.important(o.D.SemanticColor.Color.Text.Base.Inverse)})}},u),m={closeButton:i.a.joinClasses([u,i.a.style(p)]),closeIcon:d},f=({name:e,style:t,onClick:n})=>{const i=a.useContext(c.a).view("flatUI");return a.createElement(l.a,{variant:"tertiary",style:i.view(e=>[e?void 0:b,t]),onClick:n,compact:!0,size:"small",theme:"dark",name:e},a.createElement(r.d.Close,{className:m.closeIcon}))},h={stroke:i.a.important(o.D.SemanticColor.Color.Text.Base.Inverse),fill:i.a.important(o.D.SemanticColor.Color.Text.Base.Inverse)},g={backgroundColor:i.a.color(o.D.Color.BlueGray0).toRGBA().fade(.2).toString(),borderColor:"transparent",$nest:{"& > i":h}},b={icon:Object.assign(Object.assign({},Object(s.c)(1.5)),h),hovered:g,active:g}},M5RY:function(e,t,n){(function(t){
/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
var n;"undefined"!=typeof self&&self,n=function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(17),r=n(18),i=n(19),o=n(45),s=n(46),c=n(47),l=n(48),u=n(49),d=n(12),p=n(32),m=n(33),f=n(31),h=n(1),g={Scope:h.Scope,create:h.create,find:h.find,query:h.query,register:h.register,Container:a.default,Format:r.default,Leaf:i.default,Embed:l.default,Scroll:o.default,Block:c.default,Inline:s.default,Text:u.default,Attributor:{Attribute:d.default,Class:p.default,Style:m.default,Store:f.default}};t.default=g},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return r(t,e),t}(Error);t.ParchmentError=i;var o,s={},c={},l={},u={};function d(e,t){var n;if(void 0===t&&(t=o.ANY),"string"==typeof e)n=u[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=u.text;else if("number"==typeof e)e&o.LEVEL&o.BLOCK?n=u.block:e&o.LEVEL&o.INLINE&&(n=u.inline);else if(e instanceof HTMLElement){var a=(e.getAttribute("class")||"").split(/\s+/);for(var r in a)if(n=c[a[r]])break;n=n||l[e.tagName]}return null==n?null:t&o.LEVEL&n.scope&&t&o.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(o=t.Scope||(t.Scope={})),t.create=function(e,t){var n=d(e);if(null==n)throw new i("Unable to create "+e+" blot");var a=n,r=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:a.create(t);return new a(r,t)},t.find=function e(n,a){return void 0===a&&(a=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:a?e(n.parentNode,a):null},t.query=d,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map((function(t){return e(t)}));var a=t[0];if("string"!=typeof a.blotName&&"string"!=typeof a.attrName)throw new i("Invalid definition");if("abstract"===a.blotName)throw new i("Cannot register abstract class");if(u[a.blotName||a.attrName]=a,"string"==typeof a.keyName)s[a.keyName]=a;else if(null!=a.className&&(c[a.className]=a),null!=a.tagName){Array.isArray(a.tagName)?a.tagName=a.tagName.map((function(e){return e.toUpperCase()})):a.tagName=a.tagName.toUpperCase();var r=Array.isArray(a.tagName)?a.tagName:[a.tagName];r.forEach((function(e){null!=l[e]&&null!=a.className||(l[e]=a)}))}return a}},function(e,t,n){var a=n(51),r=n(11),i=n(3),o=n(20),s=String.fromCharCode(0),c=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};c.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},c.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},c.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},c.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(r(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},c.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},c.prototype.filter=function(e){return this.ops.filter(e)},c.prototype.forEach=function(e){this.ops.forEach(e)},c.prototype.map=function(e){return this.ops.map(e)},c.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(a){(e(a)?t:n).push(a)})),[t,n]},c.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},c.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+o.length(t):t.delete?e-t.delete:e}),0)},c.prototype.length=function(){return this.reduce((function(e,t){return e+o.length(t)}),0)},c.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],a=o.iterator(this.ops),r=0;r<t&&a.hasNext();){var i;r<e?i=a.next(e-r):(i=a.next(t-r),n.push(i)),r+=o.length(i)}return new c(n)},c.prototype.compose=function(e){var t=o.iterator(this.ops),n=o.iterator(e.ops),a=[],i=n.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var s=i.retain;"insert"===t.peekType()&&t.peekLength()<=s;)s-=t.peekLength(),a.push(t.next());i.retain-s>0&&n.next(i.retain-s)}for(var l=new c(a);t.hasNext()||n.hasNext();)if("insert"===n.peekType())l.push(n.next());else if("delete"===t.peekType())l.push(t.next());else{var u=Math.min(t.peekLength(),n.peekLength()),d=t.next(u),p=n.next(u);if("number"==typeof p.retain){var m={};"number"==typeof d.retain?m.retain=u:m.insert=d.insert;var f=o.attributes.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(f&&(m.attributes=f),l.push(m),!n.hasNext()&&r(l.ops[l.ops.length-1],m)){var h=new c(t.rest());return l.concat(h).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&l.push(p)}return l.chop()},c.prototype.concat=function(e){var t=new c(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},c.prototype.diff=function(e,t){if(this.ops===e.ops)return new c;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),i=new c,l=a(n[0],n[1],t),u=o.iterator(this.ops),d=o.iterator(e.ops);return l.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case a.INSERT:n=Math.min(d.peekLength(),t),i.push(d.next(n));break;case a.DELETE:n=Math.min(t,u.peekLength()),u.next(n),i.delete(n);break;case a.EQUAL:n=Math.min(u.peekLength(),d.peekLength(),t);var s=u.next(n),c=d.next(n);r(s.insert,c.insert)?i.retain(n,o.attributes.diff(s.attributes,c.attributes)):i.push(c).delete(n)}t-=n}})),i.chop()},c.prototype.eachLine=function(e,t){t=t||"\n";for(var n=o.iterator(this.ops),a=new c,r=0;n.hasNext();){if("insert"!==n.peekType())return;var i=n.peek(),s=o.length(i)-n.peekLength(),l="string"==typeof i.insert?i.insert.indexOf(t,s)-s:-1;if(l<0)a.push(n.next());else if(l>0)a.push(n.next(l));else{if(!1===e(a,n.next(1).attributes||{},r))return;r+=1,a=new c}}a.length()>0&&e(a,{},r)},c.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=o.iterator(this.ops),a=o.iterator(e.ops),r=new c;n.hasNext()||a.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===a.peekType())if("insert"===a.peekType())r.push(a.next());else{var i=Math.min(n.peekLength(),a.peekLength()),s=n.next(i),l=a.next(i);if(s.delete)continue;l.delete?r.push(l):r.retain(i,o.attributes.transform(s.attributes,l.attributes,t))}else r.retain(o.length(n.next()));return r.chop()},c.prototype.transformPosition=function(e,t){t=!!t;for(var n=o.iterator(this.ops),a=0;n.hasNext()&&a<=e;){var r=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(a<e||!t)&&(e+=r),a+=r):e-=Math.min(r,e-a)}return e},e.exports=c},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,a=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===a.call(e)},s=function(e){if(!e||"[object Object]"!==a.call(e))return!1;var t,r=n.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!i)return!1;for(t in e);return void 0===t||n.call(e,t)},c=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(i)return i(e,t).value}return e[t]};e.exports=function e(){var t,n,a,r,i,u,d=arguments[0],p=1,m=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<m;++p)if(null!=(t=arguments[p]))for(n in t)a=l(d,n),d!==(r=l(t,n))&&(f&&r&&(s(r)||(i=o(r)))?(i?(i=!1,u=a&&o(a)?a:[]):u=a&&s(a)?a:{},c(d,{name:n,newValue:e(f,u,r)})):void 0!==r&&c(d,{name:n,newValue:r}));return d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},i=d(n(3)),o=d(n(2)),s=d(n(0)),c=d(n(16)),l=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),a(t,[{key:"attach",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new o.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,a){this.format(n,a)}},{key:"insertAt",value:function(e,n,a){if("string"==typeof n&&n.endsWith("\n")){var i=s.default.create(g.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,n.slice(0,-1))}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,a)}}]),t}(s.default.Embed);h.scope=s.default.Scope.BLOCK_BLOT;var g=function(e){function t(e){p(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return f(t,e),a(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),b(t))}),new o.default).insert("\n",b(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,a,i){n<=0||(s.default.query(a,s.default.Scope.BLOCK)?e+n===this.length()&&this.format(a,i):r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),a,i),this.cache={})}},{key:"insertAt",value:function(e,n,a){if(null!=a)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,a);if(0!==n.length){var i=n.split("\n"),o=i.shift();o.length>0&&(e<this.length()-1||null==this.children.tail?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var s=this;i.reduce((function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length}),e+o.length)}}},{key:"insertBefore",value:function(e,n){var a=this.children.head;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),a instanceof c.default&&a.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var a=this.clone();return 0===e?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}var i=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},i}}]),t}(s.default.Block);function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,i.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:b(e.parent,t))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[l.default,s.default.Embed,u.default],t.bubbleFormats=b,t.BlockEmbed=h,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(50);var o=g(n(2)),s=g(n(14)),c=g(n(8)),l=g(n(9)),u=g(n(0)),d=n(15),p=g(d),m=g(n(3)),f=g(n(10)),h=g(n(34));function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var y=(0,f.default)("quill"),O=function(){function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(this,e),this.options=S(t,a),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new c.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(c.default.events.EDITOR_CHANGE,(function(e){e===c.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(c.default.events.SCROLL_UPDATE,(function(e,t){var a=n.selection.lastRange,r=a&&0===a.length?a.index:void 0;C.call(n,(function(){return n.editor.update(null,t,r)}),e)}));var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),f.default.level(e)}},{key:"find",value:function(e){return e.__quill||u.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var r=e.attrName||e.blotName;"string"==typeof r?this.register("formats/"+r,e,t):Object.keys(e).forEach((function(a){n.register(a,e[a],t)}))}else null==this.imports[e]||a||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?u.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),i(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var a=this,i=w(e,t,n),o=r(i,4);return e=o[0],t=o[1],n=o[3],C.call(this,(function(){return a.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;return C.call(this,(function(){var a=n.getSelection(!0),r=new o.default;if(null==a)return r;if(u.default.query(e,u.default.Scope.BLOCK))r=n.editor.formatLine(a.index,a.length,b({},e,t));else{if(0===a.length)return n.selection.format(e,t),r;r=n.editor.formatText(a.index,a.length,b({},e,t))}return n.setSelection(a,c.default.sources.SILENT),r}),a)}},{key:"formatLine",value:function(e,t,n,a,i){var o,s=this,c=w(e,t,n,a,i),l=r(c,4);return e=l[0],t=l[1],o=l[2],i=l[3],C.call(this,(function(){return s.editor.formatLine(e,t,o)}),i,e,0)}},{key:"formatText",value:function(e,t,n,a,i){var o,s=this,c=w(e,t,n,a,i),l=r(c,4);return e=l[0],t=l[1],o=l[2],i=l[3],C.call(this,(function(){return s.editor.formatText(e,t,o)}),i,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var a=this.container.getBoundingClientRect();return{bottom:n.bottom-a.top,height:n.height,left:n.left-a.left,right:n.right-a.left,top:n.top-a.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=w(e,t),a=r(n,2);return e=a[0],t=a[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=w(e,t),a=r(n,2);return e=a[0],t=a[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,a){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return C.call(this,(function(){return r.editor.insertEmbed(t,n,a)}),i,t)}},{key:"insertText",value:function(e,t,n,a,i){var o,s=this,c=w(e,0,n,a,i),l=r(c,4);return e=l[0],o=l[2],i=l[3],C.call(this,(function(){return s.editor.insertText(e,t,o)}),i,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var a=this,i=w(e,t,n),o=r(i,4);return e=o[0],t=o[1],n=o[3],C.call(this,(function(){return a.editor.removeFormat(e,t)}),n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API;return C.call(this,(function(){e=new o.default(e);var n=t.getLength(),a=t.editor.deleteText(0,n),r=t.editor.applyDelta(e),i=r.ops[r.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),r.delete(1)),a.compose(r)}),n)}},{key:"setSelection",value:function(t,n,a){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var i=w(t,n,a),o=r(i,4);t=o[0],n=o[1],a=o[3],this.selection.setRange(new d.Range(t,n),a),a!==c.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API,n=(new o.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API;return C.call(this,(function(){return e=new o.default(e),t.editor.applyDelta(e,n)}),n,!0)}}]),e}();function S(e,t){if((t=(0,m.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==O.DEFAULTS.theme){if(t.theme=O.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=h.default;var n=(0,m.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var a=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=O.import("modules/"+t);return null==n?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,m.default)(!0,{},O.DEFAULTS,{modules:a},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function C(e,t,n,a){if(this.options.strict&&!this.isEnabled()&&t===c.default.sources.USER)return new o.default;var r=null==n?null:this.getSelection(),i=this.editor.delta,s=e();if(null!=r&&(!0===n&&(n=r.index),null==a?r=k(r,s,t):0!==a&&(r=k(r,n,a,t)),this.setSelection(r,c.default.sources.SILENT)),s.length()>0){var l,u,d=[c.default.events.TEXT_CHANGE,s,i,t];(l=this.emitter).emit.apply(l,[c.default.events.EDITOR_CHANGE].concat(d)),t!==c.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}return s}function w(e,t,n,r,i){var o={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=r,r=n,n=t,t=0),"object"===(void 0===n?"undefined":a(n))?(o=n,i=r):"string"==typeof n&&(null!=r?o[n]=r:i=n),[e,t,o,i=i||c.default.sources.API]}function k(e,t,n,a){if(null==e)return null;var i=void 0,s=void 0;if(t instanceof o.default){var l=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,a!==c.default.sources.USER)})),u=r(l,2);i=u[0],s=u[1]}else{var p=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&a===c.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),m=r(p,2);i=m[0],s=m[1]}return new d.Range(i,s-i)}O.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},O.events=c.default.events,O.sources=c.default.sources,O.version="1.3.7",O.imports={delta:o.default,parchment:u.default,"core/module":l.default,"core/theme":h.default},t.expandConfig=S,t.overload=w,t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},i=s(n(7)),o=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"formatAt",value:function(e,n,a,i){if(t.compare(this.statics.blotName,a)<0&&o.default.query(a,o.default.Scope.BLOT)){var s=this.isolate(e,n);i&&s.wrap(a,i)}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,a,i)}},{key:"optimize",value:function(e){if(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var a=t.order.indexOf(e),r=t.order.indexOf(n);return a>=0||r>=0?a-r:e===n?0:e<n?-1:1}}]),t}(o.default.Inline);u.allowedChildren=[u,o.default.Embed,i.default],u.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(0);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=r)&&a.__esModule?a:{default:a}).default.Text);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},i=o(n(54));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,o(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)}))}))}));var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",s.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"emit",value:function(){s.log.apply(s,arguments),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];(this.listeners[e.type]||[]).forEach((function(t){var a=t.node,r=t.handler;(e.target===a||a.contains(e.target))&&r.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(i.default);c.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},c.sources={API:"api",SILENT:"silent",USER:"user"},t.default=c},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.quill=t,this.options=n};r.DEFAULTS={},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=["error","warn","log","info"],r="warn";function i(e){if(a.indexOf(e)<=a.indexOf(r)){for(var t,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];(t=console)[e].apply(t,i)}}function o(e){return a.reduce((function(t,n){return t[n]=i.bind(console,n,e),t}),{})}i.level=o.level=function(e){r=e},t.default=o},function(e,t,n){var a=Array.prototype.slice,r=n(52),i=n(53),o=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var l,u;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=a.call(e),t=a.call(t),o(e,t,n));if(c(e)){if(!c(t))return!1;if(e.length!==t.length)return!1;for(l=0;l<e.length;l++)if(e[l]!==t[l])return!1;return!0}try{var d=r(e),p=r(t)}catch(e){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),l=d.length-1;l>=0;l--)if(d[l]!=p[l])return!1;for(l=d.length-1;l>=0;l--)if(u=d[l],!o(e[u],t[u],n))return!1;return typeof e==typeof t}(e,t,n))};function s(e){return null==e}function c(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var r=a.Scope.TYPE&a.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&a.Scope.LEVEL|r:this.scope=a.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=a.query(e,a.Scope.BLOT&(this.scope|a.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=d(n(2)),s=d(n(0)),c=d(n(4)),l=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),t}(l.default);h.blotName="code",h.tagName="CODE";var g=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,n){return t.insert(n).insert("\n",e.formats())}),new o.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var r=this.descendant(u.default,this.length()-1),o=a(r,1)[0];null!=o&&o.deleteAt(o.length()-1,1),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,a,r){if(0!==n&&null!=s.default.query(a,s.default.Scope.BLOCK)&&(a!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+n)){var o=this.newlineIndex(e,!0)+1,c=i-o+1,l=this.isolate(o,c),u=l.next;l.format(a,r),u instanceof t&&u.formatAt(0,e-o+n-c,a,r)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var r=this.descendant(u.default,e),i=a(r,2),o=i[0],s=i[1];o.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var n=this.domNode.textContent.slice(e).indexOf("\n");return n>-1?e+n:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(c.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",t.Code=h,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=b(n(2)),s=b(n(20)),c=b(n(0)),l=b(n(13)),u=b(n(24)),d=n(4),p=b(d),m=b(n(16)),f=b(n(21)),h=b(n(11)),g=b(n(3));function b(e){return e&&e.__esModule?e:{default:e}}var v=/^[ -~]*$/,y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return i(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var n=(0,f.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,f.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var a=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(a,t.attributes)}return e.push(t)}),new o.default)}(e)).reduce((function(e,o){var l=o.retain||o.delete||o.insert.length||1,u=o.attributes||{};if(null!=o.insert){if("string"==typeof o.insert){var m=o.insert;m.endsWith("\n")&&n&&(n=!1,m=m.slice(0,-1)),e>=i&&!m.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,m);var f=t.scroll.line(e),h=r(f,2),b=h[0],v=h[1],y=(0,g.default)({},(0,d.bubbleFormats)(b));if(b instanceof p.default){var O=b.descendant(c.default.Leaf,v),S=r(O,1)[0];y=(0,g.default)(y,(0,d.bubbleFormats)(S))}u=s.default.attributes.diff(y,u)||{}}else if("object"===a(o.insert)){var C=Object.keys(o.insert)[0];if(null==C)return e;t.scroll.insertAt(e,C,o.insert[C])}i+=l}return Object.keys(u).forEach((function(n){t.scroll.formatAt(e,l,n,u[n])})),e+l}),0),e.reduce((function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new o.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(a).forEach((function(r){if(null==n.scroll.whitelist||n.scroll.whitelist[r]){var i=n.scroll.lines(e,Math.max(t,1)),o=t;i.forEach((function(t){var i=t.length();if(t instanceof l.default){var s=e-t.offset(n.scroll),c=t.newlineIndex(s+o)-s+1;t.formatAt(s,c,r,a[r])}else t.format(r,a[r]);o-=i}))}})),this.scroll.optimize(),this.update((new o.default).retain(e).retain(t,(0,f.default)(a)))}},{key:"formatText",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(a).forEach((function(r){n.scroll.formatAt(e,t,r,a[r])})),this.update((new o.default).retain(e).retain(t,(0,f.default)(a)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new o.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],a=[];0===t?this.scroll.path(e).forEach((function(e){var t=r(e,1)[0];t instanceof p.default?n.push(t):t instanceof c.default.Leaf&&a.push(t)})):(n=this.scroll.lines(e,t),a=this.scroll.descendants(c.default.Leaf,e,t));var i=[n,a].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=O((0,d.bubbleFormats)(n),t)}return t}));return g.default.apply(g.default,i)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new o.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(a).forEach((function(r){n.scroll.formatAt(e,t.length,r,a[r])})),this.update((new o.default).retain(e).insert(t,(0,f.default)(a)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===p.default.blotName&&!(e.children.length>1)&&e.children.head instanceof m.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),a=this.scroll.line(e+t),i=r(a,2),s=i[0],c=i[1],u=0,d=new o.default;null!=s&&(u=s instanceof l.default?s.newlineIndex(c)-c+1:s.length()-c,d=s.delta().slice(c,c+u-1).insert("\n"));var p=this.getContents(e,t+u).diff((new o.default).insert(n).concat(d)),m=(new o.default).retain(e).concat(p);return this.applyDelta(m)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(v)&&c.default.find(t[0].target)){var r=c.default.find(t[0].target),i=(0,d.bubbleFormats)(r),s=r.offset(this.scroll),l=t[0].oldValue.replace(u.default.CONTENTS,""),p=(new o.default).insert(l),m=(new o.default).insert(r.value()),f=(new o.default).retain(s).concat(p.diff(m,n));e=f.reduce((function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)}),new o.default),this.delta=a.compose(e)}else this.delta=this.getDelta(),e&&(0,h.default)(a.compose(e),this.delta)||(e=a.diff(this.delta,n));return e}}]),e}();function O(e,t){return Object.keys(t).reduce((function(n,a){return null==e[a]||(t[a]===e[a]?n[a]=t[a]:Array.isArray(t[a])?t[a].indexOf(e[a])<0&&(n[a]=t[a].concat([e[a]])):n[a]=[t[a],e[a]]),n}),{})}t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=l(n(0)),o=l(n(21)),s=l(n(11)),c=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=(0,l(n(10)).default)("quill:selection"),m=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=n},f=function(){function e(t,n){var a=this;d(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new m(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){a.mouseDown||setTimeout(a.update.bind(a,c.default.sources.USER),1)})),this.emitter.on(c.default.events.EDITOR_CHANGE,(function(e,t){e===c.default.events.TEXT_CHANGE&&t.length()>0&&a.update(c.default.sources.SILENT)})),this.emitter.on(c.default.events.SCROLL_BEFORE_UPDATE,(function(){if(a.hasFocus()){var e=a.getNativeRange();null!=e&&e.start.node!==a.cursor.textNode&&a.emitter.once(c.default.events.SCROLL_UPDATE,(function(){try{a.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}}))}})),this.emitter.on(c.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,r=n.startNode,i=n.startOffset,o=n.endNode,s=n.endOffset;a.setNativeRange(r,i,o,s)}})),this.update(c.default.sources.SILENT)}return r(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(c.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!i.default.query(e,i.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var a=i.default.find(n.start.node,!1);if(null==a)return;if(a instanceof i.default.Leaf){var r=a.split(n.start.offset);a.parent.insertBefore(this.cursor,r)}else a.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var r=void 0,i=this.scroll.leaf(e),o=a(i,2),s=o[0],c=o[1];if(null==s)return null;var l=s.position(c,!0),u=a(l,2);r=u[0],c=u[1];var d=document.createRange();if(t>0){d.setStart(r,c);var p=this.scroll.leaf(e+t),m=a(p,2);if(s=m[0],c=m[1],null==s)return null;var f=s.position(c,!0),h=a(f,2);return r=h[0],c=h[1],d.setEnd(r,c),d.getBoundingClientRect()}var g="left",b=void 0;return r instanceof Text?(c<r.data.length?(d.setStart(r,c),d.setEnd(r,c+1)):(d.setStart(r,c-1),d.setEnd(r,c),g="right"),b=d.getBoundingClientRect()):(b=s.domNode.getBoundingClientRect(),c>0&&(g="right")),{bottom:b.top+b.height,height:b.height,left:b[g],right:b[g],top:b.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return p.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var r=n.map((function(e){var n=a(e,2),r=n[0],o=n[1],s=i.default.find(r,!0),c=s.offset(t.scroll);return 0===o?c:s instanceof i.default.Container?c+s.length():c+s.index(r,o)})),o=Math.min(Math.max.apply(Math,u(r)),this.scroll.length()-1),s=Math.min.apply(Math,[o].concat(u(r)));return new m(s,o-s)}},{key:"normalizeNative",value:function(e){if(!h(this.root,e.startContainer)||!e.collapsed&&!h(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],r=[],i=this.scroll.length();return n.forEach((function(e,n){e=Math.min(i-1,e);var o,s=t.scroll.leaf(e),c=a(s,2),l=c[0],u=c[1],d=l.position(u,0!==n),p=a(d,2);o=p[0],u=p[1],r.push(o,u)})),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var r=this.scroll.length()-1,i=this.scroll.line(Math.min(t.index,r)),o=a(i,1)[0],s=o;if(t.length>0){var c=this.scroll.line(Math.min(t.index+t.length,r));s=a(c,1)[0]}if(null!=o&&null!=s){var l=e.getBoundingClientRect();n.top<l.top?e.scrollTop-=l.top-n.top:n.bottom>l.bottom&&(e.scrollTop+=n.bottom-l.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",e,t,n,a),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var o=(this.getNativeRange()||{}).native;if(null==o||r||e!==o.startContainer||t!==o.startOffset||n!==o.endContainer||a!==o.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(a=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,a),i.removeAllRanges(),i.addRange(s)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"==typeof t&&(n=t,t=!1),p.info("setRange",e),null!=e){var a=this.rangeToNative(e);this.setNativeRange.apply(this,u(a).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.sources.USER,t=this.lastRange,n=this.getRange(),r=a(n,2),i=r[0],l=r[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var u;!this.composing&&null!=l&&l.native.collapsed&&l.start.node!==this.cursor.textNode&&this.cursor.restore();var d,p=[c.default.events.SELECTION_CHANGE,(0,o.default)(this.lastRange),(0,o.default)(t),e];(u=this.emitter).emit.apply(u,[c.default.events.EDITOR_CHANGE].concat(p)),e!==c.default.sources.SILENT&&(d=this.emitter).emit.apply(d,p)}}}]),e}();function h(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=m,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"insertInto",value:function(e,n){0===e.children.length?function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default.Embed);c.blotName="break",c.tagName="BR",t.default=c},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(44),o=n(30),s=n(1),c=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var n=l(t);e.insertBefore(n,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){var a=this.children.find(n),r=a[0],i=a[1];return null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e?[r,i]:r instanceof t?r.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,n,a){void 0===n&&(n=0),void 0===a&&(a=Number.MAX_VALUE);var r=[],i=a;return this.children.forEachAt(n,a,(function(n,a,o){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&r.push(n),n instanceof t&&(r=r.concat(n.descendants(e,a,i))),i-=o})),r},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,a){this.children.forEachAt(e,t,(function(e,t,r){e.formatAt(t,r,n,a)}))},t.prototype.insertAt=function(e,t,n){var a=this.children.find(e),r=a[0],i=a[1];if(r)r.insertAt(i,t,n);else{var o=null==n?s.create("text",t):s.create(t,n);this.appendChild(o)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var a=this.children.find(e,n),r=a[0],i=a[1],o=[[this,e]];return r instanceof t?o.concat(r.path(i,n)):(null!=r&&o.push([r,i]),o)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),(function(e,a,r){e=e.split(a,t),n.appendChild(e)})),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,a=[],r=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(a.push.apply(a,e.addedNodes),r.push.apply(r,e.removedNodes))})),r.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}})),a.filter((function(e){return e.parentNode==n.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var a=l(e);a.next==t&&null!=a.next||(null!=a.parent&&a.parent.removeChild(n),n.insertBefore(a,t||void 0))}))},t}(o.default);function l(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=c},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),o=n(31),s=n(17),c=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new o.default(n.domNode),n}return r(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=c.query(e);n instanceof i.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var a=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(a),a},t.prototype.update=function(t,n){var a=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===a.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,a){var r=e.prototype.wrap.call(this,n,a);return r instanceof t&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},t}(s.default);t.default=l},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(30),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=o.Scope.INLINE_BLOT,t}(i.default);t.default=s},function(e,t,n){var a=n(11),r=n(3),i={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var a=r(!0,{},t);for(var i in n||(a=Object.keys(a).reduce((function(e,t){return null!=a[t]&&(e[t]=a[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(a[i]=e[i]);return Object.keys(a).length>0?a:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,r){return a(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var a=Object.keys(t).reduce((function(n,a){return void 0===e[a]&&(n[a]=t[a]),n}),{});return Object.keys(a).length>0?a:void 0}}},iterator:function(e){return new o(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function o(e){this.ops=e,this.index=0,this.offset=0}o.prototype.hasNext=function(){return this.peekLength()<1/0},o.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,a=i.length(t);if(e>=a-n?(e=a-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var r={};return t.attributes&&(r.attributes=t.attributes),"number"==typeof t.retain?r.retain=e:"string"==typeof t.insert?r.insert=t.insert.substr(n,e):r.insert=t.insert,r}return{retain:1/0}},o.prototype.peek=function(){return this.ops[this.index]},o.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},o.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},o.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),a=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(a)}return[]},e.exports=i},function(e,n){var a=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,a,r;try{n=Map}catch(e){n=function(){}}try{a=Set}catch(e){a=function(){}}try{r=Promise}catch(e){r=function(){}}function i(o,c,l,u,d){"object"==typeof c&&(l=c.depth,u=c.prototype,d=c.includeNonEnumerable,c=c.circular);var p=[],m=[],f=void 0!==t;return void 0===c&&(c=!0),void 0===l&&(l=1/0),function o(l,h){if(null===l)return null;if(0===h)return l;var g,b;if("object"!=typeof l)return l;if(e(l,n))g=new n;else if(e(l,a))g=new a;else if(e(l,r))g=new r((function(e,t){l.then((function(t){e(o(t,h-1))}),(function(e){t(o(e,h-1))}))}));else if(i.__isArray(l))g=[];else if(i.__isRegExp(l))g=new RegExp(l.source,s(l)),l.lastIndex&&(g.lastIndex=l.lastIndex);else if(i.__isDate(l))g=new Date(l.getTime());else{if(f&&t.isBuffer(l))return g=t.allocUnsafe?t.allocUnsafe(l.length):new t(l.length),l.copy(g),g;e(l,Error)?g=Object.create(l):void 0===u?(b=Object.getPrototypeOf(l),g=Object.create(b)):(g=Object.create(u),b=u)}if(c){var v=p.indexOf(l);if(-1!=v)return m[v];p.push(l),m.push(g)}for(var y in e(l,n)&&l.forEach((function(e,t){var n=o(t,h-1),a=o(e,h-1);g.set(n,a)})),e(l,a)&&l.forEach((function(e){var t=o(e,h-1);g.add(t)})),l){var O;b&&(O=Object.getOwnPropertyDescriptor(b,y)),O&&null==O.set||(g[y]=o(l[y],h-1))}if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(l);for(y=0;y<S.length;y++){var C=S[y];(!(k=Object.getOwnPropertyDescriptor(l,C))||k.enumerable||d)&&(g[C]=o(l[C],h-1),k.enumerable||Object.defineProperty(g,C,{enumerable:!1}))}}if(d){var w=Object.getOwnPropertyNames(l);for(y=0;y<w.length;y++){var k,E=w[y];(k=Object.getOwnPropertyDescriptor(l,E))&&k.enumerable||(g[E]=o(l[E],h-1),Object.defineProperty(g,E,{enumerable:!1}))}}return g}(o,l)}function o(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=o,i.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},i.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},i.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},i.__getRegExpFlags=s,i}();"object"==typeof e&&e.exports&&(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=m(n(0)),s=m(n(8)),c=n(4),l=m(c),u=m(n(16)),d=m(n(13)),p=m(n(25));function m(e){return e&&e.__esModule?e:{default:e}}function f(e){return e instanceof l.default||e instanceof c.BlockEmbed}var h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.emitter=n.emitter,Array.isArray(n.whitelist)&&(a.whitelist=n.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),a.domNode.addEventListener("DOMNodeInserted",(function(){})),a.optimize(),a.enable(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var r=this.line(e),o=a(r,2),s=o[0],l=o[1],p=this.line(e+n),m=a(p,1)[0];if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=m&&s!==m&&l>0){if(s instanceof c.BlockEmbed||m instanceof c.BlockEmbed)return void this.optimize();if(s instanceof d.default){var f=s.newlineIndex(s.length(),!0);if(f>-1&&(s=s.split(f+1))===m)return void this.optimize()}else if(m instanceof d.default){var h=m.newlineIndex(0);h>-1&&m.split(h+1)}var g=m.children.head instanceof u.default?null:m.children.head;s.moveChildren(m,g),s.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,a,r){(null==this.whitelist||this.whitelist[a])&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,a,r),this.optimize())}},{key:"insertAt",value:function(e,n,a){if(null==a||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==a||null==o.default.query(n,o.default.Scope.BLOCK)){var r=o.default.create(this.statics.defaultChild);this.appendChild(r),null==a&&n.endsWith("\n")&&(n=n.slice(0,-1)),r.insertAt(0,n,a)}else{var s=o.default.create(n,a);this.appendChild(s)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,a);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===o.default.Scope.INLINE_BLOT){var a=o.default.create(this.statics.defaultChild);a.appendChild(e),e=a}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(f,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function e(t,n,a){var r=[],i=a;return t.children.forEachAt(n,a,(function(t,n,a){f(t)?r.push(t):t instanceof o.default.Container&&(r=r.concat(e(t,n,i))),i-=a})),r};return n(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=s.default.sources.USER;"string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,e)}}}]),t}(o.default.Scroll);h.blotName="scroll",h.className="ql-editor",h.tagName="DIV",h.defaultChild="block",h.allowedChildren=[l.default,c.BlockEmbed,p.default],t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=h(n(21)),s=h(n(11)),c=h(n(3)),l=h(n(2)),u=h(n(20)),d=h(n(0)),p=h(n(5)),m=h(n(10)),f=h(n(9));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,m.default)("quill:keyboard"),v=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",y=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.bindings={},Object.keys(a.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&a.options.bindings[t]&&a.addBinding(a.options.bindings[t])})),a.addBinding({key:t.keys.ENTER,shiftKey:null},k),a.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(a.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},S),a.addBinding({key:t.keys.DELETE},{collapsed:!0},C)):(a.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},S),a.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},C)),a.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},w),a.addBinding({key:t.keys.DELETE},{collapsed:!1},w),a.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},S),a.listen(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"match",value:function(e,t){return t=_(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&t.key===(e.which||e.keyCode)}}]),i(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=_(e);if(null==a||null==a.key)return b.warn("Attempted to add invalid keyboard binding",a);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),a=(0,c.default)(a,t,n),this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var i=n.which||n.keyCode,o=(e.bindings[i]||[]).filter((function(e){return t.match(n,e)}));if(0!==o.length){var c=e.quill.getSelection();if(null!=c&&e.quill.hasFocus()){var l=e.quill.getLine(c.index),u=r(l,2),p=u[0],m=u[1],f=e.quill.getLeaf(c.index),h=r(f,2),g=h[0],b=h[1],v=0===c.length?[g,b]:e.quill.getLeaf(c.index+c.length),y=r(v,2),O=y[0],S=y[1],C=g instanceof d.default.Text?g.value().slice(0,b):"",w=O instanceof d.default.Text?O.value().slice(S):"",k={collapsed:0===c.length,empty:0===c.length&&p.length()<=1,format:e.quill.getFormat(c),offset:m,prefix:C,suffix:w};o.some((function(t){if(null!=t.collapsed&&t.collapsed!==k.collapsed)return!1;if(null!=t.empty&&t.empty!==k.empty)return!1;if(null!=t.offset&&t.offset!==k.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==k.format[e]})))return!1}else if("object"===a(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=k.format[e]:!1===t.format[e]?null==k.format[e]:(0,s.default)(t.format[e],k.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(k.prefix)||null!=t.suffix&&!t.suffix.test(k.suffix)||!0===t.handler.call(e,c,k))}))&&n.preventDefault()}}}}))}}]),t}(f.default);function O(e,t){var n,a=e===y.keys.LEFT?"prefix":"suffix";return g(n={key:e,shiftKey:t,altKey:null},a,/^$/),g(n,"handler",(function(n){var a=n.index;e===y.keys.RIGHT&&(a+=n.length+1);var i=this.quill.getLeaf(a);return!(r(i,1)[0]instanceof d.default.Embed&&(e===y.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,p.default.sources.USER):this.quill.setSelection(n.index-1,p.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,p.default.sources.USER):this.quill.setSelection(n.index+n.length+1,p.default.sources.USER),1))})),n}function S(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),a=r(n,1)[0],i={};if(0===t.offset){var o=this.quill.getLine(e.index-1),s=r(o,1)[0];if(null!=s&&s.length()>1){var c=a.formats(),l=this.quill.getFormat(e.index-1,1);i=u.default.attributes.diff(c,l)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,p.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-d,d,i,p.default.sources.USER),this.quill.focus()}}function C(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var a={},i=0,o=this.quill.getLine(e.index),s=r(o,1)[0];if(t.offset>=s.length()-1){var c=this.quill.getLine(e.index+1),l=r(c,1)[0];if(l){var d=s.formats(),m=this.quill.getFormat(e.index,1);a=u.default.attributes.diff(d,m)||{},i=l.length()}}this.quill.deleteText(e.index,n,p.default.sources.USER),Object.keys(a).length>0&&this.quill.formatLine(e.index+i-1,n,a,p.default.sources.USER)}}function w(e){var t=this.quill.getLines(e),n={};if(t.length>1){var a=t[0].formats(),r=t[t.length-1].formats();n=u.default.attributes.diff(r,a)||{}}this.quill.deleteText(e,p.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,p.default.sources.USER),this.quill.setSelection(e.index,p.default.sources.SILENT),this.quill.focus()}function k(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var a=Object.keys(t.format).reduce((function(e,n){return d.default.query(n,d.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e}),{});this.quill.insertText(e.index,"\n",a,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==a[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],p.default.sources.USER))}))}function E(e){return{key:y.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=d.default.query("code-block"),a=t.index,i=t.length,o=this.quill.scroll.descendant(n,a),s=r(o,2),c=s[0],l=s[1];if(null!=c){var u=this.quill.getIndex(c),m=c.newlineIndex(l,!0)+1,f=c.newlineIndex(u+l+i),h=c.domNode.textContent.slice(m,f).split("\n");l=0,h.forEach((function(t,r){e?(c.insertAt(m+l,n.TAB),l+=n.TAB.length,0===r?a+=n.TAB.length:i+=n.TAB.length):t.startsWith(n.TAB)&&(c.deleteAt(m+l,n.TAB.length),l-=n.TAB.length,0===r?a-=n.TAB.length:i-=n.TAB.length),l+=t.length+1})),this.quill.update(p.default.sources.USER),this.quill.setSelection(a,i,p.default.sources.SILENT)}}}}function j(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],p.default.sources.USER)}}}function _(e){if("string"==typeof e||"number"==typeof e)return _({key:e});if("object"===(void 0===e?"undefined":a(e))&&(e=(0,o.default)(e,!1)),"string"==typeof e.key)if(null!=y.keys[e.key.toUpperCase()])e.key=y.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[v]=e.shortKey,delete e.shortKey),e}y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},y.DEFAULTS={bindings:{bold:j("bold"),italic:j("italic"),underline:j("underline"),indent:{key:y.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",p.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":E(!0),"outdent code-block":E(!1),"remove tab":{key:y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,p.default.sources.USER)}},tab:{key:y.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new l.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,p.default.sources.SILENT)}},"list empty enter":{key:y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,p.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=r(t,2),a=n[0],i=n[1],o=(0,c.default)({},a.formats(),{list:"checked"}),s=(new l.default).retain(e.index).insert("\n",o).retain(a.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),a=r(n,2),i=a[0],o=a[1],s=(new l.default).retain(e.index).insert("\n",t.format).retain(i.length()-o-1).retain(1,{header:null});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,a=this.quill.getLine(e.index),i=r(a,2),o=i[0],s=i[1];if(s>n)return!0;var c=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":c="unchecked";break;case"[x]":c="checked";break;case"-":case"*":c="bullet";break;default:c="ordered"}this.quill.insertText(e.index," ",p.default.sources.USER),this.quill.history.cutoff();var u=(new l.default).retain(e.index-s).delete(n+1).retain(o.length()-2-s).retain(1,{list:c});this.quill.updateContents(u,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,p.default.sources.SILENT)}},"code exit":{key:y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=r(t,2),a=n[0],i=n[1],o=(new l.default).retain(e.index+a.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(o,p.default.sources.USER)}},"embed left":O(y.keys.LEFT,!1),"embed left shift":O(y.keys.LEFT,!0),"embed right":O(y.keys.RIGHT,!1),"embed right shift":O(y.keys.RIGHT,!0)}},t.default=y,t.SHORTKEY=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=c(n(0)),s=c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.selection=n,a.textNode=document.createTextNode(t.CONTENTS),a.domNode.appendChild(a.textNode),a._length=0,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"value",value:function(){}}]),i(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var a=this,i=0;null!=a&&a.statics.scope!==o.default.Scope.BLOCK_BLOT;)i+=a.offset(a.parent),a=a.parent;null!=a&&(this._length=t.CONTENTS.length,a.optimize(),a.formatAt(i,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),r=void 0,i=void 0,c=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var l=[e,n.start.offset,n.end.offset];r=l[0],i=l[1],c=l[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var u=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof s.default?(r=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=t.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(o.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var d=[i,c].map((function(e){return Math.max(0,Math.min(r.data.length,e-1))})),p=a(d,2);return i=p[0],c=p[1],{startNode:r,startOffset:i,endNode:r,endOffset:c}}}}},{key:"update",value:function(e,t){var n=this;if(e.some((function(e){return"characterData"===e.type&&e.target===n.textNode}))){var a=this.restore();a&&(t.range=a)}}},{key:"value",value:function(){return""}}]),t}(o.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\ufeff",t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),r=n(4),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a.default.Container);l.allowedChildren=[i.default,r.BlockEmbed,l],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),o=(a=i)&&a.__esModule?a:{default:a};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){var n=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):n}}]),t}(o.default.Attributor.Style),u=new o.default.Attributor.Class("color","ql-color",{scope:o.default.Scope.INLINE}),d=new l("color","color",{scope:o.default.Scope.INLINE});t.ColorAttributor=l,t.ColorClass=u,t.ColorStyle=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return u(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((a=o)&&a.__esModule?a:{default:a}).default);function u(e,t){var n=document.createElement("a");n.href=e;var a=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(a)>-1}l.blotName="link",l.tagName="A",l.SANITIZED_URL="about:blank",l.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=l,t.sanitize=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=s(n(23)),o=s(n(107));function s(e){return e&&e.__esModule?e:{default:e}}var c=0;function l(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:n.togglePicker();break;case i.default.keys.ESCAPE:n.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return r(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),l(this.label,"aria-expanded"),l(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",(function(){t.selectItem(n,!0)})),n.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case i.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=o.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+c,c+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(n){var a=e.buildItem(n);t.appendChild(a),!0===n.selected&&e.selectItem(a)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":a(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=b(n(0)),r=b(n(5)),i=n(4),o=b(i),s=b(n(16)),c=b(n(25)),l=b(n(24)),u=b(n(35)),d=b(n(6)),p=b(n(22)),m=b(n(7)),f=b(n(55)),h=b(n(42)),g=b(n(23));function b(e){return e&&e.__esModule?e:{default:e}}r.default.register({"blots/block":o.default,"blots/block/embed":i.BlockEmbed,"blots/break":s.default,"blots/container":c.default,"blots/cursor":l.default,"blots/embed":u.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":m.default,"modules/clipboard":f.default,"modules/history":h.default,"modules/keyboard":g.default}),a.default.register(o.default,s.default,l.default,d.default,p.default,m.default),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=function(){function e(e){this.domNode=e,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new a.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return a.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,r){var i=this.isolate(e,t);if(null!=a.query(n,a.Scope.BLOT)&&r)i.wrap(n,r);else if(null!=a.query(n,a.Scope.ATTRIBUTE)){var o=a.create(this.statics.scope);i.wrap(o),o.format(n,r)}},e.prototype.insertAt=function(e,t,n){var r=null==n?a.create("text",t):a.create(t,n),i=this.split(e);this.parent.insertBefore(r,i)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[a.DATA_KEY]&&delete this.domNode[a.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?a.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?a.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),r=n(32),i=n(33),o=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=a.default.keys(this.domNode),n=r.default.keys(this.domNode),s=i.default.keys(this.domNode);t.concat(n).concat(s).forEach((function(t){var n=o.query(t,o.Scope.ATTRIBUTE);n instanceof a.default&&(e.attributes[n.attrName]=n)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var a=t.attributes[n].value(t.domNode);e.format(n,a)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}();t.default=s},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(i(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=o},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function i(e){var t=e.split("-"),n=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return a(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();r.DEFAULTS={modules:{}},r.themes={default:r},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=o(n(0)),i=o(n(7));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(e){n.contentNode.appendChild(e)})),n.leftGuard=document.createTextNode("\ufeff"),n.rightGuard=document.createTextNode("\ufeff"),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,a=e.data.split("\ufeff").join("");if(e===this.leftGuard)if(this.prev instanceof i.default){var o=this.prev.length();this.prev.insertAt(o,a),t={startNode:this.prev.domNode,startOffset:o+a.length}}else n=document.createTextNode(a),this.parent.insertBefore(r.default.create(n),this),t={startNode:n,startOffset:a.length};else e===this.rightGuard&&(this.next instanceof i.default?(this.next.insertAt(0,a),t={startNode:this.next.domNode,startOffset:a.length}):(n=document.createTextNode(a),this.parent.insertBefore(r.default.create(n),this.next),t={startNode:n,startOffset:a.length}));return e.data="\ufeff",t}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var a=n.restore(e.target);a&&(t.range=a)}}))}}]),t}(r.default.Embed);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var a,r=n(0),i=(a=r)&&a.__esModule?a:{default:a},o={scope:i.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new i.default.Attributor.Attribute("align","align",o),c=new i.default.Attributor.Class("align","ql-align",o),l=new i.default.Attributor.Style("align","text-align",o);t.AlignAttribute=s,t.AlignClass=c,t.AlignStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var a,r=n(0),i=(a=r)&&a.__esModule?a:{default:a},o=n(26),s=new i.default.Attributor.Class("background","ql-bg",{scope:i.default.Scope.INLINE}),c=new o.ColorAttributor("background","background-color",{scope:i.default.Scope.INLINE});t.BackgroundClass=s,t.BackgroundStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var a,r=n(0),i=(a=r)&&a.__esModule?a:{default:a},o={scope:i.default.Scope.BLOCK,whitelist:["rtl"]},s=new i.default.Attributor.Attribute("direction","dir",o),c=new i.default.Attributor.Class("direction","ql-direction",o),l=new i.default.Attributor.Style("direction","direction",o);t.DirectionAttribute=s,t.DirectionClass=c,t.DirectionStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),o=(a=i)&&a.__esModule?a:{default:a};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l={scope:o.default.Scope.INLINE,whitelist:["serif","monospace"]},u=new o.default.Attributor.Class("font","ql-font",l),d=new(function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){return function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(o.default.Attributor.Style))("font","font-family",l);t.FontStyle=d,t.FontClass=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var a,r=n(0),i=(a=r)&&a.__esModule?a:{default:a},o=new i.default.Attributor.Class("size","ql-size",{scope:i.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new i.default.Attributor.Style("size","font-size",{scope:i.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=o,t.SizeStyle=s},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=o(n(0)),i=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.lastRecorded=0,a.ignoreChange=!1,a.clear(),a.quill.on(i.default.events.EDITOR_CHANGE,(function(e,t,n,r){e!==i.default.events.TEXT_CHANGE||a.ignoreChange||(a.options.userOnly&&r!==i.default.sources.USER?a.transform(t):a.record(t,n))})),a.quill.keyboard.addBinding({key:"Z",shortKey:!0},a.undo.bind(a)),a.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},a.redo.bind(a)),/Win/i.test(navigator.platform)&&a.quill.keyboard.addBinding({key:"Y",shortKey:!0},a.redo.bind(a)),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],i.default.sources.USER),this.ignoreChange=!1;var a=c(n[e]);this.quill.setSelection(a)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){var r=this.stack.undo.pop();n=n.compose(r.undo),e=r.redo.compose(e)}else this.lastRecorded=a;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(o(n(9)).default);function c(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=r.default.query(e,r.default.Scope.BLOCK)})))}(e)&&(n-=1),n}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=s,t.getLastChangeIndex=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=m(n(3)),i=m(n(2)),o=m(n(8)),s=m(n(23)),c=m(n(34)),l=m(n(59)),u=m(n(60)),d=m(n(28)),p=m(n(61));function m(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=[!1,"center","right","justify"],v=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],y=[!1,"serif","monospace"],O=["1","2","3",!1],S=["small",!1,"large","huge"],C=function(e){function t(e,n){f(this,t);var a=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,(function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==a.tooltip||a.tooltip.root.contains(n.target)||document.activeElement===a.tooltip.textbox||a.quill.hasFocus()||a.tooltip.hide(),null!=a.pickers&&a.pickers.forEach((function(e){e.container.contains(n.target)||e.close()}))})),a}return g(t,e),a(t,[{key:"addModule",value:function(e){var n=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{var a=e.value||"";null!=a&&t[n][a]&&(e.innerHTML=t[n][a])}}))}))}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&k(e,b),new u.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&k(e,v,"background"===n?"#ffffff":"#000000"),new l.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?k(e,y):e.classList.contains("ql-header")?k(e,O):e.classList.contains("ql-size")&&k(e,S)),new d.default(e)})),this.quill.on(o.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(e){e.update()}))}))}}]),t}(c.default);C.DEFAULTS=(0,r.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var a=e.quill.getSelection(!0);e.quill.updateContents((new i.default).retain(a.index).delete(a.length).insert({image:n.target.result}),o.default.sources.USER),e.quill.setSelection(a.index+1,o.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var w=function(e){function t(e,n){f(this,t);var a=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.textbox=a.root.querySelector('input[type="text"]'),a.listen(),a}return g(t,e),a(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){s.default.match(t,"enter")?(e.save(),t.preventDefault()):s.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var a=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,o.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,o.default.sources.USER)),this.quill.root.scrollTop=a;break;case"video":t=(e=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/),n=t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!n)break;var r=this.quill.getSelection(!0);if(null!=r){var i=r.index+r.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),n,o.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",o.default.sources.USER),this.quill.setSelection(i+2,o.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(p.default);function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var a=document.createElement("option");t===n?a.setAttribute("selected","selected"):a.setAttribute("value",t),e.appendChild(a)}))}t.BaseTooltip=w,t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,a=this.iterator();n=a();){var r=n.length();if(e<r||t&&e===r&&(null==n.next||0!==n.next.length()))return[n,e];e-=r}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var a,r=this.find(e),i=r[0],o=e-r[1],s=this.iterator(i);(a=s())&&o<e+t;){var c=a.length();e>o?n(a,e-o,Math.min(t,o+c-e)):n(a,0,Math.min(c,e+t-o)),o+=c}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n,a=this.iterator();n=a();)t=e(t,n);return t},e}();t.default=a},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),o=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver((function(e){n.update(e)})),n.observer.observe(n.domNode,s),n.attach(),n}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,a,r){this.update(),e.prototype.formatAt.call(this,t,n,a,r)},t.prototype.insertAt=function(t,n,a){this.update(),e.prototype.insertAt.call(this,t,n,a)},t.prototype.optimize=function(t,n){var a=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var r=[].slice.call(this.observer.takeRecords());r.length>0;)t.push(r.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==a&&null!=e.domNode.parentNode&&(null==e.domNode[o.DATA_KEY].mutations&&(e.domNode[o.DATA_KEY].mutations=[]),t&&s(e.parent))},c=function(e){null!=e.domNode[o.DATA_KEY]&&null!=e.domNode[o.DATA_KEY].mutations&&(e instanceof i.default&&e.children.forEach(c),e.optimize(n))},l=t,u=0;l.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach((function(e){var t=o.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(o.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=o.find(e,!1);s(t,!1),t instanceof i.default&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(c),r=(l=[].slice.call(this.observer.takeRecords())).slice();r.length>0;)t.push(r.pop())}},t.prototype.update=function(t,n){var a=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map((function(e){var t=o.find(e.target,!0);return null==t?null:null==t.domNode[o.DATA_KEY].mutations?(t.domNode[o.DATA_KEY].mutations=[e],t):(t.domNode[o.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==a&&null!=e.domNode[o.DATA_KEY]&&e.update(e.domNode[o.DATA_KEY].mutations||[],n)})),null!=this.domNode[o.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=o.Scope.BLOCK_BLOT,t.tagName="DIV",t}(i.default);t.default=c},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,a){var r=this;n!==this.statics.blotName||a?e.prototype.format.call(this,n,a):(this.children.forEach((function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),r.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,n,a,r){null!=this.formats()[a]||o.query(a,o.Scope.ATTRIBUTE)?this.isolate(t,n).format(a,r):e.prototype.formatAt.call(this,t,n,a,r)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var a=this.formats();if(0===Object.keys(a).length)return this.unwrap();var r=this.next;r instanceof t&&r.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(a,r.formats())&&(r.moveChildren(this),r.remove())},t.blotName="inline",t.scope=o.Scope.INLINE_BLOT,t.tagName="SPAN",t}(i.default);t.default=s},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){var a=o.query(t.blotName).tagName;if(n.tagName!==a)return e.formats.call(this,n)},t.prototype.format=function(n,a){null!=o.query(n,o.Scope.BLOCK)&&(n!==this.statics.blotName||a?e.prototype.format.call(this,n,a):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,a,r){null!=o.query(a,o.Scope.BLOCK)?this.format(a,r):e.prototype.formatAt.call(this,t,n,a,r)},t.prototype.insertAt=function(t,n,a){if(null==a||null!=o.query(n,o.Scope.INLINE))e.prototype.insertAt.call(this,t,n,a);else{var r=this.split(t),i=o.create(n,a);r.parent.insertBefore(i,r)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=o.Scope.BLOCK_BLOT,t.tagName="P",t}(i.default);t.default=s},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,a,r){0===t&&n===this.length()?this.format(a,r):e.prototype.formatAt.call(this,t,n,a,r)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=i},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,a){null==a?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,a)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=o.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=o.Scope.INLINE_BLOT,t}(i.default);t.default=s},function(e,t,n){"use strict";var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:r.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var a=n.indexOf(e,t);return-1!==a&&a===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),a=n.length>>>0,r=arguments[1],i=0;i<a;i++)if(t=n[i],e.call(r,t,i,n))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){function n(e,t,o){if(e==t)return e?[[0,e]]:[];(o<0||e.length<o)&&(o=null);var c=r(e,t),l=e.substring(0,c);c=i(e=e.substring(c),t=t.substring(c));var u=e.substring(e.length-c),d=function(e,t){var o;if(!e)return[[1,t]];if(!t)return[[-1,e]];var s=e.length>t.length?e:t,c=e.length>t.length?t:e,l=s.indexOf(c);if(-1!=l)return o=[[1,s.substring(0,l)],[0,c],[1,s.substring(l+c.length)]],e.length>t.length&&(o[0][0]=o[2][0]=-1),o;if(1==c.length)return[[-1,e],[1,t]];var u=function(e,t){var n=e.length>t.length?e:t,a=e.length>t.length?t:e;if(n.length<4||2*a.length<n.length)return null;function o(e,t,n){for(var a,o,s,c,l=e.substring(n,n+Math.floor(e.length/4)),u=-1,d="";-1!=(u=t.indexOf(l,u+1));){var p=r(e.substring(n),t.substring(u)),m=i(e.substring(0,n),t.substring(0,u));d.length<m+p&&(d=t.substring(u-m,u)+t.substring(u,u+p),a=e.substring(0,n-m),o=e.substring(n+p),s=t.substring(0,u-m),c=t.substring(u+p))}return 2*d.length>=e.length?[a,o,s,c,d]:null}var s,c,l,u,d,p=o(n,a,Math.ceil(n.length/4)),m=o(n,a,Math.ceil(n.length/2));if(!p&&!m)return null;s=m?p&&p[4].length>m[4].length?p:m:p,e.length>t.length?(c=s[0],l=s[1],u=s[2],d=s[3]):(u=s[0],d=s[1],c=s[2],l=s[3]);var f=s[4];return[c,l,u,d,f]}(e,t);if(u){var d=u[0],p=u[1],m=u[2],f=u[3],h=u[4],g=n(d,m),b=n(p,f);return g.concat([[0,h]],b)}return function(e,t){for(var n=e.length,r=t.length,i=Math.ceil((n+r)/2),o=i,s=2*i,c=new Array(s),l=new Array(s),u=0;u<s;u++)c[u]=-1,l[u]=-1;c[o+1]=0,l[o+1]=0;for(var d=n-r,p=d%2!=0,m=0,f=0,h=0,g=0,b=0;b<i;b++){for(var v=-b+m;v<=b-f;v+=2){for(var y=o+v,O=(E=v==-b||v!=b&&c[y-1]<c[y+1]?c[y+1]:c[y-1]+1)-v;E<n&&O<r&&e.charAt(E)==t.charAt(O);)E++,O++;if(c[y]=E,E>n)f+=2;else if(O>r)m+=2;else if(p&&(w=o+d-v)>=0&&w<s&&-1!=l[w]){var S=n-l[w];if(E>=S)return a(e,t,E,O)}}for(var C=-b+h;C<=b-g;C+=2){for(var w=o+C,k=(S=C==-b||C!=b&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1)-C;S<n&&k<r&&e.charAt(n-S-1)==t.charAt(r-k-1);)S++,k++;if(l[w]=S,S>n)g+=2;else if(k>r)h+=2;else if(!p&&(y=o+d-C)>=0&&y<s&&-1!=c[y]){var E=c[y];if(O=o+E-y,E>=(S=n-S))return a(e,t,E,O)}}}return[[-1,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-c),t=t.substring(0,t.length-c));return l&&d.unshift([0,l]),u&&d.push([0,u]),function e(t){t.push([0,""]);for(var n,a=0,o=0,s=0,c="",l="";a<t.length;)switch(t[a][0]){case 1:s++,l+=t[a][1],a++;break;case-1:o++,c+=t[a][1],a++;break;case 0:o+s>1?(0!==o&&0!==s&&(0!==(n=r(l,c))&&(a-o-s>0&&0==t[a-o-s-1][0]?t[a-o-s-1][1]+=l.substring(0,n):(t.splice(0,0,[0,l.substring(0,n)]),a++),l=l.substring(n),c=c.substring(n)),0!==(n=i(l,c))&&(t[a][1]=l.substring(l.length-n)+t[a][1],l=l.substring(0,l.length-n),c=c.substring(0,c.length-n))),0===o?t.splice(a-s,o+s,[1,l]):0===s?t.splice(a-o,o+s,[-1,c]):t.splice(a-o-s,o+s,[-1,c],[1,l]),a=a-o-s+(o?1:0)+(s?1:0)+1):0!==a&&0==t[a-1][0]?(t[a-1][1]+=t[a][1],t.splice(a,1)):a++,s=0,o=0,c="",l=""}""===t[t.length-1][1]&&t.pop();var u=!1;for(a=1;a<t.length-1;)0==t[a-1][0]&&0==t[a+1][0]&&(t[a][1].substring(t[a][1].length-t[a-1][1].length)==t[a-1][1]?(t[a][1]=t[a-1][1]+t[a][1].substring(0,t[a][1].length-t[a-1][1].length),t[a+1][1]=t[a-1][1]+t[a+1][1],t.splice(a-1,1),u=!0):t[a][1].substring(0,t[a+1][1].length)==t[a+1][1]&&(t[a-1][1]+=t[a+1][1],t[a][1]=t[a][1].substring(t[a+1][1].length)+t[a+1][1],t.splice(a+1,1),u=!0)),a++;u&&e(t)}(d),null!=o&&(d=function(e,t){var n=function(e,t){if(0===t)return[0,e];for(var n=0,a=0;a<e.length;a++){var r=e[a];if(-1===r[0]||0===r[0]){var i=n+r[1].length;if(t===i)return[a+1,e];if(t<i){e=e.slice();var o=t-n,s=[r[0],r[1].slice(0,o)],c=[r[0],r[1].slice(o)];return e.splice(a,1,s,c),[a+1,e]}n=i}}throw new Error("cursor_pos is out of bounds!")}(e,t),a=n[1],r=n[0],i=a[r],o=a[r+1];if(null==i)return e;if(0!==i[0])return e;if(null!=o&&i[1]+o[1]===o[1]+i[1])return a.splice(r,2,o,i),s(a,r,2);if(null!=o&&0===o[1].indexOf(i[1])){a.splice(r,2,[o[0],i[1]],[0,i[1]]);var c=o[1].slice(i[1].length);return c.length>0&&a.splice(r+2,0,[o[0],c]),s(a,r,3)}return e}(d,o)),d=function(e){for(var t=!1,n=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=2;a<e.length;a+=1)0===e[a-2][0]&&(r=e[a-2][1]).charCodeAt(r.length-1)>=55296&&r.charCodeAt(r.length-1)<=56319&&-1===e[a-1][0]&&n(e[a-1][1])&&1===e[a][0]&&n(e[a][1])&&(t=!0,e[a-1][1]=e[a-2][1].slice(-1)+e[a-1][1],e[a][1]=e[a-2][1].slice(-1)+e[a][1],e[a-2][1]=e[a-2][1].slice(0,-1));var r;if(!t)return e;var i=[];for(a=0;a<e.length;a+=1)e[a][1].length>0&&i.push(e[a]);return i}(d)}function a(e,t,a,r){var i=e.substring(0,a),o=t.substring(0,r),s=e.substring(a),c=t.substring(r),l=n(i,o),u=n(s,c);return l.concat(u)}function r(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,a=Math.min(e.length,t.length),r=a,i=0;n<r;)e.substring(i,r)==t.substring(i,r)?i=n=r:a=r,r=Math.floor((a-n)/2+n);return r}function i(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,a=Math.min(e.length,t.length),r=a,i=0;n<r;)e.substring(e.length-r,e.length-i)==t.substring(t.length-r,t.length-i)?i=n=r:a=r,r=Math.floor((a-n)/2+n);return r}var o=n;function s(e,t,n){for(var a=t+n-1;a>=0&&a>=t-1;a--)if(a+1<e.length){var r=e[a],i=e[a+1];r[0]===i[1]&&e.splice(a,2,[r[0],r[1]+i[1]])}return e}o.INSERT=1,o.DELETE=-1,o.EQUAL=0,e.exports=o},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function a(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?a:r).supported=a,t.unsupported=r},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,a="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(a=!1)),o.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},o.prototype.listeners=function(e,t){var n=a?a+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},o.prototype.emit=function(e,t,n,r,i,o){var s=a?a+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,i),!0;case 6:return u.fn.call(u.context,t,n,r,i,o),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var p,m=u.length;for(l=0;l<m;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,r);break;default:if(!c)for(p=1,c=new Array(d-1);p<d;p++)c[p-1]=arguments[p];u[l].fn.apply(u[l].context,c)}}return!0},o.prototype.on=function(e,t,n){var r=new i(t,n||this),o=a?a+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.once=function(e,t,n){var r=new i(t,n||this,!0),o=a?a+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.removeListener=function(e,t,n,i){var o=a?a+e:e;if(!this._events[o])return this;if(!t)return 0==--this._eventsCount?this._events=new r:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new r:delete this._events[o]);else{for(var c=0,l=[],u=s.length;c<u;c++)(s[c].fn!==t||i&&!s[c].once||n&&s[c].context!==n)&&l.push(s[c]);l.length?this._events[o]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new r:delete this._events[o]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=a,o.EventEmitter=o,void 0!==e&&(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=y(n(3)),s=y(n(2)),c=y(n(0)),l=y(n(5)),u=y(n(10)),d=y(n(9)),p=n(36),m=n(37),f=y(n(13)),h=n(26),g=n(38),b=n(39),v=n(40);function y(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=(0,u.default)("quill:clipboard"),C="__ql-matcher",w=[[Node.TEXT_NODE,B],[Node.TEXT_NODE,N],["br",function(e,t){return A(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,function(e,t){var n={},a=e.style||{};return a.fontStyle&&"italic"===x(e).fontStyle&&(n.italic=!0),a.fontWeight&&(x(e).fontWeight.startsWith("bold")||parseInt(x(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=_(t,n)),parseFloat(a.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t)),t}],["li",function(e,t){var n=c.default.query(e);if(null==n||"list-item"!==n.blotName||!A(t,"\n"))return t;for(var a=-1,r=e.parentNode;!r.classList.contains("ql-clipboard");)"list"===(c.default.query(r)||{}).blotName&&(a+=1),r=r.parentNode;return a<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:a}))}],["b",T.bind(T,"bold")],["i",T.bind(T,"italic")],["style",function(){return new s.default}]],k=[p.AlignAttribute,g.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),E=[p.AlignStyle,m.BackgroundStyle,h.ColorStyle,g.DirectionStyle,b.FontStyle,v.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),j=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.quill.root.addEventListener("paste",a.onPaste.bind(a)),a.container=a.quill.addContainer("ql-clipboard"),a.container.setAttribute("contenteditable",!0),a.container.setAttribute("tabindex",-1),a.matchers=[],w.concat(a.options.matchers).forEach((function(e){var t=r(e,2),i=t[0],o=t[1];(n.matchVisual||o!==D)&&a.addMatcher(i,o)})),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[f.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,O({},f.default.blotName,t[f.default.blotName]))}var a=this.prepareMatching(),i=r(a,2),o=i[0],c=i[1],l=function e(t,n,a){return t.nodeType===t.TEXT_NODE?a.reduce((function(e,n){return n(t,e)}),new s.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(r,i){var o=e(i,n,a);return i.nodeType===t.ELEMENT_NODE&&(o=n.reduce((function(e,t){return t(i,e)}),o),o=(i[C]||[]).reduce((function(e,t){return t(i,e)}),o)),r.concat(o)}),new s.default):new s.default}(this.container,o,c);return A(l,"\n")&&null==l.ops[l.ops.length-1].attributes&&(l=l.compose((new s.default).retain(l.length()-1).delete(1))),S.log("convert",this.container.innerHTML,l),this.container.innerHTML="",l}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,l.default.sources.SILENT);else{var a=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(a),n),this.quill.setSelection(e+a.length(),l.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),a=(new s.default).retain(n.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(l.default.sources.SILENT),setTimeout((function(){a=a.concat(t.convert()).delete(n.length),t.quill.updateContents(a,l.default.sources.USER),t.quill.setSelection(a.length()-n.length,l.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=r,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach((function(a){var i=r(a,2),o=i[0],s=i[1];switch(o){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(o),(function(e){e[C]=e[C]||[],e[C].push(s)}))}})),[t,n]}}]),t}(d.default);function _(e,t,n){return"object"===(void 0===t?"undefined":a(t))?Object.keys(t).reduce((function(e,n){return _(e,n,t[n])}),e):e.reduce((function(e,a){return a.attributes&&a.attributes[t]?e.push(a):e.insert(a.insert,(0,o.default)({},O({},t,n),a.attributes))}),new s.default)}function x(e){return e.nodeType!==Node.ELEMENT_NODE?{}:e["__ql-computed-style"]||(e["__ql-computed-style"]=window.getComputedStyle(e))}function A(e,t){for(var n="",a=e.ops.length-1;a>=0&&n.length<t.length;--a){var r=e.ops[a];if("string"!=typeof r.insert)break;n=r.insert+n}return n.slice(-1*t.length)===t}function I(e){if(0===e.childNodes.length)return!1;var t=x(e);return["block","list-item"].indexOf(t.display)>-1}function T(e,t,n){return _(n,e,!0)}function M(e,t){var n=c.default.Attributor.Attribute.keys(e),a=c.default.Attributor.Class.keys(e),r=c.default.Attributor.Style.keys(e),i={};return n.concat(a).concat(r).forEach((function(t){var n=c.default.query(t,c.default.Scope.ATTRIBUTE);null!=n&&(i[n.attrName]=n.value(e),i[n.attrName])||(null==(n=k[t])||n.attrName!==t&&n.keyName!==t||(i[n.attrName]=n.value(e)||void 0),null==(n=E[t])||n.attrName!==t&&n.keyName!==t||(n=E[t],i[n.attrName]=n.value(e)||void 0))})),Object.keys(i).length>0&&(t=_(t,i)),t}function P(e,t){var n=c.default.query(e);if(null==n)return t;if(n.prototype instanceof c.default.Embed){var a={},r=n.value(e);null!=r&&(a[n.blotName]=r,t=(new s.default).insert(a,n.formats(e)))}else"function"==typeof n.formats&&(t=_(t,n.blotName,n.formats(e)));return t}function N(e,t){return A(t,"\n")||(I(e)||t.length()>0&&e.nextSibling&&I(e.nextSibling))&&t.insert("\n"),t}function D(e,t){if(I(e)&&null!=e.nextElementSibling&&!A(t,"\n\n")){var n=e.offsetHeight+parseFloat(x(e).marginTop)+parseFloat(x(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function B(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!x(e.parentNode).whiteSpace.startsWith("pre")){var a=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,a.bind(a,!0)),(null==e.previousSibling&&I(e.parentNode)||null!=e.previousSibling&&I(e.previousSibling))&&(n=n.replace(/^\s+/,a.bind(a,!1))),(null==e.nextSibling&&I(e.parentNode)||null!=e.nextSibling&&I(e.nextSibling))&&(n=n.replace(/\s+$/,a.bind(a,!1)))}return t.insert(n)}j.DEFAULTS={matchers:[],matchVisual:!0},t.default=j,t.matchAttributor=M,t.matchBlot=P,t.matchNewline=N,t.matchSpacing=D,t.matchText=B},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((a=o)&&a.__esModule?a:{default:a}).default);l.blotName="bold",l.tagName=["STRONG","B"],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=u(n(2)),o=u(n(0)),s=u(n(5)),c=u(n(10)),l=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,c.default)("quill:toolbar"),m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(i.options.container)){var o=document.createElement("div");h(o,i.options.container),e.container.parentNode.insertBefore(o,e.container),i.container=o}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach((function(e){i.addHandler(e,i.options.handlers[e])})),[].forEach.call(i.container.querySelectorAll("button, select"),(function(e){i.attach(e)})),i.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.SELECTION_CHANGE&&i.update(t)})),i.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){var e=i.quill.selection.getRange(),t=a(e,1)[0];i.update(t)})),i):(r=p.error("Container required for toolbar",i.options),d(i,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void p.warn("ignoring attaching to disabled format",n,e);if(null==o.default.query(n))return void p.warn("ignoring attaching to nonexistent format",n,e)}var r="SELECT"===e.tagName?"change":"click";e.addEventListener(r,(function(r){var c=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var l=e.options[e.selectedIndex];c=!l.hasAttribute("selected")&&(l.value||!1)}else c=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),r.preventDefault();t.quill.focus();var u=t.quill.selection.getRange(),d=a(u,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,c);else if(o.default.query(n).prototype instanceof o.default.Embed){if(!(c=prompt("Enter "+n)))return;t.quill.updateContents((new i.default).retain(d.index).delete(d.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,c)),s.default.sources.USER)}else t.quill.format(n,c,s.default.sources.USER);t.update(d)})),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(n){var r=a(n,2),i=r[0],o=r[1];if("SELECT"===o.tagName){var s=void 0;if(null==e)s=null;else if(null==t[i])s=o.querySelector("option[selected]");else if(!Array.isArray(t[i])){var c=t[i];"string"==typeof c&&(c=c.replace(/\"/g,'\\"')),s=o.querySelector('option[value="'+c+'"]')}null==s?(o.value="",o.selectedIndex=-1):s.selected=!0}else if(null==e)o.classList.remove("ql-active");else if(o.hasAttribute("value")){var l=t[i]===o.getAttribute("value")||null!=t[i]&&t[i].toString()===o.getAttribute("value")||null==t[i]&&!o.getAttribute("value");o.classList.toggle("ql-active",l)}else o.classList.toggle("ql-active",null!=t[i])}))}}]),t}(l.default);function f(e,t,n){var a=document.createElement("button");a.setAttribute("type","button"),a.classList.add("ql-"+t),null!=n&&(a.value=n),e.appendChild(a)}function h(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)f(n,e);else{var t=Object.keys(e)[0],a=e[t];Array.isArray(a)?function(e,t,n){var a=document.createElement("select");a.classList.add("ql-"+t),n.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),a.appendChild(t)})),e.appendChild(a)}(n,t,a):f(n,t,a)}})),e.appendChild(n)}))}m.DEFAULTS={},m.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(t){null!=o.default.query(t,o.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),a=parseInt(n.indent||0);if("+1"===e||"-1"===e){var r="+1"===e?1:-1;"rtl"===n.direction&&(r*=-1),this.quill.format("indent",a+r,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=m,t.addControls=h},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=n(28),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.label.innerHTML=n,a.container.classList.add("ql-color-picker"),[].slice.call(a.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"buildItem",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var a=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";a&&("line"===a.tagName?a.style.stroke=r:a.style.fill=r)}}]),t}(((a=o)&&a.__esModule?a:{default:a}).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(28),o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.container.classList.add("ql-icon-picker"),[].forEach.call(a.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=n[e.getAttribute("data-value")||""]})),a.defaultItem=a.container.querySelector(".ql-selected"),a.selectItem(a.defaultItem),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"selectItem",value:function(e,n){(function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(t,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){a.root.style.marginTop=-1*a.quill.root.scrollTop+"px"})),this.hide()}return a(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var a=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),i=0;if(r.right>a.right&&(i=a.right-r.right,this.root.style.left=t+i+"px"),r.left<a.left&&(i=a.left-r.left,this.root.style.left=t+i+"px"),r.bottom>a.bottom){var o=r.bottom-r.top,s=e.bottom-e.top+o;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=m(n(3)),s=m(n(8)),c=n(43),l=m(c),u=m(n(27)),d=n(15),p=m(n(41));function m(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],v=function(e){function t(e,n){f(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=b);var a=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.quill.container.classList.add("ql-snow"),a}return g(t,e),i(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),p.default),this.tooltip=new y(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,n){e.handlers.link.call(e,!n.format.link)}))}}]),t}(l.default);v.DEFAULTS=(0,o.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var y=function(e){function t(e,n){f(this,t);var a=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.preview=a.root.querySelector("a.ql-preview"),a}return g(t,e),i(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,s.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(s.default.events.SELECTION_CHANGE,(function(t,n,r){if(null!=t){if(0===t.length&&r===s.default.sources.USER){var i=e.quill.scroll.descendant(u.default,t.index),o=a(i,2),c=o[0],l=o[1];if(null!=c){e.linkRange=new d.Range(t.index-l,c.length());var p=u.default.formats(c.domNode);return e.preview.textContent=p,e.preview.setAttribute("href",p),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(c.BaseTooltip);y.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=D(n(29)),r=n(36),i=n(38),o=n(64),s=D(n(65)),c=D(n(66)),l=n(67),u=D(l),d=n(37),p=n(26),m=n(39),f=n(40),h=D(n(56)),g=D(n(68)),b=D(n(27)),v=D(n(69)),y=D(n(70)),O=D(n(71)),S=D(n(72)),C=D(n(73)),w=n(13),k=D(w),E=D(n(74)),j=D(n(75)),_=D(n(57)),x=D(n(41)),A=D(n(28)),I=D(n(59)),T=D(n(60)),M=D(n(61)),P=D(n(108)),N=D(n(62));function D(e){return e&&e.__esModule?e:{default:e}}a.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":r.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":r.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":f.SizeStyle},!0),a.default.register({"formats/align":r.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":o.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":m.FontClass,"formats/size":f.SizeClass,"formats/blockquote":s.default,"formats/code-block":k.default,"formats/header":c.default,"formats/list":u.default,"formats/bold":h.default,"formats/code":w.Code,"formats/italic":g.default,"formats/link":b.default,"formats/script":v.default,"formats/strike":y.default,"formats/underline":O.default,"formats/image":S.default,"formats/video":C.default,"formats/list/item":l.ListItem,"modules/formula":E.default,"modules/syntax":j.default,"modules/toolbar":_.default,"themes/bubble":P.default,"themes/snow":N.default,"ui/icons":x.default,"ui/picker":A.default,"ui/icon-picker":T.default,"ui/color-picker":I.default,"ui/tooltip":M.default},!0),t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=n(0),s=(a=o)&&a.__esModule?a:{default:a};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=new(function(e){function t(){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var a=this.value(e)||0;n="+1"===n?a+1:a-1}return 0===n?(this.remove(e),!0):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(s.default.Attributor.Class))("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(4);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=r)&&a.__esModule?a:{default:a}).default);s.blotName="blockquote",s.tagName="blockquote",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(4);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},i=c(n(0)),o=c(n(4)),s=c(n(25));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),a(t,[{key:"format",value:function(e,n){e!==m.blotName||n?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:r(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(o.default);p.blotName="list-item",p.tagName="LI";var m=function(e){function t(e){l(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=function(t){if(t.target.parentNode===e){var a=n.statics.formats(e),r=i.default.find(t.target);"checked"===a?r.format("list","unchecked"):"unchecked"===a&&r.format("list","checked")}};return e.addEventListener("touchstart",a),e.addEventListener("mousedown",a),n}return d(t,e),a(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",a=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||a.setAttribute("data-checked","checked"===e),a}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),a(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,n){if(e instanceof p)r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var a=null==n?this.length():n.offset(this),i=this.split(a);i.parent.insertBefore(e,i)}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=i.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(s.default);m.blotName="list",m.scope=i.default.Scope.BLOCK_BLOT,m.tagName=["OL","UL"],m.defaultChild="list-item",m.allowedChildren=[p],t.ListItem=p,t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(56);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=r)&&a.__esModule?a:{default:a}).default);s.blotName="italic",s.tagName=["EM","I"],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(6);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);c.blotName="script",c.tagName=["SUB","SUP"],t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(6);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=r)&&a.__esModule?a:{default:a}).default);s.blotName="strike",s.tagName="S",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(6);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=r)&&a.__esModule?a:{default:a}).default);s.blotName="underline",s.tagName="U",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=n(0),s=(a=o)&&a.__esModule?a:{default:a},c=n(27);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=["alt","height","width"],p=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,c.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.default.Embed);p.blotName="image",p.tagName="IMG",t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=n(4),s=n(27),c=(a=s)&&a.__esModule?a:{default:a};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=["height","width"],p=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"sanitize",value:function(e){return c.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(o.BlockEmbed);p.blotName="video",p.className="ql-video",p.tagName="IFRAME",t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=s(n(35)),i=s(n(5)),o=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,null,[{key:"create",value:function(e){var n=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(r.default);d.blotName="formula",d.className="ql-formula",d.tagName="SPAN";var p=function(e){function t(){c(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return u(t,e),a(t,null,[{key:"register",value:function(){i.default.register(d,!0)}}]),t}(o.default);t.FormulaBlot=d,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=s(n(0)),i=s(n(5)),o=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(s(n(13)).default);d.className="ql-syntax";var p=new r.default.Attributor.Class("token","hljs",{scope:r.default.Scope.INLINE}),m=function(e){function t(e,n){c(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!=typeof a.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var r=null;return a.quill.on(i.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(r),r=setTimeout((function(){a.highlight(),r=null}),a.options.interval)})),a.highlight(),a}return u(t,e),a(t,null,[{key:"register",value:function(){i.default.register(p,!0),i.default.register(d,!0)}}]),a(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(i.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(d).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(i.default.sources.SILENT),null!=t&&this.quill.setSelection(t,i.default.sources.SILENT)}}}]),t}(o.default);m.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=d,t.CodeToken=p,t.default=m},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var a=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=d(n(3)),o=d(n(8)),s=n(43),c=d(s),l=n(15),u=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(e){function t(e,n){p(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=h);var a=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.quill.container.classList.add("ql-bubble"),a}return f(t,e),r(t,[{key:"extendToolbar",value:function(e){this.tooltip=new b(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),u.default)}}]),t}(c.default);g.DEFAULTS=(0,i.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var b=function(e){function t(e,n){p(this,t);var a=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.quill.on(o.default.events.EDITOR_CHANGE,(function(e,t,n,r){if(e===o.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&r===o.default.sources.USER){a.show(),a.root.style.left="0px",a.root.style.width="",a.root.style.width=a.root.offsetWidth+"px";var i=a.quill.getLines(t.index,t.length);if(1===i.length)a.position(a.quill.getBounds(t));else{var s=i[i.length-1],c=a.quill.getIndex(s),u=Math.min(s.length()-1,t.index+t.length-c),d=a.quill.getBounds(new l.Range(c,u));a.position(d)}}else document.activeElement!==a.textbox&&a.quill.hasFocus()&&a.hide()})),a}return f(t,e),r(t,[{key:"listen",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(o.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===n)return n;r.style.marginLeft=-1*n-r.offsetWidth/2+"px"}}]),t}(s.BaseTooltip);b.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=b,t.default=g},function(e,t,n){e.exports=n(63)}]).default},e.exports=n()}).call(this,n("Wa65").Buffer)},M8uP:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("lKCo");!function(e){let t;!function(e){e.create=e=>e}(t=e.Id||(e.Id={})),e.create=function(t){return Object.assign(Object.assign({},t),{id:e.Id.create(t.id),url:r.fromNullable(t.url),contextText:r.none})}}(a||(a={}))},"M9C+":function(e){e.exports=JSON.parse('{"wrapper":"_d8e791ff-paidview-wrapper","info":"_639643ca-paidview-info","text":"_370700ba-paidview-text","advancedBlockWrapper":"_6cdbc5d2-paidview-advancedBlockWrapper","advancedBlock":"_537e27f2-paidview-advancedBlock","counter":"_7cd16ef7-paidview-counter","counterContent":"_112e0fd9-paidview-counterContent","upgradeBlock":"_56213ecc-paidview-upgradeBlock","footer":"_6192d80c-paidview-footer","footerText":"_72d57f3b-paidview-footerText","footerLogo":"_65c8168b-paidview-footerLogo","alertList":"_b1fdde39-paidview-alertList","alertBlock":"_05c653f0-paidview-alertBlock","graphBlock":"_4fd15b27-paidview-graphBlock","graphCircle":"_dcc27901-paidview-graphCircle","graphCircle1":"_3eb8f1f7-paidview-graphCircle1 _dcc27901-paidview-graphCircle","graphCircle2":"_06a48dfd-paidview-graphCircle2 _dcc27901-paidview-graphCircle","graphCircleInvisible":"_172a0c73-paidview-graphCircleInvisible","graphCircle2IPad":"_012c22de-paidview-graphCircle2IPad _172a0c73-paidview-graphCircleInvisible _06a48dfd-paidview-graphCircle2 _dcc27901-paidview-graphCircle","graphCounter":"_f6d15ec9-paidview-graphCounter","graphCounterWin":"_88bb6bb5-paidview-graphCounterWin","opacity90":"_0c71a17d-paidview-opacity90","opacity80":"_4b2a47bc-paidview-opacity80","opacity70":"_81416aba-paidview-opacity70","opacity60":"_026bff35-paidview-opacity60","opacity50":"_026a825d-paidview-opacity50","headerTitle":"_f5a045d4-paidview-headerTitle","paidViewIPad":"_db5a6d7c-paidview-paidViewIPad","paidView":"_da62b330-paidview-paidView","contentWrapper":"_4ff01e36-paidview-contentWrapper","secondaryCta":"_07cef47a-paidview-secondaryCta"}')},MKsy:function(e,t,n){"use strict";n.d(t,"a",(function(){return _t}));var a=n("a5gI"),r=n("8O/t"),i=n("X76w"),o=n("2IcJ"),s=n("ALFw"),c=n("B8yO"),l=n("cZKX"),u=n("DTwm"),d=n("OwvP"),p=n("xk6L"),m=n("111I"),f=n("itj6"),h=n("Q+ti"),g=n("h+lq"),b=n("yIk2"),v=n("N4IK"),y=n("7IMz"),O=n("nWMp"),S=n("TPDJ"),C=n("0kuo");function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E(e,t,n,a){if(n.some((function(e){return"positionedClick"===e.type}))){var r=n[0];switch(r.source){case"collapsedCard":return 1===t.alerts.length?{type:f.b.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:t.alerts[0]},clickPoint:r.sourcePosition}:{type:f.b.Type.miniItemClick,id:t.id};case"list":return{type:f.b.Type.listItemClick,clickPoint:r.sourcePosition};default:return{type:f.b.Type.miniItemClick,id:t.id}}}else if(n.some((function(e){return"hoverStateChanged"===e.type}))){var i=n[0];return{type:f.b.Type.hover,id:t.id,kind:i.hovered?"hover":"unhover"}}return{type:f.b.Type.sduiCardAction,sourceId:e,cardId:t.id,actions:n,scope:a}}var j=function(e){var t=e.inert,n=k(e,["inert"]),a=c.useRef(null);return y.a.useSubscriptionTo(t.pipe(p.a.tap((function(e){var t,n;return e?null===(t=a.current)||void 0===t?void 0:t.setAttribute("inert","true"):null===(n=a.current)||void 0===n?void 0:n.removeAttribute("inert")})))),c.createElement(d.a.div,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){w(e,t,n[t])}))}return e}({mount:a},n))},_=m.b.Grid.make((function(e){var t=e.view,n=e.slots;return c.createElement(j,{className:b.b.chooseWhen(t("hovered"))(D.listWrapperFocused,D.listWrapper),inert:t("inert")},n.card)})),x=m.b.Grid.make((function(e){var t=e.view,n=e.slots;return c.createElement(j,{className:D.listWrapperFocused,inert:t("inert")},n.card)})),A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.a;return m.b.Node.make((function(a){var r=a.view,i=a.notify,o=r("view").pipe(p.a.distinctUntilChanged((function(e,t){return e.equals(t)}))),s=[];return c.createElement(d.a.Fragment,null,o.pipe(p.a.map((function(a){return c.createElement(n,{key:a.id,sduiRootId:a.id,content:a.cardDSL.value,designSystem:t,notify:function(e,t,n){return i(E(e,a,t,n))()},transitions:s,prevContent:a.prevCardDSL,onAnimationEnd:u.constVoid,onMount:u.constVoid,longFormCardState:{viewKind:e}})}))))}))},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.a;return m.b.Knot.make(_,{card:A("collapsed",e,t)})},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.a;return m.b.Knot.make(x,{card:A("focused",e,t)})},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.a;return m.b.Union.make("kind",{collapsed:I(e,t),focused:T(e,t),hidden:m.b.Node.empty})},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.a;return S.a.make(M(e,t))},N={background:v.e.Base.Surface.Primary.Default,borderRadius:O.a.rem(v.d.Radius1)},D=O.a.stylesheet({listWrapper:[N,{border:"0.5px solid ".concat(v.e.Base.Boundaries.Primary.Default)}],listWrapperFocused:[N,v.c.Elevation300]});function B(e){switch(e){case"focused":case"expanded":case"success":case"presuccess":case"feedback_form":return"focused";case"added":case"rendered":return"collapsed";case"hidden":case"removed":case"muted":return"hidden";default:return Object(C.c)(e)}}var L=n("dn08"),F=n("mgiE");function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var V,U,W=function(e){return function(t){var n=function(n){return p.a.combineLatestStatic([n.pipe(p.a.pluck("action"),p.a.tap((function(t){return e.next(t)})),p.a.filter((function(e){return"hover"===e.type})),p.a.map((function(e){return"hover"===e.kind})),p.a.startWith(!1)),t]).pipe(p.a.map((function(e){var t=H(e,2),n=t[0],a=t[1];return{root:{inert:a.positionState.inert,hovered:n},card:{kind:"alertRefSDUI",view:a}}})))},a={collapsed:n,focused:n,hidden:Object(u.constant)(p.a.of(void 0))},r=m.a.composeUnion(a,(function(){return t.pipe(p.a.map((function(e){return{kind:B(e.visualState.transition.type)}})))})),i=m.a.composeUnion(a,(function(){return t.pipe(p.a.map((function(e){return{kind:Object(u.pipe)(e.visualState.from,F.g.fold((function(){return"collapsed"}),B))}})))}));return L.a.flow(t,r,i)}};(U=V||(V={})).ListCard=A,U.AnimatedListCard=P,U.animatedListCardFlowFactory=W,U.CollapsedCardWrapper=_,U.FocusedCardWrapper=x,U.SingleCard=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.a;return m.b.Node.make((function(n){var a=n.view,r=n.notify,i=a("view");return c.createElement(d.a.Fragment,null,i.pipe(p.a.distinctUntilChanged((function(e,t){return e.equals(t)})),p.a.map((function(n){return c.createElement(t,{key:n.id,sduiRootId:n.id,content:n.cardDSL.value,designSystem:e,notify:function(e,t,a){return r({type:f.b.Type.sduiCardAction,sourceId:e,cardId:n.id,actions:t,scope:a})()},transitions:l.bc(n.transitions),prevContent:n.prevCardDSL,onAnimationEnd:r({type:f.a.Kind.completeTransitionTo,id:n.id,transitionId:n.visualState.transitionId}),onMount:u.constVoid})}))))}))},U.SquashedListCard=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.a;return m.b.Node.make((function(n){var a=n.view,r=n.notify,i=a("view").pipe(p.a.distinctUntilChanged((function(e,t){return e.equals(t)}))),o=new p.a.Subject;return y.a.useSubscriptionTo(o.pipe(p.a.tap((function(e){return r(e)()})))),m.b.mount(P(e,t),Object(u.pipe)(W(o)(i),L.a.extend((function(e){return o.next(e)}))))}))};var z,G=n("yQCL"),q=n("024v"),K=n("tiWp"),$=n("Hj2R"),Z=n("D2TP"),Y=n("pQeY"),X=n("wnit"),Q=n("/56L"),J=n("Njvd"),ee=n("koAX"),te=n("LqiM");(z||(z={})).Card=e=>m.b.Node.make(({view:t})=>{const n=t("view"),a=Object(J.c)(n,e),r=Object(J.a)(n,e);return c.createElement(d.a.Fragment,null,n.pipe(p.a.distinctUntilChanged((e,t)=>e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type),p.a.map(t=>c.createElement(te.a.Card,{miniCard:m.b.mount(ee.b,a),fullCard:m.b.mount(ee.a,r),actions:e,card:t}))))});var ne=n("9bwL"),ae=n("CBmo"),re=n("jEie"),ie=n("jY3z"),oe=n("NDcT"),se=n("fC5a"),ce=n("ySi0"),le=n("wuWi"),ue=n("sX1a"),de=n("ZDrO"),pe=n("VY6k"),me=n("2swC"),fe=n("PltQ"),he=n("NbNH");const ge={display:"block",color:me.a.CoreNeutral90,fontWeight:"bold"},be={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},ve={display:"block",color:me.a.CoreBlue50,fontWeight:"normal"},ye={color:fe.k},Oe={color:fe.k},Se={color:me.a.CoreCyan50,fontWeight:"bold",fontSize:O.a.rem(.9375)},Ce={marginTop:O.a.rem(.3),color:me.a.CoreNeutral90},we={position:"relative",marginLeft:O.a.rem(-.5)},ke={position:"absolute",top:0,left:0,display:"flex",margin:`${O.a.rem(.5625)} 0 0 ${O.a.rem(.4375)}`,color:fe.k,pointerEvents:"none"},Ee={display:"block",padding:`${O.a.rem(1.4375)} 0 0 ${O.a.rem(.4375)}`,borderRadius:O.a.rem(he.t),backgroundColor:fe.f,transitionDuration:O.a.seconds(0),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:fe.g}}},je={display:"flex",color:me.a.CoreBlue50,pointerEvents:"all",alignItems:"center"},_e={minWidth:O.a.rem(1),minHeight:O.a.rem(1),stroke:me.a.CoreBlue50},xe={width:O.a.percent(100),pointerEvents:"all"},Ae={color:me.a.CoreBlue50,textDecoration:"none"},Ie={position:"absolute",right:0,bottom:0,marginLeft:O.a.rem(.5)},Te={$nest:{"& i":{color:fe.j}}},Me=O.a.stylesheet({plagiarismTitle:[ge],plagiarismTitleContent:[be],titleUrl:[be,ve],titleBy:[ye],plagiarismP2:[Oe],percent:[Se],textToCopy:[be,Ce],referenceWrapper:[we],referenceData:[ke],copyableReference:[Ee],citationStyleSelect:[je],citationStyleIcon:[_e],citationStyleDdlButton:[xe],descriptionLink:[Ae],expandBtn:[Ie],more:[Te],cardHeader:[Oe,{display:"flex",alignItems:"center"}],betaBadge:[{marginLeft:"auto"}]}),Pe=e=>de.d.setInnerHTML(e,{allowedTags:["b","i","br"]}),Ne=({card:e})=>{const t=c.useContext(oe.a.Context),n=e.activeAlert.plagiarismType.paraphrased;return c.createElement(le.a,{className:Me.cardHeader},t.plagiarism.percentileDescription(c.createElement("span",{className:Me.percent},e.meta.percentile,"%"),n),n&&c.createElement(ie.a.Regular,{className:Me.betaBadge},t.beta))},De=({title:e,url:t})=>c.createElement(le.j,{className:Me.plagiarismTitle},c.createElement("div",Object(r.a)({className:Me.plagiarismTitleContent},Pe(e))),Object(K.pipe)(t,F.g.map(e=>c.createElement(se.a,{name:"url-button",href:e,target:"_blank",rel:"noopener noreferrer",styleType:ue.Typography.Type.Base,className:Me.titleUrl},e)),F.g.toNullable)),Be=({title:e,authors:t})=>c.createElement(le.j,{className:Me.plagiarismTitle},c.createElement("div",Object(r.a)({className:Me.plagiarismTitleContent},Pe(e))),Object(K.pipe)(t,F.g.map(e=>c.createElement(le.a,{className:Me.plagiarismTitleContent}," ",c.createElement("span",{className:Me.titleBy},"by")," ",c.createElement("span",Pe(e)))),F.g.toNullable)),Le=({alert:e})=>"publication"===e.plagiarismType.source?c.createElement(Be,{title:e.title,authors:e.plagiarismType.authors}):c.createElement(De,{title:e.title,url:e.plagiarismType.url}),Fe=()=>{const e=c.useContext(oe.a.Context);return c.createElement(le.a,null,e.plagiarism.cardDescription(Object(pe.a)(Me.descriptionLink)))},Re=({card:e,dismissActions:t})=>{const n=c.useContext(oe.a.Context),a=e.alerts.map(e=>e.id);return c.createElement(se.a.Ghost,{name:"ignore",title:n.dismiss,"aria-label":n.dismiss,onClick:de.d.callOnce(()=>t.next({type:f.d.Kind.dismissBatch,alerts:a}))},c.createElement(ce.d.Ignore,null))},He=({visualState:e})=>c.createElement(ne.b,{visualState:e,className:Me.more},c.createElement(Fe,null));var Ve=n("eM7Q");const Ue=({card:e,actions:t})=>c.createElement(Ve.a,{onLeftClick:()=>t.next({type:f.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:e},direction:"left"}),onRightClick:()=>t.next({type:f.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:e},direction:"right"}),currentMatch:e.activeAlertIndex,totalMatch:e.alerts.length,style:{}});var We=n("+vYo"),ze=n("RRF2"),Ge=n("L8Yl"),qe=n("VrFq"),Ke=n("CRC+");const $e=({textToCopy:e,children:t})=>c.createElement(qe.a.Context.Consumer,null,n=>{return c.createElement(se.a.Flat,{key:"copy_title",name:"copy_title",title:"Click to copy",tag:Ge.b.div,className:Me.copyableReference,onClick:()=>n(e,"referenceCopied")},t,c.createElement("div",Object(r.a)({className:Me.textToCopy},(a=e,de.d.setInnerHTML(a,{allowedTags:["b","i","br"]})))));var a}),Ze={mla:"MLA",apa:"APA",chicago:"Chicago"},Ye=ze.e.keys(Ze);class Xe extends c.Component{static _renderPublication(e){const t=We.a.create("mla");return c.createElement(d.a.div,{key:"publication",className:Me.referenceWrapper},t.view(n=>c.createElement(c.Fragment,null,c.createElement($e,{key:"rf1"+n,textToCopy:e.citationStyle[n]}),c.createElement(le.l,{className:Me.referenceData},c.createElement(oe.a.Context.Consumer,null,({plagiarism:e})=>e.publicationReferenceDescription(c.createElement(Ke.a,{vAlign:"top",name:"plagiarism",label:c.createElement(se.a,{name:"citation-style-select",active:!1,className:Me.citationStyleSelect,tag:Ge.b.div},Ze[n])},Ye.map(e=>c.createElement(se.a.Flat,{className:Me.citationStyleDdlButton,key:e,name:"citation-button-"+e,active:t.view(t=>t===e),onClick:()=>t.set(e)},Ze[e])))))))))}static _renderWeb(e,t){return c.createElement("div",{key:"web",className:Me.referenceWrapper},c.createElement($e,{textToCopy:e+Object(K.pipe)(t.url,F.g.fold(()=>"",e=>". "+e))},c.createElement(oe.a.Context.Consumer,null,({plagiarism:e})=>c.createElement(le.l,{className:Me.referenceData},e.webReferenceDescription))))}render(){const e=this.props.alert;return"publication"===e.plagiarismType.source?Xe._renderPublication(e.plagiarismType):Xe._renderWeb(e.title,e.plagiarismType)}}const Qe=({card:e,actions:t})=>c.createElement(ae.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:f.b.Type.alertCardShow,cardType:f.b.CardType.defaultCard,alertId:e.activeAlert.id}),theme:Object(re.b)(e.renderOptions),body:c.createElement(c.Fragment,null,c.createElement(Ne,{card:e}),c.createElement(Le,{alert:e.activeAlert}),c.createElement(Xe,{alert:e.activeAlert})),mainActions:c.createElement(Re,{card:e,dismissActions:t}),footer:c.createElement(He,{visualState:e.visualState}),navigation:c.createElement(Ue,{actions:t,card:e}),subActions:c.createElement(ne.a,{actions:t,card:e,mode:"mini"})});var Je,et=n("4GyQ"),tt=n("TKPA"),nt=n("KH+i");!function(e){e.Card=({card:e,actions:a})=>nt.a.Density.matchL(()=>c.createElement(t,{card:e,actions:a}),()=>c.createElement(n,{card:e,actions:a}),()=>c.createElement(n,{card:e,actions:a}))(e.renderOptions.layoutDensity);const t=({card:e,actions:t})=>{const n=e.alerts[0];return c.createElement(te.a.MiniContrast,Object(i.a)(Object(r.a)({cardId:e.id,getActiveAlert:()=>n},Object(et.c)(ft.wrapper,ft.dot,ft.dotOutcomesPlagiarism)),{actions:t,inert:e.positionState.inert,sduiStyle:e.renderOptions.features.has(nt.a.Features.sduiContainerStyle)}),c.createElement("div",{className:ft.miniContainer},c.createElement("span",Object(r.a)({key:"title"},Object(et.c)(ft.text,"publication"===n.plagiarismType.source&&ft.fullText)),n.title),"web"===n.plagiarismType.source?Object(K.pipe)(n.plagiarismType.url,F.g.map(ze.f.urlToDomain),F.g.filter(tt.n),F.g.map(e=>c.createElement("span",{key:"url",className:ft.domain}," — ",e)),F.g.toNullable):Object(K.pipe)(n.plagiarismType.authors,F.g.map(e=>c.createElement("span",{key:"publication",className:ft.publication}," — ",e)),F.g.toNullable)))},n=({card:e,actions:t})=>{const n=e.alerts[0],a="web"===n.plagiarismType.source?Object(K.pipe)(n.plagiarismType.url,F.g.map(ze.f.urlToDomain),F.g.filter(tt.n)):n.plagiarismType.authors;return c.createElement(te.a.Mini,Object(i.a)(Object(r.a)({cardId:e.id,getActiveAlert:()=>n},Object(et.c)(st.wrapper,ft.dotOutcomesPlagiarism,Object(K.pipe)(a,F.g.fold(()=>st.dotInTheMiddle,()=>st.dot)))),{actions:t,inert:e.positionState.inert}),c.createElement("div",{className:st.miniContainer},Object(K.pipe)(a,F.g.map(e=>c.createElement("span",{className:st.subTitle},e)),F.g.toNullable),c.createElement("span",Object(r.a)({key:"title"},Object(et.c)(st.text)),n.title)))}}(Je||(Je={}));const at={overflow:"hidden",color:me.a.CoreNeutral90,textOverflow:"ellipsis"},rt={height:O.a.rem(3.5)},it={overflow:"hidden",marginBottom:O.a.rem(-.25),textOverflow:"ellipsis",fontSize:O.a.rem(.75)},ot={$nest:{"&:before":{top:O.a.rem(.85),bottom:0}}},st=O.a.stylesheet({text:[at],wrapper:[rt],miniContainer:[{display:"flex",flexDirection:"column"}],dotInTheMiddle:[{top:0,bottom:0,left:0}],subTitle:[it],dot:[ot]}),ct={overflow:"hidden",color:me.a.CoreNeutral90,textOverflow:"ellipsis"},lt={maxWidth:O.a.percent(100),flexShrink:0},ut={height:O.a.rem(3)},dt={overflow:"hidden",maxWidth:O.a.percent(100),textOverflow:"ellipsis",flexShrink:0},pt={$nest:{"&:before":{top:O.a.px(1),bottom:0}}},mt={$nest:{"&:before":{backgroundColor:me.a.CoreCyan50}}},ft=O.a.stylesheet({text:[ct],fullText:[lt],wrapper:[ut],miniContainer:[{display:"flex"}],domain:[dt],publication:[{overflow:"hidden",textOverflow:"ellipsis"}],dot:[pt],dotOutcomesPlagiarism:[mt]});var ht,gt;!function(e){function t(e){return{mini:()=>e,full:()=>e,hidden:()=>e}}function n(e){switch(e){case"added":case"rendered":return"mini";case"focused":case"expanded":return"full";case"hidden":case"removed":return"hidden";case"presuccess":case"success":case"feedback_form":case"muted":throw new Error(e+" is not supported for PlagiarismCard");default:Object(C.c)(e)}}e.flow=function(e){return m.a.composeUnion(t(e),()=>e.pipe(p.a.map(e=>({plagiarismCardKind:n(e.visualState.transition.type)}))))},e.shadeFlow=function(e){return m.a.composeUnion(t(e),()=>e.pipe(p.a.map(e=>({plagiarismCardKind:Object(u.pipe)(e.visualState.from,F.g.fold(()=>"hidden",n))}))))}}(ht||(ht={})),function(e){e.Card=m.b.Node.make(({view:e,notify:a})=>{const r=e("view"),i=new p.a.Subject;return y.a.useSubscriptionTo(i.pipe(p.a.tap(e=>a(e)()))),m.b.mount(S.a.make(function(e){return m.b.Union.make("plagiarismCardKind",{mini:t(e),full:n(e),hidden:m.b.Node.empty})}(i)),Object(u.pipe)(L.a.flow(r,ht.flow(r),ht.shadeFlow(r),e=>e.activeAlert.id),L.a.extend(e=>i.next(e))))});function t(e){return m.b.Node.make(({state:t})=>c.createElement(d.a.Fragment,null,t.pipe(p.a.map(t=>c.createElement(Je.Card,{card:t,actions:e})))))}function n(e){return m.b.Node.make(({state:t})=>c.createElement(d.a.Fragment,null,t.pipe(p.a.map(t=>c.createElement(Qe,{card:t,actions:e})))))}}(gt||(gt={}));var bt,vt,yt=n("Wj65"),Ot=n("TDJj"),St=n("wsul");!function(e){function t(e,t){return{mini:m.a.fromSideEffect(e=>{"onClick"===e.action&&t.next({type:f.b.Type.miniItemClick,id:St.a.id})},e),full:m.a.fromSideEffect(e=>{"upgrade"===e.kind&&t.next({type:"upgradeHookAction",kind:Ot.a.ActionsKind.onUpgrade}),"onUpgradeButtonMount"===e.kind&&t.next({type:"upgradeHookAction",kind:Ot.a.ActionsKind.onUpgradeButtonMount,element:e.element})},e),hidden:()=>e}}function n(e){switch(e){case"added":case"rendered":return"mini";case"focused":case"expanded":return"full";case"hidden":case"removed":return"hidden";case"presuccess":case"success":case"feedback_form":case"muted":throw new Error(e+" is not supported for UpgradeHookCard");default:Object(C.c)(e)}}e.flow=function(e,a){return Object(u.pipe)(m.a.composeUnion(t(e,a),()=>e.pipe(p.a.map(e=>({cardKind:n(e.visualState.transition.type)})))))},e.shadeFlow=function(e,a){return m.a.composeUnion(t(e,a),()=>e.pipe(p.a.map(e=>({cardKind:Object(u.pipe)(e.visualState.from,F.g.fold(()=>"hidden",n))}))))}}(bt||(bt={})),(vt||(vt={})).ListCard=m.b.Node.make(({view:e,notify:t})=>{const n=Object(u.pipe)(e("view"),p.a.distinctUntilChanged((e,t)=>e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type)),a=new p.a.Subject;return y.a.useSubscriptionTo(a.pipe(p.a.tap(e=>t(e)()))),m.b.mount(S.a.make(m.b.Union.make("cardKind",{mini:Object(u.pipe)(yt.a,m.b.contramapState(e=>({alertsCount:e.alerts.length}))),full:Object(u.pipe)(Ot.b,m.b.contramapState(e=>({showCloseButton:!1,alertsState:{count:e.alerts.length,alerts:e.groupedAlerts}}))),hidden:m.b.Node.empty})),Object(u.pipe)(L.a.flow(n,bt.flow(n,a),bt.shadeFlow(n,a)),L.a.extend(e=>a.next(e))))});var Ct,wt,kt=n("UUXv"),Et=n("IrSI");!function(e){function t(e){switch(e){case"added":case"rendered":return"mini";case"focused":case"expanded":return"full";case"hidden":case"removed":return"hidden";case"presuccess":case"success":case"feedback_form":case"muted":throw new Error(e+" is not supported for UpgradeHookCard");default:Object(C.c)(e)}}e.flow=function(e,n){return Object(u.pipe)(m.a.composeUnion({mini:m.a.fromSideEffect(e=>{"onClick"===e.action?n({type:f.b.Type.miniItemClick,id:St.a.id})():e.action.kind===Et.a.ActionsKind.onMiniShow&&n({type:"upgradeHookAction",kind:Et.a.ActionsKind.onMiniShow})()},e),full:m.a.fromSideEffect(e=>{e.kind===kt.a.ActionsKind.onFullShow?n({type:"upgradeHookAction",kind:kt.a.ActionsKind.onFullShow})():e.kind===kt.a.ActionsKind.onUpgrade?n({type:"upgradeHookAction",kind:kt.a.ActionsKind.onUpgrade})():e.kind===kt.a.ActionsKind.onContinueWithFreePlan&&n({type:"upgradeHookAction",kind:kt.a.ActionsKind.onContinueWithFreePlan})()},e),hidden:()=>e},()=>e.pipe(p.a.map(e=>({cardKind:t(e.visualState.transition.type)})))))},e.shadeFlow=function(e){return m.a.composeUnion({mini:()=>e,full:()=>e,hidden:()=>e},()=>e.pipe(p.a.map(e=>({cardKind:Object(u.pipe)(e.visualState.from,F.g.fold(()=>"hidden",t))}))))}}(Ct||(Ct={})),function(e){e.ListCard=m.b.Node.make(({view:e,notify:a})=>{const r=Object(u.pipe)(e("view"),p.a.distinctUntilChanged((e,t)=>e.alerts.length===t.alerts.length&&e.groupedAlerts===t.groupedAlerts&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type));return m.b.mount(S.a.make(m.b.Union.make("cardKind",{mini:t,full:n,hidden:m.b.Node.empty})),Object(u.pipe)(L.a.flow(r,Ct.flow(r,a),Ct.shadeFlow(r)),L.a.extend(e=>a(e)())))});const t=Object(u.pipe)(Et.b,m.b.contramapState(e=>({alertsCount:e.alerts.length}))),n=Object(u.pipe)(kt.b,m.b.contramapState(e=>({alertsState:{count:e.alerts.length,alerts:e.groupedAlerts,documentType:e.documentType}})))}(wt||(wt={}));var jt,_t,xt=n("KZgA"),At=n("SOPW"),It=n("8XoQ"),Tt=n("4wwO"),Mt=n("/1wo"),Pt=n("+ySe"),Nt=n("eAYH"),Dt=n("iVUr"),Bt=n("mDV6"),Lt=n("e92m"),Ft=n("d3CI"),Rt=n("wdnv"),Ht=n("6YEU"),Vt=n("To5e"),Ut=n("A/YC"),Wt=n("hdYN"),zt=n("ZCrp"),Gt=n.n(zt),qt=n("UnJg"),Kt=function(e){var t=e.title,n=e.onClick,a=Object(re.b)({layoutDensity:"minimal"});return c.createElement(Wt.b,Object(i.a)(Object(r.a)({},Object(et.c)(a.container,$t.container)),{onClick:n}),c.createElement("div",{className:a.wrapper},c.createElement(ue.Typography.Base,{className:$t.label},c.createElement("img",{className:qt.a.titleIcon,src:Gt.a,alt:"","aria-hidden":!0}),t)))},$t=O.a.prefixedStylesheet("draft_ai_mini_card",{label:[{color:me.a.CoreNeutral90,textOverflow:"ellipsis",position:"relative",lineHeight:O.a.rem(2),marginLeft:O.a.rem(1),userSelect:"none"}],container:[{cursor:"pointer"}]});(jt||(jt={})).DraftAI=m.b.Node.make((function(e){var t=e.view,n=e.notify,a=t("view"),r=c.useRef(null),i=c.useContext(Vt.a.Context).draftAI.cardTitle;return c.createElement(d.a.div,{forwardRef:r,mount:function(e){return n({kind:Ut.b.Event.Kind.draftAIMiniCardMount,node:F.g.fromNullable(e)})()}},a.pipe(p.a.distinctUntilChanged(Ut.a.eq.equals),p.a.mapTo(c.createElement(Kt,{title:i,onClick:n({kind:Ut.b.Event.Kind.draftAIMiniCardClick,cardPosition:{top:r.current?r.current.getBoundingClientRect().top:0}})}))))})),function(e){var t=function(e,t,n,r,i,s,c){var l;return Ft.e.Items.mapper((function(e){return e.kind}),(l={},Object(a.a)(l,At.a.Kind,e),Object(a.a)(l,Tt.a.Kind,t),Object(a.a)(l,Ht.a.Kind,n),Object(a.a)(l,Lt.a.Kind,r),Object(a.a)(l,Ut.a.Kind,i),Object(a.a)(l,St.a.Kind,s),Object(a.a)(l,o.a.Kind,c),l))},n=function(e){return e.kind===At.a.Kind},c=function(e){return e.kind===Tt.a.Kind},l=function(e){return e.kind===Ht.a.Kind},d=function(e){return e.kind===Lt.a.Kind},f=function(e){return e.kind===Ut.a.Kind},h=function(e){return St.a.isUpgradeHookItem(e)},g=function(e){return e.kind===o.a.Kind},b=function(e){return n(e)&&Nt.b.isEthicalAIItem(e)},v=function(e){return c(e)&&Nt.b.isEthicalAIItem(e)},y=function(e){return{viewState:function(t,n){return function(n){switch(n.kind){case At.a.Kind:return{view:n,isLastCard:t,kind:"alertCard",visibleViewportHeight:F.g.none};case Tt.a.Kind:return{view:n,isLastCard:t,kind:"alertsBundle",visibleViewportHeight:F.g.none};case Ht.a.Kind:return{view:n,kind:"plagiarismCard"};case Lt.a.Kind:return{view:n,kind:"bulkAccept"};case Ut.a.Kind:return{view:n,kind:"draftAI"};case St.a.Kind:return e.denali.premiumUphookCardUI?{view:n,kind:"upgradeHookCardExp"}:{view:n,kind:"upgradeHookCard"};case o.a.Kind:return{kind:"alertRefSDUI",view:n};default:return Object(C.c)(n)}}}}},O=function(e){var n=At.a.Capabilities.getChangePosition(e),a=Ht.a.Capabilities.getChangePosition();return{changePosition:function(e){return t(n.changePosition(e),Tt.a.changePosition(e),a.changePosition(e),(function(t){return Lt.a.changePosition(t)(e)}),(function(t){return Ut.a.changePosition(t)(e)}),St.a.Capabilities.changePosition(e),o.a.Capabilities.changePosition(e))}}},S=function(){return{updateUserInput:function(e){return t(At.a.updateUserInput(e),Tt.a.changeUserInput(e),u.identity,u.identity,u.identity,u.identity,u.identity)}}},w=function(e,n){var a=At.a.Capabilities.getAnimatable(e),r=Tt.a.Capabilities.getAnimatable(n),i=Ht.a.Capabilities.getAnimatable();return{shouldAnimatePositionChange:function(e,n){return t(u.constTrue,u.constTrue,u.constTrue,u.constTrue,u.constTrue,u.constTrue,(function(t){return!(n&&Dt.a.PositionState.verticalEq.equals(e,t.positionState)&&!Object(tt.b)(Bt.a.isAnimatable,Bt.a.isInTransition)(t))&&(0!==t.positionState.height&&!Object(tt.b)(Bt.a.isAnimatable,Bt.a.isAnimatingAdded)(t))}))},completeTransition:function(e){return t(a.completeTransition(e),r.completeTransition(e),i.completeTransition(e),(function(t){return Lt.a.completeTransition(t,e)}),u.identity,St.a.Capabilities.animatable.completeTransition(e),o.a.Capabilities.animatable.completeTransition(e))},transitionTo:function(e){return t(a.transitionTo(e),r.transitionTo(e),i.transitionTo(e),(function(t){return Lt.a.transitionTo(t,e)}),u.identity,St.a.Capabilities.animatable.transitionTo(e),o.a.Capabilities.animatable.transitionTo(e))},changeVisualState:function(e){return t(a.changeVisualState(e),r.changeVisualState(e),i.changeVisualState(e),Lt.a.changeVisualState(e),u.identity,St.a.Capabilities.animatable.changeVisualState(e),o.a.Capabilities.animatable.changeVisualState(e))}}},k=function(e,n,a,s){var c=Tt.a.getCardHydrator(s),l=Tt.a.getSelect(n,a,c),d=Tt.a.getSelectByAlert(n,a,c),p=At.a.Capabilities.getSelect(e),m=Ht.a.Capabilities.getSelect(n,a),f=St.a.Capabilities.getSelect(n,a);return{select:function(e,n){return t(p.select(e,n),l(e,n),m.select(e,n),(function(t){return Lt.a.select(t,e)}),u.identity,f.select(e,n),o.a.Capabilities.select.select(e,n))},selectByAlert:function(e,n,a){return t(p.selectByAlert(e,n,a),d(n,e,a),m.selectByAlert(e,n,a),(function(t){return Lt.a.select(t,e)}),u.identity,f.selectByAlert(e,n,a),Object(u.flow)(o.a.Capabilities.select.selectByAlert(e,n,a),(function(e){return Object(K.pipe)(e,T(F.g.some(n)),F.g.getOrElse((function(){return Object(i.a)(Object(r.a)({},e),{activeAlert:n.alert,activeHighlightIndex:n.highlightIndex,meta:It.a.empty(void 0)})})))})))},unselect:function(e,n){return t(p.unselect(e,n),Tt.a.unselect(e,n),m.unselect(e,n),(function(t){return Lt.a.unselect(t,e)}),u.identity,f.unselect(e,n),o.a.Capabilities.select.unselect(e,n))}}},E=function(e,a,r,i){return{removeAlertFromItem:function(o,s){return t((function(t){return At.a.Capabilities.getRemoveAlerts(e,s.itemsOrd)(o,Ft.k.getActiveItemOfType(n)(s))(t)}),(function(e){return Tt.a.Capabilities.getRemoveAlertsCapability(a,r,i,s.itemsOrd)(o,Ft.k.getActiveItemOfType(c)(s))(e)}),Ht.a.Capabilities.getRemoveAlert(Ft.k.getActiveItem,s.itemsOrd).removeAlertFromItem(o,s),u.identity,u.identity,u.identity,u.identity)}}},j=function(e,n,a){var r=At.a.Capabilities.getRemove(e);return{remove:function(e,i){return t(r.remove(e,i),(function(t){return Boolean(e(t))?Tt.a.Capabilities.getRemove(n,a)([t.activeAlert],i(t))(t):t}),(function(t){return Boolean(e(t))?Ht.a.Capabilities.remove([t.activeAlert],i(t))(t):t}),u.identity,u.identity,St.a.Capabilities.remove.remove(e,i),o.a.Capabilities.remove.remove(e,i))}}},_=function(e,n,a,r){var i=At.a.Capabilities.getUpdateWithAlert(e),o=Tt.a.Capabilities.getUpdatableWithAlertsCapability(n,r),s=Ht.a.Capabilities.getUpdateWithAlert(a);return{updateWithAlerts:function(e){return t(i.updateWithAlerts(e),o(e),s.updateWithAlerts(e),u.identity,u.identity,u.identity,u.identity)}}},x=function(e){var n=Mt.a.getCardSelections(e);return{nextAlert:t(n.nextAlert,n.nextAlert,n.nextAlert,(function(){return F.g.none}),(function(){return F.g.none}),(function(){return F.g.none}),(function(){return F.g.none})),prevAlert:t(n.prevAlert,n.prevAlert,n.prevAlert,(function(){return F.g.none}),(function(){return F.g.none}),(function(){return F.g.none}),(function(){return F.g.none}))}},A=(e.hasItemUnion=Ft.e.hasItems,Object(tt.p)(n,c,l)),I=e.isSelectableItem=Object(tt.p)(n,c,l,g),T=function(e){return function(t){return Object(K.pipe)(e,F.g.chain((function(e){return Object(K.pipe)(o.a.Capabilities.toAlertItem(t),F.g.map((function(t){return Object(i.a)(Object(r.a)({},t),{activeHighlightIndex:e.highlightIndex})})))})),F.g.alt((function(){return Nt.a.is(t)?F.g.some(t):o.a.Capabilities.toAlertItem(t)})))}},M=function(e){return Object(K.pipe)(Ft.k.getActiveItemOfType(g)(e),F.g.chain(T(F.g.none)))};e.getActiveItemWithAlert=function(e){return Object(K.pipe)(Ft.k.getActiveItemOfType(A)(e),F.g.alt((function(){return M(e)})))},e.getActiveAlignableItem=function(e){return Object(K.pipe)(Ft.k.getActiveItemOfType(Object(tt.p)(n,c,l,d,h))(e),F.g.alt((function(){return M(e)})))},e.getActiveFocusableItem=function(e){return Object(K.pipe)(Ft.k.getActiveItemOfType(Object(tt.p)(n,h,c,l,Object(tt.b)(d,(function(e){return e.hasMarkFocusable}))))(e),F.g.alt((function(){return M(e)})))},e.checksFeedItemsMapper=t,e.isAlertCard=n,e.isAlertsBundle=c,e.isPlagiarismCard=l,e.isBulkAcceptItem=d,e.isDraftAIItem=f,e.isUpgradeHook=h,e.isAlertRefSDUI=g,e.isEthicalAIAlertCard=b,e.isEthicalAIAlertsBundle=v;e.defaultOrd=Object(G.fold)(F.h.getMonoid())([Object(K.pipe)(F.h.ordBoolean,F.h.contramap(Object(u.not)(b))),Object(K.pipe)(F.h.ordBoolean,F.h.contramap(h)),Object(K.pipe)(F.h.ordBoolean,F.h.contramap(n)),At.a.ord]);e.sduiToChecksFeedOrd=function(e){return function(t){return F.h.fromCompare((function(n,a){return s.a.isSDUIItem(n)&&s.a.isSDUIItem(a)?s.a.getOrd(t).compare(n,a):P(e).compare(n,a)}))}};var P=e.getByActiveAlertPositionOrd=function(e){return Object(G.fold)(F.h.getMonoid())([Object(K.pipe)($.d.ordHRange,F.h.contramap((function(t){return Object(K.pipe)(e.hasActiveAlert(t),F.g.map((function(e){return e.alert})),F.g.getOrElse((function(){return{getHighlightRanges:function(){return[{start:0,end:0}]}}})))})))])};e.byActiveAlertPositionOrd=Object(G.fold)(F.h.getMonoid())([Object(K.pipe)(F.h.ordBoolean,F.h.contramap(h)),Object(K.pipe)(F.h.ordBoolean,F.h.contramap(n)),At.a.ord]),e.bundlesOrd=Object(G.fold)(F.h.getMonoid())([Object(K.pipe)(F.h.ordBoolean,F.h.contramap(Object(u.not)(v))),Object(K.pipe)(F.h.ordBoolean,F.h.contramap(n)),Tt.a.ord]),e.item=function(e){return m.b.Union.make("kind",{alertCard:Y.a.Card(e),alertsBundle:Q.a.Card(e),plagiarismCard:gt.Card,bulkAccept:z.Card(e),draftAI:jt.DraftAI,upgradeHookCard:vt.ListCard,upgradeHookCardExp:wt.ListCard,alertRefSDUI:V.SquashedListCard()})},e.upgradeHookOnlyItem=function(){return m.b.Union.make("kind",{alertCard:m.b.Node.empty,upgradeHookCardExp:wt.ListCard})};e.viewState=y;e.createCardListFlow=function(e,t,n){return Object(X.b)((function(a){switch(a.key){case"draftAI":Object(K.pipe)(t,F.g.tap((function(e){e.next(a.action)})));break;case"plagiarismCard":e.actionEvents.next(a.action);break;case"upgradeHookCard":case"upgradeHookCardExp":switch(a.action.type){case"upgradeHookAction":Object(K.pipe)(n,F.g.tap((function(e){return e.next(a.action)})));break;default:e.actionEvents.next(a.action)}break;case"alertRefSDUI":e.actionEvents.next(a.action);break;default:Object(C.d)(a)}}))},e.listItemOrd=function(e){return Object(q.contramap)((function(e){return e.cell.item.view}))(e).compare};var N={equals:function(e,t){return e.kind===t.kind&&Dt.a.eqById.equals(e,t)}},D=function(e,t,n,r,i,s,c){return{equals:function(l,u){var d,p,m,f=(d={},Object(a.a)(d,At.a.Kind,e),Object(a.a)(d,Tt.a.Kind,t),Object(a.a)(d,Ht.a.Kind,n),Object(a.a)(d,Lt.a.Kind,r),Object(a.a)(d,Ut.a.Kind,i),Object(a.a)(d,St.a.Kind,s),Object(a.a)(d,o.a.Kind,c),d);return N.equals(l,u)&&(p=function(e){return e.kind},m=f,function(e,t){return m[p(e)].equals(e,t)})(l,u)}}},B=Object(G.fold)(F.c.getMonoid())([Bt.a.eq,Dt.a.verticalPositionEq,N]),L=e.equatable={structEq:D(At.a.eq,Tt.a.eq,Ht.a.eq,Lt.a.eq,Ut.a.eq,St.a.eq,o.a.eq),idEq:D(N,N,N,N,N,N,N),visualStateEq:D(B,B,B,Lt.a.visualStateEq,Ut.a.eq,St.a.eq,o.a.eq)},R=e.cloneable=function(){var e=Dt.a.Capabilities.getPojoCloneable().clone;return{clone:t(At.a.Capabilities.getCloneable().clone,e,e,Lt.a.clone,Ut.a.clone,e,e)}};e.changePosition=O,e.hasUserInput=S;var H=e.disposable={isScheduledToDispose:t((function(e){return Nt.b.willBeDisposed(e,e.removedAlertsIds)}),(function(e){return Nt.b.willBeDisposed(e,e.removedAlertsIds)}),(function(e){return Nt.b.willBeDisposed(e,e.removedAlertsIds)}),u.constFalse,u.constFalse,u.constFalse,o.a.Capabilities.disposable.isScheduledToDispose)},U=e.hidable={isHidden:t(Bt.a.isHidden,Bt.a.isHidden,Bt.a.isHidden,Bt.a.isHidden,(function(e){return"hidden"===e.visibilityState}),Bt.a.isHidden,Bt.a.isHidden)};e.animatableItem=w;var W=e.queries={isSelectableByAlert:function(e){return t((function(t){return Object(K.pipe)(t.lensId,F.g.exists((function(e){return e!==Z.a.SpecialId.Premium})))&&Nt.b.hasAlert(e.alert.id)(t)}),Nt.b.hasAlert(e.alert.id),Nt.b.hasAlert(e.alert.id),u.constFalse,u.constFalse,Nt.b.hasAlert(e.alert.id),Object(tt.b)(o.a.Capabilities.hasAlerts.isSelectableByAlert(e),Object(u.not)(H.isScheduledToDispose)))},hasAlert:function(e){return t(Nt.b.hasAlert(e),Nt.b.hasAlert(e),Nt.b.hasAlert(e),Lt.a.hasAlert(e),u.constFalse,Nt.b.hasAlert(e),o.a.Capabilities.hasAlerts.hasAlert(e))},useReferenceHeightOnRemove:u.constFalse,hasActiveAlert:t(Nt.b.hasActiveAlert,Nt.b.hasActiveAlert,Nt.b.hasActiveAlert,F.g.empty,F.g.empty,Nt.b.hasActiveAlert,o.a.Capabilities.hasAlerts.hasActiveAlert)};e.select=k,e.removeAlert=E,e.remove=j,e.updateWithAlert=_;var J=e.releaseAlert=function(e,t,n,a){return Rt.a.Capabilities.getAlertReleaser(Object(r.a)({},E(e,t,n,a),H))},ee=e.unselectable=function(e,t,n,a){return Rt.a.Capabilities.getUnselectable(Ft.k.getActiveItem,Object(r.a)({},k(e,t,n,a),H))},te=e.selectableByAlert=function(e,t,n,a,i){return Rt.a.Capabilities.getSelectableByAlert((function(e){return Object(K.pipe)(e.items.find(Object(tt.b)(Bt.a.isAnimatable,Bt.a.isFocused)),F.g.map(ze.e.pick("value")))}),Object(r.a)({},W,k(e,t,n,a),i.denali.feedUpgradeHook||i.denali.premiumUphookCardUI?{willShowChecksFeed:u.constTrue}:Rt.a.Capabilities.getHasChecksFeed(),H))},ne=e.selectableById=function(e,t,n,a){return Rt.a.Capabilities.getSelectableById(Ft.k.getActiveItem,Object(r.a)({},k(e,t,n,a),H))},ae=e.updateMeta=function(e){return{updateMeta:function(t){return Object(G.fold)(Object(G.getEndomorphismMonoid)())([Rt.a.Plagiarism.updateCardsWithLensMeta(e),Rt.a.Capabilities.getMetaUpdatable().updateMeta(t)])}}},re=e.animatableFeed=function(e,t,n,a){return Rt.a.Capabilities.getAnimatable(e,Object(r.a)({},E(e,t,n,a),w(e,a),Rt.a.Capabilities.getHasChecksFeed()))},ie=function(e){return["focused","expanded"].includes(e.visualState.transition.type)&&!Boolean(H.isScheduledToDispose(e))},oe=e.alignable={isValidToAlign:t(ie,ie,ie,ie,u.constFalse,ie,ie)};e.alertIterator=x;var se=e.itemReleaser=function(){return Rt.a.Capabilities.getItemReleaser()},ce=e.hasAlerts=Rt.a.Capabilities.getHasAlerts,le=(e.draftAITest=f,e.isInSuccess=Rt.a.WithSuccess.State.isInSuccess(H),e.isInGlobalSuccess=Rt.a.WithSuccess.State.isInGlobalSuccess(H),e.verifiable=function(){return Rt.a.Capabilities.getVerifiable(H)}),ue=(e.alignMarkToGetter=function(e,n,a){var r=xt.a.alignMarkToItem(e,n),i=Lt.a.alignMarkToBulkItem(e,n),o=Pt.a.ContentOffset.contentOffsetGetter();return function(e){return t(r(e),r(e),r(e),F.g.isSome(e.suggestedPosition)?i({suggestedPosition:F.g.unsafeGet(e.suggestedPosition)}):Lt.a.moveToViewportTop(n,o(!1,a.get())),(function(){return p.a.EMPTY}),(function(){return p.a.EMPTY}),r(e))}},e.alignItemToMarkGetter=function(e,n){var a=xt.a.alignItemToMark(e,n);return function(e){return t(a(e),a(e),a(e),(function(){return p.a.EMPTY}),(function(){return p.a.EMPTY}),a(e),a(e))}},{getFeatures:t((function(){return[]}),(function(){return[]}),(function(){return[]}),(function(){return[]}),(function(){return[]}),(function(){return[]}),(function(e){return o.a.Item.isBulkDismissSDUI(e)?[o.a.Features.BulkDismiss]:o.a.Item.isBulkAcceptSDUI(e)?[o.a.Features.BulkAccept]:[]}))});e.getCapabilities=function(e,t,n,a,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Mt.b.Default;return Object(r.a)({},y(o),H,U,L,S(),O(e),w(e,i),k(e,a,s,i),j(e,s,i),E(e,a,s,i),_(e,t,s,i),W,oe,J(e,a,s,i),ee(e,a,s,i),te(e,a,s,i,o),ne(e,a,s,i),ae(n),re(e,a,s,i),se(),le(),R(),ue,ce(x(a),a,(function(){return I}),Object(r.a)({},W,H)))}}(_t||(_t={}))},Mi0J:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("0kuo"),i=n("PYgo"),o=n("xk6L"),s=n("itj6");!function(e){let t;!function(e){e.apply="apply",e.dismiss="dismiss",e.bulkUndo="bulkUndo",e.ignore="ignore",e.highlight="highlight",e.individualUndo="individualUndo",e.confirmed="confirmed",e.confirmedAll="confirmedAll"}(t=e.Kind||(e.Kind={})),e.isApply=function(e){return e.kind===t.apply},e.isBulkUndo=function(e){return e.kind===t.bulkUndo},e.isConfirmAll=function(e){return e.kind===t.confirmedAll},e.isHighlight=function(e){return e.kind===t.highlight},e.isIndividualUndo=function(e){return e.kind===t.individualUndo};e.create=(e,n)=>o.a.mergeStatic(e.pipe(o.a.filter(s.b.isBulkAction),o.a.map(e=>{switch(e.type){case s.b.Type.bulkApply:return{kind:t.apply,alertIds:e.alertIds};case s.b.Type.bulkDismiss:return{kind:t.dismiss};case s.b.Type.bulkHighlight:return{kind:t.highlight,alert:e.alert,clickPoint:e.clickPoint};case s.b.Type.bulkIgnore:return{kind:t.ignore,alertId:e.alertId};case s.b.Type.bulkIndividualUndo:return{kind:t.individualUndo,alertId:e.alertId};case s.b.Type.bulkLooksGood:return{kind:t.confirmedAll,alertIds:e.alertIds};case s.b.Type.bulkUndo:return{kind:t.bulkUndo,alertIds:e.alertIds};default:Object(r.c)(e)}})),n.pipe(o.a.filter(i.b.isBulkAction),o.a.map(e=>{switch(e.type){case i.b.Type.confirmed:return{kind:t.confirmed,alertId:e.alertId};case i.b.Type.undone:return{kind:t.individualUndo,alertId:e.alertHighlight.alert.id};default:Object(r.c)(e)}})))}(a||(a={}))},MibW:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("mMt2");!function(e){var t=function(){function e(t){Object(r.a)(this,e),Object(o.a)(this,"_predicate",void 0),Object(o.a)(this,"_queueMap",void 0),Object(o.a)(this,"_queue",void 0),this._predicate=t,this._queueMap=new Set,this._queue=[]}return Object(i.a)(e,[{key:"put",value:function(e){var t,n=this,a=new Set,r=e.reduce((function(e,t){return a.has(t.id)||n._queueMap.has(t.id)||!n._predicate(t)||(a.add(t.id),e.push(t)),e}),[]);(t=this._queue).push.apply(t,Object(s.a)(r)),r.forEach((function(e){var t=e.id;return n._queueMap.add(t)}))}},{key:"take",value:function(e){for(var t=0,n=[];t<this._queue.length&&n.length<e;){var a=this._queue[t];this._predicate(a)&&n.push(a),this._queueMap.delete(a.id),t++}return this._queue=this._queue.slice(t),n}},{key:"order",value:function(e){this._queue.sort(e)}},{key:"length",get:function(){return this._queue.length}},{key:"nonEmpty",get:function(){return this._queue.length>0}}]),e}();e.LazyPredicateUniq=t}(a||(a={}))},N4IK:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c}));var a={};n.r(a),n.d(a,"CoreNeutral90",(function(){return l})),n.d(a,"CoreNeutral80",(function(){return u})),n.d(a,"CoreNeutral70",(function(){return d})),n.d(a,"CoreNeutral60",(function(){return p})),n.d(a,"CoreNeutral50",(function(){return m})),n.d(a,"CoreNeutral40",(function(){return f})),n.d(a,"CoreNeutral30",(function(){return h})),n.d(a,"CoreNeutral20",(function(){return g})),n.d(a,"CoreNeutral10",(function(){return b})),n.d(a,"CoreNeutral1",(function(){return v})),n.d(a,"CoreNeutral0",(function(){return y})),n.d(a,"CoreGreen70",(function(){return O})),n.d(a,"CoreGreen60",(function(){return S})),n.d(a,"CoreGreen50",(function(){return C})),n.d(a,"CoreGreen40",(function(){return w})),n.d(a,"CoreGreen30",(function(){return k})),n.d(a,"CoreGreen20",(function(){return E})),n.d(a,"CoreGreen10",(function(){return j})),n.d(a,"CoreGreen1",(function(){return _})),n.d(a,"CoreBlue70",(function(){return x})),n.d(a,"CoreBlue60",(function(){return A})),n.d(a,"CoreBlue50",(function(){return I})),n.d(a,"CoreBlue40",(function(){return T})),n.d(a,"CoreBlue30",(function(){return M})),n.d(a,"CoreBlue20",(function(){return P})),n.d(a,"CoreBlue10",(function(){return N})),n.d(a,"CoreBlue1",(function(){return D})),n.d(a,"CoreRed70",(function(){return B})),n.d(a,"CoreRed60",(function(){return L})),n.d(a,"CoreRed50",(function(){return F})),n.d(a,"CoreRed40",(function(){return R})),n.d(a,"CoreRed30",(function(){return H})),n.d(a,"CoreRed20",(function(){return V})),n.d(a,"CoreRed10",(function(){return U})),n.d(a,"CoreRed1",(function(){return W})),n.d(a,"CoreYellow80",(function(){return z})),n.d(a,"CoreYellow70",(function(){return G})),n.d(a,"CoreYellow60",(function(){return q})),n.d(a,"CoreYellow50",(function(){return K})),n.d(a,"CoreYellow40",(function(){return $})),n.d(a,"CoreYellow30",(function(){return Z})),n.d(a,"CoreYellow20",(function(){return Y})),n.d(a,"CoreYellow10",(function(){return X})),n.d(a,"CoreYellow1",(function(){return Q})),n.d(a,"CorePurple60",(function(){return J})),n.d(a,"CorePurple50",(function(){return ee})),n.d(a,"CorePurple40",(function(){return te})),n.d(a,"CorePurple30",(function(){return ne})),n.d(a,"CorePurple20",(function(){return ae})),n.d(a,"CorePurple10",(function(){return re})),n.d(a,"CorePurple1",(function(){return ie})),n.d(a,"CoreCyan60",(function(){return oe})),n.d(a,"CoreCyan50",(function(){return se})),n.d(a,"CoreCyan40",(function(){return ce})),n.d(a,"CoreCyan30",(function(){return le})),n.d(a,"CoreCyan20",(function(){return ue})),n.d(a,"CoreCyan10",(function(){return de})),n.d(a,"CoreCyan1",(function(){return pe})),n.d(a,"CoreSky70",(function(){return me})),n.d(a,"CoreSky60",(function(){return fe})),n.d(a,"CoreSky50",(function(){return he})),n.d(a,"CoreSky40",(function(){return ge})),n.d(a,"CoreSky30",(function(){return be})),n.d(a,"CoreSky20",(function(){return ve})),n.d(a,"CoreSky10",(function(){return ye})),n.d(a,"CoreSky1",(function(){return Oe})),n.d(a,"CoreIndigo70",(function(){return Se})),n.d(a,"CoreIndigo60",(function(){return Ce})),n.d(a,"CoreIndigo50",(function(){return we})),n.d(a,"CoreIndigo40",(function(){return ke})),n.d(a,"CoreIndigo30",(function(){return Ee})),n.d(a,"CoreIndigo20",(function(){return je})),n.d(a,"CoreIndigo10",(function(){return _e})),n.d(a,"CoreIndigo1",(function(){return xe})),n.d(a,"CoreMagenta70",(function(){return Ae})),n.d(a,"CoreMagenta60",(function(){return Ie})),n.d(a,"CoreMagenta40",(function(){return Te})),n.d(a,"CoreMagenta30",(function(){return Me})),n.d(a,"CoreMagenta10",(function(){return Pe})),n.d(a,"CoreMagenta1",(function(){return Ne})),n.d(a,"CoreCoral60",(function(){return De})),n.d(a,"CoreCoral50",(function(){return Be})),n.d(a,"CoreCoral40",(function(){return Le})),n.d(a,"CoreCoral30",(function(){return Fe})),n.d(a,"CoreCoral10",(function(){return Re})),n.d(a,"CoreCoral1",(function(){return He})),n.d(a,"CoreYellowBrand50",(function(){return Ve})),n.d(a,"CoreYellowBrand40",(function(){return Ue})),n.d(a,"CoreYellowBrand30",(function(){return We})),n.d(a,"CoreYellowBrand20",(function(){return ze})),n.d(a,"CoreYellowBrand10",(function(){return Ge})),n.d(a,"CoreYellowBrand1",(function(){return qe})),n.d(a,"CoreLime50",(function(){return Ke})),n.d(a,"CoreLime40",(function(){return $e})),n.d(a,"CoreLime30",(function(){return Ze})),n.d(a,"CoreLime20",(function(){return Ye})),n.d(a,"CoreLime10",(function(){return Xe})),n.d(a,"CoreLime1",(function(){return Qe}));var r={};n.r(r),n.d(r,"Blue0",(function(){return Je})),n.d(r,"Blue10",(function(){return et})),n.d(r,"Blue20",(function(){return tt})),n.d(r,"Blue30",(function(){return nt})),n.d(r,"Blue40",(function(){return at})),n.d(r,"Blue60",(function(){return rt})),n.d(r,"Blue80",(function(){return it})),n.d(r,"Blue90",(function(){return ot})),n.d(r,"Blue100",(function(){return st})),n.d(r,"BlueGray0",(function(){return ct})),n.d(r,"BlueGray5",(function(){return lt})),n.d(r,"BlueGray10",(function(){return ut})),n.d(r,"BlueGray20",(function(){return dt})),n.d(r,"BlueGray30",(function(){return pt})),n.d(r,"BlueGray35",(function(){return mt})),n.d(r,"BlueGray40",(function(){return ft})),n.d(r,"BlueGray50",(function(){return ht})),n.d(r,"BlueGray60",(function(){return gt})),n.d(r,"BlueGray70",(function(){return bt})),n.d(r,"BlueGray80",(function(){return vt})),n.d(r,"BlueGray90",(function(){return yt})),n.d(r,"BlueGray100",(function(){return Ot})),n.d(r,"Gold0",(function(){return St})),n.d(r,"Gold10",(function(){return Ct})),n.d(r,"Gold20",(function(){return wt})),n.d(r,"Gold30",(function(){return kt})),n.d(r,"Gold40",(function(){return Et})),n.d(r,"Gold60",(function(){return jt})),n.d(r,"Gold80",(function(){return _t})),n.d(r,"Gold90",(function(){return xt})),n.d(r,"Gold100",(function(){return At})),n.d(r,"Green0",(function(){return It})),n.d(r,"Green10",(function(){return Tt})),n.d(r,"Green20",(function(){return Mt})),n.d(r,"Green30",(function(){return Pt})),n.d(r,"Green40",(function(){return Nt})),n.d(r,"Green60",(function(){return Dt})),n.d(r,"Green80",(function(){return Bt})),n.d(r,"Green90",(function(){return Lt})),n.d(r,"Green100",(function(){return Ft})),n.d(r,"Magenta0",(function(){return Rt})),n.d(r,"Magenta10",(function(){return Ht})),n.d(r,"Magenta20",(function(){return Vt})),n.d(r,"Magenta30",(function(){return Ut})),n.d(r,"Magenta40",(function(){return Wt})),n.d(r,"Magenta60",(function(){return zt})),n.d(r,"Magenta80",(function(){return Gt})),n.d(r,"Magenta90",(function(){return qt})),n.d(r,"Magenta100",(function(){return Kt})),n.d(r,"NeutralGray0",(function(){return $t})),n.d(r,"NeutralGray5",(function(){return Zt})),n.d(r,"NeutralGray10",(function(){return Yt})),n.d(r,"NeutralGray20",(function(){return Xt})),n.d(r,"NeutralGray30",(function(){return Qt})),n.d(r,"NeutralGray35",(function(){return Jt})),n.d(r,"NeutralGray40",(function(){return en})),n.d(r,"NeutralGray50",(function(){return tn})),n.d(r,"NeutralGray60",(function(){return nn})),n.d(r,"NeutralGray70",(function(){return an})),n.d(r,"NeutralGray80",(function(){return rn})),n.d(r,"NeutralGray90",(function(){return on})),n.d(r,"NeutralGray100",(function(){return sn})),n.d(r,"Purple0",(function(){return cn})),n.d(r,"Purple10",(function(){return ln})),n.d(r,"Purple20",(function(){return un})),n.d(r,"Purple30",(function(){return dn})),n.d(r,"Purple40",(function(){return pn})),n.d(r,"Purple60",(function(){return mn})),n.d(r,"Purple80",(function(){return fn})),n.d(r,"Purple90",(function(){return hn})),n.d(r,"Purple100",(function(){return gn})),n.d(r,"Red0",(function(){return bn})),n.d(r,"Red10",(function(){return vn})),n.d(r,"Red20",(function(){return yn})),n.d(r,"Red30",(function(){return On})),n.d(r,"Red40",(function(){return Sn})),n.d(r,"Red60",(function(){return Cn})),n.d(r,"Red80",(function(){return wn})),n.d(r,"Red90",(function(){return kn})),n.d(r,"Red100",(function(){return En})),n.d(r,"Teal0",(function(){return jn})),n.d(r,"Teal10",(function(){return _n})),n.d(r,"Teal20",(function(){return xn})),n.d(r,"Teal30",(function(){return An})),n.d(r,"Teal40",(function(){return In})),n.d(r,"Teal60",(function(){return Tn})),n.d(r,"Teal80",(function(){return Mn})),n.d(r,"Teal90",(function(){return Pn})),n.d(r,"Teal100",(function(){return Nn})),n.d(r,"White",(function(){return Dn}));var i={};n.r(i),n.d(i,"Color",(function(){return Bn})),n.d(i,"Base",(function(){return Ln})),n.d(i,"Emphasized",(function(){return Fn})),n.d(i,"Interface",(function(){return Rn})),n.d(i,"SuggestionCategories",(function(){return Hn}));var o={};n.r(o),n.d(o,"SpaceQuarter",(function(){return Vn})),n.d(o,"SpaceHalf",(function(){return Un})),n.d(o,"Space0",(function(){return Wn})),n.d(o,"Space1",(function(){return zn})),n.d(o,"Space2",(function(){return Gn})),n.d(o,"Space3",(function(){return qn})),n.d(o,"Space4",(function(){return Kn})),n.d(o,"Space5",(function(){return $n})),n.d(o,"Space6",(function(){return Zn})),n.d(o,"Space8",(function(){return Yn})),n.d(o,"Space10",(function(){return Xn})),n.d(o,"Space12",(function(){return Qn})),n.d(o,"Space14",(function(){return Jn})),n.d(o,"Space16",(function(){return ea})),n.d(o,"Space18",(function(){return ta})),n.d(o,"Space20",(function(){return na}));var s={};n.r(s),n.d(s,"Elevation100",(function(){return aa})),n.d(s,"Elevation200",(function(){return ra})),n.d(s,"Elevation300",(function(){return ia}));var c={};n.r(c),n.d(c,"RadiusHalf",(function(){return oa})),n.d(c,"Radius1",(function(){return sa})),n.d(c,"Radius2",(function(){return ca})),n.d(c,"Radius3",(function(){return la}));const l="#0E101A",u="#1F243C",d="#333954",p="#4D536E",m="#6D758D",f="#9FA6BF",h="#C6CBDE",g="#E7E9F5",b="#F0F2FC",v="#F9FAFF",y="#FFFFFF",O="#0D8065",S="#11A683",C="#15C39A",w="#41D9B5",k="#87E8D1",E="#AAF2E1",j="#D7F7F0",_="#EBFFFA",x="#26307D",A="#3659B5",I="#4A6EE0",T="#638EEB",M="#79A8F2",P="#99C2FF",N="#DBEBFF",D="#EDF5FF",B="#A50018",L="#CE1331",F="#EA1537",R="#EE445F",H="#F27388",V="#FF99AB",U="#FFDBE3",W="#FDF0F3",z="#8C5404",G="#BB6E00",q="#F29100",K="#FFA600",$="#FFB619",Z="#FFC940",Y="#FFDF80",X="#FFF0D4",Q="#FFF8EC",J="#7E3DAD",ee="#8F4CBF",te="#A963DA",ne="#BD79ED",ae="#D3A1F7",re="#F2E0FF",ie="#F9F0FF",oe="#09A4B2",se="#28BAC7",ce="#4DD0DB",le="#75E1EB",ue="#93EDF5",de="#DBFCFF",pe="#EDFEFF",me="#10627B",fe="#157C9B",he="#1995BB",ge="#40A7C7",be="#67B9D2",ve="#8ECBDE",ye="#B5DDE9",Oe="#DDEFF5",Se="#494393",Ce="#5B55B8",we="#6E66DE",ke="#8780E4",Ee="#9F9AE9",je="#B8B4EF",_e="#D1CEF4",xe="#E9E8FA",Ae="#9A335C",Ie="#C24173",Te="#EE6C9F",Me="#F18AB2",Pe="#F8C6DA",Ne="#FCE4EE",De="#C44242",Be="#EC5050",Le="#EF6E6E",Fe="#F28C8C",Re="#F9C7C7",He="#FCE5E5",Ve="#F6DF6C",Ue="#F8E485",We="#F9EA9E",ze="#FBEFB7",Ge="#FCF5D0",qe="#FEFAE9",Ke="#ADD04F",$e="#BBD86D",Ze="#C9E08B",Ye="#D7E8A9",Xe="#E5F0C7",Qe="#F3F8E5",Je="#E5EBFF",et="#D7E0FE",tt="#B8C8FB",nt="#8CA6F6",at="#5679E8",rt="#2551DA",it="#02289E",ot="#001862",st="#000A26",ct="#F4F4F6",lt="#E2E4E9",ut="#CDD1DC",dt="#C2C6D4",pt="#ADB2C3",mt="#99A0B3",ft="#878DA2",ht="#798096",gt="#646B81",bt="#565B6C",vt="#474B58",yt="#27282E",Ot="#161719",St="#FFF4E0",Ct="#FFEAC2",wt="#FFDD9D",kt="#FFC444",Et="#FFA600",jt="#D67400",_t="#BD5B00",xt="#794100",At="#261900",It="#DEF7F5",Tt="#B1F0E8",Mt="#73E1D4",Pt="#2CC9B6",Nt="#16AC9A",Dt="#018374",Bt="#017467",Lt="#014C43",Ft="#00231F",Rt="#FFE5F0",Ht="#FEC8DD",Vt="#FAACCB",Ut="#F079A8",Wt="#E14683",zt="#D21861",Gt="#990C43",qt="#600428",Kt="#26000F",$t="#F5F5F5",Zt="#E6E6E6",Yt="#D7D7D7",Xt="#CECECE",Qt="#BCBCBC",Jt="#A9A9A9",en="#979797",tn="#858585",nn="#727272",an="#616161",rn="#4F4F4F",on="#2B2B2B",sn="#191919",cn="#F3E0FF",ln="#E6CCFB",un="#DABAF2",dn="#C194E2",pn="#A469CF",mn="#8943BC",fn="#60258A",hn="#3A1058",gn="#180426",bn="#FFEBEE",vn="#FECDD5",yn="#FBABB8",On="#F1768A",Sn="#E5425C",Cn="#D31332",wn="#990921",kn="#600312",En="#260006",jn="#E0FCFF",_n="#B2F4FA",xn="#7DE5EF",An="#2AC6D5",In="#1CA5B2",Tn="#128D99",Mn="#09646C",Pn="#034349",Nn="#002326",Dn="#FFFFFF",Bn={Background:{Addition:{Default:"var(--color-background-addition-default)",Subdued:"var(--color-background-addition-subdued)"},Base:{Default:"var(--color-background-base-default)",Subdued:"var(--color-background-base-subdued)"},Brand:{Default:"var(--color-background-brand-default)",Subdued:"var(--color-background-brand-subdued)"},Business:{Default:"var(--color-background-business-default)",Subdued:"var(--color-background-business-subdued)"},Clarity:{Default:"var(--color-background-clarity-default)",Subdued:"var(--color-background-clarity-subdued)"},Correctness:{Default:"var(--color-background-correctness-default)",Subdued:"var(--color-background-correctness-subdued)"},Critical:{Default:"var(--color-background-critical-default)",Subdued:"var(--color-background-critical-subdued)"},Deletion:{Default:"var(--color-background-deletion-default)",Subdued:"var(--color-background-deletion-subdued)"},Delivery:{Default:"var(--color-background-delivery-default)",Subdued:"var(--color-background-delivery-subdued)"},Engagement:{Default:"var(--color-background-engagement-default)",Subdued:"var(--color-background-engagement-subdued)"},Neutral:{Default:"var(--color-background-neutral-default)"},Plagiarism:{Default:"var(--color-background-plagiarism-default)",Subdued:"var(--color-background-plagiarism-subdued)"},Premium:{Default:"var(--color-background-premium-default)",Subdued:"var(--color-background-premium-subdued)"},Success:{Default:"var(--color-background-success-default)",Subdued:"var(--color-background-success-subdued)"},Warning:{Default:"var(--color-background-warning-default)",Subdued:"var(--color-background-warning-subdued)"}},Border:{Addition:{Default:"var(--color-border-addition-default)",Subdued:"var(--color-border-addition-subdued)"},Base:{Default:"var(--color-border-base-default)",Subdued:"var(--color-border-base-subdued)",Inverse:"var(--color-border-base-inverse)"},Brand:{Default:"var(--color-border-brand-default)",Subdued:"var(--color-border-brand-subdued)"},Business:{Default:"var(--color-border-business-default)",Subdued:"var(--color-border-business-subdued)"},Critical:{Default:"var(--color-border-critical-default)",Subdued:"var(--color-border-critical-subdued)"},Deletion:{Default:"var(--color-border-deletion-default)",Subdued:"var(--color-border-deletion-subdued)"},Premium:{Default:"var(--color-border-premium-default)",Subdued:"var(--color-border-premium-subdued)"},Success:{Default:"var(--color-border-success-default)",Subdued:"var(--color-border-success-subdued)"},Warning:{Default:"var(--color-border-warning-default)",Subdued:"var(--color-border-warning-subdued)"}},Icon:{Addition:{Default:"var(--color-icon-addition-default)"},Base:{Default:"var(--color-icon-base-default)",Inverse:"var(--color-icon-base-inverse)"},Brand:{Default:"var(--color-icon-brand-default)"},Business:{Default:"var(--color-icon-business-default)"},Critical:{Default:"var(--color-icon-critical-default)"},Deletion:{Default:"var(--color-icon-deletion-default)"},Premium:{Default:"var(--color-icon-premium-default)"},Success:{Default:"var(--color-icon-success-default)"},Warning:{Default:"var(--color-icon-warning-default)"}},Text:{Addition:{Default:"var(--color-text-addition-default)"},Base:{Default:"var(--color-text-base-default)",Subdued:"var(--color-text-base-subdued)",Inverse:"var(--color-text-base-inverse)"},Brand:{Default:"var(--color-text-brand-default)"},Business:{Default:"var(--color-text-business-default)"},Critical:{Default:"var(--color-text-critical-default)"},Deletion:{Default:"var(--color-text-deletion-default)"},Premium:{Default:"var(--color-text-premium-default)"},Success:{Default:"var(--color-text-success-default)"},Warning:{Default:"var(--color-text-warning-default)"}}},Ln={Boundaries:{Primary:{Default:"var(--base-boundaries-primary-default)"},Secondary:{Default:"var(--base-boundaries-secondary-default)"}},Content:{OnPrimary:{Default:"var(--base-content-onprimary-default)"},Primary:{Default:"var(--base-content-primary-default)"},Secondary:{Default:"var(--base-content-secondary-default)"}},Surface:{Primary:{Default:"var(--base-surface-primary-default)"},Secondary:{Default:"var(--base-surface-secondary-default)"}}},Fn={Content:{OnPrimary:{Default:"var(--emphasized-content-onprimary-default)"},Primary:{Default:"var(--emphasized-content-primary-default)"},Secondary:{Default:"var(--emphasized-content-secondary-default)"}},DangerAndDeletion:{Primary:{Default:"var(--emphasized-dangeranddeletion-primary-default)",Hover:"var(--emphasized-dangeranddeletion-primary-hover)"}},InteractiveBranded:{Primary:{Default:"var(--emphasized-interactivebranded-primary-default)",Hover:"var(--emphasized-interactivebranded-primary-hover)"}},InteractiveNeutral:{Primary:{Default:"var(--emphasized-interactiveneutral-primary-default)",Hover:"var(--emphasized-interactiveneutral-primary-hover)"}},SuccessAndAddition:{Primary:{Default:"var(--emphasized-successandaddition-primary-default)",Hover:"var(--emphasized-successandaddition-primary-hover)"}},Surface:{Primary:{Default:"var(--emphasized-surface-primary-default)"}},Warning:{Primary:{Default:"var(--emphasized-warning-primary-default)",Hover:"var(--emphasized-warning-primary-hover)"}}},Rn={DangerAndDeletion:{Primary:{Default:"var(--interface-dangeranddeletion-primary-default)",Hover:"var(--interface-dangeranddeletion-primary-hover)"},Secondary:{Default:"var(--interface-dangeranddeletion-secondary-default)",Hover:"var(--interface-dangeranddeletion-secondary-hover)"}},InteractiveBranded:{Primary:{Default:"var(--interface-interactivebranded-primary-default)",Hover:"var(--interface-interactivebranded-primary-hover)"},Secondary:{Default:"var(--interface-interactivebranded-secondary-default)",Hover:"var(--interface-interactivebranded-secondary-hover)"}},InteractiveNeutral:{Primary:{Default:"var(--interface-interactiveneutral-primary-default)",Hover:"var(--interface-interactiveneutral-primary-hover)"},Secondary:{Default:"var(--interface-interactiveneutral-secondary-default)",Hover:"var(--interface-interactiveneutral-secondary-hover)"}},Premium:{Primary:{Default:"var(--interface-premium-primary-default)",Hover:"var(--interface-premium-primary-hover)"},Secondary:{Default:"var(--interface-premium-secondary-default)",Hover:"var(--interface-premium-secondary-hover)"}},SuccessAndAddition:{Primary:{Default:"var(--interface-successandaddition-primary-default)",Hover:"var(--interface-successandaddition-primary-hover)"},Secondary:{Default:"var(--interface-successandaddition-secondary-default)",Hover:"var(--interface-successandaddition-secondary-hover)"}},Warning:{Primary:{Default:"var(--interface-warning-primary-default)",Hover:"var(--interface-warning-primary-hover)"},Secondary:{Default:"var(--interface-warning-secondary-default)",Hover:"var(--interface-warning-secondary-hover)"}}},Hn={Business:{Primary:{Default:"var(--suggestioncategories-business-primary-default)",Hover:"var(--suggestioncategories-business-primary-hover)"},Secondary:{Default:"var(--suggestioncategories-business-secondary-default)",Hover:"var(--suggestioncategories-business-secondary-hover)"}},Clarity:{Primary:{Default:"var(--suggestioncategories-clarity-primary-default)",Hover:"var(--suggestioncategories-clarity-primary-hover)"},Secondary:{Default:"var(--suggestioncategories-clarity-secondary-default)",Hover:"var(--suggestioncategories-clarity-secondary-hover)"}},Correctness:{Primary:{Default:"var(--suggestioncategories-correctness-primary-default)",Hover:"var(--suggestioncategories-correctness-primary-hover)"},Secondary:{Default:"var(--suggestioncategories-correctness-secondary-default)",Hover:"var(--suggestioncategories-correctness-secondary-hover)"}},Delivery:{Primary:{Default:"var(--suggestioncategories-delivery-primary-default)",Hover:"var(--suggestioncategories-delivery-primary-hover)"},Secondary:{Default:"var(--suggestioncategories-delivery-secondary-default)",Hover:"var(--suggestioncategories-delivery-secondary-hover)"}},Engagement:{Primary:{Default:"var(--suggestioncategories-engagement-primary-default)",Hover:"var(--suggestioncategories-engagement-primary-hover)"},Secondary:{Default:"var(--suggestioncategories-engagement-secondary-default)",Hover:"var(--suggestioncategories-engagement-secondary-hover)"}},Plagiarism:{Primary:{Default:"var(--suggestioncategories-plagiarism-primary-default)",Hover:"var(--suggestioncategories-plagiarism-primary-hover)"},Secondary:{Default:"var(--suggestioncategories-plagiarism-secondary-default)",Hover:"var(--suggestioncategories-plagiarism-secondary-hover)"}}},Vn=.0625,Un=.125,Wn=0,zn=.25,Gn=.5,qn=.75,Kn=1,$n=1.25,Zn=1.5,Yn=2,Xn=2.5,Qn=3,Jn=3.5,ea=4,ta=4.5,na=5,aa={boxShadow:"0px 1px 4px 0.5px var(--color-border-base-default-f3)",border:"0.5px solid var(--color-border-base-default-1)"},ra={boxShadow:"0px 1px 8px 0.5px var(--color-border-base-default-f5)",border:"0.5px solid var(--color-border-base-default-1)"},ia={boxShadow:"0px 2px 12px 0.5px var(--color-border-base-default-f5)",border:"0.5px solid var(--color-border-base-default-1)"},oa=.125,sa=.25,ca=.5,la=.75},N5Ay:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var a,r=n("B8yO"),i=n("DTwm"),o=n("mgiE"),s=n("koeM"),c=n("xk6L"),l=n("7IMz");function u(e=12){const{ref:t,onMount:n}=l.a.useElWatcher(),{cardHeight:u,cardVisibleViewportHeight:d}=r.useContext(a.Context),p=r.useContext(s.a.Context);return{onMount:n,maxHeight:r.useRef(t.pipe(c.a.switchMap(o.g.fold(Object(i.constant)(c.a.of(o.g.none)),e=>u.pipe(c.a.take(1),c.a.withLatestFrom(d),c.a.map(([t,n])=>Object(i.pipe)(n,o.g.map(n=>e.offsetHeight+Math.max(0,n-t))))))),c.a.startWith(o.g.none),c.a.withLatestFrom(p.pipe(c.a.startWith(void 0),c.a.map(o.g.fromNullable))),c.a.map(([t,n])=>Object(i.pipe)(t,o.g.alt(()=>Object(i.pipe)(n,o.g.map(t=>e*t))))),c.a.distinctUntilChanged(o.g.getEq(o.c.eqNumber).equals))).current,ref:t}}!function(e){var t=e.Context=r.createContext({cardHeight:c.a.EMPTY,cardVisibleViewportHeight:c.a.of(o.g.none)});e.Provider=e=>{const{ref:n,onMount:a}=l.a.useElWatcher(),i=r.useRef({cardHeight:e.card.pipe(c.a.switchMapTo(n.pipe(c.b.compact,c.a.map(e=>e.offsetHeight))),c.a.distinctUntilChanged(),c.a.shareReplay({bufferSize:1,refCount:!0})),cardVisibleViewportHeight:e.cardVisibleViewportHeight.pipe(c.a.distinctUntilChanged(o.g.getEq(o.c.eqNumber).equals),c.a.shareReplay({bufferSize:1,refCount:!0}))});return r.createElement(t.Provider,{value:i.current},e.children(a))}}(a||(a={}))},NMQX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return r}));var a,r,i=n("Wy1Y"),o=n("a5gI"),s=n("8O/t"),c=n("X76w"),l=n("hcme"),u=n("IMGo"),d=n("bQod"),p=n("DTwm"),m=n("tiWp"),f=n("+vYo"),h=n("lXop"),g=n("MBt8"),b=n("xk6L"),v=n("yIk2"),y=n("bM8p"),O=n("IjjT"),S=n("mgiE"),C=n("0kuo"),w=n("TKPA"),k=n("M3t0"),E=n("txgs"),j=n("OXKW");function _(e,t,n,r,i,o,s,c){var d=[{name:"head",hotkey:S.g.none,initialState:{active:!1,disabled:!1}},{name:h.e.Type.bold,hotkey:u.E([{modifiers:new Set([g.a.short]),key:"B"}]),initialState:{active:!1,disabled:!1}},{name:h.e.Type.italic,hotkey:u.E([{modifiers:new Set([g.a.short]),key:"I"}]),initialState:{active:!1,disabled:!1}},{name:h.e.Type.underline,hotkey:u.E([{modifiers:new Set([g.a.short]),key:"U"}]),initialState:{active:!1,disabled:!1}},"separator",{name:h.e.Type.header1,hotkey:u.E([{modifiers:new Set([g.a.short,g.a.alt]),key:"1"}]),initialState:{active:!1,disabled:!1}},{name:h.e.Type.header2,hotkey:u.E([{modifiers:new Set([g.a.short,g.a.alt]),key:"2"}]),initialState:{active:!1,disabled:!1}},"separator",{name:h.e.Type.link,hotkey:u.E([{modifiers:new Set([g.a.short]),key:"K"}]),initialState:{active:!1,disabled:!1}},"separator",{name:h.e.Type.orderedList,hotkey:u.E([{modifiers:new Set([g.a.short,g.a.shift]),key:"7"}]),initialState:{active:!1,disabled:!1}},{name:h.e.Type.bulletList,hotkey:u.E([{modifiers:new Set([g.a.short,g.a.shift]),key:"8"}]),initialState:{active:!1,disabled:!1}},"separator",{name:"clear",hotkey:u.E([{modifiers:new Set([g.a.short]),key:"\\"}]),initialState:{active:!1,disabled:!1}}],p=d.filter(Object(w.b)(j.a.isItem,(function(e){return e.name!==h.e.Type.link}))),m=a.initHandlers(p),f=function(e,t,n,r,i,o,s){var c=a.ToolbarViewModel.create(n,r,s,t),u=j.a.toMenuEvents(e,c.events).pipe(b.a.tap((function(e){var t=Object(l.a)(e,3),n=t[0],a=(t[1],t[2]);i.rtfMenuEventFire(n,o,a)})));return{viewModel:c,formattingEvents:u}}(e,r,d,i,o,s,c),v=f.formattingEvents,y=f.viewModel,O=Object(l.a)(b.a.partitionStatic(v,(function(e){return e[0]!==h.e.Type.link})),2),C=O[0],E=O[1],_=function(e,t,n,r,i){var o=n(e,i),s=k.d.Logging.getLogger("formattingMenuManager"),c=j.a.linkEvents(r,o).pipe(b.a.catchError((function(e,t){return s.error("Error handling formatting event",e),t}))),l=a.ToolbarViewModel.stateManager(t,i),u=c.pipe(b.a.merge(l)).subscribe();return{dispose:function(){u.unsubscribe()}}}(t,n,m,C,y);return{dispose:function(){_.dispose()},viewModel:y,linkEvents:E}}!function(e){var t,n;!function(e){e.asMenuScheme=function(e){return e.slice(1)}}(t=e.Scheme||(e.Scheme={})),function(e){e.Collapsed="Collapsed",e.Expanded="Expanded"}(n=e.VisualState||(e.VisualState={})),function(e){e.create=function(e,a,r,i){var o=function(e){return a.toolbar.formatting[e]},s=function(e){return S.g.some(a.toolbar.formatting.tooltips[e])},c=function(e,t){return Object(m.pipe)(s(e.name),S.g.map((function(e){return"".concat(a.toolbar.formatting.tooltips.head," ").concat(e)})),S.g.map((function(e){return Object(m.pipe)(t,S.g.map(S.b.fold(p.identity,p.constVoid)),S.g.map((function(t){return"".concat(e,", shortcut ").concat(t)})),S.g.getOrElse(Object(p.constant)(e)))})),S.g.toUndefined)},l=y.a.HotkeyOptions.toString(r.has(E.b.Flag.isAppleSystem)),u=new b.a.Subject,d=f.a.create({menu:n.Expanded,items:e.filter(j.a.isItem).reduce((function(e,t){return e[t.name]=t.initialState,e}),{})}),h=e[0];return{getBindings:Object(m.pipe)(e,t.asMenuScheme,j.a.Scheme.toBindingProvider((function(e){return u.next(e)}),(function(){return i}))),head:{name:h.name,title:o(h.name),tooltip:s(h.name),nestedItem:S.g.none,active:d.view("items",h.name,"active"),disabled:d.view("items",h.name,"disabled"),onClick:function(){return u.next({event:h.name,source:j.a.Source.View})}},list:t.asMenuScheme(e).map((function(e){if(j.a.isItem(e)){var t=Object(m.pipe)(e.hotkey,S.g.map((function(e){return S.b.left(l(e[0]))})));return{name:e.name,title:o(e.name),tooltip:s(e.name),nestedItem:t,ariaLabel:c(e,t),active:d.view("items",e.name,"active"),disabled:d.view("items",e.name,"disabled"),onClick:function(){return u.next({event:e.name,source:j.a.Source.View})}}}return e})),visualState:d.view("menu"),state:d,events:u}},e.stateManager=function(e,t){var n=t.state;return e.pipe(b.a.tap((function(e){n.lens("items").modify(Object(d.F)((function(t,n){return t===h.e.Type.bulletList?Object(c.a)(Object(s.a)({},n),{active:!0===e[h.e.Type.bulletList]||!0===e[h.e.Type.dashedList]}):t===h.e.Type.link?n:h.e.is(t)?Object(c.a)(Object(s.a)({},n),{active:!0===e[t]}):n})))})),b.a.mapTo(v.b.voidValue))}}(e.ToolbarViewModel||(e.ToolbarViewModel={}));var a=function(e,t){var a=t.state;return function(t){var r;switch(t.name){case"head":return function(){return a.lens("menu").modify((function(e){return e===n.Collapsed?n.Expanded:n.Collapsed}))};case"clear":return function(t){e({index:t.start,length:t.end-t.start,meta:{source:h.g.Meta.Source.api,formatting:{bold:!1,italic:!1,underline:!1,bulletList:!1,dashedList:!1,header1:!1,header2:!1,orderedList:!1,strike:!1}}})};case h.e.Type.bold:case h.e.Type.bulletList:case h.e.Type.header1:case h.e.Type.header2:case h.e.Type.italic:case h.e.Type.orderedList:case h.e.Type.underline:return r=t.name,function(t){var n,i=a.get().items[r].active,l=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e({index:t.start,length:t.end-t.start,meta:{source:h.g.Meta.Source.api,formatting:Object(c.a)(Object(s.a)({},n),Object(o.a)({},r,!i))}})};O.c.isBlockFormat(r)?l((n={},Object(o.a)(n,h.e.Type.header1,!1),Object(o.a)(n,h.e.Type.header2,!1),Object(o.a)(n,h.e.Type.orderedList,!1),Object(o.a)(n,h.e.Type.bulletList,!1),Object(o.a)(n,h.e.Type.dashedList,!1),n)):l()};default:return Object(C.c)(t.name)}}};e.initHandlers=function(e){return function(t,n){var r=a(t,n);return e.reduce((function(e,t){return e[t.name]=r(t),e}),{})}}}(a||(a={})),function(e){e.fromToolbar=function(e){return e.pipe(b.a.map((function(e){return{range:Object(l.a)(e,2)[1],source:"toolbar"}})))},e.fromDenaliEditor=function(e){return e.pipe(b.a.map((function(e){return h.e.LinkPayload.is(e)?S.g.some({range:e[h.e.Type.link][0].range,source:"selection"}):S.g.none})))}}(r||(r={})),function(e){!function(e){e.Mock=function e(){Object(i.a)(this,e),Object(o.a)(this,"viewModel",void 0),Object(o.a)(this,"linkEvents",new b.a.Subject),Object(o.a)(this,"changes",new b.a.Subject)}}(e.Manager||(e.Manager={}))}(a||(a={}))},NSaG:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("cZKX"),s=n("DTwm"),c=n("GMJx"),l=n("mgiE"),u=n("0kuo");!function(e){e.create=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return{getGoalsGalleryData:function(e){return Object(s.pipe)(d(e),l.l.map((function(e){return e.galleryData})))},getGoalData:function(t){return Object(s.pipe)(d(t.outcomeRequest),l.l.chain((function(n){return Object(s.pipe)(t.tactics,l.l.traverseArray(p(n.tactics)),l.l.chainEitherK(Object(s.flow)(o.P(m),o.ub((function(t){return Object(i.a)(Object(r.a)({},t),{phrases:t.phrases.slice(0,e)})})),l.f.fromArray,l.b.fromOption((function(){return new Error("Couldn't collect goals data")})))),l.l.map((function(e){return{tactics:e,title:n.galleryData.title,outcomeRequest:t.outcomeRequest}})))})))},getPhrases:function(t){return Object(s.pipe)(d(t.outcomeRequest),l.l.chain((function(e){return p(e.tactics)(t.tacticId)})),l.l.chainEitherK(Object(s.flow)(m,l.b.fromOption((function(){return new Error("No phrases are present in the requested PhraseObject")})))),l.l.chainEitherK((function(n){var a=n.phrases,r=a.findIndex((function(e){return e.id===t.lastPhraseId}));if(-1===r)return l.b.left(new Error("The provided phrase id is not present in the phrases list"));var i=r+1;return Object(s.pipe)(a.slice(i,i+e),l.b.fromPredicate((function(t){return t.length===e}),s.identity),l.b.getOrElse((function(t){return l.f.concat(t,a.slice(0,e-t.length))})),l.b.right)})))}}};var t=function(e,t){return{id:t,content:e,data:(new c.a).insert(e+"\n")}},a=6,d=function(e){switch(e.outcomeId){case"grow":switch(e.outcomeVariant){case"peer":return l.l.tryCatch((function(){return n.e(59).then(n.bind(null,"8NqL"))}),l.b.toError);case"self":return l.l.tryCatch((function(){return n.e(99).then(n.bind(null,"sRw1"))}),l.b.toError);default:Object(u.c)(e.outcomeVariant)}break;case"sales":return l.l.tryCatch((function(){return n.e(128).then(n.bind(null,"aOI7"))}),l.b.toError);default:Object(u.c)(e)}},p=function(e){return function(t){return Object(s.pipe)(e.get(t),l.b.fromNullable(new Error("Unknown tactic id")),l.l.fromEither,l.l.chain((function(e){return l.l.tryCatch(e.module,l.b.toError)})))}},m=function(e){return Object(s.pipe)(e.phrases.map(t),l.f.fromArray,l.g.map((function(t){return Object(i.a)(Object(r.a)({},e),{phrases:t})})))}}(a||(a={}))},NbbF:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("0kuo"),r=n("TKPA"),i=n("M3t0"),o=n("cZ4c");const s=(e,t)=>{switch(e.kind){case"replacement":return function(e,t){Object(a.f)(Object(r.n)(e),"transforms should have at least one element");const[n]=e;return c(n)>-1?o.a.create(l(n),e.map(u),t,!0):o.g.create(e,t)}(e.content.map(e=>[{type:o.k.Insert,text:e}]),t);case"transform":return function(e,t){Object(a.f)(Object(r.n)(e),"transforms should have at least one element");const[n]=e;return c(n)>-1?o.a.create(l(n),e.map(u),t):function(e){return 2===e.length&&p(e)}(e)?o.i.create(e[0],e[1],t):p(e)?o.g.create(e,t):o.b.create(e,t)}(e.content.map(h),t);default:return Object(a.c)(e.kind)}};function c(e){return e.findIndex(e=>"arrow"===e.type)}function l(e){return e.slice(0,c(e))}function u(e){return e.slice(c(e)+1)}function d(e){return e.every(e=>"delete"!==e.type)}function p(e){return e.every(d)}function m(e,t){return{re:new RegExp(`^(${e})([\\s\\S]*)$`),createResult:t}}const f=[m("(?:\\<span class='gr_grammar_del'\\>([\\S\\s]*?)\\</span\\>)",e=>({type:o.k.Delete,text:e[2]})),m("(?:\\<span class='gr_grammar_ins'\\>([\\S\\s]*?)\\</span\\>)",e=>({type:o.k.Insert,text:e[2]})),m("(→)",e=>({type:o.k.Arrow})),m("([^<>→]+)",e=>({type:o.k.Text,text:e[1]}))];function h(e){function t(e){for(const t of f){const n=e.match(t.re);if(null!==n)return[t.createResult(n),n[n.length-1]]}}function n(t){let n=["<span class='gr_grammar_del'>","<span class='gr_grammar_ins'>","→"].map(e=>t.indexOf(e));if(n.findIndex(e=>0===e)>0)throw new Error("Couldn't parse transform: "+e);if(n=n.filter(e=>e>0),Object(r.n)(n)){const e=Math.min(...n);return[{type:o.k.Text,text:t.substring(0,e)},t.substring(e)]}return[{type:o.k.Text,text:t},""]}const a=[];let s=e,c=!1,l=0,u=void 0;for(;Object(r.n)(s);){const e=t(s);void 0===e&&(c=!0);const[r,i]=e||n(s);u&&u.type===o.k.Text&&r.type===o.k.Text?u.text+=r.text:(u&&u.type===o.k.Delete&&r.type===o.k.Insert&&(a.push({type:o.k.Arrow}),l++),a.push(r)),r.type===o.k.Arrow&&l++,u=a[a.length-1],s=i}return(c||!Object(r.n)(a)||l>1)&&i.d.Logging.getLogger("model.editor.alert_replacement").warn("Bad parsing of transform",{transformHtml:e,transformPartCount:a.length,arrowCount:l}),a}},Njvd:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return b}));var a=n("8O/t"),r=n("X76w"),i=n("wvT7"),o=n("DTwm"),s=n("tiWp"),c=n("mgiE"),l=n("RRF2"),u=n("111I"),d=n("yIk2"),p=n("xk6L"),m=n("hzat"),f=n("e92m");const h=(e,t)=>u.a.composeKnot({title:w(e),root:C(e,t),suggestions:S(e,t),controls:v(e,t)}),g=(e,t)=>u.a.composeKnot({root:u.a.fromSideEffect(e=>{t.next(e)},e),title:w(e)}),b=e=>u.a.animatingFlow(()=>d.b.toObservable(Object(s.pipe)(e,c.g.fromPredicate(m.a.isBulkApplied),c.g.map(o.constVoid))),(e,t)=>Object(s.pipe)(t,c.g.fold(()=>c.g.some(c.m.left("invisible")),()=>Object(s.pipe)(e,c.g.chain(o.identity),c.g.fold(()=>c.g.some(c.m.right("visible")),()=>c.g.none))))),v=(e,t)=>u.a.composeKnot({apply:y(e,t),dismiss:O(e,t)}),y=(e,t)=>u.a.composeKnot({root:u.a.fromSideEffect(e=>{t.next(e)},e),content:k(u.a.fromSideEffect(o.constVoid,e.pipe(p.a.map(c.g.some))))}),O=(e,t)=>u.a.fromSideEffect(e=>{t.next(e.action)},e),S=(e,t)=>u.a.fromSideEffect(e=>{t.next(e.action)},e.pipe(p.a.skipBy(f.a.eqByAlerts),p.a.map(e=>Object(s.pipe)(e,l.e.pick("alerts"),c.f.map(t=>Object(r.a)(Object(a.a)({},t),{a11yContrast:e.a11yContrast})))))),C=(e,t)=>u.a.fromSideEffect(e=>{t.next(e)},e),w=e=>k(u.a.fromSideEffect(o.constVoid,e.pipe(p.a.map(c.g.some)))),k=e=>u.a.animatingFlow(e,(e,t)=>Object(s.pipe)(Object(o.tuple)(Object(s.pipe)(e,c.g.chain(o.identity)),t),Object(o.tupled)(i.b(c.g.option)),c.g.filter(([e,t])=>f.a.isInAppliedState(e)!==f.a.isInAppliedState(t)),c.g.map(()=>c.m.both("fadeOut","fadeIn"))))},NknG:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var a=n("8O/t"),r=n("X76w"),i=n("hcme"),o=n("B8yO"),s=n("Q+ti"),c=n("Fg+b"),l=n("h+lq"),u=n("OhII"),d=n("lKCo"),p=n("tiWp"),m=n("2zNz"),f=n("4GyQ"),h=n("+vYo"),g=n("OwvP"),b=n("0Qjk"),v=n("eUGc"),y=n("fC5a"),O=n("VOhR"),S=n("itj6"),C=n("xk6L"),w=n("mgiE"),k=n("TKPA"),E=n("nWMp"),j={width:E.a.rem(1.5),position:"absolute",alignItems:"end",overflow:"visible"},_={background:"white",zIndex:99999,display:"flex",flexDirection:"column",width:E.a.rem(40),borderRadius:E.a.rem(.5),border:"0.5px solid #CDD1DC",position:"absolute",padding:"0 ".concat(E.a.rem(.875)," ").concat(E.a.rem(.875)," ").concat(E.a.rem(.875)),boxShadow:"0px 1px ".concat(E.a.rem(.5)," 0.5px rgba(135, 141, 162, 0.5);")},x=Object(r.a)(Object(a.a)({},_),{padding:"0"}),A={display:"flex",minHeight:E.a.rem(2.5),alignItems:"center"},I={marginRight:E.a.rem(.5)},T={fontSize:E.a.rem(.875),lineHeight:E.a.rem(1),padding:E.a.rem(.25),color:"#646B81",flex:6},M={flex:1,minWidth:E.a.rem(4)},P={position:"absolute",right:E.a.rem(1.125),top:E.a.rem(.875),cursor:"pointer",background:"white"},N={fontSize:E.a.rem(.875),lineHeight:E.a.rem(1.3125)},D=Object(r.a)(Object(a.a)({},N),{paddingBottom:E.a.rem(.625)}),B=Object(r.a)(Object(a.a)({},N),{background:"white",color:"#027E6F",border:"#027E6F solid 1px",marginRight:E.a.rem(.5),padding:"".concat(E.a.rem(.25)," ").concat(E.a.rem(.5))}),L=Object(r.a)(Object(a.a)({},N),{background:"white",color:"#646B81",padding:"".concat(E.a.rem(.25)," ").concat(E.a.rem(.5))}),F={marginLeft:E.a.rem(.25),marginRight:E.a.rem(.25),$nest:{svg:{verticalAlign:"middle"}}},R={backgroundColor:m.D.Color.Green60,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:m.D.Color.Green80},path:{stroke:m.D.SemanticColor.Color.Icon.Base.Inverse}}},H=E.a.stylesheet({vbarWrapper:[j],vbarInlineCard:[_],vbarInlineCardSDUI:[x],vbarInlineCardTitle:[A],vbarInlineCardTitleIcon:[I],vbarInlineCardTitleText:[T],vbarInlineCardTitleClose:[P],vbarInlineCardAlert:[D],vbarInlineCardToolbar:[{display:"flex",justifyContent:"space-between"}],vbarInlineCardReplaceBtn:[B],vbarInlineCardDismissBtn:[L],feedbackIcon:[F],feedbackButton:[R],insertedTextBold:[{fontWeight:"bold"}],retainedText:[{textDecoration:"none"}],vbarBetaLabel:[M]});var V=function(e,t,n,i,c){return function(l){var u=Object(p.pipe)(i,w.g.fold((function(){return h.a.create(w.g.none)}),(function(e){return e.getInlineItemForAlert(l.alert.id)}))),d=function(e){Object(p.pipe)(i,w.g.tap((function(t){return t.handleSDUIAction(e)}))),e.actions.forEach((function(e){switch(e.type){case"applyAlerts":case"removeAlerts":case"removeRoot":case"closeCard":return void l.close();case"nativeOpenUserSatisfactionFeedback":return void l.giveFeedback();case"copyToClipboard":return void c(e.text);default:return}}))};return o.createElement(v.a,{hide:function(){return l.close()}},o.createElement(g.a.Fragment,null,Object(p.pipe)(u,C.a.map(w.g.filter((function(e){return n.writingExpertInlineSDUI}))),C.a.map(w.g.fold((function(){return o.createElement(U,Object(r.a)(Object(a.a)({},l),{maxWidth:e,features:n,contentReader:t}))}),(function(t){return o.createElement(W,{item:t,maxWidth:e,position:l.position,designSystem:s.a,onSDUIAction:d})}))))))}},U=function(e){var t=e.alert,n=e.applyAlert,s=e.giveFeedback,c=e.title,l=e.position,h=e.maxWidth,v=e.close,S=e.dismissAlert,C=e.contentReader,k=e.features,E=e.onMount;o.useEffect((function(){E()}),[E]);var j=Object(p.pipe)(t.getTransform(),w.g.chain((function(e){return w.g.fromEither(e.content)})),w.g.map((function(e){return n=u.P(e.alternatives),r=function(e,t){var n=Object(O.c)(t);return Object(p.pipe)(e.getTransform(),Object(d.chain)((function(e){return Object(d.fromEither)(e.content)})),Object(d.map)((function(e){var t=e.alternatives[0];if(b.a.Alternative.hasOptionalContext(t.ops)){var a=Object(i.a)(t.ops,1)[0],r=b.a.AlternativeOperation.length(a);return n(r,t.lengthAffected-r)}return n(0,t.lengthAffected)})),Object(d.getOrElse)((function(){return e.highlightTexts[0]})))}(t,C),s=function(e){return e.split("\n").reduce((function(e,t,n){return e.concat(0===n?o.createElement(o.Fragment,{key:n},t):o.createElement(o.Fragment,{key:n},o.createElement("br",null),t))}),[])},c=0,l=n.ops.filter((function(e){return!b.a.AlternativeOperation.isOptionalContextRetain(e)})),m=0!==l.filter(b.a.AlternativeOperation.isDelete).length||l.filter(b.a.AlternativeOperation.isSignificant).length>1,l.map((function(e,t){if(b.a.AlternativeOperation.isInsertString(e))return o.createElement("span",Object(a.a)({key:t},Object(f.c)(m?H.insertedTextBold:null)),s(e.insert));if(b.a.AlternativeOperation.isDelete(e))return c+=e.delete,null;if(b.a.AlternativeOperation.isRetain(e)){var n=b.a.AlternativeOperation.isSignificant(e)?o.createElement("span",Object(a.a)({key:t},Object(f.c)(H.retainedText)),s(r.substr(c,e.retain))):t>0?"…":"";return c+=e.retain,n}return null}));var n,r,s,c,l,m})));return o.createElement(g.a.div,Object(r.a)(Object(a.a)({},Object(f.c)(H.vbarInlineCard)),{style:Object(r.a)(Object(a.a)({},l),{maxWidth:h})}),o.createElement("div",Object(f.c)(H.vbarInlineCardTitle),o.createElement("div",Object(f.c)(H.vbarInlineCardTitleIcon),o.createElement(m.e,{icon:m.c,accessibilityLabel:c})),o.createElement("div",Object(f.c)(H.vbarInlineCardTitleText),c),o.createElement("div",Object(f.c)(H.vbarBetaLabel),o.createElement(m.C,{variant:"neutral",label:"BETA"})),o.createElement(y.a,Object(a.a)({onClick:function(){return v()}},Object(f.c)(H.vbarInlineCardTitleClose)),o.createElement(m.e,{icon:m.h,accessibilityLabel:"Close suggestion",size:"small"}))),o.createElement("div",Object(f.c)(H.vbarInlineCardAlert),Object(p.pipe)(j,w.g.toNullable)),o.createElement("div",Object(f.c)(H.vbarInlineCardToolbar),o.createElement("div",null,o.createElement(y.a.White,Object(r.a)(Object(a.a)({},Object(f.c)(H.vbarInlineCardReplaceBtn)),{onClick:function(){return n()}}),"Apply"),o.createElement(y.a.White,Object(r.a)(Object(a.a)({},Object(f.c)(H.vbarInlineCardDismissBtn)),{onClick:function(){return S()}}),"Dismiss")),k.writingExpertFeedback&&o.createElement("div",null,o.createElement(y.a.Primary,Object(r.a)(Object(a.a)({},Object(f.c)(H.feedbackButton)),{onClick:function(){return s()}}),o.createElement("span",Object(f.c)(H.feedbackIcon),o.createElement(m.e,{icon:m.o,variant:"inverse",accessibilityLabel:"Give feedback",size:"small"})),"Give feedback"))))},W=function(e){var t=e.item,n=e.position,i=e.maxWidth,s=e.onSDUIAction,u=e.designSystem;return o.useEffect((function(){Object(p.pipe)(c.a.findFirst(t.content,"inlineCard"),w.g.tap((function(e){s({type:S.b.Type.sduiCardAction,sourceId:e.id,cardId:t.id,actions:e.onFocus,scope:{alertRefs:[]}})})))})),o.createElement(g.a.div,Object(r.a)(Object(a.a)({},Object(f.c)(H.vbarInlineCardSDUI)),{style:Object(r.a)(Object(a.a)({},n),{maxWidth:i})}),o.createElement(l.a,{key:t.id,sduiRootId:t.id,content:t.content,designSystem:u,notify:function(e,n,a){s({type:S.b.Type.sduiCardAction,sourceId:e,cardId:t.id,actions:n,scope:a})},transitions:[],prevContent:w.g.none,onAnimationEnd:k.e,onMount:k.e}))}},No46:function(e,t,n){"use strict";n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return E}));var a,r=n("a5gI"),i=n("nWMp"),o=n("Frap"),s=n("3n8C"),c=n("Bl9I"),l=i.a.seconds(.3),u=i.a.keyframes({from:{opacity:0},to:{opacity:1}}),d="".concat(u," .2s linear forwards"),p={position:"relative",zIndex:i.d.level2,display:"grid",gridTemplateRows:"auto auto 5fr auto",width:i.a.rem(i.d.navigationWidth),height:i.a.vh(100),$nest:(a={},Object(r.a)(a,s.a.xs,{width:i.a.rem(i.d.navigationWidthXs)}),Object(r.a)(a,s.a.maxWidth(c.a.navigationHideWidthThreshold),{"& > *":{paddingRight:i.a.rem(1)}}),a)},m={marginTop:i.a.rem(.25),borderTop:"".concat(i.a.rem(.02)," solid ").concat(o.transparent)},f=i.a.keyframes({"0%":{opacity:0,transform:"scaleY(0)"},"100%":{opacity:1,transform:"scaleY(1)"}}),h={transformOrigin:"top",animation:"".concat(f," ").concat(l," linear")},g={position:"absolute",width:i.a.percent(100),willChange:"transform",$nest:{"&:last-child:after":{position:"absolute",top:i.a.rem(3),width:i.a.percent(100),height:"@top",content:"''",pointerEvents:"none"}}},b={transition:"transform ".concat(l)},v={margin:"".concat(i.a.rem(5)," auto 0")},y={height:i.a.rem(3),whiteSpace:"pre-line",animation:d},O={marginTop:i.a.rem(.5),marginBottom:i.a.rem(1.3),animation:d},S={display:"block",height:i.a.percent(100)},C={right:i.a.rem(3),marginTop:i.a.rem(.5)},w=function(e){return"calc(".concat(e,"px - ").concat(i.a.rem(1),")")},k="calc(-100% - 1rem)",E=i.a.prefixedStylesheet("navigation",{wrapper:[p],allAlertsBtn:[m],allAlertsOnboardingWrapper:[{display:"block"}],itemListBox:[{position:"absolute"}],lensBtnAnimate:[h],counterWrapper:[{marginLeft:"auto"}],flowPosition:[g],flowPositionAnimate:[b],lensesZero:[Object(s.d)("zero","svg"),v],advancedBtn:[y],advancedDelimiter:[O],onboardingContainer:[S],onboardingNotification:[C]})},Npab:function(e){e.exports=JSON.parse('{"wrapper":"_2e5a3ce8-mute_onboarding-wrapper","media":"_a28a5f5f-mute_onboarding-media","description":"_1473303e-mute_onboarding-description","btn":"_7b75030f-mute_onboarding-btn"}')},Nsc4:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a,r=n("DTwm"),i=n("tiWp"),o=n("mgiE"),s=n("K40b"),c=n("+3dY"),l=n("GVT+"),u=n("AHUV");(a||(a={})).modelToCounters=function(e){return u.a.isRegistered(e)?e.counters:l.a.empty};var d,p=n("D2TP");!function(e){e.monoid=o.e.getMonoid(p.a.Id.ord,p.a.Meta.group),e.eq=o.e.getEq(p.a.Id.ord,p.a.Meta.eq),e.isEmpty=o.e.isEmpty,e.lookup=o.e.lookup(p.a.Id.ord),e.applyDiff=e=>t=>a=>Object(i.pipe)(t,s.a.foldMap(d.monoid)(l(e),u(e),n(e)),Object(c.a)(d.monoid.concat)(a),o.e.filter(Object(r.not)(p.a.Meta.isEmpty))),e.updatePercentiles=e=>t=>{let n=t;return e.forEach((e,t)=>{n=Object(i.pipe)(n,o.e.modifyAt(p.a.Id.ord)(t,p.a.Meta.ratioToPercentile(e)),o.g.fold(()=>Object(i.pipe)(n,o.e.insertAt(p.a.Id.ord)(t,p.a.Meta.fromPercentile(e))),r.identity))}),n};const t=Object(r.flow)(a.modelToCounters,p.a.Meta.fromAlertCounters),n=e=>n=>m(e)(n,t),l=e=>n=>m(e)(n,Object(r.flow)(t,p.a.Meta.group.inverse)),u=e=>(t,a)=>d.monoid.concat(n(e)(a),l(e)(t)),m=e=>(t,n)=>Object(i.pipe)(e,o.e.filter(e=>e(t.alert)),o.e.map(()=>n(t)))}(d||(d={}))},O2Mh:function(e,t,n){"use strict";n.d(t,"a",(function(){return se})),n.d(t,"b",(function(){return ce.a}));var a,r,i,o,s,c,l,u,d,p=n("Vv+i"),m=n("Wy1Y"),f=n("uKMM"),h=n("a5gI"),g=n("14g4"),b=n("PDPC"),v=n("4mQT"),y=n("8O/t"),O=n("X76w"),S=n("hcme"),C=n("mMt2"),w=n("t5lx"),k=n("000W"),E=n("U9Go"),j=n("DTwm"),_=n("tiWp"),x=n("M5RY"),A=n("+vYo"),I=n("/edk"),T=n("B/Ki"),M=n("GMJx"),P=n("lXop"),N=n("fr9z"),D=n("ShUL"),B=n("SXX6"),L=n("pHLr"),F=n("h0/Q"),R=n("La5+"),H=n("xk6L"),V=n("Sqy8"),U=n("yIk2"),W=n("4HQk"),z=n("IjjT"),G=n("RRF2"),q=n("mgiE"),K=n("0kuo"),$=n("TKPA"),Z=n("M3t0"),Y=n("ZbAF"),X=n("ElpI"),Q=n("kPsJ"),J=n("ivjH"),ee=n("cdwJ"),te=n("Djdf"),ne=n("+8xi"),ae=(n("ATMU"),n("n8j0")),re=function(e,t){var n=Boolean(x.imports[e])?x.import(e):null;return x.register(e,t,!0),function(){x.imports[e]===n&&(Boolean(n)?x.register(e,n,!0):delete x.imports[e])}};r=a||(a={}),l=r.withDefaultThemeClasses=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{editor:G.c.classes(ae.editor,e.editor),containerClass:null!==(i=e.containerClass)&&void 0!==i?i:"",scrollWrap:null!==(o=e.scrollWrap)&&void 0!==o?o:"",markExtraClass:null!==(s=e.markExtraClass)&&void 0!==s?s:"",markClassesTheme:null!==(c=e.markClassesTheme)&&void 0!==c?c:Object(L.b)()}},r.getDefaultThemeClasses=function(){return l({})},function(e){e.api="api",e.dox="dox",e.user="user"}(u||(u={})),(u||(u={})).toQuillSources=function(e){switch(e){case u.dox:return"user";default:return e}},(d||(d={})).isLocalDelta=function(e){return"dox"!==e.source&&I.a.isDelta(e.change)};var ie,oe,se=function(){function e(t,n,r,i,o){var s=this;Object(m.a)(this,e),Object(h.a)(this,"_allowedAttrs",void 0),Object(h.a)(this,"_allowedEmbeds",void 0),Object(h.a)(this,"_options",void 0),Object(h.a)(this,"_log",void 0),Object(h.a)(this,"_freezeFocus",void 0),Object(h.a)(this,"_subs",void 0),Object(h.a)(this,"_editorEl",void 0),Object(h.a)(this,"_scrollEl",void 0),Object(h.a)(this,"_viewportRect",void 0),Object(h.a)(this,"_wrapper",void 0),Object(h.a)(this,"_quillEditorChange",void 0),Object(h.a)(this,"_scrollTo",void 0),Object(h.a)(this,"_textLength",void 0),Object(h.a)(this,"_outgoingChanges",void 0),Object(h.a)(this,"_changesSyncTimer",void 0),Object(h.a)(this,"_marker",void 0),Object(h.a)(this,"_history",void 0),Object(h.a)(this,"_allowNavigationTo",void 0),Object(h.a)(this,"_clipboard",void 0),Object(h.a)(this,"_contentChange",void 0),Object(h.a)(this,"_isFlushBlocked",void 0),Object(h.a)(this,"quill",void 0),Object(h.a)(this,"textChangedAfterPaste",void 0),Object(h.a)(this,"shortcutUsed",void 0),Object(h.a)(this,"_deltaFilter",void 0),Object(h.a)(this,"_userClasses",void 0),Object(h.a)(this,"flushChanges",void 0),Object(h.a)(this,"_flush",void 0),Object(h.a)(this,"_changes",void 0),Object(h.a)(this,"changes",void 0),Object(h.a)(this,"_contentUpdatedInternal",void 0),Object(h.a)(this,"contentUpdated",void 0),Object(h.a)(this,"selection",void 0),Object(h.a)(this,"selectedFormatting",void 0),Object(h.a)(this,"clickedWord",void 0),Object(h.a)(this,"scrollPosition",void 0),Object(h.a)(this,"activeMarks",void 0),Object(h.a)(this,"hoveredMarks",void 0),Object(h.a)(this,"markChangeApplied",void 0),Object(h.a)(this,"scrollPercentage",void 0),Object(h.a)(this,"ongoingSelection",void 0),Object(h.a)(this,"viewport",void 0),Object(h.a)(this,"viewportRange",void 0),Object(h.a)(this,"isEditorFocused",void 0),Object(h.a)(this,"_execCommandAfterFocus",void 0),Object(h.a)(this,"_validateSelection",void 0),Object(h.a)(this,"_documentRangeCache",void 0),Object(h.a)(this,"_getDocumentRange",void 0),Object(h.a)(this,"_setNativeSelection",void 0),Object(h.a)(this,"_restoreFocus",void 0),Object(h.a)(this,"_scrollToCursor",void 0),Object(h.a)(this,"restoreFocus",void 0),Object(h.a)(this,"_getAnimation",void 0),Object(h.a)(this,"_applyingExternalChanges",void 0),Object(h.a)(this,"_pushChanges",void 0),Object(h.a)(this,"pushChanges",void 0),Object(h.a)(this,"_text",void 0),Object(h.a)(this,"getText",void 0),Object(h.a)(this,"getHTML",void 0),Object(h.a)(this,"getTextLength",void 0),Object(h.a)(this,"getContents",void 0),Object(h.a)(this,"setCursor",void 0),Object(h.a)(this,"scrollToTitle",void 0),Object(h.a)(this,"_getScrollRect",void 0),Object(h.a)(this,"_getScroll",void 0),Object(h.a)(this,"_normalizeScrollOffset",void 0),Object(h.a)(this,"_setScroll",void 0),Object(h.a)(this,"_calculateViewport",void 0),Object(h.a)(this,"containsElement",void 0),Object(h.a)(this,"getPossibleCursorPosition",void 0),Object(h.a)(this,"setFormatting",void 0),Object(h.a)(this,"_getFormattingFn",void 0),this._allowedAttrs=r,this._allowedEmbeds=i,this._options=o,this._log=Z.d.Logging.getLogger("DEd",Z.a.LogLevel.DEBUG,Z.a.LogColor.Model.getColor("DEd")),this._freezeFocus=new F.a.Impl("freezeFocus",!0===this._options.freezeFocusFeature?F.a.everyTrue:function(){return!1}),this._subs=new R.a.Keeper,this._editorEl=document.createElement("div"),this._scrollEl=new H.a.BehaviorSubject(q.g.none),this._scrollTo=new H.a.Subject,this._textLength=0,this._outgoingChanges=void 0,this._isFlushBlocked=!1,this.shortcutUsed=new H.a.Subject,this._deltaFilter=T.a.cleanDelta(this._allowedEmbeds,this._allowedAttrs),this._userClasses=this._options.classes?this._options.classes.view(a.withDefaultThemeClasses):A.a.create(a.getDefaultThemeClasses()),this.flushChanges=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.api;if(!s._isFlushBlocked&&void 0!==s._outgoingChanges){s._log.trace("flushChanges");var t=s._outgoingChanges;s._outgoingChanges=void 0,void 0!==s._changesSyncTimer&&(clearTimeout(s._changesSyncTimer),s._changesSyncTimer=void 0),Boolean(t.isEmpty)||(s._log.debug("emit changes",{textLength:s.getTextLength(),deltaLength:t.length,deltaAmount:t.amount,deltaTargetLen:t.prevLen}),s._changes.next({change:t,source:e}))}},this._flush=function(){s.flushChanges(),s._changes.next({change:I.a.flush(),source:u.api})},this._changes=new H.a.ReplaySubject,this.changes=this._changes.pipe(H.a.pluck("change")),this._contentUpdatedInternal=new H.a.Subject,this.contentUpdated=this._contentUpdatedInternal.pipe(H.a.delay(1)),this.selection=new H.a.BehaviorSubject(P.g.empty),this.selectedFormatting=H.a.mergeStatic(this._contentUpdatedInternal.pipe(H.a.filter((function(e){return e.type===P.b.Type.onlyFormatting})),H.a.withLatestFrom(this.selection,(function(e,t){return t}))),this.selection).pipe(H.a.map((function(e){return s.getFormatting(P.g.toTextRange(e))})),H.a.shareReplay({bufferSize:1,refCount:!0})),this.clickedWord=new H.a.Subject,this.scrollPosition=new H.a.BehaviorSubject(0),this.ongoingSelection=new H.a.BehaviorSubject(!1),this.viewport=new H.a.BehaviorSubject({text:G.c.Rect.empty,wrapper:G.c.Rect.empty}),this.isEditorFocused=new H.a.BehaviorSubject(!0),this._execCommandAfterFocus=new H.a.Subject,this._validateSelection=function(e){var t=e.index,n=e.length;return q.b.tryCatchError((function(){return Object(K.f)(t+n>=0,"Selection is less than zero",(function(){return"index: ".concat(t,", length: ").concat(n)})),Object(K.f)(t+n<s._textLength,"Selection is greater than text length",(function(){return"index: ".concat(t,", length: ").concat(n,", text length: ").concat(s._textLength)})),{index:t,length:n}}))},this._documentRangeCache=W.DocumentRange.createCache(5),this._getDocumentRange=Object(j.flow)(this._validateSelection,q.b.chain((function(e){return Object(_.pipe)(s._documentRangeCache.get(e),q.g.fold((function(){return Object(_.pipe)(e,W.DocumentRange.BoundaryPoint.getPoints((function(e){return Object(z.v)(s.quill.getLeaf(e))})),q.b.chain(W.DocumentRange.BoundaryPoint.toNativeRange))}),q.b.right),q.b.map((function(t){return s._documentRangeCache.set(e,t),t})))}))),this._setNativeSelection=Object(j.flow)(this._getDocumentRange,q.b.map((function(e){var t=window.getSelection()||document.selection;t.removeAllRanges(),t.addRange(e),s.quill.focus()}))),this._restoreFocus=function(){return Object(_.pipe)(s.getCursor(),s._setNativeSelection,q.b.getOrElse((function(e){return s._log.error("Cannot reset focus",e)})))},this._scrollToCursor=function(){return Object(_.pipe)(s._getCursorRect(),q.b.getOrElse((function(e){return s._log.warn("Scroll to cursor: Cannot get cursor rect",e),q.g.none})),q.g.chain((function(e){return Object(_.pipe)(s._getScrollRect(),q.g.map((function(t){return{cursorRect:e,wrapperRect:t}})))})),q.g.tap((function(e){var t=e.cursorRect,n=e.wrapperRect;return s._scrollToPosition({scrollTop:Math.round(t.top-n.top-n.height/2),animate:P.a.initial})})))},this.restoreFocus=function(){s._restoreFocus(),s._scrollToCursor()},this._getAnimation=function(e,t){switch(e.animate){case P.a.none:return H.a.of(e.scrollTop);case P.a.fast:return V.a.createAnimationObservable(t,e.scrollTop,100);case P.a.initial:return V.a.createAnimationObservable(t,e.scrollTop,200);case P.a.fake:return function(e,t,n){return H.a.Observable.create((function(a){var r=Math.abs(e-t)<250?0:e-t>0?Math.min(e-t,250):Math.max(e-t,-250);n.style.transform="translateY(".concat(r,"px)"),n.style.transition="",a.next(e);var i=requestAnimationFrame((function(){n.style.transition="transform ".concat(150,"ms linear"),n.style.transform=""}));return function(){cancelAnimationFrame(i),n.style.transition="",n.style.transform=""}}))}(e.scrollTop,t,s._wrapper);default:return Object(K.c)(e.animate)}},this._applyingExternalChanges=!1,this._pushChanges=function(e,t){s._log.trace("pushChanges",e),I.a.isFlush(e)?s.flushChanges(t):I.a.isReset(e)?(s._log.debug("get reset",{source:t,textLength:s.getTextLength(),deltaLength:e.length}),s._outgoingChanges=void 0,s.setContents(e,t)):(s._log.debug("get changes",{source:t,textLength:s.getTextLength(),deltaLength:e.length,deltaAmount:e.amount,deltaTargetLen:e.prevLen,change:e}),Object(K.f)(void 0===s._outgoingChanges,"There should be no outgoing changes in the editor when pushChanges() is called. Use flush()"),e.prevLen!==s._textLength&&s._log.error("Incoming change for a wrong text len",{expected:s._textLength,incoming:e.prevLen}),s._ensureSelection((function(){s._history.commit((function(){s._applyingExternalChanges=!0,T.a.splitToDeleteThenInsert(e.delta).filter(T.a.nonEmpty).forEach((function(e){s.quill.updateContents(Object(z.z)(e),u.toQuillSources(t))})),s._applyingExternalChanges=!1,s.flushChanges(t)}))})))},this.pushChanges=function(e,t){s._pushChanges(e,"api"===t?u.api:u.user)},this._text=null,this.getText=function(){return null===s._text&&(s._text=s.quill.getText()),s._text},this.getHTML=function(){return s.flushChanges(),s._editorEl.outerHTML},this.getTextLength=function(){return s._textLength},this.getContents=function(e,t){return I.a.unsafeRes(s._deltaFilter(Object(z.y)(s.quill.getContents(e,t))))},this.setCursor=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";return q.b.map((function(){return s.quill.setSelection(e,t,n)}))(s._setNativeSelection({index:e,length:t,meta:{source:"api"===n?P.g.Meta.Source.api:P.g.Meta.Source.user,formatting:s.getFormatting(N.b.create(e,t))}}))},this.scrollToTitle=function(){s._scrollTo.next(s._getAnimation({scrollTop:0,animate:P.a.initial},s._getScroll()))},this._getScrollRect=function(){return Object(_.pipe)(s._scrollEl.getValue(),q.g.map((function(e){return e.getBoundingClientRect()})))},this._getScroll=function(){return Object(K.f)(q.g.isSome(s._scrollEl.getValue()),"DEd should be attached"),q.g.unsafeGet(s._scrollEl.getValue()).scrollTop},this._normalizeScrollOffset=function(e){Object(K.f)(q.g.isSome(s._scrollEl.getValue()),"DEd should be attached");var t=q.g.unsafeGet(s._scrollEl.getValue()),n=t.scrollTop,a=t.scrollHeight-t.offsetHeight;return e+n<a?e+n>0?e:-n:a-n},this._setScroll=function(e){return Object(K.f)(q.g.isSome(s._scrollEl.getValue()),"DEd should be attached"),q.g.unsafeGet(s._scrollEl.getValue()).scrollTop=e},this._calculateViewport=function(e){var t=s.quill.root.getBoundingClientRect();return{text:Object(_.pipe)(G.c.Rect.intersection(e,t),q.g.getOrElse((function(){return t}))),wrapper:e}},this.containsElement=function(e){return G.c.isParent(s.quill.root,e)},this.getPossibleCursorPosition=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=s.viewport.value.text,r=Object(_.pipe)(e,q.b.fold(P.c.X.toViewport(a),j.identity)),i=Object(_.pipe)(t,q.b.fold(P.c.Y.toViewport(a),j.identity));return Object(_.pipe)(z.a.getNativeCursorByPosition(r,i,a,s.quill.root,s._log.isEnabled(Z.a.LogLevel.TRACE)||n),q.b.map(z.a.getPositionByNativeCursor(s.quill.root)))},this.setFormatting=function(e){var t=Array.from(Object.entries(e.meta.formatting));0!==t.length&&(t.length===P.e.asList.length&&t.every((function(e){var t=Object(S.a)(e,2),n=(t[0],t[1]);return!1===n||void 0===n}))?s.clearFormatting(P.g.toTextRange(e)):Object(_.pipe)(t,q.a.partition((function(e){var t=Object(S.a)(e,2);t[0];return t[1]})),(function(t){var n=t.left,a=t.right;n.forEach((function(t){var n=Object(S.a)(t,1)[0];return s.removeFormatting(P.g.toTextRange(e),n)})),a.forEach((function(t){var n=Object(S.a)(t,1)[0];return s.addFormatting(P.g.toTextRange(e),n)}))})))},this._getFormattingFn=function(e){return(z.c.isBlockFormat(e)?s.quill.formatLine:s.quill.formatText).bind(s.quill)},this._allowNavigationTo=o.allowNavigationTo||function(){return!1},this.quill=this._initQuill(this._userClasses,t),this._marker=this.quill.getModule("marks"),this._history=this.quill.getModule("history"),this._clipboard=this.quill.getModule("clipboard"),this.textChangedAfterPaste=this._clipboard.textChangedAfterPaste,this.activeMarks=this._marker.activeMarks,this.hoveredMarks=this._marker.hoveredMarks,this.markChangeApplied=this._marker.markChangeApplied,this._quillEditorChange=Object(z.A)(this.quill).pipe(H.a.share()),this._contentChange=this._quillEditorChange.pipe(H.a.filter(Object(z.j)(this._allowedAttrs)),H.a.share()),this._log.isEnabled(Z.a.LogLevel.DEBUG)&&function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:q.g.some,r=e[t].bind(e);e[t]=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return Object(_.pipe)(a.apply(void 0,Object(C.a)(i)),q.g.tap((function(e){return n.debug("trace call of ".concat(t),{args:e,stack:(new Error).stack})}))),r.apply(void 0,Object(C.a)(i))}}(this.quill,"updateContents",this._log.getLogger("quill.core"),(function(e,t){return"user"!==t&&T.a.calcDiffLength(e)<0?q.g.some({delta:T.a.anonymizeTextAndStringAttrs(e),source:t}):q.g.none})),this.scrollPercentage=this.scrollPosition.pipe(H.a.combineLatest(this._scrollEl.pipe(H.a.combineLatest(H.a.mergeStatic(H.a.fromEvent(window,"resize"),this._contentChange).pipe(H.a.debounceTime(500),H.a.startWith(U.b.voidValue)),(function(e){return e})),H.a.map((function(e){return Object(_.pipe)(e,q.g.chain((function(e){var t=e.scrollHeight-e.clientHeight;return t>0?q.g.some(t):q.g.none})))})),H.a.distinctUntilChanged(q.g.getEq(E.g).equals))),H.a.map((function(e){var t=Object(S.a)(e,2),n=t[0],a=t[1];return Object(_.pipe)(a,q.g.map((function(e){return n/e})))})),H.a.distinctUntilChanged(q.g.getEq(E.g).equals),H.a.shareReplay({bufferSize:1,refCount:!0}));var c=this._quillEditorChange.pipe(H.a.filter(z.l),H.a.filter((function(e){return Boolean(e)&&Boolean(e.range)})));this._subs.push(this._contentChange.subscribe((function(e){var t=e.delta,n=e.source;void 0!==t.ops&&(s._text=null,n===x.sources.USER?s._pushDelta(t):s._log.debug("skip emit",{source:n,textLength:s.getTextLength(),deltaLength:T.a.calcDiffLength(t),delta:T.a.anonymizeTextAndStringAttrs(t)}),s._setTextLength(s._textLength+T.a.calcDiffLength(t),n))})),this._contentChange.pipe(H.a.take(1)).subscribe((function(){return Object(Y.a)("dedChangeContent")})),H.a.mergeStatic(this._history.changed.pipe(H.a.filter((function(e){return"keyboard"===e.source}))),this._clipboard.clipboardShortcutUsed).pipe(H.a.mapTo(void 0)).subscribe(this.shortcutUsed),this._contentChange.pipe(H.a.map((function(e){return{type:e.delta.ops.some((function(e){return!T.a.isRetain(e)}))?P.b.Type.textMaybeWithFormatting:P.b.Type.onlyFormatting,source:e.source,delta:e.delta}}))).subscribe(this._contentUpdatedInternal),c.pipe(H.a.map((function(e){var t=e.range,n=t.index,a=t.length,r=e.source;return{index:n,length:a,meta:{source:Boolean(r)?r:P.g.Meta.Source.user,formatting:s.getFormatting(N.b.create(n,n+a))}}})),H.a.distinctUntilChanged(P.g.eq.equals)).subscribe(this.selection),H.a.mergeStatic(H.a.fromEvent(this.quill.root,"mousedown",{passive:!0}).pipe(H.a.mapTo(!0)),H.a.fromEvent(document,"mouseup",{passive:!0}).pipe(H.a.mapTo(!1)),H.a.fromEvent(document,"dragend",{passive:!0}).pipe(H.a.mapTo(!1)),H.a.fromEvent(document,"click",{passive:!0}).pipe(H.a.mapTo(!1))).pipe(H.a.switchMap(Object($.c)(H.a.fromEvent(document,"mousemove",{passive:!0}).pipe(H.a.auditTime(50),H.a.filter((function(){return!window.getSelection().isCollapsed})),H.a.first(),H.a.mapTo(!0)),H.a.of(!1)))).subscribe(this.ongoingSelection),n.changes.subscribe((function(e){return s._pushChanges(e,u.dox)})),this._changes.pipe(H.a.filter(d.isLocalDelta),H.a.pluck("change")).subscribe(n.pushChanges)),this.viewportRange=this.viewport.pipe(H.a.distinctUntilChanged(),H.a.combineLatest(this.scrollPosition),H.a.debounceTime(300),H.a.map((function(e){var t=Object(S.a)(e,1)[0].text;return Object(_.pipe)(Object(j.tuple)(Object(_.pipe)(z.a.getNativeCursorByPosition(t.left,t.top,s.viewport.value.text,s.quill.root),q.b.map(z.a.getPositionByNativeCursor(s.quill.root))),Object(_.pipe)(z.a.getNativeCursorByPosition(t.right,t.bottom,s.viewport.value.text,s.quill.root),q.b.map(z.a.getPositionByNativeCursor(s.quill.root)))),q.b.map2(N.b.create),q.b.fold((function(e){return s._log.error("Cannot calculate viewportRange",e),N.b.empty}),j.identity))})),H.a.shareReplay({bufferSize:1,refCount:!0}))}return Object(f.a)(e,[{key:"_initQuill",value:function(e,t){var n=this,a=Object(C.a)(Object.entries(t.modules).map((function(e){var t=Object(S.a)(e,2),n=t[0],a=t[1];return re("modules/".concat(n),a)}))).concat(Object(C.a)(t.formats.map((function(e){return re("formats/".concat(e.blotName),e)}))),[re("themes/denali",t.theme)]),r=Object(O.a)(Object(y.a)({},Object.keys(t.modules).reduce((function(e,t){return e[t]=!0,e}),{})),{toolbar:!1,keyboard:!0,clipboard:{className:ae.editorClipboard,maxAllowedTextLength:1e5,lengthExceededCallback:function(){return alert("Oops, Document size exceeded!")},flush:this._flush,deltaFilter:this._deltaFilter},history:{userOnly:!0,delay:1e3,maxStack:100,flush:this._flush},marks:{scrollPositionChanged:this.scrollPosition.pipe(H.a.distinctUntilChanged(),H.a.mapTo(U.b.voidValue),H.a.skip(1)),contentUpdated:this.contentUpdated,scrollContainer:this._scrollEl,ongoingSelection:this.ongoingSelection.pipe(H.a.distinctUntilChanged()),getOpsHistory:function(){return n._history.getAnonymizedOperationsHistory()}}}),i=new x(this._editorEl,{modules:r,theme:"denali",classes:e});return a.forEach((function(e){return e()})),i}},{key:"_pushDelta",value:function(e){void 0===this._outgoingChanges?this._outgoingChanges=I.a.delta(this._deltaFilter(e),this._textLength):this._outgoingChanges.delta=this._outgoingChanges.delta.compose(this._deltaFilter(e));var t=T.a.calcAmountLength(e);!Boolean(this._outgoingChanges.isEmpty)&&(t>100||this._textLength-t<=1||void 0!==e.ops.find((function(e){return Object(z.p)(e)||Object(z.q)(e)}))||q.g.isSome(this.activeMarks.getValue()))?this._applyingExternalChanges||this.flushChanges():(void 0!==this._changesSyncTimer&&clearTimeout(this._changesSyncTimer),this._changesSyncTimer=setTimeout(this.flushChanges,1500))}},{key:"_setTextLength",value:function(e,t){var n=this._textLength-e;this._textLength=e;var a="api"===t?P.g.Meta.Source.api:P.g.Meta.Source.user,r="api"===t?{}:this.getFormatting(N.b.create(e-1,0)),i=this.getCursor(),o=i.index,s=i.length;o>=e?this.selection.next({index:e-1,length:0,meta:{source:a,formatting:r}}):o+s>=e&&this.selection.next({index:o,length:s-n,meta:{source:a,formatting:r}})}},{key:"_handleFreezeFocus",value:function(){var e=this,t=function(t,n){return t===n||e._allowNavigationTo(t)},n=H.a.fromEvent(document,"click").pipe(H.a.filter((function(n){return!t(n.target,e.quill.root)})),H.a.observeOn(H.a.asapScheduler),H.a.filter((function(){return!t(document.activeElement,e.quill.root)})),H.a.tap(this._restoreFocus));return this._freezeFocus.state.pipe(H.a.switchMap(U.b.Scheduler.rafScheduler),H.a.tap((function(t){return t?e._restoreFocus():e.quill.blur()})),H.a.switchMap(U.b.orEmpty(n)),H.a.catchError((function(t){return e._log.warn("unexpected exception in freezeFocus",t),H.a.EMPTY}))).subscribe()}},{key:"attach",value:function(e,t,n){var a=this;if(Boolean(this._wrapper))throw new Error("Editor already attached");this._wrapper=e,this._scrollEl.next(q.g.some(t)),this._viewportRect=n,e.appendChild(this._editorEl),this._textLength?q.b.getOrElse((function(e){return a._log.error("Failed to reset cursor on ded attach ".concat(e))}))(this.setCursor(0,0)):this.quill.root.focus(),Object($.r)("dedBlockFlush",(function(){return a._isFlushBlocked=!0})),Object($.r)("dedAllowFlush",(function(){return a._isFlushBlocked=!1})),Object($.r)("dedForceFlush",(function(){return a.flushChanges()})),Object($.r)("dedGetText",this.getText),Object($.r)("dedSetCursor",(function(e,t){return q.b.getOrElse((function(e){return a._log.error(e)}))(a.setCursor(e,t,x.sources.USER))})),Object($.r)("dedType",(function(e){a.flushChanges(),a._pushChanges(I.a.ins(a.getCursor().index,e,a.getText().length),u.user)})),Object($.r)("dedQuill",this.quill),Object($.r)("ded",this),Object($.r)("getPossibleCursorPosition",(function(e,t,n){return a.getPossibleCursorPosition("string"==typeof e?q.b.left(e):q.b.right(e),"string"==typeof t?q.b.left(t):q.b.right(t),n)})),this._subs.push(this._handleFreezeFocus(),H.a.fromEvent(this.quill.root,"mouseup").pipe(H.a.map((function(e){return{clicks:e.detail,range:q.g.fromNullable(a.quill.getSelection())}})),H.a.map((function(e){var t=e.clicks,n=e.range;return Object(_.pipe)(n,q.g.chain((function(e){return Object(z.o)(a.quill.getText(),e.index)})),q.g.filter((function(e){return""!==e.meta.value})),q.g.map(N.a.create(t)))}))).subscribe(this.clickedWord),this._scrollTo.pipe(H.a.switchAll()).subscribe((function(e){return a._setScroll(e)})),this._scrollEl.pipe(H.b.compact,H.a.switchMap((function(e){return H.a.fromEvent(e,"scroll").pipe(H.a.map((function(){return a._getScroll()})))}))).subscribe(this.scrollPosition),H.a.combineLatestStatic(this._contentChange.pipe(H.a.filter((function(e){return e.source===x.sources.USER}))),this._viewportRect).subscribe((function(e){var t=Object(S.a)(e,2)[1];requestAnimationFrame((function(){Object(_.pipe)(a._getCursorRect(),q.b.fold((function(e){return a._log.warn("Typing enhancer: Cannot get cursor rect",e),q.g.none}),j.identity),q.g.tap((function(e){var n=Math.ceil(e.top+e.height),r=Math.ceil(.7*Math.max(t.top+t.height));n>r&&a._scrollTo.next(a._getAnimation({scrollTop:a._getScroll()+Math.round(n-r),animate:P.a.initial},a._getScroll()))})))}))})),H.a.combineLatestStatic(this._scrollEl.pipe(H.b.compact),this._history.changed,(function(e,t){return e})).subscribe((function(e){return requestAnimationFrame((function(){Object(_.pipe)(a._getCursorRect(),q.b.fold((function(e){return a._log.warn("Undo/Redo: Cannot get cursor rect",e),q.g.none}),j.identity),q.g.tap((function(t){var n=e.getBoundingClientRect();(t.top<n.top||t.top>n.bottom)&&a._scrollTo.next(a._getAnimation({scrollTop:a._getScroll()+Math.round(t.top-n.top-n.height/2),animate:P.a.none},a._getScroll()))})))}))})),H.a.combineLatestStatic(this._viewportRect,this.scrollPosition.pipe(H.a.debounceTime(150))).pipe(H.a.map(k.nb),H.b.compactMap(Object(j.flow)(this._calculateViewport,H.a.of))).subscribe(this.viewport),H.a.mergeStatic(H.a.fromEvent(this.quill.root,"blur").pipe(H.a.mapTo(!1)),H.a.fromEvent(this.quill.root,"focus").pipe(H.a.mapTo(!0))).subscribe(this.isEditorFocused),this._execCommandAfterFocus.pipe(H.a.withLatestFrom(this.isEditorFocused)).subscribe((function(e){var t=Object(S.a)(e,2),n=t[0];t[1]||a._restoreFocus(),document.execCommand(n)})))}},{key:"dispose",value:function(){this._subs.dispose(),this._marker.dispose(),this._history.dispose(),this.quill.emitter.removeAllListeners()}},{key:"setContents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.api,n=Object(z.u)(e),a=void 0!==this._outgoingChanges,r=e.delta.compose(n.delta),i=T.a.calcDiffLength(r),o=this._deltaFilter(r),s=T.a.calcDiffLength(o);this._log.debug("reset content",{shouldNormalizeCRLF:!n.isEmpty,hasOutgoingChanges:a,deltaLength:i,deltaWithoutAttrsLength:s,deltaLengthMismatch:i!==s}),this.quill.setContents(Object(z.z)(o),"api"),this._setTextLength(i,t),"api"!==t?this._changes.next({change:I.a.unsafeRes(r),source:t}):n.isEmpty||this._changes.next({change:n,source:t})}},{key:"getCursor",value:function(){var e=this.selection.getValue();return Object(O.a)(Object(y.a)({},e),{meta:Object(O.a)(Object(y.a)({},e.meta),{formatting:this.getFormatting(P.g.toTextRange(e))})})}},{key:"getLastPossibleCursorPosition",value:function(){return this._textLength-1}},{key:"getSelectionRect",value:function(e){var t=this;return Object(_.pipe)(this._getDocumentRange(e||this.getCursor()),q.b.map((function(e){return new z.b(e,(function(){return t.quill.container.getBoundingClientRect()}))})))}},{key:"changeMarks",value:function(e){this.flushChanges(),this._log.debug("change marks",e.map(D.a.Change.addRange));var t=this._marker.changeMarks(e);return this.isEditorFocused.getValue()&&this._restoreFocus(),t}},{key:"_scrollToPosition",value:function(e){var t=this,n=this._getScroll(),a=this._normalizeScrollOffset(e.scrollTop-this._getScrollTop());this._scrollTo.next(this._getAnimation({scrollTop:n+a,animate:e.animate},n).pipe(H.a.finalize((function(){var e=t._getScroll();t._scrollTo.next(t._getAnimation({scrollTop:e,animate:P.a.none},e))}))))}},{key:"contentRect",get:function(){return Object(_.pipe)(q.g.fromNullable(this._wrapper),q.g.map((function(e){return e.getBoundingClientRect()})))}},{key:"getMarkRect",value:function(e){return Object(_.pipe)(this._marker.getMarkById(e),q.b.chain((function(e){return e.getRect()})))}},{key:"getMarkById",value:function(e){return this._marker.getMarkById(e)}},{key:"scrollToMark",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{animate:P.a.none,paddingTop:0},n=this;return Object(_.pipe)(this._marker.getMarkById(e),q.b.chain((function(e){return n._getMarkRect(e)})),q.b.fold((function(e){return n._log.error("Cannot scroll to given mark",e),H.a.throwError(e)}),(function(e){var a=t.animate||P.a.none,r=n._getScrollTop(),i=n._normalizeScrollOffset(e.top-(t.paddingTop?t.paddingTop:r));return new H.a.Observable((function(e){return e.next(void 0),n._scrollTo.next(n._getAnimation({scrollTop:n._getScroll()+i,animate:a},n._getScroll()).pipe(H.a.finalize((function(){e.complete()})))),function(){n._scrollTo.next(n._getAnimation({scrollTop:n._getScroll(),animate:P.a.none},n._getScroll()))}}))})))}},{key:"undo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user";this._history.undo(e)}},{key:"canUndo",value:function(){return this._history.canUndo()}},{key:"clearHistory",value:function(){this._history.clear()}},{key:"redo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user";this._history.redo(e)}},{key:"canRedo",value:function(){return this._history.canRedo()}},{key:"cut",value:function(){this._execCommandAfterFocus.next("cut")}},{key:"copy",value:function(){this._execCommandAfterFocus.next("copy")}},{key:"dontFreezeWhen",value:function(e,t){return!0===this._options.freezeFocusFeature?this._freezeFocus.watch(U.b.invert(e),t):R.a.EMPTY}},{key:"_getScrollTop",value:function(){return Object(_.pipe)(this._getScrollRect(),q.g.fold((function(){return 0}),(function(e){return e.top})))}},{key:"_getMarkRect",value:function(e){return Object(_.pipe)(e.getRect(),q.b.map(B.b.relativeToViewport),q.b.map((function(e){return{top:e.top,bottom:e.bottom}})))}},{key:"_getCursorRect",value:function(){var e=this;return q.b.tryCatch((function(){var t=e.quill.getSelection();if(Boolean(t)&&0===t.length){var n=e.quill.container.getBoundingClientRect(),a=e.quill.getBounds(t.index,1);return q.g.some({bottom:a.bottom+n.top,height:a.height,left:a.left+n.left,right:a.right+n.left,top:a.top+n.top,width:a.width})}return q.g.none}),(function(e){return e}))}},{key:"_ensureSelection",value:function(e){var t=this,n=this.quill.getSelection();e(),Boolean(n)&&n.length>0&&this._clearSelection((function(){t.quill.setSelection(n.index,n.length,x.sources.API)}))}},{key:"_clearSelection",value:function(e){var t=Boolean(window.getSelection)?window.getSelection():document.selection;Boolean(t)&&(Boolean(t.removeAllRanges)?t.removeAllRanges():Boolean(t.empty)&&t.empty()),e&&requestAnimationFrame(e)}},{key:"addFormatting",value:function(e,t,n){t===P.e.Type.link?this._applyFormatting(P.e.Type.link,e,n):this._applyFormatting(t,e)}},{key:"removeFormatting",value:function(e,t){t===P.e.Type.link?this._applyFormatting(P.e.Type.link,e,!1):this._applyFormatting(t,e,!1)}},{key:"clearFormatting",value:function(e){var t=this;N.b.isEmpty(e)&&(P.e.asList.forEach((function(e){var n=z.c.mapEditorFormatToQuill(e).key;t.quill.format(n,!1,"user")})),this._contentUpdatedInternal.next({type:P.b.Type.onlyFormatting,source:"user",delta:new M.a})),this.quill.removeFormat(e.start,N.b.size(e),"user")}},{key:"_applyFormatting",value:function(e,t,n){var a=z.c.mapEditorFormatToQuill(e),r=a.key,i=a.value,o=void 0!==n?n:i;if(N.b.isEmpty(t)){if(e===P.e.Type.link)return;this.quill.format(r,o,"user"),this._contentUpdatedInternal.next({type:P.b.Type.onlyFormatting,source:"user",delta:new M.a})}else{this._getFormattingFn(e)(t.start,N.b.size(t),r,o,"user")}}},{key:"getFormatting",value:function(e){return z.c.mapQuillFormatsToDenali(this.quill,e)}}]),e}();ie=se||(se={}),oe=function(e){Object(v.a)(n,e);var t=Object(w.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_MODULES,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.a.skipAny,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T.a.skipAny,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:X.a.Mock();return Object(m.a)(this,n),Object(z.x)(),e=t.call(this,a,s,r,i,o),Object(h.a)(Object(p.a)(e),"markChangeApplied",void 0),Object(h.a)(Object(p.a)(e),"selectedFormatting",void 0),Object(h.a)(Object(p.a)(e),"_envSupportsSelection",void 0),e.markChangeApplied=e._marker.markChangeApplied,e.selectedFormatting=new H.a.Subject,e._envSupportsSelection=Boolean(window.getSelection),e._envSupportsSelection||Object.assign(e.quill,{setSelection:function(e,t){if(null!==e){var n="object"==typeof e?e.index:e;Object(K.f)(n>=0,"range selection can not accept negative values")}}}),e}return Object(f.a)(n,[{key:"fakeAttach",value:function(){this.attach(document.createElement("div"),document.createElement("div"),H.a.of(G.c.Rect.empty))}},{key:"mutationObserverPeriod",get:function(){return Boolean(MutationObserver._period)?MutationObserver._period:n.defaultMutationObserverPeriod}},{key:"container",get:function(){return this.quill.root}},{key:"setContents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.api;Object(g.a)(Object(b.a)(n.prototype),"setContents",this).call(this,e,t)}},{key:"getCursor",value:function(){return this._envSupportsSelection?Object(g.a)(Object(b.a)(n.prototype),"getCursor",this).call(this):P.g.empty}}],[{key:"create",value:function(e){var t=e.modules,a=e.allowedAttrs,r=e.allowedEmbeds,i=e.options,o=e.dox;return new n(t,a,r,i,o?X.a.Mock(o):void 0)}}]),n}(se),Object(h.a)(oe,"defaultMutationObserverPeriod",100),Object(h.a)(oe,"DEFAULT_MODULES",{theme:ne.a,modules:{history:J.a,clipboard:Object(Q.b)(!1,[]),keyboard:ee.a.getKeyboardWithBindings(ee.a.Bindings.plainTextBindings),marks:te.a},formats:[]}),ie.Mock=oe;var ce=n("bOc0")},OMUe:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a,r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("x+Pc"),c=n("I76W"),l=n("La5+"),u=n("xk6L"),d=n("mgiE"),p=n("TKPA"),m=n("M3t0"),f=n("s1NC"),h=function(){function e(t,n){var a=this;Object(r.a)(this,e),Object(o.a)(this,"_documentModel",void 0),Object(o.a)(this,"_notificationsManager",void 0),Object(o.a)(this,"_subs",void 0),Object(o.a)(this,"_log",void 0),Object(o.a)(this,"_handleDownloadError",void 0),this._documentModel=t,this._notificationsManager=n,this._subs=new l.a.Keeper,this._log=m.d.Logging.getLogger("downloadViewModel"),this._handleDownloadError=function(e){return a._log.error("downloadDocument failed",e),Object(s.a)(e,c.a.UnauthorizedError)?a._notificationsManager.enqueue("unauthorizedError"):Object(s.a)(e,c.a.DocumentNotFoundError)?a._notificationsManager.enqueue("downloadDocumentNotFoundError"):Object(s.a)(e,c.a.TooManyRequestsError)||Object(s.a)(e,c.a.ConnectionError)?a._notificationsManager.enqueue("isTemporaryDownloadError"):a._notificationsManager.enqueue("error")}}return Object(i.a)(e,[{key:"downloadOriginal",value:function(){this._subs.push(u.a.from(this._documentModel.downloadOriginal(this._documentModel.rtfMode===f.d.DocumentFeatures.FormattingMode.on?d.g.some("docx"):d.g.none)).pipe(u.a.catchError(this._handleDownloadError)).subscribe())}},{key:"downloadProofread",value:function(){this._subs.push(u.a.from(this._documentModel.downloadProofread()).pipe(u.a.catchError(this._handleDownloadError)).subscribe())}},{key:"dispose",value:function(){this._subs.dispose()}}]),e}();!function(e){e.Mock=function e(){Object(r.a)(this,e),Object(o.a)(this,"dispose",p.e),Object(o.a)(this,"downloadOriginal",p.e),Object(o.a)(this,"downloadProofread",p.e)}}(a||(a={}))},OQWN:function(e){e.exports=JSON.parse('{"full":"_4d8e3185-new_toggler-full","widthTransition":"_3d28e15e-new_toggler-widthTransition","background":"_5010b49c-new_toggler-background","labelReveal":"_c8dc0c53-new_toggler-labelReveal","fadeIn":"_df89482d-new_toggler-fadeIn","edgeBackground":"_6af1dd0a-new_toggler-edgeBackground _5010b49c-new_toggler-background"}')},OVHU:function(e,t){window.MutationObserver=window.MutationObserver||function(e){function t(e){this.i=[],this.m=e}function n(t){var n,a={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(n in t)a[n]!==e&&t[n]!==e&&(a[n]=t[n]);return a}function a(t,a){var s=i(t,a);return function(l){var u,d=l.length;a.a&&3===t.nodeType&&t.nodeValue!==s.a&&l.push(new n({type:"characterData",target:t,oldValue:s.a})),a.b&&s.b&&r(l,t,s.b,a.f),(a.c||a.g)&&(u=function(t,a,i,s){function l(e,a,i,o,c){var l,d,p,m=e.length-1;for(c=-~((m-c)/2);p=e.pop();)l=i[p.j],d=o[p.l],s.c&&c&&Math.abs(p.j-p.l)>=m&&(t.push(n({type:"childList",target:a,addedNodes:[l],removedNodes:[l],nextSibling:l.nextSibling,previousSibling:l.previousSibling})),c--),s.b&&d.b&&r(t,l,d.b,s.f),s.a&&3===l.nodeType&&l.nodeValue!==d.a&&t.push(n({type:"characterData",target:l,oldValue:d.a})),s.g&&u(l,d)}function u(a,i){for(var p,m,f,h,g,b=a.childNodes,v=i.c,y=b.length,O=v?v.length:0,S=0,C=0,w=0;C<y||w<O;)(h=b[C])===(g=(f=v[w])&&f.node)?(s.b&&f.b&&r(t,h,f.b,s.f),s.a&&f.a!==e&&h.nodeValue!==f.a&&t.push(n({type:"characterData",target:h,oldValue:f.a})),m&&l(m,a,b,v,S),s.g&&(h.childNodes.length||f.c&&f.c.length)&&u(h,f),C++,w++):(d=!0,p||(p={},m=[]),h&&(p[f=o(h)]||(p[f]=!0,-1===(f=c(v,h,w,"node"))?s.c&&(t.push(n({type:"childList",target:a,addedNodes:[h],nextSibling:h.nextSibling,previousSibling:h.previousSibling})),S++):m.push({j:C,l:f})),C++),g&&g!==b[C]&&(p[f=o(g)]||(p[f]=!0,-1===(f=c(b,g,C))?s.c&&(t.push(n({type:"childList",target:i.node,removedNodes:[g],nextSibling:v[w+1],previousSibling:v[w-1]})),S--):m.push({j:f,l:w})),w++));m&&l(m,a,b,v,S)}var d;return u(a,i),d}(l,t,s,a)),(u||l.length!==d)&&(s=i(t,a))}}function r(t,a,r,i){for(var o,s,c={},l=a.attributes,d=l.length;d--;)s=(o=l[d]).name,i&&i[s]===e||(u(a,o)!==r[s]&&t.push(n({type:"attributes",target:a,attributeName:s,oldValue:r[s],attributeNamespace:o.namespaceURI})),c[s]=!0);for(s in r)c[s]||t.push(n({target:a,type:"attributes",attributeName:s,oldValue:r[s]}))}function i(e,t){var n=!0;return function e(a){var r={node:a};return!t.a||3!==a.nodeType&&8!==a.nodeType?(t.b&&n&&1===a.nodeType&&(r.b=s(a.attributes,(function(e,n){return t.f&&!t.f[n.name]||(e[n.name]=u(a,n)),e}))),n&&(t.c||t.a||t.b&&t.g)&&(r.c=function(e,t){for(var n=[],a=0;a<e.length;a++)n[a]=t(e[a],a,e);return n}(a.childNodes,e)),n=t.g):r.a=a.nodeValue,r}(e)}function o(e){try{return e.id||(e.mo_id=e.mo_id||d++)}catch(t){try{return e.nodeValue}catch(e){return d++}}}function s(e,t){for(var n={},a=0;a<e.length;a++)n=t(n,e[a],a,e);return n}function c(e,t,n,a){for(;n<e.length;n++)if((a?e[n][a]:e[n])===t)return n;return-1}t._period=30,t.prototype={observe:function(e,n){for(var r={b:!!(n.attributes||n.attributeFilter||n.attributeOldValue),c:!!n.childList,g:!!n.subtree,a:!(!n.characterData&&!n.characterDataOldValue)},i=this.i,o=0;o<i.length;o++)i[o].s===e&&i.splice(o,1);n.attributeFilter&&(r.f=s(n.attributeFilter,(function(e,t){return e[t]=!0,e}))),i.push({s:e,o:a(e,r)}),this.h||function(e){!function n(){var a=e.takeRecords();a.length&&e.m(a,e),e.h=setTimeout(n,t._period)}()}(this)},takeRecords:function(){for(var e=[],t=this.i,n=0;n<t.length;n++)t[n].o(e);return e},disconnect:function(){this.i=[],clearTimeout(this.h),this.h=null}};var l=document.createElement("i");l.style.top=0;var u=(l="null"!=l.attributes.style.value)?function(e,t){return t.value}:function(e,t){return"style"!==t.name?t.value:e.style.cssText},d=1;return t}(void 0)},OXKW:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("hcme"),i=n("DTwm"),o=n("lXop"),s=n("xk6L"),c=n("yIk2"),l=n("mgiE");!function(e){!function(e){e.toBindingProvider=function(e,t){return function(n){return function(r){return Object(i.pipe)(n,l.a.filter(a.isItem),l.a.chain((function(n){return Object(i.pipe)(n.hotkey,l.g.map((function(i){return i.map((function(i){return{action:n.name,hotkey:r(i),isActive:t(n.name),bind:s.a.tap((function(){return e({event:n.name,source:a.Source.Hotkey})}))}}))})),l.g.getOrElse((function(){return[]})))})))}}}}(e.Scheme||(e.Scheme={}));e.isItem=function(e){return"string"!=typeof e};!function(e){e.isViewItem=function(e){return"string"!=typeof e}}(e.Item||(e.Item={})),function(e){e.isView=function(e){return e.source===a.Source.View},e.isHotkey=function(e){return e.source===a.Source.Hotkey}}(e.MenuEvent||(e.MenuEvent={})),function(e){e.Hotkey="Hotkey",e.View="View"}(e.Source||(e.Source={}));e.toMenuEvents=function(e,t){return t.pipe(s.a.map((function(t){return[t.event,o.g.toTextRange(e()),t.source]})))};e.linkEvents=function(e,t){return e.pipe(s.a.mergeMap((function(e){var n=Object(r.a)(e,3),a=n[0],i=n[1],o=n[2];return c.b.toObservable(t[a].call(null,i,o))})))}}(a||(a={}))},OfeG:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return r}));var a,r,i=n("a5gI"),o=n("tiWp"),s=n("0Qjk"),c=n("/edk"),l=n("mgiE"),u=n("TKPA"),d=n("0kuo"),p=n("M3t0");!function(e){e.show={show:e=>`A(#${e.alternativeId})`},e.eq=l.c.getStructEq({alternative:s.a.Alternative.eq,alternativeId:l.c.eqString,alertId:l.c.eqString})}(a||(a={}));class m{pushChanges(e){c.a.isDelta(e)&&this._alternatives.forEach(t=>{Object(o.pipe)(t.alternative.rebase(e.delta),l.g.fold(u.e,e=>t.alternative=e))})}registerAlternative(e,t){const n=m.getAlternativeId(t),a={alternative:e,alternativeId:n,alertId:t};return this._alternatives.set(n,a),a}deregisterAlternative(e){return Object(o.pipe)(this.getAlternative(e),l.b.chain(({alternative:e,alternativeId:t})=>l.b.tryCatchError(()=>(Object(d.f)(this._alternatives.delete(t),"alternative should exist before deletion"),e))))}constructor(){Object(i.a)(this,"_log",p.d.Logging.getLogger("alternative_manager",p.a.LogLevel.DEBUG)),Object(i.a)(this,"_alternatives",new Map),Object(i.a)(this,"getAlternative",e=>{const t=this._alternatives.get(e);if(t)return l.b.right(t);{const t="Tried to retrieve non-registered alternative: "+e;return this._log.error(t),l.b.left(new Error(t))}})}}Object(i.a)(m,"_alternativeCounter",0),Object(i.a)(m,"getAlternativeId",e=>`alt-${e}-${m._alternativeCounter++}`),function(e){e.mock={registerAlternative:(e,t)=>({alternative:e,alternativeId:m.getAlternativeId(t),alertId:t}),getAlternative:()=>l.b.left(new Error("Not implemented in mock")),deregisterAlternative:()=>l.b.right(s.a.Alternative.create([]))}}(r||(r={}))},Olv4:function(e,t,n){e.exports=n.p+"files/88b63c27cdce33467477f6b31373c11b/inter-italic.woff"},OpUX:function(e,t,n){"use strict";function a(e){const t=e;return null!=t&&(void 0!==t.message&&void 0!==t.name||void 0!==t.stack)}function r(e){return a(e)?e:{message:String(e),name:"",stack:void 0}}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}))},"Ow/n":function(e){e.exports=JSON.parse('{"firstTier":"_b7b0ef4d-view-firstTier","firstTierLoader":"_363949ce-view-firstTierLoader _b7b0ef4d-view-firstTier","editor":"_7897b0b2-view-editor","invisible":"_1e7ceae4-view-invisible"}')},P9Nt:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return a}));var a,r=n("a5gI"),i=n("tiWp"),o=n("+vYo"),s=n("0Qjk"),c=n("mgiE"),l=n("D2TP"),u=n("xk6L"),d=n("yIk2"),p=n("d3CI"),m=n("wdnv");class f{dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_listenSuccessStateChange(){const e=e=>e.type===a.SuccessType.applied||e.type===a.SuccessType.zero?u.a.of(e):this._documentModel.checkingState.pipe(u.a.filter(e=>"checking"!==e),u.a.first(),u.a.mapTo(e));return this._lensSwitch.pipe(u.b.compactMap(t=>this.textAmount.pipe(u.a.map(this._textAmountToSuccessType),u.a.startWith(t.prevLensType===p.i.lensview?{type:a.SuccessType.applied,isAllAlerts:t.isAllAlerts}:this._textAmountToSuccessType(this.textAmount.get())),u.a.pairwise(),u.a.map(([e,t])=>e.type===a.SuccessType.applied&&t.type!==a.SuccessType.zero?e:t),u.a.switchMap((t,n)=>0===n?u.a.of(t):e(t)),u.a.tap(e=>{this._trackSuccessStateChanged(e.type===a.SuccessType.applied?"applied":e.type===a.SuccessType.zero?"nothingToCheck":"noIssues")})))).subscribe(d.b.toAtom(this.successState))}constructor(e,t,n,f,h,g=m.a.WithSuccess.State.isInSuccess(f),b){Object(r.a)(this,"_state",void 0),Object(r.a)(this,"_documentModel",void 0),Object(r.a)(this,"_trackSuccessStateChanged",void 0),Object(r.a)(this,"_capabilities",void 0),Object(r.a)(this,"mutedAlertsOptions",void 0),Object(r.a)(this,"isInSuccess",void 0),Object(r.a)(this,"_withBirthday",void 0),Object(r.a)(this,"_getTextAmount",void 0),Object(r.a)(this,"_subs",void 0),Object(r.a)(this,"successState",void 0),Object(r.a)(this,"textAmount",void 0),Object(r.a)(this,"mutedAlerts",void 0),Object(r.a)(this,"actionEvents",void 0),Object(r.a)(this,"applicatorEffects",void 0),Object(r.a)(this,"_currentLens",void 0),Object(r.a)(this,"_listenTextSize",void 0),Object(r.a)(this,"_lensSwitch",void 0),Object(r.a)(this,"_textAmountToSuccessType",void 0),this._state=e,this._documentModel=t,this._trackSuccessStateChanged=n,this._capabilities=f,this.mutedAlertsOptions=h,this.isInSuccess=g,this._withBirthday=b,this._getTextAmount=e=>0===e?a.TextAmount.zero:e<=s.a.BIG_TEXT_SIZE?a.TextAmount.small:a.TextAmount.large,this._subs=[],this.textAmount=o.a.create(this._getTextAmount(this._documentModel.documentLength.get().trimmed)),this.actionEvents=new u.a.Subject,this.applicatorEffects={id:"successViewModel.effects",when:l.a.isWithAlertsId,what:p.e.Effect.Applicator.create(this.actionEvents.pipe(u.a.filter(({type:e})=>e===a.ActionType.More),u.a.map(()=>e=>Object(i.pipe)(p.e.hasItems(e)?this._capabilities.findFirstAlert(e.currentLens):c.g.none,c.g.fold(()=>e,t=>e.patch({currentLens:p.e.hasItems(e)?this._capabilities.selectItemByAlert(t)(e.currentLens):e.currentLens}))))))},this._currentLens=this._state.view(e=>({isSuccess:this.isInSuccess(e),type:e.currentLens.type,isAllAlerts:l.a.isMainLens(e.currentLens.id)})),this._listenTextSize=()=>this._currentLens.view(e=>e.isSuccess).pipe(u.a.switchMap(d.b.orEmpty(this._documentModel.documentLength.view("trimmed"))),u.a.map(this._getTextAmount)).subscribe(d.b.toAtom(this.textAmount)),this._lensSwitch=this._currentLens.pipe(u.a.startWith(this._currentLens.get()),u.a.pairwise(),u.a.map(([e,t])=>t.isSuccess?c.g.some({prevLensType:e.type,isAllAlerts:t.isAllAlerts}):c.g.none)),this._textAmountToSuccessType=e=>e===a.TextAmount.zero?{type:a.SuccessType.zero,showBirthday:this._withBirthday.get()}:e===a.TextAmount.large?{type:a.SuccessType.large}:{type:a.SuccessType.small},this.successState=o.a.create({type:a.SuccessType.zero,showBirthday:this._withBirthday.get()}),this._subs.push(this._listenTextSize(),this._listenSuccessStateChange()),this.mutedAlerts=Object(i.pipe)(h,c.g.map(()=>({reviewMutedSuggestions:()=>{},mutedSuggestionsCount:this._state.view(e=>e.currentLens.meta.mutedCount)})))}}!function(e){let t,n,a;!function(e){e.More="More"}(t=e.ActionType||(e.ActionType={})),function(e){e.zero="zero",e.small="small",e.large="large"}(n=e.TextAmount||(e.TextAmount={})),function(e){e.zero="zero",e.small="small",e.large="large",e.applied="applied",e.premiumOnboardingStart="premiumOnboardingStart",e.premiumOnboardingComplete="premiumOnboardingComplete"}(a=e.SuccessType||(e.SuccessType={}));e.Mock=class{reviewMutedSuggestions(){throw new Error("Method not implemented.")}dispose(){throw new Error("Method not implemented.")}constructor(){Object(r.a)(this,"textAmount",o.a.create(n.zero)),Object(r.a)(this,"successState",o.a.create({type:a.zero,showBirthday:!1})),Object(r.a)(this,"mutedSuggestionsCount",o.a.create(0))}}}(a||(a={}))},PKYJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));const a={z100:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 1px 8px rgba(0, 0, 0, .15)",z300:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 4px 20px rgba(0, 0, 0, .15)"},r={llamaShadowToken:"0px 2px 8px 0px #1A213433, 0px 0px 0.5px 0px #000000B2"}},PN6M:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return j}));var a=n("B8yO"),r=n("4GyQ"),i=n("N4IK"),o=n("Qlyw"),s=n("ySi0"),c=n("nWMp");const l=({title:e,titleId:t,desc:n,descId:r,...i})=>a.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?a.createElement("desc",{id:r},n):null,e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H17v2.5a.5.5 0 0 1-1 0V7h-2.5a.5.5 0 0 1 0-1H16V3.5a.5.5 0 0 1 .5-.5ZM6 8.5A2.5 2.5 0 0 1 8.5 6h2a.5.5 0 0 1 0 1h-2A1.5 1.5 0 0 0 7 8.5v7a2.49 2.49 0 0 1 1.5-.5H16v-2.5a.5.5 0 0 1 1 0v3a.5.5 0 0 1-.5.5h-8a1.5 1.5 0 0 0 0 3h8a.5.5 0 0 1 0 1h-8A2.5 2.5 0 0 1 6 17.5v-9Zm2 9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5Z",fill:"#646B81"}));l.__brand="color";const u=({title:e,titleId:t,desc:n,descId:r,...i})=>a.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?a.createElement("desc",{id:r},n):null,e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.139 7.684a.5.5 0 0 1 .387-.184h6.948a.5.5 0 0 1 .387.184l2.527 3.104a.5.5 0 0 1-.038.672l-6 5.897a.5.5 0 0 1-.7 0l-6-5.897a.5.5 0 0 1-.038-.672L8.14 7.684Zm.625.816-1.712 2.103h2.115l1.07-2.103H8.764Zm2.595 0-1.07 2.103h3.178L12.611 8.5H11.36Zm2.332 0 .856 2.103h2.401L15.236 8.5h-1.545Zm3.087 3.103h-2.22l-1.296 3.456 3.516-3.456Zm-4.809 4.055 1.52-4.055h-3.257l1.737 4.055Zm-2.825-4.055 1.398 3.263-3.32-3.263h1.922Z",fill:"#646B81"}));u.__brand="color";const d=({title:e,titleId:t,desc:n,descId:r,...i})=>a.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?a.createElement("desc",{id:r},n):null,e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 5a1 1 0 0 0-1 1v1h4V6a1 1 0 0 0-1-1h-2Zm4 2V6a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v1H5a.5.5 0 0 0 0 1h1.54l.809 9.708A2.5 2.5 0 0 0 9.84 20h4.32a2.5 2.5 0 0 0 2.491-2.292L17.461 8H19a.5.5 0 0 0 0-1h-4Zm1.457 1H7.543l.802 9.625A1.5 1.5 0 0 0 9.84 19h4.32a1.5 1.5 0 0 0 1.495-1.375L16.457 8ZM10.5 10a.5.5 0 0 1 .5.5V16a.5.5 0 0 1-1 0v-5.5a.5.5 0 0 1 .5-.5Zm3 0a.5.5 0 0 1 .5.5V16a.5.5 0 0 1-1 0v-5.5a.5.5 0 0 1 .5-.5Z",fill:"#646B81"}));d.__brand="color";const p=({title:e,titleId:t,desc:n,descId:r,...i})=>a.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?a.createElement("desc",{id:r},n):null,e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9ZM6.5 12a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0ZM12 9a.5.5 0 0 1 .5.5v2h2a.5.5 0 0 1 0 1h-2v2a.5.5 0 0 1-1 0v-2h-2a.5.5 0 0 1 0-1h2v-2A.5.5 0 0 1 12 9Z",fill:"#646B81"}));p.__brand="color";const m=({title:e,titleId:t,desc:n,descId:r,...i})=>a.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?a.createElement("desc",{id:r},n):null,e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Z",fill:"#15C39A"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.046 11.727c.047.262.293.442.56.442h.838l.485-.068c-.777 1.14-2.127 1.665-3.603 1.433a3.428 3.428 0 0 1-2.669-2.136C5.67 8.82 7.551 6.36 10.004 6.36c1.278 0 2.4.768 3.042 1.671.17.246.509.317.755.146a.536.536 0 0 0 .161-.712A4.694 4.694 0 0 0 9.68 5.31c-2.34.157-4.232 2.07-4.367 4.411-.156 2.724 2.005 4.947 4.692 4.947a4.65 4.65 0 0 0 3.536-1.609l-.102.57v.516c0 .266.179.513.44.56.345.062.644-.2.644-.533v-3.088h-2.944c-.332 0-.595.3-.532.643Z",fill:"#fff"}));m.__brand="nocolor";const f=({title:e,titleId:t,desc:n,descId:r,...i})=>a.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?a.createElement("desc",{id:r},n):null,e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.276 3c-.034.001-.1.02-.173.096l-.643.66 1.165 1.195.665-.682a.207.207 0 0 0 .004-.295l-.382-.392-.505-.517.357-.347-.357.347c-.06-.062-.104-.067-.13-.066Zm-.349 2.667L9.762 4.472l-5.208 5.34v1.21h1.152l5.221-5.355ZM11.224 2c.334-.018.653.112.9.366l.502.515.384.393a1.207 1.207 0 0 1-.004 1.692L6.274 11.87l-.147.151H3.554V9.406l.142-.146 6.69-6.862c.22-.226.513-.38.838-.397ZM2 13.498a.5.5 0 0 1 .5-.5h11.002a.5.5 0 1 1 0 1H2.499a.5.5 0 0 1-.5-.5Z",fill:"#646B81"}));f.__brand="color";const h=({title:e,titleId:t,desc:n,descId:r,...i})=>a.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?a.createElement("desc",{id:r},n):null,e?a.createElement("title",{id:t},e):null,a.createElement("path",{d:"m3.714 12 2.11-.88a2.143 2.143 0 0 0 1.319-1.977M12.286 12l-2.11-.88a2.143 2.143 0 0 1-1.319-1.977M6 6.286v1.143a2 2 0 1 0 4 0V6.286a2 2 0 1 0-4 0ZM14 8A6 6 0 1 1 2 8a6 6 0 0 1 12 0Z",stroke:"#646B81"}));h.__brand="color";const g=({title:e,titleId:t,desc:n,descId:r,...i})=>a.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?a.createElement("desc",{id:r},n):null,e?a.createElement("title",{id:t},e):null,a.createElement("path",{d:"M9.75 11.25a1.5 1.5 0 0 1 1.5-1.5h5.25a1.5 1.5 0 0 1 1.5 1.5v5.25a1.5 1.5 0 0 1-1.5 1.5h-5.25a1.5 1.5 0 0 1-1.5-1.5v-5.25Z",fill:"#5CDAE6"}),a.createElement("path",{d:"M6 7.5A1.5 1.5 0 0 1 7.5 6h5.25a1.5 1.5 0 0 1 1.5 1.5v5.25a1.5 1.5 0 0 1-1.5 1.5H7.5a1.5 1.5 0 0 1-1.5-1.5V7.5Z",fill:"#99F7FF"}),a.createElement("g",{filter:"url(#outcome_plagiarism_a)"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.25 9.75v3a1.5 1.5 0 0 1-1.5 1.5h-3v-3a1.5 1.5 0 0 1 1.5-1.5h3Z",fill:"#79E8F2"})),a.createElement("defs",null,a.createElement("filter",{id:"outcome_plagiarism_a",x:4.75,y:4.75,width:14.5,height:14.5,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:2.5}),a.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.07 0"}),a.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_5231_1828"}),a.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_5231_1828",result:"shape"}))));function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){b(e,t,n[t])}))}return e}function y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}g.__brand="nocolor";var O={close:function(e){return a.createElement(s.d.Close,{className:E(e)})},"arrow-right":function(e){return a.createElement(s.d.Arrow,{direction:s.a.right,className:E(e)})},"arrow-left":function(e){return a.createElement(s.d.Arrow,{direction:s.a.left,className:E(e)})},gear:function(e){return a.createElement(s.d.Gear,{enforceStroke:!0,width:13,className:E(e)})},dictionary:function(e){return a.createElement(l,{className:E(e)})},clarity:function(e){return a.createElement(s.d.ClarityOutcome,{className:E(e)})},correctness:function(e){return a.createElement(s.d.Correctness,{className:E(e)})},engagement:function(e){return a.createElement(s.d.EngagementOutcome,{className:E(e)})},delivery:function(e){return a.createElement(s.d.DeliveryOutcome,{className:E(e)})},diamond:function(e){return a.createElement(s.d.Paid,{width:20,className:E(e)})},diamondSmall:function(e){return a.createElement(u,Object(r.c)(E(e),k.premium))},feedback:function(e){return a.createElement(s.d.AssistantFeedback,{className:E(e)})},sensitivity:function(e){return a.createElement(s.d.Sensitivity,{className:E(e)})},"external-link":function(e){return a.createElement(s.d.ExternalLink,{className:E(e)})},sparkles:function(e){return a.createElement(s.d.Sparkles,{className:E(e)})},ignore:function(e){return a.createElement(d,{className:E(e)})},info:function(e){return a.createElement(s.d.Info,{className:E(e)})},report:function(e){return a.createElement(s.d.Report,{width:12,className:E(e)})},proofreader:function(e){return a.createElement(s.d.Proofread,{width:16,className:E(e)})},mute:function(e){return a.createElement(s.d.Mute,{width:16,className:E(e)})},more:function(e){return a.createElement(s.e,y(v({},Object(r.c)(E(e))),{width:14,viewBox:"0 0 14 4"}),a.createElement("path",{d:"M6.99951 0.5C7.82794 0.5 8.49951 1.17157 8.49951 2C8.49951 2.82843 7.82794 3.5 6.99951 3.5C6.17108 3.5 5.49951 2.82843 5.49951 2C5.49951 1.17157 6.17108 0.5 6.99951 0.5Z",fill:"#6D758D"}),a.createElement("path",{d:"M11.9995 0.5C12.8279 0.5 13.4995 1.17157 13.4995 2C13.4995 2.82843 12.8279 3.5 11.9995 3.5C11.1711 3.5 10.4995 2.82843 10.4995 2C10.4995 1.17157 11.1711 0.5 11.9995 0.5Z",fill:"#6D758D"}),a.createElement("path",{d:"M1.99951 0.5C2.82794 0.5 3.49951 1.17157 3.49951 2C3.49951 2.82843 2.82794 3.5 1.99951 3.5C1.17108 3.5 0.499512 2.82843 0.499512 2C0.499512 1.17157 1.17108 0.5 1.99951 0.5Z",fill:"#6D758D"}))},controls:function(e){return a.createElement(s.e,{className:E(e),width:24,height:24,viewBox:"0 0 24 24",fill:"none"},a.createElement("path",{d:"M12 5.5H21M3 5.5H7M7 5.5C7 6.32843 7.67157 7 8.5 7C9.32843 7 10 6.32843 10 5.5C10 4.67157 9.32843 4 8.5 4C7.67157 4 7 4.67157 7 5.5ZM3 11.5H12M17 11.5H21M17 11.5C17 12.3284 16.3284 13 15.5 13C14.6716 13 14 12.3284 14 11.5C14 10.6716 14.6716 10 15.5 10C16.3284 10 17 10.6716 17 11.5ZM14 17.5H21M3 17.5H9M9 17.5C9 18.3284 9.67157 19 10.5 19C11.3284 19 12 18.3284 12 17.5C12 16.6716 11.3284 16 10.5 16C9.67157 16 9 16.6716 9 17.5Z",stroke:"#6D758D","stroke-linecap":"round"}))},performance:function(e){return a.createElement(s.d.Performance,{className:E(e)})},"bullet-list":function(e){return a.createElement(s.d.Formatting.BulletList,{className:E(e)})},accept:function(e){return a.createElement(s.d.Yes,{className:E(e)})},copy:function(e){return a.createElement(s.d.Copy,{className:E(e)})},newSmall:function(e){return a.createElement(p,{className:E(e)})},gButtonSmall:function(e){return a.createElement(m,{className:E(e)})},edit:function(e){return a.createElement(f,{className:E(e)})},user:function(e){return a.createElement(h,{className:E(e)})},plagiarism:function(e){return a.createElement(g,{className:E(e)})},questionMark:function(e){return a.createElement(s.d.QuestionMark,{width:12,className:E(e)})},newFeature:function(e){return a.createElement(s.e,y(v({},Object(r.c)(E(e),k.newFeature)),{width:66,height:38,viewBox:"0 0 66 38",fill:"none"}),a.createElement("g",{filter:"url(#filter0_d_162_10246)"},a.createElement("rect",{x:"10.8281",y:"8.33301",width:"45.7239",height:"21.033",rx:"10.5165",fill:"url(#paint0_linear_162_10246)"}),a.createElement("path",{d:"M26.5115 14.5216V22.333H25.2529L21.5722 17.0122H21.5073V22.333H20.0923V14.5216H21.3586L25.0355 19.8462H25.1041V14.5216H26.5115ZM29.7719 22.333V14.5216H34.8524V15.7078H31.187V17.8285H34.5893V19.0147H31.187V21.1468H34.8829V22.333H29.7719ZM39.6585 22.333L37.4539 14.5216H38.9758L40.3832 20.2619H40.4557L41.9585 14.5216H43.343L44.8496 20.2657H44.9183L46.3257 14.5216H47.8476L45.643 22.333H44.247L42.6832 16.852H42.6222L41.0545 22.333H39.6585Z",fill:"#0E101A",stroke:"none"})),a.createElement("path",{d:"M62.6293 10.667L63.4395 12.8567L65.6293 13.667L63.4395 14.4773L62.6293 16.667L61.819 14.4773L59.6293 13.667L61.819 12.8567L62.6293 10.667Z",fill:"white",stroke:"none"}),a.createElement("path",{d:"M57.9672 0L59.3176 3.64955L62.9672 5L59.3176 6.35045L57.9672 10L56.6167 6.35045L52.9672 5L56.6167 3.64955L57.9672 0Z",fill:"white",stroke:"none"}),a.createElement("path",{d:"M4.70349 20.333L5.78385 23.2526L8.70349 24.333L5.78385 25.4134L4.70349 28.333L3.62313 25.4134L0.703491 24.333L3.62313 23.2526L4.70349 20.333Z",fill:"white",stroke:"none"}),a.createElement("defs",null,a.createElement("filter",{id:"filter0_d_162_10246",x:"7.17021",y:"8.33301",width:"49.3818",height:"24.6909",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},a.createElement("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feMorphology",{radius:"9.14479",operator:"erode",in:"SourceAlpha",result:"effect1_dropShadow_162_10246"}),a.createElement("feOffset",{dx:"-3.65792",dy:"3.65792"}),a.createElement("feGaussianBlur",{stdDeviation:"4.57239"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_162_10246"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_162_10246",result:"shape"})),a.createElement("linearGradient",{id:"paint0_linear_162_10246",x1:"10.8281",y1:"18.8495",x2:"56.5521",y2:"18.8495",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{"stop-color":"#FBEFB7"}),a.createElement("stop",{offset:"1","stop-color":"#F9C7C7"}))))},assistant:function(e){return a.createElement(s.e,{className:E(e),width:20,height:20,viewBox:"0 0 20 20",fill:"none"},a.createElement("path",{d:"M12 15H14C15.1046 15 16 14.1046 16 13V6.00004C16 4.89547 15.1046 4.00004 14 4.00004L7.00001 4.00001C5.89544 4 5 4.89544 5 6.00001V10",stroke:"#646B81","stroke-linecap":"round"}),a.createElement("path",{d:"M4 13C4 12.4477 4.44772 12 5.00001 12L9.00001 12C9.55229 12 10 12.4478 10 13V15C10 15.5523 9.55228 16 9 16H5C4.44772 16 4 15.5523 4 15V13Z",stroke:"#646B81","stroke-linecap":"round"}))}},S={width:c.a.rem(1.5),height:c.a.rem(1.5),minWidth:c.a.rem(1.5),minHeight:c.a.rem(1.5),borderRadius:c.a.rem(1.5)},C={$nest:{"& path":{fill:i.b.CoreYellow80}}},w={width:c.a.rem(4.125),height:c.a.rem(2.375)},k=c.a.stylesheet({main:[S],premium:[C],newFeature:[w]});function E(e){return void 0===e.backgroundColor?k.main:c.a.joinClasses([k.main,j(e.backgroundColor)])}function j(e){var t=_.get(e);if(void 0!==t)return t;var n=c.a.style({backgroundColor:i.b[e]});return _.put(e,n),n}var _=new o.c(100)},PR1L:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return M}));var a,r,i,o,s,c=n("Wy1Y"),l=n("uKMM"),u=n("a5gI"),d=n("8O/t"),p=n("X76w"),m=n("hcme"),f=n("mMt2"),h=n("DTwm"),g=n("tiWp"),b=n("+vYo"),v=n("4tRT"),y=n("oIsx"),O=n("lXop"),S=n("Y8fD"),C=n("xk6L"),w=n("La5+"),k=n("ykgB"),E=n("yIk2"),j=n("mgiE"),_=n("0kuo"),x=n("M3t0"),A=n("Eve8"),I=function(){function e(t){var n=this;Object(c.a)(this,e),Object(u.a)(this,"_closeModal",void 0),Object(u.a)(this,"actions",void 0),Object(u.a)(this,"_subscriptions",void 0),this._closeModal=t,this.actions=new C.a.Subject,this._subscriptions=new w.a.Keeper,this._subscriptions.push(this.actions.subscribe((function(){return n._closeProofitOrder()})))}return Object(l.a)(e,[{key:"_closeProofitOrder",value:function(){this._closeModal()}},{key:"dispose",value:function(){this._subscriptions.dispose()}}]),e}(),T=function(){function e(t,n){var a=this;Object(c.a)(this,e),Object(u.a)(this,"details",void 0),Object(u.a)(this,"_ops",void 0),Object(u.a)(this,"active",void 0),Object(u.a)(this,"select",void 0),Object(u.a)(this,"unselect",void 0),Object(u.a)(this,"placeOrder",void 0),this.details=t,this._ops=n,this.active=b.a.create(!1),this.select=function(){a._ops._selectPlan(a.details)},this.unselect=function(){a._ops._selectPlan(null)},this.placeOrder=function(e,t){return a._ops._placeOrder(a.details,e,t)}}return Object(l.a)(e,[{key:"toggleActive",value:function(e){return this.active.set(e),this}},{key:"isRecommended",value:function(e){var t=this,n=Object.values(y.a.PlanType);return this===Object(f.a)(e).filter((function(e){return e.details.tier===t.details.tier})).reduce((function(e,t){return n.indexOf(t.details.turnaround)<n.indexOf(e.details.turnaround)?t:e}))&&this.details.enabled}}]),e}();!function(e){e.Order="Order",e.Success="Success"}(a||(a={})),function(e){e[e.Step1=0]="Step1",e[e.Step2=1]="Step2"}(r||(r={})),function(e){e[e.Step1=0]="Step1",e[e.Step2=1]="Step2",e[e.Step3=2]="Step3",e[e.Step4=3]="Step4",e[e.Step5=4]="Step5"}(i||(i={})),(s=o||(o={})).selectPlanTier=function(e,t){return Object(p.a)(Object(d.a)({},e),{selectedPlanTier:t,selectedPlans:e.plans.filter((function(e){return e.details.tier===t})).slice(0,3)})},s.selectPlan=function(e,t){var n=j.g.getEq(y.a.Plan.eq),a=function(e){return n.equals(t,j.g.some(e.details))},r=function(e){return e.toggleActive(a(e))};return Object(p.a)(Object(d.a)({},e),{plans:e.plans.map(r),selectedPlans:e.selectedPlans.map(r),selectedPlan:j.g.fromNullable(e.plans.find(a))})};var M=function(){function e(t,n,s,l,E,I,M){var P=this;Object(c.a)(this,e),Object(u.a)(this,"_subscription",void 0),Object(u.a)(this,"_documentModel",void 0),Object(u.a)(this,"_ded",void 0),Object(u.a)(this,"_user",void 0),Object(u.a)(this,"_notificationsManager",void 0),Object(u.a)(this,"_router",void 0),Object(u.a)(this,"_config",void 0),Object(u.a)(this,"modal",void 0),Object(u.a)(this,"isVisibleModal",void 0),Object(u.a)(this,"noteToEditor",void 0),Object(u.a)(this,"isInternalUser",void 0),Object(u.a)(this,"freeProofitTermsAgreed",void 0),Object(u.a)(this,"requirePaymentCheck",void 0),Object(u.a)(this,"viewState",void 0),Object(u.a)(this,"subscriptionState",void 0),Object(u.a)(this,"braintreeApi",void 0),Object(u.a)(this,"leftStep",void 0),Object(u.a)(this,"rightStep",void 0),Object(u.a)(this,"_orderModalViewModelOption",void 0),Object(u.a)(this,"_initialNativeLanguage",void 0),Object(u.a)(this,"viewStateAndSubscription",void 0),Object(u.a)(this,"_proofit",void 0),Object(u.a)(this,"_subscriptions",void 0),Object(u.a)(this,"_closeModal",void 0),Object(u.a)(this,"changeLeftStep",void 0),Object(u.a)(this,"changeRightStep",void 0),Object(u.a)(this,"placeOrderAfterAntiFraudCheck",void 0),Object(u.a)(this,"onBillingError",void 0),Object(u.a)(this,"requestPlans",void 0),Object(u.a)(this,"requestStatistics",void 0),Object(u.a)(this,"selectPlanTier",void 0),Object(u.a)(this,"_selectPlan",void 0),Object(u.a)(this,"_placeOrder",void 0),Object(u.a)(this,"_onBillingSuccess",void 0),Object(u.a)(this,"_log",void 0),Object(u.a)(this,"_goToMyDocuments",void 0),this._subscription=t,this._documentModel=n,this._ded=s,this._user=l,this._notificationsManager=E,this._router=I,this._config=M,this.modal=b.a.create(j.g.none),this.isVisibleModal=this.modal.lens(v.a.create(j.g.isSome,(function(e,t){return e?t:j.g.none}))),this.viewState=b.a.create(j.g.none),this.subscriptionState=this._subscription.state,this.braintreeApi=this._subscription.braintreeApi,this.leftStep=b.a.create(i.Step1),this.rightStep=b.a.create(r.Step1),this._orderModalViewModelOption=j.g.none,this._initialNativeLanguage=j.g.none,this.viewStateAndSubscription=this.viewState.pipe(C.a.combineLatest(this._subscription.state)),this._subscriptions=new w.a.Keeper,this._closeModal=function(){return P.modal.set(j.g.none)},this.changeLeftStep=function(e){P.leftStep.set(e)},this.changeRightStep=function(e){P.rightStep.set(e)},this.placeOrderAfterAntiFraudCheck=function(e){P._log.info("Anti-fraud place order after check"),P._subscriptions.push(P.viewStateAndSubscription.pipe(C.a.first(),C.a.map((function(e){return Object(m.a)(e,1)[0]})),C.a.map(j.g.chain((function(e){return e.selectedPlan}))),C.a.switchMap(j.g.fold(Promise.resolve,(function(t){return t.placeOrder(j.g.some(e),!1)})))).subscribe((function(){return P._onBillingSuccess()}),(function(){return P.onBillingError()})))},this.onBillingError=function(){P._subscriptions.push(P._showPaymentError().subscribe())},this.requestPlans=this._ded.contentUpdated.pipe(C.a.filter(O.b.isTextMaybeWithFormatting),C.a.auditTime(1e3),C.a.startWith(void 0),C.a.switchMap((function(){return Promise.all([P._proofit.getPlans(),P._user.getUserNativeLanguage()])})),C.a.retryWhen(k.a.OperationRetrier.RetryStrategy.conditional((function(e){return"TimeoutError"===e.name||"NotConnectedError"===e.name}),k.a.OperationRetrier.RetryStrategy.linear(2,1e3))),C.a.tap((function(e){var t=Object(m.a)(e,2),n=t[0],a=t[1];P._initialNativeLanguage=Object(g.pipe)(a,j.b.getOrElse((function(){return j.g.none})));var r=Object(f.a)(n.turnaroundOptions).concat(Object(f.a)(n.clarityTurnaroundOptions)).map((function(e){return new T(e,P)})),i={words:n.words,selectedPlanTier:y.a.PlanTier.Base,plans:r,selectedPlans:[],selectedPlan:j.g.none,proofitState:j.g.none,statistics:j.g.none,userInputs:Object(g.pipe)(a,j.b.fold((function(){return n.userInputs}),(function(e){return Object(p.a)(Object(d.a)({},n.userInputs),{nativeLanguage:e,noteToEditor:j.g.none})}))),priceOfferId:n.priceOfferId},s=function(e,t){return e.some((function(e){var n=e.details;return n.tier===t&&Object(g.pipe)(n.credits,j.g.fold((function(){return!1}),(function(e){return e.canBeUsed&&e.balance>0})))}))},c=s(r,y.a.PlanTier.Base),l=s(r,y.a.PlanTier.Clarity),u=c&&!l?y.a.PlanTier.Base:y.a.PlanTier.Clarity;P.viewState.set(j.g.some(o.selectPlanTier(i,u)))})),C.a.catchError((function(e){return P._log.error("Error querying proofit plan options",e),P._notificationsManager.enqueue("error").pipe(C.a.filter(S.a.isCloseAction),C.a.tap((function(){return P.modal.set(j.g.none)})))})),C.a.finalize((function(){P.viewState.set(j.g.none)})),C.a.share()),this.requestStatistics=function(){return P._proofit.getStatistics().pipe(C.a.retryWhen(k.a.OperationRetrier.RetryStrategy.conditional((function(e){return"NotConnectedError"===e.name}),k.a.OperationRetrier.RetryStrategy.linear(2,1e3))),C.a.tap((function(e){P.viewState.modify(j.g.map((function(t){return Object(p.a)(Object(d.a)({},t),{statistics:e})})))})),C.a.catchError((function(e){return P._log.debug("Error querying proofit statistics",e),C.a.of(j.g.none)})))},this.selectPlanTier=function(e){P.viewState.modify(j.g.map((function(t){return o.selectPlan(o.selectPlanTier(t,e),j.g.none)})))},this._selectPlan=function(e){P.viewState.modify(j.g.map((function(t){return o.selectPlan(t,j.g.fromNullable(e))})))},this._placeOrder=function(e,t,n){return P._updateUserNativeLanguage(),P._proofit.placeOrder(e,P._getUserInputs(),P._getPriceOfferId(),t,n)},this._onBillingSuccess=function(){P._subscriptions.push(P._showPaymentMessage().subscribe())},this._log=x.d.Logging.getLogger("ProofitView"),this._goToMyDocuments=function(){P._router.navigate(A.a.routes.documents.href(),{proofitSubmitted:!0})},this._proofit=this._documentModel.proofit,this.isInternalUser=this._user.features.denali.isInternalUser,this.noteToEditor=this._user.features.denali.proofitNoteToEditor;var N=this._subscription.state.get().value;this.requirePaymentCheck=this._user.features.denali.requirePaymentCheck?b.a.create(!0):this.viewState.view(Object(h.flow)(j.g.chain((function(e){return e.selectedPlan})),j.g.map((function(e){return e.details.requirePaymentCheck})),j.g.getOrElse(h.constFalse))),this.freeProofitTermsAgreed=b.a.create(!1),this._subscriptions.push(this._proofit.state.pipe(C.a.tap((function(e){return P.viewState.modify(j.g.map((function(t){return Object(p.a)(Object(d.a)({},t),{proofitState:e})})))})),C.b.compact,C.a.switchMap((function(e){switch(e.kind){case"submitted":return P._log.info("Document submitted for proofreading"),P._showSuccessModal();case"finished":case"cancelled":case"sending":return C.a.EMPTY;case"error":return P._log.error("Error sending document for proofreading:",e.errorType),P._createErrorNotification(e.errorType,N.paymentMethod);default:return Object(_.c)(e)}}))).subscribe()),this._subscriptions.push(this.modal.pipe(C.a.pairwise(),C.a.filter((function(e){var t=Object(m.a)(e,1)[0];return Object(g.pipe)(t,j.g.exists((function(e){return e.type===a.Success})))}))).subscribe(this._goToMyDocuments))}return Object(l.a)(e,[{key:"clearModals",value:function(){Object(g.pipe)(this._orderModalViewModelOption,j.g.map((function(e){return e.dispose()}))),this._orderModalViewModelOption=j.g.none}},{key:"newOrderModalViewModel",value:function(){var e=new I(this._closeModal);return this._orderModalViewModelOption=j.g.some(e),e}},{key:"closeModal",value:function(){this.modal.set(j.g.none),this.leftStep.set(i.Step1),this.rightStep.set(r.Step1),this.freeProofitTermsAgreed.set(!1)}},{key:"showOrderModal",value:function(){this.modal.set(j.g.some({type:a.Order}))}},{key:"selectUserInput",value:function(e,t){this.viewState.modify(j.g.map((function(n){return Object(p.a)(Object(d.a)({},n),{userInputs:Object(p.a)(Object(d.a)({},n.userInputs),Object(u.a)({},e,t))})})))}},{key:"dispose",value:function(){this.clearModals(),this._subscriptions.dispose()}},{key:"_showPaymentMessage",value:function(){return this._notificationsManager.enqueue("paymentSuccess")}},{key:"_showPaymentError",value:function(){return this._notificationsManager.enqueue("paymentError")}},{key:"_showSuccessModal",value:function(){return this._log.info("Show Success Modal"),this._proofit.jobDetails.pipe(C.b.compact,C.a.combineLatest(this._user.profile,(function(e,t){var n=e.dueTime,r=t.email;return j.g.some({type:a.Success,payload:{email:r,dueDate:n}})})),C.a.first(),C.a.tap(E.b.toAtom(this.modal)))}},{key:"_createErrorNotification",value:function(e,t){var n=this;switch(e){case"payment":return this._notificationsManager.enqueue("proofitPaymentDeclinedError",{paymentMethod:t}).pipe(C.a.filter((function(e){return"navigateToSubscription"===e})),C.a.tap((function(){return window.open(n._config.account.subscription,"_blank")})));case"emptyDocument":return this._notificationsManager.enqueue("proofitEmptyDocumentError");case"alreadyProofread":return this._notificationsManager.enqueue("proofitDocumentProofreadError").pipe(C.a.filter((function(e){return"navigateToDocuments"===e})),C.a.tap(this._goToMyDocuments));case"complexInternalStructure":return this._notificationsManager.enqueue("proofitComplexInternalStructureError").pipe(C.a.filter((function(e){return"navigateToDocuments"===e})),C.a.tap(this._goToMyDocuments));case"unknown":return this._notificationsManager.enqueue("error");default:return Object(_.c)(e)}}},{key:"_getUserInputs",value:function(){return Object(g.pipe)(this.viewState.get(),j.g.map((function(e){return e.userInputs})),j.g.getOrElse(Object(h.constant)({nativeLanguage:j.g.none,dialect:j.g.none,quotationType:j.g.none,spaceType:j.g.none,noteToEditor:j.g.none})))}},{key:"_updateUserNativeLanguage",value:function(){var e=this,t=this._getUserInputs();j.g.getEq(j.c.eqStrict).equals(t.nativeLanguage,this._initialNativeLanguage)||Object(g.pipe)(t.nativeLanguage,j.g.tap((function(t){return e._user.updateUserNativeLanguage(t)()})))}},{key:"_getPriceOfferId",value:function(){var e=this.viewState.get();return Object(_.f)(!j.g.isNone(e),"Proofit view state should be initialized"),j.g.unsafeGet(e).priceOfferId}}]),e}()},PY5o:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var a=n("8O/t"),r=n("X76w"),i=n("hcme"),o=n("B8yO"),s=n("DTwm"),c=n("tiWp"),l=n("2zNz"),u=n("OwvP"),d=n("4GyQ"),p=n("+vYo"),m=n("lXop"),f=n("NDcT"),h=n("jY3z"),g=n("fC5a"),b=n("zK/v"),v=n("L8Yl"),y=n("CRC+"),O=n("ySi0"),S=n("1MPA"),C=n("wuWi"),w=n("7IMz"),k=n("xk6L"),E=n("fuW0"),j=n("h+d6"),_=n("6+at"),x=n("mgiE"),A=n("RRF2"),I=n("TKPA"),T=n("0kuo"),M=n("6Fzp"),P=n("OUbY"),N=n("xAs4"),D=n("0jky"),B=n("1vTd"),L=n("E5C1"),F=n("OXKW"),R=n("skc2");function H(e){switch(e){case"chrome":case"firefox":case"edge":case"safari":return e;default:return"other"}}function V(e){switch(e){case"windows":case"mac":case"linux":case"android":case"ios":return e;default:return"other"}}n("KQ7Z");var U,W=n("pjeB"),z=function(e){var t=e.documentSettingsViewModel,n=e.isSidebarOpen,a=e.isDemoMode,r=e.isRefreshLogo,i=e.showOnboardingTourA11yUpdates,s=o.useContext(f.a.Context).landmark;return o.createElement("aside",{className:W.leftSidebar,"aria-label":s.documentMenu},o.createElement(G,{viewModel:t}),o.createElement($,{documentSettingsViewModel:t,isSidebarOpen:n,isRefreshLogo:r,isDemoMode:a,showOnboardingTourA11yUpdates:i}))},G=function(e){var t=e.viewModel,n=w.a.useElWatcher(),a=n.ref,r=n.onMount,s=o.useContext(f.a.Context);w.a.FocusTrap.useFocusTrap(t.visualState.pipe(k.a.filter(U.isExpanded),k.a.delay(500),k.a.switchMapTo(a)));var l=a.pipe(k.b.compact),d=new k.a.BehaviorSubject(0),p=t.visualState.pipe(k.a.filter(U.isExpanded),k.a.tap((function(){return d.next(0)}))),m=t.visualState.pipe(k.a.filter(U.isExpanded),k.a.switchMap((function(){return k.a.fromEvent(document,"mousedown").pipe(k.a.map((function(e){return x.g.fromNullable(e.target)})))})),k.a.withLatestFrom(l),k.a.filter((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return!Object(c.pipe)(n,x.g.exists((function(e){return A.c.isParent(a,e)})))})),k.a.tap((function(){return t.visualState.set({type:L.a.Collapsed})})));w.a.useSubscriptionTo(p.pipe(k.a.merge(m))),w.a.useSubscriptionTo(Object(c.pipe)(l,k.a.switchMap((function(e){return t.visualState.view(U.isExpanded).pipe(k.a.tap((function(t){return t?e.removeAttribute("inert"):e.setAttribute("inert","true")})))}))));var h=new k.a.Subject;return o.createElement(u.a.Fragment,null,t.visualState.view((function(e){var n=U.isExpanded(e);return o.createElement("nav",{"aria-label":s.documentSettings.label,className:n?W.documentSettingsExpanded:W.documentSettings,ref:r,onMouseEnter:t.onMenuHovered},o.createElement(Y,{viewModel:t}),o.createElement("div",{className:W.menuHead}),o.createElement(S.a,{name:"documentSettingsScroll",showWhenScrollable:!0,className:W.scrollableContent,scrollTo:d,key:e.type,onScroll:h},t.items.map((function(t,n){return F.a.Item.isViewItem(t)?U.isHeader(t.name)?o.createElement(Z,{item:t,key:n,onScroll:h.pipe(k.a.map(I.e))}):o.createElement("div",{ref:function(n){e.type===L.a.Expanded&&null!==n&&Object(c.pipe)(e.scrollTo,x.g.filter((function(e){return e.item===t.name})),x.g.tap((function(e){return d.next(n.getBoundingClientRect().bottom-e.positionY)})))},className:U.getItemClassName(t.name),key:n},o.createElement(X,{item:t,onScroll:h.pipe(k.a.map(I.e))})):o.createElement(te,{key:n})}))))})))},q=o.memo(B.b.createComponent({component:u.a.div,section:B.b.create(B.b.Id.menu),focusStrategy:E.a.FocusStrategy.focusRootOrLastFocusable}),s.constTrue),K=o.memo(B.b.createComponent({component:g.a,section:B.b.create(B.b.Id.support),behavior:E.a.FocusBehavior.captureTab}),s.constTrue),$=function(e){var t=e.documentSettingsViewModel,n=e.isSidebarOpen,i=e.isDemoMode,s=e.isRefreshLogo,p=e.showOnboardingTourA11yUpdates,m=o.useContext(f.a.Context);return o.createElement(u.a.Fragment,null,t.visualState.view((function(e){var f=U.isExpanded(e);return o.createElement("nav",{"aria-label":m.documentSettings.toolbarLabel,className:f?W.toolbarCollapsed:W.toolbarExpanded,key:"documentSettings-toolbar"},o.createElement("div",{className:W.expandButtonContainer},o.createElement(u.a.div,Object(a.a)({"data-name":"documentSettings-toolbarExpand"},Object(d.c)(f?W.expandButtonAnimationWrapperCollapsed:s?W.expandButtonAnimationWrapperExpandedRefreshLogo:W.expandButtonAnimationWrapperExpanded,i?W.expandButtonSquashed:n.view(Object(I.c)(W.expandButtonSquashedWhenSmall,null)))),o.createElement(q,{className:W.expandButton},i?null:o.createElement(o.Fragment,null,o.createElement(g.a,Object(r.a)(Object(a.a)({name:"documentSettings-toolbarExpand-backToMyGrammarlyInline",title:"Grammarly Home","aria-label":"Grammarly Home"},Object(d.c)(W.expandButtonInlineAnimation,n.view(Object(I.c)(W.expandButtonHiddenWhenSmall,null)))),{onClick:t.onGoBackToGrammarlyHome}),s?o.createElement(l.e,{icon:l.B,accessibilityLabel:"Open Grammarly Home",className:f?W.iconCollapsed:W.iconExpandedRefreshLogo}):o.createElement(O.d.Grammarly,{className:f?W.iconCollapsed:W.iconExpanded})),s?null:o.createElement(u.a.div,Object(d.c)(W.expandButtonSeparator,n.view(Object(I.c)(W.expandButtonHiddenWhenSmall,null))))),o.createElement(_.b,{alignment:"bottom",eventType:"onclick",stepId:j.a.StepId.Step10,title:p?m.documentSettings.detailedOnboarding.title:void 0,message:p?m.documentSettings.detailedOnboarding.message:m.documentSettings.onboarding.message,themes:{spotClassName:W.onboardingSpot}},o.createElement(g.a,{name:"documentSettings-toolbarExpand-openToolbar",title:"Menu","aria-label":"Menu",className:W.expandButtonInlineAnimation,onClick:t.onOpenToolbar},o.createElement(O.d.DocumentSettings.ExpandMenu,{className:s?W.expandMenuIcon:void 0})))))),o.createElement(K,{name:"documentSettings-toolbarSupport",className:W.toolbarSupportButton,title:m.documentSettings.supportTitle,"aria-label":m.documentSettings.supportTitle,onClick:function(e){t.visualState.set({type:L.a.Expanded,scrollTo:Object(c.pipe)(U.getClickEventY(e),x.g.map((function(e){return{item:L.b.support,positionY:e}})))})}},o.createElement(O.d.QuestionMark,null)))})))},Z=function(e){var t=e.item,n=e.onScroll;return o.createElement("div",{className:U.getItemClassName(t.name)},o.createElement(C.l,{className:Object(c.pipe)(U.getTextClassName(t.name),x.g.toUndefined)},t.title),o.createElement(ee,{item:t,onScroll:n}))},Y=function(e){var t=e.viewModel,n=U.isExpanded(t.visualState.get());return o.createElement("div",{className:n?W.closeButtonWrapperExpanded:W.closeButtonWrapperCollapsed},o.createElement(g.a.Flat,{name:"documentSettings-".concat(t.head.name),active:t.head.active,disabled:t.head.disabled,animationMode:b.a.None,onClick:t.head.onClick,className:n?W.closeButtonExpanded:W.closeButtonCollapsed},o.createElement(O.d.Close,{className:n?W.closeIconExpanded:W.closeIconCollapsed}),o.createElement("span",{className:n?W.closeButtonTitleExpanded:W.closeButtonTitleCollapsed},t.head.title)))},X=function(e){var t=e.item,n=e.onScroll,a=o.useContext(M.a.Context),r=o.useContext(P.a.Context),i=U.getLink(t.name,a,r),s=U.getUploadModel(t),l=o.useRef(null),u=function(){t.onClick(),null!==l.current&&l.current.click()},d=o.createElement(o.Fragment,null,Object(c.pipe)(U.getIcon(t),x.g.fold((function(){return o.createElement("span",{id:t.name,className:W.menuText},t.title)}),(function(e){return o.createElement(o.Fragment,null,o.createElement("div",{"aria-hidden":!0,className:W.icon},e),o.createElement("span",{className:W.menuTitle},t.title))}))),o.createElement(ee,{item:t,onScroll:n,mount:function(e){return l.current=e}})),p=Object(c.pipe)(s,x.g.map((function(e){return o.createElement(D.a,{documentUpload:e,multiple:!1,mount:function(e){return l.current=e},hideTooltip:!0,ariaHidden:!0})})),x.g.toNullable);return o.createElement(o.Fragment,null,Object(c.pipe)(i,x.g.fold((function(){return o.createElement(Q,{item:t,onClick:u},d)}),(function(e){return o.createElement(J,{item:t,link:e,onClick:u},d)}))),p)},Q=function(e){var t=e.item,n=e.children,a=e.onClick;return o.createElement(g.a.Flat,{name:"documentSettings-".concat(t.name),active:t.active,disabled:t.disabled,onClick:a,className:W.menuButton},n)},J=function(e){var t=e.item,n=e.link,a=e.onClick,r=e.children;return o.createElement(g.a.Flat,{name:"documentSettings-".concat(t.name),active:t.active,disabled:t.disabled,className:W.menuButton,onClick:a,href:n,target:"_blank"},r)},ee=function(e){var t=e.item,n=e.onScroll,a=e.mount,r=o.useContext(f.a.Context);return Object(c.pipe)(t.nestedItem,x.g.map(x.b.fold((function(e){return o.createElement(C.l,{className:W.label},e)}),(function(e){return U.renderNestedItem(t.name,e,n,r.documentSettings.eduLabel,a)}))),x.g.toNullable)},te=function(){return o.createElement("div",{className:W.separator})};!function(e){var t=function(e,t){return function(a){return o.createElement(g.a.Flat,{id:a,tag:v.b.div,name:"documentSettings-".concat(a,"DialectButton"),onClick:function(){return t(a)}},o.createElement(u.a.Fragment,null,n(a),o.createElement("span",{className:W.dialect},"".concat(a," English")),e.dialectOrDefault.view((function(e){return e===a&&o.createElement(O.d.DocumentSettings.Selected,{className:W.selectedLanguageIcon,key:a})}))))}},n=function(e){switch(e){case"american":return o.createElement(O.d.DocumentSettings.USFlag,null);case"british":return o.createElement(O.d.DocumentSettings.GBFlag,null);case"canadian":return o.createElement(O.d.DocumentSettings.CanadianFlag,null);case"australian":return o.createElement(O.d.DocumentSettings.AustralianFlag,null);case"indian":return o.createElement(O.d.DocumentSettings.IndianFlag,null);default:return Object(T.c)(e)}},a=function(e){var t=e.getBoundingClientRect();return t.bottom-t.height/2};e.renderNestedItem=function(e,a,r,i,s){switch(a.type){case L.c.uploadFile:return o.createElement(C.l,{className:W.label},a.label);case L.c.accountHeaderLabel:return N.e.isPremium(a.denaliUserType)?N.e.isBusiness(a.denaliUserType)?o.createElement(h.a.Business,{className:W.accountHeaderLabel}):N.e.isEdu(a.denaliUserType)?o.createElement(h.a.Regular,{className:W.accountHeaderLabel},i):o.createElement(h.a.Premium,{className:W.accountHeaderLabel}):o.createElement(h.a.Regular,{className:W.freeLabel},"FREE");case L.c.whatsNewUpdates:return o.createElement(o.Fragment,null);case L.c.languageSettings:return function(e,a,r,i){var s=p.a.create("100%"),l=t(a.dialectSettings,a.changeDialect),d=new k.a.Subject,m=function(e){var t=Object(c.pipe)(x.g.fromNullable(e.target),x.g.map((function(e){return e.getBoundingClientRect()})));return d.pipe(k.a.map((function(e){return e.offsetHeight})),k.a.tap((function(e){return Object(c.pipe)(t,x.g.tap((function(t){var n=t.top-t.height/2,a=e/4;window.innerHeight<n+e+a?s.set("".concat(window.innerHeight-e-a,"px")):s.set("".concat(n,"px"))})))}))).toPromise()};return o.createElement(y.a,{name:"languageSettingsDropdown",activeDescendantId:a.dialectSettings.dialectOrDefault,label:o.createElement("div",{className:W.languageSettings,onMouseEnter:m,onClick:m,ref:i,"aria-hidden":!0},o.createElement(u.a.div,{className:W.icon},a.dialectSettings.dialectOrDefault.view((function(e){return n(e)}))),o.createElement(C.l,{className:W.label},"▶")),showDelay:0,closeDelay:100,theme:W,customPosition:{top:s,left:"18.5rem"},forceHide:r,ariaLabelledBy:e},o.createElement("div",{ref:function(e){return e&&d.next(e)},className:W.languageButtonsWrapper},l("american"),l("british"),l("canadian"),l("australian"),l("indian")))}(e,a,r,s);default:return Object(T.c)(a)}};e.getLink=function(e,t,n){switch(e){case L.b.subscription:return x.g.some(t.account.subscription);case L.b.support:return x.g.some(t.support.mainPage);case L.b.privacyPolicy:return x.g.some(t.privacyPolicy);case L.b.termsOfService:return x.g.some(t.termsOfService);case L.b.reportABug:return x.g.some(function(e,t){return new R.a(e.api.inProductReportUrl).addParams({clientVersion:t.buildVersion.toString(),platformVersion:t.info.parsedVersion.toString(),application:window.location.origin,browser:H(t.info.browser),os:V(t.info.os),userType:"business",team:"editor"}).toString()}(t,n));case L.b.close:case L.b.myGrammarly:case L.b.documentHeader:case L.b.newDocument:case L.b.uploadFile:case L.b.download:case L.b.print:case L.b.editHeader:case L.b.editorSettings:case L.b.accountHeader:case L.b.userName:case L.b.email:case L.b.upgradeToPremium:case L.b.language:case L.b.logout:case L.b.whatsNew:case L.b.feedback:case m.d.undo:case m.d.redo:case m.d.cut:case m.d.copy:case m.d.paste:case m.d.selectAll:return x.g.none;default:return Object(T.c)(e)}};e.getUploadModel=Object(s.flow)(A.e.pick("nestedItem"),x.g.chain(x.g.fromEither),x.g.chain((function(e){switch(e.type){case L.c.uploadFile:return x.g.some(e.uploadViewModel.uploadModel);case L.c.accountHeaderLabel:case L.c.whatsNewUpdates:case L.c.languageSettings:return x.g.none;default:return Object(T.c)(e)}})));e.getIcon=function(e){var t=e.name;switch(t){case L.b.close:return x.g.some(o.createElement(O.d.Close,null));case L.b.myGrammarly:return x.g.some(o.createElement(O.d.DocumentSettings.Home,null));case L.b.newDocument:return x.g.some(o.createElement(O.d.DocumentSettings.NewDocument,null));case L.b.uploadFile:return x.g.some(o.createElement(O.d.DocumentSettings.UploadFile,null));case L.b.download:return x.g.some(o.createElement(O.d.ToolbarDownload,null));case L.b.print:return x.g.some(o.createElement(O.d.DocumentSettings.PrintFile,null));case m.d.undo:return x.g.some(o.createElement(O.d.DocumentSettings.UndoGrey,null));case m.d.redo:return x.g.some(o.createElement(O.d.DocumentSettings.Redo,null));case m.d.cut:return x.g.some(o.createElement(O.d.DocumentSettings.Cut,null));case m.d.copy:return x.g.some(o.createElement(O.d.Copy,null));case m.d.paste:return x.g.some(o.createElement(O.d.DocumentSettings.Paste,null));case L.b.editorSettings:return x.g.some(o.createElement(O.d.Gear,null));case L.b.support:return x.g.some(o.createElement(O.d.QuestionMark,null));case L.b.upgradeToPremium:return x.g.some(o.createElement(O.d.Paid,null));case L.b.documentHeader:case L.b.editHeader:case L.b.accountHeader:case L.b.userName:case L.b.email:case L.b.language:case L.b.subscription:case L.b.logout:case L.b.whatsNew:case L.b.feedback:case L.b.privacyPolicy:case L.b.termsOfService:case L.b.reportABug:case m.d.selectAll:return x.g.none;default:return Object(T.c)(t)}},e.getItemClassName=function(e){switch(e){case L.b.myGrammarly:case L.b.editorSettings:return W.oneItemContainer;case L.b.documentHeader:case L.b.editHeader:case L.b.accountHeader:return W.header;case L.b.userName:return W.userNameHeader;case L.b.email:return W.emailHeader;case L.b.close:case L.b.newDocument:case L.b.uploadFile:case L.b.download:case L.b.print:case L.b.upgradeToPremium:case L.b.language:case L.b.subscription:case L.b.logout:case L.b.support:case L.b.whatsNew:case L.b.feedback:case L.b.privacyPolicy:case L.b.termsOfService:case L.b.reportABug:case m.d.undo:case m.d.redo:case m.d.cut:case m.d.copy:case m.d.paste:case m.d.selectAll:return W.menuButtonWrapper;default:return Object(T.c)(e)}},e.getTextClassName=function(e){switch(e){case L.b.userName:return x.g.some(W.userName);case L.b.email:return x.g.some(W.email);case L.b.documentHeader:case L.b.editHeader:case L.b.accountHeader:return x.g.some(W.headerText);case L.b.close:case L.b.myGrammarly:case L.b.newDocument:case L.b.uploadFile:case L.b.download:case L.b.print:case L.b.editorSettings:case L.b.upgradeToPremium:case L.b.language:case L.b.subscription:case L.b.logout:case L.b.support:case L.b.whatsNew:case L.b.feedback:case L.b.privacyPolicy:case L.b.termsOfService:case L.b.reportABug:case m.d.undo:case m.d.redo:case m.d.cut:case m.d.copy:case m.d.paste:case m.d.selectAll:return x.g.none;default:return Object(T.c)(e)}},e.isHeader=function(e){switch(e){case L.b.documentHeader:case L.b.editHeader:case L.b.accountHeader:case L.b.userName:case L.b.email:return!0;case L.b.close:case L.b.myGrammarly:case L.b.newDocument:case L.b.uploadFile:case L.b.download:case L.b.print:case L.b.editorSettings:case L.b.upgradeToPremium:case L.b.language:case L.b.subscription:case L.b.logout:case L.b.support:case L.b.whatsNew:case L.b.feedback:case L.b.privacyPolicy:case L.b.termsOfService:case L.b.reportABug:case m.d.undo:case m.d.redo:case m.d.cut:case m.d.copy:case m.d.paste:case m.d.selectAll:return!1;default:return Object(T.c)(e)}},e.getClickEventY=function(e){return Object(c.pipe)(x.g.fromNullable(void 0!==e&&e.target),x.g.map(a))},e.getElementCenter=a,e.isExpanded=function(e){return e.type===L.a.Expanded}}(U||(U={}))},PYgo:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a,r,i=n("TKPA");!function(e){let t;function n(e){return e.type===a.Type.confirmed}function r(e){return e.type===a.Type.undone}!function(e){e.mounted="mounted",e.opened="opened",e.closed="closed",e.hovered="hovered",e.unhovered="unhovered",e.applied="applied",e.addedToDictionary="added_to_dictionary",e.ignored="ignored",e.confirmed="confirmed",e.undone="undone",e.looked="looked"}(t=e.Type||(e.Type={})),e.isAlertApplyAction=function(e){return e.type===a.Type.applied},e.isAlertOpenAction=function(e){return e.type===a.Type.opened},e.isAlertIgnoreAction=function(e){return e.type===a.Type.ignored},e.isAlertAddToDictionaryAction=function(e){return e.type===a.Type.addedToDictionary},e.isConfirmAction=n,e.isUndoAction=r,e.isMountAction=function(e){return e.type===a.Type.mounted},e.isLookedAction=function(e){return e.type===a.Type.looked};e.isBulkAction=Object(i.p)(n,r)}(a||(a={})),function(e){let t;!function(e){e.Up="Up",e.Down="Down"}(t=e.Direction||(e.Direction={}))}(r||(r={}))},Pkcy:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var a,r=n("a5gI"),i=n("8O/t"),o=n("X76w"),s=n("nWMp"),c=n("PltQ"),l=n("NbNH"),u=n("2swC"),d=function(){return{padding:"0 ".concat(s.a.rem(1))}},p=function(){return{paddingTop:s.a.rem(.5)}},m=s.a.keyframes({from:{opacity:0,transform:"scale(1, .8)"}}),f=s.a.keyframes({to:{opacity:0,transform:"scale(1, .8)"}}),h={position:"absolute",zIndex:l.l,minWidth:s.a.rem(11),outline:"none",transformOrigin:"top",willChange:"opacity, transform",$nest:{"@media print":{visibility:"hidden"}}},g={marginTop:s.a.rem(.5),transformOrigin:"bottom"},b={animation:"".concat(f," ").concat(s.a.seconds(.1)," linear forwards"),pointerEvents:"none"},v={animation:"".concat(m," ").concat(s.a.seconds(.1)," linear forwards")},y={display:"flex",flexDirection:"column",overflow:"hidden",marginLeft:s.a.rem(-1),minWidth:s.a.rem(12),maxWidth:s.a.rem(18),borderRadius:s.a.rem(l.s),background:u.a.CoreNeutral0,boxShadow:u.b.Z300,color:c.k,fontSize:s.a.rem(.8),"-webkit-font-smoothing":"antialiased",$nest:{"&:before":{position:"absolute",marginTop:s.a.px(-2),width:s.a.percent(100),height:s.a.px(2),border:"1px solid transparent",content:"''"}}},O=Object(o.a)(Object(i.a)({},y),{maxWidth:void 0}),S={display:"flex",alignItems:"center",justifyContent:"start",padding:"".concat(s.a.rem(.5)," ").concat(s.a.rem(1)," ").concat(s.a.rem(.5)," ").concat(s.a.rem(.5)),background:u.a.CoreYellow20,color:u.a.CoreYellow80,$nest:{"& i":{margin:"0 ".concat(s.a.rem(.5)," 0 ").concat(s.a.rem(.25)),fill:u.a.CoreYellow80}}},C={paddingBottom:s.a.rem(.5)},w={$nest:{"&:first-letter":{textTransform:"capitalize"}}},k={paddingBottom:s.a.rem(.75),color:u.a.CoreNeutral90,fontSize:s.a.rem(.85),lineHeight:s.a.rem(1.2)},E={overflow:"hidden",paddingRight:s.a.rem(1),paddingLeft:s.a.rem(.5),color:c.c,textTransform:"none",textOverflow:"ellipsis",fontSize:s.a.rem(.8),lineHeight:s.a.rem(1.85),width:s.a.percent(100)},j={marginBottom:s.a.rem(.8),fontSize:s.a.rem(.7),lineHeight:s.a.rem(1.1),$nest:{"& b":{padding:s.a.rem(.25),borderRadius:l.u,background:c.g,color:u.a.CoreNeutral90,fontWeight:600}}},_={color:c.j,fontWeight:"normal",lineHeight:s.a.rem(2.1),paddingLeft:s.a.important(s.a.rem(.5)),justifyContent:"flex-start"},x={height:s.a.rem(2)},A={paddingBottom:s.a.rem(.5),color:c.j,whiteSpace:"nowrap",fontWeight:"normal",fontSize:s.a.rem(1.25),lineHeight:s.a.rem(2),cursor:"pointer",textSizeAdjust:String(s.a.percent(100))},I={display:"flex",justifyContent:"space-between",marginBottom:s.a.rem(.25),paddingTop:s.a.rem(.1),color:c.j,fontWeight:400,fontSize:s.a.rem(.8),lineHeight:s.a.rem(1.2)},T={color:u.a.CoreBlue50},M={color:s.a.important(c.c),lineHeight:s.a.rem(2),$nest:{"&:after":{background:s.a.important(c.c)}}},P={$nest:Object(r.a)({},"& .".concat("itemInsert",", .").concat("itemRemove"),{paddingBottom:s.a.rem(.3),whiteSpace:"normal",lineHeight:s.a.rem(1.5)})},N={maxWidth:s.a.rem(19)},D={padding:"".concat(s.a.rem(.75)," ").concat(s.a.rem(1)),color:u.a.CoreNeutral40},B={paddingLeft:s.a.rem(.4)},L={color:u.a.CoreNeutral40,fontWeight:500},F={$nest:{"& svg":{stroke:u.a.CoreNeutral40}}},R={display:"block",width:s.a.percent(100),color:u.a.CoreNeutral90,textAlign:"left",whiteSpace:"pre-line",$nest:{"&:first-child":Object(i.a)({},p()),"&:hover":{backgroundColor:u.a.CoreBlue50,color:u.a.CoreNeutral0,$nest:(a={},Object(r.a)(a,"& .".concat("inlineHeader"),{color:u.a.CoreNeutral0}),Object(r.a)(a,"& .".concat("inline-card-diff"),{color:u.a.CoreNeutral0}),Object(r.a)(a,"& .".concat("inline-transform"),{color:u.a.CoreNeutral0}),Object(r.a)(a,"& .".concat("strike"),{color:s.a.important(u.a.CoreNeutral0),$nest:{"&:after":{background:s.a.important(u.a.CoreNeutral0)}}}),a)}}},H={transform:"scale(.8)",marginRight:s.a.rem(.1)},V=Object(o.a)(Object(i.a)({},s.a.stylesheet({container:[h],directionUp:[g],invisible:[b],visible:[v],bigTitle:[d(),p(),w,k],unknownWordTitle:[p(),w,E],explanation:[d(),j],footerButton:[_],footerButtonBig:[_],footerButtonShort:[_,x],inlineWrappedList:[A],maxWidthReached:[P],cardUphook:[N],title:[D],upgradeButton:[B],upgradeButtonText:[L],upgradeIcon:[F]})),{card:s.a.joinClasses(["inline-card-card",s.a.style(y)]),sduiCard:s.a.style(O),premiumCardFooter:s.a.joinClasses(["inline-card-card",s.a.style(S)]),emptyCardFooter:s.a.joinClasses(["inline-card-card",s.a.style(C)]),diff:s.a.joinClasses(["inline-card-diff",s.a.style(T)]),strike:s.a.joinClasses(["strike",s.a.style(M)]),inlineHeader:s.a.joinClasses(["inlineHeader",s.a.style(w,I)]),inlineHeaderOne:s.a.joinClasses(["inlineHeader",s.a.style(w,I,{marginBottom:0})]),itemInsert:s.a.joinClasses(["itemInsert",s.a.style(d(),R)]),itemRemove:s.a.joinClasses(["itemRemove",s.a.style(d(),R)]),transform:"inline-transform",inlineCardUpdatedLogo:s.a.style(H)})},PyEC:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n("2swC"),r=n("nWMp"),i=n("NbNH");const o={position:"relative",borderRadius:r.a.rem(i.t),boxShadow:"0 1px 7px 0 rgba(129, 137, 169, .2)",userSelect:"none",backgroundColor:a.a.CoreNeutral0},s={display:"flex",padding:r.a.rem(.5),height:r.a.rem(3),cursor:"pointer",alignItems:"center"},c={padding:`${r.a.rem(1.5)} ${r.a.rem(.5)} ${r.a.rem(1.5)}`},l={display:"flex",alignItems:"center",flexDirection:"row",fontSize:r.a.rem(.85),lineHeight:r.a.rem(1.2),overflow:"hidden"},u={flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center",width:r.a.rem(1.5),$nest:{"> svg":{stroke:a.a.CoreYellow60}}},d={padding:`${r.a.rem(.5)} ${r.a.rem(1.5)}`},p={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:r.a.rem(2)},m={marginTop:r.a.rem(.6),fontSize:r.a.rem(.85)},f={display:"flex",marginBottom:r.a.rem(.6),flexShrink:0},h={marginRight:"auto",lineHeight:r.a.rem(1.3125)},g={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:r.a.rem(2.5)},b={display:"inline-flex",justifyContent:"center",alignItems:"center",height:r.a.rem(2.625),padding:`0 ${r.a.rem(3)} 0 ${r.a.rem(3)}`,backgroundColor:a.a.CoreGreen60,borderRadius:r.a.rem(.25),fontSize:r.a.rem(.875),fontWeight:700,textTransform:"uppercase",color:a.a.CoreNeutral0,lineHeight:r.a.rem(2),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:r.a.color(a.a.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:r.a.color(a.a.CoreGreen60).tint(.2).toRGBA().toString()}}},v={padding:"0 "+r.a.rem(1.3),margin:`${r.a.rem(1)} 0 ${r.a.rem(.5)}`,color:a.a.CoreGreen70,backgroundColor:a.a.CoreNeutral0,border:`${r.a.px(1)} solid ${a.a.CoreGreen70}`,borderRadius:r.a.rem(.25),fontWeight:"bold",fontSize:r.a.rem(.9),lineHeight:r.a.rem(3),transition:" color .3s",$nest:{"&:hover":{color:a.a.CoreGreen60,backgroundColor:a.a.CoreNeutral0,borderColor:a.a.CoreGreen60},"&:active":{color:a.a.CoreGreen50,backgroundColor:a.a.CoreNeutral0,borderColor:a.a.CoreGreen50}}},y={color:a.a.CoreYellow80,fontWeight:a.h.H1Weight,fontSize:r.a.rem(a.h.H1Size),zIndex:2},O={position:"relative",marginTop:r.a.rem(2.5),paddingTop:r.a.rem(1),$nest:{"&::before":{content:"''",position:"absolute",top:r.a.px(0),right:r.a.px(0),left:r.a.px(0),margin:"auto",width:r.a.rem(4.5),height:r.a.px(1),backgroundColor:a.a.CoreNeutral20}}},S={color:a.a.CoreNeutral50,textAlign:"center",fontStyle:"italic",$nest:{"&::before":{content:"'“'"},"&::after":{content:"'”'"}}},C={display:"block",margin:r.a.rem(1.5)+" auto"},w=r.a.stylesheet({wrapper:[o],minimizedWrapper:[s],maximizedWrapper:[c],shadowWrapper:[{position:"relative",display:"block",overflow:"inherit",zIndex:1}],title:[l],titleText:[{flexShrink:1,overflow:"hidden",textOverflow:"ellipsis"}],maximizedContainer:[d],alertsContainer:[p],alertCategoryContainer:[m],alertCategory:[f],categoryHumanContainer:[h],buttonContainer:[g],premiumButton:[b],continueWithFreePlanButton:[v],icon:[u],counter:[{width:"128px",height:"128px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",$nest:{"& > svg":{position:"absolute",zIndex:1}}}],counterText:[y],footer:[O],footerText:[S],footerLogo:[C]})},"Q+ti":function(e,t,n){"use strict";n.d(t,"a",(function(){return ja}));var a=n("B8yO"),r=n("qVo9");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=n("nWMp");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=function(e){var t=e.children,n=e.className,r=u(e,["children","className"]);return a.createElement("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){l(e,t,n[t])}))}return e}({"data-role":"column-layout",className:c.a.joinClasses([p.holder,n])},r),t)},p=c.a.stylesheet({holder:[{display:"flex",flexDirection:"column"}]}),m=n("BbKl"),f=n("Qlyw");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var b=new f.c(100);function v(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var y=Object(m.a)((function(e){var t=e.child,n=e.footer,r=e.id,i=e.meta,o=v(e,["child","footer","id","meta"]);return a.createElement(d,{id:"".concat(r,"-container"),role:"region","aria-label":i.label,"aria-describedby":o["aria-describedby"]},t,n?a.createElement("div",{className:O.wrapper},n):null)})),O=c.a.stylesheet({wrapper:[{display:"flex",flexDirection:"column"}]}),S=n("tCI5"),C=n("cZKX"),w=n("DTwm"),k=n("mgiE"),E=n("M3t0"),j=n("kMtn"),_=n("ThYs");function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){x(e,t,n[t])}))}return e}function I(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var T=function(e){return"selectAlternative"===e.type?k.g.some(e.alternativeIndex):k.g.none};function M(e){return function(t){return Object(w.pipe)(t,C.S(Object(w.flow)(T,k.g.exists((function(t){return t===e})))),k.g.isSome)}}var P=n("OwvP");function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){N(e,t,n[t])}))}return e}function B(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var L,F=n("Q4iv"),R=n("N4IK");function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function W(e){return function(e){if(Array.isArray(e))return e}(e)||U(e)||G(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e){return function(e){if(Array.isArray(e))return H(e)}(e)||U(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}!function(e){e[e.HeadingLevel4LetterSpacing=0]="HeadingLevel4LetterSpacing",e[e.HeadingLevel3LetterSpacing=0]="HeadingLevel3LetterSpacing",e[e.HeadingLevel1LetterSpacing=-.0025]="HeadingLevel1LetterSpacing",e[e.BodyLetterSpacing=0]="BodyLetterSpacing",e[e.MediumLetterSpacing=0]="MediumLetterSpacing",e[e.SmallLetterSpacing=0]="SmallLetterSpacing",e[e.HeadingLevel4Size=1]="HeadingLevel4Size",e[e.HeadingLevel3Size=1.25]="HeadingLevel3Size",e[e.HeadingLevel1Size=1.75]="HeadingLevel1Size",e[e.BodySize=.875]="BodySize",e[e.MediumLetterSize=1]="MediumLetterSize",e[e.SmallSize=.75]="SmallSize"}(L||(L={}));var q,K,$=c.a.style({padding:"".concat(c.a.rem(.15625)," 0")}),Z=c.a.style({position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0,0,0,0)",whiteSpace:"nowrap",border:0}),Y=function(e){var t=e.size,n=e.format,r=e.textColor,i=e.backgroundColor,o=e.outlineColor,s=e.text,l=e.meta,u=e.removeImplicitPadding,d=void 0!==u&&u,p=function(e,t){var n="".concat(e,"-").concat(t),a=pe.get(n);if(void 0!==a)return a;var r=c.a.style({color:R.b[e],backgroundColor:Boolean(t)?R.b[t]:t});return pe.put(n,r),r}(r,i),m=W(n),f=m[0],h=m.slice(1),g=void 0!==f?de[f]:{name:"span",canHaveAriaLabel:!1},b=h.map((function(e){return e===S.a.TextFormat.StrikeoutDiagonal?function(e){var t="sd-".concat(e),n=pe.get(t);if(void 0!==n)return n;var a=c.a.style(function(e){return{backgroundImage:"linear-gradient(to top left,\n    rgba(0,0,0,0) 0%,\n    rgba(0,0,0,0) calc(50% - 0.5px),\n    ".concat(R.b[e]," 50%,\n    rgba(0,0,0,0) calc(50% + 0.5px),\n    rgba(0,0,0,0) 100%)")}}(e));return pe.put(t,a),a}(null!=o?o:r):ue[e]}));void 0!==o&&b.push(function(e){var t="ol-".concat(e),n=pe.get(t);if(void 0!==n)return n;var a=c.a.style({borderColor:R.b[e]});return pe.put(t,a),a}(o)),d||b.push($);var v=c.a.joinClasses([p,le[t]].concat(z(b)));if(l.label&&!g.canHaveAriaLabel){var y=a.createElement(g.name,{className:v,"aria-hidden":!0,children:s});return a.createElement(a.Fragment,null,a.createElement("span",{className:Z},l.label),y)}return a.createElement(g.name,{className:v,"aria-label":l.label,children:s})},X=c.a.rem(1.5),Q=c.a.rem(1.5),J=c.a.rem(2),ee=c.a.rem(1.5),te=c.a.rem(21/16),ne=c.a.rem(.875),ae={letterSpacing:c.a.rem(L.HeadingLevel4LetterSpacing),fontSize:c.a.rem(L.HeadingLevel4Size),lineHeight:X},re={letterSpacing:c.a.rem(L.HeadingLevel3LetterSpacing),fontSize:c.a.rem(L.HeadingLevel3Size),lineHeight:Q},ie={letterSpacing:"".concat(L.HeadingLevel1LetterSpacing,"em"),fontSize:c.a.rem(L.HeadingLevel1Size),lineHeight:J},oe={letterSpacing:c.a.rem(L.MediumLetterSpacing),fontSize:c.a.rem(L.MediumLetterSize),lineHeight:ee},se={letterSpacing:c.a.rem(L.BodyLetterSpacing),fontSize:c.a.rem(L.BodySize),lineHeight:te},ce={letterSpacing:c.a.rem(L.SmallLetterSpacing),fontSize:c.a.rem(L.SmallSize),lineHeight:ne},le=c.a.stylesheet((V(q={},S.a.TextSize.HeadingLevel4,[ae]),V(q,S.a.TextSize.HeadingLevel3,[re]),V(q,S.a.TextSize.HeadingLevel1,[ie]),V(q,S.a.TextSize.Medium,[oe]),V(q,S.a.TextSize.Regular,[se]),V(q,S.a.TextSize.Small,[ce]),q)),ue=c.a.stylesheet((V(K={},S.a.TextFormat.Bold,[{fontWeight:"bolder"}]),V(K,S.a.TextFormat.Italic,[{fontStyle:"italic"}]),V(K,S.a.TextFormat.StrikeoutHorizontal,[{textDecoration:"line-through"}]),V(K,S.a.TextFormat.StrikeoutDiagonal,[]),V(K,S.a.TextFormat.Outline,[{padding:"".concat(c.a.rem(1/16)," ").concat(c.a.rem(3.5/16)," ").concat(c.a.rem(1/16)," ").concat(c.a.rem(3.5/16)),border:"1px solid",borderRadius:"2px"}]),K)),de={strikeoutHorizontal:{name:"s",canHaveAriaLabel:!1},strikeoutDiagonal:{name:"span",canHaveAriaLabel:!1},outline:{name:"span",canHaveAriaLabel:!1},bold:{name:"strong",canHaveAriaLabel:!1},italic:{name:"em",canHaveAriaLabel:!1}};var pe=new f.c(100);function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){return a.createElement("div",{"data-role":"box",className:he(e)},e.children)};function he(e){var t=e.padding,n=e.borderRadius,a=e.backgroundColor,r=e.minWidth,i=[be.base];return void 0!==t&&i.push(function(e){var t,n,a,r,i="p-".concat(null===(t=e)||void 0===t?void 0:t.top,"-").concat(null===(n=e)||void 0===n?void 0:n.bottom,"-").concat(null===(a=e)||void 0===a?void 0:a.left,"-").concat(null===(r=e)||void 0===r?void 0:r.right),o=ve.get(i);if(void 0!==o)return o;var s={$debugName:"padding"};void 0!==e&&(s.paddingRight=c.a.rem(Number(e.right)),s.paddingBottom=c.a.rem(Number(e.bottom)),s.paddingTop=c.a.rem(Number(e.top)),s.paddingLeft=c.a.rem(Number(e.left)));var l=c.a.style(s);return ve.put(i,l),l}(t)),void 0!==n&&i.push(function(e){var t=e.topLeft,n=e.topRight,a=e.bottomRight,r=e.bottomLeft,i="bdr-".concat(t,"-").concat(n,"-").concat(a,"-").concat(r),o=ve.get(i);if(void 0!==o)return o;var s={$debugName:"borderRadius"};void 0!==e&&(s.borderTopLeftRadius=c.a.rem(Number(ye[t])),s.borderTopRightRadius=c.a.rem(Number(ye[n])),s.borderBottomRightRadius=c.a.rem(Number(ye[a])),s.borderBottomLeftRadius=c.a.rem(Number(ye[r])));var l=c.a.style(s);return ve.put(i,l),l}(n)),void 0!==a&&i.push(function(e){var t="bgc-".concat(e),n=ve.get(t);if(void 0!==n)return n;var a=c.a.style({backgroundColor:R.b[e]});return ve.put(t,a),a}(a)),void 0!==r&&i.push(function(e){var t="minW-".concat(e),n=ve.get(t);if(void 0!==n)return n;var a={$debugName:"minwidth"};void 0!==e&&(a.minWidth=c.a.rem(Number(e)));var r=c.a.style(a);return ve.put(t,r),r}(r)),i.length>0?c.a.joinClasses(i):void 0}var ge,be=c.a.stylesheet({base:[{display:"block"}]}),ve=new f.c(100);var ye=(me(ge={},S.a.Radius.Radius0,0),me(ge,S.a.Radius.RadiusHalf,.125),me(ge,S.a.Radius.Radius1,.25),me(ge,S.a.Radius.Radius2,.5),me(ge,S.a.Radius.Radius3,.75),ge);function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=function(e){var t=a.useRef(null);return a.useEffect((function(){var n,a=e.maxLines&&(null===(n=t.current)||void 0===n?void 0:n.querySelector("*:last-child"));if(t.current&&a){var r=setTimeout((function(){var e,n,r=window.getComputedStyle(a,null),i=r.getPropertyValue("color"),o=r.getPropertyValue("font-size"),s=r.getPropertyValue("line-height"),c=r.getPropertyValue("letter-spacing");Object.assign(null!==(n=null===(e=t.current)||void 0===e?void 0:e.style)&&void 0!==n?n:{},{color:i,fontSize:o,lineHeight:s,letterSpacing:c})}),0);return function(){return clearTimeout(r)}}return function(){}}),[e.maxLines]),a.createElement("div",{ref:t,"data-role":"block-layout",className:Ce(e)},e.children)};function Ce(e){var t=e.spacing,n=e.innerSpacing,a=e.horizontalAlign,r=e.verticalAlign,i=e.fraction,o=e.maxLines,s=[we.base];return void 0!==o&&s.push(function(e){var t="m-".concat(e),n=je.get(t);if(void 0!==n)return n;var a=c.a.style({display:"-webkit-inline-box",overflow:"hidden",WebkitBoxOrient:"vertical","-webkit-line-clamp":e});return je.put(t,a),a}(o)),void 0===t&&void 0===n||s.push(function(e){var t,n,a,r,i,o,s=e.spacing,l=e.innerSpacing,u="".concat(null===(t=s)||void 0===t?void 0:t.top,"-").concat(null===(n=s)||void 0===n?void 0:n.bottom,"-").concat(null===(a=s)||void 0===a?void 0:a.left,"-").concat(null===(r=s)||void 0===r?void 0:r.right,"-").concat(null===(i=l)||void 0===i?void 0:i.vertical,"-").concat(null===(o=l)||void 0===o?void 0:o.horizontal),d=je.get(u);if(void 0!==d)return d;var p,m,f,h,g={$debugName:"spacing"};void 0!==s&&(g.marginRight=c.a.rem(Number(s.right)),g.marginBottom=c.a.rem(Number(s.bottom)),g.marginTop=c.a.rem(Number(s.top)),g.marginLeft=c.a.rem(Number(s.left))),void 0!==l&&(g.marginRight=c.a.rem(Number(null!==(f=null===(p=s)||void 0===p?void 0:p.right)&&void 0!==f?f:0)-Number(l.horizontal)),g.marginBottom=c.a.rem(Number(null!==(h=null===(m=s)||void 0===m?void 0:m.bottom)&&void 0!==h?h:0)-Number(l.vertical)),g.$nest={"& > *":{marginRight:c.a.rem(Number(l.horizontal)),marginBottom:c.a.rem(Number(l.vertical))}});var b=c.a.style(g);return je.put(u,b),b}({spacing:t,innerSpacing:n})),void 0!==a&&s.push(_e[a]),void 0!==r&&s.push(xe[r]),void 0!==i&&s.push(function(e){var t="f-".concat(e),n=je.get(t);if(void 0!==n)return n;var a=c.a.style({flex:e,overflow:"hidden"});return je.put(t,a),a}(i)),s.length>0?c.a.joinClasses(s):void 0}var we=c.a.stylesheet({base:[{overflowWrap:"anywhere",display:"inline-block"}]});var ke,Ee,je=new f.c(100),_e=c.a.stylesheet((Oe(ke={},S.a.HorizontalAlign.Left,[{textAlign:"left"}]),Oe(ke,S.a.HorizontalAlign.Center,[{textAlign:"center"}]),Oe(ke,S.a.HorizontalAlign.Right,[{textAlign:"right"}]),ke)),xe=c.a.stylesheet((Oe(Ee={},S.a.VerticalAlign.Top,[{$nest:{"& > *":{verticalAlign:"top"}}}]),Oe(Ee,S.a.VerticalAlign.Middle,[{$nest:{"& > *":{verticalAlign:"middle"}}}]),Oe(Ee,S.a.VerticalAlign.Bottom,[{$nest:{"& > *":{verticalAlign:"bottom"}}}]),Ee)),Ae=n("PN6M"),Ie={width:c.a.rem(.85),height:c.a.rem(.85)},Te={width:c.a.rem(1.5),height:c.a.rem(1.5),borderRadius:c.a.rem(1.5),display:"inline-flex",justifyContent:"center",alignItems:"center"},Me=c.a.stylesheet({main:[{objectFit:"contain",alignSelf:"center",overflow:"hidden"}],defaultSize:[Ie],wrapper:[Te]});function Pe(e){return void 0===e?Me.wrapper:c.a.joinClasses([Me.wrapper,Object(Ae.b)(e)])}function Ne(e){return void 0===e?c.a.joinClasses([Me.main,Me.defaultSize]):c.a.joinClasses([Me.main,De(e)])}function De(e){var t=Be.get(e);if(void 0!==t)return t;var n=c.a.style({width:c.a.rem(Number(e)),height:c.a.rem(Number(e))});return Be.put(e,n),n}var Be=new f.c(100);function Le(e,t,n){var a="wrapper-".concat(e,"-").concat(t,"-backgroundColor"),r=Re.get(a);if(void 0!==r)return r;var i=c.a.style({width:c.a.rem(Number(t)),height:c.a.rem(Number(e)),display:"inline-flex",justifyContent:"center",alignItems:"center",margin:0});return void 0!==n&&(i=c.a.joinClasses([i,Object(Ae.b)(n)])),Re.put(a,i),i}function Fe(e,t,n){var a=n?"content-".concat(e,"-").concat(t,"-").concat(n):"content-".concat(e,"-").concat(t),r=Re.get(a);if(void 0!==r)return r;var i=c.a.style({width:c.a.rem(Number(t)),height:c.a.rem(Number(e)),borderRadius:n?c.a.rem(Number(n)):void 0});return Re.put(a,i),i}var Re=new f.c(100);function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){He(e,t,n[t])}))}return e}function Ue(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var We={display:"flex",flexWrap:"nowrap",alignItems:"inherit",maxWidth:"100%"},ze=Ue(Ve({},We),{flexGrow:1}),Ge=Ue(Ve({},We),{marginLeft:"auto",flexShrink:0,alignSelf:"stretch"}),qe=c.a.stylesheet({row:[{display:"flex",flexDirection:"row",alignItems:"center"}],rowLeft:[ze],rowRight:[Ge]});function Ke(e){return void 0===e?qe.row:c.a.joinClasses([qe.row,Ye(e)])}function $e(e){return void 0===e?qe.rowLeft:c.a.joinClasses([qe.rowLeft,Je[e]])}function Ze(e){return void 0===e?qe.rowRight:c.a.joinClasses([qe.rowRight,Je[e]])}function Ye(e){var t=e.top,n=e.bottom,a=e.left,r=e.right,i="".concat(t,"-").concat(n,"-").concat(a,"-").concat(r),o=Qe.get(i);if(void 0!==o)return o;var s=c.a.style({marginTop:c.a.rem(Number(t)),marginLeft:c.a.rem(Number(a)),marginRight:c.a.rem(Number(r)),marginBottom:c.a.rem(Number(n))});return Qe.put(i,s),s}var Xe,Qe=new f.c(100),Je=c.a.stylesheet((He(Xe={},S.a.VerticalAlign.Top,[{alignItems:"start"}]),He(Xe,S.a.VerticalAlign.Middle,[{alignItems:"center"}]),He(Xe,S.a.VerticalAlign.Bottom,[{alignItems:"end"}]),Xe)),et=n("GsAQ"),tt=Object(m.a)((function(e){return a.createElement(et.a.List,{"data-role":"list",selectionMode:"single",selectionBehavior:"toggle","aria-label":e.meta.label,"aria-describedby":e["aria-describedby"],assistiveScroll:!0,theme:{list:nt.list,item:{base:c.a.joinClasses([nt.listItem,rt(e.itemHoveredColor)]),focused:it(e.itemFocusedColor)}},onSelectionChange:function(t){return("all"===t?e.items:e.items.filter((function(e){return t.has(e.id)}))).forEach(e.onSelect)},onClick:function(t){return e.onClick({id:t.key.toString(),clickPoint:t.clickPoint})}},e.items.map((function(t,n){return a.createElement(et.a.Item,{key:t.id,textValue:t.meta.label},e.renderItem(t,n))})))})),nt=c.a.stylesheet({list:[{margin:0,display:"flex",flexDirection:"column"}],listItem:[{display:"flex",minHeight:c.a.rem(2),cursor:"pointer",outline:"none",border:"none",backgroundColor:R.b.CoreNeutral0,borderRadius:c.a.rem(R.d.Radius1),padding:"0 0 0 ".concat(c.a.rem(R.f.Space2)),boxSizing:"border-box"}]}),at=new f.c(100);function rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.a.Color.CoreNeutral10,t="ihc-".concat(e),n=at.get(t);if(void 0!==n)return n;var a=c.a.style({$nest:{"&:hover":{backgroundColor:R.b[e],$nest:{'& [data-role="list-item-secondary-button"]':{opacity:1}}}}});return at.put(t,a),a}function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.a.Color.CoreNeutral10,t="ifc-".concat(e),n=at.get(t);if(void 0!==n)return n;var a=c.a.style({backgroundColor:R.b[e],$nest:{'& [data-role="list-item-secondary-button"]':{opacity:1}}});return at.put(t,a),a}var ot=n("D6wy");function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ct="listItemPrimaryButton",lt="listItemLabel",ut="listItemSecondaryButtonsContainer",dt="listItemSecondaryButton",pt={width:"calc(".concat(c.a.rem(R.f.Space8)," - ").concat(c.a.rem(R.f.SpaceHalf),")"),height:"calc(".concat(c.a.rem(R.f.Space8)," - ").concat(c.a.rem(R.f.Space1),")"),margin:"".concat(c.a.rem(R.f.SpaceHalf)),cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",border:"none",backgroundColor:R.b.CoreNeutral10,borderRadius:c.a.rem(R.d.Radius1),$nest:{"&:active, &:hover, &:focus-visible":{backgroundColor:R.b.CoreNeutral20,opacity:1}}},mt={listItemPrimaryButton:c.a.joinClasses([ct,c.a.style({cursor:"pointer",outline:"none",border:"none",background:"transparent",padding:0})]),listItemLabel:c.a.joinClasses([lt,c.a.style({display:"inline-flex",textAlign:"left"})]),listItemSecondaryButtonsContainer:c.a.joinClasses([ut,c.a.style({display:"flex",alignItems:"center",opacity:0,$nest:{"&:focus-within":{opacity:1}}})]),listItemSecondaryButton:c.a.joinClasses([dt,c.a.style(pt)])},ft=n("RYaW");function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gt={flexShrink:0,alignItems:"center",justifyContent:"center",height:c.a.rem(2),width:c.a.rem(2)},bt={$nest:{"& i":{height:c.a.rem(2),width:c.a.rem(2)}}},vt=c.a.stylesheet({button:[gt],item:[bt]}),yt=n("yIk2"),Ot=n("xk6L"),St=n("+vYo"),Ct=n("000W");function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var jt=function(e,t){var n={root:e,rootMargin:"0px",threshold:[0,1]};return yt.a.getIntersectionObservable(t,n).pipe(Ot.a.filter(Ct.tb),Ot.a.map((function(e){return 1!==e[0].intersectionRatio})),Ot.a.startWith(t.offsetHeight>e.offsetHeight))},_t=function(e,t){return St.a.combine(e,t,k.g.map2(jt)).pipe(Ot.b.compact,Ot.a.switchMap(w.identity),Ot.a.onErrorResumeNext(Ot.a.of(!0)))},xt=k.c.getStructEq({topOverflow:k.c.eqBoolean,bottomOverflow:k.c.eqBoolean});var At=new f.c(100);var It=c.a.stylesheet({"scroll-main":[{display:"flex",flexDirection:"column",borderTop:"1px solid transparent",borderBottom:"1px solid transparent",transitionProperty:"border-top-color, border-bottom-color",transitionDuration:".2s",pointerEvents:"auto"}],overflowBottom:[{borderBottomColor:c.a.important(R.b.CoreNeutral20)}],overflowTop:[{borderTopColor:c.a.important(R.b.CoreNeutral20)}]}),Tt=n("4GyQ"),Mt=n("7IMz");function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Nt(e,t,n[t])}))}return e}function Bt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ft="sliderOuterContainer",Rt="sliderLabel",Ht="sliderContainer",Vt="slider",Ut="sliderDragging",Wt="sliderNotDragging",zt="sliderSliderDivisionPoint",Gt="sliderDivisionPointHoverArea",qt="sliderInner",Kt="sliderInnerNotDragging",$t="sliderInnerDragging",Zt="sliderInnerJiggle",Yt="sliderKnob",Xt="sliderKnobJiggle",Qt="sliderKnobNotDragging",Jt="sliderKnobDragging",en="sliderKnobEmoji",tn={fontWeight:700,fontSize:c.a.rem(.875),lineHeight:c.a.rem(1),width:c.a.rem(8)},nn={height:c.a.rem(2.625),display:"flex",flexDirection:"column",justifyContent:"center"},an={position:"relative",width:c.a.percent(100),backgroundColor:R.b.CoreNeutral40,borderRadius:c.a.rem(.375),transition:"height 0.15s ease-in-out",$nest:Nt({"&:hover":{height:c.a.rem(.5)}},"&:hover .".concat(zt),{visibility:"visible"})},rn={height:c.a.rem(.125)},on={height:c.a.rem(.5),$nest:Nt({},"& .".concat(zt),{visibility:"visible"})},sn={position:"absolute",height:c.a.rem(.25),backgroundColor:R.b.CoreNeutral0,top:c.a.rem(.125),bottom:c.a.rem(.125),borderRadius:c.a.percent(100),visibility:"hidden"},cn={background:R.b.CoreNeutral90,opacity:0,height:c.a.rem(1.5),position:"absolute",borderRadius:c.a.percent(100),cursor:"pointer",top:c.a.rem(-.5),zIndex:1,$nest:{"&:hover":{opacity:.1}}},ln={position:"relative",display:"flex",alignItems:"center",backgroundColor:R.b.CorePurple40,height:c.a.percent(100),borderRadius:c.a.rem(.375)},un=c.a.keyframes({from:{width:"100%"},to:{width:"calc(100% - ".concat(c.a.rem(1.5),")")}}),dn=c.a.keyframes({from:{width:"calc(100% - ".concat(c.a.rem(1.5),")")},to:{width:"100%"}}),pn={animation:"".concat(un," 0.8s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 1s forwards,\n              ").concat(dn," 0.2s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 2s forwards")},mn=c.a.keyframes({from:{transform:"none"},to:{transform:"translateX(".concat(c.a.rem(-.75),")")}}),fn=c.a.keyframes({from:{transform:"translateX(".concat(c.a.rem(-.75),")")},to:{transform:"none"}}),hn={animation:"".concat(mn," 0.8s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 1s forwards,\n              ").concat(fn," 0.2s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 2s forwards")},gn={position:"absolute",right:c.a.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:R.b.CoreNeutral0,borderRadius:c.a.rem(1.875),cursor:"ew-resize",transitionProperty:"width, height",transitionDuration:"0.15s",transitionTimingFunction:"ease-in-out",zIndex:1,$nest:{"&:hover":{width:c.a.rem(2),height:c.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},bn={width:c.a.rem(1.75),height:c.a.rem(1.75),boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)"},vn={width:c.a.rem(2),height:c.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},yn={width:c.a.rem(.9375),height:c.a.rem(.9375),pointerEvents:"none"},On={outerContainer:c.a.joinClasses([Ft,c.a.style({display:"flex",alignItems:"center"})]),label:c.a.joinClasses([Rt,c.a.style(tn)]),container:c.a.joinClasses([Ht,c.a.style(nn)]),slider:c.a.joinClasses([Vt,c.a.style(an)]),sliderNotDragging:c.a.joinClasses([Wt,c.a.style(rn)]),sliderDragging:c.a.joinClasses([Ut,c.a.style(on)]),sliderDivisionPoint:c.a.joinClasses([zt,c.a.style(sn)]),sliderDivisionPointHoverArea:c.a.joinClasses([Gt,c.a.style(cn)]),sliderInner:c.a.joinClasses([qt,c.a.style(ln)]),sliderInnerNotDragging:c.a.joinClasses([Kt,c.a.style({transition:"width 0.15s ease-in-out"})]),sliderInnerDragging:c.a.joinClasses([$t,c.a.style({transition:"none"})]),sliderInnerJiggle:c.a.joinClasses([Zt,c.a.style(pn)]),knob:c.a.joinClasses([Yt,c.a.style(gn)]),knobJiggle:c.a.joinClasses([Xt,c.a.style(hn)]),knobNotDragging:c.a.joinClasses([Qt,c.a.style(bn)]),knobDragging:c.a.joinClasses([Jt,c.a.style(vn)]),knobEmoji:c.a.joinClasses([en,c.a.style(yn)])},Sn=n("fC5a"),Cn=n("k4jz");function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function En(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var jn=c.a.stylesheet({default:[{overflow:"initial",userSelect:"initial",verticalAlign:"initial"}]}),_n=n("ukVJ"),xn=n("8TGn"),An=n("Q2+j");function In(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Tn(e,t,n[t])}))}return e}function Pn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return In(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return In(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Dn=Object(m.a)((function(e){var t=a.useRef(null),n=Object(xn.a)({"aria-label":e.meta.label,"aria-labelledby":null==e.meta.label?e.contentId:void 0,"aria-describedby":e["aria-describedby"],onPress:function(t){return e.onPress(t.target.getBoundingClientRect())},elementType:"div"},t).buttonProps;return a.createElement("div",Mn({className:Bn.button},n))})),Bn=c.a.stylesheet({container:[{position:"relative",minHeight:c.a.rem(3.5),display:"grid"}],content:[{display:"flex",alignItems:"center",$nest:{"& > div:first-of-type":{flexGrow:1}}}],button:[{position:"absolute",left:0,top:0,width:"100%",height:"100%",background:"transparent",cursor:"pointer"}]}),Ln=n("0kuo");function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Hn=function(e){return c.a.rem(null!=e?e:.25)},Vn=function(e){return c.a.rem(1.25*(null!=e?e:.25))},Un=function(e,t){return c.a.style({height:"calc(".concat(Hn(t)," + ").concat(void 0!==e?Vn(t):0,")")})},Wn=function(e,t,n){return c.a.style({height:Hn(n),backgroundColor:"".concat(R.b[e]),border:t?"1px solid ".concat(R.b[t]):"none",borderRadius:Hn(n)})},zn=function(e,t,n){return c.a.style({width:"".concat(e,"%"),height:Hn(n),backgroundColor:"".concat(R.b[t])})},Gn=function(e,t){return c.a.style({left:"calc(".concat((n=e,a=[2,98],r=Rn(a,2),i=r[0],o=r[1],Math.min(o,Math.max(i,n))),"% - ").concat(Hn(t),")"),borderLeft:"".concat(Hn(t)," solid transparent"),borderRight:"".concat(Hn(t)," solid transparent"),borderTop:"".concat(Vn(t)," solid ").concat(R.b.CoreNeutral50)});var n,a,r,i,o},qn=c.a.stylesheet({outerContainer:[{position:"relative",display:"flex",flexDirection:"column",justifyContent:"flex-end"}],pinPoint:[{position:"absolute",top:0,width:0,height:0}],background:[{width:"100%",overflow:"hidden"}],fill:[{position:"relative"}],loading:[{position:"absolute",width:"100%",backgroundImage:"linear-gradient(-45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent)",backgroundSize:"20px 20px"}]}),Kn=n("wvT7"),$n=n("IMGo");function Zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||Qn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(e){return function(e){if(Array.isArray(e))return Zn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(e,t){if(e){if("string"==typeof e)return Zn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zn(e,t):void 0}}var Jn=function(e,t){return{$nest:{"@media (prefers-reduced-motion: no-preference)":{animation:"".concat(e," ").concat(c.a.seconds(.3)," ").concat(t)}}}},ea=c.a.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),ta=c.a.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}});function na(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))}var aa,ra,ia,oa,sa,ca,la,ua=c.a.stylesheet({default:[{height:"1px",backgroundColor:R.b[S.a.Color.CoreNeutral20],border:"none",flex:1}]}),da=n("RRF2");function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}ra=aa||(aa={}),ia=ra.pointerWidth=Math.sqrt(200),ra.slightMargin=17.5,oa={position:"absolute",zIndex:c.d.level4,width:220,backgroundColor:R.a.NeutralGray90,borderRadius:c.a.rem(c.d.radius1),$nest:{"& button i path":{fill:R.b.CoreNeutral30,stroke:R.b.CoreNeutral30}}},sa={position:"absolute",top:c.a.rem(.75),right:c.a.rem(.75),color:R.a.NeutralGray30,textDecoration:"none"},ca={display:"block",position:"absolute",width:0,height:0,borderTop:"".concat(aa.pointerWidth,"px solid transparent"),borderBottom:"".concat(aa.pointerWidth,"px solid transparent"),borderLeft:"".concat(aa.pointerWidth,"px solid transparent"),borderRight:"".concat(aa.pointerWidth,"px solid transparent")},la=ra.stylesheet=c.a.stylesheet({wrapper:[{position:"relative"}],popover:[oa],closeButton:[sa],anchorPointer:[ca]}),ra.modifiers=c.a.stylesheet({preCheck:[{$nest:ma({},"&.".concat(la.anchorPointer),{visibility:"hidden",position:"fixed",top:-1e3,left:-1e3})}],top:[{$nest:ma({},"&.".concat(la.anchorPointer),{borderTopColor:R.a.NeutralGray90,top:-ia,left:"calc(50% - ".concat(ia,"px)")})}],bottom:[{$nest:ma({},"&.".concat(la.anchorPointer),{borderBottomColor:R.a.NeutralGray90,bottom:-ia,left:"calc(50% - ".concat(ia,"px)")})}],left:[{$nest:ma({},"&.".concat(la.anchorPointer),{borderLeftColor:R.a.NeutralGray90,left:-ia,top:"calc(50% - ".concat(ia,"px)")})}],right:[{$nest:ma({},"&.".concat(la.anchorPointer),{borderRightColor:R.a.NeutralGray90,right:-ia,top:"calc(50% - ".concat(ia,"px)")})}]});var ha,ga,ba=function(e,t){return e.left>=t.left&&e.top>=t.top&&e.left+e.width<t.left+t.width&&e.top+e.height<t.top+t.height},va=function(e,t,n,a){switch(e){case S.a.Position.Left:return k.g.some(n.left-t.width-aa.pointerWidth/2);case S.a.Position.Right:return k.g.some(n.right+aa.pointerWidth/2);case S.a.Position.Top:case S.a.Position.Bottom:var r=-t.width/2,i=-t.width+aa.pointerWidth/2+aa.slightMargin,o=-aa.slightMargin;return Object(w.pipe)(ya(e,t,n,a),k.g.chain((function(e){return k.g.fromNullable([r,i,o].find((function(r){return ba({top:e,left:n.left+n.width/2+r,width:t.width,height:t.height},a)})))})));default:Object(Ln.c)(e)}},ya=function(e,t,n,a){switch(e){case S.a.Position.Top:return k.g.some(n.top-t.height-aa.pointerWidth/2);case S.a.Position.Bottom:return k.g.some(n.bottom+aa.pointerWidth/2);case S.a.Position.Left:case S.a.Position.Right:var r=-t.height/2,i=-t.height+aa.pointerWidth+aa.slightMargin,o=-aa.slightMargin;return Object(w.pipe)(va(e,t,n,a),k.g.chain((function(e){return k.g.fromNullable([r,i,o].find((function(r){return ba({top:n.top+n.height/2+r,left:e,width:t.width,height:t.height},a)})))})));default:Object(Ln.c)(e)}},Oa=function(e,t,n,a){var r="".concat(aa.pointerWidth/2,"px");switch(e){case S.a.Position.Top:return Object(w.pipe)(va(e,t,n,a),k.g.map((function(e){return{left:e,bottom:r}})));case S.a.Position.Bottom:return Object(w.pipe)(va(e,t,n,a),k.g.map((function(e){return{left:e,top:r}})));case S.a.Position.Left:return Object(w.pipe)(ya(e,t,n,a),k.g.map((function(e){return{top:e,right:r}})));case S.a.Position.Right:return Object(w.pipe)(ya(e,t,n,a),k.g.map((function(e){return{top:e,left:r}})));default:Object(Ln.c)(e)}},Sa=n("pPF5"),Ca={flexShrink:0,alignItems:"center",justifyContent:"center",height:c.a.rem(2),width:c.a.rem(2)},wa={$nest:{"& i":{height:c.a.rem(2),width:c.a.rem(2)}}},ka=c.a.stylesheet({button:[Ca],item:[wa]}),Ea=function(e){var t=e.type;return a.createElement("div",null,t," not implemented")},ja={animation:function(e){var t=a.useRef(null),n=function(e,t){switch(e){case"behavior:animation:fadeIn":return{className:c.a.style(Jn(ea,na(t))),direction:"in"};case"behavior:animation:fadeOut":return{className:c.a.style(Jn(ta,na(t))),direction:"out"};default:Object(Ln.c)(e)}}(e.type,e.timeCurve),r=Yn(a.useState("in"===n.direction?n.className:void 0),2),i=r[0],o=r[1];return a.useEffect((function(){return function(){var e,a,r;e=t.current,(null!==(r=null===(a=e.shadowRoot)||void 0===a?void 0:a.ownerDocument.defaultView)&&void 0!==r?r:window).matchMedia("(prefers-reduced-motion: reduce)").matches||function(e,t){Object(w.pipe)(Object(w.tuple)(Object(w.pipe)(t,k.g.fromPredicate((function(e){return"out"===e.direction}))),function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(w.pipe)(t.parentElement,k.g.fromNullable,k.g.chain((function(t){return e(t,Xn(n).concat([t]))})),k.g.alt((function(){return $n.E(n)})))}(e)),Object(w.tupled)(Kn.b(k.g.option)),k.g.tap((function(t){var n,a,r=Yn(t,2),i=r[0],o=r[1],s=null!==(a=null===(n=e.shadowRoot)||void 0===n?void 0:n.ownerDocument)&&void 0!==a?a:document,c=e.getBoundingClientRect(),l=e.cloneNode(!0);l.classList.add(i.className),l.style.position="absolute",l.style.top="".concat(c.top,"px"),l.style.left="".concat(c.left,"px"),l.style.width="".concat(c.width,"px"),l.style.height="".concat(c.height,"px"),requestAnimationFrame((function(){Object(w.pipe)(o.find((function(e){return s.contains(e)})),k.g.fromNullable,k.g.tap((function(e){l.addEventListener("animationend",(function(){s.contains(l)&&l.remove()})),e.appendChild(l)})))}))})))}(t.current,n)}}),[n]),a.createElement("div",{"data-name":"behavior-animation-wrapper","data-animation":e.type,ref:t,className:i,onAnimationEnd:function(){return o(void 0)}},e.children)},button:Object(F.a)(),alternativeChoice:function(e){var t=e.id,n=e.designSystem,r=e.content,i=e.activeIndex,o=e.notify,s=e.meta,c=E.d.Logging.getLogger("AlternativeChoiceView");return a.createElement("div",{role:"group","aria-label":s.label,"aria-describedby":"".concat(t,"-description"),children:[a.createElement(n.column,{children:[Object(w.pipe)(k.g.fromNullable(r[i]),k.b.fromOption((function(){return"Cannot render alternative choice preview if there's no choice that matches the current alternative index."})),k.b.map((function(e){return e.preview})),k.b.filterOrElse(j.c.isBlock,(function(){return"Cannot render alternative choice preview if it's not of type `block.`"})),k.b.filterOrElse(j.c.hasOnlyTextParts,(function(){return"Cannot render alternative choice preview `block` if not every part is of type `text.`"})),k.b.map((function(e){return e.parts.length>0?a.createElement(n.block,I(A({},e),{children:e.parts.map((function(e,t){return a.createElement(n.text,A({key:t},e))})),spacing:{top:S.a.Space.D0,right:S.a.Space.D0,bottom:S.a.Space.D1,left:S.a.Space.D0},key:"preview"})):null})),k.b.getOrElse((function(e){return c.warn(e),null}))),a.createElement(n.block,{innerSpacing:{horizontal:S.a.Space.D05,vertical:S.a.Space.D05},verticalAlign:S.a.VerticalAlign.Top,children:r.map((function(e,t){return"button"===e.label.type&&"block"===e.label.label.type?a.createElement(n.button.toggle,{key:t,id:e.label.id,text:n.block(I(A({},e.label.label),{children:e.label.label.parts.map((function(e,t){return"text"===e.type?e.text:"icon"===e.type&&"known"===e.source.kind?a.createElement(n.icon[e.source.name],A({key:t},e)):null}))})),name:e.label.name.value,state:M(i)(e.label.actions)?S.a.ButtonState.Selected:S.a.ButtonState.Deselected,tooltip:void 0,shape:S.a.ButtonShape.Square,meta:{},onClick:o(e.label.actions,e.label.id)}):c.warn("Content where `label.type` is not `button` and `label.label.type` is not `block` are not supported (yet)",{content:e})})),key:"control",id:j.f.from("AlternativeChoiceView-control")}),Object(w.pipe)(k.g.fromNullable(s.description),k.g.map((function(e){return a.createElement(_.a,{id:"".concat(t,"-description"),key:"description",children:[e]})})),k.g.toNullable)],key:"AlternativeChoiceView",id:j.f.from("AlternativeChoiceView")})]})},text:Y,clickableText:function(e){var t=e.textView,n=e.onClick,r=e.name,i=En(e,["textView","onClick","name"]);return a.createElement(Sn.a,{name:r,onClick:n,className:c.a.joinClasses([Cn.a,jn.default])},a.createElement(t,kn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){wn(e,t,n[t])}))}return e}({},i),{text:i.text})))},image:function(e){var t=e.name,n=e.url,r=e.size,i=e.backgroundColor;return a.createElement("div",{className:Pe(i),"data-role":"icon"},a.createElement("img",{src:n,className:Ne(r),alt:t}))},imageSized:function(e){var t,n=e.name,r=e.url,i=e.height,o=e.width,s=e.backgroundColor,c=e.borderRadius,l=e.meta;return a.createElement("figure",{className:Le(i,o,s),"data-role":"icon"},a.createElement("img",{src:r,className:Fe(i,o,c),alt:null!==(t=l.label)&&void 0!==t?t:n.value}))},icon:Ae.a,alertsCount:function(e){var t=e.textView,n=s(e,["textView"]),c=a.useContext(r.a.Context).alertIds.length;return c>0?a.createElement(t,o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){i(e,t,n[t])}))}return e}({key:"alertsCountText"},n),{text:"".concat(c),removeImplicitPadding:!0})):null},assistantCard:y,count:function(e){var t=e.backgroundColor,n=e.value,r=e.id,i=e.textColor,o=void 0===i?S.a.Color.CoreNeutral0:i,s=e.meta;return a.createElement(Se,{id:r,"aria-label":s.label,"aria-description":s.description},a.createElement(fe,{id:r,backgroundColor:t,borderRadius:{topLeft:S.a.Radius.Radius3,topRight:S.a.Radius.Radius3,bottomRight:S.a.Radius.Radius3,bottomLeft:S.a.Radius.Radius3},minWidth:.75,padding:{top:S.a.Space.D0,right:S.a.Space.D025,bottom:S.a.Space.D0125,left:S.a.Space.D025}},a.createElement(Y,{size:S.a.TextSize.Small,format:[S.a.TextFormat.Bold],textColor:o,text:n,meta:s,removeImplicitPadding:!0})))},block:Se,row:function(e){var t=e.left,n=e.right,r=e.spacing,i=e.verticalAlign,o=Array.isArray(t)&&0===t.length,s=Array.isArray(n)&&0===n.length;return o&&s?null:a.createElement("div",{"data-role":"row-layout",className:Ke(r)},o?null:a.createElement("div",{"data-role":"row-content",className:$e(i)},t),s?null:a.createElement("div",{"data-role":"row-content",className:Ze(i)},n))},column:d,slider:function(e){var t=e.fillColor,n=e.segmentSize,r=e.choices,i=e.designSystem,o=e.onChoiceSelected,s=Mt.a.useElWatcher(),l=s.ref,u=s.onMount,d=new Ot.a.Subject,p=new Ot.a.Subject,m=new Ot.a.Subject,f=new Ot.a.Subject,h=new Ot.a.Subject,g=new Ot.a.Subject,b=new Ot.a.BehaviorSubject(!0),v=r.length-1,y=v>0?100/v:0,O=r.reduce((function(e){var t=e[e.length-1],n=0;return void 0!==t&&(n=t+y),e.push(n),e}),[]),C=new Ot.a.BehaviorSubject(O[1]),j=Ot.a.mergeStatic(h.pipe(Ot.a.mapTo(!0)),m.pipe(Ot.a.mapTo(!1)),f.pipe(Ot.a.mapTo(!1))).pipe(Ot.a.startWith(!1)),_=Ot.a.mergeStatic(h,p).pipe(Ot.a.withLatestFrom(j),Ot.a.filter((function(e){var t=Lt(e,2);t[0];return t[1]})),Ot.a.map((function(e){return Lt(e,1)[0]})),Ot.a.withLatestFrom(l),Ot.a.map((function(e){var t=Lt(e,2),n=t[0],a=t[1];return Object(w.pipe)(a,k.g.map((function(e){return e.getBoundingClientRect()})),k.g.bindTo("sliderClientRect"),k.g.apS("containerMouseEventVal",k.g.some(n)))})),Ot.b.compact,Ot.a.map((function(e){var t=e.containerMouseEventVal,n=e.sliderClientRect,a=n.x,r=n.x+n.width;return t.clientX<=a?0:t.clientX>=r?100:(t.clientX-a)/(r-a)*100}))),x=C.pipe(Ot.a.distinctUntilChanged(),Ot.a.map((function(e){for(var t=-1,n=0;n<O.length-1;n++){var a=O[n],r=O[n+1];e>=a&&e<=r&&(t=e>=(a+r)/2?n+1:n)}return t}))),A=x.pipe(Ot.a.distinctUntilChanged(),Ot.a.map((function(e){return r[e]})));return Mt.a.useSubscriptionTo(Ot.a.mergeStatic(_.pipe(Ot.a.distinctUntilChanged()),j.pipe(Ot.a.distinctUntilChanged(),Ot.a.filter((function(e){return!e})),Ot.a.withLatestFrom(_),Ot.a.map((function(e){var t=Lt(e,2);t[0];return t[1]})),Ot.a.map((function(e){var t,n=0,a=!0,r=!1,i=void 0;try{for(var o,s=O[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value,l=Math.abs(e-c);(void 0===t||l<t)&&(t=l,n=c)}}catch(e){r=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}))),d.pipe(Ot.a.filter((function(e){return"ArrowRight"===e.key||"ArrowLeft"===e.key})),Ot.a.tap((function(e){e.preventDefault(),e.stopPropagation()})),Ot.a.map((function(e){return e.key})),Ot.a.filter((function(e){return"ArrowRight"===e||"ArrowLeft"===e})),Ot.a.withLatestFrom(C),Ot.a.map((function(e){var t,n=Lt(e,2),a=n[0],r=n[1];return(t="ArrowRight"===a?r+y:r-y)>100?100:t<0?0:t}))),g.pipe(Ot.a.map((function(e){return O[e]})))).pipe(Ot.a.tap((function(e){return C.next(e)})))),Mt.a.useSubscriptionTo(A.pipe(Ot.a.map((function(e){return o(e.actions,e.id,S.a.ActionNotifyUserAction.SelectSliderChoice)})),Ot.a.tap((function(e){return e()})))),r.length<2?(E.d.Logging.getLogger("SliderView").warn("Cannot render slider with less than 2 choices.",{choicesLength:r.length}),null):a.createElement(P.a.div,{className:On.outerContainer,onKeyDown:function(e){return d.next(e)},"data-role":"slider"},a.createElement(P.a.div,{className:On.label},A.pipe(Ot.a.map((function(e){return e.label})))),a.createElement(P.a.div,{className:On.container,style:{width:c.a.rem(v*n)},onMouseMove:function(e){return p.next(e)},onMouseUp:function(e){return m.next(e)},onMouseLeave:function(e){return f.next(e)}},a.createElement(P.a.div,Bt(Dt({},Object(Tt.c)(On.slider,j.pipe(Ot.a.map((function(e){return e?On.sliderDragging:On.sliderNotDragging}))))),{mount:u,onMouseOver:function(){return b.next(!1)},onFocus:function(){return b.next(!1)}}),a.createElement(P.a.div,Bt(Dt({},Object(Tt.c)(On.sliderInner,j.pipe(Ot.a.map((function(e){return e?On.sliderInnerDragging:On.sliderInnerNotDragging}))),b.pipe(Ot.a.map((function(e){return e&&1===v?On.sliderInnerJiggle:null}))))),{style:{width:C.pipe(Ot.a.map(c.a.percent)),color:R.b[t]}}),a.createElement(P.a.div,Bt(Dt({},Object(Tt.c)(On.knob,j.pipe(Ot.a.map((function(e){return e?On.knobDragging:On.knobNotDragging}))),b.pipe(Ot.a.map((function(e){return e&&v>1?On.knobJiggle:null}))))),{onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),h.next(e)},tabIndex:0}),A.pipe(Ot.a.map((function(e){return"known"===e.icon.source.kind?a.createElement(i.icon[e.icon.source.name],{key:e.icon.source.name,backgroundColor:e.icon.backgroundColor}):a.createElement(i.image,Dt({key:e.icon.source.name,backgroundColor:e.icon.backgroundColor},e.icon.source))}))))),j.pipe(Ot.a.map((function(e){return r.map((function(t,r){var i={width:c.a.rem(.25),left:c.a.rem(0===r?.125:r===v?r*n-.25-.125:r*n-.25)};return a.createElement(P.a.Fragment,{key:t.id},a.createElement("div",{className:On.sliderDivisionPoint,style:i}),x.pipe(Ot.a.map((function(t){return t===r||e?null:a.createElement(P.a.div,{className:On.sliderDivisionPointHoverArea,style:Bt(Dt({},i),{transform:"scaleX(6)"}),onClick:function(){return g.next(r)}})}))))}))}))))))},box:fe,alternativeSlider:function(e){var t=e.fillColor,n=e.segmentSize,r=e.choices,i=e.designSystem,o=e.activeAltIndex,s=e.meta,c=e.notify;return a.createElement(i.column,{children:[a.createElement(i.slider,{fillColor:t,segmentSize:n,meta:s,choices:r.map((function(e){return{id:e.id,icon:e.icon,label:e.label,actions:e.actions}})),designSystem:i,onChoiceSelected:c,key:"select"}),a.createElement(P.a.Fragment,{key:"preview"},o.view((function(e){return Object(w.pipe)(k.g.fromNullable(r[e+1]),k.b.fromOption((function(){return"Cannot render alternative slider preview if there's no choice that matches the current alternative index."})),k.b.map((function(e){return e.preview})),k.b.filterOrElse(j.c.isBlock,(function(){return"Cannot render alternative slider preview if it's not of type `block.`"})),k.b.filterOrElse(j.c.hasOnlyTextParts,(function(){return"Cannot render alternative slider preview `block` if not every part is of type `text.`"})),k.b.map((function(e){return a.createElement(i.block,B(D({},e),{children:e.parts.map((function(e,t){return a.createElement(i.text,D({key:t},e))}))}))})),k.b.getOrElse((function(e){return E.d.Logging.getLogger("AlternativeSliderView").warn(e),null})))})))],id:j.f.from("AlternativeSlider")})},scroll:function(e){var t=St.a.create(k.g.none),n=St.a.create(k.g.none),r=St.a.create(k.g.none),i=_t(t,n),o=_t(t,r),s=Ot.a.combineLatestStatic([i,o]).pipe(Ot.a.map((function(e){var t=Et(e,2);return{topOverflow:t[0],bottomOverflow:t[1]}})),Ot.a.startWith({topOverflow:!1,bottomOverflow:!1}),Ot.a.distinctUntilChanged(xt.equals));return a.createElement(a.Fragment,null,a.createElement("style",null,'div[data-role="scroll"] {\n            border-color: transparent;\n          }'),a.createElement(P.a.div,{"data-role":"scroll",className:s.pipe(Ot.a.map((function(t){return function(e){var t=e.maxHeight,n=e.topOverflow,a=e.bottomOverflow,r=[];r.push(It["scroll-main"]),n&&r.push(It.overflowTop);a&&r.push(It.overflowBottom);void 0!==t&&r.push(function(e){var t="overflow-".concat(e),n=At.get(t);if(void 0!==n)return n;var a=c.a.style({$debugName:"overflow",maxHeight:c.a.rem(e),overflowY:"auto",overflowX:"hidden",$nest:{"& > *":{overflow:"visible"}}});return At.put(t,a),a}(t));return r.length>0?c.a.joinClasses(r):void 0}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){kt(e,t,n[t])}))}return e}({},e,t))}))),mount:function(e){return t.set(k.g.fromNullable(e))}},a.createElement("div",{style:{margin:0},ref:function(e){return n.set(k.g.fromNullable(e))}}),e.children,a.createElement("div",{style:{margin:0},ref:function(e){return r.set(k.g.fromNullable(e))}})))},list:tt,listItem:function(e){var t=a.createElement(a.Fragment,null,a.createElement("div",{"data-role":"list-item",className:mt.listItemPrimaryButton},a.createElement("div",{"data-role":"list-item-label",className:mt.listItemLabel},e.label)),e.secondaryButtons.length>0?a.createElement("div",{"data-role":"list-item-secondary-buttons",className:mt.listItemSecondaryButtonsContainer},e.secondaryButtons.map((function(t){var n=Object(m.a)((function(t){return a.createElement("button",{key:t.id,"data-role":"list-item-secondary-button",onClick:function(e){e.stopPropagation(),t.onClick()},onKeyDown:function(e){return e.stopPropagation()},onPointerDown:function(e){return e.stopPropagation()},className:mt.listItemSecondaryButton,"aria-label":t.meta.label,"aria-describedby":t["aria-describedby"]},"icon"===t.label.type?"known"===t.label.icon.source.kind?a.createElement(e.designSystem.icon[t.label.icon.source.name],{key:t.label.icon.source.name,backgroundColor:t.label.icon.backgroundColor}):a.createElement(e.designSystem.image,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){st(e,t,n[t])}))}return e}({key:t.label.icon.source.name,backgroundColor:t.label.icon.backgroundColor},t.label.icon.source)):t.label.text)}))(t);return t.tooltip?a.createElement(ot.a,{key:t.id,title:t.tooltip},n):n}))):null);return e.tooltip?a.createElement(ot.a,{title:Object(F.b)(e.tooltip)},t):t},strongAlertRef:r.b,popoverAnchor:function(e){var t=Mt.a.useElWatcher(),n=Mt.a.useElWatcher(),r=Mt.a.useMemoOnDidMount((function(){return St.a.create(c.a.joinClasses([aa.modifiers.preCheck,aa.modifiers[e.positionHint]]))})),i=Mt.a.useMemoOnDidMount((function(){return St.a.create({top:0,left:0})}));a.useEffect((function(){e.onShow()}),[]),a.useEffect((function(){var a=Ot.a.timer(0,500).pipe(Ot.a.switchMapTo(t.ref),Ot.a.map(k.g.map((function(e){return e.getBoundingClientRect()}))),Ot.a.distinctUntilChanged(k.g.getEq(da.c.Rect.eq).equals)),o=Ot.a.timer(0,500).pipe(Ot.a.switchMapTo(n.ref),Ot.a.map(k.g.map((function(e){return e.getBoundingClientRect()}))),Ot.a.distinctUntilChanged(k.g.getEq(da.c.Box.eq).equals)),s=Ot.a.combineLatestStatic([a,o]).subscribe((function(t){var n=fa(t,2),a=n[0],o=n[1];Object(w.pipe)(Object(Kn.b)(k.g.option)(a,o),k.g.chain((function(t){var n=fa(t,2),a=n[0],r=n[1];return function(e,t,n,a){var r=[e,S.a.Position.Top,S.a.Position.Left,S.a.Position.Right,S.a.Position.Bottom].filter((function(e,t,n){return n.indexOf(e)===t}));return Object(w.pipe)(r,C.T((function(e){return Object(w.pipe)(Oa(e,t,n,a),k.g.map((function(t){return{position:e,adjustment:t}})))})))}(e.positionHint,r,a,{top:0,left:0,right:document.documentElement.scrollWidth,bottom:document.documentElement.scrollHeight,width:document.documentElement.scrollWidth,height:document.documentElement.scrollHeight})})),k.g.fold((function(){return r.set(aa.modifiers.preCheck)}),(function(e){var t=e.position,n=e.adjustment;r.set(aa.modifiers[t]),i.set(n)})))}));return function(){return s.unsubscribe()}}),[]);var o=r.pipe(Ot.a.distinctUntilChanged(),Ot.a.map((function(e){return c.a.joinClasses([aa.stylesheet.anchorPointer,e])}))),s=i.pipe(Ot.a.distinctUntilChanged(da.e.isEqual));return a.createElement(P.a.div,{className:aa.stylesheet.wrapper,mount:t.onMount,style:{display:e.inlineWrapper?"inline-block":"block"}},a.createElement(P.a.div,{className:o},a.createElement(P.a.div,{className:aa.stylesheet.popover,style:s,mount:n.onMount},e.popover)),e.children)},nativeSkillsModal:Ea,nativeSkillsList:function(e){var t=e.designSystem,n=e.notify,r=e.onSelect;return a.createElement(t.block,{innerSpacing:{horizontal:S.a.Space.D05,vertical:S.a.Space.D05},verticalAlign:S.a.VerticalAlign.Top,horizontalAlign:S.a.HorizontalAlign.Center,children:[a.createElement("p",{key:"header"},"Mock implementation of Skills list"),a.createElement(t.radioButtonsGroup,{id:"skills-list-radio-group",type:"radioButtonsGroup",onClick:function(){return n},meta:{label:"select-a-skill",description:"Select a skill"},options:[{id:"translate",label:"Translate",onSelect:r,meta:{label:"translate",description:"Access the translate skill"}},{id:"paraphrase",label:"Paraphrase",onSelect:r,meta:{label:"paraphrase",description:"Access the paraphrase skill"}}],designSystem:t})],key:"block",id:j.f.from("container-block")})},nativeSkillsView:function(){return a.createElement(Se,{innerSpacing:{horizontal:S.a.Space.D05,vertical:S.a.Space.D05},verticalAlign:S.a.VerticalAlign.Top,horizontalAlign:S.a.HorizontalAlign.Center,children:[a.createElement("p",{key:"header"},"Mock implementation of Skills View")],key:"block",id:j.f.from("container-block")})},nativeToneInsightsModal:Ea,nativeLearnMoreModal:Ea,nativeSettingsModal:Ea,nativeFeedbackModal:Ea,nativeInlineCardContent:Ea,inlineCard:Object(m.a)((function(e){var t=e.child,n=e.id,r=e.meta,i=e.minWidth,o=e.maxWidth,s=g(e,["child","id","meta","minWidth","maxWidth"]),l=function(e,t){var n="".concat(e,"-").concat(t),a=b.get(n);if(void 0!==a)return a;var r=c.a.style(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){h(e,t,n[t])}))}return e}({display:"inline-block"},e?{minWidth:c.a.rem(e)}:{},t?{maxWidth:c.a.rem(t)}:{}));return b.put(n,r),r}(null!=i?i:ha,null!=o?o:ga);return a.createElement(d,{id:"".concat(n,"-container"),role:"region","aria-label":r.label,"aria-describedby":s["aria-describedby"],className:l},t)})),nativeGetStartedChecklistModal:function(e){var t=e.designSystem,n=e.notify;return a.createElement(t.block,{innerSpacing:{horizontal:S.a.Space.D05,vertical:S.a.Space.D05},verticalAlign:S.a.VerticalAlign.Top,horizontalAlign:S.a.HorizontalAlign.Center,children:[a.createElement("p",{key:"header"},"Mock Implementation of nativeGetStartedChecklistModal"),a.createElement(t.button.primary,{key:"complete-all-items-btn",id:"complete-all-items-btn",text:"Complete all items",name:"fire-actions",state:S.a.ButtonState.Enabled,tooltip:void 0,shape:S.a.ButtonShape.Square,meta:{},onClick:n}),a.createElement("p",{key:"footer"},"")],key:"block",id:j.f.from("container-block")})},nativeKeyTakeawaysAssistantCard:Ea,nativeProofitModal:Ea,dropDownMenuButton:function(e){var t=function(t){return"known"===t.source.kind?a.createElement(e.designSystem.icon[t.source.name],{key:t.source.name,backgroundColor:t.backgroundColor}):a.createElement(e.designSystem.image,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){ht(e,t,n[t])}))}return e}({key:t.source.name,backgroundColor:t.backgroundColor},t.source))};return a.createElement(ft.a.Dropdown,{label:t(e.icon),placement:"bottom right",theme:{button:vt.button,item:vt.item},"aria-label":e.menu.meta.label,onAction:function(t){return Object(w.pipe)(e.menu.sections,C.w((function(e){return e.items})),C.S((function(e){return e.id===String(t)})),k.g.tap((function(t){return e.onClick(t.onClickActions,t.id)()})))}},e.menu.sections.map((function(e,n){return a.createElement(ft.a.Section,{key:n,title:e.title},e.items.map((function(e){return a.createElement(ft.a.Item,{key:e.id,textValue:e.id},e.icon&&t(e.icon),e.text)})))})))},selectableDropDownMenu:function(e){return a.createElement(Sa.a.Component,{placeholder:e.placeholder,placement:"bottom left",theme:{button:ka.button},"aria-label":e.select.meta.label,defaultSelectedKey:e.selectedItem,onSelectionChange:function(t){return Object(w.pipe)(e.select.items,C.S((function(e){return e.id===String(t)})),k.g.tap((function(t){return e.onClick(t.onClickActions,t.id)()})))}},e.select.items.map((function(e){return a.createElement(Sa.a.Item,{key:e.id},e.label)})))},radioButtonsGroup:function(e){var t=e.id,n=e.options,r=e.onClick,i=e.meta;return a.createElement(_n.a.Group,{name:t,"aria-label":i.label,description:i.description,onChange:function(e){return Object(w.pipe)(n,k.a.findFirst((function(t){return t.id===e})),k.g.tap((function(e){return r(e.onSelect,e.id)})))}},n.map((function(e){return a.createElement(_n.a.Item,{id:e.id,key:e.id,value:e.id,"aria-label":e.meta.label,"aria-description":e.meta.description},e.label)})))},nativeExperimentalGBConsistencyUpsellFooter:Ea,nativeExperimentalGBToneInsightsUpsellFooter:Ea,collapsedCard:function(e){var t="".concat(e.id,"-collapsed-content"),n=Nn(a.useState(!1),2),r=n[0],i=n[1],o=a.useCallback((function(t){i(t),e.onHoverChanged(t)}),[]),s=Object(An.h)({onHoverChange:o}).hoverProps,c=Object(An.g)({onFocusWithinChange:o}).focusWithinProps;return a.createElement("div",Pn(Mn({},s,c),{className:Bn.container}),a.createElement(Dn,Pn(Mn({},e),{contentId:t})),a.createElement("div",{id:t,className:Bn.content},e.child,a.createElement("div",{role:"tooltip",style:{opacity:r?1:0}},e.quickActions)))},longFormCard:function(e){return a.createElement(a.Fragment,null,function(e,t,n){switch(e){case"focused":return t;case"collapsed":return n;case"hidden":return null;default:return Object(Ln.c)(e)}}(e.viewKind,e.fullContent,e.collapsedContent))},progressBar:function(e){var t=e.value,n=e.backgroundColor,r=e.fillColor,i=e.borderColor,o=e.height,s=e.pinPointValue,l=e.state;return a.createElement("div",{role:"progressbar","aria-label":"Progress","aria-valuenow":t,className:c.a.joinClasses([qn.outerContainer,Un(s,o)])},void 0!==s&&a.createElement("div",{"aria-label":"Progress starting point",className:c.a.joinClasses([qn.pinPoint,Gn(s,o)])}),a.createElement("div",{className:c.a.joinClasses([qn.background,Wn(n,i,o)])},a.createElement("div",{className:c.a.joinClasses([qn.fill,zn(t,r,o)])},l===S.a.ContentProgressBarState.Loading&&a.createElement("div",{className:qn.loading,style:{height:Hn(o)}}))))},horizontalRule:function(){return a.createElement("hr",{className:ua.default})},tooltip:function(e){var t=e.text,n=e.child,r=e.alignment;return a.createElement(ot.a,{title:Object(F.b)(t),align:r},n)},lifecycle:function(e){var t=e.onMountHandler,n=e.onUnmountHandler,r=e.children;return a.useEffect((function(){return t(),function(){return n()}}),[]),a.createElement(a.Fragment,null,r)},globalPartPlaceholder:function(e){var t=e.children;return a.createElement(a.Fragment,null,t)}}},"Q2+j":function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"e",(function(){return M})),n.d(t,"c",(function(){return q})),n.d(t,"b",(function(){return K})),n.d(t,"d",(function(){return $})),n.d(t,"j",(function(){return Z})),n.d(t,"f",(function(){return Y})),n.d(t,"g",(function(){return X})),n.d(t,"h",(function(){return ae})),n.d(t,"i",(function(){return re})),n.d(t,"k",(function(){return se})),n.d(t,"m",(function(){return y})),n.d(t,"l",(function(){return le}));var a=n("zCOz"),r=n("B8yO"),i=n.n(r);function o(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var s=n("f9tp");function c(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,o(e,t,"set"),n),n}var l=n("K5qu");let u="default",d="",p=new WeakMap;function m(e){(0,a.f)()?("default"===u&&(d=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),u="disabled"):(e instanceof HTMLElement||e instanceof SVGElement)&&(p.set(e,e.style.userSelect),e.style.userSelect="none")}function f(e){if((0,a.f)()){if("disabled"!==u)return;u="restoring",setTimeout(()=>{(0,a.n)(()=>{"restoring"===u&&("none"===document.documentElement.style.webkitUserSelect&&(document.documentElement.style.webkitUserSelect=d||""),d="",u="default")})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&p.has(e)){let t=p.get(e);"none"===e.style.userSelect&&(e.style.userSelect=t),""===e.getAttribute("style")&&e.removeAttribute("style"),p.delete(e)}}const h=i.a.createContext(null);h.displayName="PressResponderContext";var g=new WeakMap;class b{continuePropagation(){c(this,g,!1)}get shouldStopPropagation(){return function(e,t){return t.get?t.get.call(e):t.value}(e=this,o(e,g,"get"));var e}constructor(e,t,n){(0,s.a)(this,g,{writable:!0,value:void 0}),c(this,g,!0),this.type=e,this.pointerType=t,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey}}const v=Symbol("linkClicked");function y(e){let{onPress:t,onPressChange:n,onPressStart:i,onPressEnd:o,onPressUp:s,isDisabled:c,isPressed:l,preventFocusOnPress:u,shouldCancelOnPointerExit:d,allowTextSelectionOnPress:p,ref:g,...y}=function(e){let t=(0,r.useContext)(h);if(t){let{register:n,...r}=t;e=(0,a.l)(r,e),n()}return(0,a.A)(t,e.ref),e}(e),[_,x]=(0,r.useState)(!1),A=(0,r.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:I,removeAllGlobalListeners:T}=(0,a.u)(),M=(0,a.s)((e,t)=>{let a=A.current;if(c||a.didFirePressStart)return;let r=!0;if(a.isTriggeringEvent=!0,i){let n=new b("pressstart",t,e);i(n),r=n.shouldStopPropagation}return n&&n(!0),a.isTriggeringEvent=!1,a.didFirePressStart=!0,x(!0),r}),P=(0,a.s)((e,a,r=!0)=>{let i=A.current;if(!i.didFirePressStart)return;i.ignoreClickAfterPress=!0,i.didFirePressStart=!1,i.isTriggeringEvent=!0;let s=!0;if(o){let t=new b("pressend",a,e);o(t),s=t.shouldStopPropagation}if(n&&n(!1),x(!1),t&&r&&!c){let n=new b("press",a,e);t(n),s&&(s=n.shouldStopPropagation)}return i.isTriggeringEvent=!1,s}),N=(0,a.s)((e,t)=>{let n=A.current;if(!c){if(s){n.isTriggeringEvent=!0;let a=new b("pressup",t,e);return s(a),n.isTriggeringEvent=!1,a.shouldStopPropagation}return!0}}),D=(0,a.s)(e=>{let t=A.current;t.isPressed&&(t.isOverTarget&&P(w(t.target,e),t.pointerType,!1),t.isPressed=!1,t.isOverTarget=!1,t.activePointerId=null,t.pointerType=null,T(),p||f(t.target))}),B=(0,a.s)(e=>{d&&D(e)}),L=(0,r.useMemo)(()=>{let e=A.current,t={onKeyDown(t){if(S(t.nativeEvent,t.currentTarget)&&t.currentTarget.contains(t.target)){j(t.target,t.key)&&t.preventDefault();let r=!0;e.isPressed||t.repeat||(e.target=t.currentTarget,e.isPressed=!0,r=M(t,"keyboard"),I(document,"keyup",n,!1)),r&&t.stopPropagation(),t.metaKey&&(0,a.g)()&&e.metaKeyEvents.set(t.key,t.nativeEvent)}else"Meta"===t.key&&(e.metaKeyEvents=new Map)},onKeyUp(t){S(t.nativeEvent,t.currentTarget)&&!t.repeat&&t.currentTarget.contains(t.target)&&N(w(e.target,t),"keyboard")},onClick(t){if((!t||t.currentTarget.contains(t.target))&&t&&0===t.button&&!e.isTriggeringEvent&&!a.m.isOpening){let n=!0;if(c&&t.preventDefault(),!e.ignoreClickAfterPress&&!e.ignoreEmulatedMouseEvents&&!e.isPressed&&("virtual"===e.pointerType||(0,a.i)(t.nativeEvent))){c||u||(0,a.c)(t.currentTarget);let e=M(t,"virtual"),r=N(t,"virtual"),i=P(t,"virtual");n=e&&r&&i}e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1,n&&t.stopPropagation()}}},n=t=>{var n;if(e.isPressed&&S(t,e.target)){var r;j(t.target,t.key)&&t.preventDefault();let n=t.target,i=P(w(e.target,t),"keyboard",e.target.contains(n));T(),i&&t.stopPropagation(),"Enter"!==t.key&&O(e.target)&&e.target.contains(n)&&!t[v]&&(t[v]=!0,(0,a.m)(e.target,t,!1)),e.isPressed=!1,null===(r=e.metaKeyEvents)||void 0===r||r.delete(t.key)}else if("Meta"===t.key&&(null===(n=e.metaKeyEvents)||void 0===n?void 0:n.size)){let t=e.metaKeyEvents;e.metaKeyEvents=null;for(let n of t.values())e.target.dispatchEvent(new KeyboardEvent("keyup",n))}};if("undefined"!=typeof PointerEvent){t.onPointerDown=t=>{if(0!==t.button||!t.currentTarget.contains(t.target))return;if((0,a.j)(t.nativeEvent))return void(e.pointerType="virtual");E(t.currentTarget)&&t.preventDefault(),e.pointerType=t.pointerType;let o=!0;e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=t.pointerId,e.target=t.currentTarget,c||u||(0,a.c)(t.currentTarget),p||m(e.target),o=M(t,e.pointerType),I(document,"pointermove",n,!1),I(document,"pointerup",r,!1),I(document,"pointercancel",i,!1)),o&&t.stopPropagation()},t.onMouseDown=e=>{e.currentTarget.contains(e.target)&&0===e.button&&(E(e.currentTarget)&&e.preventDefault(),e.stopPropagation())},t.onPointerUp=t=>{t.currentTarget.contains(t.target)&&"virtual"!==e.pointerType&&0===t.button&&k(t,t.currentTarget)&&N(t,e.pointerType||t.pointerType)};let n=t=>{t.pointerId===e.activePointerId&&(k(t,e.target)?e.isOverTarget||(e.isOverTarget=!0,M(w(e.target,t),e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,P(w(e.target,t),e.pointerType,!1),B(t)))},r=t=>{t.pointerId===e.activePointerId&&e.isPressed&&0===t.button&&(k(t,e.target)?P(w(e.target,t),e.pointerType):e.isOverTarget&&P(w(e.target,t),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,T(),p||f(e.target))},i=e=>{D(e)};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&D(e)}}else{t.onMouseDown=t=>{if(0!==t.button||!t.currentTarget.contains(t.target))return;if(E(t.currentTarget)&&t.preventDefault(),e.ignoreEmulatedMouseEvents)return void t.stopPropagation();e.isPressed=!0,e.isOverTarget=!0,e.target=t.currentTarget,e.pointerType=(0,a.i)(t.nativeEvent)?"virtual":"mouse",c||u||(0,a.c)(t.currentTarget),M(t,e.pointerType)&&t.stopPropagation(),I(document,"mouseup",n,!1)},t.onMouseEnter=t=>{if(!t.currentTarget.contains(t.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!0,n=M(t,e.pointerType)),n&&t.stopPropagation()},t.onMouseLeave=t=>{if(!t.currentTarget.contains(t.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!1,n=P(t,e.pointerType,!1),B(t)),n&&t.stopPropagation()},t.onMouseUp=t=>{t.currentTarget.contains(t.target)&&(e.ignoreEmulatedMouseEvents||0!==t.button||N(t,e.pointerType||"mouse"))};let n=t=>{0===t.button&&(e.isPressed=!1,T(),e.ignoreEmulatedMouseEvents?e.ignoreEmulatedMouseEvents=!1:(k(t,e.target)?P(w(e.target,t),e.pointerType):e.isOverTarget&&P(w(e.target,t),e.pointerType,!1),e.isOverTarget=!1))};t.onTouchStart=t=>{if(!t.currentTarget.contains(t.target))return;let n=function(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}(t.nativeEvent);n&&(e.activePointerId=n.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=t.currentTarget,e.pointerType="touch",c||u||(0,a.c)(t.currentTarget),p||m(e.target),M(t,e.pointerType)&&t.stopPropagation(),I(window,"scroll",r,!0))},t.onTouchMove=t=>{if(!t.currentTarget.contains(t.target))return;if(!e.isPressed)return void t.stopPropagation();let n=C(t.nativeEvent,e.activePointerId),a=!0;n&&k(n,t.currentTarget)?e.isOverTarget||(e.isOverTarget=!0,a=M(t,e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,a=P(t,e.pointerType,!1),B(t)),a&&t.stopPropagation()},t.onTouchEnd=t=>{if(!t.currentTarget.contains(t.target))return;if(!e.isPressed)return void t.stopPropagation();let n=C(t.nativeEvent,e.activePointerId),a=!0;n&&k(n,t.currentTarget)?(N(t,e.pointerType),a=P(t,e.pointerType)):e.isOverTarget&&(a=P(t,e.pointerType,!1)),a&&t.stopPropagation(),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,p||f(e.target),T()},t.onTouchCancel=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&D(t))};let r=t=>{e.isPressed&&t.target.contains(e.target)&&D({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&D(e)}}return t},[I,c,u,T,p,D,B,P,M,N]);return(0,r.useEffect)(()=>()=>{p||f(A.current.target)},[p]),{isPressed:l||_,pressProps:(0,a.l)(y,L)}}function O(e){return"A"===e.tagName&&e.hasAttribute("href")}function S(e,t){const{key:n,code:a}=e,r=t,i=r.getAttribute("role");return!("Enter"!==n&&" "!==n&&"Spacebar"!==n&&"Space"!==a||r instanceof HTMLInputElement&&!x(r,n)||r instanceof HTMLTextAreaElement||r.isContentEditable||("link"===i||!i&&O(r))&&"Enter"!==n)}function C(e,t){const n=e.changedTouches;for(let e=0;e<n.length;e++){const a=n[e];if(a.identifier===t)return a}return null}function w(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function k(e,t){let n=t.getBoundingClientRect(),a=function(e){let t=e.width/2||e.radiusX||0,n=e.height/2||e.radiusY||0;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}(e);return i=a,!((r=n).left>i.right||i.left>r.right||r.top>i.bottom||i.top>r.bottom);var r,i}function E(e){return!(e instanceof HTMLElement&&e.hasAttribute("draggable"))}function j(e,t){return e instanceof HTMLInputElement?!x(e,t):e instanceof HTMLButtonElement?"submit"!==e.type&&"reset"!==e.type:!O(e)}const _=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function x(e,t){return"checkbox"===e.type||"radio"===e.type?" "===t:_.has(e.type)}function A({children:e}){return i.a.createElement(h.Provider,{value:void 0},e)}class I{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function T(e){let t=(0,r.useRef)({isFocused:!1,observer:null});(0,a.x)(()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]);let n=(0,a.s)(t=>{null==e||e(t)});return(0,r.useCallback)(e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let a=e.target,r=e=>{t.current.isFocused=!1,a.disabled&&n(new I("blur",e)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};a.addEventListener("focusout",r,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&a.disabled){t.current.observer.disconnect();let e=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}}),t.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function M(e){let{isDisabled:t,onFocus:n,onBlur:a,onFocusChange:i}=e;const o=(0,r.useCallback)(e=>{if(e.target===e.currentTarget)return a&&a(e),i&&i(!1),!0},[a,i]),s=T(o),c=(0,r.useCallback)(e=>{e.target===e.currentTarget&&document.activeElement===e.target&&(n&&n(e),i&&i(!0),s(e))},[i,n,s]);return{focusProps:{onFocus:!t&&(n||i||a)?c:void 0,onBlur:t||!a&&!i?void 0:o}}}let P=null,N=new Set,D=!1,B=!1,L=!1;const F={Tab:!0,Escape:!0};function R(e,t){for(let n of N)n(e,t)}function H(e){B=!0,function(e){return!(e.metaKey||!(0,a.g)()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(P="keyboard",R("keyboard",e))}function V(e){P="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(B=!0,R("pointer",e))}function U(e){(0,a.i)(e)&&(B=!0,P="virtual")}function W(e){e.target!==window&&e.target!==document&&(B||L||(P="virtual",R("virtual",e)),B=!1,L=!1)}function z(){B=!1,L=!0}function G(){if("undefined"==typeof window||D)return;let e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){B=!0,e.apply(this,arguments)},document.addEventListener("keydown",H,!0),document.addEventListener("keyup",H,!0),document.addEventListener("click",U,!0),window.addEventListener("focus",W,!0),window.addEventListener("blur",z,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",V,!0),document.addEventListener("pointermove",V,!0),document.addEventListener("pointerup",V,!0)):(document.addEventListener("mousedown",V,!0),document.addEventListener("mousemove",V,!0),document.addEventListener("mouseup",V,!0)),D=!0}function q(){return"pointer"!==P}function K(){return P}function $(e){P=e,R(e,null)}function Z(){G();let[e,t]=(0,r.useState)(P);return(0,r.useEffect)(()=>{let e=()=>{t(P)};return N.add(e),()=>{N.delete(e)}},[]),(0,l.a)()?null:e}function Y(e,t,n){G(),(0,r.useEffect)(()=>{let t=(t,a)=>{(function(e,t,n){return!(e&&"keyboard"===t&&n instanceof KeyboardEvent&&!F[n.key])})(null==n?void 0:n.isTextInput,t,a)&&e(q())};return N.add(t),()=>{N.delete(t)}},t)}function X(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:a,onFocusWithinChange:i}=e,o=(0,r.useRef)({isFocusWithin:!1}),s=(0,r.useCallback)(e=>{o.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(e),i&&i(!1))},[n,i,o]),c=T(s),l=(0,r.useCallback)(e=>{o.current.isFocusWithin||document.activeElement!==e.target||(a&&a(e),i&&i(!0),o.current.isFocusWithin=!0,c(e))},[a,i,c]);return t?{focusWithinProps:{onFocus:null,onBlur:null}}:{focusWithinProps:{onFocus:l,onBlur:s}}}"undefined"!=typeof document&&("loading"!==document.readyState?G():document.addEventListener("DOMContentLoaded",G));let Q=!1,J=0;function ee(){Q=!0,setTimeout(()=>{Q=!1},50)}function te(e){"touch"===e.pointerType&&ee()}function ne(){if("undefined"!=typeof document)return"undefined"!=typeof PointerEvent?document.addEventListener("pointerup",te):document.addEventListener("touchend",ee),J++,()=>{J--,J>0||("undefined"!=typeof PointerEvent?document.removeEventListener("pointerup",te):document.removeEventListener("touchend",ee))}}function ae(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:a,isDisabled:i}=e,[o,s]=(0,r.useState)(!1),c=(0,r.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,r.useEffect)(ne,[]);let{hoverProps:l,triggerHoverEnd:u}=(0,r.useMemo)(()=>{let e=(e,a)=>{if(c.pointerType=a,i||"touch"===a||c.isHovered||!e.currentTarget.contains(e.target))return;c.isHovered=!0;let r=e.currentTarget;c.target=r,t&&t({type:"hoverstart",target:r,pointerType:a}),n&&n(!0),s(!0)},r=(e,t)=>{if(c.pointerType="",c.target=null,"touch"===t||!c.isHovered)return;c.isHovered=!1;let r=e.currentTarget;a&&a({type:"hoverend",target:r,pointerType:t}),n&&n(!1),s(!1)},o={};return"undefined"!=typeof PointerEvent?(o.onPointerEnter=t=>{Q&&"mouse"===t.pointerType||e(t,t.pointerType)},o.onPointerLeave=e=>{!i&&e.currentTarget.contains(e.target)&&r(e,e.pointerType)}):(o.onTouchStart=()=>{c.ignoreEmulatedMouseEvents=!0},o.onMouseEnter=t=>{c.ignoreEmulatedMouseEvents||Q||e(t,"mouse"),c.ignoreEmulatedMouseEvents=!1},o.onMouseLeave=e=>{!i&&e.currentTarget.contains(e.target)&&r(e,"mouse")}),{hoverProps:o,triggerHoverEnd:r}},[t,n,a,i,c]);return(0,r.useEffect)(()=>{i&&u({currentTarget:c.target},c.pointerType)},[i]),{hoverProps:l,isHovered:o}}function re(e){let{ref:t,onInteractOutside:n,isDisabled:i,onInteractOutsideStart:o}=e,s=(0,r.useRef)({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),c=(0,a.s)(e=>{n&&ie(e,t)&&(o&&o(e),s.current.isPointerDown=!0)}),l=(0,a.s)(e=>{n&&n(e)});(0,r.useEffect)(()=>{let e=s.current;if(!i){if("undefined"!=typeof PointerEvent){let n=n=>{e.isPointerDown&&ie(n,t)&&l(n),e.isPointerDown=!1};return document.addEventListener("pointerdown",c,!0),document.addEventListener("pointerup",n,!0),()=>{document.removeEventListener("pointerdown",c,!0),document.removeEventListener("pointerup",n,!0)}}{let n=n=>{e.ignoreEmulatedMouseEvents?e.ignoreEmulatedMouseEvents=!1:e.isPointerDown&&ie(n,t)&&l(n),e.isPointerDown=!1},a=n=>{e.ignoreEmulatedMouseEvents=!0,e.isPointerDown&&ie(n,t)&&l(n),e.isPointerDown=!1};return document.addEventListener("mousedown",c,!0),document.addEventListener("mouseup",n,!0),document.addEventListener("touchstart",c,!0),document.addEventListener("touchend",a,!0),()=>{document.removeEventListener("mousedown",c,!0),document.removeEventListener("mouseup",n,!0),document.removeEventListener("touchstart",c,!0),document.removeEventListener("touchend",a,!0)}}}},[t,i,c,l])}function ie(e,t){if(e.button>0)return!1;if(e.target){const t=e.target.ownerDocument;if(!t||!t.documentElement.contains(e.target))return!1;if(e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}function oe(e){if(!e)return;let t=!0;return n=>{let a={...n,preventDefault(){n.preventDefault()},isDefaultPrevented:()=>n.isDefaultPrevented(),stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(a),t&&n.stopPropagation()}}function se(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:oe(e.onKeyDown),onKeyUp:oe(e.onKeyUp)}}}const ce=500;function le(e){let{isDisabled:t,onLongPressStart:n,onLongPressEnd:i,onLongPress:o,threshold:s=ce,accessibilityDescription:c}=e;const l=(0,r.useRef)(null);let{addGlobalListener:u,removeGlobalListener:d}=(0,a.u)(),{pressProps:p}=y({isDisabled:t,onPressStart(e){if(e.continuePropagation(),("mouse"===e.pointerType||"touch"===e.pointerType)&&(n&&n({...e,type:"longpressstart"}),l.current=setTimeout(()=>{e.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),o&&o({...e,type:"longpress"}),l.current=null},s),"touch"===e.pointerType)){let t=e=>{e.preventDefault()};u(e.target,"contextmenu",t,{once:!0}),u(window,"pointerup",()=>{setTimeout(()=>{d(e.target,"contextmenu",t)},30)},{once:!0})}},onPressEnd(e){l.current&&clearTimeout(l.current),!i||"mouse"!==e.pointerType&&"touch"!==e.pointerType||i({...e,type:"longpressend"})}}),m=(0,a.r)(o&&!t?c:null);return{longPressProps:(0,a.l)(p,m)}}},Q4iv:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return D}));var a=n("B8yO"),r=n("DTwm"),i=n("0kuo"),o=n("mgiE"),s=n("N4IK"),c=n("fC5a"),l=n("nWMp"),u=n("k4jz"),d=n("tCI5"),p=n("BbKl");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){m(e,t,n[t])}))}return e}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return{primary:Object(p.a)((function(t){return a.createElement(c.a.Primary,h(f({},N(t)),{className:l.a.joinClasses([e.main,e.primary,t.shape===d.a.ButtonShape.Round?P.round:void 0,t.verticalAlign===d.a.VerticalAlign.Middle?P.textMiddleAlign:void 0,A(t.horizontalAlign)])}),t.text)})),secondary:Object(p.a)((function(t){return a.createElement(c.a.Tertiary,h(f({},N(t)),{className:l.a.joinClasses([e.secondary,e.main,t.shape===d.a.ButtonShape.Round?P.round:void 0,t.verticalAlign===d.a.VerticalAlign.Middle?P.textMiddleAlign:void 0,A(t.horizontalAlign)])}),t.text)})),toggle:Object(p.a)((function(t){return a.createElement(c.a.Secondary,h(f({},N(t)),{className:l.a.joinClasses([u.a,e.toggle,e.main,t.shape===d.a.ButtonShape.Round?P.round:void 0,t.verticalAlign===d.a.VerticalAlign.Middle?P.textMiddleAlign:void 0,A(t.horizontalAlign)])}),t.text)})),yellow:Object(p.a)((function(t){return a.createElement(c.a.Primary,h(f({},N(t)),{className:l.a.joinClasses([e.yellow,t.shape===d.a.ButtonShape.Round?P.round:void 0,t.verticalAlign===d.a.VerticalAlign.Middle?P.textMiddleAlign:void 0,A(t.horizontalAlign)])}),t.text)})),outlined:Object(p.a)((function(t){return a.createElement(c.a.Secondary,h(f({},N(t)),{className:l.a.joinClasses([e.outlined,e.main,t.shape===d.a.ButtonShape.Round?P.round:void 0,t.verticalAlign===d.a.VerticalAlign.Middle?P.textMiddleAlign:void 0,A(t.horizontalAlign)])}),t.text)})),link:Object(p.a)((function(t){return a.createElement(c.a,h(f({},N(t)),{className:l.a.joinClasses([e.link,e.main])}),t.text)})),darkPrimary:Object(p.a)((function(t){return a.createElement(c.a.Tertiary,h(f({},N(t)),{className:l.a.joinClasses([e.darkPrimary,e.main,t.shape===d.a.ButtonShape.Round?P.round:void 0,t.verticalAlign===d.a.VerticalAlign.Middle?P.textMiddleAlign:void 0,A(t.horizontalAlign)])}),t.text)})),darkSecondary:Object(p.a)((function(t){return a.createElement(c.a.Tertiary,h(f({},N(t)),{className:l.a.joinClasses([e.darkSecondary,e.main,t.shape===d.a.ButtonShape.Round?P.round:void 0,t.verticalAlign===d.a.VerticalAlign.Middle?P.textMiddleAlign:void 0,A(t.horizontalAlign)])}),t.text)})),ggoPrimary:Object(p.a)((function(t){return a.createElement(c.a.Tertiary,h(f({},N(t)),{className:l.a.joinClasses([e.ggoPrimary,e.main,t.shape===d.a.ButtonShape.Round?P.round:void 0,t.verticalAlign===d.a.VerticalAlign.Middle?P.textMiddleAlign:void 0,A(t.horizontalAlign)])}),t.text)}))}}var b,v={lineHeight:"calc(2px * var(--rem) - 2px)",padding:0},y={flexShrink:0,minHeight:l.a.rem(2),justifyContent:"initial",$nest:{"& span":v," & > div":{width:l.a.percent(100)}}},O=[{$nest:{"&[data-textpos]":{padding:0}}},Object(u.b)({default:{backgroundColor:s.e.Color.Background.Base.Default,border:"1px solid ".concat(s.b.CoreNeutral20),whiteSpace:"normal",lineHeight:"calc(2px * var(--rem) - 2px)",fontWeight:700},hovered:{},disabled:{},clicked:{},toggled:{backgroundColor:s.b.CoreNeutral1,borderColor:s.e.Interface.InteractiveBranded.Primary.Default},hidden:{}})],S={fill:s.b.CoreNeutral0,stroke:s.b.CoreNeutral0},C=Object(u.b)({default:{display:"inline-flex",color:s.b.CoreNeutral40,border:"1px solid ".concat(s.b.CoreNeutral20),lineHeight:"calc(1.75px * var(--rem) - 1px)"},hovered:{},clicked:{},disabled:{},toggled:{},hidden:{}}),w=f({},Object(u.b)({default:{color:s.b.CoreBlue40,minHeight:"auto"},hovered:{opacity:.75},clicked:{},disabled:{},toggled:{},hidden:{}})),k=h(f({},Object(u.b)({default:{},hovered:{},clicked:{},disabled:{},toggled:{},hidden:{}})),{$nest:{"& span":v,"& i":S,"&:not([data-disabled='true'])[data-hovered='true'] i":S}}),E=f({},Object(u.b)({default:{},hovered:{},clicked:{},disabled:{},toggled:{},hidden:{}})),j={borderRadius:l.a.rem(100)},_=[y,Object(u.b)({default:{backgroundColor:s.b.CoreYellow20,color:s.b.CoreYellow80,lineHeight:l.a.rem(2),transitionDuration:".2s"},hovered:{backgroundColor:s.b.CoreYellow30,$nest:{"& i":{fill:s.b.CoreYellow80,stroke:s.b.CoreYellow80}}},disabled:{},clicked:{},toggled:{},hidden:{}}),{$nest:{"& i":{fill:s.b.CoreYellow80,stroke:s.b.CoreYellow80}}}],x=(m(b={},d.a.HorizontalAlign.Left,l.a.style({textAlign:"left"})),m(b,d.a.HorizontalAlign.Center,l.a.style({textAlign:"center"})),m(b,d.a.HorizontalAlign.Right,l.a.style({textAlign:"end"})),b);function A(e){return null!=e?x[e]:x[d.a.HorizontalAlign.Left]}var I=f({},Object(u.b)({default:{backgroundColor:s.b.CoreBlue30,color:s.b.CoreNeutral90,lineHeight:l.a.rem(2),transitionDuration:".2s",fontWeight:600},hovered:{backgroundColor:s.b.CoreBlue40,$nest:{"& i":{fill:s.b.CoreNeutral90,stroke:s.b.CoreNeutral90}}},disabled:{},clicked:{},toggled:{},hidden:{}})),T=f({},Object(u.b)({default:{backgroundColor:"transparent",color:s.b.CoreNeutral30,lineHeight:l.a.rem(2),transitionDuration:".2s"},hovered:{backgroundColor:s.b.CoreNeutral60,$nest:{"& i":{fill:s.b.CoreNeutral30,stroke:s.b.CoreNeutral30}}},disabled:{},clicked:{},toggled:{},hidden:{}})),M=h(f({},Object(u.b)({default:{backgroundColor:s.b.CoreGreen60},hovered:{backgroundColor:s.b.CoreGreen40},disabled:{},clicked:{},toggled:{},hidden:{}})),{$nest:{"& svg":S}}),P=l.a.stylesheet({textMiddleAlign:[{$nest:{"& span":{verticalAlign:"initial"}}}],main:[y],primary:[k],secondary:[E],toggle:O,round:[j],yellow:_,outlined:[C,{$nest:{"& span":{lineHeight:"calc(1.75px * var(--rem) - 1px)",padding:0}}}],link:[w],darkPrimary:[I],darkSecondary:[T],ggoPrimary:[M]});function N(e){return f({name:e.name,onClick:e.onClick,"aria-label":e.meta.label,"aria-describedby":e["aria-describedby"],title:void 0!==e.tooltip&&e.state!==d.a.ButtonState.Disabled?D(e.tooltip):void 0},function(e){switch(e){case d.a.ButtonState.Enabled:return{disabled:!1};case d.a.ButtonState.Disabled:return{disabled:!0};case d.a.ButtonState.Selected:return{disabled:!1,active:!0};case d.a.ButtonState.Deselected:return{disabled:!1,active:!1};case d.a.ButtonState.Hidden:return{hidden:!0};default:return Object(i.c)(e)}}(e.state))}function D(e){return a.createElement(a.Fragment,null,Object(r.pipe)(e.split("\n"),(function(e){var t=e.length;return 0===t?e:o.a.cons(e[0],e.slice(1,t).map((function(e,t){return a.createElement(a.Fragment,{key:t},a.createElement("br",null),e)})))})))}},QQOt:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("OwvP"),s=n("4GyQ"),c=n("RRF2"),l=n("111I"),u=n("nWMp"),d=n("NbNH"),p=n("xk6L"),m=n("yIk2"),f=n("7IMz");var h;!function(e){let t,n;!function(e){e.front="front",e.back="back"}(t=e.Layer||(e.Layer={})),function(e){e.completePositionAnimation="completePositionAnimation",e.changePosition="changePosition"}(n=e.ActionKind||(e.ActionKind={}));e.Cell=l.b.Grid.make(({slots:e,state:l,notify:u})=>{const d=new p.a.ReplaySubject,h=l.pipe(p.a.withLatestFrom(d),p.a.switchMap(([e,t])=>e.position.animationInProgress?p.a.mergeStatic(p.a.fromEvent(t,"transitionend").pipe(p.a.filter(e=>e.target===t&&"transform"===e.propertyName),p.a.mapTo(void 0)),p.a.of(void 0).pipe(p.a.delay(200))).pipe(p.a.first()):p.a.EMPTY),p.a.tap(u({kind:n.completePositionAnimation}))),g=l.pipe(p.a.withLatestFrom(d),p.a.switchMap(([e,t])=>e.height.watched?m.a.getResizeObservable(t).pipe(p.a.filter(t=>e.height.value!==t.height||!e.height.isValid||t.height>0)):p.a.EMPTY),p.a.distinctUntilChanged(),p.a.tap(({height:e})=>u({kind:n.changePosition,height:e})()));f.a.useSubscriptionTo(p.a.mergeStatic(h,g));const b=l.pipe(p.a.map(e=>e.position.top),p.a.map(e=>c.c.CSS.translateY(e)),p.a.distinctUntilChanged()),y=l.pipe(p.a.map(e=>e.layer===t.front?1:0),p.a.distinctUntilChanged()),O=l.pipe(p.a.map(({position:e})=>e),p.a.distinctUntilChanged((e,t)=>e.top===t.top&&e.animationInProgress===t.animationInProgress),p.a.map(({animationInProgress:e})=>e?v.animate:void 0),p.a.startWith(void 0));return i.createElement(o.a.div,Object(r.a)(Object(a.a)({},Object(s.c)(v.item,O)),{style:{transform:b,zIndex:y},mount:e=>{null!==e&&d.next(e)}}),e.item)})}(h||(h={}));const g={position:"absolute",boxSizing:"border-box",width:u.a.percent(100),contain:"layout"},b={transition:`transform ${u.a.seconds(d.d/1e3)} linear`},v=u.a.stylesheet({item:[g],animate:[b]})},QYB8:function(e,t,n){"use strict";function a(e){return"alertAdded"===e.kind}function r(e){return{kind:"alertAdded",alertId:e}}function i(e){return"alertRemoved"===e.kind}function o(e,t){return{kind:"alertRemoved",alertId:e,reason:t}}n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o}))},QYPR:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("Wy1Y"),r=n("a5gI"),i=n("+vYo"),o=n("D2TP"),s=n("Hj2R"),c=n("M3t0"),l=function e(t,n){var l=this;Object(a.a)(this,e),Object(r.a)(this,"_navigationVM",void 0),Object(r.a)(this,"_ded",void 0),Object(r.a)(this,"_log",void 0),Object(r.a)(this,"cheetahButton",void 0),Object(r.a)(this,"isActive",void 0),Object(r.a)(this,"mode",void 0),Object(r.a)(this,"toCheetahLens",void 0),Object(r.a)(this,"closeCheetahLens",void 0),Object(r.a)(this,"handleCheetahButtonClick",void 0),Object(r.a)(this,"cheetahButtonRef",void 0),this._navigationVM=t,this._ded=n,this._log=c.d.Logging.getLogger("Cheetah.Navigation"),this.cheetahButton=i.a.create(null),this.isActive=this._navigationVM.activeLensId.view((function(e){return e===o.a.SpecialId.Cheetah})),this.mode=i.a.create("rewrite"),this.toCheetahLens=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l._log.info("Opening lens...",{fromInline:e,withQuickRewrite:t});var n=l._ded.selection.getValue(),a=0===n.length?"ideation":t?"quickRewrite":"rewrite";l.mode.set(a),l._navigationVM.events.next({type:"switchToLens",id:o.a.SpecialId.Cheetah,focusFirst:!1,actionSource:e?s.b.text:s.b.sidebar})},this.closeCheetahLens=function(){l._log.info("Closing lens..."),l._navigationVM.events.next({type:"switchToLens",id:o.a.SpecialId.AllAlerts,focusFirst:!1,actionSource:s.b.api})},this.handleCheetahButtonClick=function(){!0===l.isActive.get()?l.closeCheetahLens():l.toCheetahLens()},this.cheetahButtonRef=function(e){l.cheetahButton.set(e)}}},Qq8L:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("a5gI"),r=n("8O/t"),i=n("X76w"),o=n("B8yO"),s=n("OwvP"),c=n("+vYo"),l=n("mgiE"),u=n("RRF2"),d=n("M3t0"),p=n("xk6L"),m=n("La5+"),f=n("yIk2"),h=n("YqdJ");class g extends o.Component{componentDidMount(){!0===this.props.isMaster&&this._setMaster()}componentDidUpdate(e){const t=this.props.name;this._log.debug("lensview did update",{wasMaster:e.isMaster,nowMaster:this.props.isMaster,name:t}),!0===this.props.isMaster?!1===e.isMaster?(this._log.info("reuse released view",t),this.forceUpdate(()=>{this._setMaster(),this._log.trace("view force update complete",t)})):(this._log.trace("set master view",t),this._setMaster()):(this._log.trace("release master view",t),this._clearSubs())}componentWillUnmount(){this._clearSubs()}render(){const{className:e,children:t,height:n}=this.props;return o.createElement(s.a.div,{"data-purpose":"card-list-connector",style:n.pipe(p.a.map(e=>({height:e}))),className:e},t)}_setMaster(){this._setSubs()}_setSubs(){this._clearSubs(),this._subs.push(this.props.stateSyncListener.subscribe())}_clearSubs(){this._subs.dispose()}constructor(...e){super(...e),Object(a.a)(this,"_log",d.d.Logging.getLogger("CardsListConnectorView",d.a.LogLevel.DEBUG)),Object(a.a)(this,"_subs",new m.a.Keeper)}}!function(e){let t;!function(e){e.create=()=>c.a.create({scrollProvider:l.g.none,scrollConsumer:l.g.none,viewport:l.g.none,title:l.g.none})}(t=e.Elements||(e.Elements={}));e.boundedScrollListener=(e,t)=>p.a.mergeStatic(p.a.defer(()=>{e.paddingTop.set(0)}),t.view("viewport").pipe(p.a.switchMap(l.g.fold(()=>p.a.EMPTY,e=>f.a.getResizeObservable(e).pipe(p.a.map(t=>Object(i.a)(Object(r.a)({},t),{top:e.offsetTop,height:e.offsetHeight}))))),p.a.tap(t=>e.viewport.set({top:h.b.FromWindowTop.ISO.wrap(t.top),height:t.height}))),t.view("scrollProvider").pipe(p.a.switchMap(l.g.fold(()=>p.a.EMPTY,t=>p.a.fromEvent(t,"scroll").pipe(p.a.map(()=>t.scrollTop),p.a.startWith(t.scrollTop),p.a.tap(t=>e.scrollTop.set(t)),p.a.mapTo(f.b.voidValue))))),t.view("title").pipe(p.a.switchMap(l.g.fold(()=>p.a.of(u.c.Rect.empty),e=>f.a.getResizeObservable(e))),p.a.map(e=>e.height),p.a.shareReplay({bufferSize:1,refCount:!0}),p.a.tap(t=>e.paddingTop.set(t))),t.view("scrollConsumer").pipe(p.a.switchMap(l.g.fold(()=>p.a.EMPTY,t=>e.scrollOffset.pipe(p.a.tap(e=>{t.scrollTop+=e})))))).pipe(p.a.mapTo(void 0)),e.superScrollListener=(e,t)=>{const n=t.view("title").pipe(p.a.switchMap(l.g.fold(()=>p.a.of(u.c.Rect.empty),e=>f.a.getResizeObservable(e))),p.a.map(e=>e.height),p.a.shareReplay({bufferSize:1,refCount:!0}));return p.a.mergeStatic(p.a.defer(()=>{e.paddingTop.set(0)}),t.view("viewport").pipe(p.a.switchMap(l.g.fold(()=>p.a.EMPTY,e=>f.a.getResizeObservable(e).pipe(p.a.map(t=>Object(i.a)(Object(r.a)({},t),{top:e.offsetTop,height:e.offsetHeight}))))),p.a.tap(t=>e.viewport.set({top:h.b.FromWindowTop.ISO.wrap(t.top),height:t.height}))),t.view("scrollProvider").pipe(p.a.switchMap(l.g.fold(()=>p.a.EMPTY,t=>p.a.fromEvent(t,"scroll").pipe(p.a.map(()=>t.scrollTop),p.a.startWith(t.scrollTop),p.a.tap(t=>e.scrollTop.set(t)),p.a.mapTo(f.b.voidValue))))),t.view("scrollConsumer").pipe(p.a.switchMap(l.g.fold(()=>p.a.EMPTY,t=>e.scrollOffset.pipe(p.a.scan((e,t)=>e-t,0),p.a.tap(e=>{t.style.transform=`translateY(${e}px)`})))),p.a.combineLatest(n),p.a.tap(([t,n])=>e.paddingTop.set(t+n)))).pipe(p.a.mapTo(void 0))}}(g||(g={}))},R1dB:function(e,t,n){e.exports=n.p+"files/8c35c38451d802f149fcbc7e9004193e/inter-lightitalic.woff"},RCgc:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("8O/t"),r=n("2swC"),i=n("nWMp");const o=(e,t,n,o,s,c)=>Object(a.a)({position:"absolute",right:e,left:e,zIndex:t,display:"block",height:i.a.rem(2),borderRadius:s,backgroundColor:r.a.CoreNeutral0,boxShadow:o,content:"' '"},Boolean(c)&&"bottom"!==c?{top:n}:{bottom:n})},"RS1+":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("B8yO"),s=n("tiWp"),c=n("OwvP"),l=n("4GyQ"),u=n("y7lF"),d=n("NDcT"),p=n("fC5a"),m=n("D2TP"),f=n("xk6L"),h=n("XGM8"),g=n("DUEA"),b=n("mgiE"),v=n("OUbY"),y=n("KpDw");!function(e){e.View=function(e){var a=e.lens,i=e.transition,u=e.successLensViewModel,d=e.preventAnimation,p=e.illustrations,O=e.onTransitionEnd,S=e.title,C=e.showTitle,w=e.scoreStatus,k=o.useContext(v.a.Context).platform===v.a.Platform.IPAD,E=!m.a.isMainLens(a.id);return o.createElement(h.b.FixedContent,{label:a.title},o.createElement(c.a.div,Object(r.a)({onTransitionEnd:O},Object(l.c)(k?y.a.successLensIPad:y.a.successLens,i.pipe(f.a.map((function(e){return e.base}))))),C&&o.createElement(c.a.div,Object(l.c)(y.a.successLensHeader,i.pipe(f.a.map((function(e){return e.title})))),S),o.createElement("div",{className:k?y.a.successLensContentIPad:y.a.successLensContent},o.createElement(g.a,{state:u.successState,preventAnimation:d,illustrations:p,scoreStatus:w},E&&o.createElement(n,null),Object(s.pipe)(u.mutedAlerts,b.g.map((function(e){return o.createElement(t,{count:e.mutedSuggestionsCount,onReview:e.reviewMutedSuggestions})})),b.g.orNull)))))};var t=e.MutedSuggestions=function(e){var t=e.count,n=e.onReview,a=o.useContext(d.a.Context);return o.createElement(c.a.Fragment,null,t.view((function(e){return e?o.createElement(c.a.span,{className:y.a.mutedSuggestions},a.successLens.mutedSuggestions(e),o.createElement(p.a.Ghost,Object(i.a)(Object(r.a)({name:"review-muted"},Object(l.c)(u.button,y.a.reviewButton)),{onClick:n}),a.review)):null})))},n=function(){var e=o.useContext(d.a.Context),t=o.useContext(h.c).navigateToAllAlerts;return o.createElement(p.a.Ghost,{name:"to-all-alerts",onClick:t,className:y.a.toAllAlerts},e.goBackToAllAlerts)}}(a||(a={}))},RYaW:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var a=n("8O/t"),r=n("X76w"),i=n("vGXj"),o=n("B8yO"),s=n("lme1"),c=n("zCOz"),l=n("rUtO"),u=n("tREI"),d=n("6K6r"),p=n("CRXm"),m=n("O+SZ"),f=n("4GyQ"),h=n("jY3z"),g=n("fC5a"),b=n("uLrj"),v=n("zK/v"),y=n("sX1a"),O=n("7IMz"),S=n("09dI"),C=n("nWMp"),w=n("e1WO");const k={borderTop:"1px solid "+S.i.SemanticColor.Color.Border.Base.Subdued,margin:`${C.a.rem(S.i.Space.Space2)} ${C.a.rem(-S.i.Space.Space4)}`},E={listStyle:"none",margin:0,padding:0,outline:C.a.important("none")},j={position:"relative",overflow:"hidden",padding:`${C.a.rem(S.i.Space.Space1)} ${C.a.rem(S.i.Space.Space4)}`,borderRadius:C.a.rem(S.i.Radius.Radius1),cursor:"pointer",$nest:{"&:hover":{background:w.CoreBlue1},"&:focus, &:focus-visible":{boxShadow:`0 0 0 1px ${w.CoreNeutral0}, 0 0 0 3px ${w.CoreBlue40}`,outline:C.a.important("none"),background:w.CoreBlue1,zIndex:C.d.level1},"& i":{marginLeft:C.a.rem(-S.i.Space.Space2),marginRight:C.a.rem(S.i.Space.Space2)}}},_={color:S.i.SemanticColor.Color.Text.Base.Subdued},x={margin:"0 "+C.a.rem(S.i.Space.Space2)},A={display:"flex",alignItems:"center"},I={justifyContent:"space-between",width:C.a.percent(100)},T={padding:"0 "+C.a.rem(S.i.Space.Space4)},M={background:w.CoreBlue1,$nest:{"& span":{fontWeight:700}}},P={padding:`${C.a.rem(S.i.Space.Space2)} ${C.a.rem(S.i.Space.Space4)}`},N={fontSize:C.a.rem(.625),letterSpacing:C.a.rem(.04),lineHeight:C.a.rem(1),color:S.i.SemanticColor.Color.Text.Base.Subdued,padding:`${C.a.rem(S.i.Space.Space2)} ${C.a.rem(S.i.Space.Space6)} ${C.a.rem(S.i.Space.Space2)} ${C.a.rem(S.i.Space.Space4)}`},D={$nest:{'&[data-active="true"]':{background:w.CoreNeutral1,color:w.CoreBlue50}}},B=C.a.stylesheet({triggerButton:[D],separator:[k],itemList:[E],mainItemsList:[E,P],menuItem:[j],menuItemContentWrapper:[A],menuItemContent:[A,I],menuItemDisabled:[T],menuItemSelected:[M],sectionHeading:[N],section:[{padding:0}],label:[_],tag:[x]});var L;!function(e){e.Item=u.a,e.Section=u.b;function t(e){var{placement:t="bottom start",theme:c={},name:l,portalContainer:u,title:p}=e,m=Object(i.a)(e,["placement","theme","name","portalContainer","title"]);const h=o.useMemo(()=>Boolean(l)?l+"-trigger":"dropdown-menu-trigger",[l]),v=Object(d.a)(m),y=o.useRef(null),O=Object(s.d)({},v,y),{menuTriggerProps:{onPress:S,onPressStart:C},menuProps:w}=O,k=Object(i.a)(O.menuTriggerProps,["onPress","onPressStart"]);return o.createElement(o.Fragment,null,o.createElement(g.a.Tertiary,Object(r.a)(Object(a.a)(Object(r.a)(Object(a.a)({},k),{name:h}),Object(f.c)(B.triggerButton,c.button)),{onClick:()=>v.open(),mount:e=>y.current=e,"aria-label":m["aria-label"],title:null!=p?p:m["aria-label"],active:v.isOpen}),m.label),o.createElement(b.a,{state:v,rerenderDependencies:[m.items,m.children],triggerRef:y,placement:t,portalContainer:u},o.createElement(n,Object(r.a)(Object(a.a)({},m,w),{theme:c,name:l,onAction:e=>{var t,n;null===(t=(n=m).onAction)||void 0===t||t.call(n,e)}}))))}function n(e){var{name:t,className:n,itemAnimationMode:l=v.a.FromClickPoint,theme:u={},onMouseOver:d,onMouseLeave:m}=e;const h=Object(i.a)(e,["name","className","itemAnimationMode","theme","onMouseOver","onMouseLeave"]),g=o.useMemo(()=>Boolean(t)?t+"-list":"dropdown-menu-list",[t]),b=Object(p.a)(h),y=o.useRef(null),{menuProps:O}=Object(s.a)(h,b,y),w=Object(c.l)(O,{onMouseOver:d,onMouseLeave:m});return o.createElement("ul",Object(a.a)(Object(r.a)(Object(a.a)({"data-name":g},w),{ref:y}),Object(f.c)(B.mainItemsList,u.list,n)),Array.from(b.collection).map(e=>"section"===e.type?o.createElement(C,{key:e.key,section:e,state:b,theme:u}):o.createElement(S,{key:e.key,name:t,item:e,state:b,animationMode:l,className:u.item})))}e.Dropdown=t,e.DropdownLifted=function(e){return Object(f.d)(t)(e)},e.List=n;e.ItemContent=({children:e,label:t,tag:n})=>o.createElement("span",{className:B.menuItemContent},o.createElement("span",null,e,Boolean(n)&&o.createElement(h.a.Regular,{className:B.tag},n)),Boolean(t)&&o.createElement(y.Typography.Small,{className:B.label},t));function S({item:e,state:t,animationMode:n,className:l,name:u}){const d=o.useMemo(()=>Boolean(u)?u+"-item":"dropdown-menu-item",[u]),p=o.useRef(null),{menuItemProps:h,isDisabled:g,isSelected:b}=Object(s.b)({key:e.key},t,p),S=o.useMemo(()=>new m.a,[]),C=o.useCallback(()=>null!=n&&o.createElement(v.b,{mouseDownEvents:S,animationMode:n}),[S,n]),{onPointerDown:w}=h,k=Object(i.a)(h,["onPointerDown"]),E=Object(c.l)(k,{onPointerDown:e=>{var t;S.next({pageX:e.pageX,pageY:e.pageY}),null===(t=w)||void 0===t||t(e)}});return O.a.useEffectOnDidMount(()=>{if(null!=p.current)try{const e=p.current.focus.bind(p.current);p.current.focus=t=>{var n;Boolean(null===(n=p.current)||void 0===n?void 0:n.matches(":hover"))||e(t)}}catch(e){}}),o.createElement("li",Object(a.a)(Object(r.a)(Object(a.a)({"data-name":d},E),{ref:p}),Object(f.c)(B.menuItem,l,g?B.menuItemDisabled:void 0,b?B.menuItemSelected:void 0)),o.createElement(y.Typography,{nodeType:"span",styleType:y.Typography.Type.Base,className:B.menuItemContentWrapper},e.rendered),C())}function C({name:e,section:t,state:n,onAction:i,theme:c={},itemAnimationMode:u=v.a.FromClickPoint}){const d=o.useMemo(()=>Boolean(e)?e+"-section":"dropdown-menu-section",[e]),{itemProps:p,headingProps:m,groupProps:h}=Object(s.c)({heading:t.rendered,"aria-label":t["aria-label"]}),{separatorProps:g}=Object(l.a)({elementType:"li"});return o.createElement(o.Fragment,null,t.key!==n.collection.getFirstKey()&&o.createElement("li",Object(r.a)(Object(a.a)({},g),{className:B.separator})),o.createElement("li",Object(a.a)({"data-name":d},p,Object(f.c)(B.section,c.section)),Boolean(t.rendered)&&o.createElement(y.Typography.H5,Object(r.a)(Object(a.a)({},m),{className:B.sectionHeading}),t.rendered),o.createElement("ul",Object(r.a)(Object(a.a)({},h),{className:B.itemList}),Array.from(t.childNodes).map(t=>o.createElement(S,{key:t.key,item:t,state:n,onAction:i,animationMode:u,className:c.item,name:e})))))}}(L||(L={}))},"S+il":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("xk6L");!function(e){e.listen=e=>r.a.fromEvent(document,"keydown").pipe(r.a.filter(t=>t.key.toLowerCase()===e&&!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)))}(a||(a={}))},S6NP:function(e){e.exports=JSON.parse('{"notification":"_6f7dd14d-default-notification","contentSection":"_79341464-default-contentSection","content":"_6749da61-default-content","title":"_a2e9eb8b-default-title","btnGroup":"_568e364b-default-btnGroup","surveyBtn":"_95c4c432-default-surveyBtn","designerAvatar":"_6062b798-default-designerAvatar"}')},S6rj:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("8O/t"),r=n("X76w"),i=n("vGXj"),o=n("B8yO");const s=n("nWMp").a.style({position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0,0,0,0)",whiteSpace:"nowrap",border:0}),c=e=>{var{children:t}=e,n=Object(i.a)(e,["children"]);return o.createElement("div",Object(r.a)(Object(a.a)({},n),{className:s}),t)}},SDkL:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n("B8yO"),r=n("DTwm"),i=n("OwvP"),o=n("mgiE"),s=n("TKPA"),c=n("111I"),l=n("xk6L"),u=n("RRF2"),d=n("koeM"),p=n("nWMp");const m=({top:e,height:t})=>{const n="cl-placeholder-pattern-"+Math.random();return a.createElement(i.a.div,{className:g.placeholder,style:{transform:u.c.CSS.translateY(e),height:t}},a.useContext(d.a.Context).pipe(l.a.map(e=>a.createElement("svg",{"aria-hidden":!0,height:"100%",className:g.placeholderSVG},a.createElement("defs",null,a.createElement("pattern",{id:n,x:"0",y:"0",width:"100%",height:b*e,patternUnits:"userSpaceOnUse"},a.createElement("rect",{x:"0",y:"0",width:"100%",height:e*v,fill:"white"}))),a.createElement("rect",{fill:`url(#${n})`,rx:e*y,ry:e*y,width:"100%",height:"100%"})))))},f={position:"absolute",top:0,boxSizing:"border-box",marginTop:p.a.rem(.425),paddingRight:p.a.rem(2),width:p.a.percent(100)},h={width:p.a.percent(100),height:p.a.percent(100),filter:"drop-shadow(0 1px 3px rgba(129, 137, 169, .2))"},g=p.a.stylesheet({placeholder:[f],placeholderSVG:[h]}),b=4,v=3,y=.25,O=c.b.Node.make(({state:e})=>a.createElement(i.a.div,{key:"placeholder",className:e.pipe(l.a.map(o.g.isSome),l.a.distinctUntilChanged(),l.a.map(Object(s.c)(C.placeholder,C.hiddenPlaceholder)),l.a.startWith(C.hiddenPlaceholder))},e.pipe(l.a.map(Object(r.flow)(o.g.map(e=>a.createElement(a.Fragment,null,a.createElement(m,{key:"first",top:e[0].top,height:e[0].height}),a.createElement(m,{key:"last",top:e[1].top,height:e[1].height}))),o.g.toNullable))))),S={position:"absolute"},C=p.a.stylesheet({placeholder:[S],hiddenPlaceholder:[S,{opacity:0}]})},SNOG:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("B8yO"),r=n("OwvP"),i=n("4GyQ"),o=n("c+X/"),s=n("nWMp");const c=({theme:e={}})=>a.createElement(r.a.div,Object(i.c)(u.container,e.container),a.createElement(r.a.div,Object(i.c)(u.swoosh,e.animation))),l=s.a.keyframes({to:{backgroundPosition:"0 100%"}}),u=s.a.prefixedStylesheet("ai-animation-v2",{container:[{position:"relative",width:s.a.rem(2),height:s.a.rem(2),display:"inline-block"}],swoosh:[{position:"absolute",left:0,right:0,top:0,bottom:0,animationName:l,animationTimingFunction:"steps(119, start)",animationFillMode:"forwards",animationDuration:s.a.seconds(2),animationIterationCount:"infinite",background:`transparent url('${o.a}swoosh.png') 0 0 no-repeat`,backgroundSize:s.a.percent(100)}]})},SXX6:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a,r,i=n("Wy1Y"),o=n("uKMM"),s=n("JOKA"),c=n("mMt2"),l=n("HOlR"),u=n("tiWp"),d=n("RRF2");!function(e){var t=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getRect",value:function(){return l.right({rootClientRect:d.c.Rect.empty,clientRects:[d.c.Rect.empty]})}}]),e}();e.Mock=t}(a||(a={})),function(e){var t=e.relativeToViewport=function(e){var t,n=Object(s.a)(e.clientRects),a=n[0],r=n.slice(1);return Object(u.pipe)((t=d.c.Rect).join.apply(t,[a].concat(Object(c.a)(r))),l.getOrElse((function(){return d.c.Rect.empty})))};e.relativeToRoot=function(e){return d.c.absToRelative(t(e),e.rootClientRect)},e.relativeToRootFirst=function(e){return d.c.absToRelative(e.clientRects[0],e.rootClientRect)},e.relativeAndAbs=function(e){var n=t(e);return{abs:n,relative:d.c.absToRelative(n,e.rootClientRect)}}}(r||(r={}))},ShUL:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("gg7t");!function(e){!function(e){var t;!function(e){e.full="full",e.partial="partial"}(t=e.RemoveType||(e.RemoveType={})),e.getCreateAction=function(e){return function(t){return{id:t,action:o.a.Change.ActionType.create,meta:e}}},e.getUpdateAction=function(e){return function(t){return{id:t,action:o.a.Change.ActionType.update,meta:e}}},e.getRemoveAction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.full;return function(t){return{id:t,action:o.a.Change.ActionType.remove,meta:{range:e.range,removeType:n}}}},e.addRange=function(e){return Object(i.a)(Object(r.a)({},e),{range:e.meta.range()})},e.useRange=function(e,t){return Object(i.a)(Object(r.a)({},e),{meta:Object(i.a)(Object(r.a)({},e.meta),{range:function(){return t}})})}}(e.Change||(e.Change={}))}(a||(a={}))},TDJj:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return S}));var a=n("B8yO"),r=n("tiWp"),i=n("OwvP"),o=n("mgiE"),s=n("0kuo"),c=n("111I"),l=n("NDcT"),u=n("fC5a"),d=n("hSa3"),p=n("ySi0"),m=n("wuWi"),f=n("xk6L"),h=n("VHh6"),g=n("yOW0");const b=c.b.Node.make(({notify:e})=>a.createElement(i.a.div,{className:h.a.maximizedCloseButtonContainer},a.createElement(m.b,{name:"close",onClick:e("onClick")},a.createElement(p.d.Arrow,{width:11,direction:p.a.up}))));var v;!function(e){let t,n;!function(e){e.onUpgrade="onUpgrade",e.onUpgradeButtonMount="onUpgradeButtonMount"}(t=e.ActionsKind||(e.ActionsKind={})),function(e){e.isOnUpgrade=function(e){return"onUpgrade"===e.kind},e.isOnUpgradeButtonMount=function(e){return"onUpgradeButtonMount"===e.kind}}(n=e.Actions||(e.Actions={}))}(v||(v={}));const y=c.b.Node.make(({state:e,notify:t})=>{const n=a.useContext(l.a.Context);return a.createElement(a.Fragment,null,a.createElement("div",{className:h.a.maximizedHeader},a.createElement(i.a.Fragment,null,e.pipe(f.a.map(({count:e})=>e>0?e>1?a.createElement(a.Fragment,{key:"plural"},n.sidebar.content.premiumIssues.foundTitlePlural.description1," ",e," ",n.sidebar.content.premiumIssues.foundTitlePlural.description2):a.createElement(a.Fragment,{key:"singular"},n.sidebar.content.premiumIssues.foundTitleSingular.description1," ",e," ",n.sidebar.content.premiumIssues.foundTitleSingular.description2):null)))),a.createElement(i.a.div,{className:h.a.alertCategoryContainer},e.pipe(f.a.map(({alerts:e})=>e.map(e=>a.createElement("div",{key:e.category,className:h.a.alertCategory},a.createElement("div",{className:h.a.categoryHumanContainer},e.categoryHuman),a.createElement("div",{className:h.a.alertCounterContainer},a.createElement(d.a.Counter,{count:e.count,type:"yellowPremium"}))))))),a.createElement("div",{className:h.a.premiumButtonContainer},a.createElement("div",{ref:e=>{t({type:"upgradeHookAction",kind:v.ActionsKind.onUpgradeButtonMount,element:o.g.fromNullable(e)})()}},a.createElement(u.a,{name:"upgrade",className:h.a.premiumButton,onClick:t({type:"upgradeHookAction",kind:v.ActionsKind.onUpgrade})},a.createElement(p.d.UpgradeHookPanel.ButtonDiamond,null),n.goPremium))))}),O=c.b.Composite.make(Object(g.a)(h.a.maximizedWrapper,h.a.maximizedWrapperIcon),c.b.Group.make({closeButton:c.b.Union.make("kind",{hidden:c.b.Node.empty,visible:b}),content:y})),S=Object(r.pipe)(c.b.squash(O),c.b.mapAction(e=>{switch(e.key){case"content":switch(e.action.kind){case v.ActionsKind.onUpgrade:return{kind:"upgrade"};case v.ActionsKind.onUpgradeButtonMount:return{kind:"onUpgradeButtonMount",element:e.action.element};default:return Object(s.c)(e.action)}case"closeButton":switch(e.action.action){case"onClick":return{kind:"collapse"};default:return Object(s.c)(e.action.action)}default:return Object(s.c)(e)}}),c.b.contramapState(e=>({closeButton:{kind:e.showCloseButton?"visible":"hidden"},content:e.alertsState})))},TFiY:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("wvT7"),i=n("DTwm"),o=n("xk6L"),s=n("mgiE"),c=n("2Jx5"),l=n("0kuo"),u=n("M3t0"),d=n("RRF2");function p(e,t){return n=>Object(i.pipe)(e,c.a.moveByFindFirst(e=>t.equals(n,e)))}function m(e){return s.a.isNonEmpty(e.rights)?c.a.down(e):s.g.some(c.a.start(e))}function f(e){return s.a.isNonEmpty(e.lefts)?c.a.up(e):s.g.some(c.a.end(e))}!function(e){let t;var n;!function(e){e.focused="focused",e.proceedForwards="proceedForwards",e.proceedBackwards="proceedBackwards",e.navigationForwards="navigationForwards",e.navigationBackwards="navigationBackwards"}(t=e.FocusEvent||(e.FocusEvent={})),(n=t=e.FocusEvent||(e.FocusEvent={})).isSwitchSectionEvent=e=>[t.proceedForwards,t.proceedBackwards].includes(e),n.isInternalNavigationEvent=e=>[t.navigationForwards,t.navigationBackwards].includes(e);e.create=({contentFocusChanges:e,ord:n,eq:h,show:g,contentSection:b,keyboardEvents:v=o.a.fromEvent(document,"keydown")})=>{const y=u.d.Logging.getLogger("focus",u.a.LogLevel.DEBUG,u.a.LogColor.Manager.getColor("focus")),O=Object(i.pipe)(b,s.g.chain(e=>c.a.fromArray([e]))),S=new o.a.ReplaySubject,C=new o.a.Subject,w=v.pipe(o.a.filter(e=>"F6"===e.key),o.a.tap(e=>e.preventDefault()),o.a.tap(e=>S.next({kind:e.shiftKey?"previous":"next"})),o.a.ignoreElements(),o.a.share()),k=e.inFocus.pipe(o.a.filter(i.identity),o.a.tap(()=>S.next({kind:"reset"})),o.a.ignoreElements(),o.a.share()),E=S.pipe(o.a.tap(e=>y.debug("Focus action",e)),o.a.scan((e,t)=>{switch(t.kind){case"register":return Object(i.pipe)(e,function(e,t){return Object(i.flow)(s.g.map(c.a.toNonEmptyArray),s.g.map(t=>s.a.snoc(t,e)),s.g.map(s.a.sort(t)),s.g.getOrElse(Object(i.constant)([e])),c.a.fromArray)}(t.section,n),s.g.chain(function(e,t){return n=>Object(i.pipe)(e,s.g.map(d.e.pick("focus")),s.g.chain(p(n,t)),s.g.alt(Object(i.constant)(s.g.some(n))))}(e,h)));case"deregister":return Object(i.pipe)(e,s.g.chain((a=t.section,Object(i.flow)(c.a.toNonEmptyArray,s.a.filter(e=>e!==a),c.a.fromArray))),s.g.chain(function(e,t){return n=>Object(i.pipe)(e,s.g.chain(e=>Object(i.pipe)(p(n,t),t=>Object(i.pipe)(t(e.focus),s.g.alt(Object(i.constant)(Object(i.pipe)(e.lefts,s.a.last,s.g.chain(t)))),s.g.alt(Object(i.constant)(Object(i.pipe)(e.rights,s.a.head,s.g.chain(t))))))),s.g.alt(Object(i.constant)(s.g.some(n))))}(e,h)));case"next":return Object(i.pipe)(e,s.g.chain(m));case"previous":return Object(i.pipe)(e,s.g.chain(f));case"reset":return Object(i.pipe)(e,s.g.map(c.a.start));default:return Object(l.c)(t)}var a},O),o.a.startWith(O),o.a.map(s.g.map(c.a.extract)),o.a.skipBy(s.g.getEq(h)),o.a.tap(t=>Object(i.pipe)(Object(i.tuple)(t,b),Object(i.tupled)(Object(r.b)(s.g.option)),s.g.map(([e,t])=>h.equals(e,t)),s.g.tap(e.updateFocus))),o.a.tap(e=>y.debug("Item focused",s.g.getShow(g).show(e))),o.a.switchMap(e=>o.a.mergeStatic(w,k,o.a.of(e))),o.a.shareReplay({bufferSize:1,refCount:!1}));return{state:E,focusEvents:C,register:(e,n)=>(S.next({kind:"register",section:e}),o.a.mergeStatic(n.pipe(o.a.tap(t=>C.next({section:e,kind:t})),o.a.filter(a.FocusEvent.isSwitchSectionEvent),o.a.tap(e=>S.next({kind:e===t.proceedForwards?"next":"previous"})),o.a.ignoreElements()),E.pipe(o.a.map(n=>s.g.exists(t=>t===e)(n)?t.focused:t.proceedForwards),o.a.distinctUntilChanged(),o.a.finalize(()=>S.next({kind:"deregister",section:e})))))}}}(a||(a={}))},TPDJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("B8yO"),r=n("OwvP"),i=n("111I"),o=n("xk6L"),s=n("mgiE"),c=n("itj6"),l=n("5aph"),u=n("sfTT");const d=i.b.Grid.make(({slots:e})=>a.createElement(l.a.Context.Provider,{value:l.a.emptyWithName("card")},a.createElement(r.a.div,{"data-role":"animation-wrapper",className:u.a.animationWrapper},e.animatedItemBaseChild)));var p,m,f,h,g=n("mp9r");!function(e){e.make=function(e){return i.b.Union.asOption(i.b.Knot.make(t,{shadeItem:e}))};const t=i.b.Grid.make(({slots:e,state:t,notify:n})=>a.createElement(r.a.Fragment,null,t.pipe(o.a.map(({item:i,key:o,className:s})=>a.createElement(r.a.div,{className:s,key:"shade"+t+o,onAnimationEnd:e=>{g.b.get(e.animationName)!==s&&u.b.get(e.animationName)!==s||n({type:c.a.Kind.completeTransitionTo,id:i.id,transitionId:i.visualState.transitionId})()}},e.shadeItem)))))}(p||(p={})),function(e){e.make=function(e){return i.b.Composite.make(d,i.b.Knot.make(t,{shade:p.make(e),item:e}))};const t=i.b.Grid.make(({state:e,slots:t,notify:n})=>a.createElement(r.a.Fragment,null,e.pipe(o.a.map(({item:e,className:i,hasAnimation:o})=>(o||requestAnimationFrame(n({type:c.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})),a.createElement(r.a.Fragment,null,t.shade,a.createElement(r.a.div,{className:s.g.toUndefined(i),key:"expanded"===e.visualState.transition.type?"focused":e.visualState.transition.type,onAnimationEnd:n({type:c.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),onTransitionEnd:()=>{"presuccess"===e.visualState.transition.type&&n({type:c.a.Kind.startTransitionTo,id:e.id,transition:{type:"success",clockwise:e.visualState.transition.clockwise}})()}},t.item)))))))}(m||(m={})),function(e){e.make=function(e){return i.b.Composite.make(d,i.b.Knot.make(t,{staticItemChild:e}))};const t=i.b.Grid.make(({state:e,slots:t})=>a.createElement(r.a.Fragment,null,e.pipe(o.a.map(e=>a.createElement(r.a.div,{key:e},t.staticItemChild)))))}(f||(f={})),function(e){e.make=function(e){return i.b.Knot.make(t,{animatedItem:i.b.Union.make("animatedItemKind",{static:f.make(e),animating:m.make(e)})})};const t=i.b.Grid.make(({state:e,slots:t})=>a.createElement(r.a.Fragment,null,e.pipe(o.a.distinctUntilChanged((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type),o.a.map(()=>a.createElement(r.a.Fragment,null,t.animatedItem)))))}(h||(h={}))},TTev:function(e,t,n){"use strict";n.d(t,"a",(function(){return pe}));var a,r,i,o=n("8O/t"),s=n("X76w"),c=n("B8yO"),l=n("NDcT"),u=n("IRug"),d=n("iD3t"),p=n("BFgw"),m=n("axdO"),f=n("CNxR"),h=n("ySi0"),g=n("AyJj"),b=n("6EPH"),v=(n("z3JT"),n("cnWy"));r=a||(a={}),i={content:{wrapper:v.wrapper,icon:v.icon}},r.View=function(e){var t=e.notification,n=e.savedPrice,a=e.onClose,r=e.onChangePlan,d=c.useContext(l.a.Context).changePlan.hook;return c.createElement(u.b.Wrapper,{notification:t,onClose:a,theme:i},c.createElement(u.b.Content,null,c.createElement("div",{className:v.content},c.createElement(h.d.Paid,{width:18,className:v.iconPremium}),c.createElement("div",{className:v.text},d.title,c.createElement(g.a,{onClick:r,name:"changePlanNotification",className:v.changePlanBtn},c.createElement("b",null,d.button.switchTo,c.createElement("span",{className:v.price},d.button.price(c.createElement(b.a,Object(s.a)(Object(o.a)({},n.pricePerYear),{periodInMonths:12}))))))))))};var y,O=n("fC5a"),S=n("wuWi"),C=n("7IMz"),w=n("a5gI"),k=n("nWMp"),E=n("NbNH"),j=n("2swC"),_=(k.a.style({display:"flex",flexDirection:"column",width:"100vw",height:"100vh",background:j.a.CoreNeutral1,justifyContent:"center",alignItems:"center"}),k.a.style({padding:k.a.rem(1.5),width:k.a.rem(E.v-E.b),borderRadius:k.a.rem(E.s),background:j.a.CoreNeutral0,boxShadow:j.b.Z300,transform:"translateX(".concat(k.a.rem(-1*(E.p-E.c+E.b)),")"),$nest:Object(w.a)({},"@media (".concat(E.y,")"),{width:k.a.rem(E.w-E.b)})})),x=k.a.style({display:"flex",marginBottom:k.a.rem(1)}),A=(k.a.style({marginBottom:k.a.rem(1)}),k.a.style({marginBottom:k.a.rem(1),fontWeight:700})),I=(k.a.style({marginLeft:k.a.rem(.5)}),k.a.style({maxWidth:"100%"})),T=k.a.style({paddingRight:k.a.rem(.5),paddingLeft:k.a.rem(.5)}),M=k.a.joinClasses([k.a.style({marginRight:k.a.rem(.5),marginLeft:k.a.rem(-.5),textTransform:"none",letterSpacing:"normal",fontSize:k.a.rem(j.h.BodySize)}),T]);(y||(y={})).View=function(e){var t=e.name,n=e.title,a=e.description,r=e.cta,i=e.dismiss,o=e.topPart,s=e.rightPart,l=e.onCTA,u=e.onDismiss,d=e.onShow;return C.a.useEffectOnDidMount((function(){return d&&d()})),c.createElement("section",{className:_},o,c.createElement("div",{className:x},c.createElement("div",null,c.createElement(S.a,{className:A},n),c.createElement(S.a,null,a)),s),c.createElement("div",{className:I},c.createElement(O.a.Ghost,{name:t,className:M,onClick:l},r),c.createElement(O.a.Flat,{name:"dismiss.".concat(t),className:T,onClick:u},i)))};var P,N=n("jY3z"),D=function(e){var t=e.className;return c.createElement("svg",{viewBox:"0 0 68 68",width:"68",height:"68",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},c.createElement("path",{d:"M12.965 22.107c3.688-6.33 10.104-10.96 17.954-11.942 4.466-.621 8.752.094 12.604 1.714.68.292 1.411.648 2.027.994.616.346 1.284.755 1.9 1.102a23.872 23.872 0 016.326 6.12c.467.686.987 1.435 1.391 2.175.35.676.701 1.352.998 1.965.872 2.073 1.552 4.305 1.808 6.678.831 6.42-1.022 12.61-4.636 17.478-.806 1.107-1.718 2.088-2.683 3.006-1.484 1.461-3.18 2.67-4.92 3.698-2.662 1.48-5.578 2.526-8.793 2.96-5.77.745-11.235-.6-15.809-3.338a18.989 18.989 0 01-3.523-2.65",stroke:"#8383EF"}),c.createElement("path",{d:"M31.985 18.544c.297-.034.594-.067.827-.048M34.467 18.401c1.995.051 3.841.443 5.592 1.238M40.791 19.995c.223.136.51.22.733.356.392.21.838.482 1.23.692 1.55 1.071 3.015 2.43 4.109 3.992.308.496.68.94.87 1.426.255.433.457.803.648 1.289a16.01 16.01 0 011.202 4.275c.565 4.163-.621 8.178-2.964 11.33-.53.66-1.124 1.374-1.707 1.972A16.193 16.193 0 0141.7 47.7c-1.24.718-2.64 1.246-4.083 1.594",stroke:"#00B18F"}),c.createElement("path",{d:"M34.82 41.18a7.096 7.096 0 01-4.615-.978c-.392-.21-.721-.473-1.05-.736-.16-.19-.436-.39-.595-.579-.85-1.012-1.497-2.302-1.657-3.785-.138-1.07-.044-2.12.274-3.033.021-.234.159-.457.233-.627.138-.224.223-.51.36-.734 1.05-1.851 2.937-3.22 5.26-3.552 1.305-.125 2.589-.016 3.66.486.17.073.393.21.563.283.17.073.392.21.562.283a6.731 6.731 0 011.837 1.801",stroke:"#1CA6D0"}),c.createElement("path",{d:"M8.764 63.084h18.649c3.813 0 6.933-3.139 6.933-6.974V32.818c0-3.835-3.12-6.973-6.933-6.973H8.764c-3.812 0-6.932 3.138-6.932 6.973V56.11c.07 3.836 3.12 6.974 6.932 6.974z",fill:"#F2F3FA",stroke:"#1C1E33"}),c.createElement("path",{d:"M18.123 54.297c6.012 0 10.885-4.902 10.885-10.949 0-6.046-4.873-10.948-10.884-10.948-6.012 0-10.885 4.902-10.885 10.948 0 6.047 4.873 10.949 10.884 10.949z",fill:"#AFE4F4",stroke:"#1C1E33"}),c.createElement("path",{d:"M8.14 47.672c-2.148-4.951-.277-10.67 4.091-13.529 1.872 0 4.16-.558 9.498 6.346a482.407 482.407 0 012.426 3.627c-1.11.627-2.218 1.045-2.218 1.045.97 2.093 3.05 5.37 1.317 7.88l-.832.42c-5.477 2.3-11.924-.21-14.281-5.789z",fill:"#fff",stroke:"#1C1E33"}),c.createElement("path",{d:"M19.302 36.096c-2.08-2.72-3.605-2.86-4.853-3.138-.277.14-.554.209-.901.348h-.07l-.831.419h-.07c-.277.14-.485.349-.762.488-1.248.907-2.288 2.022-3.05 3.347 0 .07-.07.07-.07.14-.138.209-.208.348-.277.558-.07.14-.139.209-.139.348-.069.14-.138.349-.208.558-.069.21-.138.349-.208.488-.069.14-.138.35-.138.489-.07.139-.07.348-.139.488-.07.14-.07.348-.139.488-.069.21-.069.349-.069.558-.07.14-.07.279-.07.418 0 .21 0 .419-.069.628V44.186c0 .348.07.697.14 1.045a11.92 11.92 0 001.039 3.138c.139.35.347.628.555.907.97 1.534 2.287 2.72 3.812 3.626.14-1.604-.623-3.696-1.317-5.37-1.109-2.72 1.317-3.068 2.565-1.882 1.248 1.116.902-.349.763-2.86-.07-3.556 2.773-5.509 4.506-6.694z",fill:"#1C1E33"}),c.createElement("path",{d:"M47.605 40.74H28.956c-3.813 0-6.932-3.139-6.932-6.974V10.474c0-3.835 3.12-6.973 6.932-6.973h18.649c3.813 0 6.932 3.138 6.932 6.973v23.292c0 3.835-3.12 6.974-6.932 6.974z",fill:"#fff",stroke:"#1C1E33"}),c.createElement("path",{d:"M38.246 31.954c-6.011 0-10.884-4.902-10.884-10.949s4.873-10.948 10.884-10.948c6.01 0 10.884 4.901 10.884 10.948 0 6.047-4.873 10.949-10.884 10.949z",fill:"#B9CDFF",stroke:"#1C1E33"}),c.createElement("path",{d:"M48.991 22.888c.971-5.37-2.149-10.46-7.07-12.204-1.803.419-4.16.419-7.835 8.438-.554 1.534-1.525 4.045-1.525 4.045 1.248.349 2.427.488 2.427.488-.486 2.232-1.803 5.928.485 7.95.277.07.555.14.901.21 5.893 1.045 11.578-2.93 12.617-8.927z",fill:"#fff",stroke:"#1C1E33"}),c.createElement("path",{d:"M45.04 24.84c1.178-2.37-1.179-3.975-1.872-2.58-.693 1.464-2.01 1.813-1.664.628.486-2.371 1.525-5.37-2.149-6.137-3.674-.697-3.882-3.975-2.98-6.555.831-.14 1.663-.21 2.564-.14 6.032.349 10.607 5.58 10.191 11.646-.208 3.417-1.941 6.346-4.506 8.229-.901-1.186-.416-3.487.416-5.09z",fill:"#1C1E33"}))},B=(n("9f0O"),n("AVfX"));(P||(P={})).View=function(e){var t=e.type,n=e.dismissCount,a=e.onShow,r=e.onCTA,i=e.onDismiss,o=c.useContext(l.a.Context).gbUpHook;return C.a.useEffectOnDidMount(a),c.createElement("section",{className:B.container},c.createElement(N.a.Regular,null,o.proTipBadge),c.createElement("div",{className:B.content},c.createElement("div",null,c.createElement(S.a,{className:B.title},o[t].title),c.createElement(S.a,null,o[t].description)),c.createElement(D,{className:B.image})),c.createElement("div",{className:B.buttonsContainer},c.createElement(O.a.Ghost,{name:t,className:B.ctaButton,onClick:r},o[t].cta),c.createElement(O.a.Flat,{name:"dismiss.".concat(t),className:B.dismissButton,onClick:i},1===n?o.dontShowAgain:o.dismiss)))};var L,F=n("s/43"),R=n("RRF2"),H=function(e){var t=e.expiryDate,n=e.notification,a=e.onShow,r=e.onDismiss,i=e.onUpdateBilling,o=c.useContext(l.a.Context).gbBillingMigration,s=R.d.Local.fullDate(R.d.Local.Timestamp.toLocal(t.getTime()));return c.useEffect(a),c.createElement(u.b.Wrapper,{notification:n,onClose:r},c.createElement("div",null,c.createElement(S.g,{className:V.title},o.title),c.createElement(F.a,null),c.createElement(S.a,{className:V.description},o.description(s)),c.createElement(F.a,null),c.createElement(g.a,{name:"addBillingInformation",onClick:i,className:V.cta},o.cta)))},V=k.a.prefixedStylesheet("gb_billing_migration_notification",{title:[{color:j.a.CoreNeutral0,lineHeight:k.a.rem(1.5)}],description:[{color:j.a.CoreNeutral0}],cta:[{fontWeight:600}]}),U=n("a7bV"),W=function(e){var t=e.notification,n=e.onClose,a=e.link,r=c.useContext(l.a.Context).gbRuleCreated;return c.createElement(u.a.Wrapper,{notification:t,onClose:n},c.createElement(u.b.Content,null,c.createElement("div",{className:K.wrapper},c.createElement("div",{className:K.content},c.createElement("div",null,r.ruleSaved),c.createElement(U.a,{href:a,target:"_blank",className:K.link},r.viewStyleGuide)))))},z={display:"flex",marginTop:k.a.rem(-1.1),marginBottom:k.a.rem(-.8),alignItems:"center",justifyContent:"space-between"},G={maxWidth:k.a.rem(14),wordWrap:"break-word",flexBasis:"auto",flexGrow:1,paddingTop:k.a.rem(.5),paddingRight:k.a.rem(2)},q={color:j.a.CoreBlue40,textDecoration:"none"},K=k.a.stylesheet({wrapper:[z],content:[G],link:[q]}),$=(n("SkKt"),n("Npab"));(L||(L={})).CardMute=function(e){var t=e.onClose,a=e.onShow,r=n("Je0D"),i=n("9pXQ"),o=c.useContext(l.a.Context).mutedAlerts.onboarding.cardMute;return c.useEffect((function(){return a()})),c.createElement("div",{className:$.wrapper},c.createElement("video",{className:$.media,muted:!0,autoPlay:!0,loop:!0,src:r,poster:i}),c.createElement(S.a,{className:$.description},o.description),c.createElement(g.a,{name:"gotItMutedOnboarding",className:$.btn,onClick:t},o.buttonText))};var Z,Y=n("CQgj"),X=n("DTwm"),Q=(n("9h2u"),n("fYz5"));!function(e){var t={content:{wrapper:Q.wrapper,icon:Q.icon}};e.View=function(e){var n=e.trialEndDate,a=e.notification,r=e.onManageSubscription,i=e.onClose,o=c.useContext(l.a.Context).premiumUngatingRenewalNotification,s=R.d.Local.fullDate(R.d.Local.Timestamp.toLocal(n.getTime())),d=Object(X.flow)(r,i);return c.createElement(u.b.Wrapper,{notification:a,onClose:i,theme:t},c.createElement(u.b.Content,null,c.createElement("div",{className:Q.content},c.createElement(h.d.Info,{width:18,className:Q.iconInfo}),c.createElement("div",{className:Q.message},c.createElement("div",{className:Q.title},o.title),o.message(s),c.createElement(g.a,{onClick:d,name:"manageSubscription",className:Q.manageSubscriptionBtn},o.cta)))))}}(Z||(Z={}));var J=function(){return c.createElement("svg",{"aria-hidden":!0,width:"300",height:"120",viewBox:"0 0 200 100",xmlns:"http://www.w3.org/2000/svg"},c.createElement("defs",null,c.createElement("radialGradient",{cy:"51.039%",fx:"50%",fy:"51.039%",r:"53.934%",gradientTransform:"matrix(0 1 -.99155 0 1.006 .01)",id:"a"},c.createElement("stop",{stopColor:"#03C1E2",offset:"0%"}),c.createElement("stop",{stopColor:"#0279D8",offset:"100%"}))),c.createElement("g",{fill:"none",fillRule:"evenodd"},c.createElement("path",{d:"M180.34 114.801c0 25.152-20.564 45.544-45.933 45.544-25.366 0-45.932-20.392-45.932-45.544 0-25.154 20.566-45.544 45.932-45.544 25.369 0 45.933 20.39 45.933 45.544",fill:"#15C39A"}),c.createElement("path",{d:"M143.47 120.973c-1.91 0-3.417 1.705-3.06 3.662.272 1.49 1.686 2.513 3.214 2.513h4.813l2.79-.389c-4.464 6.493-12.214 9.481-20.688 8.163-6.898-1.074-12.823-5.701-15.323-12.165-5.676-14.67 5.13-28.678 19.211-28.678 7.34 0 13.774 4.259 17.465 9.403.002 0 .004.107.004.111.98 1.4 2.92 1.802 4.333.83a3.03 3.03 0 0 0 .905-4.053h.022c-5.105-7.901-14.277-12.957-24.592-12.272-13.43.893-24.298 11.79-25.07 25.115-.898 15.505 11.506 28.164 26.933 28.164 8.104 0 15.36-3.499 20.302-9.16l-.585 3.247v2.935c0 1.513 1.029 2.917 2.533 3.186 1.975.352 3.692-1.143 3.692-3.036v-17.576H143.47",fill:"#FFF",fillRule:"nonzero"}),c.createElement("g",{transform:"translate(3 69.257)"},c.createElement("ellipse",{stroke:"#FFF",strokeWidth:"2.649",fill:"url(#a)",cx:"45.765",cy:"45.378",rx:"47.089",ry:"46.703"}),c.createElement("path",{fill:"#EDEDED",d:"M40.217 39.83l33.05-21.955-21.955 33.05-33.05 21.956z"}),c.createElement("path",{fill:"#FE4E4D",d:"M40.217 39.83l33.05-21.955-21.955 33.05z"}),c.createElement("path",{fillOpacity:".199",fill:"#1C1E29",d:"M73.268 17.875l-21.956 33.05-33.05 21.956z"}),c.createElement("path",{d:"M46.637 77.791v6.483H45.11V77.79h1.526zm-17.783-4.666l1.321.756-3.269 5.614-1.32-.756 3.268-5.614zm33.822 0l3.269 5.614-1.322.756-3.268-5.614 1.32-.756zM17.128 61.023l.763 1.31-5.662 3.242-.763-1.31 5.662-3.242zm57.273 0l5.662 3.242-.762 1.31-5.662-3.242.762-1.31zm10.59-16.293v1.513h-6.537V44.73h6.538zm-71.915 0v1.513H6.538V44.73h6.538zM79.41 25.369l.762 1.31-5.662 3.241-.762-1.31 5.662-3.241zm-67.29 0l5.662 3.241-.763 1.31-5.662-3.241.763-1.31zm52.692-14l1.321.757-3.269 5.614-1.32-.756 3.268-5.615zm-38.094 0l3.268 5.615-1.32.756-3.27-5.614 1.322-.757zm19.919-4.886v6.482H45.11V6.483h1.526z",fill:"#F3F5FA"})),c.createElement("g",null,c.createElement("path",{d:"M76.732 36.02h35.03a2.55 2.55 0 0 0 2.205-3.833L96.452 2.074a2.55 2.55 0 0 0-4.409 0L74.528 32.187a2.55 2.55 0 0 0 2.204 3.832z",fill:"#EA1537"}),c.createElement("path",{d:"M95.86 17.988l-.695 6.792h-1.859l-.694-6.792v-5.483h3.247v5.483zm.024 12.028h-3.272v-3.285h3.272v3.285z",fill:"#FFF",fillRule:"nonzero"}))))},ee=n("oZJ9"),te=n("4tRT"),ne=n("+vYo"),ae=n("Y8fD"),re=n("xk6L"),ie=n("mgiE"),oe=n("LzNK"),se=n("jSIJ"),ce=n("BSU1"),le=(n("ELx3"),n("+JBM")),ue=te.a.create(ie.g.isNone,(function(e){return e?ie.g.none:ie.g.some("closedByUser")})),de=function(e){var t=e.onClose,n=e.onGetStarted,a=c.useContext(l.a.Context).survey.proofitPromo,r=c.useContext(oe.a.Context),i=r.gnarSpec,o=r.pageId,s=ne.a.create(ie.g.none);return c.useEffect((function(){i.surveyPopupShow(o,se.p.ProofitPromo)}),[i,o]),C.a.useSubscriptionTo(s.pipe(re.b.compact,re.a.tap((function(e){return ae.a.isCloseAction(e)?t():"getStarted"===e?n():void 0})))),c.createElement(ce.c.WithOverlay,{key:"proofit-modal-notification",position:ce.b.BottomRight,isVisibleAtom:s.lens(ue),title:a.title,content:a.content,icon:c.createElement("picture",null,c.createElement("div",{className:le.proofitIconBig})),iconPosition:ce.a.Right,isCloseButton:!1,buttons:c.createElement(c.Fragment,null,c.createElement(O.a.Primary,{name:"getStartedBtn",className:le.getStartedBtn,onClick:function(){s.set(ie.g.some("getStarted")),i.professionalProofreadingButtonClick(o,"proofitPromo")}},a.actions.view),c.createElement(O.a.Caps,{name:"closeBtn",className:le.closeBtn,onClick:function(){return s.set(ie.g.some("closedByUser"))}},a.actions.close))})},pe=Object(s.a)(Object(o.a)({},p.a),{alertUndo:function(e,t){return c.createElement(m.a.Flexible,{notification:e,onClose:t("closedByUser"),action:t("undo"),params:e.args.params})},textRemoved:function(e,t){return c.createElement(fe,{action:t("undo")})},cardMuteOnboarding:function(e,t){return c.createElement(L.CardMute,{onShow:t("shown"),onClose:t("closedByUser")})},externalSurvey:function(e,t){return c.createElement(ee.a,{surveyType:e.args.surveyType,onClose:t("closedByUser"),onRemindLater:t("remindLater")})},proofitPromo:function(e,t){return c.createElement(de,{onClose:t("closedByUser"),onGetStarted:t("getStarted")})},premiumOnboardingSurvey:function(e,t){return c.createElement(f.a,{viewModel:e.args.viewModel,onClose:t("closedByUser")})},changePlanCta:function(e,t){return c.createElement(a.View,{notification:e,savedPrice:e.args.model.savedPrice,onClose:t("closedByUser"),onChangePlan:t("changePlan")})},gbUpHook:function(e,t){return c.createElement(P.View,{type:e.args.type,dismissCount:e.args.dismissCount,onShow:t("shown"),onCTA:t("cta"),onDismiss:t("dismiss")})},gbBillingMigration:function(e,t){return c.createElement(H,{notification:e,expiryDate:e.args.expiryDate,onShow:t("shown"),onUpdateBilling:t("cta"),onDismiss:t("closedByUser")})},changePlanSuccess:function(e){return c.createElement(he,{planName:e.args.planName})},premiumUngatingRenewal:function(e,t){return c.createElement(Z.View,{trialEndDate:e.args.trialEndDate,notification:e,onClose:t("closedByUser"),onManageSubscription:t("ctaManageSubscription")})},gbSatisfactionSurvey:function(e,t){return c.createElement(d.a,{viewModel:e.args.viewModel,onClose:t("closedByUser"),onComplete:t("completeSurvey")})},safariExtActivation:function(e,t){return c.createElement(me,{cta:t("activate"),close:t("closedByUser"),onShow:t("shown")})},obtainGrades:function(e,t){return c.createElement(Y.a.ObtainGrades,{onShow:t("shown"),onClose:t("closedByUser"),notification:e,viewModel:e.args.viewModel})},citationStyleChange:function(e){return c.createElement(ge,{citationStyle:e.args.citationStyle})},gbRuleCreated:function(e,t){return c.createElement(W,{notification:e,onClose:t("closedByUser"),link:e.args.link})}}),me=function(e){var t=e.cta,n=e.close,a=e.onShow,r=c.useContext(l.a.Context),i=r.safariExtActivationNotification,o=r.actions;return c.createElement(y.View,{title:i.title,description:i.description,cta:i.cta,dismiss:o.close,name:"safariExtActivationNotification",onCTA:t,onDismiss:n,onShow:a,rightPart:c.createElement(J,null)})},fe=function(e){var t=e.action,n=c.useContext(l.a.Context);return c.createElement(u.b.Content,null,c.createElement(m.a.Content,{action:t,content:n.textRemoved}))},he=function(e){var t=e.planName,n=c.useContext(l.a.Context).changePlan;return c.createElement(u.b.Content,null,n.successfulNotificationCopy(t))},ge=function(e){var t=e.citationStyle,n=c.useContext(l.a.Context);return c.createElement(u.b.Content,null,n.citation.citationStyleChangeNotification.content(n.goals.sections.format.formatTitle(t)))}},TXN2:function(e,t,n){"use strict";n.d(t,"f",(function(){return ne})),n.d(t,"k",(function(){return ae})),n.d(t,"e",(function(){return oe})),n.d(t,"q",(function(){return me})),n.d(t,"g",(function(){return fe})),n.d(t,"m",(function(){return he})),n.d(t,"l",(function(){return be})),n.d(t,"n",(function(){return ve})),n.d(t,"o",(function(){return ye})),n.d(t,"p",(function(){return Oe})),n.d(t,"i",(function(){return Se})),n.d(t,"h",(function(){return Ce})),n.d(t,"v",(function(){return we})),n.d(t,"c",(function(){return Ee})),n.d(t,"d",(function(){return je})),n.d(t,"b",(function(){return _e})),n.d(t,"a",(function(){return Ae})),n.d(t,"j",(function(){return Ie})),n.d(t,"z",(function(){return Ve})),n.d(t,"r",(function(){return Ue})),n.d(t,"s",(function(){return We})),n.d(t,"u",(function(){return ze})),n.d(t,"x",(function(){return Ge})),n.d(t,"y",(function(){return qe})),n.d(t,"t",(function(){return wt})),n.d(t,"w",(function(){return kt}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("DTwm"),s=n("tiWp"),c=n("4GyQ"),l=n("OwvP"),u=n("+vYo"),d=n("0Qjk"),p=n("RYaW"),m=n("TKPA"),f=n("mgiE"),h=n("RRF2"),g=n("2swC"),b=n("M3t0"),v=n("ksEe"),y=n("NDcT"),O=n("jY3z"),S=n("fC5a"),C=n("+bR4"),w=n("ySi0"),k=n("IRug"),E=n("2qi0"),j=n("f82Z"),_=n("opJU"),x=n("D6wy"),A=n("wuWi"),I=n("Hj2R"),T=n("nWMp"),M=n("NbNH"),P=n("7IMz"),N=n("xk6L"),D=n("uxqH"),B=n("ZDrO"),L=n("hzat"),F=n("SOPW"),R=n("4wwO"),H=n("itj6"),V=n("eAYH"),U=n("KH+i"),W=n("h+d6"),z=n("6+at"),G=n("7Cqk"),q=n("/Q61"),K=n("6fTk"),$=n("9bwL"),Z=n("CBmo"),Y=n("zpyO"),X=n("aYCJ"),Q=n("JRBS"),J=n("jEie");const ee=Object(m.l)(b.d.Logging.getLogger);var te;!function(e){var t=e.actionRegex=/^#([\w\d_-]+)$/;e.parse=e=>Object(s.pipe)(f.g.fromNullable(e.match(t)),f.g.chain(e=>{switch(e[1]){case"set-goals":return f.g.some(H.b.Type.openSetGoals);case"ideas-gallery":return f.g.some(H.b.Type.openIdeasGallery);default:return f.g.none}}))}(te||(te={}));const ne=({description:e,actions:t,layoutDensity:n,className:r})=>{const o=i.useContext(y.a.Context),l=i.useContext(_.a.Context),{ref:u,onMount:d}=P.a.useElWatcher();P.a.useSubscriptionTo(u.pipe(N.b.compact,N.a.switchMap(e=>Array.from(e.getElementsByTagName("a")).reduce((e,n)=>{const a=N.a.fromEvent(n,"click").pipe(N.a.tap(e=>e.preventDefault()));return Object(s.pipe)(f.g.fromNullable(n.getAttribute("href")),f.g.chain(te.parse),f.g.fold(()=>(ee("Description").error("Invalid action",n),e.pipe(N.a.merge(a))),r=>N.a.mergeStatic(e,r in o.card.actionDescription&&r!==H.b.Type.openIdeasGallery?l.getTooltipObservable(n,o.card.actionDescription[r],"auto",f.g.none):N.a.EMPTY,a.pipe(N.a.mapTo({type:r}),N.a.tap(t)))))},N.a.EMPTY))));const p=Object(s.pipe)(n,U.a.Density.matchOrDefault(U.a.Density.minimal)(()=>jt.minimalDescription,()=>jt.description));return i.createElement(A.a,Object(a.a)({mount:d},Object(c.c)(p,r),K.a.renderToHtml(e,te.actionRegex)))},ae=({card:e,isChecking:t})=>I.a.isRated(e.activeAlert)?i.createElement(C.a,{value:F.a.isCardPresuccess(e.visualState)?D.a.MAX:e.meta.percentile,initValue:F.a.isCardPresuccess(e.visualState)?e.meta.percentile:D.a.MIN,isLoading:t}):null,re=({card:e})=>{const t=Object(C.b)(F.a.isCardPresuccess(e.visualState)?D.a.MAX:e.meta.percentile,F.a.isCardPresuccess(e.visualState)?e.meta.percentile:D.a.MIN);return i.createElement(l.a.Fragment,null,t.pipe(N.a.map(D.a.prism.reverseGet),N.a.map(e=>i.createElement(E.a,{percentage:e,colorType:E.a.ColorType.neoBlue,iconSize:E.a.IconSize.extraSmall,theme:{radialProgressBar:jt.circleProgress,radialProgressText:jt.circleText}}))))},ie=({card:e,feedbackActions:t,onClick:n,disabled:a})=>{const r=i.useContext(y.a.Context);return i.createElement(S.a.Ghost,{name:"ignore",title:r.dismiss,"aria-label":r.dismiss,onClick:B.d.callOnce(()=>{t.next({type:H.b.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:F.a.isEligibleForDismissSurvey(e),drilldownSuggestionIds:V.b.isSynfonyItem(e)?Object(s.pipe)(e.synfonySelection,f.g.getOrElse(()=>[])):void 0}),n&&n()}),disabled:a},i.createElement(w.d.Ignore,null))},oe=({card:e,feedbackActions:t,disabled:n,onClickDismissButton:a,alwaysShowWrongAndOffensiveButtons:r})=>i.createElement(i.Fragment,null,i.createElement(ie,{card:e,feedbackActions:t,onClick:a,disabled:n}),i.createElement(de,{id:e.id,activeAlert:e.activeAlert,onMute:Object(s.pipe)(e.muteCategory,f.g.map(n=>B.d.callOnce(()=>t.next({type:H.b.Type.muteAlertCategory,categoryId:n.id,id:e.id,viewType:e.activeAlert.type})))),onWrong:B.d.callOnce(B.d.callOnce(()=>t.next({type:H.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:d.a.AlertFeedbackType.WRONG_SUGGESTION}))),onOffensive:B.d.callOnce(B.d.callOnce(()=>t.next({type:H.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:d.a.AlertFeedbackType.OFFENSIVE_CONTENT}))),onVisibilityChange:e=>t.next({type:H.b.Type.moreActionsButtonToggle,mode:e?"open":"closed"}),alwaysShowWrongAndOffensiveButtons:r})),se=()=>{const e=i.useContext(y.a.Context);return i.createElement(i.Fragment,null,i.createElement(w.d.Mute,null),e.card.mute)},ce=()=>{const e=i.useContext(y.a.Context);return i.createElement(i.Fragment,null,i.createElement(w.d.Report,null),e.card.wrong)},le=()=>{const e=i.useContext(y.a.Context);return i.createElement(i.Fragment,null,i.createElement(w.d.Report,null),e.card.offensive)},ue=e=>Object(s.pipe)(e.extraProperties.vox,f.g.mapOrDefault(()=>null,i.createElement(le,null))),de=({id:e,activeAlert:t,onMute:n,onWrong:a,onOffensive:r,alwaysShowWrongAndOffensiveButtons:c=!1})=>{const l=i.useContext(y.a.Context),u=f.g.isSome(t.getTransform()),d=f.g.isSome(n),h=u||c,g={turnoff:Object(s.pipe)(n,f.g.getOrElse(()=>m.e)),incorrect:a,offensive:r};return Object(s.pipe)(d||h,f.g.fromPredicate(o.identity),f.g.map(()=>i.createElement(p.a.Dropdown,{id:e,placement:"bottom end",label:i.createElement(w.f.MoreVertical,null),"aria-label":l.card.moreActions,onAction:e=>g[e](),items:Object(s.pipe)([Object(s.pipe)(n,f.g.map(()=>[i.createElement(p.a.Item,{key:"turnoff",textValue:"turnoff"},i.createElement(se,null))]),f.g.map(e=>({key:"turnoff",children:e}))),Object(s.pipe)(u||c,f.g.fromPredicate(o.identity),f.g.map(()=>{const e=[i.createElement(p.a.Item,{key:"incorrect",textValue:"incorrect"},i.createElement(ce,null))],n=ue(t);return n&&e.push(i.createElement(p.a.Item,{key:"offensive",textValue:"offensive"},n)),e}),f.g.map(e=>({key:"wrongAndOffensive",children:e})))],f.a.filterMap(o.identity))},e=>i.createElement(p.a.Section,{key:e.key},e.children))),f.g.orNull)},pe=({card:e,onClick:t,mode:n="default"})=>{const o=i.useContext(y.a.Context),s=i.useContext(v.a.Context),c=i.useCallback(e=>{s.has(v.a.Flag.onlyTrustedEvents)&&!e.isTrusted||t()},[]),l=e.renderOptions.features.has(U.a.Features.showAnonymousUserFooters)?{disabled:!0,title:o.card.disabledForAnonymous}:{title:"mini"===n?o.card.addToDict:""};return e.activeAlert.extraProperties.hasAddToDictionary?i.createElement(S.a.Tertiary,Object(r.a)(Object(a.a)({},l),{name:"add-to-dict",onClick:c}),i.createElement(w.d.Dict,null),o.card.addToDict):null},me=({title:e,checkingInProgress:t,checkingMessage:n,applyMessage:o,onClick:s,disabled:l,className:u,spinnerClassName:d,messageClassName:p})=>i.createElement(S.a.Primary,Object(r.a)(Object(a.a)({key:"update-all",name:"update-all",title:e},Object(c.c)(t.pipe(N.a.map(Object(m.c)(Y.a.updateAllBtnLoading,Y.a.updateAllBtn))),u)),{disabled:t.view(e=>e||!0===l),children:t.pipe(N.a.map(Object(m.c)(i.createElement(i.Fragment,{key:"update-all-checking"},i.createElement("span",{className:p},h.f.capitalize(n)),i.createElement(j.a,{size:18,strokeWidth:2,wrapperClassName:Object(c.c)(Y.a.updateBtnSpinner,d).className,variation:"white"})),i.createElement(i.Fragment,{key:"update-all-checked"},h.f.capitalize(o))))),onClick:B.d.callOnce(s)})),fe=({card:e})=>Object(s.pipe)(ke(e.activeAlert,e.renderOptions.layoutDensity),f.g.map(t=>i.createElement($.b,{key:"card-actions-details",visualState:e.visualState,className:jt.more},t)),f.g.toNullable),he=({card:e,actions:t})=>we(e.activeAlert,e.renderOptions.layoutDensity)?i.createElement($.a,{key:"card-actions-button",mode:"default",actions:t,card:e}):V.b.isDefaultItem(e)?i.createElement(pe,{key:"card-actions-button",card:e,mode:"default",onClick:B.d.callOnce(()=>t.next({type:H.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:d.a.AlertFeedbackType.ADD_TO_DICTIONARY}))}):null,ge=e=>{const t=e.showDemoDocOnboardingA11yUpdates?{title:"Review suggestions",message:"Grammarly checks for mistakes and suggests ways to improve your text."}:{message:"Click a suggestion to accept it."};return i.createElement(z.b,{alignment:"bottom",eventType:"onclick",stepId:W.a.StepId.Step4,title:t.title,message:t.message,dotPosition:{kind:"findFirstButton",position:z.a.rightTop},themes:{containerWrapperClassName:jt.onboardingNotification}},e.children)},be=({onClick:e,rl:t,layoutDensity:n,a11yContrast:a,showDemoDocOnboardingA11yUpdates:r})=>i.createElement(ge,{showDemoDocOnboardingA11yUpdates:r},i.createElement(Q.f,{replacementsLabels:t,onClick:e,layoutDensity:n,a11yContrast:a})),ve=({text:e})=>i.createElement(A.i,Object(a.a)({className:jt.title},K.a.renderToHtml(e))),ye=({text:e})=>i.createElement(A.i,Object(a.a)({className:jt.titleMinimal},K.a.renderToHtml(e))),Oe=({alert:e})=>i.createElement(A.g,Object(a.a)({className:jt.title},K.a.renderToHtml(e.title))),Se=({alert:e,options:t,children:n,className:o,badge:s})=>{const u=i.useContext(y.a.Context);return i.createElement(l.a.Fragment,null,t.cardVisualMode.pipe(N.a.map(l=>i.createElement(q.a,Object(r.a)(Object(a.a)({activeAlert:e,cardVisualMode:l,showCardLabel:t.features.has(U.a.Features.showLabel),premiumAlertLabelHighlight:t.features.has(U.a.Features.showNewPremiumCardLabels)?q.b.new:t.features.has(U.a.Features.showPersistentPremiumCardLabels)?q.b.persistent:q.b.none,layoutDensity:t.layoutDensity},Object(c.c)(jt.label,o)),{badge:e.extraProperties.isBeta?i.createElement(O.a.Regular,{a11yContrast:t.features.has(U.a.Features.a11yContrast)},u.beta):s}),n))))},Ce=({text:e,layoutDensity:t})=>i.createElement("div",{className:jt.highlightedTextBox},i.createElement(A.a,{className:Object(s.pipe)(t,U.a.Density.matchOrDefault(U.a.Density.minimal)(()=>jt.minimalHighlightedTextInnerBox,()=>jt.highlightedTextInnerBox))},e));function we(e,t){return!e.extraProperties.hasAddToDictionary&&(!(!f.g.isSome(e.examples)&&!f.g.isSome(e.details))||!(t!==U.a.Density.minimal||!f.g.isSome(e.getTransform())||void 0===e.explanation||null===e.explanation||""===e.explanation))}const ke=(e,t)=>{if(!we(e,t))return f.g.empty();const n=Object(s.pipe)(t,U.a.Density.matchOrDefault(U.a.Density.minimal)(()=>jt.minimalDescription,()=>jt.description));return f.g.some(i.createElement(i.Fragment,null,Object(s.pipe)(t,U.a.Density.matchOrDefault(U.a.Density.minimal)(()=>f.g.isNone(e.details)?i.createElement(A.a,Object(a.a)({className:n},K.a.renderToHtml(e.explanation,te.actionRegex))):null,()=>null)),Object(s.pipe)(e.details,f.g.map(e=>i.createElement(A.a,Object(a.a)({className:n},K.a.renderToHtml(e)))),f.g.toNullable),Object(s.pipe)(e.examples,f.g.map(e=>i.createElement(X.a,{layoutDensity:t,examples:e})),f.g.toNullable)))},Ee=({isChecking:e})=>i.createElement(l.a.Fragment,null,e.pipe(N.a.map(e=>i.createElement(j.a,{className:e?jt.spinner:jt.spinnerInvisible,variation:"blue",isIdle:!e,size:32,strokeWidth:2})))),je=e=>{const[t,n]=i.useState(!0);return t?i.createElement(Te,{type:e.type,actions:e.actions,onClose:()=>n(!1)}):null},_e=({card:e,actions:t})=>{if(V.b.isEthicalAIItem(e)||V.b.isSuggestedSnippetItem(e)||V.b.isKnowledgeHubSuggestedTermItem(e))return null;if(!Object(s.pipe)(e.activeAlert.isFree)&&e.renderOptions.features.has(U.a.Features.showYellowFooterForTrialUsers))return i.createElement(Le,null);if(Object(s.pipe)(e.activeAlert.extraProperties.freePremium,f.g.contains("unlocked")))return i.createElement(De,null);if(Object(s.pipe)(e.activeAlert.extraProperties.premiumYellowFooterVariant,f.g.isSome))return Object(s.pipe)(e.activeAlert.extraProperties.premiumYellowFooterVariant,f.g.fold(()=>null,e=>i.createElement(Be,{variant:e})));if(!L.a.isFree(e.activeAlert)&&e.renderOptions.features.has(U.a.Features.showPremiumOnboarding))return i.createElement(Fe,null);if(!L.a.isFree(e.activeAlert)&&e.renderOptions.features.has(U.a.Features.showPremiumTrialFooters))return i.createElement(Ne,{actions:t});if(e.renderOptions.features.has(U.a.Features.showAnonymousUserFooters))return i.createElement(Pe,{actions:t,card:e});const n=e.renderOptions.isPremiumOnboarding||u.a.create(!1);return i.createElement(l.a.Fragment,null,n.view(n=>!L.a.isFree(e.activeAlert)&&Boolean(n)?i.createElement(Fe,null):Object(s.pipe)(e.renderOptions.layoutDensity,U.a.Density.matchOrDefault(U.a.Density.cozy)(()=>i.createElement(Me,{card:e,actions:t}),()=>Object(s.pipe)(e.activeAlert.extraProperties.fluencyMessage,f.g.fold(()=>i.createElement(Me,{card:e,actions:t}),e=>i.createElement(Re,{fluencyLabel:e})))))))};function xe(e,t,n){n.next({type:H.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:t},direction:e})}const Ae=({card:e,actions:t})=>{const n=i.useContext(y.a.Context).card.matchesNavigation;return i.createElement(l.a.Fragment,null,Object(s.pipe)(e,N.a.map(e=>i.createElement("div",{key:e.activeAlert.id,className:jt.bundleNavWrapper},i.createElement(A.a,{className:jt.bundleTitle},R.a.bundleTitle(e)),i.createElement("div",{className:jt.bundleNavMatchesRow},i.createElement(S.a.Ghost,{title:0!==e.activeAlertIndex?"Previous suggestion":void 0,className:jt.bundleNavButtonGhost,disabled:0===e.activeAlertIndex,name:"left",onClick:()=>xe("left",e,t)},i.createElement(w.d.Arrow,{className:jt.bundleNavLeftButtonIcon})),i.createElement(A.h,{className:jt.bundleNavCount},n.currentMatchPosition(e.activeAlertIndex+1,e.alerts.length)),i.createElement(S.a.Ghost,{title:e.activeAlertIndex!==e.alerts.length-1?"Next suggestion":void 0,className:jt.bundleNavButtonGhost,disabled:e.activeAlertIndex===e.alerts.length-1,name:"right",onClick:()=>xe("right",e,t)},i.createElement(w.d.Arrow,{className:jt.bundleNavRightButtonIcon})))))))},Ie=({card:e,actions:t,isChecking:n})=>i.createElement(i.Fragment,null,Object(s.pipe)(e.renderOptions.layoutDensity,U.a.Density.matchOrDefault(U.a.Density.minimal)(()=>I.a.isRated(e.activeAlert)?i.createElement(i.Fragment,null,i.createElement(re,{card:e}),i.createElement(ye,{text:e.activeAlert.miniCardTitle})):i.createElement(Se,{alert:e.activeAlert,options:e.renderOptions},i.createElement(ye,{text:e.activeAlert.miniCardTitle})),()=>i.createElement(i.Fragment,null,i.createElement(Se,{alert:e.activeAlert,options:e.renderOptions}),i.createElement(ve,{text:e.activeAlert.title}),i.createElement(ae,{card:e,isChecking:n})))),i.createElement(ne,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),Te=e=>{const t=i.useContext(y.a.Context),{title:n,content:a}=t.card.onboarding[e.type];return i.useLayoutEffect(()=>()=>e.actions.next({type:H.b.Type.onboardingClose,value:e.type})),i.createElement(k.b.AdHoc,{key:"new-notification",title:i.createElement(i.Fragment,null,n,i.createElement(O.a.Regular,{className:jt.newLabel},t.new)),className:jt.newCheckNotification,onClose:e.onClose},a)},Me=({actions:e,card:t})=>{const n=i.useContext(y.a.Context);return P.a.useEffectOnDidMount(()=>{t.meta.showMuteQuotedAdvice&&e.next({type:H.b.Type.muteQuotedAdviceShow})}),t.meta.showMuteQuotedAdvice?i.createElement(He.Base,{className:it},i.createElement("span",null,n.card.muteCitedText(i.createElement("button",{"data-name":"open-preferences-link",onClick:()=>e.next({type:H.b.Type.openPreferences})},n.documentSettings.editorSettings))),i.createElement(S.a,{name:"dismiss-mute-quoted-advice",onClick:()=>e.next({type:H.b.Type.dismissMuteQuotedAdvice})},i.createElement(w.d.Close,null))):null},Pe=({actions:e,card:t})=>{const n=i.useContext(y.a.Context),a=t.activeAlert.extraProperties.hasAddToDictionary?n.anonymousUserAddToDictionarySignInPrompt:n.anonymousUserGenericSignInPrompt;return i.createElement(He.Base,{className:jt.anonymousUserNotice},a(()=>{e.next({type:H.b.Type.toSignIn})}))},Ne=({actions:e})=>i.createElement(He.Small,{className:ot},i.createElement(w.d.PaidLink,{className:jt.iconWrapper,width:12}),i.useContext(y.a.Context).premiumFreeTrial(()=>{e.next({type:H.b.Type.premiumTrialFooterCtaClick})})),De=()=>{const{beforeIcon:e,afterIcon:t}=i.useContext(y.a.Context).freePremiumAlertFooter;return i.createElement(He.Small,{className:ct},e,i.createElement(w.d.PaidLink,{width:12}),t)},Be=({variant:e})=>{const t=i.useContext(y.a.Context).premiumFooter;return i.createElement(He.Small,{className:lt},i.createElement(w.d.PaidLink,{width:12}),t[e])},Le=()=>{const{freeTrialAlertFooter:e}=i.useContext(y.a.Context);return i.createElement(He.Small,{className:ct},i.createElement(w.d.PaidLink,{width:12}),e)},Fe=()=>{const{premiumOnboardingFooter:e}=i.useContext(y.a.Context);return i.createElement(He.Small,{className:st},i.createElement(w.d.PaidLink,{width:12}),e)},Re=({fluencyLabel:e})=>{const t=i.useContext(y.a.Context).card.fluency;return i.createElement(A.l,{className:jt.fluencyNotice},e,i.createElement(x.a,{title:t.tooltip},i.createElement(w.d.Info,{width:10,className:jt.fluencyInfo})))};var He;!function(e){function t(e){return({children:t,className:n})=>i.createElement(e,Object(c.c)(jt.cardFooter,n),t)}e.Small=t(A.l),e.Base=t(A.a)}(He||(He={}));function Ve(e){const{transformHidden:t,isMouseInside:n,transformHiddenObservable:a}=P.a.useMemoOnDidMount(()=>{const t=u.a.create(!1),n=new N.a.Subject,a=N.a.mergeStatic(N.a.combineLatestStatic([n,e]).pipe(N.a.map(([e,t])=>e&&t),N.a.filter(e=>!0===e),N.a.tap(()=>t.set(!0))),e.pipe(N.a.skip(1),N.a.filter(e=>!e),N.a.tap(()=>t.set(!1))));return{transformHidden:t,isMouseInside:n,transformHiddenObservable:a}});return P.a.useSubscriptionTo(a),{transformHidden:t,isMouseInside:n}}const Ue=({card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardTheme:o,cardBody:s,cardFooter:c,mainActions:l,subActions:u,cardExtra:d})=>{var p,f,h,g;const{transformHidden:b,isMouseInside:v}=Ve(n);return i.createElement(Z.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:H.b.Type.alertCardShow,cardType:H.b.getCardType(e),alertId:e.activeAlert.id}),onMouseOver:()=>{t.next({type:H.b.Type.hover,kind:"hover",id:e.id}),v.next(!0)},onMouseOut:()=>{t.next({type:H.b.Type.hover,kind:"unhover",id:e.id}),v.next(!1)},theme:Object(a.a)({content:r.pipe(N.a.map(Object(m.c)(jt.loadingWrapperInvisible,jt.loadingWrapper)))},Object(J.b)(e.renderOptions),o),extra:i.createElement(i.Fragment,null,i.createElement(Ee,{isChecking:r}),null===(p=d)||void 0===p?void 0:p()),body:s(b),mainActions:null===(f=l)||void 0===f?void 0:f(),footer:null===(h=c)||void 0===h?void 0:h(b),subActions:null===(g=u)||void 0===g?void 0:g()})},We=({card:e,actions:t,isChecking:n,body:a,footer:r,alwaysShowWrongAndOffensiveButtons:o})=>i.createElement(Z.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:H.b.Type.alertCardShow,cardType:H.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object(J.b)(e.renderOptions),body:null!=a?a:i.createElement(Ie,{card:e,actions:t,isChecking:n}),mainActions:i.createElement(oe,{card:e,feedbackActions:t,alwaysShowWrongAndOffensiveButtons:o}),footer:null!=r?r:i.createElement(fe,{card:e}),subActions:i.createElement(he,{card:e,actions:t}),extra:i.createElement(_e,{card:e,actions:t})}),ze={wordWrap:"break-word",overflowWrap:"break-word",$nest:{"& a":{borderBottom:"1px solid",display:"inline",textDecoration:"none",$nest:{"&:link, &:visited":{color:g.a.CoreBlue50}}},"& b":{fontStyle:"italic",fontFeatureSettings:`${M.e}, ${M.f}`},"& ul":{margin:T.a.rem(.75)+" 0 0",padding:0,listStyle:"none"},"& li":{position:"relative",paddingLeft:T.a.rem(1.5),$nest:{"&:before":{position:"absolute",left:0,content:"'\\2022'"}}},"& li + li":{marginTop:T.a.rem(.5)}}},Ge={lineHeight:T.a.rem(1.3125),$nest:{"& a":{display:"initial"}}},qe={$nest:{"& i":{color:g.a.CoreNeutral50},"& > * + *":{marginTop:T.a.rem(.75)}}},Ke={fontWeight:"bold",textTransform:"none",$nest:{"&:first-letter":{textTransform:"uppercase"},"& i":{color:g.a.CoreRed50}}},$e={marginTop:T.a.important(0),lineHeight:T.a.rem(1.125)},Ze={fontSize:T.a.rem(g.h.SubheadingSize),lineHeight:T.a.rem(g.h.SubheadingLineHeight)},Ye={width:T.a.rem(2),height:T.a.rem(2)},Xe={position:"absolute",top:`calc(50% - ${T.a.rem(1)})`,left:`calc(50% - ${T.a.rem(1)})`,width:T.a.rem(2),height:T.a.rem(2),transition:"opacity .2s"},Qe={marginLeft:T.a.rem(.5),backgroundColor:g.a.CoreGreen50,color:g.a.CoreNeutral0,fontWeight:600},Je={position:"absolute",marginTop:T.a.rem(-8.5),marginLeft:T.a.rem(-2),$nest:{"&:after":{position:"absolute",bottom:T.a.rem(-.525),left:T.a.rem(.7),borderTop:`${T.a.rem(.625)} solid ${g.a.BackgroundNotification}`,borderRight:T.a.rem(.5)+" solid transparent",borderLeft:T.a.rem(.5)+" solid transparent",content:"' '"}}},et={background:"linear-gradient(269.88deg, rgba(228, 244, 247, .6) .02%, rgba(215, 248, 240, .6) 50.81%, rgba(202, 227, 250, .6) 99.98%)"},tt={position:"absolute",top:T.a.rem(.75),left:T.a.rem(.4)},nt={color:g.a.CoreNeutral90,$nest:{"& a":{fontWeight:800,color:g.a.CoreBlue50,$nest:{"&:link, &:visited":{color:g.a.CoreBlue50},"&:hover":{borderBottom:"1px solid "+g.a.CoreBlue40,color:g.a.CoreBlue40}}}}},at={display:"flex",borderRadius:`${M.r} ${M.r} ${T.a.rem(M.s)} ${T.a.rem(M.s)}`,color:g.a.CoreNeutral50,padding:`${T.a.rem(.5)} ${T.a.rem(.75)} ${T.a.rem(.5)} ${T.a.rem(1)}`,fontSize:T.a.rem(.6875),lineHeight:T.a.rem(1.125)},rt={padding:"0 "+T.a.rem(.6),minWidth:T.a.rem(.625),minHeight:T.a.rem(.625)},it=T.a.joinClasses(["muteQuotedAdvice",T.a.style({$nest:{"& button":{border:0,textDecoration:"underline",textUnderlineOffset:2,color:g.a.CoreBlue50,background:"none",padding:0,$nest:{"&:link, &:visited":{color:g.a.CoreBlue50},"&:hover":{color:g.a.CoreBlue40}}},"& i:hover":{strokeWidth:T.a.px(2)}}})]),ot=T.a.joinClasses(["premiumFreeTrial",T.a.style({$nest:{"& svg":{fill:g.a.CoreYellow80},"& a":{fontWeight:800,color:g.a.CoreYellow70,$nest:{"&:link, &:visited":{color:g.a.CoreYellow80},"&:hover":{borderBottom:"1px solid "+g.a.CoreYellow60,color:g.a.CoreYellow60}}}}})]),st=T.a.joinClasses(["premiumAlertFooter",T.a.style({justifyContent:"center"})]),ct=T.a.joinClasses(["premiumAlertFooter",T.a.style({justifyContent:"start",padding:T.a.important(`${T.a.rem(.5)} ${T.a.rem(1)}`)})]),lt=T.a.joinClasses(["premiumAlertFooter",T.a.style({justifyContent:"start",padding:T.a.important(`${T.a.rem(.5)} ${T.a.rem(1)} ${T.a.rem(.5)} ${T.a.rem(1.75)}`)})]),ut={display:"block",boxSizing:"border-box",padding:`${T.a.rem(1)} ${T.a.rem(1)} ${T.a.rem(1)} ${T.a.rem(1.5)}`,width:T.a.percent(100),borderRadius:`${M.r} ${M.r} ${T.a.rem(M.s)} ${T.a.rem(M.s)}`,$nest:{"& a":{cursor:"pointer",transition:"color .2s"},"&.muteQuotedAdvice":{display:"flex",padding:`${T.a.rem(1)} ${T.a.rem(1)} ${T.a.rem(1)} ${T.a.rem(2)}`,background:g.a.CoreNeutral10,color:g.a.CoreNeutral90,justifyContent:"space-between",alignItems:"center"},"&.premiumFreeTrial":{padding:`${T.a.rem(1)} ${T.a.rem(1)} ${T.a.rem(1)} ${T.a.rem(2)}`,position:"relative",background:g.a.CoreYellow20,color:g.a.CoreNeutral90},"&.premiumAlertFooter":{display:"flex",alignItems:"center",padding:T.a.rem(.5),background:g.a.CoreYellow20,color:g.a.CoreYellow80,$nest:{"& svg":{margin:"0 "+T.a.rem(.25),fill:g.a.CoreYellow80}}}}},dt={position:"absolute",top:T.a.rem(.8),left:T.a.rem(.5),minWidth:T.a.rem(1),minHeight:T.a.rem(1)},pt={fontWeight:"bold",fontSize:T.a.rem(.875),lineHeight:T.a.rem(1.125),flex:2},mt={padding:`${T.a.rem(.625)} 0 ${T.a.rem(.1875)} ${T.a.rem(.5)}`,marginBottom:T.a.rem(.25),display:"flex",justifyContent:"space-between",alignItems:"center"},ft={fontSize:T.a.rem(.75),lineHeight:T.a.rem(1.125),color:g.a.CoreNeutral90},ht={display:"flex",justifyContent:"flex-end",alignItems:"center",height:T.a.rem(1.5),$nest:{"& > * + *":{marginLeft:T.a.rem(.25)},"& > *":{borderRadius:T.a.rem(M.t)}}},gt={height:T.a.rem(2),minHeight:T.a.rem(2),width:T.a.rem(2),fill:g.a.CoreNeutral90,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{cursor:"pointer",fill:g.a.CoreBlue50},"&[data-disabled='true']":{fill:g.a.CoreNeutral30}}},bt={borderRadius:T.a.rem(.75),background:g.a.CoreNeutral20,margin:`${T.a.rem(-.25)} ${T.a.rem(-.25)}`,padding:`${T.a.rem(.25)} ${T.a.rem(.25)}`,$nest:{["& ."+G.b.cozyCardContainerSelector]:{margin:0,boxShadow:"none"},["& ."+G.b.fullCardSelector]:{padding:`${T.a.rem(.75)} ${T.a.rem(.5)} ${T.a.rem(.5)} ${T.a.rem(1)}`},"& [data-role=dropdown-list]":{transform:`translateY(${T.a.rem(-.5)})`}}},vt={paddingTop:T.a.rem(.25),paddingBottom:T.a.rem(.5),paddingLeft:T.a.rem(.5),paddingRight:T.a.rem(.5),fontWeight:"bold",fontSize:T.a.rem(.875),lineHeight:T.a.rem(1.125)};function yt(e,t){return{display:["block","-webkit-box"],maxHeight:T.a.rem(e*t),overflow:"hidden",overflowWrap:"anywhere",whiteSpace:"pre-wrap",textOverflow:"ellipsis","-webkit-line-clamp":t,WebkitBoxOrient:"vertical"}}const Ot=Object(r.a)(Object(a.a)({},yt(1.5,3)),{lineHeight:T.a.rem(1.5)}),St=Object(r.a)(Object(a.a)({},yt(1.3125,3)),{lineHeight:T.a.rem(1.3125)}),Ct={padding:T.a.rem(.5),borderRadius:T.a.rem(M.t),background:g.a.CoreNeutral10,color:g.a.CoreNeutral90,fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${M.e}, ${M.f}`},wt=.25,kt={opacity:0,pointerEvents:"none"},Et={transition:"opacity "+T.a.seconds(wt)},jt=T.a.stylesheet({loadingWrapper:[Et],loadingWrapperInvisible:[Et,kt],description:[ze],minimalDescription:[ze,Ge],more:[qe],onboardingNotification:[{display:"block"}],title:[Ke],titleMinimal:[Ke,$e],label:[Ze],dropdownContainer:[Ye],spinner:[Xe],spinnerInvisible:[Xe,{opacity:0,pointerEvents:"none"}],newLabel:[Qe],newCheckNotification:[Je],baseNotice:[et],iconWrapper:[tt],anonymousUserNotice:[et,nt],fluencyNotice:[et,at],fluencyInfo:[rt],cardFooter:[ut],circleProgress:[dt],circleText:[{display:"none"}],bundleTitle:[pt],bundleNavWrapper:[mt],bundleNavCount:[ft],bundleNavMatchesRow:[ht],bundleNavButtonGhost:[{$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:"rgba(198, 203, 222, .5)"}}}],bundleNavButton:[gt],bundleNavLeftButtonIcon:[gt,{transform:"rotate(90deg)"}],bundleNavRightButtonIcon:[gt,{transform:"rotate(270deg)"}],cardWrapper:[bt],cardWrapperTitle:[vt],highlightedTextBox:[Ct],highlightedTextInnerBox:[Ot],minimalHighlightedTextInnerBox:[St]})},TaaI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("Wy1Y"),r=n("uKMM"),i=n("a5gI"),o=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;Object(a.a)(this,e),Object(i.a)(this,"_task",void 0),Object(i.a)(this,"_buffer",void 0),Object(i.a)(this,"_run",void 0),Object(i.a)(this,"_batchSize",void 0),Object(i.a)(this,"_sub",void 0),this._task=t,this._buffer=n,this._run=r,this._batchSize=o,this._sub=null}return Object(r.a)(e,[{key:"put",value:function(e){this._buffer.put(e),null===this._sub&&this._buffer.nonEmpty&&this._scheduleWork()}},{key:"order",value:function(e){this._buffer.order(e)}},{key:"flush",value:function(){this._task(this._buffer.take(this._buffer.length))}},{key:"length",get:function(){return this._buffer.length}},{key:"_scheduleWork",value:function(){var e=this;this._sub=this._run((function(){e._task(e._buffer.take(e._batchSize)),e._sub=null,e._buffer.nonEmpty&&e._scheduleWork()}))}},{key:"shutdown",value:function(){this._sub&&(this._sub.unsubscribe(),this._sub=null)}}]),e}()},ThYs:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var a=n("zCOz"),r=n("B8yO"),i=n.n(r),o=n("Q2+j");const s={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function c(e={}){let{style:t,isFocusable:n}=e,[a,i]=(0,r.useState)(!1),{focusWithinProps:c}=(0,o.g)({isDisabled:!n,onFocusWithinChange:e=>i(e)});return{visuallyHiddenProps:{...c,style:(0,r.useMemo)(()=>a?t:t?{...s,...t}:s,[a])}}}function l(e){let{children:t,elementType:n="div",isFocusable:r,style:o,...s}=e,{visuallyHiddenProps:l}=c(e);return i.a.createElement(n,(0,a.l)(s,l),t)}},TncE:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n("a5gI"),r=n("8O/t"),i=n("X76w"),o=n("nWMp"),s=n("fB2g"),c=n("2swC"),l=function(e){return Object(a.a)({},"&-".concat(e),{marginLeft:o.a.rem(3+1.5*e)})},u=function(e,t){return{counterIncrement:"list".concat(e),counterReset:t}},d=function(e,t){return{"&:before":{content:"counter(list".concat(e,", ").concat(t,") '. '")}}},p=function(e,t,n){return Object(a.a)({},"&-".concat(e),Object(i.a)(Object(r.a)({},u(e,n)),{$nest:d(e,t)}))},m={editorContainer:"".concat("editor-","editorContainer"),rtfLink:"".concat("editor-","rtfLink"),bigSize:"".concat("editor-","bigSize")},f="0 0 ".concat(o.a.rem(.5)),h=function(e,t,n){return{margin:f,fontSize:o.a.rem(e),lineHeight:o.a.rem(t),$nest:{"&:not(:first-child)":{marginTop:o.a.rem(n)}}}},g={position:"relative",overflow:"hidden",minHeight:o.a.rem(5),outline:"none",border:"none",resize:"none",$nest:Object(a.a)({"& p":{margin:0,padding:0},"& h1":h(1.375,2,2),"& h2":h(1.125,1.7,1),"& ol, & ul":{margin:"0 0 ".concat(o.a.rem(.5)),paddingLeft:0},"& ol:not(:first-child), & ul:not(:first-child)":{marginTop:o.a.rem(.5)},"& li":{margin:"0 0 0 ".concat(o.a.rem(3)),paddingRight:0,listStyleType:"none",$nest:Object(a.a)({"&:before":{display:"inline-block",marginRight:o.a.rem(.5),marginLeft:o.a.rem(-3),width:o.a.rem(2.5),textAlign:"right",whiteSpace:"nowrap",lineHeight:o.a.rem(1.375)}},".".concat(m.bigSize," &"),{$nest:{"&:before":{lineHeight:o.a.rem(1.65)}}})},"& .ql-indent":{$nest:Object(r.a)({},l(1),l(2),l(3),l(4),l(5),l(6),l(7),l(8))},"& ul li":{$nest:{"&:before":{content:"'\\2022'"}}},"& ul[data-type='dashed'] li":{$nest:{"&:before":{content:"'-'"}}},"& ol li":Object(i.a)(Object(r.a)({},u(0,"list1 list2 list3 list4 list5 list6 list7 list8")),{listStyleType:"none",$nest:Object(i.a)(Object(r.a)({},d(0,"decimal")),{"&.ql-indent":{$nest:Object(r.a)({},p(1,"lower-alpha","list2 list3 list4 list5 list6 list7 list8"),p(2,"lower-roman","list3 list4 list5 list6 list7 list8"),p(3,"decimal","list4 list5 list6 list7 list8"),p(4,"lower-alpha","list5 list6 list7 list8"),p(5,"lower-roman","list6 list7 list8"),p(6,"decimal","list7 list8"),p(7,"lower-alpha","list8"),p(8,"lower-roman","none"))}})})},"& .".concat(m.rtfLink),{color:c.a.CoreBlue50,$nest:{"&:visited":{color:c.a.CoreBlue50}}})},b={fontSize:o.a.rem(1.375),lineHeight:o.a.rem(2.5),$nest:{"& h1":{fontSize:o.a.rem(1.65),lineHeight:o.a.rem(3)},"& h2":{fontSize:o.a.rem(1.375),lineHeight:o.a.rem(2.5)}}},v={editorContainer:o.a.joinClasses([m.editorContainer,o.a.style(g),o.a.style({paddingBottom:"40vh"}),s.a.style(g)]),bigSize:o.a.joinClasses([m.bigSize,o.a.style(b),s.a.style(b)]),rtfLink:o.a.joinClasses([m.rtfLink])}},Tqii:function(e){e.exports=JSON.parse('{"rtfDisabled":"_d2767f2d-formatting-toolbar-rtfDisabled","rtfTooltip":"_022927cb-formatting-toolbar-rtfTooltip","rtfDisabledMessage":"_0495527e-formatting-toolbar-rtfDisabledMessage"}')},TtyI:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return u}));var a=n("B8yO"),r=n("ZqXC"),i=n("zCOz"),o=n("Q2+j"),s=n("M+v9");function c(e){return(0,i.e)()?e.altKey:e.ctrlKey}function l(e){return(0,i.g)()?e.metaKey:e.ctrlKey}function u(e){let{keyboardDelegate:t,selectionManager:n,onTypeSelect:r}=e,i=(0,a.useRef)({search:"",timeout:null}).current;return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?e=>{let a=function(e){return 1!==e.length&&/^[A-Z]/i.test(e)?"":e}(e.key);if(!a||e.ctrlKey||e.metaKey||!e.currentTarget.contains(e.target))return;" "===a&&i.search.trim().length>0&&(e.preventDefault(),"continuePropagation"in e||e.stopPropagation()),i.search+=a;let o=t.getKeyForSearch(i.search,n.focusedKey);null==o&&(o=t.getKeyForSearch(i.search)),null!=o&&(n.setFocusedKey(o),r&&r(o)),clearTimeout(i.timeout),i.timeout=setTimeout(()=>{i.search=""},1e3)}:null}}}function d(e){let{selectionManager:t,keyboardDelegate:n,ref:d,autoFocus:p=!1,shouldFocusWrap:m=!1,disallowEmptySelection:f=!1,disallowSelectAll:h=!1,selectOnFocus:g="replace"===t.selectionBehavior,disallowTypeAhead:b=!1,shouldUseVirtualFocus:v,allowsTabNavigation:y=!1,isVirtualized:O,scrollRef:S=d}=e,{direction:C}=(0,s.b)(),w=(0,a.useRef)({top:0,left:0});(0,i.t)(S,"scroll",O?null:()=>{w.current={top:S.current.scrollTop,left:S.current.scrollLeft}});const k=(0,a.useRef)(p);(0,a.useEffect)(()=>{if(k.current){let e=null;"first"===p&&(e=n.getFirstKey()),"last"===p&&(e=n.getLastKey());let a=t.selectedKeys;a.size&&(e=a.values().next().value),t.setFocused(!0),t.setFocusedKey(e),null!=e||v||(0,r.b)(d.current)}k.current=!1},[]);let E=(0,a.useRef)(t.focusedKey);(0,a.useEffect)(()=>{let e=(0,o.b)();if(t.isFocused&&null!=t.focusedKey&&(null==S?void 0:S.current)){let n=S.current.querySelector(`[data-key="${t.focusedKey}"]`);n&&"keyboard"===e&&(O||(0,i.o)(S.current,n),(0,i.p)(n,{containingElement:d.current}))}t.isFocused&&null==t.focusedKey&&null!=E.current&&(0,r.b)(d.current),E.current=t.focusedKey},[O,S,t.focusedKey,t.isFocused,d]);let j,_={onKeyDown:e=>{if(e.altKey&&"Tab"===e.key&&e.preventDefault(),!d.current.contains(e.target))return;const a=(n,a)=>{null!=n&&(t.setFocusedKey(n,a),e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(n):g&&!c(e)&&t.replaceSelection(n))};switch(e.key){case"ArrowDown":if(n.getKeyBelow){var o,s;e.preventDefault();let r=null!=t.focusedKey?n.getKeyBelow(t.focusedKey):null===(o=n.getFirstKey)||void 0===o?void 0:o.call(n);null==r&&m&&(r=null===(s=n.getFirstKey)||void 0===s?void 0:s.call(n,t.focusedKey)),a(r)}break;case"ArrowUp":if(n.getKeyAbove){var u,p;e.preventDefault();let r=null!=t.focusedKey?n.getKeyAbove(t.focusedKey):null===(u=n.getLastKey)||void 0===u?void 0:u.call(n);null==r&&m&&(r=null===(p=n.getLastKey)||void 0===p?void 0:p.call(n,t.focusedKey)),a(r)}break;case"ArrowLeft":if(n.getKeyLeftOf){var b,v;e.preventDefault();let r=n.getKeyLeftOf(t.focusedKey);null==r&&m&&(r="rtl"===C?null===(b=n.getFirstKey)||void 0===b?void 0:b.call(n,t.focusedKey):null===(v=n.getLastKey)||void 0===v?void 0:v.call(n,t.focusedKey)),a(r,"rtl"===C?"first":"last")}break;case"ArrowRight":if(n.getKeyRightOf){var O,S;e.preventDefault();let r=n.getKeyRightOf(t.focusedKey);null==r&&m&&(r="rtl"===C?null===(O=n.getLastKey)||void 0===O?void 0:O.call(n,t.focusedKey):null===(S=n.getFirstKey)||void 0===S?void 0:S.call(n,t.focusedKey)),a(r,"rtl"===C?"last":"first")}break;case"Home":if(n.getFirstKey){e.preventDefault();let a=n.getFirstKey(t.focusedKey,l(e));t.setFocusedKey(a),l(e)&&e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(a):g&&t.replaceSelection(a)}break;case"End":if(n.getLastKey){e.preventDefault();let a=n.getLastKey(t.focusedKey,l(e));t.setFocusedKey(a),l(e)&&e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(a):g&&t.replaceSelection(a)}break;case"PageDown":if(n.getKeyPageBelow){e.preventDefault(),a(n.getKeyPageBelow(t.focusedKey))}break;case"PageUp":if(n.getKeyPageAbove){e.preventDefault(),a(n.getKeyPageAbove(t.focusedKey))}break;case"a":l(e)&&"multiple"===t.selectionMode&&!0!==h&&(e.preventDefault(),t.selectAll());break;case"Escape":e.preventDefault(),f||t.clearSelection();break;case"Tab":if(!y){if(e.shiftKey)d.current.focus();else{let e,t,n=(0,r.c)(d.current,{tabbable:!0});do{t=n.lastChild(),t&&(e=t)}while(t);e&&!e.contains(document.activeElement)&&(0,i.c)(e)}break}}},onFocus:e=>{if(t.isFocused)e.currentTarget.contains(e.target)||t.setFocused(!1);else if(e.currentTarget.contains(e.target)){if(t.setFocused(!0),null==t.focusedKey){let i=e=>{null!=e&&(t.setFocusedKey(e),g&&t.replaceSelection(e))},o=e.relatedTarget;var a,r;o&&e.currentTarget.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?i(null!==(a=t.lastSelectedKey)&&void 0!==a?a:n.getLastKey()):i(null!==(r=t.firstSelectedKey)&&void 0!==r?r:n.getFirstKey())}else O||(S.current.scrollTop=w.current.top,S.current.scrollLeft=w.current.left);if(!O&&null!=t.focusedKey){let e=S.current.querySelector(`[data-key="${t.focusedKey}"]`);if(e){(0,i.c)(e),"keyboard"===(0,o.b)()&&(0,i.p)(e,{containingElement:d.current})}}}},onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||t.setFocused(!1)},onMouseDown(e){S.current===e.target&&e.preventDefault()}},{typeSelectProps:x}=u({keyboardDelegate:n,selectionManager:t});return b||(_=(0,i.l)(x,_)),v||(j=null==t.focusedKey?0:-1),{collectionProps:{..._,tabIndex:j}}}function p(e){let{selectionManager:t,key:n,ref:s,shouldSelectOnPressUp:u,shouldUseVirtualFocus:d,focus:p,isDisabled:h,onAction:g,allowsDifferentPressOrigin:b}=e,v=e=>{if("keyboard"===e.pointerType&&c(e))t.toggleSelection(n);else{if("none"===t.selectionMode)return;"single"===t.selectionMode?t.isSelected(n)&&!t.disallowEmptySelection?t.toggleSelection(n):t.replaceSelection(n):e&&e.shiftKey?t.extendSelection(n):"toggle"===t.selectionBehavior||e&&(l(e)||"touch"===e.pointerType||"virtual"===e.pointerType)?t.toggleSelection(n):t.replaceSelection(n)}};(0,a.useEffect)(()=>{n===t.focusedKey&&t.isFocused&&!d&&(p?p():document.activeElement!==s.current&&(0,r.b)(s.current))},[s,n,t.focusedKey,t.childFocusStrategy,t.isFocused,d]),h=h||t.isDisabled(n);let y={};d||h?h&&(y.onMouseDown=e=>{e.preventDefault()}):y={tabIndex:n===t.focusedKey?0:-1,onFocus(e){e.target===s.current&&t.setFocusedKey(n)}};let O=!h&&t.canSelectItem(n),S=g&&!h,C=S&&("replace"===t.selectionBehavior?!O:t.isEmpty),w=S&&O&&"replace"===t.selectionBehavior,k=C||w,E=(0,a.useRef)(null),j=k&&O,_=(0,a.useRef)(!1),x=(0,a.useRef)(!1),A={};u?(A.onPressStart=e=>{E.current=e.pointerType,_.current=j,"keyboard"!==e.pointerType||k&&!f()||v(e)},b?(A.onPressUp=e=>{"keyboard"!==e.pointerType&&v(e)},A.onPress=C?()=>g():null):A.onPress=e=>{if(C||w&&"mouse"!==e.pointerType){if("keyboard"===e.pointerType&&!m())return;g()}else"keyboard"!==e.pointerType&&v(e)}):(A.onPressStart=e=>{E.current=e.pointerType,_.current=j,x.current=C,("mouse"===e.pointerType&&!C||"keyboard"===e.pointerType&&(!g||f()))&&v(e)},A.onPress=e=>{("touch"===e.pointerType||"pen"===e.pointerType||"virtual"===e.pointerType||"keyboard"===e.pointerType&&k&&m()||"mouse"===e.pointerType&&x.current)&&(k?g():v(e))}),y["data-key"]=n,A.preventFocusOnPress=d;let{pressProps:I,isPressed:T}=(0,o.m)(A),M=w?e=>{"mouse"===E.current&&(e.stopPropagation(),e.preventDefault(),g())}:void 0,{longPressProps:P}=(0,o.l)({isDisabled:!j,onLongPress(e){"touch"===e.pointerType&&(v(e),t.setSelectionBehavior("toggle"))}});return{itemProps:(0,i.l)(y,O||C?I:{},j?P:{},{onDoubleClick:M,onDragStartCapture:e=>{"touch"===E.current&&_.current&&e.preventDefault()}}),isPressed:T,isSelected:t.isSelected(n),isFocused:t.isFocused&&t.focusedKey===n,isDisabled:h,allowsSelection:O,hasAction:k}}function m(){let e=window.event;return"Enter"===(null==e?void 0:e.key)}function f(){let e=window.event;return" "===(null==e?void 0:e.key)||"Space"===(null==e?void 0:e.code)}class h{getNextKey(e){for(e=this.collection.getKeyAfter(e);null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}return null}getPreviousKey(e){for(e=this.collection.getKeyBefore(e);null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}return null}findKey(e,t,n){let a=this.getItem(e);if(!a)return null;let r=a.getBoundingClientRect();do{e=t(e),a=this.getItem(e)}while(a&&n(r,a.getBoundingClientRect()));return e}isSameRow(e,t){return e.top===t.top||e.left!==t.left}isSameColumn(e,t){return e.left===t.left||e.top!==t.top}getKeyBelow(e){return"grid"===this.layout&&"vertical"===this.orientation?this.findKey(e,e=>this.getNextKey(e),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return"grid"===this.layout&&"vertical"===this.orientation?this.findKey(e,e=>this.getPreviousKey(e),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){return"grid"===this.layout?"vertical"===this.orientation?this.getNextColumn(e,"rtl"===this.direction):this.findKey(e,e=>this.getNextColumn(e,"rtl"===this.direction),this.isSameColumn):"horizontal"===this.orientation?this.getNextColumn(e,"rtl"===this.direction):null}getKeyLeftOf(e){return"grid"===this.layout?"vertical"===this.orientation?this.getNextColumn(e,"ltr"===this.direction):this.findKey(e,e=>this.getNextColumn(e,"ltr"===this.direction),this.isSameColumn):"horizontal"===this.orientation?this.getNextColumn(e,"ltr"===this.direction):null}getFirstKey(){let e=this.collection.getFirstKey();for(;null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}return null}getLastKey(){let e=this.collection.getLastKey();for(;null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}return null}getItem(e){return this.ref.current.querySelector(`[data-key="${e}"]`)}getKeyPageAbove(e){let t=this.ref.current,n=this.getItem(e);if(!n)return null;if(!(0,i.h)(t))return this.getFirstKey();let a=t.getBoundingClientRect(),r=n.getBoundingClientRect();if("horizontal"===this.orientation){let i=a.x-t.scrollLeft,o=Math.max(0,r.x-i+r.width-a.width);for(;n&&r.x-i>o;)n=null==(e=this.getKeyAbove(e))?null:this.getItem(e),r=null==n?void 0:n.getBoundingClientRect()}else{let i=a.y-t.scrollTop,o=Math.max(0,r.y-i+r.height-a.height);for(;n&&r.y-i>o;)n=null==(e=this.getKeyAbove(e))?null:this.getItem(e),r=null==n?void 0:n.getBoundingClientRect()}return null!=e?e:this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,n=this.getItem(e);if(!n)return null;if(!(0,i.h)(t))return this.getLastKey();let a=t.getBoundingClientRect(),r=n.getBoundingClientRect();if("horizontal"===this.orientation){let i=a.x-t.scrollLeft,o=Math.min(t.scrollWidth,r.x-i-r.width+a.width);for(;n&&r.x-i<o;)n=null==(e=this.getKeyBelow(e))?null:this.getItem(e),r=null==n?void 0:n.getBoundingClientRect()}else{let i=a.y-t.scrollTop,o=Math.min(t.scrollHeight,r.y-i-r.height+a.height);for(;n&&r.y-i<o;)n=null==(e=this.getKeyBelow(e))?null:this.getItem(e),r=null==n?void 0:n.getBoundingClientRect()}return null!=e?e:this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let n=this.collection,a=t||this.getFirstKey();for(;null!=a;){let t=n.getItem(a),r=t.textValue.slice(0,e.length);if(t.textValue&&0===this.collator.compare(r,e))return a;a=this.getKeyBelow(a)}return null}constructor(...e){if(1===e.length){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.disabledKeys=t.disabledKeys||new Set,this.orientation=t.orientation,this.direction=t.direction,this.layout=t.layout||"stack"}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical";"stack"===this.layout&&"vertical"===this.orientation&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function g(e){let{selectionManager:t,collection:n,disabledKeys:r,ref:i,keyboardDelegate:o,autoFocus:c,shouldFocusWrap:l,isVirtualized:u,disallowEmptySelection:p,selectOnFocus:m="replace"===t.selectionBehavior,disallowTypeAhead:f,shouldUseVirtualFocus:g,allowsTabNavigation:b}=e,v=(0,s.a)({usage:"search",sensitivity:"base"}),y=t.disabledBehavior,O=(0,a.useMemo)(()=>o||new h(n,"selection"===y?new Set:r,i,v),[o,n,r,i,v,y]),{collectionProps:S}=d({ref:i,selectionManager:t,keyboardDelegate:O,autoFocus:c,shouldFocusWrap:l,disallowEmptySelection:p,selectOnFocus:m,disallowTypeAhead:f,shouldUseVirtualFocus:g,allowsTabNavigation:b,isVirtualized:u,scrollRef:i});return{listProps:S}}},UDju:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("8O/t"),r=n("B8yO"),i=n("tiWp"),o=n("D2TP"),s=n("KH+i"),c=n("6fTk"),l=n("JRBS"),u=n("mgiE"),d=n("TKPA"),p=n("XGsl"),m=n("EFMT"),f=function(e){var t=e.alerts,n=e.plagiarism;return n.length+t.length===0?null:r.createElement(m.a,{className:p.a.alertTableContainer},r.createElement("table",{className:p.a.alertTable},r.createElement("tbody",null,t.map((function(e,t){return r.createElement(h,{key:e.id,alert:e,index:t})})),n.map((function(e,n){return r.createElement(g,{key:e.id,alert:e,index:n+t.length})})))))},h=function(e){var t=e.alert,n=e.index;return r.createElement("tr",null,r.createElement("td",{className:p.a.alertTableTdIndex},n+1,"."),r.createElement("td",{className:p.a.alertTableTdExample},Object(i.pipe)(t.content,u.b.fold((function(e){return r.createElement("span",{className:p.a.alertTableHighlightText},b(v(e)))}),(function(e){return r.createElement(l.f,{replacementsLabels:e,onClick:function(){return d.e},layoutDensity:s.a.Density.cozy,a11yContrast:!1})})))),r.createElement("td",Object(a.a)({className:p.a.alertTableTd},c.a.renderToHtml(t.categoryHuman))),r.createElement("td",{className:p.a.alertTableTd},o.a.OutcomeId.fromOutcomeId(t.lensId)))},g=function(e){var t=e.alert,n=e.index;return r.createElement("tr",null,r.createElement("td",{className:p.a.alertTableTdIndex},n+1,"."),r.createElement("td",{className:p.a.alertTableTdExample},r.createElement("span",{className:p.a.alertTableHighlightText},b(v(t.highlightTexts)))),r.createElement("td",{className:p.a.alertTableTdPlagiarismSource},r.createElement(y,{alert:t})),r.createElement("td",{className:p.a.alertTableTd},o.a.OutcomeId.fromOutcomeId(t.lensId)))};function b(e){return e.length>300?r.createElement(r.Fragment,null,e.substr(0,299),"…"):r.createElement(r.Fragment,null,e)}function v(e){return 1===e.length?e[0]:Array.from(new Set(e)).join("; ")}var y=function(e){var t=e.alert;return r.createElement(r.Fragment,null,t.title,"web"===t.plagiarismType.source&&Object(i.pipe)(t.plagiarismType.url,u.g.map((function(e){return r.createElement("a",{href:e,className:p.a.plagiarismLink},e)})),u.g.toNullable))}},UUXv:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return S}));var a,r=n("8O/t"),i=n("X76w"),o=n("B8yO"),s=n("tiWp"),c=n("OwvP"),l=n("mgiE"),u=n("111I"),d=n("NDcT"),p=n("fC5a"),m=n("ySi0"),f=n("wuWi"),h=n("xk6L"),g=n("PyEC"),b=n("GllM");!function(e){let t;!function(e){e.onFullShow="onFullShow",e.onUpgrade="onUpgrade",e.onContinueWithFreePlan="onContinueWithFreePlan"}(t=e.ActionsKind||(e.ActionsKind={}))}(a||(a={}));const v=u.b.Node.make(({view:e,notify:t})=>{const n=o.useContext(d.a.Context);return o.createElement(c.a.div,{mount:t({type:"upgradeHookAction",kind:a.ActionsKind.onFullShow}),className:g.a.maximizedContainer},o.createElement(b.d,{alertsCount:e("count"),extendedCard:!0}),o.createElement(c.a.div,{className:g.a.alertsContainer},o.createElement(c.a.div,{className:g.a.alertCategoryContainer},e("alerts").pipe(h.a.map(e=>e.map((e,t)=>o.createElement(b.a,{key:t,alert:e}))))),o.createElement(b.c,{alertsCount:e("count")})),o.createElement(c.a.div,{className:g.a.buttonContainer},o.createElement(p.a,{name:"upgrade",className:g.a.premiumButton,onClick:t({type:"upgradeHookAction",kind:a.ActionsKind.onUpgrade})},o.createElement(m.d.UpgradeHookPanel.ButtonDiamond,null),n.goPremium),e("documentType").pipe(h.a.map(e=>"demo"===e?o.createElement(p.a,{className:g.a.continueWithFreePlanButton,name:"go-to-homepage",onClick:t({type:"upgradeHookAction",kind:a.ActionsKind.onContinueWithFreePlan})},"Continue with free plan"):null))),e("documentType").pipe(h.a.map(e=>"default"===e?o.createElement("footer",{key:"footer",className:g.a.footer},o.createElement(f.i,{className:g.a.footerText},"It’s an online service that quickly and easily makes",o.createElement("br",null),"your writing better and makes you sound like a pro,",o.createElement("br",null),"or at least helps you avoid looking like a fool."),o.createElement(y,{className:g.a.footerLogo})):null)))}),y=({className:e})=>o.createElement("svg",{"aria-hidden":!0,width:"77",height:"20",viewBox:"0 0 77 20",className:e},o.createElement("path",{d:"M15.58138.367837l.088647 5.412045-.885505.275407c-.884542-2.75209-2.12367-4.31141-4.51328-4.31141H7.17438c-.08961 1.742595-.177293 4.67895-.177293 7.797587l2.12367-.091142c1.327775 0 1.94734-1.100637 2.212316-2.660947h.796858v6.512683h-.796858c-.264977-1.559318-.88454-2.659955-2.212317-2.659955l-2.12367-.091142c0 2.38455.087682 4.310417.177293 5.504178.17633 1.742594.6186 2.568815 1.769082 2.659957l1.0628.184266v.734088H.004586v-.734087l.885505-.184266c1.150482-.091142 1.592753-.917363 1.769083-2.659956.178257-2.84323.266904-8.80708 0-12.108993-.17633-1.743584-.6186-2.477673-1.769083-2.660947l-.885505-.092133v-.82523H15.58138zm31.331168 5.319616c3.009175 0 5.31014 2.75308 5.31014 6.514664 0 4.77108-2.831883 7.797586-7.522457 7.797586-1.682362 0-3.363762-.274417-4.956514-.641956.088647-1.92686.177294-13.670294 0-15.87058-.177294-1.101627-.44227-1.560308-1.23913-1.743583l-.619563-.092132v-.549824L43.814726 0c-.088647.918354-.088647 3.57831-.088647 6.513674.97415-.550814 1.94734-.82622 3.186468-.82622zM20.62606 5.50517c4.425597 0 6.638878 3.118637 6.638878 7.24677 0 3.94486-2.478258 7.247763-6.903855 7.247763-4.425598 0-6.637915-3.118638-6.637915-7.247763 0-3.943868 2.478258-7.24677 6.902892-7.24677zm32.74759 7.3392c0-3.761584 2.300964-7.339895 6.815208-7.339895 3.716423 0 5.487433 2.845213 5.487433 6.605807h-8.23163c-.088646 3.394045 1.50507 5.870727 4.691538 5.870727 1.41546 0 2.12367-.36556 3.009175-1.008506l.353624.45868C64.613492 18.715098 62.667117 20 60.188857 20c-3.983325 0-6.815207-2.935364-6.815207-7.15563zm22.83408-6.604815l.088646 3.57732-.6186.183274c-.79686-2.477674-1.858694-3.48618-3.45241-3.48618-1.061835 0-1.858693.82523-1.858693 2.018 0 1.193762.88454 1.835718 3.3628 2.844223 2.301926.917363 3.275114 2.018 3.275114 3.94486C77.004587 18.164282 74.79227 20 71.340824 20c-1.682362 0-3.629702-.36655-4.691538-.82523l-.088646-4.036992.619564-.184265c.974152 2.75209 2.21328 3.761584 3.89468 3.761584 1.416422 0 2.212317-1.009495 2.212317-2.110133 0-1.100637-.619563-1.743584-2.83188-2.567824-2.124634-.73508-3.62874-1.743584-3.62874-4.128133 0-2.38653 2.035987-4.404532 5.31014-4.404532 1.592752 0 3.009174.275407 4.07101.73508zM38.77024 5.87152l-1.416424 3.761584c-1.770046-1.19277-3.716423-.641956-4.159657 0-.087684 2.202266-.087684 5.687453.088646 7.432028.088647 1.099647.354587 1.64947 1.23913 1.741603l1.061834.092132v.73409h-8.230667v-.73409l.619564-.092132c.796858-.092133 1.150482-.641956 1.23913-1.741603.088646-1.92686.177293-5.780576 0-7.982842-.088648-1.19277-.442272-1.65046-1.23913-1.742593l-.619564-.092133V6.69774l5.929703-1.19277-.088647 3.21077c1.416422-3.302902 4.071973-3.761583 5.57608-2.84422zm6.107285 13.118687c1.85773 0 3.185505-2.84323 3.185505-6.513674 0-2.935363-1.061835-5.319913-3.009175-5.319913-.44227 0-.795895.091142-1.327776.275408-.087684 4.77009 0 10.183125.088646 11.467037.26594.091142.70821.091142 1.0628.091142zM20.361083 6.422532c-1.94734 0-2.478258 2.75209-2.478258 6.329408 0 3.486178.885505 6.3304 2.655552 6.3304 2.035023 0 2.566904-2.75209 2.566904-6.3304 0-3.486177-.885504-6.329408-2.744197-6.329408zm37.083577 4.679245l4.159657-.092133c0-1.834726-.264977-4.586815-1.769082-4.586815-1.50507 0-2.301928 2.567823-2.390575 4.678947z",fill:"#C6CBDE",fillRule:"evenodd"})),O=u.b.Composite.make(Object(b.b)(g.a.maximizedWrapper),v),S=Object(s.pipe)(u.b.squash(O),u.b.contramapState(e=>{const t=e.alertsState.alerts.slice(0,5),n=e.alertsState.alerts.slice(5).map(e=>e.count).reduce((e,t)=>e+t,0),a=n>0?[...t,{group:"",category:"",categoryHuman:"more...",count:n,lensName:"more...",bundleInfo:l.g.some("more...")}]:t;return Object(i.a)(Object(r.a)({},e.alertsState),{alerts:a})}))},UnJg:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("a5gI"),r=n("nWMp"),i=n("2YEY"),o=n("2swC"),s=r.a.rem(1),c={paddingLeft:r.a.rem(2),paddingRight:s},l={$nest:Object(a.a)({},"& ."+i.b.header,{marginBottom:r.a.important(0),marginTop:r.a.rem(.25)})},u=r.a.prefixedStylesheet("draft_ai_card",{onboardingNotification:[l],blue:[{background:o.a.CoreNeutral10}],titleIcon:[{display:"block",position:"absolute",left:r.a.rem(-1.625),top:r.a.rem(.375),width:r.a.rem(1.25),height:r.a.rem(1.25)}],cardWrapper:[{background:o.a.CoreNeutral0,borderRadius:r.a.rem(.5),paddingBottom:r.a.rem(.5)},c],cardHeader:[{position:"relative",paddingTop:r.a.rem(.5),paddingBottom:r.a.rem(.5),paddingLeft:r.a.rem(2),paddingRight:r.a.rem(.5)},c],cardHeaderSpan:[{lineHeight:r.a.rem(2)}],cardSectionsRow:[{position:"relative"}],cardActionsRow:[{display:"flex",height:r.a.rem(2.5),marginTop:r.a.rem(.25),marginBottom:r.a.rem(.5)}],cardActionsSeparator:[{flex:1}],cornerButton:[{position:"absolute",top:r.a.rem(.5),right:s}]})},UqPw:function(e,t,n){e.exports=n.p+"files/39a510c28179c25e0e4f65524d8d5394/inter-light.woff"},"V+3I":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("DTwm"),r=n("tiWp"),i=n("mgiE"),o=n("0kuo"),s=n("0nEn"),c=n("NbbF"),l=n("cZ4c");const u=e=>t=>Object(r.pipe)(t.content,i.b.fold(e=>i.b.right(Object(c.a)(e,t.todo)),Object(a.flow)(e,i.b.bimap(e=>({kind:"default",error:e}),e=>function(e,t){switch(e.type){case s.a.Type.Drilldown:return l.d.create(e.remove,e.inserts,t);case s.a.Type.Substitution:return l.a.create(e.remove,e.inserts,t);case s.a.Type.Insert:return 2===e.inserts.length?l.i.create(e.inserts[0],e.inserts[1],t):l.g.create(e.inserts,t);case s.a.Type.Remove:return l.b.create([e.remove],t);case s.a.Type.RemoveOr:return l.c.create(e.removes,t);case s.a.Type.FullSentence:return function(e,t){switch(e.kind){case l.f.WithFormatting:return l.e.createWithFormatting(e.ops,t);case l.f.PlainText:return l.e.createPlainText(e.ops,t);default:return Object(o.c)(e)}}(e,t);case s.a.Type.Citation:return function(e,t){return{type:l.j.Type.Citation,tooltipText:t,labels:e.ops}}(e,t);case s.a.Type.OneGap:return l.h.create(e,t);case s.a.Type.ShortenIt:return function(e,t){return{type:l.j.Type.ShortenIt,tooltipText:t,labels:e.ops}}(e,t);case s.a.Type.ToneAI:return function(e,t){return{type:l.j.Type.ToneAI,tooltipText:t,labels:e.transformParts}}(e,t);default:return Object(o.c)(e)}}(e,t.todo)))))},VAZM:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){let t;!function(e){e.collapseButtonClick="collapseButtonClick"}(t=e.Type||(e.Type={}))}(a||(a={}))},VHh6:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n("2zNz"),r=n("2swC"),i=n("nWMp"),o=n("NbNH");const s={position:"relative",borderRadius:i.a.rem(o.t),boxShadow:"0 1px 7px 0 rgba(129, 137, 169, .2)",userSelect:"none",backgroundColor:r.a.CoreNeutral0},c={padding:`${i.a.rem(1)} ${i.a.rem(2)}`},l={position:"absolute",top:i.a.rem(.75),left:i.a.rem(.5)},u={display:"flex",boxSizing:"border-box",padding:i.a.rem(.5),height:i.a.rem(2.5),cursor:"pointer",justifyContent:"flex-start",alignItems:"center"},d={marginLeft:i.a.rem(.8),fontSize:i.a.rem(.85),lineHeight:i.a.rem(1)},p={display:"flex",width:i.a.percent(100),alignItems:"center",justifyContent:"space-between"},m={position:"absolute",top:i.a.rem(.2),right:i.a.rem(.3),cursor:"pointer"},f={paddingRight:i.a.rem(1),textAlign:"left",fontSize:i.a.rem(.75),lineHeight:i.a.rem(1.15)},h={marginTop:i.a.rem(.6),fontSize:i.a.rem(.875),flexShrink:0},g={display:"flex",marginBottom:i.a.rem(.6),justifyContent:"flex-end",flexShrink:0},b={marginRight:"auto",lineHeight:i.a.rem(1.3125)},v={marginTop:i.a.rem(.21),minWidth:i.a.rem(1.5),flexShrink:0},y={marginTop:i.a.rem(1)},O={display:"flex",justifyContent:"center",alignItems:"center",height:i.a.rem(2),backgroundColor:r.a.CoreGreen60,borderRadius:i.a.rem(.25),fontSize:i.a.rem(.875),fontWeight:700,color:r.a.CoreNeutral0,lineHeight:i.a.rem(2),padding:i.a.rem(a.D.Space.Space4),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:i.a.color(r.a.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:i.a.color(r.a.CoreGreen60).tint(.2).toRGBA().toString()}}},S=i.a.stylesheet({wrapper:[s],maximizedWrapper:[c],minimizedWrapper:[u],maximizedWrapperIcon:[l],shadowWrapper:[{position:"relative",zIndex:1}],minimizedText:[d],minimizedContent:[p],maximizedCloseButtonContainer:[m],maximizedHeader:[f],alertCategoryContainer:[h],alertCategory:[g],categoryHumanContainer:[b],alertCounterContainer:[v],premiumButtonContainer:[y],premiumButton:[O]})},VOhR:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return O}));var a=n("8O/t"),r=n("X76w"),i=n("000W"),o=n("DTwm"),s=n("tiWp"),c=n("B/Ki"),l=n("0Qjk"),u=n("mgiE"),d=n("Hj2R"),p=n("V+3I"),m=n("r6Tt"),f=n("0nEn");const h={ignoreWhitespaceRemoves:!0},g=Object(o.flow)((function(e,t=h){return n=>Object(s.pipe)(n.alternatives,S(e,{isFullSentence:d.f.isFullSentence(n.cardType),isShortenIt:d.f.isShortenIt(n.cardType),isToneAI:d.f.isToneAI(n.cardType),isCitation:d.f.isCitation(n.cardType)}),u.b.chain(f.a.create(Object(r.a)(Object(a.a)({},t),{drilldown:n.drilldown}))))}),p.a);const b=e=>Object(o.flow)(S(e,{isFullSentence:!1,isShortenIt:!1,isToneAI:!1,isCitation:!1}),u.b.map(u.f.map(({ops:e,text:t})=>Object(s.pipe)(e,function(e){return Object(o.flow)(i.Jb({currPos:0,diff:[]},(t,n)=>(c.a.isDelete(n)?(t.diff.push({textChunk:e.substr(t.currPos,n.delete),type:n.type===l.a.AlternativeOperation.Type.Main||n.type===l.a.AlternativeOperation.Type.Important?m.a.Type.Delete:m.a.Type.Retain}),t.currPos+=n.delete):c.a.isInsert(n)?t.diff.push({textChunk:c.a.isInsertString(n)?n.insert:"",type:n.type===l.a.AlternativeOperation.Type.Main?m.a.Type.Insert:m.a.Type.Retain}):(t.diff.push({textChunk:e.substr(t.currPos,n.retain),type:m.a.Type.Retain}),t.currPos+=n.retain),t)),e=>e.diff)}(t),function(e){return t=>Object(s.pipe)(t,i.Y(t=>t.type===m.a.Type.Delete&&t.textChunk===e.trim()),u.g.map(e=>[e,{textChunk:Object(s.pipe)(t,i.Jb("",(t,n)=>(m.a.NoInvert.eq.equals(n,e)||(t+=n.textChunk),t))),type:m.a.Type.Insert}]),u.g.getOrElse(()=>t))}(t),v,y))));function v(e){return Object(s.pipe)(e,i.Mb([],(t,n,a)=>{const r=e[t-1];return void 0!==r&&m.a.isDelete(a)&&m.a.isInsert(r)?(n.push(r),n[t-1]=a):n.push(a),n}))}function y(e){return Object(s.pipe)(e,i.Mb([],(t,n,i)=>{const o=e[t-1];return void 0!==o&&m.a.isInsert(i)&&m.a.isDelete(o)?(n[t-1]=Object(r.a)(Object(a.a)({},o),{invertedChunk:i.textChunk}),n.push(Object(r.a)(Object(a.a)({},i),{invertedChunk:o.textChunk}))):n.push(Object(r.a)(Object(a.a)({},i),{invertedChunk:""})),n}))}const O=e=>Object(o.flow)(e,e=>e.delta.reduce((e,t)=>c.a.isInsertString(t)?e+t.insert:e,""));function S(e,t){const n=O(e);return Object(o.flow)(function(e,{isFullSentence:t,isShortenIt:n,isToneAI:a,isCitation:r}){return o=>Object(s.pipe)(o,i.V(i=>Object(s.pipe)(i.type,u.g.map(o=>{if(l.a.Alternative.hasOptionalContext(i.ops)){const[s,...c]=i.ops,u=l.a.AlternativeOperation.length(s);return{text:e(u,i.lengthAffected-u),ops:c,type:o,isFullSentence:t,isShortenIt:n,isToneAI:a,isCitation:r}}return{text:e(0,i.lengthAffected),ops:i.ops,type:o,isFullSentence:t,isShortenIt:n,isToneAI:a,isCitation:r}}))),u.f.fromArray)}(n,t),u.b.fromOption(()=>new Error("Alternative array is empty")))}},VX36:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a,r=n("a5gI"),i=n("8O/t"),o=n("X76w"),s=n("B8yO"),c=n("4GyQ"),l=n("NDcT"),u=n("nWMp"),d=n("TKPA"),p=n("2swC"),m=n("hdYN"),f=function(e){var t=e.checked,n=e.name,r=e.className,u=e.ariaLabelledBy,p=s.useContext(l.a.Context);return s.createElement(m.c,Object(o.a)(Object(i.a)({name:n,"aria-checked":t,ariaLabelledBy:u},Object(c.c)(t.view(Object(d.c)(a.switchButtonOn,a.switchButtonOff)),r)),{checked:t}),s.createElement("span",{"aria-hidden":!0,className:a.on},p.on),s.createElement("span",{"aria-hidden":!0,className:a.off},p.off))};!function(e){var t=u.a.rem(1.25),n=function(e){return{"&:hover":{backgroundColor:e},"&:hover::before":{borderColor:e}}},a=u.a.rem(.15),s={$debugName:"switchButton",position:"relative",display:"inline-flex",minWidth:u.a.rem(3),height:u.a.rem(1.25),borderRadius:t,backgroundColor:p.a.CoreNeutral50,color:p.a.CoreNeutral0,letterSpacing:u.a.rem(.04625),fontSize:u.a.rem(.625),cursor:"pointer",transition:u.a.seconds(.4),alignItems:"center",userSelect:"none",outline:"none",$nest:Object(i.a)({"&::before":{position:"absolute",left:0,width:t,height:t,borderWidth:a,borderStyle:"solid",borderColor:p.a.CoreNeutral50,borderRadius:u.a.percent(50),backgroundColor:p.a.CoreNeutral0,content:"''",transition:u.a.seconds(.4),boxSizing:"border-box"},"&:focus":{boxShadow:"0 0 0 1px ".concat(p.a.CoreNeutral0,", 0 0 0 3px ").concat(p.a.CoreBlue40),zIndex:1},"&:focus:not(:focus-visible)":{boxShadow:"none",$unique:!0},"&:focus-visible":{boxShadow:"0 0 0 1px ".concat(p.a.CoreNeutral0,", 0 0 0 3px ").concat(p.a.CoreBlue40),zIndex:1,$unique:!0}},n(p.a.CoreNeutral40))},c={position:"relative",textAlign:"center",textTransform:"uppercase",fontWeight:"bold"},l=e.on=u.a.style(c,{width:u.a.rem(2.125)}),d=e.off=u.a.style(c,{width:u.a.rem(1.5),marginLeft:t}),m=function(e,t){var n;return n={},Object(r.a)(n,"& .".concat(l),e),Object(r.a)(n,"& .".concat(d),t),n},f={display:"none"},h={display:"inline-block"};e.switchInput=u.a.style({position:"absolute",opacity:0}),e.switchButtonOn=u.a.style(s,{backgroundColor:p.a.CoreBlue50,$nest:Object(i.a)(Object(o.a)(Object(i.a)({},m(h,f)),{"&::before":{transform:"translateX(".concat(u.a.rem(1.75),")"),borderColor:p.a.CoreBlue50}}),n(p.a.CoreBlue40))}),e.switchButtonOff=u.a.style(s,{$nest:m(f,h)})}(a||(a={}))},VY6k:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("B8yO"),r=n("wZNN");const i={MLA:"https://owl.purdue.edu/owl/research_and_citation/mla_style/mla_formatting_and_style_guide/mla_works_cited_electronic_sources.html",APA:"https://owl.purdue.edu/owl/research_and_citation/apa_style/apa_formatting_and_style_guide/reference_list_electronic_sources.html",Chicago:"https://owl.purdue.edu/owl/research_and_citation/chicago_manual_17th_edition/cmos_formatting_and_style_guide/web_sources.html"},o=e=>({type:t})=>a.createElement(r.a,{href:i[t],className:e},t)},Va3c:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("B8yO"),r=n("OwvP"),i=n("TKPA"),o=n("WLOZ"),s=n("nWMp"),c=n("NbNH"),l=n("xk6L"),u=n("Y8fD"),d=n("y4Zb"),p=n("IRug");const m=({manager:e,views:t,onNotificationClose:n=i.e,theme:s={}})=>{const c=function(e,t,n={}){return r=>{const i=e[r.type],o=e=>()=>{r.actions.next(e)};return r.metadata.viewType===d.a.ViewType.standard?a.createElement(p.b.Wrapper,{key:r.id,notification:r,onClose:()=>{r.actions.next("closedByUser"),t(r)},theme:n},i(r,o)):a.createElement(a.Fragment,{key:r.id},i(r,o))}}(t,n,s.view),m=void 0!==s.grid?Object.assign({},S,s.grid):S,h=e.state.view(e=>e.filter(f(d.a.Position.bottomLeft))),g=e.state.view(e=>e.filter(f(d.a.Position.bottomRight))),b=e.state.view(e=>e.filter(f(d.a.Position.top)));return a.createElement(r.a.div,{className:m.container},l.a.combineLatestStatic(b,g,b,e=>e.some(u.a.isHighPriority)).pipe(l.a.distinctUntilChanged(),l.a.map(e=>e&&a.createElement("div",{className:m.overlay},a.createElement(o.b,{positionType:"absolute",key:"notificationOverlay",preventClose:!0,overlayType:"light",alignment:"top-center",animate:!0,theme:{content:O.overlayContent,contentFaded:O.overlayContentFaded}})))),a.createElement(r.a.div,{className:m.bottomLeft},h.view(e=>e.map(c))),a.createElement(r.a.div,{className:m.bottomRight},g.view(e=>e.map(c))),a.createElement(r.a.div,{className:m.top},b.view(e=>e.map(c))))};function f(e){return t=>t.metadata.position===e}const h={position:"fixed",top:0,left:0,zIndex:c.n,width:s.a.percent(100),height:s.a.percent(100),pointerEvents:"none"},g={position:"absolute",zIndex:c.n,display:"flex",flexDirection:"column",width:s.a.rem(27),pointerEvents:"auto",alignItems:"flex-end"},b={right:s.a.rem(c.c),bottom:s.a.rem(1.5)},v={bottom:s.a.rem(1.5),left:s.a.rem(2)},y={transition:"transform .1s",transformOrigin:"center"},O=s.a.stylesheet({notificationContainer:[h],notificationWrapper:[g],bottomRightNotificationWrapper:[g,b],bottomLeftNotificationWrapper:[g,v],topNotificationWrapper:[g,{top:0,right:0,left:0,margin:"0 auto"}],overlayContentBase:[y],overlayContent:[y,{transform:"none"}],overlayContentFaded:[y,{transform:"scale(.95)"}]}),S={container:O.notificationContainer,bottomLeft:O.bottomLeftNotificationWrapper,bottomRight:O.bottomRightNotificationWrapper,top:O.topNotificationWrapper}},VkQQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("B8yO"),r=n("ZqXC"),i=n("Q2+j");const o=[];function s(e,t){const{onClose:n,shouldCloseOnBlur:s,isOpen:c,isDismissable:l=!1,isKeyboardDismissDisabled:u=!1,shouldCloseOnInteractOutside:d}=e;a.useEffect(()=>(c&&o.push(t),()=>{const e=o.indexOf(t);e>=0&&o.splice(e,1)}),[c,t]);const p=()=>{o[o.length-1]===t&&n&&n()};Object(i.i)({ref:t,onInteractOutside:l?e=>{e instanceof Event&&(e=>{d&&!d(e.target,e)||(o[o.length-1]===t&&(e.stopPropagation(),e.preventDefault()),p())})(e)}:void 0,onInteractOutsideStart:e=>{e instanceof Event&&(e=>{d&&!d(e.target,e)||o[o.length-1]===t&&(e.stopPropagation(),e.preventDefault())})(e)}});const{focusWithinProps:m}=Object(i.g)({isDisabled:!s,onBlurWithin:e=>{e.relatedTarget&&!Object(r.d)(e.relatedTarget)&&(d&&!d(e.relatedTarget,e instanceof Event?e:void 0)||null==n||n())}});return{overlayProps:Object.assign({onKeyDown:e=>{"Escape"!==e.key||u||(e.stopPropagation(),e.preventDefault(),p())}},m),underlayProps:{onPointerDown:e=>{e.target===e.currentTarget&&e.preventDefault()}}}}},VrFq:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("B8yO"),i=n("yNCY"),o=n("imRW");!function(e){var t=e.Context=r.createContext(i.a.invariantContent("CopyToClipboard"));e.ContextMock=({children:e})=>r.createElement(t.Provider,{value:e=>o.a.copy(e,!1),children:e})}(a||(a={}))},Vs1e:function(e,t,n){"use strict";n.d(t,"a",(function(){return Et})),n.d(t,"b",(function(){return jt}));var a=n("8O/t"),r=n("X76w"),i=n("hcme"),o=n("B8yO"),s=n("DTwm"),c=n("tiWp"),l=n("+vYo"),u=n("OwvP"),d=n("4GyQ"),p=n("0Qjk"),m=n("NDcT"),f=n("ySi0"),h=n("5OZM"),g=n("s/43"),b=n("f82Z"),v=n("wuWi"),y=n("/taW"),O=n("nWMp"),S=n("xk6L"),C=n("h+d6"),w=n("6+at"),k=n("mgiE"),E=n("TKPA"),j=n("LzNK"),_=n("xAs4"),x=n("Bl9I"),A=n("7IMz"),I=n("yIk2"),T=n("111I"),M=n("Y9fM"),P=n("mPu6"),N=n("2zNz"),D=n("ty2y"),B=n("GaKX"),L=n("CzGE");const F=({name:e,style:t,onClick:n})=>o.createElement(D.a,{variant:"tertiary",style:[R,t],onClick:n,compact:!0,size:"medium",theme:"light",name:e},o.createElement(f.d.Close,null)),R={icon:Object.assign(Object.assign({},Object(L.c)(1.5)),{stroke:N.D.SemanticColor.Color.Background.Neutral.Default})};var H=n("Jhpk"),V=n("L6Sa"),U=n("dXk0");const W=({className:e})=>o.createElement("span",Object.assign({},Object(d.c)(z,e)),"New"),z=O.a.style({color:N.D.SemanticColor.Color.Text.Base.Default,fontWeight:700,fontSize:O.a.rem(.75),lineHeight:O.a.rem(1),justifyContent:"center",alignItems:"center",background:"linear-gradient(226.37deg, #BBD86D 0%, #41D9B5 100%)",borderRadius:O.a.rem(N.D.Radius.Radius3),padding:`${O.a.rem(N.D.Space.SpaceHalf)} ${O.a.rem(N.D.Space.Space2)}`,textTransform:"uppercase",width:"fit-content",cursor:"default"});var G=n("5lyU"),q=n("3Atx");const K=o.forwardRef((function({placement:e,style:t,arrowColor:n},a){return o.createElement("div",{ref:a,style:{width:33}},o.createElement("svg",{width:33,height:12,viewBox:"0 0 33 12.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object.assign(Object.assign(Object.assign({position:"absolute"},t),{transform:`${(null==t?void 0:t.transform)||""} rotate(${$(e)}deg)`.trimStart()}),Z(e))},o.createElement("path",{d:"M0.5 3.41877e-07C3.5 3.41877e-07 29.5 3.41877e-07 32.5 3.41877e-07C28.5 3.41877e-07 26.4111 0.903505 24.1814 3.69994L17.5562 11.4728C16.957 12.1757 15.8652 12.1757 15.2661 11.4728L8.64084 3.69994C6.41113 0.903505 4.5 3.41877e-07 0.5 3.41877e-07Z",fill:n||"white"})))}));function $(e){return(null==e?void 0:e.startsWith("right"))?90:(null==e?void 0:e.startsWith("bottom"))?180:(null==e?void 0:e.startsWith("left"))?270:0}function Z(e){return(null==e?void 0:e.startsWith("bottom"))?{top:-12}:(null==e?void 0:e.startsWith("top"))?{bottom:-12}:(null==e?void 0:e.startsWith("right"))?{transformOrigin:"top left",top:-16.5,left:0}:(null==e?void 0:e.startsWith("left"))?{transformOrigin:"top right",top:-16.5,right:0}:{}}const Y=Object(d.d)(({reference:e,placement:t,offset:n,boundaryAreaPadding:a,className:r,arrowColor:i,children:s})=>{const[c,l]=o.useState(null),[u,p]=o.useState(null),m=Object(q.a)(),{styles:f,attributes:h,state:g}=Object(G.a)(e,c,{placement:t,modifiers:[{name:"offset",options:{offset:[0,12+(null!=n?n:0)]}},{name:"arrow",options:{element:u,padding:12}},{name:"preventOverflow",options:{padding:null!=a?a:5}},m]});return o.createElement("div",Object.assign({dir:"ltr",ref:l,style:f.popper},h.popper,Object(d.c)(Q,r)),o.createElement(K,{ref:p,style:f.arrow,placement:null==g?void 0:g.placement,arrowColor:i}),s)}),X=e=>O.a.color(N.D.Color.BlueGray40).toRGBA().fade(e).toString(),Q=O.a.style({filter:`drop-shadow(0px 0px 0.5px ${N.D.Color.BlueGray40}) drop-shadow(0px 0px 2px ${X(.5)}) drop-shadow(0px 1px 6px ${X(.25)})`,borderRadius:O.a.rem(N.D.Radius.Radius1+N.D.Radius.RadiusHalf)}),J=O.a.rem(N.D.Radius.Radius1+N.D.Radius.RadiusHalf),ee={width:O.a.rem(25.875),background:N.D.SemanticColor.Color.Background.Base.Default},te={display:"flex",flexDirection:"column",gap:O.a.rem(N.D.Space.Space1),padding:`${O.a.rem(N.D.Space.Space4)} ${O.a.rem(N.D.Space.Space10)} ${O.a.rem(N.D.Space.Space6)} ${O.a.rem(N.D.Space.Space6)}`,color:N.D.SemanticColor.Color.Text.Base.Default},ne={display:"flex",flexDirection:"row",alignItems:"center",gap:O.a.rem(N.D.Space.Space2),fontWeight:"bold",fontSize:O.a.rem(1),lineHeight:O.a.rem(1.5)},ae={fontSize:O.a.rem(.875),lineHeight:O.a.rem(1.375)},re={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottomLeftRadius:J,borderBottomRightRadius:J,padding:`${O.a.rem(N.D.Space.Space3)} ${O.a.rem(N.D.Space.Space6)} ${O.a.rem(N.D.Space.Space3)} ${O.a.rem(N.D.Space.Space6)}`,backgroundColor:N.D.SemanticColor.Color.Background.Base.Subdued,color:N.D.SemanticColor.Color.Text.Base.Subdued,fontSize:O.a.rem(.875),lineHeight:O.a.rem(1.3125),$nest:{a:{color:"inherit"}}},ie={width:O.a.rem(14),lineHeight:O.a.rem(1),fontSize:O.a.rem(.75)},oe=O.a.style(ee),se=O.a.style(te),ce=O.a.style(ne),le=O.a.style(ae),ue=O.a.style(re),de=O.a.style(ie),pe=O.a.style({display:"flex",flexDirection:"row",alignItems:"flex-end"}),me=O.a.style({display:"inline",fontWeight:600}),fe=(e=V.a.StepName.initial)=>T.b.Grid.make(({slots:t,view:n,notify:a})=>{const{onMount:r}=Object(H.a)(S.a.tap(t=>a({kind:U.a.Kind.mount,step:e,element:t})()));return o.createElement(Y,{className:oe,reference:n("reference"),placement:n("placement"),offset:n("offset"),boundaryAreaPadding:n("boundaryAreaPadding"),arrowColor:N.D.SemanticColor.Color.Background.Base.Subdued},o.createElement("div",{ref:r},t.content),o.createElement("div",{className:ue},o.createElement("div",{className:de},t.footerText),o.createElement("div",{className:pe},o.createElement(D.a,{variant:"tertiary",onClick:a({kind:U.a.Kind.close,step:e}),style:ve,name:"skip"},"Skip"),o.createElement(D.a,{onClick:a({kind:U.a.Kind.tryItOut,step:e}),style:ye,name:"tryItOut"},"Try it out"))))}),he=T.b.Node.make(({notify:e})=>o.createElement(o.Fragment,null,o.createElement(F,{style:Oe,onClick:e({kind:U.a.Kind.close,step:V.a.StepName.initial}),name:"onboardingClose"}),o.createElement("div",{className:se},o.createElement(W,null),o.createElement("div",{className:ce},o.createElement("div",null,"Write faster with generative AI")),o.createElement("div",{className:le},"Brainstorm, write, and rewrite with generative AI assistance at your fingertips.")))),ge=T.b.Node.make(()=>o.createElement(o.Fragment,null,"If you use Grammarly's generative AI services,"," ",o.createElement(B.a,{href:"https://grammarly.com/terms",className:me},"additional terms")," ","apply.")),be=T.b.Knot.make(fe(),{content:he,footerText:ge}),ve={default:{marginRight:O.a.rem(.5),fontSize:O.a.rem(.875)}},ye={default:{fontSize:O.a.rem(.875),fontWeight:"bold"}},Oe={default:{position:"absolute",top:O.a.rem(N.D.Space.Space2),right:O.a.rem(N.D.Space.Space2)}},Se=T.b.Node.make(({notify:e})=>o.createElement(o.Fragment,null,o.createElement(F,{style:we,onClick:e({kind:U.a.Kind.close,step:V.a.StepName.initialBTS}),name:"onboardingClose"}),o.createElement("div",{className:se},o.createElement(W,null),o.createElement("div",{className:ce},o.createElement("div",null,"Write better papers faster (for free!)")),o.createElement("div",{className:le},"Start with a brainstorm, then get instant feedback, revisions, and citations to ace your assignment.")))),Ce=T.b.Knot.make(fe(V.a.StepName.initialBTS),{content:Se,footerText:T.b.Node.empty}),we={default:{position:"absolute",top:O.a.rem(N.D.Space.Space2),right:O.a.rem(N.D.Space.Space2)}};var ke=n("plHf");const Ee={[V.a.StepName.prompts]:{title:"Start with a prompt",description:e=>e?`Choose a suggested prompt, or type your own to get started. You’ll get ${Number(e).toLocaleString()} each month.`:"Choose a suggested prompt, or type your own to get started."},[V.a.StepName.review]:{title:"How does this sound?",description:"Adjust it to your liking with additional prompts. Don’t forget to check for any inaccuracies. "},[V.a.StepName.rewrite]:{title:"Want help rewriting?",description:"Select your text to rewrite it with GrammarlyGO."},[V.a.StepName.knowledgeHub]:{title:"Using organizational language?",description:"Prompt GrammarlyGO using terms and project names from Knowledge Share to automatically insert organizational context."},[V.a.StepName.references]:{title:"GrammarlyGO now incorporates your organizational knowledge",description:"Review the references for accuracy and relevance and regenerate the response without any references that seem irrelevant or outdated."},[V.a.StepName.history]:{title:"Return to recent history",description:"Pick up where you left off with your latest prompts."}},je=T.b.Node.make(({state:e,view:t,notify:n})=>{const{onMount:a}=Object(H.a)(Object(s.flow)(S.a.withLatestFrom(t("name")),S.a.map(([e,t])=>({element:e,stepName:t})),S.a.tap(({element:e,stepName:t})=>n({kind:U.a.Kind.mount,step:t,element:e})())));return o.createElement(u.a.Fragment,null,e.pipe(S.a.map(({name:e,placement:t,offset:r,reference:i,boundaryAreaPadding:s,promptsAllocated:c})=>o.createElement(ke.a,{key:e,className:O.a.style({width:xe(e)}),reference:i,placement:t,offset:r,containerPadding:s,onClose:n({kind:U.a.Kind.close,step:e}),title:Ee[e].title,body:e===V.a.StepName.prompts?Ee[e].description(c):Ee[e].description,onMount:a}))))}),_e=T.b.Union.asOption(je);function xe(e){switch(e){case V.a.StepName.knowledgeHub:return O.a.rem(16);case V.a.StepName.references:return O.a.rem(17.8);default:return O.a.rem(13.75)}}const Ae=T.b.Union.make("kind",{none:T.b.Node.empty,initial:be,initialBTS:Ce,tooltip:_e}),Ie=T.b.Grid.make(({slots:e,view:t})=>{const n=o.useMemo(()=>l.a.create(M.a),[]);return A.a.useSubscriptionTo(t("theme").pipe(S.a.tap(I.b.toAtom(n)))),o.createElement(P.a.Provider,{value:n},e.onboarding)}),Te=T.b.Knot.make(Ie,{onboarding:Ae});var Me=n("lKCo"),Pe=n("0kuo");const Ne=e=>T.a.fromSideEffect(t=>e.notify(t),e.activeStep.pipe(S.b.compact)),De=e=>{const t=Ne(e);return T.a.composeKnot({root:t,content:t,footerText:t})},Be=e=>{const t=Ne(e);return T.a.composeKnot({root:t,content:t,footerText:t})};var Le=n("GHef");function Fe(e){return T.a.composeOption(function(e){return T.a.fromSideEffect(t=>e.notify(t),e.activeStep.pipe(S.b.compact,S.a.filter(Le.a.isTooltipOnboardingStep),S.a.withLatestFrom(e.promptsAllocated.pipe(S.a.map(Me.toUndefined))),S.a.map(([e,t])=>Object.assign(Object.assign({},e),{promptsAllocated:t}))))}(e),()=>e.activeStep.pipe(S.a.map(Me.filter(Le.a.isTooltipOnboardingStep))))}function Re(e){return Object(s.pipe)(e,Me.filter(e=>e.show),Me.fold(()=>"none",e=>{switch(e.name){case V.a.StepName.initial:return"initial";case V.a.StepName.initialBTS:return"initialBTS";case V.a.StepName.prompts:case V.a.StepName.review:case V.a.StepName.rewrite:case V.a.StepName.knowledgeHub:case V.a.StepName.references:case V.a.StepName.history:return"tooltip";default:return Object(Pe.d)(e.name)}}))}var He=n("fC5a"),Ve=n("L8Yl"),Ue=n("a5gI"),We=n("2swC"),ze=n("3n8C"),Ge={position:"relative",display:"block",zIndex:0,margin:"".concat(O.a.rem(0)," ").concat(O.a.rem(N.D.Space.Space4)),fontSize:O.a.rem(.875),fontWeight:500,border:"".concat(O.a.px(1)," solid transparent"),borderRadius:O.a.rem(.25),backgroundImage:"linear-gradient(to right, #526DD9 0%, #526DD9 25%, #3E7FFC 75%, #0FCEAF 100%)",backgroundSize:O.a.percent(400),backgroundPositionX:O.a.percent(99),transition:"background-position-x ".concat(O.a.seconds(.2)),$nest:{svg:Object(r.a)(Object(a.a)({},{"--path-fill-1":"#018374","--path-fill-2":"#018374","--path-fill-3":"#00FFCE","--path-fill-4":"#018374"}),{flex:"0 0 auto",$nest:{path:{transition:"fill ".concat(O.a.seconds(.2))}}}),"&[data-active=true]":{fontWeight:600,color:We.a.CoreBlue60,backgroundPositionX:O.a.percent(1),$nest:{path:Object(a.a)({},{"--path-fill-1":"#2551DA","--path-fill-2":"#018374","--path-fill-3":"#34BCFF","--path-fill-4":"#2551DA"})}}}},qe={position:"relative",zIndex:1,lineHeight:O.a.rem(1.5),backgroundColor:N.D.Color.White,color:N.D.Color.NeutralGray90,padding:O.a.rem(N.D.Space.Space3),display:"flex",alignItems:"center",transition:"\n    color ".concat(O.a.seconds(.2),",\n    background-color ").concat(O.a.seconds(.2),"\n  "),$nest:{"[data-active='true'] > &":{backgroundColor:We.a.CoreNeutral10,color:We.a.CoreBlue60},":not([data-disabled='true'])[data-hovered='true'] > &":{backgroundColor:We.a.CoreNeutral10}}},Ke={fontSize:O.a.rem(.75),fontWeight:400,lineHeight:O.a.rem(1.125),color:We.a.CoreNeutral90,$nest:Object(Ue.a)({},ze.a.compactSidebar,ze.e)},$e={minWidth:O.a.rem(1.5),minHeight:O.a.rem(1.5)},Ze={position:"relative",zIndex:O.d.level5},Ye=O.a.prefixedStylesheet("cheetah_button",{button:[Ge],buttonContent:[qe],label:[{flex:"1 1 auto",display:"flex",flexDirection:"column",alignItems:"flex-start"}],subtitle:[Ke],icon:[$e],onboardingContainer:[Ze]}),Xe=n("020W"),Qe={title:"Generative AI"},Je={message:"By the way, you can also access our generative AI assistance here."},et={title:"Go beyond revision",message:"Generative AI can help you brainstorm ideas and even write a first draft."},tt=function(e){var t=e.hideOnboarding,n=e.stepContent,i=e.children;return t?i:o.createElement(w.b,Object(r.a)(Object(a.a)({},n),{alignment:"bottom",eventType:"onclick",stepId:C.a.StepId.GrammarlyGOIdeationAssistant,dotPosition:{kind:"dotAtPosition",position:w.a.center}}),i)},nt=function(e){var t=x.a.useCollapsibleNavbarThreshold(),n=e.viewModel.isInOnboardingTourA11yExperiment,a=S.a.combineLatestStatic([t,e.viewModel.onboardingViewModels]).pipe(S.a.map((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return n?k.g.none:a}))),r=n?{title:et.title,message:et.message}:{message:Je.message};return o.createElement(u.a.Fragment,null,S.a.combineLatestStatic([t,e.isSidebarIdle]).pipe(S.a.map((function(t){var c=Object(i.a)(t,2),l=c[0],d=c[1];return o.createElement(tt,{stepContent:r,hideOnboarding:!d||n&&l},o.createElement(u.a.Fragment,null,o.createElement(He.a,{tag:Ve.b.div,onClick:e.viewModel.navigation.handleCheetahButtonClick,onMouseDownCapture:function(e){e.stopPropagation()},active:e.viewModel.navigation.isActive,name:"cheetah",className:Ye.button},o.createElement("div",{ref:e.viewModel.navigation.cheetahButtonRef,className:Ye.buttonContent},o.createElement("div",{className:Ye.label},o.createElement("span",null,Qe.title)),o.createElement(Xe.a.GrammarlyGO,{width:22,className:Ye.icon}))),a.pipe(S.a.map(Object(s.flow)(k.g.map((function(e){return o.createElement("div",{className:Ye.onboardingContainer},T.b.mount(Te,(t=e,T.a.composeKnot({root:()=>t.theme.theme.view(e=>({theme:e})),onboarding:T.a.composeUnion({none:()=>S.a.of(null),initial:De(t.onboarding),initialBTS:Be(t.onboarding),tooltip:Fe(t.onboarding)},()=>t.onboarding.activeStep.view(Re).view(e=>({kind:e})))}))));var t})),k.g.toNullable)))))}))))},at=n("/pMd"),rt={width:O.a.percent(100)},it={display:"block"},ot={marginRight:O.a.rem(2)},st={position:"relative",paddingTop:O.a.rem(3.5)},ct={paddingLeft:O.a.rem(.1)},lt={position:"absolute",bottom:O.a.rem(.75)},ut={marginTop:0,marginBottom:0,border:"1px solid rgba(198, 203, 222, .7)",$nest:Object(Ue.a)({'& [aria-busy="false"]':{display:"none"}},ze.a.compactSidebar,{display:"flex",alignItems:"center",height:O.a.important("auto")})},dt={margin:"".concat(O.a.rem(.5)," ").concat(O.a.rem(1.75)),height:O.a.px(1),backgroundColor:N.D.Color.BlueGray20,opacity:.7},pt={display:"block",lineHeight:O.a.rem(1.125),$nest:Object(Ue.a)({"&:after":{content:'" "'}},ze.a.compactSidebar,{fontSize:O.a.rem(.875),lineHeight:O.a.rem(1.5),paddingRight:O.a.rem(.25)})},mt={opacity:1,transition:"opacity ".concat(".3s")},ft={opacity:0,transition:"opacity ".concat(".3s")},ht={top:O.a.rem(.55),position:"absolute",$nest:Object(Ue.a)({},ze.a.compactSidebar,{position:O.a.important("static")})},gt={top:O.a.rem(.5)},bt={position:"absolute",top:O.a.rem(.55),opacity:1,transition:"opacity ".concat(".3s")},vt={minHeight:O.a.rem(1.125),height:O.a.rem(1.125),opacity:1,transition:"opacity ".concat(".3s"),transform:"translate(-.125rem, -.25rem)"},yt={height:O.a.rem(3.5)},Ot={height:O.a.rem(5.25),$nest:Object(Ue.a)({},ze.a.compactSidebar,{height:"auto"})},St={position:"absolute",right:0,bottom:O.a.rem(.25),$nest:Object(Ue.a)({},ze.a.compactSidebar,{bottom:"auto"})},Ct={$nest:Object(Ue.a)({},ze.a.compactSidebar,ze.e)},wt=O.a.prefixedStylesheet("header",{performanceOnboardingContainer:[rt],goalsOnboardingContainer:[rt,it],goalsNotification:[ot],headerWrapper:[st,ct],headerWrapperHigh:[st],headerWrapperCheetah:[st,{display:"flex",flexDirection:"column"}],description:[it,Ct],descriptionLoading:[lt],headerBtn:[ut],delimiter:[dt],performanceScore:[pt],performanceScoreFadeIn:[mt],performanceScoreFadeOut:[ft],spinner:[it,ht],spinnerScore:[gt],checkmark:[it,bt],checkmarkA11yContrast:[it,vt],checkmarkFadeOut:[it,bt,ft],spinnerFadeIn:[it,ht,mt],spinnerFadeOut:[it,ht,ft],performanceBtnLow:[ut],performanceBtn:[ut,yt],performanceBtnHigh:[ut,Ot],performanceDescription:[it,{$nest:{"&:global(.checking-complete)":{marginTop:0}}}],arrowIcon:[St]}),kt=function(e){var t=e.hideOnboarding,n=e.onboardingStepInfo,i=e.themes,s=e.children;return t?s:o.createElement(w.b,Object(r.a)(Object(a.a)({},n),{alignment:"bottom",eventType:"onclick",dotPosition:{kind:"findFirstButton",buttonOrder:0,position:w.a.center},themes:i}),s)},Et=function(e){var t=e.documentModel,n=e.isIdle,p=e.modalManager,b=e.navigationViewModel,O=e.cheetahViewModel,w=e.features,A=o.useContext(m.a.Context).goals,I=o.useContext(j.a.Context),T=I.gnarSpec,M=I.pageId,P=p.state.view(k.g.exists((function(e){return e.instance.type===h.d.SetGoals}))),N=p.state.view(k.g.exists((function(e){return e.instance.type===h.d.Performance}))),D=w.denali.showOnboardingTourA11yUpdates,B=x.a.useCollapsibleNavbarThreshold(),L=function(){b.events.next({type:"performance"}),T.documentStatisticsButtonClick(M)},F=l.a.combine(t.context,t.contextCompleteness,(function(e,t){return{domain:e.domain,outcomeContext:e.outcomeContext,completeness:t}})).view((function(e){var t=e.domain,n=e.completeness,a=e.outcomeContext;return w.denali.isStudentsOFE&&k.g.contains("academic")(t)&&k.g.isSome(a)?A.button.subtitleAcademic(A.sections.format.formatTitle(k.g.unsafeGet(a).citation)):A.button.subtitle(n,y.a.TOTAL_GOALS,y.a.MIN_GOALS)})),R={documentStats:D?{title:"Evaluate your text",message:"Check your Grammarly text score and other document stats."}:{message:"Check your text score and other document statistics."},goals:D?{title:"Set some goals",message:"Specify a writing style and audience for your document to get tailored feedback."}:{title:void 0,message:"Set goals to get tailored feedback based on your type of writing."}};return o.createElement(u.a.header,{className:O.view(k.g.isSome).view(Object(E.c)(wt.headerWrapperCheetah,wt.headerWrapperHigh))},S.a.combineLatestStatic([B,n]).pipe(S.a.map((function(e){var l=Object(i.a)(e,2),p=l[0],m=!l[1]||D&&p;return o.createElement(o.Fragment,null,o.createElement(g.a,{small:!0}),o.createElement(kt,{hideOnboarding:m,onboardingStepInfo:{stepId:C.a.StepId.Step8,title:R.documentStats.title,message:R.documentStats.message},themes:{containerWrapperClassName:wt.performanceOnboardingContainer}},o.createElement(jt,{checkingState:t.checkingState,score:t.score,scoreStatus:t.scoreStatus,isActive:N,onClick:L})),o.createElement(g.a,{small:!0}),o.createElement(kt,{hideOnboarding:m,onboardingStepInfo:{stepId:C.a.StepId.Step1,title:R.goals.title,message:R.goals.message},themes:{containerWrapperClassName:wt.goalsOnboardingContainer,notificationClassName:wt.goalsNotification}},o.createElement(at.a,Object(r.a)(Object(a.a)({name:"set-goals",isActive:P,isDisabled:P,title:A.button.title,"aria-label":F.view((function(e){return"".concat(A.button.title,": ").concat(e)}))},Object(d.c)(wt.headerBtn)),{onClick:function(){b.events.next({type:"setGoals"}),T.setGoalsButtonClick(M)}}),o.createElement(f.d.Arrow,{direction:f.a.right,className:wt.arrowIcon}),o.createElement(v.l,{className:wt.description},F))),Object(c.pipe)(w.denali.oggy,k.g.forAll((function(e){return e!==_.j.mergedSharedAssistant})))?o.createElement(u.a.Fragment,null,O.pipe(S.b.compact,S.a.switchMap((function(e){return e.isGenAiAvailable.pipe(S.a.filter(s.identity),S.a.mapTo(e))})),S.a.map((function(e){return o.createElement(o.Fragment,null,o.createElement(g.a,{small:!0}),o.createElement(nt,{viewModel:e,isSidebarIdle:n}))})),S.a.startWith(null))):null,o.createElement(g.a,{small:!0}),o.createElement("div",{className:wt.delimiter}))}))))},jt=function(e){var t=e.checkingState,n=e.score,a=e.scoreStatus,r=e.isActive,i=e.onClick,h=o.useContext(m.a.Context),g=a.view((function(e){return Object(c.pipe)(e,k.g.map((function(e){return e===p.a.Message.ScoresStatus.SENSITIVE})),k.g.getOrElse(s.constFalse))})),b=l.a.combine(r,g,(function(e,t){return e||t}));return o.createElement(u.a.Fragment,null,l.a.combine(t,n,g,(function(e,t,n){var a="idle"===e,s=a?Object(c.pipe)(t,k.g.filter((function(e){return 100===e.rank})),k.g.fold((function(){return h.performance.button.score}),(function(){return h.performance.button.score100}))):null,l=function(e){return a?n?h.performance.button.statuses.paused:Object(c.pipe)(t,k.g.fold((function(){return h.performance.button.statuses.unavailable}),e)):h.performance.button.statuses.calculating};return o.createElement(at.a,{name:"performance",isActive:r,isDisabled:b,className:k.g.isNone(t)&&a?wt.performanceBtnLow:wt.performanceBtnHigh,"aria-label":l((function(e){return"".concat(h.performance.button.score,": ").concat(e.rank,"%")})),onClick:i},o.createElement(_t,{checkingState:e,score:t}),o.createElement("div",null,s),o.createElement(v.l,Object(d.c)(a&&"checking-complete",wt.description,!a&&wt.descriptionLoading),l((function(){return h.performance.button.statuses.available}))),o.createElement(f.d.Arrow,{direction:f.a.right,className:wt.arrowIcon}))})))},_t=function(e){var t=e.checkingState,n=e.score,a="idle"===t;return o.createElement(o.Fragment,null,o.createElement(b.a,{variation:"green",size:20,className:O.a.joinClasses([a?wt.spinnerFadeOut:wt.spinnerFadeIn,wt.spinnerScore]),isIdle:a,strokeWidth:5}),Object(c.pipe)(n,k.g.map((function(e){var t=e.rank;return 100===t?o.createElement(f.d.NotificationInfo,{width:18,className:a?wt.checkmarkA11yContrast:wt.checkmarkFadeOut}):o.createElement(v.k,{className:O.a.joinClasses([wt.performanceScore,a?wt.performanceScoreFadeIn:wt.performanceScoreFadeOut])},t)})),k.g.toNullable))}},Vt5D:function(e,t,n){"use strict";n.d(t,"a",(function(){return se}));var a=n("LzOy"),r=n("8O/t"),i=n("X76w"),o=n("0Uv3"),s=n("B8yO"),c=n("DTwm"),l=n("OwvP"),u=n("4GyQ"),d=n("4tRT"),p=n("NDcT"),m=n("fC5a"),f=n("WLOZ"),h=n("wuWi"),g=n("AcQZ"),b=n("D2TP"),v=n("7IMz"),y=n("xk6L"),O=n("A8UT"),S=n("mgiE"),C=n("0kuo"),w=n("TKPA"),k=n("M3t0"),E=n("LzNK"),j=n("s1NC"),_=n("nvxh"),x=n("XIJR"),A=function(e){var t=e.className;return s.createElement("svg",{viewBox:"0 0 68 68",width:"68",height:"68",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},s.createElement("path",{d:"M12.965 22.107c3.688-6.33 10.104-10.96 17.954-11.942 4.466-.621 8.752.094 12.604 1.714.68.292 1.411.648 2.027.994.616.346 1.284.755 1.9 1.102a23.872 23.872 0 016.326 6.12c.467.686.987 1.435 1.391 2.175.35.676.701 1.352.998 1.965.872 2.073 1.552 4.305 1.808 6.678.831 6.42-1.022 12.61-4.636 17.478-.806 1.107-1.718 2.088-2.683 3.006-1.484 1.461-3.18 2.67-4.92 3.698-2.662 1.48-5.578 2.526-8.793 2.96-5.77.745-11.235-.6-15.809-3.338a18.989 18.989 0 01-3.523-2.65",stroke:"#8383EF"}),s.createElement("path",{d:"M31.985 18.544c.297-.034.594-.067.827-.048M34.467 18.401c1.995.051 3.841.443 5.592 1.238M40.791 19.995c.223.136.51.22.733.356.392.21.838.482 1.23.692 1.55 1.071 3.015 2.43 4.109 3.992.308.496.68.94.87 1.426.255.433.457.803.648 1.289a16.01 16.01 0 011.202 4.275c.565 4.163-.621 8.178-2.964 11.33-.53.66-1.124 1.374-1.707 1.972A16.193 16.193 0 0141.7 47.7c-1.24.718-2.64 1.246-4.083 1.594",stroke:"#00B18F"}),s.createElement("path",{d:"M34.82 41.18a7.096 7.096 0 01-4.615-.978c-.392-.21-.721-.473-1.05-.736-.16-.19-.436-.39-.595-.579-.85-1.012-1.497-2.302-1.657-3.785-.138-1.07-.044-2.12.274-3.033.021-.234.159-.457.233-.627.138-.224.223-.51.36-.734 1.05-1.851 2.937-3.22 5.26-3.552 1.305-.125 2.589-.016 3.66.486.17.073.393.21.563.283.17.073.392.21.562.283a6.731 6.731 0 011.837 1.801",stroke:"#1CA6D0"}),s.createElement("path",{d:"M8.764 63.084h18.649c3.813 0 6.933-3.139 6.933-6.974V32.818c0-3.835-3.12-6.973-6.933-6.973H8.764c-3.812 0-6.932 3.138-6.932 6.973V56.11c.07 3.836 3.12 6.974 6.932 6.974z",fill:"#F2F3FA",stroke:"#1C1E33"}),s.createElement("path",{d:"M18.123 54.297c6.012 0 10.885-4.902 10.885-10.949 0-6.046-4.873-10.948-10.884-10.948-6.012 0-10.885 4.902-10.885 10.948 0 6.047 4.873 10.949 10.884 10.949z",fill:"#AFE4F4",stroke:"#1C1E33"}),s.createElement("path",{d:"M8.14 47.672c-2.148-4.951-.277-10.67 4.091-13.529 1.872 0 4.16-.558 9.498 6.346a482.407 482.407 0 012.426 3.627c-1.11.627-2.218 1.045-2.218 1.045.97 2.093 3.05 5.37 1.317 7.88l-.832.42c-5.477 2.3-11.924-.21-14.281-5.789z",fill:"#fff",stroke:"#1C1E33"}),s.createElement("path",{d:"M19.302 36.096c-2.08-2.72-3.605-2.86-4.853-3.138-.277.14-.554.209-.901.348h-.07l-.831.419h-.07c-.277.14-.485.349-.762.488-1.248.907-2.288 2.022-3.05 3.347 0 .07-.07.07-.07.14-.138.209-.208.348-.277.558-.07.14-.139.209-.139.348-.069.14-.138.349-.208.558-.069.21-.138.349-.208.488-.069.14-.138.35-.138.489-.07.139-.07.348-.139.488-.07.14-.07.348-.139.488-.069.21-.069.349-.069.558-.07.14-.07.279-.07.418 0 .21 0 .419-.069.628V44.186c0 .348.07.697.14 1.045a11.92 11.92 0 001.039 3.138c.139.35.347.628.555.907.97 1.534 2.287 2.72 3.812 3.626.14-1.604-.623-3.696-1.317-5.37-1.109-2.72 1.317-3.068 2.565-1.882 1.248 1.116.902-.349.763-2.86-.07-3.556 2.773-5.509 4.506-6.694z",fill:"#1C1E33"}),s.createElement("path",{d:"M47.605 40.74H28.956c-3.813 0-6.932-3.139-6.932-6.974V10.474c0-3.835 3.12-6.973 6.932-6.973h18.649c3.813 0 6.932 3.138 6.932 6.973v23.292c0 3.835-3.12 6.974-6.932 6.974z",fill:"#fff",stroke:"#1C1E33"}),s.createElement("path",{d:"M38.246 31.954c-6.011 0-10.884-4.902-10.884-10.949s4.873-10.948 10.884-10.948c6.01 0 10.884 4.901 10.884 10.948 0 6.047-4.873 10.949-10.884 10.949z",fill:"#B9CDFF",stroke:"#1C1E33"}),s.createElement("path",{d:"M48.991 22.888c.971-5.37-2.149-10.46-7.07-12.204-1.803.419-4.16.419-7.835 8.438-.554 1.534-1.525 4.045-1.525 4.045 1.248.349 2.427.488 2.427.488-.486 2.232-1.803 5.928.485 7.95.277.07.555.14.901.21 5.893 1.045 11.578-2.93 12.617-8.927z",fill:"#fff",stroke:"#1C1E33"}),s.createElement("path",{d:"M45.04 24.84c1.178-2.37-1.179-3.975-1.872-2.58-.693 1.464-2.01 1.813-1.664.628.486-2.371 1.525-5.37-2.149-6.137-3.674-.697-3.882-3.975-2.98-6.555.831-.14 1.663-.21 2.564-.14 6.032.349 10.607 5.58 10.191 11.646-.208 3.417-1.941 6.346-4.506 8.229-.901-1.186-.416-3.487.416-5.09z",fill:"#1C1E33"}))},I=n("nWMp"),T=n("NbNH"),M=n("2swC"),P=n("WSjW"),N={position:"absolute",right:0,bottom:0,zIndex:T.q,margin:"0 ".concat(I.a.rem(.5)," ").concat(I.a.rem(1)," 0"),padding:I.a.rem(1.5),width:I.a.rem(27),borderRadius:I.a.rem(T.s),background:M.a.CoreNeutral0},D={display:"flex",margin:"0 0 ".concat(I.a.rem(1)),alignItems:"center"},B={marginBottom:I.a.rem(.5),fontWeight:700},L={marginLeft:I.a.rem(.5),flex:"auto 0 0"},F={maxWidth:I.a.percent(100)},R={marginRight:I.a.rem(.5),marginLeft:I.a.rem(-.5),textTransform:"none",letterSpacing:"normal",fontSize:I.a.rem(.875)},H={marginRight:I.a.rem(-.5),marginLeft:I.a.rem(-.5),color:M.a.CoreNeutral50},V=I.a.stylesheet({container:[P.a,N],content:[D],title:[B],image:[L],buttonsContainer:[F],ctaButton:[R],dismissButton:[H]}),U=n("2zNz"),W={position:"absolute",right:0,bottom:0,zIndex:T.q,display:"flex",margin:"0 ".concat(I.a.rem(.5)," ").concat(I.a.rem(1)," 0"),padding:I.a.rem(2),width:I.a.rem(27),background:M.a.CoreNeutral0,alignItems:"flex-start"},z={width:I.a.rem(17)},G={marginTop:I.a.rem(1)},q={color:U.D.SemanticColor.Color.Text.Base.Subdued,fontWeight:"normal"},K={$nest:{"& button:not(:last-of-type)":{marginRight:I.a.rem(U.D.Space.Space2)}}},$={display:"flex",flexDirection:"column",margin:"".concat(I.a.rem(2)," 0 ").concat(I.a.rem(-1)," ").concat(I.a.rem(1)),width:I.a.rem(5),height:I.a.rem(5),borderRadius:I.a.percent(50),boxShadow:"0 0 48px 0 rgba(96, 101, 123, .08)",justifyContent:"center",alignItems:"center"},Z={position:"fixed",right:I.a.rem(4)},Y={marginRight:I.a.rem(-.5)},X={position:"fixed",right:I.a.rem(14),bottom:"auto"},Q={$nest:{"@media (max-height: 767px)":Object(r.a)({},Y),"@media (min-height: 768px)":Object(r.a)({},X)}},J=Object(i.a)(Object(r.a)({},X),{bottom:0}),ee=Object(i.a)(Object(r.a)({},J),{marginRight:I.a.rem(2),right:I.a.rem(4)}),te={$nest:{"@media (min-height: 768px)":Object(i.a)(Object(r.a)({},X),{top:I.a.rem(24)})}},ne={$nest:{"@media (min-height: 768px)":Object(i.a)(Object(r.a)({},X),{top:I.a.rem(28)})}},ae={$nest:{"@media (min-height: 768px)":Object(i.a)(Object(r.a)({},X),{top:I.a.rem(32)})}},re=Object(i.a)(Object(r.a)({},X),{bottom:0}),ie=Object(i.a)(Object(r.a)({},re),{marginRight:I.a.rem(2),right:I.a.rem(4)}),oe=I.a.stylesheet({wrapper:[{position:"relative",width:0,height:0}],container:[P.a,W],messageContainer:[z],buttonsContainer:[G],laterButton:[q],imageContainer:[$],baseTitle:[{fontWeight:"bold"}],closedSidebar:[Z],fixedNotification:[Q],outcomesPlagiarismSidebarOpen:[J],outcomesPlagiarismSidebarClosed:[ee],engagement:[te],delivery:[ne],gbVoxUphook:[ae],proofitSidebarOpen:[re],proofitSidebarClosed:[ie],footerButtons:[K]}),se=function(e){return s.createElement(l.a.div,{className:e.isSidebarOpen.view((function(e){return e?"":oe.closedSidebar}))},e.navigationViewModel.popover.view(Object(c.flow)(S.g.map((function(t){switch(t){case O.b.ProofitHook:return s.createElement(de,Object(i.a)(Object(r.a)({},e),{key:"proofit"}));case O.b.PlagiarismHook:return s.createElement(ge,Object(i.a)(Object(r.a)({},e),{key:"plagiarism"}));case O.b.EngagementHook:return s.createElement(pe,Object(i.a)(Object(r.a)({},e),{key:"engagement"}));case O.b.DeliveryHook:return s.createElement(me,Object(i.a)(Object(r.a)({},e),{key:"delivery"}));case O.b.GbVoxHook:return s.createElement(he,Object(i.a)(Object(r.a)({},e),{key:"GbVoxHook"}));case O.b.GbEnableVoxHook:return s.createElement(fe,Object(i.a)(Object(r.a)({},e),{key:"GbEnableVox"}));default:return Object(C.c)(t)}})),S.g.toNullable)))},ce=function(e){var t=e.title,n=e.description,a=e.visible,i=e.children,o=e.footer,c=e.className,d=e.overlayType;return s.createElement(l.a.div,{className:oe.wrapper},s.createElement(f.b,{positionType:"fixed",visible:a,alignment:"none",overlayType:d}),a.view((function(e){return e&&s.createElement(l.a.div,Object(r.a)({key:"container",role:"status","aria-live":"polite","data-name":"freemium-notification"},Object(u.c)(oe.container,c)),s.createElement("div",{className:oe.messageContainer},s.createElement(h.j,{className:oe.baseTitle},t),s.createElement(h.a,null,n),s.createElement(m.a.Group,{className:oe.buttonsContainer},o)),s.createElement("div",{className:oe.imageContainer},i))})))},le=function(e){var t=s.useContext(E.a.Context),n=t.gnarSpec,a=t.pageId,o={pageId:a,upgradeHookName:x.a.UpgradeHookName.Tooltip,upgradeHookSlot:e.metricSlot,upgradeHookVariant:e.upgradeViewModel.isEligibleForFreeTrial?x.a.UpgradeHookVariant.premiumTrial:x.a.UpgradeHookVariant.premium},c=k.d.TimeSeries.rootFemetrics.getMetric(x.a.Metrics.GetPremiumButton).getCounter(x.a.MetricsActions.Show).setContext(o),l=k.d.TimeSeries.rootFemetrics.getMetric(x.a.Metrics.GetPremiumButton).getCounter(x.a.MetricsActions.Click).setContext(o),u=_.a.create(n),p={pageId:a,bannerType:"goPremium",placement:e.trackingPlacement,upgradeHookName:"tooltip",upgradeHookSlot:e.metricSlot,upgradeHookVariant:e.upgradeViewModel.isEligibleForFreeTrial?"premiumTrial":"premium"},f=v.a.useVisibilityObserverOnce((function(){c.increment(),u.trackShow(p)})),h=e.navigationViewModel.popover.lens(d.a.create(S.g.exists((function(t){return t===e.type})),(function(e){return Object(C.f)(!Boolean(e),"Positive values shouldn't be set through Option.clear lens"),S.g.none})));return s.createElement(ce,Object(i.a)(Object(r.a)({},e),{visible:h,className:e.className,overlayType:null!=e.overlayType?e.overlayType:"transparent",footer:s.createElement("div",{ref:f,className:oe.footerButtons},s.createElement(g.a,{size:"small",isEligibleForFreeTrial:e.upgradeViewModel.isEligibleForFreeTrial,upgradeAction:function(){l.increment(),u.trackClick(p),e.upgradeViewModel.openUpgradeUrl(e.place)}}),s.createElement(m.a.Ghost,{name:"later",className:oe.laterButton,onClick:function(){n.dismissUpHookButtonClick(a,e.trackingPlacement),h.set(!1)}},"Maybe later"))}))},ue=function(e){var t=e.navigationViewModel.popover.lens(d.a.create(S.g.exists((function(t){return t===e.type})),(function(e){return Object(C.f)(!Boolean(e),"Positive values shouldn't be set through Option.clear lens"),S.g.none})));return s.createElement(l.a.div,{className:oe.wrapper},s.createElement(f.b,{positionType:"fixed",visible:t,alignment:"none",overlayType:"transparent"}),t.view((function(n){return Boolean(n)&&s.createElement("div",Object(r.a)({key:"container"},Object(u.c)(V.container,oe.gbVoxUphook)),s.createElement(h.a,{className:V.title},e.title),s.createElement("div",{className:V.content},s.createElement(h.a,null,e.description),s.createElement(A,{className:V.image})),s.createElement("div",{className:V.buttonsContainer},s.createElement(m.a.Ghost,{textPosition:"surrounded",name:"gb.hook.CTA",className:V.ctaButton,onClick:Object(a.a)((function(){return Object(o.c)(this,(function(n){switch(n.label){case 0:return[4,e.onCta()];case 1:return n.sent(),t.set(!1),[2]}}))}))},e.cta),s.createElement(m.a.Flat,{name:"gb.hook.later",className:V.dismissButton,onClick:function(){e.onLater(),t.set(!1)}},e.maybeLater)))})))},de=function(e){var t=s.useContext(p.a.Context);return s.createElement(le,{isSidebarOpen:e.isSidebarOpen,type:O.b.ProofitHook,upgradeViewModel:e.upgradeViewModel,navigationViewModel:e.navigationViewModel,title:t.proofitTitle,description:t.proofitDescription,place:j.i.Place.DenaliDocument.editorDenaliProofit,className:Boolean(e.className)?e.className:e.isSidebarOpen.view((function(e){return e?oe.proofitSidebarOpen:oe.proofitSidebarClosed})),overlayType:e.overlayType,trackingPlacement:"proofreadingTooltip",metricSlot:x.a.UpgradeHookSlot.ProofreadingTooltip},s.createElement(be,null))},pe=function(e){var t=s.useContext(p.a.Context);return s.createElement(le,{type:O.b.EngagementHook,upgradeViewModel:e.upgradeViewModel,navigationViewModel:e.navigationViewModel,title:b.a.OutcomeId.fromOutcomeId(b.a.SpecialId.Engagement),description:t.freemiumNotifications.engagement,place:j.i.Place.DenaliDocument.editorDenaliEngagement,className:Boolean(e.className)?e.className:oe.engagement,overlayType:e.overlayType,trackingPlacement:"engagementTooltip",metricSlot:x.a.UpgradeHookSlot.EngagementTooltip},s.createElement(ye,null))},me=function(e){var t=s.useContext(p.a.Context);return s.createElement(le,{type:O.b.DeliveryHook,upgradeViewModel:e.upgradeViewModel,navigationViewModel:e.navigationViewModel,title:b.a.OutcomeId.fromOutcomeId(b.a.SpecialId.Delivery),description:t.freemiumNotifications.delivery,place:j.i.Place.DenaliDocument.editorDenaliDelivery,className:Boolean(e.className)?e.className:oe.delivery,overlayType:e.overlayType,trackingPlacement:"deliveryTooltip",metricSlot:x.a.UpgradeHookSlot.DeliveryTooltip},s.createElement(Oe,null))},fe=function(e){var t=s.useContext(p.a.Context).gbEnableVoxLensHook,n=s.useContext(E.a.Context),a=n.gnarSpec,i=n.pageId;return s.useEffect((function(){a.gbEnableVoxNotificationShow(i)})),s.createElement(ue,Object(r.a)({type:O.b.GbEnableVoxHook,onCta:function(){a.gbEnableVoxButtonClick(i),e.upgradeViewModel.enableGBVoxHookLens()},onLater:function(){a.dismissUpHookButtonClick(i,"gbVoxLensEnableHook")}},t,e))},he=function(e){var t=s.useContext(p.a.Context).gbVoxLensUpHook,n=s.useContext(E.a.Context),a=n.gnarSpec,i=n.pageId;return s.createElement(ue,Object(r.a)({type:O.b.GbVoxHook,onCta:function(){return y.a.mergeStatic(Object(w.g)(300),a.getGBButtonClick("gbVoxLens",t.cta,i,"gbVoxLens").catch(w.e)).pipe(y.a.first(),y.a.tap((function(){return e.upgradeViewModel.fromGbVoxUpHookLens()}))).toPromise()},onLater:function(){a.dismissUpHookButtonClick(i,"gbVoxLens")}},t,e))},ge=function(e){var t=s.useContext(p.a.Context);return s.createElement(le,{isSidebarOpen:e.isSidebarOpen,type:O.b.PlagiarismHook,upgradeViewModel:e.upgradeViewModel,navigationViewModel:e.navigationViewModel,title:t.plagiarism.title,description:t.freemiumNotifications.plagiarism,place:j.i.Place.DenaliDocument.editorDenaliPlagiarism,className:Boolean(e.className)?e.className:e.isSidebarOpen.view((function(e){return e?oe.outcomesPlagiarismSidebarOpen:oe.outcomesPlagiarismSidebarClosed})),overlayType:e.overlayType,trackingPlacement:"plagiarismTooltip",metricSlot:x.a.UpgradeHookSlot.PlagiarismTooltip},s.createElement(ve,null))},be=function(){return s.createElement("svg",{"aria-hidden":!0,width:"78",height:"79",viewBox:"0 0 78 79"},s.createElement("defs",null,s.createElement("path",{d:"M30.333 58.933c16.753 0 30.334-13.192 30.334-29.466S47.086 0 30.333 0C13.581 0 0 13.193 0 29.467s13.58 29.466 30.333 29.466z",id:"profproofreadersimg-path"})),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(2 2)"},s.createElement("path",{d:"M6.33 44.008c2.564 7.611 16.385 17.525 29.127 17.525C51.773 61.533 65 48.53 65 32.488 65 16.447 48.648 4.311 36.516 2.983c-8.395-.919-11.41-.345-18.512 3.497-4.216 2.28-7.884 6.083-10.256 9.605-2.569 3.814-4.281 11.482-4.281 16.403 0 3.514 1.719 8.403 2.863 11.52z",fill:"#B8D3FA"}),s.createElement("mask",{id:"profproofreadersimg-mask",fill:"#fff"},s.createElement("use",{xlinkHref:"#profproofreadersimg-path"})),s.createElement("path",{stroke:"#555C6A",strokeWidth:"2",d:"M30.333 59.933C13.035 59.933-1 46.3-1 29.467-1 12.634 13.035-1 30.333-1c17.299 0 31.334 13.634 31.334 30.467S47.632 59.933 30.333 59.933z"}),s.createElement("path",{d:"M29.843 47.74L31 51.519 26.81 67c-8.664-1.11-15.147-2.6-19.45-4.473 0 0-1.308-.306-1.36-3.263 0 0 .47-5.809 4.499-11.621 0 0 1.15-1.53 3.87-2.55l8.696-3.687a5.183 5.183 0 0 0 1.345-1.17c.041-.053.099-.131.172-.236l-.172 10.523 5.433-2.783zm24.59-.228c4.09 5.858 4.568 11.71 4.567 11.71-.053 2.98-1.38 3.29-1.38 3.29-2.61 1.126-9.133 2.622-19.573 4.488L34 51.523l1.24-3.84 4.908 2.836L40.366 40c.281.357.518.602.71.735.086.097.352.277.437.37.193.145.407.288.637.431 2.902 1.806 8.352 3.408 8.352 3.408 2.763 1.027 3.931 2.568 3.931 2.568zM40 36.076V37c0 2.5-4.5 8-7.688 8-3.188 0-7.312-5.5-7.263-8 .016-.5.016-.643 0-.924-1.271-1.628-2.286-2.805-2.845-4.803-1.451 0-1.82-5.804-1.451-6.707-.043-.098-.078-3.484.35-7.296 0 0 .204-7.073 7.397-8.27 1.005 1.073 9.547-2.5 9.547 3.5C45 9 44.453 24.284 44.358 24.566c.31.478 0 6.707-1.695 6.707-.562 1.537-1.64 3.463-2.663 4.803z",fill:"#FFF",mask:"url(#profproofreadersimg-mask)"})),s.createElement("g",{transform:"translate(43 44)"},s.createElement("ellipse",{stroke:"#555C6A",strokeWidth:"2",fill:"#FFF",strokeLinecap:"square",cx:"15.714",cy:"15.963",rx:"16.714",ry:"16.963"}),s.createElement("ellipse",{fill:"#68DEC2",style:{mixBlendMode:"multiply"},cx:"18.571",cy:"17.414",rx:"16.429",ry:"16.688"}),s.createElement("path",{stroke:"#FFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",d:"M7.857 17.274l5.501 5.724L25 10.884"}))))},ve=function(){return s.createElement("svg",{"aria-hidden":!0,width:"32",height:"32",viewBox:"0 0 32 32"},s.createElement("defs",null,s.createElement("rect",{id:"plariarismoutcomesimg-rect",width:"22",height:"22",rx:"4"}),s.createElement("path",{id:"plariarismoutcomesimg-path",d:"M22 10v8a4 4 0 0 1-4 4h-8v-8a4 4 0 0 1 4-4h8z"}),s.createElement("filter",{id:"plariarismoutcomesimg-filter",width:"350%",height:"350%",x:"-125%",y:"-125%",filterUnits:"objectBoundingBox"},s.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),s.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),s.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"}))),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("use",{fill:"#5CDAE6",transform:"translate(10 10)",xlinkHref:"#plariarismoutcomesimg-rect"}),s.createElement("mask",{id:"plariarismoutcomesimg-mask",fill:"#fff"},s.createElement("use",{xlinkHref:"#plariarismoutcomesimg-rect"})),s.createElement("use",{fill:"#99F6FF",xlinkHref:"#plariarismoutcomesimg-rect"}),s.createElement("g",{mask:"url(#plariarismoutcomesimg-mask)"},s.createElement("use",{fill:"#000",filter:"url(#plariarismoutcomesimg-filter)",xlinkHref:"#plariarismoutcomesimg-path"}),s.createElement("use",{fill:"#79E8F2",xlinkHref:"#plariarismoutcomesimg-path"}))))},ye=function(){return s.createElement("svg",{"aria-hidden":!0,width:"32",height:"32",viewBox:"0 0 32 32"},s.createElement("defs",null,s.createElement("circle",{id:"engagementimg-circle",cx:"16",cy:"16",r:"16"}),s.createElement("path",{id:"engagementimg-path",d:"M8 16a10 10 0 1 1 16 0 10 10 0 1 1-16 0zm0 0a9.98 9.98 0 0 0 16 0 9.98 9.98 0 0 0-16 0z"}),s.createElement("filter",{id:"engagementimg-filter",width:"250%",height:"193.8%",x:"-75%",y:"-46.9%",filterUnits:"objectBoundingBox"},s.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),s.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),s.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}))),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("mask",{id:"engagementimg-mask",fill:"#fff"},s.createElement("use",{xlinkHref:"#engagementimg-circle"})),s.createElement("use",{fill:"#B9F9EA",xlinkHref:"#engagementimg-circle"}),s.createElement("g",{mask:"url(#engagementimg-mask)"},s.createElement("use",{fill:"#000",filter:"url(#engagementimg-filter)",xlinkHref:"#engagementimg-path"}),s.createElement("use",{fill:"#0FDCAC",xlinkHref:"#engagementimg-path"})),s.createElement("path",{fill:"#C0F9EC",d:"M8 16a9.98 9.98 0 0 1 16 0 9.98 9.98 0 0 1-16 0z",mask:"url(#engagementimg-mask)"})))},Oe=function(){return s.createElement("svg",{"aria-hidden":!0,width:"32",height:"32",viewBox:"0 0 42 32"},s.createElement("defs",null,s.createElement("ellipse",{id:"deliveryimg-ellipse",cx:"16",cy:"20",rx:"11.97",ry:"12"}),s.createElement("filter",{id:"deliveryimg-filter1",width:"225.3%",height:"225%",x:"-62.7%",y:"-62.5%",filterUnits:"objectBoundingBox"},s.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),s.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),s.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.934440559 0"})),s.createElement("circle",{id:"deliveryimg-circle",cx:"16",cy:"24",r:"8"}),s.createElement("filter",{id:"deliveryimg-filter2",width:"287.5%",height:"287.5%",x:"-93.8%",y:"-93.8%",filterUnits:"objectBoundingBox"},s.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),s.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),s.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"}))),s.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(5 2)"},s.createElement("circle",{cx:"16",cy:"16",r:"16",fill:"#E8C7FF"}),s.createElement("use",{fill:"#000",filter:"url(#deliveryimg-filter1)",xlinkHref:"#deliveryimg-ellipse"}),s.createElement("use",{fill:"#D39DFA",xlinkHref:"#deliveryimg-ellipse"}),s.createElement("g",null,s.createElement("use",{fill:"#000",filter:"url(#deliveryimg-filter2)",xlinkHref:"#deliveryimg-circle"}),s.createElement("use",{fill:"#BC78ED",xlinkHref:"#deliveryimg-circle"}))))}},Vx4e:function(e,t,n){"use strict";n.r(t),n.d(t,"premiumDemoDocument",(function(){return a})),n.d(t,"fullSentenceDemoText",(function(){return r})),n.d(t,"mutedAlertsDemoText",(function(){return i})),n.d(t,"bulkAcceptDemoText",(function(){return o})),n.d(t,"listTransformDemoText",(function(){return s})),n.d(t,"annotatorEmptyDocument",(function(){return c}));var a={title:"Welcome to Grammarly Premium!",text:""},r={title:"",text:"As many people in the Lima region wait with much hopeful anticipation for all of the impact Rhodes State College will have on our downtown area, many others have concerns due to the lack of activity after the demolition of most of the buildings downtown earlier this year.\n\nAs a business man with local interests, I have always tried to be as supportive as it is possible for me to be of our entire community. I can become passionte about all of the positive opportunities that arise. I could also become frustrated with all of the negative comments and roadblocks that stand in the way of the progress of our community.\n\nI feel it is time the public realizes and supports the impact this facility would have on the community and the reason the project has been slowed down.\n\nThe vision of the doctor and board to build a new medical school in the heart of our county and city is a model of community spirit and partnership for the betterment of so many aspects of our region. The 500 to 700 students and faculty that will be in our Town Square on a daily basis will bring foot traffic and youth, talent and opportunity. Many of the young people will fill many job openings and remain in our community for many years to come.\n\nAs a community full of positive thinkers and optimists, let’s not just be passive and ask ourselves five years from now what could we have done! Let us all gather together and demand answers, demand progress and let our voices ring through city hall."},i={title:"",text:"Regarding our vaction policy, a decision was made to give everyone an extra day off. The decision was based on the fact that lots people are extra stressed now and not taking time off. We really hope that this will give everyone a good rest. If you have any comments or questions please send them to us promptly. The feedback has always been appreciated.\nAdditionally, please review the latest changes in our work from home police that have been updated this month. The new page was added to our Wiki. It includes a number of new recommendations on how to stay productive remotely."},o={title:"",text:"Welcome to the Grammarly Editor, the best place to write what’s important.\n\nRed underlines mean that Grammarly has spotted a mistake in your writing. You’ll sea one if you mispell something. (See what we did there?) You’ll also see an underline, if you misuse a punctuation mark.If you’re worry about typos or grammatical errors that could effect your credibility, Grammarly will helps you fix those to. Click any of Grammarly’s suggested corrections to apply them to your text, or open a brief explanation to learn more about error and how to fix it.\n\nBut there’s more to good writing than speling, punctuation and grammar. (Sorry, couldn’t resist.)\n\nBrilliant sentences are clear and concise. Underlines that are blue indicate that Grammarly has spotted a sentence that is unnecessarily wordy. Grammarly scores each text based on how clear it will be to your readers and gives you guidance in order to do a revision of it in an effortless manner. Afterall, there are some sentences that are gramatically correct but still awkward and hard to follow. It goes without saying that sometimes you can actually improve a sentence by completely eliminating words that are basically unnecessary."},s={title:"",text:"The last few day have been full of a lot of thinking about what our goals should be for the development of great new features for our users. While there is a ton we could be doing, there's a few areas where I see us helping our users next year: making sure their message is clear and is able to get through to their readers, helping them sound friendlier and develop stronger and more authentic connections with their coworkers, appearing reputable with correct grammar and proper formatting, and feeling more confident about their writing. I hope you're all as excited by these opportunity as I am. The workmanship in our products will be evident to all of our users.  Send me your thoughts and any additional ideas by October 1st."},c={title:"",text:""}},VzV2:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return b}));var a,r,i=n("Wy1Y"),o=n("uKMM"),s=n("a5gI"),c=n("4mQT"),l=n("t5lx"),u=n("DTwm"),d=n("+vYo"),p=n("oIsx"),m=n("xk6L"),f=n("mgiE"),h=n("RRF2"),g=n("M3t0");!function(e){var t=function(e){return"sending"===e.kind};e.isSending=t;e.isSendingState=f.g.exists(t)}(a||(a={})),function(e){e.isSuccess=function(e){return e.status===p.a.StatisticsStatus.Success}}(r||(r={}));var b,v=function(){function e(t,n){var a=this;Object(i.a)(this,e),Object(s.a)(this,"_doc",void 0),Object(s.a)(this,"documentTitle",void 0),Object(s.a)(this,"_statisticsCache",void 0),Object(s.a)(this,"_proofitStatisticsIO",void 0),Object(s.a)(this,"state",void 0),Object(s.a)(this,"jobDetails",void 0),this._doc=t,this.documentTitle=n,this._statisticsCache=f.g.none,this._proofitStatisticsIO=function(){return Object(u.pipe)(a._statisticsCache,f.g.fold(Object(u.pipe)(a._doc.getProofitStatistics,f.l.chain(f.l.fromPredicate(r.isSuccess,(function(e){return new Error(e.status)}))),f.l.chainFirst((function(e){return f.l.fromIO((function(){a._statisticsCache=f.g.some(e)}))}))),(function(e){return Promise.resolve(f.b.right(e))})))},this.state=d.a.create(f.g.none),this.jobDetails=d.a.create(f.g.none)}return Object(o.a)(e,[{key:"getPlans",value:function(){return this._doc.getProofitPlans().then(f.b.fold((function(e){return Promise.reject(e)}),(function(e){return e.status===p.a.PlanStatus.Forbidden?Promise.reject({status:p.a.PlanStatus.Forbidden}):Promise.resolve(e)})))}},{key:"getStatistics",value:function(){return m.a.defer(this._proofitStatisticsIO).pipe(m.a.map(f.g.fromEither))}},{key:"placeOrder",value:function(e,t,n,a,r){var i=this;return this.state.set(f.g.some({kind:"sending"})),f.l.toPromise(this._doc.placeProofitOrder({turnaround:e.turnaround,tier:e.tier,userInputs:t,priceOfferId:n,payWithCredits:r},a)).then((function(e){return i._updateStatus(e.status)})).catch((function(e){g.d.Logging.getLogger("ProofitModel").warn("Error placing proofit order",e),i.state.set(f.g.some({kind:"error",errorType:"unknown"}))}))}},{key:"updateState",value:function(e){this._updateStatus(e.status),this.jobDetails.set(f.g.some({startTime:e.submitted,dueTime:e.due}))}},{key:"_updateStatus",value:function(e){switch(e){case p.a.JobStatus.building:break;case p.a.JobStatus.newJob:this.state.set(f.g.some({kind:"submitted"}));break;case p.a.JobStatus.completed:this.state.set(f.g.some({kind:"finished"}));break;case p.a.JobStatus.cancelled:this.state.set(f.g.some({kind:"cancelled"}));break;case p.a.JobStatus.emptyDocument:this.state.set(f.g.some({kind:"error",errorType:"emptyDocument"}));break;case p.a.JobStatus.duplicate:this.state.set(f.g.some({kind:"error",errorType:"alreadyProofread"}));break;case p.a.JobStatus.complexInternalStructure:this.state.set(f.g.some({kind:"error",errorType:"complexInternalStructure"}));break;case p.a.JobStatus.paymentError:this.state.set(f.g.some({kind:"error",errorType:"payment"}));break;case p.a.JobStatus.forbidden:case p.a.JobStatus.unknown:default:this.state.set(f.g.none)}}}]),e}(),y=function(e,t,n){return{getProofitPlans:function(){return Promise.resolve(f.b.right({status:p.a.PlanStatus.Success,turnaroundOptions:[{enabled:!0,label:"24 hours",minutesToProcess:f.g.of(1440),hoursToProcess:f.g.none,perWord:.14,price:140,turnaround:p.a.PlanType.TwentyFourHours,requirePaymentCheck:!1,tier:p.a.PlanTier.Base,credits:f.g.none},{enabled:!0,label:"3 hours",minutesToProcess:f.g.of(180),hoursToProcess:f.g.none,perWord:.18,price:180,turnaround:p.a.PlanType.ThreeHours,requirePaymentCheck:!0,tier:p.a.PlanTier.Base,credits:f.g.none},{enabled:!0,label:"30 minutes",minutesToProcess:f.g.of(30),hoursToProcess:f.g.none,perWord:.3,price:300,turnaround:p.a.PlanType.Instant,requirePaymentCheck:!1,tier:p.a.PlanTier.Base,credits:f.g.none}],clarityTurnaroundOptions:[{enabled:!0,label:"24 hours",minutesToProcess:f.g.of(1440),hoursToProcess:f.g.none,perWord:.14,price:140,turnaround:p.a.PlanType.TwentyFourHours,requirePaymentCheck:!1,tier:p.a.PlanTier.Clarity,credits:f.g.none},{enabled:!0,label:"3 hours",minutesToProcess:f.g.of(180),hoursToProcess:f.g.none,perWord:.18,price:180,turnaround:p.a.PlanType.ThreeHours,requirePaymentCheck:!0,tier:p.a.PlanTier.Clarity,credits:f.g.none}],words:100,userInputs:{nativeLanguage:f.g.none,dialect:f.g.none,quotationType:f.g.none,spaceType:f.g.none,noteToEditor:f.g.none},priceOfferId:p.a.PriceOfferId.create(424242)}))},placeProofitOrder:function(){return function(){return new Promise((function(t){var a=h.d.Local.Timestamp.now(),r=h.d.Local.Timestamp.toLocal(h.d.Local.Timestamp.add(a,3*h.d.MS_IN_HOUR)),i={submitted:h.d.Local.Timestamp.toLocal(a),corrections:5,due:r,price:666,name:"",completed:f.g.none,id:1,status:p.a.stringToJobStatus(e),is_dox_applied:!0};setTimeout((function(){return t(f.b.right(i))}),0),setTimeout((function(){return n(i)}),500)}))}},getProofitStatistics:function(){return Promise.resolve(f.b.right(t))}}};!function(e){var t=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.a.JobStatus.newJob,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.g.none;return Object(i.a)(this,n),e=t.call(this,y(a,{status:p.a.StatisticsStatus.Success,lastCompletedJobDate:r},(function(t){e.updateState(t)})),d.a.create(""))}return n}(v);e.Mock=t}(b||(b={}))},W2lE:function(e){e.exports=JSON.parse('{"stepWrapper":"_ca02fd3b-right-stepWrapper"}')},WBKC:function(e,t,n){"use strict";n.r(t),n.d(t,"SE",(function(){return M})),n.d(t,"ap",(function(){return P})),n.d(t,"error",(function(){return D})),n.d(t,"success",(function(){return B})),n.d(t,"failure",(function(){return L})),n.d(t,"fromRefinement",(function(){return F})),n.d(t,"fromGuard",(function(){return R})),n.d(t,"literal",(function(){return H})),n.d(t,"string",(function(){return V})),n.d(t,"number",(function(){return U})),n.d(t,"boolean",(function(){return W})),n.d(t,"UnknownArray",(function(){return z})),n.d(t,"UnknownRecord",(function(){return G})),n.d(t,"mapLeftWithInput",(function(){return q})),n.d(t,"withMessage",(function(){return K})),n.d(t,"refine",(function(){return $})),n.d(t,"parse",(function(){return Z})),n.d(t,"nullable",(function(){return Y})),n.d(t,"fromStruct",(function(){return X})),n.d(t,"fromType",(function(){return Q})),n.d(t,"struct",(function(){return J})),n.d(t,"type",(function(){return ee})),n.d(t,"fromPartial",(function(){return te})),n.d(t,"partial",(function(){return ne})),n.d(t,"fromArray",(function(){return ae})),n.d(t,"array",(function(){return re})),n.d(t,"fromRecord",(function(){return ie})),n.d(t,"record",(function(){return oe})),n.d(t,"fromTuple",(function(){return se})),n.d(t,"tuple",(function(){return ce})),n.d(t,"union",(function(){return le})),n.d(t,"intersect",(function(){return ue})),n.d(t,"fromSum",(function(){return de})),n.d(t,"sum",(function(){return pe})),n.d(t,"lazy",(function(){return me})),n.d(t,"readonly",(function(){return fe})),n.d(t,"map",(function(){return ge})),n.d(t,"alt",(function(){return be})),n.d(t,"compose",(function(){return ve})),n.d(t,"id",(function(){return ye})),n.d(t,"URI",(function(){return Oe})),n.d(t,"Functor",(function(){return Se})),n.d(t,"Alt",(function(){return Ce})),n.d(t,"Category",(function(){return we})),n.d(t,"Schemable",(function(){return ke})),n.d(t,"WithUnknownContainers",(function(){return Ee})),n.d(t,"WithUnion",(function(){return je})),n.d(t,"WithRefine",(function(){return _e})),n.d(t,"draw",(function(){return Ne})),n.d(t,"stringify",(function(){return De}));var a=n("HOlR"),r=n("DTwm"),i=n("tiWp"),o=function(e){return{_tag:"Of",value:e}},s=function(e,t){return{_tag:"Concat",left:e,right:t}};var c=function(e,t,n){return{_tag:"Key",key:e,kind:t,errors:n}},l=function(e,t,n){return{_tag:"Index",index:e,kind:t,errors:n}},u=function(e,t){return{_tag:"Member",index:e,errors:t}};function d(){return{concat:s}}var p=n("yRey"),m=n("j8jx");function f(e){return function(t,n){return{decode:function(a){return t(a)?e.of(a):e.throwError(n(a))}}}}function h(e){return function(t){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return{decode:function(a){return p.literal.apply(p,n).is(a)?e.of(a):e.throwError(t(a,n))}}}}}function g(e){return function(t){return function(n){return{decode:function(a){return e.mapLeft(n.decode(a),(function(e){return t(a,e)}))}}}}}function b(e){return function(t){return function(n){return k(e)({decode:t})(n)}}}function v(e){return function(t){return function(n){return{decode:function(a){return null===a?e.of(null):e.bimap(n.decode(a),(function(e){return t(a,e)}),(function(e){return e}))}}}}}function y(e){var t=I(e);return function(n){return function(a){return{decode:function(r){return t(a,(function(t,a){return e.mapLeft(a.decode(r[t]),(function(e){return n(t,e)}))}))}}}}}function O(e){var t=A(e);return function(n){return function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];return{decode:function(r){return t(a,(function(t,a){return e.mapLeft(a.decode(r[t]),(function(e){return n(t,e)}))}))}}}}}function S(e){return function(t){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return{decode:function(a){for(var r=e.mapLeft(n[0].decode(a),(function(e){return t(0,e)})),i=function(i){r=e.alt(r,(function(){return e.mapLeft(n[i].decode(a),(function(e){return t(i,e)}))}))},o=1;o<n.length;o++)i(o);return r}}}}}function C(e){return function(t){return function(n){return{decode:function(a){return e.ap(e.map(n.decode(a),(function(e){return function(t){return Object(m.a)(e,t)}})),t.decode(a))}}}}}function w(e){return function(t){return function(n,a){var r=Object(m.b)(a);return{decode:function(a){return e.mapLeft(r().decode(a),(function(e){return t(n,e)}))}}}}}function k(e){return function(t){return function(n){return{decode:function(a){return e.chain(n.decode(a),t.decode)}}}}}function E(e){return function(){return{decode:e.of}}}function j(e){return function(t){return function(n){return{decode:function(a){return e.map(n.decode(a),t)}}}}}function _(e){return function(t){return function(n){return{decode:function(a){return e.alt(n.decode(a),(function(){return t().decode(a)}))}}}}}var x,A=function(e){return function(t,n){return t.reduce((function(t,a,r){return e.ap(e.map(t,(function(e){return function(t){return e.push(t),e}})),n(r,a))}),e.of([]))}},I=function(e){return function(t,n){var a=Object.keys(t);if(0===a.length)return e.of({});for(var r=e.of({}),i=function(a){r=e.ap(e.map(r,(function(e){return function(t){return e[a]=t,e}})),n(a,t[a]))},o=0,s=a;o<s.length;o++){i(s[o])}return r}},T=function(e){var t={};for(var n in e){var r=e[n];a.isRight(r)&&(t[n]=r.right)}return t},M=d(),P=function(e,t){return a.isLeft(e)?a.isLeft(t)?a.left(M.concat(e.left,t.left)):e:a.isLeft(t)?t:a.right(e.right(t.right))},N={URI:a.URI,_E:void 0,map:function(e,t){return Object(i.pipe)(e,a.map(t))},ap:P,of:a.right,chain:function(e,t){return Object(i.pipe)(e,a.chain(t))},throwError:a.left,bimap:function(e,t,n){return Object(i.pipe)(e,a.bimap(t,n))},mapLeft:function(e,t){return Object(i.pipe)(e,a.mapLeft(t))},alt:function(e,t){if(a.isRight(e))return e;var n=t();return a.isLeft(n)?a.left(M.concat(e.left,n.left)):n}},D=function(e,t){return o(function(e,t){return{_tag:"Leaf",actual:e,error:t}}(e,t))},B=a.right,L=function(e,t){return a.left(D(e,t))},F=function(e,t){return f(N)(e,(function(e){return D(e,t)}))},R=function(e,t){return F(e.is,t)},H=h(N)((function(e,t){return D(e,t.map((function(e){return JSON.stringify(e)})).join(" | "))})),V=R(p.string,"string"),U=R(p.number,"number"),W=R(p.boolean,"boolean"),z=R(p.UnknownArray,"Array<unknown>"),G=R(p.UnknownRecord,"Record<string, unknown>"),q=g(N),K=function(e){return q((function(t,n){return o(function(e,t){return{_tag:"Wrap",error:e,errors:t}}(e(t,n),n))}))},$=function(e,t){return(n=N,function(e,t){return function(a){return k(n)(f(n)(e,t))(a)}})(e,(function(e){return D(e,t)}));var n},Z=b(N),Y=v(N)((function(e,t){return s(o(u(0,D(e,"null"))),o(u(1,t)))})),X=function(e){return y(N)((function(e,t){return o(c(e,"required",t))}))(e)},Q=X,J=function(e){return Object(i.pipe)(G,ve(X(e)))},ee=J,te=function(e){return(n=I(t=N),r=t.of(a.right(void 0)),i=t.of(a.left(void 0)),function(e){return function(o){return{decode:function(s){return t.map(n(o,(function(n,o){var c=s[n];return void 0===c?n in s?r:i:t.bimap(o.decode(c),(function(t){return e(n,t)}),(function(e){return a.right(e)}))})),T)}}}})((function(e,t){return o(c(e,"optional",t))}))(e);var t,n,r,i},ne=function(e){return Object(i.pipe)(G,ve(te(e)))},ae=function(e){return(n=A(t=N),function(e){return function(a){return{decode:function(r){return n(r,(function(n,r){return t.mapLeft(a.decode(r),(function(t){return e(n,t)}))}))}}}})((function(e,t){return o(l(e,"optional",t))}))(e);var t,n},re=function(e){return Object(i.pipe)(z,ve(ae(e)))},ie=function(e){return(n=I(t=N),function(e){return function(a){return{decode:function(r){return n(r,(function(n,r){return t.mapLeft(a.decode(r),(function(t){return e(n,t)}))}))}}}})((function(e,t){return o(c(e,"optional",t))}))(e);var t,n},oe=function(e){return Object(i.pipe)(G,ve(ie(e)))},se=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return O(N)((function(e,t){return o(l(e,"required",t))})).apply(void 0,e)},ce=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(i.pipe)(z,ve(se.apply(void 0,e)))},le=S(N)((function(e,t){return o(u(e,t))})),ue=C(N),de=function(e){return function(t){return(n=N,function(e){return function(t){return function(a){var r=Object.keys(a);return{decode:function(i){var o=i[t];return o in a?a[o].decode(i):n.throwError(e(t,o,r))}}}}})((function(e,t,n){return o(c(e,"required",D(t,0===n.length?"never":n.map((function(e){return JSON.stringify(e)})).join(" | "))))}))(e)(t);var n}},pe=function(e){return function(t){return Object(i.pipe)(G,ve(de(e)(t)))}},me=w(N)((function(e,t){return o(function(e,t){return{_tag:"Lazy",id:e,errors:t}}(e,t))})),fe=r.identity,he=function(e,t){return Object(i.pipe)(e,ge(t))},ge=j(N),be=_(N),ve=k(N),ye=E(N),Oe="io-ts/Decoder",Se={URI:Oe,map:he},Ce={URI:Oe,map:he,alt:function(e,t){return Object(i.pipe)(e,be(t))}},we={URI:Oe,compose:function(e,t){return Object(i.pipe)(t,ve(e))},id:ye},ke={URI:Oe,literal:H,string:V,number:U,boolean:W,nullable:Y,type:ee,struct:J,partial:ne,record:oe,array:re,tuple:ce,intersect:ue,sum:pe,lazy:me,readonly:fe},Ee={UnknownArray:z,UnknownRecord:G},je={union:le},_e={refine:$},xe=[],Ae=function(e,t){return void 0===t&&(t=xe),{value:e,forest:t}},Ie=function(e){return e.value+Te("\n",e.forest)},Te=function(e,t){for(var n,a="",r=t.length,i=0;i<r;i++){var o=i===r-1;a+=e+(o?"└":"├")+"─ "+(n=t[i]).value,a+=Te(e+(r>1&&!o?"│  ":"   "),n.forest)}return a},Me=(x={Leaf:function(e,t){return Ae("cannot decode "+JSON.stringify(e)+", should be "+t)},Key:function(e,t,n){return Ae(t+" property "+JSON.stringify(e),Pe(n))},Index:function(e,t,n){return Ae(t+" index "+e,Pe(n))},Member:function(e,t){return Ae("member "+e,Pe(t))},Lazy:function(e,t){return Ae("lazy type "+e,Pe(t))},Wrap:function(e,t){return Ae(e,Pe(t))}},function(e){switch(e._tag){case"Leaf":return x.Leaf(e.actual,e.error);case"Key":return x.Key(e.key,e.kind,e.errors);case"Index":return x.Index(e.index,e.kind,e.errors);case"Member":return x.Member(e.index,e.errors);case"Lazy":return x.Lazy(e.id,e.errors);case"Wrap":return x.Wrap(e.error,e.errors)}}),Pe=function(e){for(var t=[],n=e,a=[];;)switch(n._tag){case"Of":a.push(Me(n.value));var r=t.pop();if(void 0===r)return a;n=r;break;case"Concat":t.push(n.right),n=n.left}},Ne=function(e){return Pe(e).map(Ie).join("\n")},De=a.fold(Ne,(function(e){return JSON.stringify(e,null,2)}))},WFUb:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("NDcT"),s=n("fC5a"),c=n("WLOZ"),l=n("wuWi"),u=n("nWMp"),d=n("2swC"),p={width:u.a.rem(31)},m={backgroundColor:d.a.CoreNeutral0,paddingBottom:0},f={paddingTop:u.a.rem(1)},h={display:"grid",gridTemplateColumns:"4fr 2fr 5fr",marginBottom:u.a.rem(1)},g={marginBottom:u.a.rem(.3)},b={paddingTop:u.a.rem(.3)},v={marginRight:u.a.rem(.25)},y={fontSize:u.a.rem(.75),color:d.a.CoreNeutral50,marginBottom:u.a.rem(2)},O=u.a.stylesheet({wrapper:[p],header:[m],content:[f],offer:[h],plan:[{display:"flex",flexDirection:"column"}],planTitle:[g],arrow:[b],badge:[v],subMonthlyPrice:[y]}),S=n("jY3z"),C=function(){return i.createElement("svg",{"aria-hidden":!0,width:"31",height:"13",viewBox:"0 0 31 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M1 6.5H30M30 6.5L24.5 1M30 6.5L24.5 12",stroke:"#0E101A",strokeLinecap:"round"}))},w=n("6EPH"),k=function(e){var t=e.current;return i.createElement("div",{className:O.plan},i.createElement(l.g,{className:O.planTitle},t.title),i.createElement(l.a,null,i.createElement(w.a,Object(r.a)(Object(a.a)({},t.regularPriceMoney),{periodInMonths:t.periodMonths})),i.createElement("div",{className:O.subMonthlyPrice},i.createElement(w.b,Object(r.a)(Object(a.a)({},t.regularPriceMoney),{periodInMonths:t.periodMonths})))))},E=function(e){var t=e.offer,n=e.saved,s=i.useContext(o.a.Context).changePlan;return i.createElement("div",{className:O.plan},i.createElement(l.g,{className:O.planTitle},t.title),i.createElement(l.a,null,i.createElement(w.a,Object(r.a)(Object(a.a)({},t.regularPrice),{periodInMonths:t.periodInMonths}))," ",i.createElement(S.a.Regular,{className:O.badge},s.savedBadge(n.percent)),i.createElement("div",{className:O.subMonthlyPrice},i.createElement(w.b,Object(r.a)(Object(a.a)({},t.regularPrice),{periodInMonths:t.periodInMonths})))))},j=function(e){var t=e.current,n=e.offer,a=e.saved;return i.createElement("div",{className:O.offer},i.createElement(k,{current:t}),i.createElement("div",{className:O.arrow},i.createElement(C,null)),i.createElement(E,{offer:n,saved:a}))},_=function(e){var t=i.useContext(o.a.Context).changePlan,n=i.useContext(c.a.TitleIdContext);return i.createElement(l.d,{id:n},t.title(i.createElement(w.a,Object(r.a)(Object(a.a)({},e.savedPrice.pricePerYear),{periodInMonths:12}))))},x=function(e){var t=e.changePlanViewModel,n=t.currentPlan,a=t.offer,r=t.savedPrice,u=t.nextPaymentDate,d=t.changePlan,p=t.close,m=i.useContext(o.a.Context).changePlan;return i.createElement(c.a,{className:O.wrapper},i.createElement(c.a.Header,{className:O.header},i.createElement(_,{savedPrice:r})),i.createElement(c.a.Body,{name:"change.plan.body",className:O.content},i.createElement(i.Fragment,null,i.createElement(j,{current:n,offer:a,saved:r}),i.createElement(l.h,null,m.confirmationDescription(n.title,u,i.createElement(w.c,a.price),i.createElement(w.c,a.regularPrice),a.periodInMonths)))),i.createElement(c.a.Footer,null,i.createElement(s.a.Ghost,{name:"modal.cancel",onClick:p},m.cancelButton),i.createElement(s.a.Primary,{name:"confirm.change.to.annual",onClick:d},m.confirmationButton(a.title))))}},WRJe:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("B8yO"),r=n("sX1a"),i=n("NDcT"),o=n("fC5a"),s=n("WLOZ"),c=n("RRF2"),l=(n("Rcb3"),n("zcvI")),u=function(e){var t=e.payload,n=e.close,u=a.useContext(i.a.Context),d=a.useContext(s.a.TitleIdContext);return a.createElement("div",null,a.createElement(r.Typography,{nodeType:"h2",styleType:r.Typography.Type.H3,id:d},u.proofitSuccessModal.title),a.createElement("div",{className:l.timeWrapper},a.createElement(r.Typography,{nodeType:"h3",styleType:r.Typography.Type.H2,className:l.time,"data-name":"success-time"},c.d.Local.shortTime(t.dueDate)),a.createElement("div",{className:l.date,"data-name":"success-date"},c.d.Local.fullDate(t.dueDate))),a.createElement(r.Typography.Base,{className:l.description},u.proofitSuccessModal.description(t.email)),a.createElement(o.a.Primary,{name:"got-it",onClick:n},u.actions.gotIt))}},WSjW:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("nWMp"),r=n("NbNH"),i=n("2swC"),o=(i.b.Z100,a.a.rem(r.t),i.b.Z200,{borderRadius:a.a.rem(r.t),boxShadow:i.b.Z300})},WWh5:function(e,t,n){"use strict";function a(e){return t=>{(null==t?void 0:t.isTrusted)&&(null==e||e(t))}}n.d(t,"a",(function(){return a}))},Wj65:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("8O/t"),r=n("B8yO"),i=n("tiWp"),o=n("OwvP"),s=n("111I"),c=n("NDcT"),l=n("hSa3"),u=n("xk6L"),d=n("ZDrO"),p=n("VHh6"),m=n("yOW0");const f=s.b.Node.make(({state:e})=>{const t=r.useContext(c.a.Context);return r.createElement(o.a.div,{className:p.a.minimizedContent},r.createElement("div",{className:p.a.minimizedText},t.premiumSuggestions),e.pipe(u.a.map(({alertsCount:e})=>e>0&&r.createElement(l.a.Counter,{type:"yellowPremium",key:"advancedCounter-counter",count:e}))))}),h=s.b.Grid.make(({slots:e,notify:t})=>r.createElement("div",Object(a.a)({role:"button",className:p.a.shadowWrapper},d.d.createAccessibleClickHandler(t("onClick"))),e.body)),g=s.b.Knot.make(h,{body:s.b.Composite.make(Object(m.a)(p.a.minimizedWrapper),f)}),b=Object(i.pipe)(s.b.squash(g),s.b.contramapState(e=>({body:e})))},Wn5C:function(e){e.exports=JSON.parse('{"wrapper":"_3ba74340-new_toggler-wrapper","counters":"_8813904e-new_toggler-counters","fadeOutCounters":"_bd02642d-new_toggler-fadeOutCounters _8813904e-new_toggler-counters"}')},WpWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return be}));var a=n("B8yO"),r=n("OwvP"),i=n("0kuo"),o=n("111I"),s=n("NDcT"),c=n("fC5a"),l=n("WLOZ");const u=()=>a.createElement("svg",{"aria-hidden":!0,width:"128",height:"177"},a.createElement("defs",null,a.createElement("rect",{id:"a",y:"14",width:"128",height:"128",rx:"64"})),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("ellipse",{fill:"#F1F2FA",cx:"64",cy:"173",rx:"48",ry:"4"}),a.createElement("path",{d:"M27 0h62a5 5 0 0 1 5 5v91a5 5 0 0 1-5 5H24a5 5 0 0 1-5-5V8a8 8 0 0 1 8-8z",fill:"#F1F2FA"}),a.createElement("mask",{id:"b",fill:"#fff"},a.createElement("use",{xlinkHref:"#a"})),a.createElement("use",{fill:"#A2BCFF",xlinkHref:"#a"}),a.createElement("path",{d:"M116.708 48.783a4.144 4.144 0 0 1 5.672-1.465 4.138 4.138 0 0 1 1.466 5.667l-17.955 30.462a4.141 4.141 0 0 1-3.57 2.039 4.145 4.145 0 0 1-2.879-1.164l-12.527-12.1a4.138 4.138 0 0 1-.099-5.855 4.144 4.144 0 0 1 5.858-.099l8.747 8.45 15.287-25.935zm-63.446 45.53h58.877a4.141 4.141 0 0 1 4.142 4.139 4.141 4.141 0 0 1-4.142 4.14H53.262a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zM8.793 17.33h31.735a4.141 4.141 0 0 1 4.143 4.14 4.141 4.141 0 0 1-4.143 4.14H8.793a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zm0 17.526h31.735a4.141 4.141 0 0 1 4.143 4.14 4.141 4.141 0 0 1-4.143 4.14H8.793a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zm4.99 68.985a4.74 4.74 0 0 1-4.686 4.794 4.74 4.74 0 0 1-.111-9.477 4.74 4.74 0 0 1 4.798 4.683zm16.757 16.106a4.141 4.141 0 0 1 4.142-4.14 4.141 4.141 0 0 1 4.143 4.14c0 9.416-7.665 17.076-17.087 17.076S4.65 129.363 4.65 119.947a4.141 4.141 0 0 1 4.143-4.14 4.141 4.141 0 0 1 4.143 4.14c0 4.85 3.948 8.796 8.802 8.796 4.853 0 8.802-3.946 8.802-8.796zM8.793 76.46c-1.06 0-2.12-.405-2.93-1.213a4.138 4.138 0 0 1 0-5.855l4.274-4.27-4.273-4.27a4.138 4.138 0 0 1 0-5.855 4.145 4.145 0 0 1 5.859 0l4.273 4.27 4.273-4.27a4.144 4.144 0 0 1 5.858 0 4.138 4.138 0 0 1 0 5.855l-4.273 4.27 4.274 4.27a4.138 4.138 0 0 1-2.93 7.068c-1.06 0-2.12-.405-2.929-1.213l-4.273-4.27-4.273 4.27a4.133 4.133 0 0 1-2.93 1.213zm87.342 44.285l13.678 9.075a4.138 4.138 0 0 1 1.16 5.739 4.144 4.144 0 0 1-5.743 1.159l-11.387-7.555-11.386 7.555a4.143 4.143 0 0 1-4.378.128l-12.844-7.478-11.078 7.35c-.705.468-1.5.691-2.288.691a4.14 4.14 0 0 1-2.295-7.589l13.227-8.776a4.144 4.144 0 0 1 4.377-.128l12.844 7.478 11.53-7.65a4.145 4.145 0 0 1 4.583 0zM31.23 86.814a4.141 4.141 0 0 1 4.142-4.14 4.141 4.141 0 0 1 4.143 4.14v19.402a4.141 4.141 0 0 1-4.143 4.14 4.141 4.141 0 0 1-4.142-4.14V86.814z",fill:"#BDCFFF",mask:"url(#b)"}),a.createElement("path",{d:"M36 12h65a5 5 0 0 1 5 5v88a8 8 0 0 1-8 8H36a5 5 0 0 1-5-5V17a5 5 0 0 1 5-5z",fill:"#7CA1FF",mask:"url(#b)"}),a.createElement("rect",{fill:"#FFF",x:"25",y:"6",width:"75",height:"101",rx:"5"}),a.createElement("path",{d:"M38 21h49a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H38a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1zm0 13h32a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H38a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1z",fill:"#F1F2FA"})));var d=n("f82Z"),p=n("sX1a"),m=n("7IMz"),f=n("xk6L"),h=n("4qtA"),g=n("4GyQ"),b=n("0Qjk"),v=n("RRF2"),y=n("mgiE"),O=n("2swC"),S=n("ySi0"),C=n("tiWp"),w=n("+vYo");const k=e=>{const{score:t,documentIsEmpty:n,sidebarOpen:i=w.a.create(!0),successIcon:o,progressIcon:s,zeroIcon:c=null}=e,l=t.pipe(f.a.map(y.g.map(e=>e.rank))),u=f.a.combineLatestStatic(t,n,(e,t)=>Object(C.pipe)(e,y.g.fold(()=>!1,({rank:e})=>100===e&&!t))),d=i.pipe(f.a.switchMap(e=>e?l.pipe(f.a.startWith(y.g.none),f.a.pairwise(),f.a.switchMap(([e,t])=>Object(C.pipe)(t,y.g.fold(()=>f.a.of(c),t=>u.pipe(f.a.startWith(!1),f.a.pairwise(),f.a.switchMap(([n,a])=>a?f.a.of(o):Object(C.pipe)(e,y.g.filter(()=>!n),y.g.fold(()=>f.a.of(s(t)).pipe(f.a.delay(1),f.a.startWith(s(0))),()=>f.a.of(s(t)))))))))):f.a.of(null)),f.a.startWith(null));return a.createElement(r.a.Fragment,null,d)};var E=n("fQuC"),j=n("2qi0"),_=n("nWMp"),x=n("PltQ"),A=n("NbNH");const I={display:"flex",flexDirection:"column",maxHeight:"90vh",width:_.a.rem(32),height:_.a.rem(41),background:O.a.CoreNeutral0},T={padding:`${_.a.rem(2.75)} ${_.a.rem(1)} 0 ${_.a.rem(2)}`,minHeight:_.a.rem(5.1),height:_.a.rem(5.1),backgroundColor:O.a.CoreNeutral0},M={marginRight:_.a.rem(1),paddingBottom:_.a.rem(.3),borderBottom:"1px solid "+x.h},P={padding:`0 ${_.a.rem(1)} ${_.a.rem(1)} ${_.a.rem(2)}`},N={padding:"0 "+_.a.rem(1.9),minHeight:_.a.rem(4),height:_.a.rem(4)},D={position:"absolute",top:_.a.rem(-5.15),right:0,bottom:0,left:0,margin:"auto"},B={display:"flex",flexDirection:"column",marginTop:_.a.rem(7.15),marginBottom:_.a.rem(2),paddingRight:_.a.rem(1),alignItems:"center"},L={wordSpacing:_.a.rem(.05),fontSize:_.a.rem(.875),lineHeight:_.a.rem(1.5)},F={padding:`${_.a.rem(1.3)} ${_.a.rem(2.6)}`,textAlign:"center"},R=_.a.prefixedStylesheet("statistics",{wrapper:[I],modalHeader:[T],modalHeaderUnderline:[M],modalReady:[{transition:"opacity .2s"}],modalEmpty:[{opacity:0}],modalBody:[P],modalFooter:[N],loader:[D],zeroStateContainer:[B],performanceText:[L],zeroStateText:[L,F]});var H;!function(e){e.number="number",e.time="time",e.percentage="percentage"}(H||(H={}));const V=e=>{switch(e){case H.number:case H.percentage:return he.numberRowData;case H.time:return he.timeRowData;default:return Object(i.c)(e)}},U=({type:e,value:t,info:n,children:r,dataName:o})=>a.createElement("div",{className:he.row,"data-name":o},a.createElement("div",{className:V(e)},a.createElement("div",{className:he.metricTitle},r),a.createElement("div",{className:he.metric},((e,t)=>{switch(e){case H.number:return(Math.round(10*t)/10).toLocaleString();case H.time:return v.d.convertTimeToShortString(t);case H.percentage:return Math.round(t)+"%";default:return Object(i.c)(e)}})(e,t))),Boolean(n)?a.createElement(c.b,{title:n}):null),W=({state:e})=>{const t=a.useContext(s.a.Context).performance,{stats:n,score:r,documentIsEmpty:i}=e;return a.createElement(a.Fragment,null,a.createElement("section",{className:he.titleSection},a.createElement("div",{className:he.titleColumns},a.createElement(l.a.SpokenDescription,Object(g.c)(R.performanceText,he.headerDescription),100===r.rank?t.score100:t.scoreUnder100(r.rank)),a.createElement(k,{score:f.a.of(y.g.some(r)),documentIsEmpty:f.a.of(i),successIcon:a.createElement(S.d.CheckmarkAnimated,{key:"modal-checkmark",width:50,className:he.checkmark}),progressIcon:e=>a.createElement(j.a,{key:"modal-performance-progress",colorType:j.a.ColorType.royalBlue,fontSize:j.a.FontSize.small,percentage:e,theme:ge})}))),a.createElement("section",{className:he.wordCountSection},a.createElement(p.Typography.H3,{className:he.sectionHeaderUnderline},t.wordCount),a.createElement("div",{className:he.wordCountColumns},a.createElement("div",{className:he.firstColumn},a.createElement(U,{type:H.number,value:Math.max(n.chars-1,0)},t.characters),a.createElement(U,{type:H.number,value:n.words},t.words),a.createElement(U,{type:H.number,value:n.sentences},v.f.pluralize(n.sentences,t.sentence,t.sentences))),a.createElement("div",{className:he.secondColumn},a.createElement(U,{type:H.time,value:b.a.DocumentStatistics.calculateReadingTime(n.words)},t.readingTime),a.createElement(U,{type:H.time,value:b.a.DocumentStatistics.calculateSpeakingTime(n.words)},t.speakingTime)))),a.createElement("section",{className:he.readabilitySection},a.createElement("div",{className:he.sectionHeaderWrapper},a.createElement(p.Typography.H3,null,t.readability),a.createElement(p.Typography.SmallLight,null,t.sectionTitleDescription)),a.createElement("div",{className:he.readabilityColumns},a.createElement("div",{className:he.firstColumn},a.createElement(U,{type:H.number,value:n.wordLength},t.wordLengthTitle)),a.createElement("div",{className:he.secondColumn},a.createElement("div",{className:he.row},a.createElement(E.a,{value:n.wordLengthIndex,className:he.progressBar,leftCustomClass:he.leftProgress,rightCustomClass:he.rightProgress}),a.createElement(E.a.Label,{value:n.wordLengthIndex,className:he.progressLabel})),a.createElement("div",{className:he.verticalPillar}))),a.createElement("div",{className:he.readabilityColumns},a.createElement("div",{className:he.firstColumn},a.createElement(U,{type:H.number,value:n.sentenceLength},t.sentenceLengthTitle)),a.createElement("div",{className:he.secondColumn},a.createElement("div",{className:he.row},a.createElement(E.a,{value:n.sentenceLengthIndex,className:he.progressBar,leftCustomClass:he.leftProgress,rightCustomClass:he.rightProgress}),a.createElement(E.a.Label,{value:n.sentenceLengthIndex,className:he.progressLabel})),a.createElement("div",{className:he.verticalPillarShort}))),a.createElement("div",{className:he.readabilityColumns},a.createElement("div",{className:he.firstColumn},a.createElement(U,{type:H.number,value:n.readabilityScore,info:t.readabilityDescription,dataName:"readability"},t.readabilityScore))),a.createElement(p.Typography.SmallLight,{className:he.readabilityDescr},n.readabilityDescription)),a.createElement("section",null,a.createElement("div",{className:he.sectionHeaderWrapper},a.createElement(p.Typography.H3,null,t.vocabulary),a.createElement(p.Typography.SmallLight,null,t.sectionTitleDescription)),a.createElement("div",{className:he.vocabularyColumns},a.createElement("div",{className:he.firstColumn},a.createElement(U,{type:H.percentage,value:n.uniqueWords,info:t.uniqueWords},t.uniqueWordsTitle)),a.createElement("div",{className:he.secondColumn},a.createElement("div",{className:he.row},a.createElement(E.a,{value:n.uniqueWords,className:he.progressBar,leftCustomClass:he.leftProgress,rightCustomClass:he.rightProgress}),a.createElement(E.a.Label,{value:n.uniqueWords,className:he.progressLabel})),a.createElement("div",{className:he.verticalPillar}))),a.createElement("div",{className:he.vocabularyColumns},a.createElement("div",{className:he.firstColumn},a.createElement(U,{type:H.percentage,value:n.rareWords,info:t.rareWords},t.rareWordsTitle)),a.createElement("div",{className:he.secondColumn},a.createElement("div",{className:he.row},a.createElement(E.a,{value:n.rareWords,className:he.progressBar,leftCustomClass:he.leftProgress,rightCustomClass:he.rightProgress}),a.createElement(E.a.Label,{value:n.rareWords,className:he.progressLabel})),a.createElement("div",{className:he.verticalPillarShort})))))},z={marginBottom:_.a.rem(2.4)},G={display:"flex",marginTop:_.a.rem(.9),marginRight:_.a.rem(1),justifyContent:"space-between"},q={marginBottom:_.a.rem(1.5)},K={display:"flex",marginTop:_.a.rem(.8)},$={marginBottom:_.a.rem(2.4)},Z={display:"flex",$nest:{"&:first":{marginTop:_.a.rem(.8)}}},Y={display:"flex",$nest:{"&:first":{marginTop:_.a.rem(.8)}}},X={flexBasis:_.a.percent(50)},Q={position:"relative",paddingLeft:_.a.rem(.5),flexBasis:_.a.percent(50)},J={display:"flex",height:_.a.rem(2),alignItems:"center"},ee={display:"flex",justifyContent:"space-between"},te={width:_.a.rem(10),fontFeatureSettings:`${A.g}, ${A.e}`},ne={width:_.a.rem(13)},ae={marginRight:_.a.rem(1),paddingBottom:_.a.rem(.5),borderBottom:"1px solid "+x.h},re={width:_.a.percent(80),whiteSpace:"pre-line"},ie={display:"inline-block",color:O.a.CoreBlue50,textAlign:"right",fontWeight:"bold",fontSize:_.a.rem(.875),lineHeight:_.a.rem(2)},oe={display:"inline-block",color:O.a.CoreNeutral90,fontSize:_.a.rem(.875),lineHeight:_.a.rem(2)},se={width:_.a.rem(3.2),height:_.a.rem(3.2),fontWeight:"bold"},ce={width:_.a.rem(6),backgroundColor:x.h},le={marginLeft:_.a.rem(1.125)},ue={backgroundImage:x.b},de={backgroundImage:x.d},pe={display:"block",paddingTop:_.a.rem(.5)},me={position:"absolute",top:_.a.rem(.5),left:_.a.rem(3.5),width:_.a.rem(.0625),height:_.a.rem(3),backgroundColor:x.g},fe={height:_.a.rem(1)},he=_.a.stylesheet({titleSection:[z],titleColumns:[G],wordCountSection:[q],wordCountColumns:[K],readabilitySection:[$],readabilityColumns:[Z],vocabularyColumns:[Y],firstColumn:[X],secondColumn:[Q],row:[J],rowData:[ee],numberRowData:[ee,te],timeRowData:[ee,ne],sectionHeaderUnderline:[ae],sectionHeaderWrapper:[ae,{display:"flex",alignItems:"baseline",justifyContent:"space-between"}],headerDescription:[re],metric:[ie],metricTitle:[oe],checkmark:[{alignItems:"center"}],circleProgressBar:[se],progressBar:[ce],progressLabel:[le],leftProgress:[ue],rightProgress:[de],readabilityDescr:[pe],verticalPillar:[me],verticalPillarShort:[me,fe]}),ge={radialProgressBar:he.circleProgressBar};var be;!function(e){e.ModalView=o.b.Grid.make(({slots:e,state:r,notify:i})=>{const o=i({kind:t.close});return a.createElement(l.c,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:o},a.createElement(n,{state:r,downloadButton:e.downloadButton,onClose:o}))});let t;!function(e){e.close="close"}(t=e.ActionsKind||(e.ActionsKind={}));var n=e.ModalContent=({state:e,downloadButton:t,onClose:n})=>a.createElement(l.a,{className:R.wrapper,focusTrapMode:"dynamic",initialFocus:m.a.FocusTrap.InitialFocus.none},a.createElement(l.a.Header,{className:R.modalHeader},a.createElement(b,{state:e})),a.createElement(l.a.Body,{name:"performanceBody",className:R.modalBody,wrapperClassName:e.pipe(f.a.map(e=>e.type===h.a.State.Type.EMPTY?R.modalEmpty:R.modalReady))},a.createElement(y,{state:e})),a.createElement(l.a.Footer,{className:R.modalFooter},a.createElement(O,{downloadButton:t,onClose:n})));const g=()=>{const e=a.useContext(s.a.Context);return a.createElement("div",{className:R.zeroStateContainer},a.createElement(u,null),a.createElement(l.a.SpokenDescription,{className:R.zeroStateText},e.performance.notEnoughTextToCalculateStats))};var b=e.Header=({state:e})=>{const t=a.useContext(s.a.Context),n=a.useContext(l.a.TitleIdContext);return a.createElement(r.a.Fragment,null,e.pipe(f.a.map(e=>a.createElement(p.Typography.H2,{key:"statisticsHeader",id:n,className:e.type===h.a.State.Type.READY?R.modalHeaderUnderline:""},t.performance.title))))};const v=()=>a.createElement(d.a,{size:64,className:R.loader,variation:"blue"});var y=e.Body=({state:e})=>a.createElement(r.a.Fragment,null,e.pipe(f.a.map(e=>{switch(e.type){case h.a.State.Type.EMPTY:return null;case h.a.State.Type.LOADING:case h.a.State.Type.ERROR:return a.createElement(v,{key:"statisticsLoading"});case h.a.State.Type.SHORT_CONTENT:return a.createElement(g,{key:"statisticsEmpty"});case h.a.State.Type.READY:return a.createElement(W,{key:"statisticsContent",state:e});default:return Object(i.c)(e)}})));const O=({downloadButton:e,onClose:t})=>a.createElement(a.Fragment,null,e,a.createElement(c.a.Primary,{name:"close-stats",onClick:t},"Close"))}(be||(be={}))},WyFC:function(e,t){var n="undefined"!=typeof Element,a="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,t){try{return function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var s,c,l,u;if(Array.isArray(t)){if((s=t.length)!=o.length)return!1;for(c=s;0!=c--;)if(!e(t[c],o[c]))return!1;return!0}if(a&&t instanceof Map&&o instanceof Map){if(t.size!==o.size)return!1;for(u=t.entries();!(c=u.next()).done;)if(!o.has(c.value[0]))return!1;for(u=t.entries();!(c=u.next()).done;)if(!e(c.value[1],o.get(c.value[0])))return!1;return!0}if(r&&t instanceof Set&&o instanceof Set){if(t.size!==o.size)return!1;for(u=t.entries();!(c=u.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(o)){if((s=t.length)!=o.length)return!1;for(c=s;0!=c--;)if(t[c]!==o[c])return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf&&"function"==typeof t.valueOf&&"function"==typeof o.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString&&"function"==typeof t.toString&&"function"==typeof o.toString)return t.toString()===o.toString();if((s=(l=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(c=s;0!=c--;)if(!Object.prototype.hasOwnProperty.call(o,l[c]))return!1;if(n&&t instanceof Element)return!1;for(c=s;0!=c--;)if(("_owner"!==l[c]&&"__v"!==l[c]&&"__o"!==l[c]||!t.$$typeof)&&!e(t[l[c]],o[l[c]]))return!1;return!0}return t!=t&&o!=o}(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},X5M1:function(e,t,n){"use strict";var a,r;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e.intentCard="intentCard",e.initialActionsList="initialActionsList",e.followUpActionsList="followUpActionsList",e.appActionsList="appActionsList",e.creditsInfoButton="creditsInfoButton",e.promptInput="promptInput",e.promptInputAndMenuContainer="promptInputAndMenuContainer",e.promptMenuContent="promptMenuContent",e.skill="skill",e.referencesList="referencesList",e.historyButton="historyButton",e.historyButtonActive="historyButtonActive",e.toneReport="toneReport"}(a||(a={})),function(e){e.initialPopupAnchor="initialPopupAnchor",e.initialBTSPopupAnchor="initialBTSPopupAnchor",e.rewriteTooltipAnchor="rewriteTooltipAnchor"}(r||(r={}))},XGM8:function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"d",(function(){return M})),n.d(t,"c",(function(){return N})),n.d(t,"b",(function(){return D}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("OwvP"),s=n("4GyQ"),c=n("mgiE"),l=n("0kuo"),u=n("111I"),d=n("NDcT"),p=n("fC5a"),m=n("CcwN"),f=n("ySi0"),h=n("wnit"),g=n("9QYy"),b=n("SDkL"),v=n("pQeY");const y=e=>u.b.Union.make("kind",{alertCard:v.a.Card(e)});var O=n("xk6L"),S=n("7IMz"),C=n("itj6"),w=n("+ySe"),k=n("0LHr"),E=n("d3CI"),j=n("0sTm"),_=n("Qq8L"),x=n("gfa6"),A=n("e71X");const I=({title:e,cardsVM:t,transition:n,onTransitionEnd:a,scrollEl:r,state:o,cardsListScrollManager:s,isMaster:c,capabilities:l,comparator:u,cardListFlow:d=h.a,checksFeedItem:p=y})=>i.createElement(M,{cardsVM:t,transition:n,onTransitionEnd:a,scrollEl:r,state:o,cardsListScrollManager:s,cardListFlow:d,isMaster:c,capabilities:l,comparator:u,checksFeedItem:p},i.createElement(T,{title:e})),T=({title:e})=>i.createElement("div",{className:x.a.headerWrapper},i.createElement("div",{className:x.a.header},e)),M=({cardsVM:e,transition:t,onTransitionEnd:n,scrollEl:c,state:l,cardsListScrollManager:u,isMaster:d,capabilities:p,comparator:m,children:f,cardListFlow:g=h.a,checksFeedItem:b=y})=>{const v=l.get().currentLens.meta,S=_.a.Elements.create();return i.createElement(i.Fragment,{key:v.id},i.createElement(D.FixedContent,{label:v.title},i.createElement(o.a.div,Object(r.a)(Object(a.a)({},Object(s.c)(t.pipe(O.a.map(e=>e.title)))),{onTransitionEnd:n}),f),i.createElement(D.SeeAlerts,{key:"seeAlerts",cardsViewportState:w.c.getCardsViewportState(l,u,p),actionEvents:e.actionEvents,cardsAmount:l.view("currentLens").view(p.getVisibleAlertsCount)})),i.createElement(_.a,{name:v.id,stateSyncListener:_.a.superScrollListener(u,S),height:w.c.getAssistantHeight(l,u,p),className:t.pipe(O.a.map(e=>e.assistantWrapper)),isMaster:d},i.createElement(P,{elements:S,cardsVM:e,cardsListScrollView:u,scrollEl:c,lensView:l.lens(E.e.Prism.getLens()),transition:t,state:l,cardListFlow:g,onTransitionEnd:n,checksFeedItem:b,capabilities:p,comparator:m})))},P=({elements:e,cardsVM:t,cardsListScrollView:n,scrollEl:l,lensView:d,transition:p,state:m,onTransitionEnd:f,capabilities:v,comparator:C,cardListFlow:k=h.a,checksFeedItem:E=y})=>{const j=new O.a.ReplaySubject;S.a.useEffectOnDidMount(()=>e.lens("scrollProvider").set(l.get())),S.a.useSubscriptionTo(j.pipe(O.a.tap(t=>e.lens("scrollConsumer").set(t))));const _=w.c.getScrollObserver(n).pipe(O.a.startWith(!1));return i.createElement(i.Fragment,null,i.createElement("div",{className:x.a.fakeTop,ref:t=>e.lens("viewport").set(c.g.fromNullable(t))}),i.createElement("div",{className:x.a.viewport},i.createElement(o.a.div,Object(r.a)(Object(a.a)({},Object(s.c)(x.a.lensviewContentWrapper,p.pipe(O.a.map(e=>e.content)))),{onTransitionEnd:f}),u.b.mount(b.a,()=>w.c.getPlaceholderState(m,n)),u.b.mount(g.a.cardList(E(t.actionEvents)),k(t,d,j,_,v,C)))))},N=A.a.OutcomeContext;var D,B;(B=D||(D={})).Title=A.a.Title,B.SeeAlerts=({cardsViewportState:e,actionEvents:t,cardsAmount:n})=>{const a=i.useContext(d.a.Context).sidebar;return S.a.useSubscriptionTo(e.pipe(O.a.distinctUntilChanged(),O.a.withLatestFrom(n),O.a.tap(([e,n])=>{switch(e){case k.a.above:case k.a.below:t.next({type:C.b.Type.moreAlertsButtonShow,position:e,cardsAmount:n});break;case k.a.hidden:break;default:Object(l.c)(e)}}))),i.createElement(o.a.Fragment,null,e.pipe(O.a.distinctUntilChanged(),O.a.combineLatest(n,(e,n)=>{switch(e){case k.a.above:return i.createElement("div",{className:x.a.seeAlertsContainer},i.createElement(p.a.Primary,{name:"top-see-alerts",className:x.a.topSeeAlerts,onClick:()=>t.next({type:C.b.Type.switchToClosestByViewport,position:e,cardsAmount:n})},a.seeAlerts(n),i.createElement(f.d.Arrow,{width:"12",direction:f.a.up})),i.createElement("div",{className:x.a.topStack}));case k.a.below:return i.createElement("div",{className:x.a.seeAlertsContainer},i.createElement(p.a.Primary,{name:"bottom-see-alerts",className:x.a.bottomSeeAlerts,onClick:()=>t.next({type:C.b.Type.switchToClosestByViewport,position:e,cardsAmount:n})},a.seeAlerts(n),i.createElement(f.d.Arrow,{width:"12",direction:f.a.down})),i.createElement("div",{className:x.a.bottomStack}));case k.a.hidden:return null;default:return Object(l.c)(e)}}),O.a.startWith(null)))},B.Rechecking=({className:e})=>i.createElement(o.a.div,Object(a.a)({key:"lensview-loader"},Object(s.c)(e,x.a.rechecking)),i.createElement(j.a,null)),B.FixedContent=({onTransitionEnd:e,label:t,children:n})=>i.createElement(m.a.Top,{onTransitionEnd:e,className:x.a.fixedLensContent,"aria-label":t,role:"region"},n)},XGPX:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n("B8yO");function r(e,t,n){let[r,i]=(0,a.useState)(e||t),o=(0,a.useRef)(void 0!==e),s=void 0!==e;(0,a.useEffect)(()=>{let e=o.current;e!==s&&console.warn(`WARN: A component changed from ${e?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}.`),o.current=s},[s]);let c=s?e:r,l=(0,a.useCallback)((e,...t)=>{let a=(e,...t)=>{n&&(Object.is(c,e)||n(e,...t)),s||(c=e)};if("function"==typeof e){console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),i((n,...r)=>{let i=e(s?c:n,...r);return a(i,...t),s?n:i})}else s||i(e),a(e,...t)},[s,c,n]);return[c,l]}function i(e,t=-1/0,n=1/0){return Math.min(Math.max(e,t),n)}},XGsl:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return w}));var a=n("a5gI"),r=n("nWMp"),i=n("fB2g"),o=n("2swC"),s=n("7Pyj"),c=44*s.a,l=144*s.a,u=700*s.a,d=12*s.a,p=16*s.a,m=14*s.a,f=m+(p-m)/2-4,h=8.25*s.a,g=.6*s.a;i.a.cssRule("html",{fontSize:r.a.px(m)});var b,v={invisible:"".concat("report-","invisible"),markBase:"".concat("report-","markBase"),markSuccess:"".concat("report-","markSuccess"),akkuratWrapper:"".concat("report-","akkuratWrapper"),content:"".concat("report-","content"),textContent:"".concat("report-","textContent"),text:"".concat("report-","text"),superscriptContainer:"".concat("report-","superscriptContainer"),superscript:"".concat("report-","superscript"),alertTableContainer:"".concat("report-","alertTableContainer"),alertTable:"".concat("report-","alertTable"),alertTableTd:"".concat("report-","alertTableTd"),alertTableTdIndex:"".concat("report-","alertTableTdIndex"),alertTableTdExample:"".concat("report-","alertTableTdExample"),alertTableTdPlagiarismSource:"".concat("report-","alertTableTdPlagiarismSource"),alertTableHighlightText:"".concat("report-","alertTableHighlightText"),separatorRemover:"".concat("report-","separatorRemover"),plagiarismLink:"".concat("report-","plagiarismLink")},y=v.superscriptContainer,O={borderBottomColor:r.a.important("transparent"),textDecoration:r.a.important("none"),fontWeight:r.a.important("normal"),fontStyle:r.a.important("normal")},S={boxSizing:"border-box",margin:"0 -8px",paddingRight:r.a.px(c),paddingLeft:r.a.px(l),width:r.a.px(u),$nest:{thead:{display:"table-row-group"}}},C={padding:"".concat(r.a.px(11*s.a)," ").concat(r.a.px(16*s.a)," ").concat(r.a.px(11*s.a)," 0"),borderTop:"1px solid ".concat(o.a.CoreNeutral20),verticalAlign:"top",fontSize:r.a.px(d),lineHeight:r.a.px(p),breakInside:"avoid",$nest:{"&:last-of-type":{paddingRight:0}}},w={akkuratWrapper:r.a.joinClasses([v.akkuratWrapper,i.a.style({fontWeight:"normal",fontFamily:"'Akkurat Std', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, Arial","-webkit-font-smooting":"antialiased","-moz-osx-font-smoothing":"grayscale"})]),content:r.a.joinClasses([v.content,i.a.style(S)]),textContent:r.a.joinClasses([v.textContent,i.a.style(S,{fontSize:r.a.px(m),pageBreakBefore:"always"})]),text:r.a.joinClasses([v.text,i.a.style({lineHeight:r.a.px(48),$nest:{"& *":{animation:r.a.important("none")},"& .ql-container [class*=-placeholder]":{display:"none"},"& .ql-clipboard":{display:"none"}}})]),superscriptContainer:r.a.joinClasses([v.superscriptContainer,i.a.style({position:"relative",bottom:r.a.px(f),display:"inline-block",width:0,height:0,whiteSpace:"nowrap",fontSize:r.a.px(h)})]),superscript:r.a.joinClasses([v.superscript,i.a.style(O,{padding:"0 ".concat(r.a.px(g)),whiteSpace:"nowrap",$nest:{"&:not(:last-child):after":{content:"','"}}})]),alertTableContainer:r.a.joinClasses([v.alertTableContainer,i.a.style(S,{paddingLeft:0,pageBreakBefore:"always"})]),alertTable:r.a.joinClasses([v.alertTable,i.a.style({width:r.a.percent(100),borderCollapse:"collapse",$nest:(b={},Object(a.a)(b,"& tr:first-of-type .".concat(v.alertTableTd),{borderTopWidth:0}),Object(a.a)(b,"& [class*=-or]",{marginRight:r.a.px(4*s.a),marginLeft:0,fontSize:r.a.px(d)}),Object(a.a)(b,"& [class*=-removeOrContainer]",{flexBasis:"auto",$nest:{"& [class*=-itemRemove]":{marginRight:r.a.px(4*s.a),marginBottom:0,padding:0,$nest:{"& [class*=-deleteAll]":{verticalAlign:"middle"}}},"& [class*=-itemContext]":{marginRight:r.a.px(4*s.a),color:o.a.CoreNeutral60,fontStyle:"italic",fontSize:r.a.px(d)}}}),Object(a.a)(b,"& [class*=-itemOriginal], & [class*=-itemRemove]",{backgroundColor:"transparent",color:o.a.CoreRed50,fontSize:r.a.px(d),lineHeight:r.a.px(p),paddingLeft:0,marginBottom:0}),Object(a.a)(b,"& [class*=-itemOriginal]",{marginRight:0}),Object(a.a)(b,"& [class*=-itemOriginal]:after",{margin:"-5px 4px 0",color:o.a.CoreNeutral60,fontSize:r.a.px(d),lineHeight:r.a.px(p)}),Object(a.a)(b,"& [class*=-itemInsert]",{margin:0,padding:0,backgroundColor:"transparent",color:o.a.CoreGreen60,fontSize:r.a.px(d),lineHeight:r.a.px(p)}),Object(a.a)(b,"& [class*=-itemInsert]:not(:last-child):after",{display:"inline-block",marginRight:"4px",color:o.a.CoreNeutral60,content:"','",fontSize:r.a.px(d),lineHeight:r.a.px(p)}),Object(a.a)(b,"& [class*=-replacements_labels-diff]",{fontWeight:"normal"}),Object(a.a)(b,"& [class*=-replacements_labels-list]",{marginBottom:0}),b)})]),alertTableTd:r.a.joinClasses([v.alertTableTd,i.a.style(C)]),alertTableTdIndex:r.a.joinClasses([v.alertTableTdIndex,i.a.style(C,{width:r.a.px(l),borderTopWidth:0,color:o.a.CoreNeutral50,textAlign:"right"})]),alertTableTdExample:r.a.joinClasses([v.alertTableTdExample,i.a.style(C,{maxWidth:r.a.px(350*s.a)})]),alertTableTdPlagiarismSource:r.a.joinClasses([v.alertTableTdPlagiarismSource,i.a.style(C,{maxWidth:r.a.px(190*s.a),wordWrap:"break-word"})]),alertTableHighlightText:r.a.joinClasses([v.alertTableHighlightText,i.a.style({color:o.a.CoreNeutral60,fontStyle:"italic",lineHeight:r.a.px(p)})]),markBase:r.a.joinClasses([v.markBase,i.a.style({$nest:{"@media print":{borderBottomWidth:r.a.important(r.a.px(3))}}})]),markSuccess:r.a.joinClasses([v.markSuccess,i.a.style({$nest:{"@media print":{backgroundColor:o.a.CoreNeutral0}}})]),separatorRemover:r.a.joinClasses([v.separatorRemover,i.a.style({position:"fixed",top:0,width:r.a.percent(100),height:r.a.px(3),backgroundColor:o.a.CoreNeutral0})]),plagiarismLink:r.a.joinClasses([v.plagiarismLink,i.a.style({display:"block",color:o.a.CoreBlue50})]),invisible:r.a.joinClasses([v.invisible,r.a.style({position:"absolute",visibility:"hidden"})])},k=function(e){return{position:"fixed",left:r.a.px(160),zIndex:-1,width:e}};i.a.cssRule("[data-vertical-underline-start]:before",k(r.a.px(60)),{height:r.a.percent(100),borderRight:"".concat(r.a.px(4)," solid"),content:"' '"},{"-webkit-print-color-adjust":"exact !important"}),i.a.cssRule("[data-vertical-underline-body]",k(r.a.px(60))),i.a.cssRule("[data-vertical-underline-body]:after",k(r.a.px(60)),{height:r.a.percent(100),borderRight:"".concat(r.a.px(4)," solid"),background:o.a.CoreNeutral0,content:"' '"},{"-webkit-print-color-adjust":"exact !important"}),i.a.cssRule("[data-vertical-underline-index]",O,k(r.a.px(55)),{height:"inherit",backgroundColor:o.a.CoreNeutral0,textAlign:"right",fontSize:r.a.px(h),lineHeight:r.a.px(h)},{"-webkit-print-color-adjust":"exact !important"}),i.a.cssRule("[data-vertical-underline-index]:before",{display:"block",boxSizing:"border-box",width:r.a.px(65),height:r.a.px(6),borderTop:"".concat(r.a.px(6)," solid ").concat(o.a.CoreNeutral0),content:"' '"},{"-webkit-print-color-adjust":"exact !important"}),i.a.cssRule("[data-vertical-underline-end]:after",{position:"fixed",left:0,zIndex:-1,display:"block",width:r.a.px(229),height:r.a.percent(100),background:o.a.CoreNeutral0,content:"' '"},{"-webkit-print-color-adjust":"exact !important"})},XLv6:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("xk6L"),i=n("yIk2");!function(e){e.fitContainer=r.a.of({heightBehavior:{kind:"fitContainer"},widthBehavior:{kind:"fitContainer"}}),e.fitContent=function(e){return i.a.getResizeObservable(e).pipe(r.a.pluck("height"),r.a.map((function(e){return e-100})),r.a.debounceTime(100),r.a.startWith(550),r.a.map((function(e){return{heightBehavior:{kind:"fitContent",maxHeight:e},widthBehavior:{kind:"fitContainer"}}})))}}(a||(a={}))},XPG3:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("tiWp"),i=n("mgiE");!function(e){e.group=function(e){return Object.values(e.reduce((e,{group:t,category:n,categoryHuman:a,cost:r})=>(void 0===e[n]&&(e[n]={group:t,category:n,categoryHuman:a,count:0,lensName:"",bundleInfo:i.g.none}),e[n].count+=r,e),{})).sort((e,t)=>t.count-e.count)},e.groupByGroup=function(e){return Object.values(e.reduce((e,{group:t,category:n,categoryHuman:a,cost:r,lensName:o="",bundleInfo:s=i.g.none})=>(void 0===e[o]&&(e[o]={group:t,category:n,categoryHuman:a,count:0,lensName:o,bundleInfo:s}),e[o].count+=r,e),{})).sort((e,t)=>t.count-e.count)},e.groupByBundleInfo=function(e){return Object.values(e.reduce((e,{group:t,category:n,categoryHuman:a,cost:o,lensName:s="",bundleInfo:c=i.g.none})=>{const l=Object(r.pipe)(c,i.g.getOrElse(()=>a));return void 0===e[l]&&(e[l]={group:t,category:n,categoryHuman:a,count:0,lensName:s,bundleInfo:c}),e[l].count+=o,e},{})).sort((e,t)=>t.count-e.count)}}(a||(a={}))},XVhX:function(e,t,n){"use strict";n.d(t,"a",(function(){return _t}));var a,r=n("8O/t"),i=n("X76w"),o=n("B8yO"),s=n("DTwm"),c=n("tiWp"),l=n("+vYo"),u=n("OwvP"),d=n("CRC+"),p=n("ySi0"),m=n("fC5a"),f=n("TKPA"),h=n("mgiE"),g=n("0kuo"),b=n("2swC"),v=n("M3t0"),y=n("NDcT"),O=n("ldOx"),S=n("jY3z"),C=n("4lxU"),w=n("wuWi"),k=n("nWMp"),E=n("yIk2"),j=n("xk6L"),_=n("ZDrO"),x=n("7IMz"),A=n("SOPW"),I=n("itj6"),T=n("eAYH"),M=n("KH+i"),P=n("cqTd"),N=n("CBmo"),D=n("TXN2"),B=n("jEie");(a||(a={})).Full=({card:e,actions:t,isChecking:n})=>o.createElement(N.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:I.b.Type.alertCardShow,cardType:I.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object(B.b)(e.renderOptions),body:o.createElement(D.j,{card:e,actions:t,isChecking:n}),mainActions:o.createElement(D.e,{card:e,feedbackActions:t}),footer:o.createElement(D.g,{card:e}),subActions:o.createElement(m.a.Primary,{href:e.activeAlert.knowledgeHubTermCreationUrl,target:"_blank",rel:"noopener noreferrer",onClick:()=>t.next({type:I.b.Type.alertResolve,id:e.id,alertId:e.activeAlert.id})},o.createElement(p.d.New,null),"Add term"),extra:o.createElement(D.b,{card:e,actions:t})});var L=n("RRF2"),F=n("111I"),R=n("Hj2R"),H=n("cZ4c"),V=n("SNOG"),U=n("9bwL");const W=({card:e,actions:t,disabled:n})=>Object(D.v)(e.activeAlert,e.renderOptions.layoutDensity)?o.createElement(U.a,{key:"card-actions-button",mode:"default",actions:t,card:e,disabled:n}):null,z=F.b.Grid.make(({slots:e,state:t,notify:n})=>o.createElement(u.a.Fragment,null,t.pipe(j.a.map(t=>o.createElement(D.r,{card:t,actions:{next:e=>n(e)(),error:s.constVoid,complete:s.constVoid},isChecking:j.a.of(!1),isCheckingGlobal:j.a.of(!1),cardBody:Object(s.constant)(o.createElement(u.a.Fragment,null,e.body)),cardTheme:{contentBody:G.contentBody}}))))),G=k.a.stylesheet({contentBody:[{paddingLeft:0}]}),q=F.b.Knot.make(z,{body:F.b.Node.make(()=>{const e=o.useContext(y.a.Context);return o.createElement("div",{className:Z.container},o.createElement(V.a,{theme:{container:Z.animation}}),o.createElement(w.a,{className:Z.label},e.card.shortenIt.loadingLabel))})}),K={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:k.a.rem(.25)},$={paddingLeft:k.a.rem(.5)},Z=k.a.stylesheet({container:[K],animation:[{transform:"scale(.7)"}],label:[$]}),Y=(e,t)=>F.a.composeKnot({body:Object(s.constant)(j.a.of(null)),root:F.a.fromSideEffect(e=>{t.next(e)},e)}),X=F.b.Knot.make(z,{body:F.b.Node.make(()=>{const e=o.useContext(y.a.Context);return o.createElement("div",{className:ee.container},o.createElement(p.d.ValidationOk,null),o.createElement(w.a,{className:ee.label},e.card.shortenIt.notFoundLabel))})}),Q={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:k.a.rem(.25)},J={paddingLeft:k.a.rem(.5)},ee=k.a.stylesheet({container:[Q],label:[J]}),te=(e,t)=>F.a.composeKnot({body:Object(s.constant)(j.a.of(null)),root:F.a.fromSideEffect(e=>{t.next(e)},e)});var ne=n("vGXj"),ae=n("NbNH"),re=n("zK/v"),ie=n("L8Yl"),oe=n("fB2g");const se=F.b.Node.make(({state:e})=>o.createElement(u.a.Fragment,null,e.pipe(j.a.map(({collapsed:e,text:t})=>e?o.createElement("span",{className:Ae.shortenItCollapsedDelete},o.createElement(p.d.EllipsisSmall,{width:13,className:Ae.shortenItCollapsedIcon})):o.createElement("span",{className:Ae.shortenItDelete},t))))),ce=/^\W/,le=F.b.Node.make(({state:e})=>o.createElement(u.a.span,{className:e.pipe(j.a.map(e=>ce.test(e.text)?Ae.shortenItInsertPunctuation:Ae.shortenItInsert))},e.pipe(j.a.map(e=>e.text)))),ue=F.b.Node.make(({state:e})=>o.createElement(u.a.span,null,e.pipe(j.a.map(e=>e.text)))),de=F.b.Union.make("kind",{insert:le,delete:se,text:ue}),pe=F.b.Grid.make(({slots:e,state:t,notify:n})=>{const a=o.useContext(y.a.Context).card.shortenIt.collapsedButtonTooltip;return o.createElement(u.a.Fragment,null,t.pipe(j.a.map(({isReviewableGroup:t,isInReview:r,group:i})=>Object(s.pipe)(i,h.g.filter(()=>t),h.g.fold(()=>e.parts,t=>r?o.createElement("span",{ref:e=>{e&&Object(s.pipe)(h.g.fromNullable(e.offsetParent),h.g.map(e=>e.getBoundingClientRect()),h.g.tap(a=>{const r=e.getBoundingClientRect();n({kind:"editGroupExpanded",group:t,offsetRect:{width:r.width,height:r.height,top:r.top-a.top,left:r.left-a.left},offsetParentSize:{width:a.width,height:a.height}})()}))},className:Ae.shortenItEditGroupExpanded},e.parts):o.createElement(m.a,{name:"shorten-it-review-change",className:Ae.shortenItEditGroupButton,animationMode:re.a.FromClickPoint,title:a,"aria-label":a,tag:ie.b.div,onClick:n({kind:"reviewEdit",group:t})},e.parts))))))}),me=F.b.Knot.make(pe,{parts:F.b.List.make(h.a.array,de)}),fe=F.b.List.make(h.a.array,me),he=F.b.Grid.make(({slots:e,state:t})=>o.createElement(w.a,{className:t.pipe(j.a.map(e=>Object(s.pipe)(e,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>Ae.minimalShortenItBackground,()=>Ae.shortenItBackground))))},e.labels)),ge=F.b.Knot.make(he,{labels:fe}),be="cards-replacements_labels-",ve={shortenItBackground:be+"shortenItBackground",minimalShortenItBackground:be+"minimalShortenItBackground",shortenItDelete:be+"shortenItDelete",shortenItInsert:be+"shortenItInsert",shortenItInsertPunctuation:be+"shortenItInsertPunctuation",shortenItEditGroupButton:be+"shortenItEditGroupButton",shortenItEditGroupExpanded:be+"shortenItEditGroupExpanded",shortenItCollapsedDelete:be+"shortenItCollapsedDelete",shortenItCollapsedDeleteButton:be+"shortenItCollapsedDeleteButton",shortenItCollapsedIcon:be+"shortenItCollapsedIcon"},ye={overflowX:"hidden",overflowY:"auto",overflowWrap:"anywhere",margin:k.a.rem(1)+" 0",color:b.a.CoreNeutral90,whiteSpace:"pre-wrap",fontWeight:400,fontFeatureSettings:`${ae.e}, ${ae.f}`},Oe={color:b.a.CoreRed50,textDecoration:"line-through",fontWeight:400},Se={color:b.a.CoreBlue60,fontWeight:600},Ce={transitionProperty:"background-color",transitionDuration:".2s",padding:`0 0 ${k.a.rem(.2)} 0`,display:"inline",whiteSpace:"unset",verticalAlign:"unset",borderWidth:"1px",borderStyle:"solid",borderRadius:k.a.rem(ae.t)},we=Object(i.a)(Object(r.a)({},Ce),{backgroundColor:b.a.CoreNeutral1,borderColor:b.a.CoreNeutral10,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:b.a.CoreBlue10,borderColor:b.a.CoreBlue10}}}),ke=Object(i.a)(Object(r.a)({},Ce),{backgroundColor:b.a.CoreBlue10,borderColor:b.a.CoreBlue10,position:"relative"}),Ee={display:"inline-block",width:k.a.rem(1),lineHeight:k.a.rem(.625),height:k.a.rem(.625),margin:"0 "+k.a.rem(.25),verticalAlign:"middle",cursor:"pointer",overflowWrap:"normal",textAlign:"center",borderRadius:k.a.rem(ae.u)},je=Object(r.a)({},Ee),_e=Object(i.a)(Object(r.a)({},Ee),{backgroundColor:b.a.CoreNeutral20,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:b.a.CoreBlue10}}}),xe={minWidth:"unset",minHeight:"unset",paddingBottom:k.a.rem(.125),fill:b.a.CoreBlue60,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:b.a.CoreNeutral50}}},Ae={shortenItBackground:k.a.joinClasses([ve.shortenItBackground,k.a.style(ye),oe.a.style(ye)]),minimalShortenItBackground:k.a.joinClasses([ve.minimalShortenItBackground,k.a.style(ye,{lineHeight:k.a.rem(1.3125)}),oe.a.style(ye,{lineHeight:k.a.rem(1.3125)})]),shortenItDelete:k.a.joinClasses([ve.shortenItDelete,k.a.style(Oe),oe.a.style(Oe)]),shortenItInsert:k.a.joinClasses([ve.shortenItInsert,k.a.style(Se),oe.a.style(Se)]),shortenItInsertPunctuation:k.a.joinClasses([ve.shortenItInsertPunctuation,k.a.style(Se),oe.a.style(Se)]),shortenItEditGroupButton:k.a.joinClasses([ve.shortenItEditGroupButton,k.a.style(we),oe.a.style(we)]),shortenItEditGroupExpanded:k.a.joinClasses([ve.shortenItEditGroupExpanded,k.a.style(ke),oe.a.style(ke)]),shortenItCollapsedDelete:k.a.joinClasses([ve.shortenItCollapsedDelete,k.a.style(je),oe.a.style(je)]),shortenItCollapsedDeleteButton:k.a.joinClasses([ve.shortenItCollapsedDeleteButton,k.a.style(_e),oe.a.style(_e)]),shortenItCollapsedIcon:k.a.joinClasses([ve.shortenItCollapsedIcon,k.a.style(xe),oe.a.style(xe)])};k.a.cssRule(`.${ve.shortenItDelete} + .${ve.shortenItInsert}`,{marginLeft:k.a.rem(.25)});const Ie=F.b.Grid.make(({state:e,view:t,notify:n,slots:a})=>{const c=o.useContext(y.a.Context),d=Object(i.a)(Object(r.a)({},E.b.noopObserver()),{next:e=>n(e)()}),p=x.a.useMemoOnDidMount(()=>l.a.create(!1));return x.a.useSubscriptionTo(t("transformHidden").pipe(j.a.tap(E.b.toAtom(p)))),o.createElement(u.a.Fragment,null,e.pipe(j.a.map(({item:e})=>o.createElement(N.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:n({type:I.b.Type.alertCardShow,cardType:I.b.getCardType(e),alertId:e.activeAlert.id}),onMouseOut:n({type:I.b.Type.hover,kind:"unhover",id:e.id}),onMouseOver:n({type:I.b.Type.hover,kind:"hover",id:e.id}),theme:Object(r.a)({content:t("isCheckingGlobal").pipe(j.a.map(Object(f.c)(He.loadingWrapperInvisible,He.loadingWrapper)))},Object(B.b)(e.renderOptions)),mainActions:o.createElement(D.e,{card:e,feedbackActions:d}),subActions:o.createElement(W,{card:e,actions:d}),body:o.createElement(o.Fragment,null,o.createElement(D.i,{alert:e.activeAlert,options:e.renderOptions,badge:o.createElement(S.a.Regular,null,c.beta)}),Object(s.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>null,()=>o.createElement(D.f,{description:e.meta.explanation,actions:{next:e=>n(e)(),error:s.constVoid,complete:s.constVoid},layoutDensity:e.renderOptions.layoutDensity}))),o.createElement(u.a.div,{className:t("transformHidden").pipe(j.a.map(Object(f.c)(He.transformHidden,void 0)))},a.transform)),footer:o.createElement(o.Fragment,null,o.createElement(D.g,{card:e}),o.createElement(u.a.div,{className:He.footerBtns},o.createElement(D.q,{className:He.applyButton,spinnerClassName:He.applyButtonSpinner,messageClassName:He.applyButtonMessage,applyMessage:e.activeAlert.todoAction,checkingMessage:c.card.shortenIt.acceptButtonCheckingLabel,checkingInProgress:p,onClick:_.d.callOnce(n({type:I.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:A.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:A.a.isEligibleForGbPrompt(e),cardType:I.b.getCardType(e)}))}))),extra:o.createElement(D.c,{isChecking:t("isCheckingGlobal")})}))))}),Te=F.b.Grid.make(({slots:e,state:t,notify:n})=>{const a=o.useContext(y.a.Context).card.shortenIt,{ref:c,onMount:l}=x.a.useElWatcher(),d=j.b.compact(t).pipe(j.a.map(e=>e.group),j.a.distinctUntilChanged(),j.a.switchMap(e=>c.pipe(j.b.compactMap(t=>E.a.getResizeObservable(t).pipe(j.a.map(()=>({width:t.clientWidth,height:t.clientHeight})),j.a.startWith({width:t.clientWidth,height:t.clientHeight}),j.a.distinctUntilChanged(L.c.Box.eq.equals),j.a.tap(t=>n(Object(i.a)(Object(r.a)({kind:"editPopupSize"},t),{group:e}))()))))));return x.a.useSubscriptionTo(d),o.createElement(u.a.div,{className:He.editPopupContainer},e.replacementLabels,t.pipe(j.a.map(h.g.fold(s.constNull,e=>{var{group:t}=e,r=Object(ne.a)(e,["group"]);return o.createElement(u.a.div,{className:He.editPopup,style:"withPosition"===r.kind?{transform:`translate(${r.left}px, ${r.top}px)`,visibility:"visible",opacity:1}:"withoutPosition"===r.kind?{visibility:"hidden",opacity:0}:Object(g.c)(r),mount:l},o.createElement(m.a.Primary,{name:"shorten-it-keep-change",onClick:n({kind:"keepEdit",group:t})},a.editPopupKeepButtonLabel),o.createElement(m.a.Tertiary,{name:"shorten-it-dismiss-change",onClick:n({kind:"dismissEdit",group:t})},a.editPopupDismissButtonLabel))}))))}),Me=F.b.Knot.make(Te,{replacementLabels:ge}),Pe=F.b.Knot.make(Ie,{transform:Me}),Ne={padding:"0 "+k.a.rem(1)},De={display:"flex",flexDirection:"row",padding:k.a.rem(.25),position:"absolute",backgroundColor:b.a.CoreNeutral0,boxShadow:"0px 0px 0.5px rgba(0, 0, 0, 0.7), 0px 2px 8px rgba(26, 33, 52, 0.2)",borderRadius:k.a.rem(ae.t),zIndex:1,top:0,left:0,transition:"visibility 0.15s linear, opacity 0.15s linear"},Be={$nest:{"&[data-disabled='true']":{backgroundColor:b.a.CoreNeutral10,color:b.a.CoreNeutral40}}},Le={$nest:{"& circle":{stroke:b.a.CoreNeutral40}}},Fe={paddingRight:k.a.rem(.25)},Re={transition:"opacity "+k.a.seconds(D.t)},He=k.a.stylesheet({loadingWrapper:[Re],loadingWrapperInvisible:[Re,{opacity:0,pointerEvents:"none"}],footerBtns:[{display:"flex"}],expandEditsBtn:[Ne],editPopupContainer:[{position:"relative"}],editPopup:[De],applyButton:[Be],applyButtonSpinner:[Le],applyButtonMessage:[Fe],transformHidden:[{pointerEvents:"none",opacity:.5}]});var Ve=n("yQCL");const Ue=(e,t,n)=>F.a.composeKnot({root:F.a.fromSideEffect(s.constVoid,e.pipe(j.a.map(e=>e.renderOptions.layoutDensity))),labels:a=>j.a.mergeStatic(a.pipe(j.a.withLatestFrom(e),j.a.tap(([e,a])=>{const o=e.action.action;switch(o.kind){case"reviewEdit":t.set(h.g.some({groupId:o.group,expandedEdit:h.g.none,popupSize:h.g.none,popupPosition:h.g.none})),n.next({type:I.b.Type.shortenItReviewEdit,alertId:a.activeAlert.id,itemId:a.id,group:o.group});break;case"editGroupExpanded":t.set(Object(s.pipe)(t.get(),h.g.filter(e=>e.groupId===o.group),h.g.fold(()=>h.g.some({groupId:o.group,popupSize:h.g.none,popupPosition:h.g.none,expandedEdit:h.g.some({offsetRect:o.offsetRect,offsetParentSize:o.offsetParentSize})}),e=>h.g.some(Object(i.a)(Object(r.a)({},e),{expandedEdit:h.g.some({offsetRect:o.offsetRect,offsetParentSize:o.offsetParentSize})})))));break;default:Object(g.c)(o)}}),j.a.switchMap(()=>j.a.NEVER)),j.a.sequenceS({item:e,editsInReview:t}).pipe(j.a.map(({item:e,editsInReview:t})=>Object(s.pipe)(e.transform,h.g.filter(H.j.isShortenIt),h.g.map(L.e.pick("labels")),h.g.map(t=>Object(s.pipe)(t,h.a.filterMap(t=>Object(s.pipe)(t.group,h.g.fold(s.constFalse,t=>e.activeAlert.dismissedTransformGroups.has(t)))?t.type===H.k.Delete?h.g.some(Object(i.a)(Object(r.a)({},t),{type:H.k.Text})):t.type===H.k.Insert?h.g.none:h.g.some(t):h.g.some(t)))),h.g.fold(()=>[],Object(s.flow)(h.a.reduce([],(e,n)=>{var a;const r=n.type===H.k.Delete?{kind:n.type,text:n.text,collapsed:Object(s.pipe)(n.group,h.g.fold(()=>null!==(a=n.shouldBeCollapsed)&&void 0!==a&&a,e=>!Object(s.pipe)(t,h.g.exists(t=>t.groupId===e)))),group:n.group}:n.type===H.k.Insert||n.type===H.k.Text?{kind:n.type,text:n.text,group:n.group}:Object(g.c)(n);return e.length>0&&h.g.getEq(h.c.eqString).equals(e[e.length-1].group,n.group)&&h.g.isSome(n.group)?e.slice(0,-1).concat({group:n.group,parts:e[e.length-1].parts.concat(r)}):e.concat({group:n.group,parts:[r]})}),h.a.map(e=>({root:{isReviewableGroup:e.parts.length>1||1===e.parts.length&&e.parts[0].kind!==H.k.Text,isInReview:Object(s.pipe)(e.group,h.g.fold(s.constFalse,e=>Object(s.pipe)(t,h.g.exists(t=>t.groupId===e)))),group:Object(s.pipe)(e.parts.map(e=>e.group),Object(Ve.fold)(h.g.getFirstMonoid()))},parts:e.parts}))))))))}),We=(e,t,n,a,r,i)=>F.a.composeKnot({root:a=>j.a.mergeStatic(a.pipe(j.a.tap(e=>{e.type===I.b.Type.hover&&i.next("hover"===e.kind),n.next(e)}),j.a.switchMap(()=>j.a.NEVER)),j.a.sequenceS({item:e,isCheckingGlobal:t,transformHidden:r})),transform:F.a.composeKnot({root:ze(e,a,n),replacementLabels:Ue(e,a,n)})});const ze=(e,t,n)=>a=>j.a.mergeStatic(a.pipe(j.a.withLatestFrom(e),j.a.tap(([e,a])=>{"editPopupSize"===e.kind?t.set(Object(s.pipe)(t.get(),h.g.filter(t=>t.groupId===e.group),h.g.fold(()=>h.g.some({groupId:e.group,expandedEdit:h.g.none,popupPosition:h.g.none,popupSize:h.g.some({width:e.width,height:e.height})}),t=>h.g.some(Object(i.a)(Object(r.a)({},t),{popupSize:h.g.some({width:e.width,height:e.height})}))))):function(e,t,n,a){switch(n.set(Object(s.pipe)(n.get(),h.g.filter(e=>e.groupId!==t.group))),t.kind){case"dismissEdit":a.next({type:I.b.Type.shortenItDismissEdit,alertId:e.activeAlert.id,itemId:e.id,group:t.group}),e.activeAlert.transformGroups.size===new Set(e.activeAlert.dismissedTransformGroups).add(t.group).size&&a.next({type:I.b.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:A.a.isEligibleForDismissSurvey(e)});break;case"keepEdit":a.next({type:I.b.Type.shortenItKeepEdit,alertId:e.activeAlert.id,itemId:e.id,group:t.group});break;default:Object(g.c)(t.kind)}}(a,e,t,n)}),j.a.switchMap(()=>j.a.NEVER)),t.view(h.g.chain(e=>Object(s.pipe)(e.expandedEdit,h.g.map(t=>Object(s.pipe)(e.popupSize,h.g.fold(()=>({kind:"withoutPosition",group:e.groupId}),n=>Object(r.a)({kind:"withPosition",group:e.groupId},function(e,t,n=-10){const a=t.offsetRect.top+t.offsetRect.height,r=t.offsetRect.left+n;if(r+e.width>t.offsetParentSize.width)return{top:a,left:t.offsetParentSize.width-e.width};return{top:a,left:r}}(n,t)))))))));const Ge={loading:q,summary:Pe,notFound:X},qe=F.b.Union.make("kind",Ge),Ke=e=>e.pipe(j.a.map(e=>{const t=e.activeAlert.summaryState,n=h.g.fold(s.constFalse,H.j.isShortenIt)(e.transform);switch(t){case R.j.SummaryState.notFound:return{kind:"notFound"};case R.j.SummaryState.notRequested:return{kind:"loading"};case R.j.SummaryState.requestSent:return n?{kind:"summary"}:{kind:"loading"};case R.j.SummaryState.invalidated:case R.j.SummaryState.received:return{kind:"summary"};default:Object(g.c)(t)}}));var $e;($e||($e={})).Full=e=>{const t=x.a.useAtomOf(e.card),{isChecking:n,isCheckingGlobal:a}=function(e,t,n){const a=x.a.useAtomOf({isWaiting:e.activeAlert.summaryState===R.j.SummaryState.requestSent||e.activeAlert.summaryState===R.j.SummaryState.invalidated,cardIsOpen:"focused"===e.visualState.transition.type||"expanded"===e.visualState.transition.type});return x.a.useMemoOnDidMount(()=>({isChecking:j.a.combineLatestStatic([t,a]).pipe(j.a.map(([e,t])=>e||t.isWaiting&&t.cardIsOpen),j.a.distinctUntilChanged()),isCheckingGlobal:j.a.combineLatestStatic([n,a]).pipe(j.a.map(([e,t])=>e||t.isWaiting&&!t.cardIsOpen),j.a.distinctUntilChanged())}))}(e.card,e.isChecking,e.isCheckingGlobal),{transformHidden:r,isMouseInside:i}=Object(D.z)(n),c=x.a.useMemoOnDidMount(()=>l.a.create(h.g.none)),u=x.a.useMemoOnDidMount(()=>t.pipe(j.a.map(Object(s.flow)(L.e.pick("transform"),h.g.filter(H.j.isShortenIt))),j.a.skipBy(h.g.getEq(H.j.ShortenIt.eq)),j.a.map(()=>h.g.none),j.a.tap(E.b.toAtom(c))));return x.a.useSubscriptionTo(u),o.createElement(o.Fragment,null,F.b.mount(qe,((e,t,n,a,r,i)=>F.a.composeUnion({loading:Y(e,n),notFound:te(e,n),summary:We(e,t,n,a,r,i)},()=>Ke(e)))(t,a,e.actions,c,r,i)))};var Ze=n("eveZ");const Ye=({card:e,actions:t})=>{const n=o.useContext(y.a.Context),a=h.g.isNone(e.activeAlert.takeawayFeedback)?n.card.takeaway.defaultTitle:e.activeAlert.title,r=h.g.fromNullable(e.activeAlert.highlightTexts[0]),i=Object(c.pipe)(e.activeAlert,h.g.fromPredicate(e=>!e.takeawayIsLikelyToBeRead&&h.g.contains(R.n.correctlyDetected)(e.takeawayFeedback)),h.g.map(()=>e.meta.explanation));return o.createElement(o.Fragment,null,Object(c.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>o.createElement(D.i,{alert:e.activeAlert,options:e.renderOptions},o.createElement(D.o,{text:A.a.miniTitle(e,n)})),()=>o.createElement(o.Fragment,null,o.createElement(D.i,{alert:e.activeAlert,options:e.renderOptions}),o.createElement(D.n,{text:a})))),Object(c.pipe)(r,h.g.fold(s.constNull,t=>o.createElement(D.h,{text:t,layoutDensity:e.renderOptions.layoutDensity}))),Object(c.pipe)(i,h.g.fold(s.constNull,n=>o.createElement(D.f,{description:n,actions:t,layoutDensity:e.renderOptions.layoutDensity}))))};var Xe;const Qe=({card:e,feedbackActions:t})=>o.createElement(o.Fragment,null,o.createElement(m.a.Ghost,{name:"takeaway-like",onClick:_.d.callOnce(()=>t.next({type:I.b.Type.takeawayCorrectlyDetected,id:e.id,alertId:e.activeAlert.id,takeawayText:null!==(Xe=e.activeAlert.highlightTexts[0])&&void 0!==Xe?Xe:"",isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead}))},o.createElement(p.d.YesCircle,null)," Yes"),o.createElement(m.a.Ghost,{name:"takeaway-dislike",onClick:_.d.callOnce(()=>t.next({type:I.b.Type.takeawayIncorrectlyDetected,id:e.id,alertId:e.activeAlert.id}))},o.createElement(p.d.NoCircle,null)," No")),Je=({card:e,feedbackActions:t})=>{const n=o.useContext(y.a.Context);return o.createElement(o.Fragment,null,o.createElement(m.a.Ghost,{name:"resolve",title:n.resolve,"aria-label":n.resolveLabel,onClick:_.d.callOnce(()=>t.next({type:I.b.Type.takeawayResolve,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead}))},o.createElement(p.d.YesCircle,null)),o.createElement(m.a.Ghost,{name:"ignore",title:n.dismiss,"aria-label":n.dismiss,onClick:_.d.callOnce(()=>t.next({type:I.b.Type.takeawayDismiss,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead}))},o.createElement(p.d.Ignore,null)))};function et(e){return!h.g.isNone(e.takeawayFeedback)&&!(!h.g.isSome(e.examples)&&!h.g.isSome(e.details))}var tt;(tt||(tt={})).Full=({card:e,actions:t})=>{return o.createElement(N.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:I.b.Type.alertCardShow,cardType:I.b.getCardType(e),alertId:e.activeAlert.id}),theme:(n=e.renderOptions,Object(i.a)(Object(r.a)({},Object(B.a)(n.layoutDensity)),{wrapper:Object(c.pipe)(n.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>at.minimalCardWrapper,()=>{}))})),body:o.createElement(Ye,{card:e,actions:t}),mainActions:h.g.isNone(e.activeAlert.takeawayFeedback)?o.createElement(Qe,{card:e,feedbackActions:t}):o.createElement(Je,{card:e,feedbackActions:t}),footer:et(e.activeAlert)?o.createElement(D.g,{card:e}):null,subActions:et(e.activeAlert)?o.createElement(U.a,{key:"card-actions-button",mode:"default",actions:t,card:e}):null});var n};const nt={padding:`${k.a.rem(.75)} ${k.a.rem(.5)} ${k.a.rem(.5)} ${k.a.rem(1)}`},at=k.a.stylesheet({minimalCardWrapper:[nt]});var rt=n("vLu/"),it=n("JRBS"),ot=n("4GyQ");const st=e=>k.a.style({textDecoration:"line-through",color:e,fontWeight:"bold"}),ct=e=>k.a.style({fontWeight:"bold",padding:`${k.a.rem(.0625)} ${k.a.rem(.21875)} ${k.a.rem(.0625)} ${k.a.rem(.21875)}`,border:"1px solid "+e,borderRadius:k.a.rem(.125),color:e}),lt=k.a.style({fontSize:k.a.rem(.875),letterSpacing:"0px",lineHeight:k.a.rem(1.3125),padding:k.a.rem(.15625)+" 0"}),ut=k.a.style({fontWeight:"bold",padding:`${k.a.rem(.0625)} ${k.a.rem(.21875)} ${k.a.rem(.0625)} ${k.a.rem(.21875)}`,borderRadius:k.a.rem(.125),color:k.d.CoreNeutral50,background:k.d.CoreNeutral10}),dt=k.a.style({fontStyle:"italic"}),pt=[ut,lt],mt=/[\d\w&]/,ft=e=>1===e.length&&!mt.test(e),ht=(e,t,n)=>(a,r,i)=>{const o=i[r-1];switch(a.type){case"insert":return e(a,r,o);case"delete":return t(a,r,o);case"text":return n(a,r,o);default:throw new Error("Unexpected citation alert transform part:"+JSON.stringify(a))}},gt=(e,t)=>{var n;return"text"===(null===(n=t)||void 0===n?void 0:n.type)?null:o.createElement("span",{key:"s"+e,className:lt}," ")},bt=e=>o.createElement(o.Fragment,null,e.replacement.labels.map(e.isCitationGap?ht((e,t,n)=>o.createElement(o.Fragment,{key:t},gt(t,n),o.createElement("span",Object(i.a)(Object(r.a)({},Object(ot.c)(...pt)),{key:t}),e.text)),(e,t)=>o.createElement(o.Fragment,{key:t}),(e,t)=>o.createElement("span",{key:t,className:lt},e.text)):ht((e,t,n)=>{return o.createElement(o.Fragment,{key:t},gt(t,n),o.createElement("span",Object(r.a)({key:t},Object(ot.c)(...(a=e.text,[ft(a)?ct(k.d.CoreBlue50):(i=k.d.CoreBlue50,k.a.style({color:i,fontWeight:"bold"})),lt,dt]))),e.text));var a,i},(e,t,n)=>{return o.createElement(o.Fragment,{key:t},gt(t,n),o.createElement("span",Object(r.a)({key:t},Object(ot.c)(...(a=e.text,ft(a)?[ct(k.d.CoreRed50),(i=k.d.CoreRed50,k.a.style({backgroundImage:`linear-gradient(to top left,\n        rgba(0,0,0,0) 0%,\n        rgba(0,0,0,0) calc(50% - 0.5px),\n        ${i} 50%,\n        rgba(0,0,0,0) calc(50% + 0.5px),\n        rgba(0,0,0,0) 100%)`})),lt,dt]:[st(k.d.CoreRed50),lt,dt]))),e.text));var a,i},(t,n)=>o.createElement("span",Object(r.a)({key:n},Object(ot.c)(lt,("italic"===t.style||!e.isCitationItalicization)&&dt)),t.text)))),vt=({transformHidden:e})=>{const t=o.useContext(y.a.Context);return o.createElement(w.j,{"aria-hidden":E.b.invert(e),className:e.pipe(j.a.map(Object(f.c)(Pt.transformHint,Pt.transformHintInvisible)))},t.card.updatingSuggestion)},yt=({card:e,actions:t,isChecking:n,isCheckingGlobal:a})=>{const r=o.useContext(y.a.Context);return o.createElement(jt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:Object(s.constant)(o.createElement(D.j,{card:e,actions:t,isChecking:n})),cardFooter:n=>o.createElement(o.Fragment,null,o.createElement(D.g,{card:e}),o.createElement("div",{className:Pt.fullSentenceCardFooterBtns},o.createElement(D.q,{title:r.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:_.d.callOnce(()=>{t.next({type:I.b.Type.alertApply,id:e.id,eligibleForSurvey:A.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:A.a.isEligibleForGbPrompt(e),alertId:e.activeAlert.id,alternativeIndex:0,cardType:I.b.getCardType(e)})})})))})},Ot=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:r})=>{const i=o.useContext(y.a.Context),d=l.a.create(!0);return x.a.useSubscriptionTo(Object(c.pipe)(d,j.a.skip(1),j.a.tap(e=>t.next({type:I.b.Type.fullSentenceHighlightChangesToggle,showChanges:e})))),o.createElement(jt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:Object(s.constant)(o.createElement(u.a.Fragment,null,o.createElement(D.i,{alert:e.activeAlert,options:e.renderOptions}),o.createElement(xt,{isNew:e.renderOptions.isNew,actions:t}),Object(c.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>null,()=>o.createElement(D.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}))),o.createElement(O.b,{classes:{rendered:Pt.replacement,removing:Pt.replacementHidden},timeout:250,content:d.pipe(j.a.combineLatest(r,(t,n)=>Object(c.pipe)(n,h.g.fold(()=>(v.d.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable in full-sentence card",{cardId:e.id}),null),n=>o.createElement(it.c,{replacements:n,showDiff:t,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(M.a.Features.a11yContrast)})))))}),o.createElement(D.k,{card:e,isChecking:n}))),cardFooter:n=>o.createElement(o.Fragment,null,o.createElement(D.g,{card:e}),o.createElement(u.a.div,{className:Pt.fullSentenceCardFooterBtns},o.createElement(D.q,{title:r.pipe(j.a.map(h.g.fold(()=>"",e=>i.card.todoAction(e.tooltipText)))),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:_.d.callOnce(()=>{t.next({type:I.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:A.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:A.a.isEligibleForGbPrompt(e),cardType:I.b.getCardType(e)})})}),o.createElement(C.a,{className:Pt.fullSentenceCardCheckbox,checked:d,name:"set-goals"},i.card.showChangesToggle)))})},St=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:r})=>{const i=o.useContext(y.a.Context),l=Object(c.pipe)(e.activeAlert.extraProperties.citationGap,h.g.contains(!0)),d=Object(c.pipe)(e.activeAlert.extraProperties.citationItalicization,h.g.contains(!0));return o.createElement(jt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:Object(s.constant)(o.createElement(u.a.Fragment,null,o.createElement(D.i,{alert:e.activeAlert,options:e.renderOptions}),o.createElement(xt,{isNew:e.renderOptions.isNew,actions:t}),Object(c.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>null,()=>o.createElement(D.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity,className:Nt.description}))),o.createElement(O.b,{classes:{rendered:Pt.replacement,removing:Pt.replacementHidden},timeout:250,content:r.pipe(j.a.map(e=>o.createElement(bt,{replacement:e.value,isCitationGap:l,isCitationItalicization:d})))}),o.createElement(D.k,{card:e,isChecking:n}))),cardFooter:n=>o.createElement(o.Fragment,null,o.createElement(D.g,{card:e}),o.createElement(u.a.div,{className:Pt.fullSentenceCardFooterBtns},!l&&o.createElement(D.q,{title:i.card.todoAction(e.activeAlert.todoAction),applyMessage:"Reformat",checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:_.d.callOnce(()=>{t.next({type:I.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:A.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:A.a.isEligibleForGbPrompt(e),cardType:I.b.getCardType(e)})})})))})},Ct=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:r})=>{const i=Object(c.pipe)(e.userInput,h.g.getOrElse(Object(s.constant)("")));return o.createElement(jt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:a=>o.createElement(o.Fragment,{key:"content"},o.createElement(D.i,{alert:e.activeAlert,options:e.renderOptions}),o.createElement(xt,{isNew:e.renderOptions.isNew,actions:t}),o.createElement(u.a.div,{className:a.pipe(j.a.map(Object(f.c)(Pt.transformContainerInvisible,Pt.transformContainer)))},o.createElement(O.b,{classes:{rendered:Pt.replacement,removing:Pt.replacementHidden},timeout:250,content:r.pipe(j.a.map(h.g.fold(()=>(v.d.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),n=>o.createElement(it.e,{key:"label",gapValue:i,replacements:n,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(M.a.Features.a11yContrast),onFocus:()=>t.next({type:I.b.Type.focusUserInput,id:e.id,kind:"focus"}),onChange:n=>t.next({type:I.b.Type.changeUserInput,alertId:e.activeAlert.id,cardId:e.id,userInput:n}),onApply:_.d.callOnce(()=>t.next({type:I.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:A.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:A.a.isEligibleForGbPrompt(e),cardType:I.b.getCardType(e)}))}))))})),o.createElement(vt,{transformHidden:a}),o.createElement(D.k,{card:e,isChecking:n}),Object(c.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>null,()=>o.createElement(D.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(s.constant)(o.createElement(D.g,{card:e}))})},wt=({card:e,actions:t,isChecking:n,isCheckingGlobal:a})=>{Object(g.f)(h.g.isSome(e.activeAlert.extraProperties.citationDetection),"Should contain citation detection");const r=o.useContext(y.a.Context),i=l.a.create(h.g.unsafeGet(e.activeAlert.extraProperties.citationDetection));return o.createElement(jt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:Object(s.constant)(o.createElement(u.a.Fragment,null,o.createElement(D.i,{alert:e.activeAlert,options:e.renderOptions}),o.createElement(xt,{isNew:e.renderOptions.isNew,actions:t}),o.createElement(D.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}),o.createElement("div",{className:Object(c.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.cozy)(()=>Dt.dropdownContainer,()=>Dt.minimalDropdownContainer))},o.createElement(d.a,{name:"citationStyle",label:o.createElement(u.a.div,null,i.pipe(j.a.map(e=>o.createElement("span",{className:Dt.dropdownLabel,key:e},r.citation.essayDetectionCard.dropdownOptions[e],o.createElement(p.d.TriangleArrow,{className:Dt.arrowIcon})))))},Object.entries(r.citation.essayDetectionCard.dropdownOptions).map(([t,n])=>o.createElement(m.a.Flat,{key:t,name:t,onClick:()=>i.set(t),textPosition:"right"},i.pipe(j.a.map(e=>t===e?o.createElement(p.d.DocumentSettings.Selected,null):o.createElement("div",{className:Dt.placeholder}))),n,void 0!==r.citation.essayDetectionCard.examples[t]&&Object(c.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.cozy)(()=>o.createElement("span",{className:Dt.example},r.citation.essayDetectionCard.examples[t]),()=>null)))))),o.createElement(D.k,{card:e,isChecking:n}))),cardFooter:n=>o.createElement(o.Fragment,null,o.createElement(D.g,{card:e}),o.createElement(u.a.div,{className:Pt.fullSentenceCardFooterBtns},o.createElement(D.q,{title:r.card.todoAction(e.activeAlert.todoAction),applyMessage:"Set style",checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:_.d.callOnce(()=>{t.next({type:I.c.Kind.setAcademicDomainAndCitationStyle,citationStyle:i.get(),id:e.id}),t.next({type:I.b.Type.alertResolve,id:e.id,alertId:e.activeAlert.id})})})))})},kt=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:r})=>{const i=o.useContext(y.a.Context);return o.createElement(jt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:a=>o.createElement(o.Fragment,null,o.createElement(u.a.Fragment,null,o.createElement(D.i,{alert:e.activeAlert,options:e.renderOptions,badge:o.createElement(S.a.Regular,{a11yContrast:e.renderOptions.features.has(M.a.Features.a11yContrast)},i.beta)})),o.createElement(u.a.div,{className:a.pipe(j.a.map(Object(f.c)(Pt.transformContainerInvisible,Pt.transformContainer)))},o.createElement(O.b,{classes:{rendered:Pt.replacement,removing:Pt.replacementHidden},timeout:250,content:r.pipe(j.a.map(h.g.fold(()=>(v.d.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),n=>{const a=Object(c.pipe)(e.synfonySelection,h.g.getOrElse(()=>[]));return o.createElement(it.b,{replacements:n,onClick:n=>_.d.callOnce(()=>{t.next({type:I.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n,cardType:I.b.getCardType(e),id:e.id,eligibleForSurvey:A.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:A.a.isEligibleForGbPrompt(e),drilldownSuggestionIds:a})}),onDive:(n,r)=>t.next({type:I.f.Kind.drilldown,alertId:e.activeAlert.id,wordIndex:n,cardId:e.id,alternativeId:r,drilldownSuggestionIds:a}),onBack:()=>t.next({type:I.f.Kind.back,cardId:e.id}),selection:a,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(M.a.Features.a11yContrast)})})))})),o.createElement(vt,{transformHidden:a}),o.createElement(D.k,{card:e,isChecking:n}),Object(c.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>null,()=>o.createElement(D.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(s.constant)(o.createElement(D.g,{card:e}))})},Et=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:r})=>o.createElement(jt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:a=>o.createElement(o.Fragment,null,o.createElement(D.i,{alert:e.activeAlert,options:e.renderOptions}),o.createElement(u.a.div,{className:a.pipe(j.a.map(Object(f.c)(Pt.transformContainerInvisible,Pt.transformContainer)))},o.createElement(O.b,{classes:{rendered:Pt.replacement,removing:Pt.replacementHidden},timeout:250,content:r.pipe(j.a.map(h.g.fold(()=>(v.d.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),n=>o.createElement(D.l,{rl:n,onClick:n=>_.d.callOnce(()=>{t.next({type:I.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n,id:e.id,eligibleForSurvey:A.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:A.a.isEligibleForGbPrompt(e),cardType:I.b.getCardType(e)})}),layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(M.a.Features.a11yContrast),showDemoDocOnboardingA11yUpdates:e.renderOptions.features.has(M.a.Features.showOnboardingTourA11yUpdates)}))))})),o.createElement(vt,{transformHidden:a}),o.createElement(D.k,{card:e,isChecking:n}),Object(c.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>null,()=>o.createElement(D.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(s.constant)(o.createElement(D.g,{card:e}))}),jt=e=>{var t,n,a;return o.createElement(D.r,Object(i.a)(Object(r.a)({},e),{cardExtra:null!==(t=e.cardExtra)&&void 0!==t?t:Object(s.constant)(o.createElement(D.b,{card:e.card,actions:e.actions})),mainActions:null!==(n=e.mainActions)&&void 0!==n?n:Object(s.constant)(o.createElement(D.e,{card:e.card,feedbackActions:e.actions})),subActions:null!==(a=e.subActions)&&void 0!==a?a:Object(s.constant)(o.createElement(D.m,{card:e.card,actions:e.actions}))}))},_t=({card:e,actions:t,isChecking:n,isCheckingGlobal:r,transform:i})=>T.b.isTakeawayItem(e)?o.createElement(tt.Full,{card:e,actions:t}):T.b.isShortenItItem(e)?o.createElement($e.Full,{card:e,actions:t,isChecking:n,isCheckingGlobal:r}):T.b.isToneAIItem(e)?o.createElement(rt.a.Full,{card:e,actions:t,isChecking:n,isCheckingGlobal:r}):T.b.isEthicalAIItem(e)?o.createElement(P.a.Full,{card:e,actions:t,isChecking:n}):T.b.isSuggestedSnippetItem(e)?o.createElement(Ze.a.Full,{card:e,actions:t,isChecking:n}):T.b.isKnowledgeHubSuggestedTermItem(e)?o.createElement(a.Full,{card:e,actions:t,isChecking:n}):A.a.isCitationDetectionCard(e)?o.createElement(wt,{card:e,actions:t,isChecking:n,isCheckingGlobal:r}):A.a.hasTransform(e)?A.a.hasFullSentenceTransform(e)?o.createElement(Ot,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,transform:i}):A.a.hasCitationTransform(e)?o.createElement(St,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,transform:i}):A.a.hasOneGapTransform(e)?o.createElement(Ct,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,transform:i}):A.a.hasSynfonyTransform(e)?o.createElement(kt,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,transform:i}):o.createElement(Et,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,transform:i}):A.a.isSimple(e)?o.createElement(yt,{card:e,actions:t,isChecking:n,isCheckingGlobal:r}):o.createElement(D.s,{card:e,actions:t,isChecking:n}),xt=e=>o.createElement(u.a.Fragment,null,e.isNew.pipe(j.a.map(h.g.fold(s.constNull,t=>o.createElement(D.d,{type:t,actions:e.actions,key:"new-notification"}))),j.a.startWith(null))),At={transition:"opacity "+k.a.seconds(D.t),transitionDelay:k.a.seconds(D.t)},It={position:"absolute",top:k.a.rem(2),color:b.a.CoreNeutral40,lineHeight:k.a.rem(2),transition:"opacity "+k.a.seconds(D.t),transitionDelay:k.a.seconds(D.t)},Tt={transition:"opacity "+k.a.seconds(D.t)},Mt={fontSize:k.a.rem(b.h.BodySize),lineHeight:k.a.rem(2.0625)},Pt=Object(r.a)({},k.a.stylesheet({invisible:[D.w],transformContainer:[At],transformContainerInvisible:[At,D.w,{transitionDelay:"initial"}],transformHint:[It],transformHintInvisible:[It,D.w,{transitionDelay:"initial"}],replacement:[Tt],replacementHidden:[Tt,{opacity:0}],fullSentenceCardFooterBtns:[{display:"flex",flexWrap:"wrap"}],fullSentenceCardCheckbox:[Mt]})),Nt=k.a.prefixedStylesheet("withCitation",{description:[{$nest:{"& a":{backgroundImage:`repeating-linear-gradient(90deg, ${b.a.CoreBlue50}, ${b.a.CoreBlue50} 1px, transparent 1px, transparent 2px, ${b.a.CoreBlue50} 2px)`,backgroundSize:"100% 1px",backgroundPosition:"0 100%",backgroundRepeat:"no-repeat",borderBottom:"none",paddingBottom:k.a.px(1)}}}]}),Dt=k.a.prefixedStylesheet("withCitationDetection",{dropdownLabel:[{color:b.a.CoreBlue50,fontSize:k.a.rem(.875),fontWeight:700,lineHeight:k.a.rem(1.3125),cursor:"pointer"}],dropdownContainer:[{width:k.a.rem(18.75)}],minimalDropdownContainer:[{width:k.a.rem(10)}],arrowIcon:[{transform:"rotate(180deg)",position:"absolute",marginLeft:k.a.rem(-.5625),top:k.a.rem(-.34375),$nest:{"*":{fill:b.a.CoreBlue50}}}],placeholder:[{width:k.a.rem(2),margin:`0 ${k.a.rem(.25)} 0 0`}],example:[{display:"inline-block",marginLeft:"auto",marginRight:0,color:b.a.CoreNeutral50,fontStyle:"italic",fontSize:k.a.rem(.75),lineHeight:k.a.rem(2)}]})},XlqH:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return y}));var a=n("024v"),r=n("RRF2"),i=n("+3dY"),o=n("D2TP"),s=n("uxqH");function c(e){return`${e} ${r.f.pluralize(e,"alert","alerts")}`}const l=e=>(t,n,a,r)=>t?c(n.count):e(n,a,r),u=(e,t)=>(n,a,r)=>{const i=n.count;return i>0?c(i):r&v.IsDocumentEmpty?e:t},d={description:"Improves spelling, grammar, and punctuation.",stateMessage:l(u("No alerts","Looking good"))},p={description:"Helps make your writing easier to understand.",stateMessage:l((e,t,n)=>{const r=Object(i.a)(a.lt(s.a.ord))(t);if(n&v.IsDocumentEmpty)return"So far so good";if(e.count>0){if(s.a.isMin(t))return c(e.count);if(r(s.a.fromNumber(20)))return"Unclear";if(r(s.a.fromNumber(70)))return"A bit unclear";if(r(s.a.fromNumber(85)))return"Mostly clear";if(r(s.a.fromNumber(95)))return"Clear"}return"Very clear"})},m={description:"Helps make your writing more interesting and effective.",stateMessage:l((e,t,n)=>{const r=n&v.IsFreeUser,o=s.a.isMin(t),l=Object(i.a)(a.lt(s.a.ord))(t);if(n&v.IsDocumentEmpty||r&&o)return"Nothing yet";if(r||e.count>0){if(o)return c(e.count);if(l(s.a.fromNumber(20)))return"Bland";if(l(s.a.fromNumber(80)))return"A bit bland";if(l(s.a.fromNumber(95)))return"Engaging"}return"Very engaging"})},f={description:"Helps you make the right impression on your reader.",stateMessage:l((e,t,n)=>{const r=n&v.IsFreeUser,o=s.a.isMin(t),l=Object(i.a)(a.lt(s.a.ord))(t);if(n&v.IsDocumentEmpty||r&&o)return"Nothing yet";if(r||e.count>0){if(o)return c(e.count);if(l(s.a.fromNumber(20)))return"Serious issues";if(l(s.a.fromNumber(40)))return"Very off";if(l(s.a.fromNumber(95)))return"Slightly off"}return"Just right"})},h={description:"Your organization’s writing guidelines.",stateMessage:l(u("Nothing yet","All good"))},g={description:"Details on terms",stateMessage:l(u("Nothing yet","All good"))},b={[o.a.SpecialId.Correctness]:d,[o.a.SpecialId.Clarity]:p,[o.a.SpecialId.Engagement]:m,[o.a.SpecialId.Delivery]:f,[o.a.SpecialId.Vox]:h,[o.a.SpecialId.KnowledgeHub]:g,[o.a.SpecialId.Plagiarism]:{description:"Checks for similarities to published writing.",stateMessage:l((e,t,n)=>n&v.IsLensVisited&&!(n&v.IsDocumentEmpty)?n&v.IsLensActive?s.a.isMin(t)?"100% original":t+"% unoriginal":"Recheck":"Not checked yet")},[o.a.SpecialId.Premium]:{description:"Offers more suggestions on how to improve your writing.",stateMessage:l((e,t,n)=>n&v.IsDocumentEmpty?"Advanced checks":`${e.count} more ${r.f.pluralize(e.count,"alert","alerts")}`)},[o.a.SpecialId.FreePremiumAlerts]:{description:"Offers more suggestions on how to improve your writing.",stateMessage:l((e,t,n)=>n&v.IsDocumentEmpty?"Advanced checks":`${e.count} more ${r.f.pluralize(e.count,"alert","alerts")}`)}};var v;function y(e){return b[e]}!function(e){e[e.IsDocumentEmpty=1]="IsDocumentEmpty",e[e.IsLensActive=2]="IsLensActive",e[e.IsLensVisited=4]="IsLensVisited",e[e.IsFreeUser=8]="IsFreeUser"}(v||(v={}))},Y5pM:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return S}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("DTwm"),s=n("tiWp"),c=n("OwvP"),l=n("4GyQ"),u=n("lXop"),d=n("fC5a"),p=n("zK/v"),m=n("ySi0"),f=n("mgiE"),h=n("0kuo"),g=n("NMQX"),b=n("OXKW"),v=(n("s96D"),n("Bf87")),y=(n("8sSv"),n("yMgh")),O=function(e){var t=e.viewModel;return i.createElement(c.a.div,{className:y.wrapper},i.createElement(d.a.Ghost,Object(r.a)(Object(a.a)({},Object(l.c)(v.toolbarBtn,y.toolbarBtn)),{name:"head",animationMode:p.a.FromCenter,title:t.head.title,active:t.head.active,onClick:t.head.onClick}),i.createElement(m.d.Formatting.Head,null)),t.visualState.view((function(e){return e===g.a.VisualState.Expanded&&i.createElement(C,{viewModel:t,theme:{panel:Object(l.c)(y.panel,y.panelAnimateIn).className,item:y.item,separator:y.separator}})})))},S=function(e){var t=e.viewModel;return i.createElement(C,{viewModel:t,theme:{panel:y.panelHorizontal,item:y.itemMini,itemIcon:y.iconMini,separator:y.verticalSeparator}})},C=function(e){var t=e.viewModel,n=e.theme;return i.createElement(c.a.div,{key:"formatting-wrapper",className:n.panel},t.list.map((function(e,t){return b.a.Item.isViewItem(e)?i.createElement(w,{theme:{itemClass:n.item,iconClass:n.itemIcon},key:t,item:e}):i.createElement("div",{key:t,className:n.separator})})))},w=function(e){var t=e.item,n=e.theme,a=E(t.name,n.iconClass);return i.createElement(d.a,{name:"rtfToolbar-".concat(t.name),title:i.createElement(k,{item:t,labelClass:a.labelClass}),titleAlign:"topCenter",active:t.active,className:n.itemClass,key:t.name,onClick:t.onClick,"aria-label":t.ariaLabel},a.icon)},k=function(e){var t=e.item,n=e.labelClass;return i.createElement("div",{className:y.tooltip},Object(s.pipe)(t.tooltip,f.g.fold(o.constNull,(function(e){return i.createElement("span",Object(l.c)(y.label,n),e)}))),Object(s.pipe)(t.nestedItem,f.g.fold(o.constNull,f.b.fold((function(e){return i.createElement("span",{className:y.hotkeyLabel},e)}),o.constVoid))))},E=function(e,t){switch(e){case u.e.Type.bold:return{icon:i.createElement(m.d.Formatting.Bold,{className:t}),labelClass:y.bold};case u.e.Type.italic:return{icon:i.createElement(m.d.Formatting.Italic,{className:t}),labelClass:y.italic};case u.e.Type.underline:return{icon:i.createElement(m.d.Formatting.Underline,{className:t}),labelClass:y.underline};case u.e.Type.header1:return{icon:i.createElement(m.d.Formatting.Header1,{className:t}),labelClass:y.h1};case u.e.Type.header2:return{icon:i.createElement(m.d.Formatting.Header2,{className:t}),labelClass:y.h2};case u.e.Type.link:return{icon:i.createElement(m.d.Formatting.Link,{className:t}),labelClass:y.link};case u.e.Type.bulletList:return{icon:i.createElement(m.d.Formatting.BulletList,{className:t})};case u.e.Type.orderedList:return{icon:i.createElement(m.d.Formatting.OrderedList,{className:t})};case"clear":return{icon:i.createElement(m.d.Formatting.Clear,{className:t})};default:return Object(h.c)(e)}}},Y9fM:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={flatUI:!1,newLogo:!1}},YqdJ:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a,r,i=n("U9Go"),o=n("uwym"),s=n("1MDf");!function(e){let t;!function(e){e.ISO=Object(s.d)()}(t=e.FromWindowTop||(e.FromWindowTop={}))}(a||(a={})),function(e){let t,n,a;!function(e){e.ISO=Object(s.d)(),e.equals=Object(s.a)(i.g).equals}(t=e.FromViewportTop||(e.FromViewportTop={})),function(e){e.ISO=Object(s.d)()}(n=e.AbsTop||(e.AbsTop={})),function(e){e.ISO=Object(s.d)()}(a=e.CardTop||(e.CardTop={}));var r=e.concatC=e=>t=>e+t;const c=e=>new o.a(e);e.converters=function(e,t,n){const a=c(r(n)).get,i=c(r(-e)).get;return{windowToViewport:c(r(-t)).get,viewportToWindow:c(r(t)).get,cardTopToViewport:i,viewportToCardTop:c(r(e)).get,absTopToViewportTop:e=>i(a(e)),absTopToCardTop:a}}}(r||(r={}))},YyPR:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("Wy1Y"),r=n("uKMM"),i=n("a5gI"),o=n("0Qjk"),s=n("La5+"),c=n("xk6L"),l=function(){function e(t,n,r,l){var u=this;Object(a.a)(this,e),Object(i.a)(this,"_config",void 0),Object(i.a)(this,"_obsCapiClient",void 0),Object(i.a)(this,"_notificationsManager",void 0),Object(i.a)(this,"_telemetry",void 0),Object(i.a)(this,"_subs",void 0),this._config=t,this._obsCapiClient=n,this._notificationsManager=r,this._telemetry=l,this._subs=new s.a.Keeper,this._subs.push(this._obsCapiClient.events.pipe(c.a.filter(o.a.CAPIEvent.is("gb_rule_created")),c.a.tap((function(e){var t=e.categoryTitle,n=e.descriptionLength;"Vox"===t?u._telemetry.gnarSpec.gbPromptCreateVoxRuleSubmit(n,u._telemetry.pageId):u._telemetry.gnarSpec.gbPromptLockWritingStyleSettingSubmit(u._telemetry.pageId)})),c.a.switchMap((function(e){var t=e.categoryTitle,n=e.styleGuideId;return u._notificationsManager.enqueue("gbRuleCreated",{link:"Vox"===t?"".concat(u._config.account.styleGuide,"/").concat(n):"".concat(u._config.account.writingStyle,"?categoryTitle=").concat(t)})}))).subscribe())}return Object(r.a)(e,[{key:"dispose",value:function(){this._subs.dispose()}}]),e}()},Z8fX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("Vv+i"),i=n("Wy1Y"),o=n("uKMM"),s=n("a5gI"),c=n("4mQT"),l=n("8O/t"),u=n("X76w"),d=n("mMt2"),p=n("t5lx"),m=n("B8yO"),f=n("+vYo"),h=n("OwvP"),g=n("La5+"),b=n("xk6L"),v=n("mgiE"),y=n("RRF2"),O=n("yNCY"),S=n("5ioF"),C=n("M3t0");!function(e){e.getSelectionHOCs=function(e){return{withNeutralForSelection:function(t){return function(e,t){return function(n){Object(c.a)(h,n);var a=Object(p.a)(h);function h(){var e;return Object(i.a)(this,h),e=a.apply(this,arguments),Object(s.a)(Object(r.a)(e),"_el",f.a.create(v.g.none)),Object(s.a)(Object(r.a)(e),"_subs",new g.a.Keeper),Object(s.a)(Object(r.a)(e),"_onMount",(function(t){e._el.set(v.g.fromNullable(t)),e.props.onMount&&t&&e.props.onMount(t)})),Object(s.a)(Object(r.a)(e),"_neutralForSelection",(function(){return e._el.pipe(b.a.switchMap(v.g.fold((function(){return b.a.EMPTY}),(function(e){return b.a.mergeStatic(b.a.fromEvent(document,"mousedown").pipe(b.a.map((function(e){return e.target})),b.a.filter((function(t){return!(t===e||y.c.isParent(e,t))})),b.a.mapTo(!0)),b.a.fromEvent(document,"mouseup").pipe(b.a.mapTo(!1))).pipe(b.a.tap((function(t){e.style.pointerEvents=t?"none":"auto"})))})))).subscribe()})),Object(s.a)(Object(r.a)(e),"_preventOnMouseMove",(function(){var n=f.a.create(!1);return[t.dontFreezeWhen(n,"prevent-focus"),e._el.pipe(b.a.switchMap(v.g.fold((function(){return b.a.EMPTY}),(function(e){return b.a.mergeStatic(b.a.fromEvent(e,"mousedown").pipe(b.a.mapTo(!0)),b.a.fromEvent(e,"mouseup").pipe(b.a.mapTo(!1)))}))),b.a.tap((function(e){return n.set(e)}))).subscribe()]})),e}return Object(o.a)(h,[{key:"componentDidMount",value:function(){var e;(e=this._subs).push.apply(e,[this._neutralForSelection()].concat(Object(d.a)(this._preventOnMouseMove())))}},{key:"componentWillUnmount",value:function(){this._subs.dispose()}},{key:"render",value:function(){return m.createElement(e,Object(u.a)(Object(l.a)({},this.props),{onMount:this._onMount}))}}]),h}(m.Component)}(t,e)},withSelectionEffect:function(n,a){return t.withSelectionEffect(n,e,a)}}};var t,n=function(e){return function(t){return m.createElement(e,t)}};e.getPassThrough=function(){return{withNeutralForSelection:n,withSelectionEffect:n}},e.Context=m.createContext(O.a.invariantContent("DenaliEditorSelection"));!function(e){e.PlainContainer=function(e){var t=e.children,n=e.onMouseDown,a=e.onMount,r=e.className;return m.createElement(h.a.div,{className:r,onMouseDown:n,mount:a},t)};e.withSelectionEffect=function(e,t,n){return function(a){Object(c.a)(s,a);var r=Object(p.a)(s);function s(){return Object(i.a)(this,s),r.apply(this,arguments)}return Object(o.a)(s,[{key:"_onMouseDown",value:function(e){S.b.isLeftMouseButtom(e)&&n(t,e)}},{key:"render",value:function(){return m.createElement(e,Object(u.a)(Object(l.a)({},this.props),{onMouseDown:this._onMouseDown}))}}]),s}(m.Component)};e.collapse=function(e,t){var n=e.getCursor().index;v.b.getOrElse((function(e){return C.d.Logging.getLogger("Selection").error("Failed to set cursor on selection collapse",e,{index:n})}))(e.setCursor(n,0)),t.stopPropagation()},e.resetAsap=function(e,t){setTimeout((function(){var t=e.getCursor(),n=t.index,a=t.length;v.b.getOrElse((function(e){return C.d.Logging.getLogger("Selection").error("Failed to set cursor on selection reset.",e,{index:n,length:a})}))(e.setCursor(n,a))}),0),t.stopPropagation()},e.prevent=function(e,t){t.stopPropagation()}}(t=e.Effect||(e.Effect={}))}(a||(a={}))},ZCrp:function(e,t,n){e.exports=n.p+"files/db93eceba2b0e3ad6331500e393c0ec8/ring-48.png"},ZqXC:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return O})),n.d(t,"f",(function(){return I})),n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return T}));var a=n("B8yO"),r=n.n(a),i=n("zCOz"),o=n("Q2+j");n("6sgl");function s(e){if("virtual"===(0,o.b)()){let t=document.activeElement;(0,i.n)(()=>{document.activeElement===t&&document.contains(e)&&(0,i.c)(e)})}else(0,i.c)(e)}function c(e,t){return"#comment"!==e.nodeName&&function(e){if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;let{display:t,visibility:n}=e.style,a="none"!==t&&"hidden"!==n&&"collapse"!==n;if(a){const{getComputedStyle:t}=e.ownerDocument.defaultView;let{display:n,visibility:r}=t(e);a="none"!==n&&"hidden"!==r&&"collapse"!==r}return a}(e)&&function(e,t){return!e.hasAttribute("hidden")&&("DETAILS"!==e.nodeName||!t||"SUMMARY"===t.nodeName||e.hasAttribute("open"))}(e,t)&&(!e.parentElement||c(e.parentElement,e))}const l=r.a.createContext(null);let u=null;function d(e){let{children:t,contain:n,restoreFocus:o,autoFocus:s}=e,c=(0,a.useRef)(),d=(0,a.useRef)(),p=(0,a.useRef)([]),{parentNode:m}=(0,a.useContext)(l)||{},f=(0,a.useMemo)(()=>new j({scopeRef:p}),[p]);(0,i.x)(()=>{let e=m||_.root;if(_.getTreeNode(e.scopeRef)&&u&&!S(u,e.scopeRef)){let t=_.getTreeNode(u);t&&(e=t)}e.addChild(f),_.addNode(f)},[f,m]),(0,i.x)(()=>{_.getTreeNode(p).contain=n},[n]),(0,i.x)(()=>{let e=c.current.nextSibling,t=[];for(;e&&e!==d.current;)t.push(e),e=e.nextSibling;p.current=t},[t]),function(e,t,n){(0,i.x)(()=>{if(t||n)return;let a=e.current,r=t=>{let n=t.target;v(n,e.current)?u=e:b(n)||(u=null)};return document.addEventListener("focusin",r,!1),a.forEach(e=>e.addEventListener("focusin",r,!1)),()=>{document.removeEventListener("focusin",r,!1),a.forEach(e=>e.removeEventListener("focusin",r,!1))}},[e,t,n])}(p,o,n),function(e,t){let n=(0,a.useRef)(),r=(0,a.useRef)(null);(0,i.x)(()=>{let a=e.current;if(!t)return void(r.current&&(cancelAnimationFrame(r.current),r.current=null));let i=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!g(e))return;let n=document.activeElement,a=e.current;if(!v(n,a))return;let r=k(h(a),{tabbable:!0},a);r.currentNode=n;let i=t.shiftKey?r.previousNode():r.nextNode();i||(r.currentNode=t.shiftKey?a[a.length-1].nextElementSibling:a[0].previousElementSibling,i=t.shiftKey?r.previousNode():r.nextNode()),t.preventDefault(),i&&C(i,!0)},o=t=>{u&&!S(u,e)||!v(t.target,e.current)?g(e)&&!y(t.target,e)?n.current?n.current.focus():u&&w(u.current):g(e)&&(n.current=t.target):(u=e,n.current=t.target)},s=t=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{g(e)&&!y(document.activeElement,e)&&(u=e,document.body.contains(t.target)?(n.current=t.target,n.current.focus()):u&&w(u.current))})};return document.addEventListener("keydown",i,!1),document.addEventListener("focusin",o,!1),a.forEach(e=>e.addEventListener("focusin",o,!1)),a.forEach(e=>e.addEventListener("focusout",s,!1)),()=>{document.removeEventListener("keydown",i,!1),document.removeEventListener("focusin",o,!1),a.forEach(e=>e.removeEventListener("focusin",o,!1)),a.forEach(e=>e.removeEventListener("focusout",s,!1))}},[e,t]),(0,i.x)(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[r])}(p,n),function(e,t,n){const r=(0,a.useRef)("undefined"!=typeof document?document.activeElement:null);(0,i.x)(()=>{let a=e.current;if(!t||n)return;let r=()=>{u&&!S(u,e)||!v(document.activeElement,e.current)||(u=e)};return document.addEventListener("focusin",r,!1),a.forEach(e=>e.addEventListener("focusin",r,!1)),()=>{document.removeEventListener("focusin",r,!1),a.forEach(e=>e.removeEventListener("focusin",r,!1))}},[e,n]),(0,i.x)(()=>{if(!t)return;let a=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!g(e))return;let n=document.activeElement;if(!v(n,e.current))return;let a=_.getTreeNode(e).nodeToRestore,r=k(document.body,{tabbable:!0});r.currentNode=n;let i=t.shiftKey?r.previousNode():r.nextNode();if(document.body.contains(a)&&a!==document.body||(a=null,_.getTreeNode(e).nodeToRestore=null),(!i||!v(i,e.current))&&a){r.currentNode=a;do{i=t.shiftKey?r.previousNode():r.nextNode()}while(v(i,e.current));t.preventDefault(),t.stopPropagation(),i?C(i,!0):b(a)?C(a,!0):n.blur()}};return n||document.addEventListener("keydown",a,!0),()=>{n||document.removeEventListener("keydown",a,!0)}},[e,t,n]),(0,i.x)(()=>{if(t)return _.getTreeNode(e).nodeToRestore=r.current,()=>{let n=_.getTreeNode(e).nodeToRestore;if(t&&n&&(v(document.activeElement,e.current)||document.activeElement===document.body&&function(e){let t=_.getTreeNode(u);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(null==t?void 0:t.scopeRef)===e}(e))){let t=_.clone();requestAnimationFrame(()=>{if(document.activeElement===document.body){let n=t.getTreeNode(e);for(;n;){if(n.nodeToRestore&&document.body.contains(n.nodeToRestore))return void C(n.nodeToRestore);n=n.parent}for(n=t.getTreeNode(e);n;){if(n.scopeRef&&_.getTreeNode(n.scopeRef))return void w(n.scopeRef.current,!0);n=n.parent}}})}}},[e,t])}(p,o,n),function(e,t){const n=r.a.useRef(t);(0,a.useEffect)(()=>{n.current&&(u=e,v(document.activeElement,u.current)||w(e.current)),n.current=!1},[e])}(p,s),(0,a.useEffect)(()=>{if(p){let e=document.activeElement,t=null;if(v(e,p.current)){for(let n of _.traverse())v(e,n.scopeRef.current)&&(t=n);t===_.getTreeNode(p)&&(u=t.scopeRef)}return()=>{let e=_.getTreeNode(p).parent.scopeRef;p!==u&&!S(p,u)||e&&!_.getTreeNode(e)||(u=e),_.removeTreeNode(p)}}},[p]);let O=(0,a.useMemo)(()=>function(e){return{focusNext(t={}){let n=e.current,{from:a,tabbable:r,wrap:i,accept:o}=t,s=a||document.activeElement,c=n[0].previousElementSibling,l=k(h(n),{tabbable:r,accept:o},n);l.currentNode=v(s,n)?s:c;let u=l.nextNode();return!u&&i&&(l.currentNode=c,u=l.nextNode()),u&&C(u,!0),u},focusPrevious(t={}){let n=e.current,{from:a,tabbable:r,wrap:i,accept:o}=t,s=a||document.activeElement,c=n[n.length-1].nextElementSibling,l=k(h(n),{tabbable:r,accept:o},n);l.currentNode=v(s,n)?s:c;let u=l.previousNode();return!u&&i&&(l.currentNode=c,u=l.previousNode()),u&&C(u,!0),u},focusFirst(t={}){let n=e.current,{tabbable:a,accept:r}=t,i=k(h(n),{tabbable:a,accept:r},n);i.currentNode=n[0].previousElementSibling;let o=i.nextNode();return o&&C(o,!0),o},focusLast(t={}){let n=e.current,{tabbable:a,accept:r}=t,i=k(h(n),{tabbable:a,accept:r},n);i.currentNode=n[n.length-1].nextElementSibling;let o=i.previousNode();return o&&C(o,!0),o}}}(p),[]),E=(0,a.useMemo)(()=>({focusManager:O,parentNode:f}),[f,O]);return r.a.createElement(l.Provider,{value:E},r.a.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:c}),t,r.a.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:d}))}const p=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],m=p.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";p.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const f=p.join(':not([hidden]):not([tabindex="-1"]),');function h(e){return e[0].parentElement}function g(e){let t=_.getTreeNode(u);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function b(e){return y(e)}function v(e,t){return t.some(t=>t.contains(e))}function y(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of _.traverse(_.getTreeNode(t)))if(v(e,n.current))return!0;return!1}function O(e){return y(e,u)}function S(e,t){var n;let a=null===(n=_.getTreeNode(t))||void 0===n?void 0:n.parent;for(;a;){if(a.scopeRef===e)return!0;a=a.parent}return!1}function C(e,t=!1){if(null==e||t){if(null!=e)try{e.focus()}catch(e){}}else try{s(e)}catch(e){}}function w(e,t=!0){let n=e[0].previousElementSibling,a=k(h(e),{tabbable:t},e);a.currentNode=n;let r=a.nextNode();t&&!r&&(a=k(h(e),{tabbable:!1},e),a.currentNode=n,r=a.nextNode()),C(r)}function k(e,t,n){let a=(null==t?void 0:t.tabbable)?f:m,r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(e){var r;return(null==t||null===(r=t.from)||void 0===r?void 0:r.contains(e))?NodeFilter.FILTER_REJECT:!e.matches(a)||!c(e)||n&&!v(e,n)||(null==t?void 0:t.accept)&&!t.accept(e)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}});return(null==t?void 0:t.from)&&(r.currentNode=t.from),r}class E{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,n){let a=this.fastMap.get(null!=t?t:null),r=new j({scopeRef:e});a.addChild(r),r.parent=a,this.fastMap.set(e,r),n&&(r.nodeToRestore=n)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(null===e)return;let t=this.fastMap.get(e),n=t.parent;for(let e of this.traverse())e!==t&&t.nodeToRestore&&e.nodeToRestore&&t.scopeRef.current&&v(e.nodeToRestore,t.scopeRef.current)&&(e.nodeToRestore=t.nodeToRestore);let a=t.children;n.removeChild(t),a.size>0&&a.forEach(e=>n.addChild(e)),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(null!=e.scopeRef&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){let e=new E;for(let t of this.traverse())e.addTreeNode(t.scopeRef,t.parent.scopeRef,t.nodeToRestore);return e}constructor(){this.fastMap=new Map,this.root=new j({scopeRef:null}),this.fastMap.set(null,this.root)}}class j{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let _=new E;function x(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=(0,a.useRef)({isFocused:!1,isFocusVisible:t||(0,o.c)()}),[s,c]=(0,a.useState)(!1),[l,u]=(0,a.useState)(()=>i.current.isFocused&&i.current.isFocusVisible),d=(0,a.useCallback)(()=>u(i.current.isFocused&&i.current.isFocusVisible),[]),p=(0,a.useCallback)(e=>{i.current.isFocused=e,c(e),d()},[d]);(0,o.f)(e=>{i.current.isFocusVisible=e,d()},[],{isTextInput:n});let{focusProps:m}=(0,o.e)({isDisabled:r,onFocusChange:p}),{focusWithinProps:f}=(0,o.g)({isDisabled:!r,onFocusWithinChange:p});return{isFocused:s,isFocusVisible:l,focusProps:r?f:m}}let A=r.a.createContext(null);function I(e,t){let{focusProps:n}=(0,o.e)(e),{keyboardProps:r}=(0,o.k)(e),c=(0,i.l)(n,r),l=function(e){let t=(0,a.useContext)(A)||{};(0,i.A)(t,e);let{ref:n,...r}=t;return r}(t),u=e.isDisabled?{}:l,d=(0,a.useRef)(e.autoFocus);return(0,a.useEffect)(()=>{d.current&&t.current&&s(t.current),d.current=!1},[t]),{focusableProps:(0,i.l)({...c,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},u)}}function T(e,t){let n=null==t?void 0:t.isDisabled,[r,o]=(0,a.useState)(!1);return(0,i.x)(()=>{if((null==e?void 0:e.current)&&!n){let t=()=>{if(e.current){let t=k(e.current,{tabbable:!0});o(!!t.nextNode())}};t();let n=new MutationObserver(t);return n.observe(e.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{n.disconnect()}}}),!n&&r}},a7bV:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("8O/t"),r=n("X76w"),i=n("vGXj"),o=n("B8yO"),s=n("DTwm"),c=n("TKPA"),l=n("mgiE"),u=n("RRF2"),d=n("To5e"),p=function(e){return null!=e.href&&e.href.includes(document.location.host)},m=function(e){return"_blank"===e.target},f=function(e){var t=e.children,n=Object(i.a)(e,["children"]),f=o.useContext(d.a.Context).link.description;return Object(s.pipe)(n,(function(){return Object(c.b)(p,m)(n)?l.g.some(f.internalNewWindow):Object(c.b)(Object(s.not)(p),m)(n)?l.g.some(f.externalNewWindow):Object(s.not)(p)(n)?l.g.some(f.external):l.g.none}),l.g.map((function(e){var i=u.f.alphanumeric(5);return o.createElement(o.Fragment,null,o.createElement("span",{hidden:!0,id:i},e),o.createElement("a",Object(r.a)(Object(a.a)({},n),{"aria-describedby":i}),t))})),l.g.getOrElse((function(){return o.createElement("a",n,t)})))}},aODX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("tiWp"),i=n("mgiE");!function(e){e.update=function(e,t,n){return e.update(t,n)},e.filter=function(e,t){return e.filter(t)},e.get=function(e,t,n){return Object(r.pipe)(e.get(t),i.g.filter(e=>n(e.value)))},e.find=function(e,t){return e.find(t)}}(a||(a={}))},aSrO:function(e,t,n){"use strict";n.d(t,"d",(function(){return T})),n.d(t,"f",(function(){return L})),n.d(t,"e",(function(){return F})),n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return D})),n.d(t,"b",(function(){return B}));var a,r,i,o,s,c,l=n("IMGo"),u=n("cZKX"),d=n("bQod"),p=n("DTwm"),m=n("mgiE"),f=n("xk6L"),h=n("4EEI"),g=n("Fg+b"),b=n("f38j"),v=n("vf87"),y=n("1MDf"),O=n("kMtn");function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function k(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}o=a||(a={}),(i=o.EmptyMessage||(o.EmptyMessage={})).fromItem=function(e){return e.alertIds,k(e,["alertIds"])},i.show={show:function(e){var t=e.sduiId,n=e.sduiRootId;return JSON.stringify({sduiId:t,sduiRootId:n})}},(o.EmptyItem||(o.EmptyItem={})).isRootItem=function(e){return e.sduiId===e.sduiRootId},function(e){e.fromSDUI=function(e){return function(a){return g.a.reduce(a.content,(function(r,i){return Object(p.pipe)(r,m.g.chain((function(t){return Object(p.pipe)(i,g.a.getAlertIds,m.g.chain(e),m.g.map(n(t)),m.g.alt((function(){return r})))})),m.g.alt((function(){return Object(p.pipe)(i,g.a.getAlertRefs,m.g.chain(t(a.id,e)))})))}),g.a.TreeTraversal.PreOrder,m.g.none)}};var t=function(e,t){return function(a){return a.reduce((function(a,r){return Object(p.pipe)(a,m.g.map((function(e){return Object(p.pipe)(r.alertIds,t,m.g.fold((function(){return e}),n(e)))})),m.g.alt((function(){return m.g.some({emptyStrongAlertRef:r,sduiId:e,sduiRootId:e,alertIds:new Set(Object(p.pipe)(r.alertIds,t,m.g.getOrElse(Object(p.constant)(m.a.empty))))})})))}),m.g.none)}},n=(e.fromStrongAlertRef=function(e){return function(t,n){return Object(p.pipe)(e(t.alertIds),m.g.map((function(e){return{sduiRootId:n,sduiId:b.a.Item.Id.from(t.id),emptyStrongAlertRef:t,alertIds:new Set(e)}})))}},e.fromStrongAlertRefBehavior=function(e){return function(t,n,a){return Object(p.pipe)(e(t.alertIds),m.g.map((function(e){return{sduiRootId:a,sduiId:n,emptyStrongAlertRef:t,alertIds:new Set(e)}})))}},e.show={show:function(e){return"StrAlertRef.Item: { sduiId: ".concat(e.sduiId,", sduiRootId: ").concat(e.sduiRootId,", alertIds: [").concat(Array.from(e.alertIds.values()).join(", "),"]}")}},e.addAlertIds=function(e){return function(t){return t.forEach((function(t){return e.alertIds.add(t)})),e}})}(s=o.Item||(o.Item={})),function(e){e.iso=y.d(),e.empty=function(){return{alertRefMapping:new Map}},e.size=function(e){return e.alertRefMapping.size},e.show={show:function(e){return Array.from(e.alertRefMapping.entries()).map((function(e){var t=E(e,2),n=t[0],a=t[1];return"".concat(n,": [\n").concat(a.map(s.show.show).join("\n"),"\n]")})).join("\n")}};var t=function(e){return function(t){return Object(p.pipe)(t.alertRefMapping.get(e),m.g.fromNullable)}},n=(e.get=function(e){return function(n){return Object(p.pipe)(t(e)(n),m.g.map(m.a.map((function(e){return w(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){C(e,t,n[t])}))}return e}({},e),{alertIds:new Set(e.alertIds)})}))))}},e.updateWithRemovedAlerts=function(e){return function(n){return Object(p.pipe)(e,u.w((function(e){return Object(p.pipe)(n,t(e),m.g.map(m.a.filter((function(t){return t.alertIds.delete(e)&&0===t.alertIds.size}))),m.g.fold((function(){return[]}),(function(t){return n.alertRefMapping.delete(e),t.map(a.EmptyMessage.fromItem)})))})))}},e.add=function(e,t){return function(a){O.a.isStrongAlertRefBehavior(e.emptyStrongAlertRef)?Object(p.pipe)(s.fromStrongAlertRefBehavior(t)(e.emptyStrongAlertRef,e.sduiId,e.sduiRootId),m.g.tap(n(a))):g.a.forEach(e.emptyStrongAlertRef,Object(p.flow)(function(e,t){return function(n){return Object(p.pipe)(n,g.a.getAlertRefs,m.g.fold(Object(p.constant)(u.L),u.P((function(a){return O.a.isStrongAlertRefBehavior(a)?s.fromStrongAlertRefBehavior(t)(a,b.a.Item.Id.from(n.id),e):s.fromStrongAlertRef(t)(a,e)}))))}}(e.sduiRootId,t),m.a.map(n(a))),g.a.TreeTraversal.PostOrder)}},function(e){var t=r(e);return function(e){e.alertIds.forEach((function(n){return t(n,[e])}))}}),r=function(e){return function(t,n){var a=e.alertRefMapping.get(t);e.alertRefMapping.set(t,null!=a?a.concat(n):n)}};e.remove=function(e){return function(n){return Object(p.pipe)(Array.from(e.alertIds.keys()),m.a.reduce(new Array,(function(a,i){return Object(p.pipe)(n,t(i),m.g.map(m.a.filter((function(t){return t.sduiRootId!==e.sduiRootId}))),m.g.fold((function(){a.push("failed to remove SDUI by alertId ".concat(i,", alertRefMapping doesn't contain alertId ").concat(i))}),(function(e){return function(e){return function(t,n){0===n.length?e.alertRefMapping.delete(t):r(e)(t,n)}}(n)(i,e)}))),a})))}}}(c||(c={})),(r=o.Collection||(o.Collection={})).empty=function(){return c.iso.wrap(c.empty())},r.size=function(e){return Object(p.pipe)(c.iso.unwrap(e),c.size)},r.show={show:function(e){return Object(p.pipe)(c.iso.unwrap(e),c.show.show)}},r.get=function(e){return function(t){return Object(p.pipe)(c.iso.unwrap(t),c.get(e))}},r.add=function(e,t){return function(n){return Object(p.pipe)(c.iso.unwrap(n),c.add(e,t))}},r.remove=function(e){return function(t){return Object(p.pipe)(c.iso.unwrap(e),c.remove(t))}},r.updateWithRemovedAlerts=function(e){return function(t){return Object(p.pipe)(c.iso.unwrap(t),c.updateWithRemovedAlerts(e))}};var I=Object(p.flow)(m.a.map(b.a.AlertId.from),m.g.some),T=function(e,t,n,r,i,o,s,c){var y=e.pipe(f.a.withLatestFrom(n),f.a.tap((function(e){var t=A(e,1),n=A(t[0],2),a=n[0],r=n[1];s.trace("[Optimistic update] emptyAlertsRefReasonTuple > Removed alerts. Reason: ".concat(r,", removedAlertIds: [").concat(a.join(", "),"]"))})),f.a.map((function(e){var t=A(e,2),n=A(t[0],2),r=n[0],i=n[1],o=t[1];return[Object(p.pipe)(o,M(s),a.Collection.updateWithRemovedAlerts(r)),i]})),f.a.tap((function(e){var t=A(e,2),n=t[0],r=t[1];return s.trace("[Optimistic update] emptyAlertsRefReasonTuple > Reason: ".concat(r," found emptyAlertsRef: [").concat(n.map(a.EmptyMessage.show.show).join(", "),"]"))})),f.a.switchMap((function(e){var t=A(e,2),n=t[0],a=t[1];return Object(p.pipe)(n,u.ub((function(e){return[e,a]})),(function(e){return f.a.from(e)}))})),f.a.share()),O=y.pipe(f.a.filter((function(e){var t=A(e,1)[0];return a.EmptyItem.isRootItem(t)})),f.a.map((function(e){var t=A(e,2),n=t[0],a=t[1];return P.toRemovedEvent(a)(h.a.RawSduiItem.Id.create(n.sduiRootId))}))),S=t.pipe(f.a.map((function(e){var t=A(e,2),n=t[0],a=t[1];return P.toRemovedEvent(a)(h.a.RawSduiItem.Id.create(n))}))),C=f.a.mergeStatic(O,S),w=y.pipe(f.a.filter((function(e){var t=A(e,1)[0];return!a.EmptyItem.isRootItem(t)})),f.a.withLatestFrom(n),f.a.map((function(e){var t=A(e,2),n=A(t[0],2),a=n[0],r=n[1],i=t[1],o=h.a.RawSduiItem.Id.create(a.sduiRootId);return Object(p.pipe)(v.a.get(b.a.Item.Id.from(a.sduiRootId))(i),m.g.chain((function(e){return g.a.removeStrongAlertRef(e.content)([a.emptyStrongAlertRef])})),m.g.fold((function(){return P.toRemovedEvent(r)(h.a.RawSduiItem.Id.create(a.sduiRootId))}),(function(e){return P.toUpdatedEvent(r)(e,o)})))})));return{emptyAlertsRefReasonTuple:y,optimisticRemoveSDUIEvent:C,emptyStrongAlertRefUpdate:w,viewStackUpdates:r.pipe(f.a.buffer(c),f.a.filter(m.a.isNonEmpty),f.a.map(Object(p.flow)(l.K((function(e){return e.sduiRootId})),d.V,u.ub((function(e){var t=A(e,2),n=t[0],a=t[1];return a.forEach((function(e){return i.switchView(e)})),B.of(n,"switchView")(m.g.chain((function(e){return Object(p.pipe)(g.a.bulkSwitchView(e,a.map((function(e){return{where:e.where,selected:e.selected,type:"switchView"}}))),m.g.some)})))}))))),activePopoverUpdates:f.a.combineLatestStatic([i.activePopoverView,n.pipe(f.a.map(v.a.sduiRoots()))]).pipe(f.a.map((function(e){var t=A(e,2),n=t[0];return t[1].map((function(e){return B.of(e,"switchView")(m.g.chain((function(e){return g.a.setPopoverView(e,n)})))}))}))),globalPartPlaceholderUpdates:o.globalPartsAvailable.pipe(f.a.filter(p.identity),f.a.switchMap((function(){return n})),f.a.map(v.a.sduiRoots()),f.a.map((function(e){return e.map((function(e){return B.of(e,"capi")(m.g.chain((function(e){return g.a.setGlobalPartPlaceholderContent(e,o.getGlobalPartById)})))}))})))}};function M(e){return v.a.reduce(a.Collection.empty(),(function(t,n){return Object(p.pipe)(a.Item.fromSDUI(I)(n),m.g.fold((function(){return e.trace("SDUI item ".concat(b.a.Item.show.show(n)," does not contain AlertRef, skipping it"))}),(function(e){return a.Collection.add(e,I)(t)})),(function(e){return t}))}))}var P,N,D,B,L=function(e){return e.kind==h.a.SduiEventKind.Update},F=function(e){return e.kind==h.a.SduiEventKind.Remove};(N=P||(P={})).fromSource=function(e){return function(t){return x(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){_(e,t,n[t])}))}return e}({},t),{source:e})}},N.toRemovedEvent=function(e){return function(t){return{kind:h.a.SduiEventKind.Remove,sduiRootId:t,source:e,rev:0}}},N.toUpdatedEvent=function(e){return function(t,n){return{kind:h.a.SduiEventKind.Update,sdui:t,sduiRootId:n,source:e,rev:0}}},N.show={show:function(e){return"SduiRootId: ".concat(e.sduiRootId,", Kind: ").concat(e.kind,", Source: ").concat(e.source)}},function(e){e.CAPI="capi",e.TextChange="textChange",e.RemoveAlertsSDUIAction="removeAlerts",e.RemoveRootSDUIAction="removeRoot",e.RemoveDuplicate="removeDuplicate",e.SwitchView="switchView"}(D||(D={})),(B||(B={})).of=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(a){return{kind:"sdui_lazy_update",toContent:a,sduiRootId:b.a.Item.Id.from(e),rev:n,source:t}}}},aYCJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("8O/t"),r=n("B8yO"),i=n("tiWp"),o=n("mgiE"),s=n("2swC"),c=n("sX1a"),l=n("7nli"),u=n("nWMp"),d=n("NbNH"),p=n("ZDrO"),m=n("KH+i");const f=({examples:e,layoutDensity:t})=>r.createElement(c.Typography,{nodeType:"table",styleType:c.Typography.Type.Base,className:E.wrapper},e.map((e,n)=>r.createElement("tbody",{key:n,className:E.group},e.map(({text:e,title:n,color:s,hasItalic:c},u)=>r.createElement("tr",{key:u,className:Object(i.pipe)(t,m.a.Density.matchL(()=>E.item,()=>E.itemCompact,()=>E.itemMinimal))},Object(i.pipe)(n,o.g.map(e=>r.createElement("td",{className:l.a.colorMatch(s)(E)},(e=>e.split("/").reduce((e,t,n)=>(0!==n&&e.push(r.createElement("br",{key:n})),e.push(t),e),[]))(e))),o.g.toNullable),r.createElement("td",Object(a.a)({colSpan:o.g.isNone(n)?2:void 0,className:c?E.content:E.contentItalic},p.d.setInnerHTML(e)))))))),h={$nest:{"&:not(:last-child):after":{display:"block",height:u.a.rem(1.75),content:"''"}}},g={$nest:{"&:not(:last-child)":{borderBottom:u.a.rem(.5)+" solid transparent"}}},b={display:"flex",flexDirection:"column",lineHeight:u.a.rem(1.3125)},v={padding:0,verticalAlign:"top",lineHeight:u.a.rem(1.25)},y={paddingRight:u.a.rem(2),verticalAlign:"top",whiteSpace:"nowrap"},O={color:s.a.CoreNeutral50,fontFeatureSettings:`${d.e}, ${d.f}`},S={color:s.a.CoreRed50},C={color:s.a.CoreGreen70},w={color:s.a.CoreNeutral90},k={color:s.a.CoreNeutral90},E=u.a.stylesheet({wrapper:[{borderCollapse:"collapse",userSelect:"initial"}],group:[h],item:[g],itemCompact:[g,{display:"flex",flexDirection:"column"}],itemMinimal:[g,b],baseBlock:[v],title:[v,y],content:[v,O],contentItalic:[v,O,{fontStyle:"italic"}],red:[v,y,S],green:[v,y,C],yellow:[v,y,w],fallback:[v,y,k]})},aZd8:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a,r,i=n("TKPA"),o="editor-assistant-open-attempt";!function(e){var t;!function(e){e.starting="starting",e.visuallyReady="visuallyReady",e.readyToDrag="readyToDrag",e.close="close",e.focusStateChanged="focusStateChanged"}(t=e.Kind||(e.Kind={}));e.isStarting=function(e){return e.kind===t.starting},e.isVisuallyReady=function(e){return e.kind===t.visuallyReady},e.isReadyToDrag=function(e){return e.kind===t.readyToDrag},e.isClose=function(e){return e.kind===t.close},e.isFocusStateChanged=function(e){return e.kind===t.focusStateChanged}}(a||(a={})),function(e){var t;!function(e){e.FocusRequested="focusRequested",e.AvailabilityChanged="availabilityChanged",e.FocusChanged="focusChanged"}(t=e.Kind||(e.Kind={}));var n=e.isAvailabilityChanged=function(e){return e.kind===t.AvailabilityChanged},a=e.isFocusChanged=function(e){return e.kind===t.FocusChanged},r=e.isFocusRequested=function(e){return e.kind===t.FocusRequested};e.isIncoming=function(e){return Object(i.p)(n,a)(e)},e.isOutgoing=function(e){return r(e)}}(r||(r={}))},aaNd:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return b}));var a,r=n("a5gI"),i=n("tiWp"),o=n("+vYo"),s=n("fr9z"),c=n("0kuo"),l=n("mgiE"),u=n("TaaI"),d=n("MibW"),p=n("xk6L"),m=n("yIk2"),f=n("La5+"),h=n("Hby5"),g=n("3jKF");!function(e){let t;!function(e){e.immediately="immediately",e.asap="asap",e.low="low"}(t=e.Priority||(e.Priority={}))}(a||(a={}));class b{enqueue(e,t){switch(t){case a.Priority.immediately:e.forEach(e=>e.apply());break;case a.Priority.asap:this._asapAlertsChangeWorker.put(e);break;case a.Priority.low:this._alertsChangeWorker.put(e);break;default:Object(c.c)(t)}}flush(){return this._asapAlertsChangeWorker.flush(),this._alertsChangeWorker.flush(),Promise.resolve()}dispose(){this._subs.dispose(),this._alertsChangeWorker.shutdown(),this._asapAlertsChangeWorker.shutdown()}_renderMarks(e){const[t,...n]=e.filter(h.a.isPending);Boolean(t)&&t.applyWith(n)}_asyncRunner(e,t){return n=>e.pipe(p.a.switchMap(m.b.orEmptyRight(t)),p.a.first()).subscribe(n)}_listenFocusedMark(){return this._activeAlertChanges.subscribe(e=>{const t=Object(i.pipe)(e,l.g.map(e=>e.alert.getHighlightRanges()[0]),l.g.getOrElse(()=>s.b.empty));this._alertsChangeWorker.order(g.a.compareTo(t))})}constructor(e){Object(r.a)(this,"_activeAlertChanges",void 0),Object(r.a)(this,"_lockMarkUpdate",void 0),Object(r.a)(this,"_subs",void 0),Object(r.a)(this,"_alertsChangeWorker",void 0),Object(r.a)(this,"_asapAlertsChangeWorker",void 0),this._activeAlertChanges=e,this._lockMarkUpdate=o.a.create(!1),this._subs=new f.a.Keeper,this._alertsChangeWorker=new u.a(this._renderMarks,new d.a.LazyPredicateUniq(h.a.isPending),this._asyncRunner(this._lockMarkUpdate,p.a.timer(50))),this._asapAlertsChangeWorker=new u.a(this._renderMarks,new d.a.LazyPredicateUniq(h.a.isPending),this._asyncRunner(this._lockMarkUpdate,m.b.Scheduler.inRaf(p.a.of(!0)))),this._subs.push(this._listenFocusedMark())}}},axdO:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("RRF2"),s=n("2swC"),c=n("NDcT"),l=n("ySi0"),u=n("IRug"),d=n("nWMp"),p=n("AyJj");const m=(e,t)=>{switch(e.kind){case"ignore":return"Dismissed";case"ignoreAll":return i.createElement(i.Fragment,null,i.createElement("span",null,e.alerts)," ",o.f.pluralize(e.alerts,"alert has been","alerts have been")," dismissed");case"replace":return"Corrected";case"replaceSynonym":return"Replaced";case"replaceTransform":return i.createElement(i.Fragment,null,e.transform);case"addToDictionary":return i.createElement(i.Fragment,null,i.createElement("b",{className:t&&t.addToDictionary},e.word)," has been added to dictionary");case"report":return"Your report has been sent";case"markAsHelpful":return"Marked as “Will address”";case"markAsNotHelpful":return"Marked as “Not helpful”";case"acknowledge":return"Acknowledged";default:return""}},f={display:"flex",marginTop:d.a.rem(-1.1),marginBottom:d.a.rem(-.5),alignItems:"center",justifyContent:"space-between"},h={marginTop:d.a.rem(.6),marginRight:d.a.rem(1),color:s.a.CoreNeutral0,flexGrow:0,flexShrink:0},g={marginTop:d.a.rem(-.25),paddingRight:d.a.rem(.5),minWidth:"auto",minHeight:"auto",justifyContent:"space-between"},b={marginTop:d.a.rem(.6),maxWidth:d.a.rem(14),wordWrap:"break-word",flexBasis:"auto",flexGrow:1},v={marginRight:d.a.rem(1.4)},y=d.a.stylesheet({alertUndoWrapper:[f],alertUndoWrapperFlexible:[f,{flexWrap:"nowrap"}],alertUndoWrapperFullWidth:[f,{flexWrap:"wrap"}],alertUndoBtn:[h],alertUndoIcon:[g],alertUndoContent:[b],alertUndoContentFlexible:[b,v],addToDictionary:[{wordBreak:"break-all"}]});var O;!function(e){const t={wrapper:y.alertUndoWrapperFlexible,content:y.alertUndoContent,icon:y.alertUndoIcon,button:y.alertUndoBtn};e.Standard=({action:e,params:o})=>i.createElement(u.b.Content,null,i.createElement(n,{action:e,content:m(o),theme:Object(r.a)(Object(a.a)({},t),{wrapper:y.alertUndoWrapperFullWidth})})),e.Flexible=({notification:e,onClose:o,action:s,params:c})=>i.createElement(u.a.Wrapper,{notification:e,onClose:o},i.createElement(u.b.Content,null,i.createElement(n,{action:s,content:m(c,{addToDictionary:y.addToDictionary}),theme:Object(r.a)(Object(a.a)({},t),{wrapper:y.alertUndoWrapperFlexible,content:y.alertUndoContentFlexible})})));var n=e.Content=({action:e,content:n,theme:a=t})=>{const r=i.useContext(c.a.Context);return i.createElement("div",{className:a.wrapper},i.createElement("div",{className:a.content},n),i.createElement(p.a,{name:"alertUndoButton",className:a.button,onClick:e},i.createElement(l.d.Undo,{className:a.icon}),r.undo))}}(O||(O={}))},bDM3:function(e,t,n){e.exports=n.p+"files/eabe5d072b56b38a23c37e1b991c215d/inter-lightitalic.woff2"},bOc0:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return y}));var a=n("Vv+i"),r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("4mQT"),c=n("8O/t"),l=n("X76w"),u=n("t5lx"),d=n("B8yO"),p=n("OwvP"),m=n("4GyQ"),f=n("XQlQ"),h=n("7IMz"),g=n("xk6L"),b=n("yIk2"),v=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),e=t.apply(this,arguments),Object(o.a)(Object(a.a)(e),"_editorWrapEl",void 0),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this._editorWrapEl)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,a=void 0===n?{}:n,r=t.children,i=t.onMouseDown;return d.createElement("div",{className:a.editorContentWrap,onMouseDown:i},d.createElement(p.a.div,Object(l.a)(Object(c.a)({},Object(m.c)(a.editorContent)),{mount:function(t){return t&&(e._editorWrapEl=t)}}),r))}}]),n}(d.Component),y=function(e){var t=d.useContext(f.a.Context),n=h.a.useElWatcher(),a=n.ref,r=n.onMount;h.a.useSubscriptionTo(a.pipe(g.b.compactMap((function(n){return e.scrollEl.pipe(g.b.compact,g.a.first(),g.a.tap((function(a){return e.denaliEditor.attach(n,a,t.pipe(g.a.map((function(e){return e.rect}))))})))})))),h.a.useSubscriptionTo(a.pipe(g.b.compactMap((function(t){return b.a.getResizeObservable(t).pipe(g.a.map((function(e){return e.height})),g.a.distinctUntilChanged(),g.a.startWith(t.getBoundingClientRect().height),g.a.tap(b.b.toAtom(e.editorHeight)))})))),d.useEffect((function(){return function(){return e.denaliEditor.dispose()}}));var i=e.theme,o=void 0===i?{}:i,s=e.children;return d.createElement(v,{theme:o,onMount:r},s)}},bjrJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("B8yO"),r=n("lKCo"),i=n("+vYo");const o=a.createContext({portalContainer:i.a.create(r.none)})},btoL:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("B8yO"),s=n("DTwm"),c=n("tiWp"),l=n("OwvP"),u=n("xk6L"),d=n("mgiE"),p=n("TKPA"),m=n("2swC"),f=n("M3t0"),h=n("ldOx"),g=n("nWMp"),b=n("NbNH"),v=n("SOPW"),y=n("eAYH"),O=n("7Cqk"),S=n("TXN2"),C=n("XVhX"),w=n("5eEL"),k=n("cqTd"),E=n("vLu/");!function(e){e.Mini=({card:e,actions:t})=>o.createElement(l.a.Fragment,null,e.pipe(u.a.map(e=>y.b.isToneAIItem(e)?o.createElement(E.a.BundleMini,{card:e,actions:t}):y.b.isEthicalAIItem(e)?o.createElement(k.a.Mini,{card:e,actions:t,useBundleContainer:!0}):o.createElement(w.a.Bundle,{card:e,actions:t})))),e.Full=({card:e,actions:n,renderCard:i})=>{const{isChecking:d,isCheckingGlobal:p,transform:m}=v.a.useCardStates(e),f=e=>(r("CardBundle").error("card type not supported:",e),null),g=e.pipe(e=>e.lift(new u.d.SplitByOperator(e=>e.activeAlert.id)),u.a.switchMap(e=>e.pipe(u.a.distinctUntilChanged((e,t)=>e.activeAlertIndex===t.activeAlertIndex),u.a.map(t=>({activeAlertIndex:t.activeAlertIndex,activeAlertId:t.activeAlert.id,card:Object(c.pipe)(e,u.a.distinctUntilChanged((e,t)=>e.hashCode()===t.hashCode()&&e.visualState.transitionId===t.visualState.transitionId),u.a.shareReplay({bufferSize:1,refCount:!0}))}))))),b=(e,t)=>{const a=t.alerts.length,r=1===a?K.bundleInnerContainer:2===a?K.bundleInnerContainer2Cards:K.bundleInnerContainerNCards;return o.createElement(l.a.div,{className:r},i?i({card:t,actions:n,isChecking:d,isCheckingGlobal:p,transform:e}):o.createElement(C.a,{card:t,actions:n,isChecking:d,transform:e,isCheckingGlobal:p}))};return o.createElement(l.a.Fragment,null,e.pipe(u.a.map(r=>y.b.isIndependentBundleItem(r)?b(m,r):o.createElement(a,{card:e,actions:n},o.createElement(t,{state:g,stateToClassMapper:(e,t)=>{if(!e)return{prev:Object(h.c)(""),next:Object(h.c)("")};if(e.activeAlertId===t.activeAlertId)return{prev:Object(h.c)(K.inBundleToUpdatedCardOld),next:Object(h.c)(K.inBundleToUpdatedCardNew)};if(e.activeAlertIndex===t.activeAlertIndex)return{prev:Object(h.c)(K.inBundleToUpdatedCardOld),next:Object(h.c)(K.inBundleToUpdatedCardNew)};return e.activeAlertIndex<t.activeAlertIndex?{prev:Object(h.c)(K.inBundleToNextCardOld),next:Object(h.c)(K.inBundleToNextCardNew)}:{prev:Object(h.c)(K.inBundleToPrevCardOld),next:Object(h.c)(K.inBundleToPrevCardNew)}}},e=>o.createElement(l.a.div,{className:e.view,onAnimationEnd:"prev"===e.type?e.done:s.constVoid},Object(c.pipe)(e.state.card,u.a.map(Object(s.flow)(y.b.match({super:f,ethicalAI:f,takeaway:t=>b("prev"===e.type?u.a.of(t.transform):m,t),synfony:t=>b("prev"===e.type?u.a.of(t.transform):m,t),shortenIt:t=>b("prev"===e.type?u.a.of(t.transform):m,t),toneAI:t=>b("prev"===e.type?u.a.of(t.transform):m,t),suggestedSnippet:t=>b("prev"===e.type?u.a.of(t.transform):m,t),knowledgeHubSuggestedTerm:t=>b("prev"===e.type?u.a.of(t.transform):m,t),default:t=>b("prev"===e.type?u.a.of(t.transform):m,t)}),v.a.foldCard)))))))))};class t extends h.a{}const n=({alertCount:e})=>1===e?o.createElement(o.Fragment,null):2===e?o.createElement("div",{className:K.bundleFakeCard1}):o.createElement(o.Fragment,null,o.createElement("div",{className:K.bundleFakeCard1}),o.createElement("div",{className:K.bundleFakeCard2})),a=({children:e,card:t,actions:a})=>o.createElement(l.a.div,{className:K.bundleCardWrapper},o.createElement(S.a,{card:t,actions:a}),o.createElement(l.a.div,{className:K.cardBundleContainer},e,Object(c.pipe)((e=>Object(c.pipe)(e,u.a.map(e=>d.g.some(e.alerts.length))))(t),u.a.map(d.g.map(e=>o.createElement(n,{key:e,alertCount:e}))),u.a.map(d.g.toNullable)))),r=Object(p.l)(f.d.Logging.getLogger)}(a||(a={}));const j="0 1px 8px rgba(109, 117, 141, .18)",_=g.a.keyframes({"0%":{transform:"scale(1)"},"100%":{transform:"scale(1)"}}),x=g.a.keyframes({from:{transform:"translateX(0)",opacity:1},to:{transform:"translateX(-100px)",opacity:0}}),A=g.a.keyframes({from:{transform:"translateX(-100px)",opacity:0},to:{transform:"translateX(0)",opacity:1}}),I=g.a.keyframes({from:{opacity:0,transform:"scale(.95) translateY(-15px)"},to:{opacity:1,transform:"scale(1) translateY(0)"}}),T=g.a.keyframes({from:{opacity:1,transform:"scale(1) translateY(0)"},to:{opacity:0,transform:"scale(.95) translateY(-15px)"}}),M={position:"relative",borderRadius:g.a.rem(b.s),background:m.a.CoreNeutral0,boxShadow:j,zIndex:2},P={marginTop:g.a.rem(.75)},N={marginTop:g.a.rem(1.25)},D={position:"absolute",top:g.a.px(-5),right:g.a.rem(.5),left:g.a.rem(.5),zIndex:-1,display:"block",height:g.a.percent(100),borderRadius:g.a.rem(b.s),backgroundColor:m.a.CoreNeutral1,boxShadow:j,content:"' '"},B={position:"absolute",top:g.a.px(-10),right:g.a.rem(1),left:g.a.rem(1),zIndex:-2,display:"block",height:g.a.rem(2),borderRadius:g.a.rem(b.s),backgroundColor:m.a.CoreNeutral10,boxShadow:j,content:"' '"},L={borderRadius:g.a.rem(.75),background:m.a.CoreNeutral20,margin:`${g.a.rem(-.25)} ${g.a.rem(-.25)}`,padding:`${g.a.rem(.25)} ${g.a.rem(.25)}`,$nest:{["& ."+O.b.cozyCardContainerSelector]:{margin:0,boxShadow:"none"},["& ."+O.b.fullCardSelector]:{padding:`${g.a.rem(.75)} ${g.a.rem(.5)} ${g.a.rem(.5)} ${g.a.rem(1)}`},"& [data-role=dropdown-list]":{transform:`translateY(${g.a.rem(-.5)})`}}},F={position:"absolute",top:g.a.rem(.8),right:g.a.rem(1),margin:0},R={borderRadius:g.a.rem(b.s),background:m.a.CoreNeutral0,boxShadow:j},H={display:"block",position:"absolute",top:0,$nest:{["& ."+O.b.bundleInnerContainerSelector]:{margin:0}}},V={animation:`${T} ${g.a.seconds(.25)} ease-out`},U={animation:`${A} ${g.a.seconds(.25)} ease-out`},W={animation:`${x} ${g.a.seconds(.25)} ease-in`},z={animation:`${I} ${g.a.seconds(.25)} ease-in`},G={display:"none",animation:`${_} ${g.a.seconds(.25)} ease-in`},q={animation:`${_} ${g.a.seconds(.25)} ease-in`},K=Object(i.a)(Object(r.a)({},g.a.stylesheet({bundleInnerContainer:[M],bundleCardWrapper:[L],minimalBetaLabel:[F],compactCardContainer:[R],cardBundleContainer:[{position:"relative",zIndex:2}],inBundleMovingCard:[H],inBundleToPrevCardOld:[H,V],inBundleToPrevCardNew:[U],inBundleToNextCardOld:[H,W],inBundleToNextCardNew:[z],inBundleToUpdatedCardOld:[G],inBundleToUpdatedCardNew:[q]})),{bundleInnerContainer:g.a.joinClasses([O.b.bundleInnerContainerSelector,g.a.style(M)]),bundleInnerContainer2Cards:g.a.joinClasses([O.b.bundleInnerContainerSelector,g.a.style(M,P)]),bundleInnerContainerNCards:g.a.joinClasses([O.b.bundleInnerContainerSelector,g.a.style(M,N)]),bundleFakeCard1:g.a.joinClasses([O.b.bundleFakeCard1Selector,g.a.style(D)]),bundleFakeCard2:g.a.joinClasses([O.b.bundleFakeCard2Selector,g.a.style(B)])})},"c+X/":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a="https://assets.grammarly.com/emoji/v1/",r="https://assets.grammarly.com/animations/v1/"},cMhG:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=n("KMes");const r=a.a,i=a.b.version},caai:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("LY33");const r=(e,t=0,n=0)=>{let r=null,i=null;const o=()=>{var e;null===(e=r)||void 0===e||e.unsubscribe(),r=null},s=()=>{var e;null===(e=i)||void 0===e||e.unsubscribe(),i=null};return{htmlElementHandlers:{onMouseEnter:()=>{s(),r=Object(a.a)(t).subscribe(()=>e.onHover())},onMouseLeave:()=>{o(),i=Object(a.a)(n).subscribe(()=>{s(),e.onBlur()})}},reset:()=>{o(),s()}}}},cdwJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n("Wy1Y"),r=n("uKMM"),i=n("a5gI"),o=n("14g4"),s=n("PDPC"),c=n("4mQT"),l=n("x+Pc"),u=n("8O/t"),d=n("X76w"),p=n("hcme"),m=n("t5lx"),f=n("M5RY"),h=n("GMJx"),g=n("IjjT"),b=n("TKPA"),v=n("RRF2"),y=f.import("modules/keyboard"),O=y.DEFAULTS.bindings,S=b.e,C=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"addBinding",value:function(e,t,a){this.removeBinding(e,S),Object(o.a)(Object(s.a)(n.prototype),"addBinding",this).call(this,e,t,a)}},{key:"removeBinding",value:function(e,t){var n;Boolean(null===(n=this.bindings[e.key])||void 0===n?void 0:n.length)&&(this.bindings[e.key]=this.bindings[e.key].filter((function(e){var n=e.handler;return t!==n})))}}]),n}(y);function w(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:S}}var k;!function(e){e.shiftArrowDownBeforeSection={key:"Down",collapsed:!1,empty:!1,shiftKey:!0,handler:function(e){var t=Object(p.a)(this.quill.getLeaf(e.index+e.length),2),n=t[0];return t[1]>0||(!Object(g.m)(n,(function(e){return Object(l.a)(e,g.d)}))||(this.quill.setSelection(e.index,e.length+1),!1))}},e.shiftArrowDown={key:"Down",offset:0,empty:!0,shiftKey:!0,format:["template_section"],handler:function(e,t){return!t.empty||(this.quill.setSelection(e.index,e.length+1),!1)}},e.arrowDown={key:"Down",collapsed:!0,shiftKey:!1,format:["template_section"],handler:function(e,t){return!t.empty||(this.quill.setSelection(e.index+1,0),!1)}},e.enter={key:"Enter",collapsed:!0,format:["template_section"],handler:function(e,t){return!t.empty||(this.quill.updateContents(Object(g.z)((new h.a).retain(e.index).insert("\n")),"user"),this.quill.setSelection(e.index+1,0,"user"),!1)}}}(k||(k={}));var E,j={key:" ",collapsed:!0,shiftKey:!1,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*)$/,handler:function(e,t){var n=t.prefix.length,a=Object(p.a)(this.quill.getLine(e.index),2),r=a[0],i=a[1];if(i>n)return!0;var o=Object(p.a)(function(e){switch(e){case"-":return["dashed",/^\s*?-/];case"*":return["bullet",/^\s*?\*/];default:return["ordered",/^\s*?\d+\./]}}(t.prefix.trim()),2),s=o[0],c=o[1];if(Boolean(r.prev)&&!v.c.Guardians.isUL(r.prev.domNode)&&!v.c.Guardians.isOL(r.prev.domNode)&&Boolean(r.prev.domNode.textContent)&&c.test(r.prev.domNode.textContent))return!0;this.quill.insertText(e.index," ",f.sources.USER),this.quill.history.cutoff();var l=(new h.a).retain(e.index-i).delete(n+1).retain(r.length()-2-i).retain(1,{list:s});return this.quill.updateContents(Object(g.z)(l),f.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,0,f.sources.SILENT),!1}};!function(e){!function(e){e.plainTextBindings={indent:O.indent,outdent:O.outdent,"outdent backspace":O["outdent backspace"],tab:O.tab,"remove tab":O["remove tab"],bold:w("bold"),italic:w("italic"),underline:w("underline")},e.rtfBindings={indent:O.indent,outdent:O.outdent,"outdent backspace":O["outdent backspace"],tab:O.tab,"remove tab":O["remove tab"],"list empty enter":O["list empty enter"],"list autofill":j,"list autofill with shift":Object(d.a)(Object(u.a)({},j),{shiftKey:!0}),"header enter":O["header enter"]},e.templateSectionBindings={"shift down before template_section":k.shiftArrowDownBeforeSection,"template_section down":k.arrowDown,"template_section shift down":k.shiftArrowDown,"template_section enter":k.enter}}(e.Bindings||(e.Bindings={}));e.getKeyboardWithBindings=function(e){var t;return t=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return n}(C),Object(i.a)(t,"DEFAULTS",{bindings:e}),t}}(E||(E={}))},cnWy:function(e){e.exports=JSON.parse('{"wrapper":"_bcdd7f0f-change-plan-wrapper","content":"_df5b0caf-change-plan-content","icon":"_91fa5628-change-plan-icon","iconPremium":"_fa313941-change-plan-iconPremium","text":"_17f5ec07-change-plan-text","changePlanBtn":"_7ed7ecad-change-plan-changePlanBtn","price":"_cd54690c-change-plan-price"}')},cqTd:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("B8yO"),s=n("4GyQ"),c=n("OwvP"),l=n("+vYo"),u=n("xk6L"),d=n("RRF2"),p=n("2swC"),m=n("NDcT"),f=n("fC5a"),h=n("t39C"),g=n("ySi0"),b=n("nWMp"),v=n("NbNH"),y=n("7IMz"),O=n("itj6"),S=n("LqiM"),C=n("TXN2");!function(e){e.Mini=({card:e,actions:t,twoLined:n,useBundleContainer:a})=>o.createElement(S.a.Mini,Object(i.a)(Object(r.a)({},Object(s.c)(!0===n?x.twoLinedWrapper:x.standardWrapper,!0===a?x.bundleContainer:null)),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],inert:e.positionState.inert,hideDot:!0}),o.createElement(c.a.div,{className:x.content},void 0!==e.activeAlert.emojiID?o.createElement(h.c,{id:e.activeAlert.emojiID,className:x.icon}):o.createElement(g.d.EthicalAI.Heart,{className:x.icon}),o.createElement("div",{className:x.highlightedText},e.activeAlert.miniCardTitle))),e.Full=({card:e,actions:t,isChecking:n})=>{const a=o.useContext(m.a.Context),r=l.a.create(!1);return y.a.useSubscriptionTo(n.pipe(u.a.tap(e=>r.set(e)))),o.createElement(C.s,{card:e,actions:t,isChecking:n,body:o.createElement(o.Fragment,null,o.createElement(C.i,{alert:e.activeAlert,options:e.renderOptions}),o.createElement(C.n,{text:e.activeAlert.title}),void 0!==e.activeAlert.bannerColors?o.createElement("div",null,e.activeAlert.bannerColors.map(e=>o.createElement("div",{className:P.bannerStripe,style:{backgroundColor:e}}))):null,o.createElement(C.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),footer:o.createElement(o.Fragment,null,o.createElement(C.g,{card:e}),o.createElement(f.a.Primary,{key:"ethical-ai-external-link",name:"ethical-ai-external-link",href:e.activeAlert.externalLink,target:"_blank",rel:"noopener noreferrer",title:a.card.todoAction(e.activeAlert.todoAction),onClick:()=>{t.next({type:O.b.Type.ethicalAIOpenExternalLink,alertId:e.activeAlert.id,itemId:e.id,externalLink:e.activeAlert.externalLink}),e.activeAlert.shouldDismissAfterOpeningLink&&t.next({type:O.b.Type.alertResolve,id:e.id,alertId:e.activeAlert.id})},className:P.externalLinkButton},o.createElement("div",{className:P.externalLinkButtonContent},d.f.capitalize(e.activeAlert.todoAction),o.createElement(g.d.EthicalAI.ExternalLink,{className:P.externalLinkButtonContentIcon})))),alwaysShowWrongAndOffensiveButtons:e.activeAlert.isFlaggable})}}(a||(a={}));const w={height:b.a.rem(3.25),borderRadius:b.a.rem(v.s),boxShadow:"0 1px 8px rgba(109, 117, 141, .18)"},k={height:b.a.rem(3)},E={height:b.a.important(b.a.rem(2.5)),borderRadius:b.a.rem(v.s)},j={width:b.a.rem(1),height:b.a.rem(1),marginRight:b.a.rem(.5)},_={overflow:"hidden",color:p.a.CoreNeutral90,textOverflow:"ellipsis"},x=b.a.stylesheet({twoLinedWrapper:[w],standardWrapper:[k],bundleContainer:[E],content:[{display:"flex",alignItems:"center"}],icon:[j],highlightedText:[_]}),A={width:b.a.percent(100),$nest:{a:{color:p.a.CoreNeutral0,textDecoration:"none"}}},I={width:b.a.percent(100),position:"relative",textAlign:"center"},T={position:"absolute",top:b.a.rem(.25),right:b.a.rem(.25)},M={width:b.a.percent(100),height:b.a.rem(.5)},P=b.a.stylesheet({externalLinkButton:[A],externalLinkButtonContent:[I],externalLinkButtonContentIcon:[T],bannerStripe:[M]})},d3CI:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"i",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"j",(function(){return c})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return E})),n.d(t,"g",(function(){return j})),n.d(t,"b",(function(){return _}));var a,r,i,o,s,c,l,u=n("a5gI"),d=n("8O/t"),p=n("X76w"),m=n("yQCL"),f=n("DTwm"),h=n("tiWp"),g=n("4tRT"),b=n("mgiE"),v=n("TKPA"),y=n("0kuo"),O=n("RRF2"),S=n("D2TP"),C=n("xk6L"),w=n("phaH");!function(e){e.forceText="forceText",e.forceSidebar="forceSidebar"}(a||(a={})),function(e){e.lensview="lensview",e.advanced="advanced",e.plagiarism="plagiarism",e.draftAI="draftAI",e.cheetah="cheetah",e.closed="closed"}(r||(r={})),(r||(r={})).fromLensId=e=>{switch(e){case S.a.SpecialId.Cheetah:return r.cheetah;case S.a.SpecialId.DraftAI:return r.draftAI;case S.a.SpecialId.Plagiarism:return r.plagiarism;case S.a.SpecialId.Premium:case S.a.SpecialId.FreePremiumAlerts:return r.advanced;case S.a.SpecialId.Closed:return r.closed;default:return r.lensview}},function(e){e.active="active",e.persistent="persistent",e.abstract="abstract"}(i||(i={})),function(e){function t(e){return Object(h.pipe)(e.cardIndex,b.g.chain(t=>e.items.getAt(t)))}e.getActiveItem=t;e.getActiveItemIndex=e=>Object(f.flow)(o.getActiveItem,b.g.chain(t=>e.get(t.id)),b.g.map(e=>e.index));e.getActiveItemOfType=function(e){return Object(f.flow)(t,b.g.filter(e))}}(o||(o={})),function(e){e.withFilter=e=>t=>(n,a)=>t(n,Object(v.b)(e,a));e.compose=function(e){return(t,n)=>Object(m.fold)(Object(m.getEndomorphismMonoid)())(e.map(e=>e(t,n)))}}(s||(s={})),function(e){e.hasItems=function(e){return e.kind===i.active||e.kind===i.persistent}}(c||(c={}));class k{static create(e){return new k(e)}get alertSource(){return this._data.alertSource}get switchOrder(){return this._data.switchOrder}get currentLens(){return this._data.currentLens}patch(e){return new k(Object(d.a)({},this._data,e))}hashCode(){let e=7;return e=31*e+Object(w.b)(this.alertSource),e=31*e+Object(w.b)(this.switchOrder),e=31*e+this.currentLens.hashCode(),e}equals(e){return this.alertSource===e.alertSource&&this.switchOrder===e.switchOrder&&this.currentLens.equals(e.currentLens)}constructor(e){Object(u.a)(this,"_data",void 0),this._data=e}}!function(e){var t=e.withCardLensSnapshot=(e,t)=>n=>{const a=n.currentLens.items.size>50,r=Object(h.pipe)(n.currentLens.cardIndex,b.g.getOrElse(()=>0)),[i,o]=a?[Math.max(r-25,0),r+25]:[0,50];return{alertSource:n.alertSource,switchOrder:n.switchOrder,lens:{id:n.currentLens.id,card:Object(h.pipe)(t(n.currentLens),b.g.map(e)),items:n.currentLens.items.values().slice(i,o).map(e),sample:a}}};e.snapshot=(e,a)=>n(t(e,a),t(e,a),e=>({alertSource:e.alertSource,switchOrder:e.switchOrder,lens:{id:e.currentLens.id,kind:e.currentLens.kind}}));function n(e,t,n){return a=>{switch(a.currentLens.kind){case i.active:return e(a);case i.persistent:return t(a);case i.abstract:return n(a);default:return Object(y.c)(a.currentLens)}}}e.genericMapper=n;var o=e.mapper=e=>n(e,e,()=>b.g.none),s=e.getActiveItem=e=>o(({currentLens:t})=>e(t));e.getActiveAlertHighlight=e=>Object(f.flow)(s(e),b.g.map(e=>({alert:e.activeAlert,highlightIndex:e.activeHighlightIndex}))),e.getActiveAlert=e=>Object(f.flow)(s(e),b.g.map(e=>e.activeAlert)),e.getLens=o(({currentLens:e})=>b.g.some(e));let c;function l(e){return e.currentLens.kind===i.persistent}!function(e){e.mapper=function(e,t){return n=>t[e(n)](n)}}(c=e.Items||(e.Items={})),e.is=function(e){return t=>t.currentLens.id===e},e.isLensview=function(e){return e.currentLens.type===r.lensview},e.isPersistent=l,e.hasCards=function(e){return e.currentLens.kind===i.active||l(e)},e.hasItems=function(e){return e.currentLens.kind===i.active||e.currentLens.kind===i.persistent},e.hasSuccess=function(e){return S.a.isOutcomeId(e.currentLens.id)||S.a.isMainLens(e.currentLens.id)||e.currentLens.id===S.a.SpecialId.PredictionTakeaways||e.currentLens.id===S.a.SpecialId.PredictionEmogenie};e.isForceSidebar=e=>(k.isLensview(e)||e.currentLens.type===r.plagiarism)&&e.alertSource===a.forceSidebar,e.isSidebarOpened=e=>!k.is(S.a.SpecialId.Closed)(e);let u,m,v;!function(e){e.defaultFilter=O.e.pick("alertHighlight")}(u=e.FocusFirstFilter||(e.FocusFirstFilter={})),function(e){e.getLens=()=>g.a.create(e=>e.currentLens,(e,t)=>t.patch({currentLens:e})),e.getLensWithItems=()=>g.a.create(e=>e.currentLens,(e,t)=>t.patch({currentLens:e}))}(m=e.Prism||(e.Prism={})),function(e){let t,n,a,r,i,o,s,c,l;!function(e){e.SwitchLens="SwitchLens",e.SwitchAlert="SwitchAlert",e.Applicator="Applicator",e.ItemsApplicator="ItemsApplicator"}(t=e.Type||(e.Type={})),function(e){let n;e.create=function(e){return{type:t.Applicator,source:e}},function(e){e.identity=e=>e,e.override=e=>()=>e,e.empty=C.a.EMPTY}(n=e.Source||(e.Source={}))}(n=e.Applicator||(e.Applicator={})),function(e){let n;e.create=function(e){return{type:t.ItemsApplicator,source:e}},function(e){e.identity=()=>e=>e,e.override=e=>()=>e,e.empty=C.a.EMPTY}(n=e.Source||(e.Source={}))}(a=e.ItemsApplicator||(e.ItemsApplicator={})),function(e){e.create=function(e){return{type:t.SwitchAlert,source:e}}}(r=e.SwitchAlert||(e.SwitchAlert={})),function(e){e.create=function(e){return{type:t.SwitchLens,source:e}}}(i=e.SwitchLens||(e.SwitchLens={})),function(e){function t(e){return e===S.a.SpecialId.Closed}e.isSidebarClosed=t;e.isSidebarOpen=Object(f.not)(t),e.always=f.constTrue}(o=e.When||(e.When={})),function(e){e.delayed=e=>t=>{const n=C.a.delayWhen(()=>C.a.of(void 0),e),a=Object(p.a)(Object(d.a)({},t.what),{source:n(t.what.source)});return Object(p.a)(Object(d.a)({},t),{what:a})}}(s=e.Producer||(e.Producer={})),function(e){e.noFocus="noFocus",e.unFocus="unFocus",e.focusFirst="focusFirst",e.focusNext="focusNext",e.focusAlert="focusAlert"}(c=e.FocusBehaviorType||(e.FocusBehaviorType={})),function(e){e.noFocus={kind:c.noFocus},e.unFocus={kind:c.unFocus},e.focusNext={kind:c.focusNext},e.focusFirst={kind:c.focusFirst},e.focusAlert=e=>({kind:c.focusAlert,alertHighlight:e})}(l=e.FocusBehavior||(e.FocusBehavior={}))}(v=e.Effect||(e.Effect={}))}(k||(k={})),function(e){e.defaultOptions={focusBehavior:k.Effect.FocusBehavior.focusFirst}}(l||(l={}));var E,j,_;!function(e){e[e.allAlerts=0]="allAlerts",e[e.priorityAlertsOnly=1]="priorityAlertsOnly"}(E||(E={})),function(e){e.getDefault=()=>E.allAlerts}(j||(j={})),function(e){e.skip=f.constFalse,e.force=f.constTrue,e.proceed=e=>e.positionState.animationInProgress}(_||(_={}))},dDfY:function(e,t,n){"use strict";function a(e){return{kind:e.kind,source:e.source,name:e.name,jsonData:JSON.stringify(e.data)}}n.d(t,"a",(function(){return a}))},dXk0:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("0kuo");!function(e){let t;!function(e){e.close="close",e.tryItOut="tryItOut",e.mount="mount"}(t=e.Kind||(e.Kind={})),e.is=function(e){return t=>t.kind===e}}(a||(a={})),Object(r.d)(void 0)},dcXr:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("DTwm"),r=n("yW1N"),i=n("mgiE"),o=n("skc2"),s=["http","https","mailto","tel"];var c=function(e){return i.b.tryCatchError((function(){return new URL(e)}))},l=Object(a.flow)(c,i.b.fold((function(){return!1}),(function(e){return s.includes(e.protocol.replace(":",""))}))),u=i.b.fromPredicate((function(e){return e.length<=o.a.MAX_URL_LENGTH}),(function(){return new Error("URL is too long")})),d=i.b.fromPredicate((function(e){return e.length>0}),(function(){return new Error("URL is too short")})),p=i.b.fromPredicate(l,(function(){return new Error("Url contains invalid protocol")})),m=Object(a.flow)(r.sanitize,d,i.b.map((function(e){return r.urlContainsProtocol(e)?e:"http://"+e})),i.b.chain((function(e){return Object(a.pipe)(e,c,i.b.map((function(){return e})))})),i.b.chain(p),i.b.chain(u))},dn08:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r,i=n("111I"),o=n("xk6L"),s=n("hldE"),c=n("mgiE"),l=n("DTwm"),u=n("yIk2"),d=n("itj6");function p(e,t,n,a){return i.a.composeUnion({Some:i.a.composeKnot({value:i.a.composeKnot({root:()=>e.pipe(o.a.map(e=>Object(l.pipe)(m(a)(e),c.g.map(t=>({item:e,key:n(e),className:t})))),o.b.compact),shadeItem:t})}),None:()=>o.a.of(c.g.none)},t=>o.a.mergeStatic(e.pipe(o.a.map(m(a))),t.pipe(o.a.filter(e=>"root"===e.action.action.key&&e.action.action.action.type===d.a.Kind.completeTransitionTo),o.a.switchMap(u.b.Scheduler.rafScheduler),o.a.mapTo(c.g.none))))}function m(e){return t=>Object(l.pipe)(t.visualState.from,c.g.chain(()=>e(t.visualState).shade))}function f(e,t,n,a,r){return i.a.composeKnot({root:()=>e.pipe(o.a.map(e=>{const{main:t,shade:n}=r(e.visualState);return{item:e,className:t,hasAnimation:c.g.isSome(t)||c.g.isSome(n)}})),shade:p(e,n,a,r),item:t})}function h(e,t){return i.a.composeKnot({root:()=>e.pipe(o.a.map(e=>e.visualState.transition.type)),staticItemChild:t})}(r=a||(a={})).flow=function(e,t,n,a=(e=>e.id),r=s.a.toOption(s.c)){return i.a.composeKnot({root:()=>e,animatedItem:i.a.composeUnion({static:h(e,t),animating:f(e,t,n,a,r)},()=>e.pipe(o.a.map(e=>({animatedItemKind:e.visualState.incomplete?"animating":"static"}))))})},r.extend=function(e){return i.a.extendActions(o.a.tap(t=>{const n=t.action;if("animating"===n.key)if("root"===n.action.key)e(n.action.action);else if("shade"===n.action.key){const t=n.action.action.action.action;"root"===t.key&&e(t.action)}}))}},e71X:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a,r=n("B8yO"),i=n("OwvP"),o=n("0kuo"),s=n("TKPA"),c=n("111I"),l=n("NDcT"),u=n("fC5a"),d=n("L8Yl"),p=n("ySi0"),m=n("D2TP"),f=n("2swC"),h=n("hSa3"),g=n("nWMp"),b=n("xk6L");!function(e){var t=e.DefaultCounter=c.b.Node.make(({state:e})=>r.createElement(i.a.Fragment,null,e.pipe(b.a.map(({count:e,fontSize:t,lensId:n})=>r.createElement(h.a.OutcomeCounter,{count:e,theme:{counterWrapper:j.get(n),counterContent:E.counterContent},type:"gray",fontSize:t}))))),n=e.ZeroCounter=c.b.Node.make(()=>r.createElement(p.d.CheckmarkOutcomes,{className:E.zeroCounter})),a=e.PlagiarismCounter=c.b.Node.make(({state:e})=>r.createElement(i.a.Fragment,null,e.pipe(b.a.map(({count:e,fontSize:t})=>r.createElement(h.a.OutcomeCounter,{count:e,theme:{counterWrapper:E.plagiarismCounterWrapper,counterContent:E.plagiarismCounterContent},suffix:"%",type:"gray",fontSize:t})))));e.Component=c.b.Union.make("kind",{plagiarism:a,default:t,zero:n});const o=e=>!m.a.isPlagiarismId(e);e.createLensCounterFlow=(e,t,n)=>c.a.composeUnion({plagiarism:c.a.fromSideEffect(s.e,t.pipe(b.a.map(e=>({count:e,fontSize:n})))),default:c.a.fromSideEffect(s.e,t.pipe(b.a.combineLatest(e.pipe(b.a.filter(o))),b.a.map(([e,t])=>({count:e,lensId:t,fontSize:n})))),zero:c.a.fromSideEffect(s.e,null)},()=>e.pipe(b.a.combineLatest(t),b.a.map(([e,t])=>({kind:0===t?"zero":e===m.a.SpecialId.Plagiarism?"plagiarism":"default"}))));const l={fill:g.a.important(f.a.CoreNeutral0)},u={fill:g.a.important(f.a.CoreNeutral50)},d={fill:g.a.important(f.a.CoreRed50)},v={fill:g.a.important(f.a.CoreBlue50)},y={fill:g.a.important(f.a.CoreGreen50)},O={fill:g.a.important(f.a.CorePurple50)},S={fill:g.a.important(f.a.CoreNeutral50)},C={fill:g.a.important(f.a.CoreNeutral50)},w={fill:g.a.important(f.a.CoreCyan50)},k={fill:f.a.CoreGreen50,minHeight:0,minWidth:g.a.rem(1)},E=g.a.stylesheet({counterWrapper:[],counterContent:[l],zeroCounter:[k],allAlertsCounter:[u],priorityAlertsCounter:[u],correctnessCounter:[d],clarityCounter:[v],engagementCounter:[y],deliveryCounter:[O],voxCounter:[S],knowledgeHubCounter:[C],plagiarismCounterWrapper:[w],plagiarismCounterContent:[l,{}]}),j=new Map([[m.a.SpecialId.AllAlerts,E.allAlertsCounter],[m.a.SpecialId.Correctness,E.correctnessCounter],[m.a.SpecialId.Clarity,E.clarityCounter],[m.a.SpecialId.Engagement,E.engagementCounter],[m.a.SpecialId.Delivery,E.deliveryCounter],[m.a.SpecialId.Vox,E.voxCounter],[m.a.SpecialId.KnowledgeHub,E.knowledgeHubCounter]])}(a||(a={}));var v,y=n("XlqH"),O=n("gfa6");!function(e){e.Component=e=>r.createElement(t,e);var t=e.Title=e=>{const{lensId:t,lensAlertsCount:n,lensPreviewVM:s,customInfoButton:l}=e;return r.createElement(i.a.div,{className:m.a.isPlagiarismId(t)?O.a.plagiarismLensTitle:O.a.lensTitle},r.createElement(i.a.div,{className:O.a.flexContainer},n&&n.view(e=>e>0&&(m.a.isOutcomeId(t)||m.a.isAllAlerts(t)||m.a.isPlagiarismId(t)?r.createElement(r.Fragment,{key:"lens-counter"},c.b.mount(a.Component,a.createLensCounterFlow(b.a.of(t),b.a.of(e),12))):null)),r.createElement("h2",null,(()=>{switch(e.lensId){case m.a.SpecialId.AllAlerts:return r.createElement(h,null);case m.a.SpecialId.Premium:case m.a.SpecialId.FreePremiumAlerts:return r.createElement(v,null);case m.a.SpecialId.Plagiarism:return r.createElement(S,null);case m.a.SpecialId.Correctness:case m.a.SpecialId.Clarity:case m.a.SpecialId.Engagement:case m.a.SpecialId.Delivery:case m.a.SpecialId.Vox:case m.a.SpecialId.KnowledgeHub:return r.createElement(g,{lensId:e.lensId,lensPreviewVM:e.lensPreviewVM});case m.a.SpecialId.PredictionEmogenie:case m.a.SpecialId.PredictionTakeaways:case m.a.SpecialId.RealTimeProofit:return null;default:Object(o.c)(e.lensId)}})()),e.customSideButton,m.a.isOutcomeId(t)?r.createElement(u.b,{iconClass:O.a.infoIcon,tooltipClass:O.a.infoTooltip,title:Object(y.b)(e.lensId).description}):l||null,m.a.isOutcomeId(t)||m.a.isPlagiarismId(t)||m.a.isDraftAIId(t)?r.createElement(f,{key:"back-to-all-alerts",density:e.density}):[m.a.SpecialId.Premium,m.a.SpecialId.FreePremiumAlerts].includes(t)&&s.getLens(m.a.SpecialId.AllAlerts).view("count").view(t=>t>0?r.createElement(f,{key:"back-to-all-alerts",density:e.density}):null)))},n=e.OutcomeContext=r.createContext({navigateToAllAlerts:s.e}),f=e.BackToAllAlertsButton=({density:e=b.a.of("cozy")})=>{const{backToAllAlerts:t}=r.useContext(l.a.Context).sidebar;return r.createElement(n.Consumer,null,({navigateToAllAlerts:n})=>r.createElement(u.a.Flat,{name:"to-all-alerts",tag:d.b.div,className:O.a.toAllAlertsButton,onClick:n,"aria-label":e.pipe(b.a.map(e=>"compact"===e?t:void 0))},e.pipe(b.a.map(e=>"cozy"===e&&r.createElement("span",{className:O.a.toAllAlertsText},t))),r.createElement(p.d.Close,{width:13})))};const h=()=>r.createElement(r.Fragment,null,r.useContext(l.a.Context).sidebar.allAlerts),g=({lensId:e,lensPreviewVM:t})=>r.createElement(r.Fragment,null," ",t.lensPreviews[e].title),v=()=>r.createElement(r.Fragment,null," ",r.useContext(l.a.Context).sidebar.premiumAlertsTitle),S=()=>r.createElement(r.Fragment,null," ",r.useContext(l.a.Context).plagiarism.title)}(v||(v={}))},e92m:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("a5gI"),i=n("8O/t"),o=n("X76w"),s=n("cZKX"),c=n("IMGo"),l=n("DTwm"),u=n("uwym"),d=n("lXop"),p=n("mgiE"),m=n("TKPA"),f=n("0kuo"),h=n("M3t0"),g=n("Hj2R"),b=n("xk6L"),v=n("yIk2"),y=n("uxqH"),O=n("phaH"),S=n("hzat"),C=n("8XoQ"),w=n("YqdJ"),k=n("mDV6"),E=n("Eow2"),j=n("KH+i"),_=n("YqJ0");!function(e){e.id="BulkAcceptItemId",e.Kind="BulkAcceptItem";const t=s.eb(p.c.fromEquals((e,t)=>e.id===t.id&&S.a.isBulkApplied(e)===S.a.isBulkApplied(t)));var n=e.efficientAlertEq=p.c.fromEquals((e,n)=>e.length===n.length&&t.equals(e,n)),r=e.eqByAlerts=p.c.fromEquals((e,t)=>n.equals(e.alerts,t.alerts)),y=(e.isInAppliedState=e=>"applied"===e.visibilityState,e.isInVisibleState=e=>"visible"===e.visibilityState),O=e.isInUndoneState=e=>"undone"===e.visibilityState;e.isInInitialState=Object(m.p)(y,O),e.eq=p.c.fromEquals((e,t)=>r.equals(e,t)&&e.activeAlertIndex===t.activeAlertIndex&&e.hasMarkFocusable===t.hasMarkFocusable&&e.visibilityState===t.visibilityState),e.visualStateEq=p.c.fromEquals((e,t)=>E.a.eq.equals(e.positionState,t.positionState)&&e.visibilityState===t.visibilityState);e.isBulkAcceptItem=function(e){return e.id===a.id};e.create=(e,t)=>(Object(f.f)(s.ob(e),"Cannot create BulkAcceptItem without bulk-acceptable alerts"),new x(e,I(e),E.a.empty,_.b.initial({type:"added",clockwise:!0}),t)),e.updateAlerts=(e,t)=>new x(t,"dismissed"===e.visibilityState?e.visibilityState:I(t),e.positionState,Object(o.a)(Object(i.a)({},e.visualState),{incomplete:!1}),e.renderOptions,e.hasMarkFocusable,Object(l.pipe)(p.g.fromNullable(t[e.activeAlertIndex]),p.g.map(()=>e.activeAlertIndex),p.g.getOrElse(()=>t.length-1))),e.changePosition=e=>t=>new x(e.alerts,e.visibilityState,t,e.visualState,e.renderOptions,e.hasMarkFocusable,e.activeAlertIndex),e.changeVisualState=e=>t=>new x(t.alerts,t.visibilityState,t.positionState,e,t.renderOptions,t.hasMarkFocusable,t.activeAlertIndex),e.completeTransition=(e,t)=>new x(e.alerts,e.visibilityState,e.positionState,_.b.complete(e.visualState,t),e.renderOptions,e.hasMarkFocusable,e.activeAlertIndex),e.transitionTo=(e,t)=>new x(e.alerts,e.visibilityState,e.positionState,_.b.to(e.visualState,t),e.renderOptions,e.hasMarkFocusable,e.activeAlertIndex),e.dismiss=e=>new x(e.alerts,"dismissed",e.positionState,_.b.to(e.visualState,{type:"removed",clockwise:!0}),e.renderOptions);const C=Object(u.e)(c.Y)(),j=C.composeLens(u.c.fromPath()(["state"])),A=C.composeLens(u.c.fromProp()("ignoreAllowed"));e.undo=e=>new x(Object(l.pipe)(e.alerts,j.set({type:g.a.State.Type.REGISTERED,checkingState:g.a.CheckingState.CHECKING}),A.set(!1)),"undone",e.positionState,Object(o.a)(Object(i.a)({},e.visualState),{incomplete:!1}),e.renderOptions),e.select=(e,t)=>Object(l.pipe)(t,p.g.filter(t=>t.id===e.id),p.g.orElse(Object(l.pipe)(e,p.g.fromPredicate(e=>"focused"===e.visualState.transition.type))),p.g.fold(()=>{const n=E.a.invalidateHeight(e.positionState),a={type:"focused",clockwise:!0},r=Object(l.pipe)(t,p.g.fold(()=>_.b.initial(a),()=>_.b.to(e.visualState,a)));return new x(e.alerts,e.visibilityState,n,r,e.renderOptions)},()=>e)),e.unselect=(e,t)=>Object(l.pipe)(t,p.g.filter(t=>t.id===e.id),p.g.orElse(Object(l.pipe)(e,p.g.fromPredicate(e=>"rendered"===e.visualState.transition.type))),p.g.fold(()=>{const t=E.a.invalidateHeight(e.positionState),n=k.a.isHidden(e)?e.visualState:_.b.to(e.visualState,{type:"rendered",clockwise:!0});return new x(e.alerts,e.visibilityState,t,n,e.renderOptions)},()=>e)),e.selectAlert=e=>t=>{const n=t.alerts.findIndex(t=>t.id===e);return n<0&&h.d.Logging.getLogger("BulkAcceptItem").error("Tried to select non-existing alert"),new x(t.alerts,t.visibilityState,t.positionState,t.visualState,t.renderOptions,-1!==n,-1!==n?n:0)},e.clone=e=>new x(e.alerts,e.visibilityState,e.positionState,e.visualState,e.renderOptions,e.hasMarkFocusable,e.activeAlertIndex),e.hasAlert=e=>t=>void 0!==t.alerts.find(t=>t.id===e),e.moveToViewportTop=(e,t)=>n=>e.setCardPosition(n.id,!1,!0,w.b.FromWindowTop.ISO.wrap(t)).pipe(b.a.switchMapTo(b.a.NEVER)),e.alignMarkToBulkItem=(e,t)=>({suggestedPosition:n})=>a=>{const r={alert:a.activeAlert,highlightIndex:a.activeHighlightIndex};return Object(l.pipe)(e.getMarkAlertPosition(r),b.a.map(p.g.map(Object(l.flow)(w.b.FromWindowTop.ISO.modify(e=>e-w.b.FromWindowTop.ISO.unwrap(n)),w.b.FromWindowTop.ISO.unwrap))),b.b.compact,b.a.switchMap(t=>e.moveAlertHighlightInViewport(r,n,d.a.none).pipe(b.a.mapTo(t))),b.a.switchMap(e=>{const n=p.b.unsafeGet(t.getCardSuggestedPositionInViewport(a.id,!1,p.g.none,"cardContentTop")),r=w.b.FromWindowTop.ISO.modify(w.a.concatC(e))(n.top),i=t.isAboveViewportTop(r)?w.b.FromWindowTop.ISO.wrap(n.contentOffset):r;return t.setCardPosition(a.id,!1,!1,i)}),b.a.mapTo(v.b.voidValue),b.a.catchError(e=>(h.d.Logging.root.getLogger("AlignmentViewModel").error("Cannot align mark to suggested position of BulkAcceptItem",e),b.a.EMPTY)),b.a.share())};const I=Object(l.flow)(s.ib,p.g.filter(S.a.isBulkApplied),p.g.fold(()=>"visible",()=>"applied"))}(a||(a={}));class x{equals(e){return a.eq.equals(this,e)}hashCode(){return Object(O.b)(this.alerts.map(e=>e.id).join())}constructor(e,t,n,i,o,s=!1,c=0){Object(r.a)(this,"alerts",void 0),Object(r.a)(this,"visibilityState",void 0),Object(r.a)(this,"positionState",void 0),Object(r.a)(this,"visualState",void 0),Object(r.a)(this,"renderOptions",void 0),Object(r.a)(this,"hasMarkFocusable",void 0),Object(r.a)(this,"activeAlertIndex",void 0),Object(r.a)(this,"kind",void 0),Object(r.a)(this,"id",void 0),Object(r.a)(this,"activeAlert",void 0),Object(r.a)(this,"activeHighlightIndex",void 0),Object(r.a)(this,"removedAlertsIds",void 0),Object(r.a)(this,"meta",void 0),Object(r.a)(this,"a11yContrast",void 0),this.alerts=e,this.visibilityState=t,this.positionState=n,this.visualState=i,this.renderOptions=o,this.hasMarkFocusable=s,this.activeAlertIndex=c,this.kind=a.Kind,this.id=a.id,this.activeHighlightIndex=0,this.removedAlertsIds=new Set,this.activeAlert=e[this.activeAlertIndex];const l=e.map(e=>e.getHighlightRanges()[0]);this.meta=new C.a.Impl(y.a.fromRatio(this.activeAlert.progress),this.activeAlert.explanation,C.a.CheckingState.Idle,l,!1),this.a11yContrast=o.features.has(j.a.Features.a11yContrast)}}},"eBv/":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("DTwm"),i=n("1MDf"),o=n("mgiE"),s=n("K40b"),c=n("f38j");function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t,n){return{entries:e,latestChangeDiff:t,diffVersion:n+1}}!function(e){var t=function(e,t){return function(n){return Array.from(n.entries.values()).reduce((function(e,n){return t(e,n)}),e)}},n=function(e,t){return o.e.symmetricDiff(c.a.Item.eq)(e,t)},l=function(e){var t=e.added,n=void 0===t?new Map:t,a=e.updated,r=void 0===a?new Map:a,i=e.removed,l=void 0===i?new Map:i,u=new Map,p=s.a.fromMutation((function(e){l.forEach((function(t,n){e.set(n,o.m.left(t))})),n.forEach((function(t,n){e.has(n)?u.set(n,"sdui item add overlaps with sdui item remove: toAdd(".concat(c.a.Item.show.show(t)," overlapWith(").concat(o.m.getShow(c.a.Item.show,c.a.Item.show).show(e.get(n)),"))")):e.set(n,o.m.right(t))})),r.forEach((function(t,n){var a=d(t,2),r=a[0],i=a[1];e.has(n)?u.set(n,"sdui item update overlaps with unexpected sdui item add/remove: toUpdate(".concat(c.a.Item.show.show(i),") overlapWith(").concat(o.m.getShow(c.a.Item.show,c.a.Item.show).show(e.get(n)),"))")):e.set(n,o.m.both(r,i))}))}));return u.size>0?o.b.left({recovered:p,rejected:u}):o.b.right(p)};e.iso=i.d(),e.empty={entries:new Map,latestChangeDiff:s.a.empty(),diffVersion:0};e.get=function(e){return function(t){return o.g.fromNullable(t.entries.get(e))}},e.find=function(e){return t(o.g.none,(function(t,n){return Object(r.pipe)(t,o.g.alt((function(){return o.g.fromPredicate(e)(n)})))}))},e.reduce=t;e.size=function(e){return e.entries.size};e.diff=function(e,t){return 0===e.diffVersion?o.b.unsafeGet(l({added:t.entries})):e.diffVersion+1===t.diffVersion?t.latestChangeDiff:n(e.entries,t.entries)},e.diffFromEntries=n,e.applyDiff=function(e){return function(t){var n=o.e.leftToRight(o.e.Merger.createStrict(c.a.Item.eqShow),t.entries,e);return Object(r.pipe)(n,o.b.bimap((function(n){var a=s.a.fromMutation((function(t){Object(r.pipe)(e,s.a.forEach((function(e,a){return!n.rejected.has(a)&&t.set(a,o.m.left(e))}),(function(e,a,r){return!n.rejected.has(r)&&t.set(r,o.m.both(e,a))}),(function(e,a){return!n.rejected.has(a)&&t.set(a,o.m.right(e))})))}));return{recovered:p(n.recovered,a,t.diffVersion),rejected:n.rejected}}),(function(n){return p(n,e,t.diffVersion)})))}},e.applyDiffLoose=function(e){return function(t){var n=o.e.leftToRight(o.e.Merger.createLoose(c.a.Item.eqShow),t.entries,e);return Object(r.pipe)(n,o.b.bimap((function(n){return{recovered:p(n.recovered,e,t.diffVersion),rejected:n.rejected}}),(function(n){return p(n,e,t.diffVersion)})))}},e.createDiff=l,e.toJSON=function(e){return{entries:Array.from(e.entries),latestChangeDiff:s.a.toJSON(e.latestChangeDiff),diffVersion:e.diffVersion}};e.diffShow=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){u(e,t,n[t])}))}return e}({},s.a.getShow(c.a.Item.Id.show,c.a.Item.show));!function(e){var t=e.showMapKeys={show:function(e){return null==e?"None":Array.from(e.keys()).join(", ")}};e.show={show:function(e){return"added: ".concat(t.show(e.added),"\n        \n removed: ").concat(t.show(e.removed),"\n updated: ").concat(t.show(e.removed))}},e.isEmpty=function(e){var t=e.added,n=e.updated,a=e.removed;return!(null!=t&&0!==t.size||null!=n&&0!==n.size||null!=a&&0!==a.size)}}(e.InternalDiff||(e.InternalDiff={})),function(e){var t=e.empty=function(){return{added:new Map,updated:new Map,removed:new Map}};e.fromState=function(e){return a.reduce(t(),e)}}(e.MutableInternalDiff||(e.MutableInternalDiff={}))}(a||(a={}))},eM7Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("B8yO"),r=n("4GyQ"),i=n("NDcT"),o=n("fC5a"),s=n("ySi0"),c=n("wuWi"),l=n("nWMp");const u=({onLeftClick:e,onRightClick:t,currentMatch:n,totalMatch:l,replaceOneMatch:u=!0,disableOnEnd:d=!0,style:p})=>{const f=a.useContext(i.a.Context).card.matchesNavigation;return 0===l?null:1===l&&u?a.createElement("div",Object(r.c)(m.matchesRow,!!Boolean(p.matchesRow)&&p.matchesRow),a.createElement(c.h,Object(r.c)(m.matchesCount,!!Boolean(p.matchesCount)&&p.matchesCount),f.numberOfMatches(l))):a.createElement("div",Object(r.c)(m.matchesRow,!!Boolean(p.matchesRow)&&p.matchesRow),a.createElement(o.a.Ghost,{disabled:d&&0===n,name:"left",title:f.prev,"aria-label":f.prev,onClick:e},a.createElement(s.d.Arrow,Object(r.c)(m.leftButtonIcon,!!Boolean(p.leftButtonIcon)&&p.leftButtonIcon))),a.createElement(c.h,Object(r.c)(m.matchesCount,!!Boolean(p.matchesCount)&&p.matchesCount),f.currentMatchPosition(n+1,l)),a.createElement(o.a.Ghost,{disabled:d&&n===l-1,name:"right",title:f.next,"aria-label":f.next,onClick:t},a.createElement(s.d.Arrow,Object(r.c)(m.rightButtonIcon,!!Boolean(p.rightButtonIcon)&&p.rightButtonIcon))))},d={display:"inline-block",verticalAlign:"middle",$nest:{"& > * + *":{marginLeft:l.a.rem(.25)}}},p={textTransform:"uppercase",letterSpacing:l.a.px(.8),lineHeight:l.a.rem(2)},m=l.a.stylesheet({matchesRow:[d],leftButtonIcon:[{transform:"rotate(90deg)"}],rightButtonIcon:[{transform:"rotate(270deg)"}],matchesCount:[p]})},eUGc:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("a5gI"),r=n("B8yO"),i=n("KqOJ"),o=n("xk6L"),s=n("La5+"),c=n("RRF2");class l extends r.Component{componentDidMount(){const e=i.findDOMNode(this);this._subs.push(o.a.fromEvent(document,"mousedown").subscribe(t=>{e&&e!==t.target&&!c.c.isParent(e,t.target)&&this.props.hide(t.target)}))}componentWillUnmount(){this._subs.dispose()}render(){return r.Children.only(this.props.children)}constructor(...e){super(...e),Object(a.a)(this,"_subs",new s.a.Keeper)}}},eYZj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var a,r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("M3t0");!function(e){!function(e){e.isVideo=function(e){return"video"in e}}(e.Content||(e.Content={}))}(a||(a={}));var c=function(){function e(t){Object(r.a)(this,e),Object(o.a)(this,"_settings",void 0),this._settings=t}return Object(i.a)(e,[{key:"markSeen",value:function(e){return s.d.Logging.getLogger("whatsnew").info("News shown",e),this._settings.markNewsItemsAsSeen(e)}}]),e}()},ebLO:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("V+fo"),i=n("B/Ki"),o=n("GMJx"),s=n("Wy1Y"),c=n("uKMM"),l=n("a5gI"),u=n("lKCo"),d=n("0kuo"),p=function(){function e(t){Object(s.a)(this,e),Object(l.a)(this,"_delta",void 0),Object(l.a)(this,"_cursor",void 0),this._delta=t,this._cursor={index:0,operationOffset:0}}return Object(c.a)(e,[{key:"next",value:function(e){Object(d.f)(e>=0,"Length cannot be negative");var t=this._cursor.index;if(t>=this._delta.ops.length)return u.none;for(var n=i.a.operationLength(this._delta.ops[t]),a=e-(n-this._cursor.operationOffset);a>0&&t<this._delta.ops.length-1;)t++,a-=n=i.a.operationLength(this._delta.ops[t]);return a>0?(this._cursor={index:t+1,operationOffset:0},u.none):(this._cursor={index:t,operationOffset:n+a},u.some(this._delta.ops[t]))}}]),e}(),m=n("mgiE");!function(e){const t=m.g.getMonoid(Object(r.getObjectSemigroup)());e.getEnrichedWithFormattingDelta=e=>n=>{const a=new p(e);return n.ops.reduce(([e,n],r)=>{const o=a.next(n);return i.a.isInsert(r)?[e.insert(r.insert,m.g.toUndefined(t.concat(m.g.chain(i.a.getAttrs)(o),i.a.getAttrs(r)))),0]:[e.push(r),i.a.operationLength(r)]},[new o.a,1])[0]}}(a||(a={}))},efqv:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("tiWp"),s=n("OwvP"),c=n("+vYo"),l=n("4GyQ"),u=n("mgiE"),d=n("TKPA"),p=n("ksEe"),m=n("NDcT"),f=n("fC5a"),h=n("4lxU"),g=n("WLOZ"),b=n("sX1a"),v=n("AcQZ"),y=n("yIk2"),O=n("7IMz"),S=n("xk6L"),C=n("vGXj"),w=n("DTwm"),k=n("RRF2"),E=n("2swC"),j=n("nWMp");const _={display:"flex",flexDirection:"column",maxHeight:"90vh",width:j.a.rem(41.5),backgroundColor:E.a.CoreNeutral0,textAlign:"left"},x={padding:`${j.a.rem(1.125)} ${j.a.rem(2)} ${j.a.rem(1)}`,paddingBottom:j.a.rem(1)},A={paddingBottom:0,backgroundColor:E.a.CoreNeutral0,flexShrink:0,$nest:{"&:after":{position:"absolute",bottom:0,display:"block",width:`calc(100% - ${j.a.rem(4)})`,height:j.a.px(1),background:E.a.CoreNeutral20,content:"''"}}},I={display:"block",margin:j.a.rem(.8125)+" 0",color:E.a.CoreNeutral90,fontWeight:E.h.SmallLightWeight,lineHeight:j.a.rem(1.5)},T={minHeight:j.a.rem(4)},M={display:"flex",$nest:{"&:not(:last-child)":{marginBottom:j.a.rem(1.25),borderBottom:"1px solid "+E.a.CoreNeutral20}}},P={marginBottom:j.a.rem(-.5),maxWidth:j.a.rem(27),justifyContent:"initial",flexWrap:"wrap",$nest:{"& > .setGoalsToneButton":{margin:"0 0 "+j.a.rem(.5),marginLeft:j.a.important(0),$nest:{"&:not(:last-child)":{marginRight:j.a.rem(.5)}}}}},N={width:j.a.rem(7),textTransform:"capitalize",lineHeight:j.a.rem(2)},D={marginTop:j.a.rem(.8125)},B={margin:`0 0 ${j.a.rem(1.5)} ${j.a.rem(7)}`},L={margin:`0 0 ${j.a.rem(1.5)} ${j.a.rem(7)}`},F={position:"absolute",top:j.a.rem(2.5)},R={display:"flex",width:j.a.percent(100),justifyContent:"space-between"},H={color:E.a.CoreNeutral90,fontWeight:300,fontSize:j.a.rem(.8125)},V=j.a.stylesheet({wrapper:[_],modalBody:[x],modalHeader:[A],itemDescription:[I],modalFooter:[T],row:[M],toneButtons:[P],rowHeader:[N],extraContent:[D],title:[B],description:[L],image:[F],footerWrapper:[R],checkboxText:[H]}),U=({name:e,items:t,sticky:n,theme:r={},extraContent:o,children:c,isVisible:l})=>i.createElement(s.a.Fragment,null,l.view(s=>s?i.createElement("div",{className:V.row},i.createElement("div",null,i.createElement(b.Typography,{nodeType:"h3",styleType:b.Typography.Type.H4,className:V.rowHeader},e),o),i.createElement("div",null,i.createElement(f.a.Group,{sticky:n,className:r.buttonsGroup},t.map(t=>{var{description:n}=t,o=Object(C.a)(t,["description"]);const s=k.c.createUniqueId(o.key);return i.createElement(i.Fragment,{key:o.key},i.createElement(f.a.White,Object(a.a)({className:r.button,name:`context-${e}-${o.key}`,"aria-describedby":s},o)),i.createElement("span",{hidden:!0,id:s},e,": ",n))})),i.createElement(b.Typography.Small,{className:V.itemDescription},c))):null)),W=({items:e,current:t,isVisible:n,shouldDisable:a,itemDescription:r,itemTitle:i=w.identity})=>({sticky:!0,isVisible:n,items:e.map(e=>({key:e,active:t.view(t=>t===e),onClick:()=>t.set(e),disabled:a&&a(e),children:i(e),description:r(e)}))}),z=({blocks:e,features:t,showOnLoad:n,close:a,upgrade:r,reset:o,showOnLoadChanged:s})=>{const c=i.useContext(p.a.Context),l=y.b.toObservable(t),u=y.b.toObservable(e),d=y.b.toObservable(n),m=y.b.toObservable(a);return i.createElement(g.a,{className:V.wrapper,focusTrapMode:"dynamic",initialFocus:O.a.FocusTrap.InitialFocus.none},i.createElement(g.a.Header,{className:V.modalHeader},i.createElement(q,null)),i.createElement(g.a.Body,{name:"goalsBody",className:V.modalBody},i.createElement(G,{features:l,upgradeAction:r,blocks:u})),i.createElement(g.a.Footer,{className:V.modalFooter},i.createElement(K,{supportsSetGoalsLoader:l.pipe(S.a.map(e=>!e.demoMode&&c.has(p.a.Flag.supportsSetGoalsLoader))),onDone:m,reset:o,showOnLoad:d,showOnLoadChanged:s})))},G=({blocks:e,features:t,upgradeAction:n})=>{const c=i.useContext(m.a.Context).goals;return i.createElement(s.a.Fragment,null,S.a.combineLatestStatic(e,t).pipe(S.a.map(([{audience:e,formality:t,domain:l,intent:d,type:p,format:m},f])=>{const h=i.createElement(U,Object(r.a)(Object(a.a)({name:"domain"},W(Object(r.a)(Object(a.a)({},l),{itemTitle:e=>"mail"===e?"email":e,itemDescription:e=>c.sections.domain[e]}))),{extraContent:i.createElement(s.a.div,{className:V.extraContent},f.isFree?i.createElement(v.a,{size:"link",upgradeAction:n,isEligibleForFreeTrial:f.isEligibleForFreeTrial}):null)}),l.current.view(e=>f.isFree?c.sections.domain.free:Boolean(e)?c.sections.domain[e]:"")),g=i.createElement(U,Object(a.a)({name:"intent"},(({items:e,isVisible:t,current:n},a,r)=>({isVisible:t,items:e.map(e=>({key:e,active:n.view(t=>Object(o.pipe)(t,u.g.exists(t=>t.has(e)))),description:r(e),onClick:()=>n.modify(t=>{const n=Object(o.pipe)(t,u.g.fold(()=>new Set,e=>new Set(e)));return n.has(e)?n.delete(e):n.add(e),u.g.some(n)}),children:a(e)}))}))(d,e=>c.sections.intent.options[e],e=>c.sections.intent.options[e])),c.sections.intent.experimental),b=i.createElement(U,Object(a.a)({name:"audience"},W(Object(r.a)(Object(a.a)({},e),{itemDescription:t=>c.sections.audience[t](Object(o.pipe)(e.default,u.g.exists(e=>e===t)))}))),e.current.view(t=>Boolean(t)&&c.sections.audience[t](Object(o.pipe)(e.default,u.g.exists(e=>e===t))))),y=i.createElement(U,Object(a.a)({name:"formality"},W(Object(r.a)(Object(a.a)({},t),{itemDescription:e=>c.sections.formality[e]}))),t.current.view(e=>Boolean(e)?c.sections.formality[e]:"")),O=i.createElement(U,Object(a.a)({name:"type"},W(Object(r.a)(Object(a.a)({},p),{itemDescription:e=>c.sections.type.options[e]}))),p.current.view(e=>Boolean(e)?c.sections.type.options[e]:"")),S=i.createElement(U,Object(a.a)({name:"format"},W(Object(r.a)(Object(a.a)({},m),{itemTitle:c.sections.format.formatTitle,itemDescription:e=>c.sections.format.options[e]}))),m.current.view(e=>Boolean(e)?c.sections.format.options[e]:""));return f.isStudentsOFE?i.createElement(i.Fragment,null,h,g,b,y,O,S):i.createElement(i.Fragment,null,b,y,h,g)})))},q=()=>{const e=i.useContext(m.a.Context).goals,t=i.useContext(g.a.TitleIdContext);return i.createElement(i.Fragment,null,i.createElement(b.Typography,{nodeType:"h2",styleType:b.Typography.Type.H1,id:t,className:V.title},e.title),i.createElement($,null),i.createElement(g.a.SpokenDescription,null,i.createElement(b.Typography.Base,{className:V.description},e.header)))},K=({supportsSetGoalsLoader:e,showOnLoad:t,showOnLoadChanged:n,reset:a,onDone:r})=>{const o=i.useContext(m.a.Context),u=c.a.create(!1);return O.a.useSubscriptionTo(t.pipe(S.a.tap(y.b.toAtom(u)))),O.a.useSubscriptionTo(u.pipe(S.a.tap(n))),i.createElement(s.a.div,Object(l.c)(e.pipe(S.a.map(Object(d.c)(V.footerWrapper,null)))),e.pipe(S.a.map(Object(d.c)(i.createElement(h.a,{checked:u,name:"set-goals"},i.createElement(b.Typography.Small,{className:V.checkboxText},o.goals.footer.showModalOnStart)),null))),i.createElement(f.a.Group,null,i.createElement(f.a.Ghost,{name:"reset",onClick:a},o.goals.footer.reset),r.pipe(S.a.map(e=>i.createElement(f.a.Primary,{name:"closeSetContext",onClick:e},o.done)))))},$=()=>i.createElement("svg",{"aria-hidden":!0,className:V.image,width:"69",height:"80",viewBox:"0 0 69 80"},i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("path",{d:"M28.935 70C12.955 70 0 57.045 0 41.065 0 25.085 12.955 12.13 28.935 12.13c15.98 0 28.936 12.954 28.936 28.935C57.87 57.045 44.917 70 28.936 70zm0-12.242c9.22 0 16.694-7.474 16.694-16.693 0-9.22-7.475-16.694-16.695-16.694s-16.693 7.475-16.693 16.695 7.474 16.693 16.693 16.693z",fill:"#4C7AF1"}),i.createElement("path",{d:"M28.935 57.758c-9.22 0-16.693-7.474-16.693-16.693 0-9.22 7.474-16.694 16.693-16.694 9.22 0 16.694 7.475 16.694 16.695s-7.475 16.693-16.695 16.693zm0-11.13a5.564 5.564 0 1 0 0-11.128 5.565 5.565 0 0 0 .001 11.129z",fill:"#BCDBFB"}),i.createElement("circle",{fill:"#FFF",cx:"28.935",cy:"41.065",r:"5.565"}),i.createElement("path",{stroke:"#4C7AF1",strokeLinecap:"round",strokeWidth:"1.5",d:"M15.024 68.016L9.46 78.5m32.274-10.484L47.298 78.5"}),i.createElement("path",{d:"M61.96 13.367a.65.65 0 0 1 .645.656.65.65 0 0 1-.646.655h-6.075L29.35 41.7a.636.636 0 0 1-.913 0 .663.663 0 0 1 0-.927L54.972 13.75V7.59a.65.65 0 0 1 .645-.656.65.65 0 0 1 .646.656v5.777h5.696zm3.17-3.215a.65.65 0 0 1 .646.655.65.65 0 0 1-.646.655h-6.34a.65.65 0 0 1-.647-.655V4.372a.65.65 0 0 1 .646-.655.65.65 0 0 1 .644.655v5.78h5.696zm3.17-3.218a.65.65 0 0 1 .647.656.65.65 0 0 1-.646.655h-6.34a.65.65 0 0 1-.647-.655V1.155A.65.65 0 0 1 61.96.5a.65.65 0 0 1 .645.655v5.78H68.3z",fill:"#4C7AF1"}),i.createElement("path",{d:"M49.267 20.486l-8.586 8.757",stroke:"#FFF",strokeWidth:"1.3"})))},ekGJ:function(e){e.exports=JSON.parse('{"container":"_1da21af2-editor-container","editorComponentWrapper":"_9c352f06-editor-editorComponentWrapper","fade":"_4674b2b9-editor-fade","editorTopContentWrap":"_5735c025-editor-editorTopContentWrap","editorTopContent":"_598d7b3a-editor-editorTopContent","titleWrap":"_eebaed4f-editor-titleWrap","title":"_063f6639-editor-title","printTitle":"_60802792-editor-printTitle _063f6639-editor-title","toEditingEnd":"_87ac22d6-editor-toEditingEnd","toEditingStart":"_80610d7e-editor-toEditingStart","toWritingEnd":"_b60a06ef-editor-toWritingEnd","toWritingStart":"_21b7610b-editor-toWritingStart","scrollWrap":"_0a39c7f0-editor-scrollWrap","editorContentWrap":"_9ebf40eb-editor-editorContentWrap","editorContentWrapFullWidth":"_10119ad8-editor-editorContentWrapFullWidth _9ebf40eb-editor-editorContentWrap","editorContent":"_ea8975e7-editor-editorContent","editorContentFullWidth":"_3565fd9e-editor-editorContentFullWidth _ea8975e7-editor-editorContent","textContent":"_f05b624d-editor-textContent","overlayClickableEl":"_afc84c44-editor-overlayClickableEl","scrollWrapFixed":"_82aee97c-editor-scrollWrapFixed"}')},eveZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a,r,i,o,s=n("8O/t"),c=n("X76w"),l=n("B8yO"),u=n("DTwm"),d=n("+vYo"),p=n("mgiE"),m=n("2swC"),f=n("NDcT"),h=n("fC5a"),g=n("ySi0"),b=n("Butu"),v=n("wuWi"),y=n("nWMp"),O=n("NbNH"),S=n("ZDrO"),C=n("7IMz"),w=n("itj6");r=a||(a={}),i=r.NAME_LENGTH_LIMIT=30,o=r.CONTENT_LENGTH_LIMIT=1e3,r.validate=(e,t,n)=>{const a=((e,t)=>0===e.trim().length?p.g.some(t.nameEmpty):e.length>i?p.g.some(t.nameTooLong):p.g.none)(e,n),r=((e,t)=>0===e.trim().length?p.g.some(t.textEmpty):e.length>o?p.g.some(t.textTooLong):p.g.none)(t,n);return p.g.isNone(a)&&p.g.isNone(r)?p.b.right(void 0):p.b.left({nameError:a,contentError:r})};var k,E=n("9bwL"),j=n("CBmo"),_=n("TXN2"),x=n("jEie");!function(e){e.Full=({card:e,actions:n,isChecking:r})=>{const i=l.useContext(f.a.Context),[o,s]=l.useState(""),[c,m]=l.useState(e.activeAlert.snippetText),[h,g]=l.useState(""),[y,O]=l.useState(""),C=Object(u.pipe)(e.activeAlert.snippetsTrigger,p.g.fold(()=>"\\",u.identity));return l.createElement(_.s,{card:e,actions:n,isChecking:r,body:l.createElement("div",null,l.createElement(_.i,{alert:e.activeAlert,options:e.renderOptions}),l.createElement(v.a,{className:F.subheader},i.card.suggestedSnippet.subheader),l.createElement("div",{className:F.inputContainer},l.createElement(b.b,{name:"snippet-name",placeholder:i.card.suggestedSnippet.namePlaceholder,value:o,onChange:e=>s(e.target.value),className:F.snippetName}),h.length>0&&l.createElement(v.l,{className:F.inputError},h)),l.createElement("div",{className:F.inputContainer},l.createElement(b.c,{blockExtension:!0,name:"snippet-content",placeholder:i.card.suggestedSnippet.textPlaceholder,value:c,onChange:e=>m(e.target.value),className:F.snippetText}),y.length>0&&l.createElement(v.l,{className:F.inputError},y)),l.createElement(v.l,{className:F.explanation},i.card.suggestedSnippet.explanation(l.createElement(t,{trigger:C}))),l.createElement(_.q,{title:i.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:d.a.create(!1),onClick:S.d.callOnce(()=>{Object(u.pipe)(a.validate(o,c,i.card.suggestedSnippet.validationMessages),p.b.fold(({nameError:e,contentError:t})=>{Object(u.pipe)(e,p.g.fold(()=>g(""),g)),Object(u.pipe)(t,p.g.fold(()=>O(""),O))},()=>{n.next({type:w.b.Type.createSnippet,id:e.id,alertId:e.activeAlert.id,snippetName:o,snippetText:c}),g(""),O("")}))})})),footer:l.createElement(E.b,{key:"card-actions-details",visualState:e.visualState,className:F.more},l.createElement(v.a,null,i.card.suggestedSnippet.details(l.createElement(l.Fragment,null,C))))})};const t=({trigger:e})=>l.createElement("span",{className:F.snippetsTrigger},e);e.Success=({card:e,actions:t})=>{const n=l.useContext(f.a.Context);return C.a.useEffectOnWillUnmount(()=>{t.next({type:w.b.Type.suggestedSnippetSuccessDismissed,id:e.id,alertId:e.activeAlert.id})}),l.createElement(j.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,onFocus:()=>t.next({type:w.b.Type.mutedAlertSuccessShow}),theme:Object(x.b)(e.renderOptions),visualState:e.visualState,body:l.createElement("div",{className:F.successHeader},l.createElement(g.d.ValidationOk,{className:F.successIcon}),l.createElement(v.l,null,n.card.suggestedSnippet.successStateTitle)),mainActions:l.createElement(l.Fragment,null),footer:l.createElement(l.Fragment,null),subActions:l.createElement("div",{className:F.successAction},l.createElement(h.a.Tertiary,{name:"openSnippetsLibrary",onClick:()=>t.next({type:w.b.Type.snippetsOpenExternalLink,externalLink:e.activeAlert.libLink,alertId:e.activeAlert.id,itemId:e.id})},n.card.suggestedSnippet.libraryLinkCaption,l.createElement(g.d.OuterLink,null)),l.createElement(h.a.Ghost,{name:"done",onClick:()=>S.d.callOnce(()=>t.next({type:w.b.Type.switchToNext}))()},n.done))})}}(k||(k={}));const A={paddingTop:y.a.rem(.75),paddingBottom:y.a.rem(.5),letterSpacing:m.h.SubheadingLetterSpacing,fontSize:y.a.rem(m.h.SubheadingSize),lineHeight:y.a.rem(m.h.SubheadingLineHeight),color:m.h.SubheadingColor,textTransform:"uppercase"},I={fontFamily:"inherit",boxSizing:"border-box",padding:""+y.a.rem(.5),fontSize:y.a.rem(.875)},T=Object(c.a)(Object(s.a)({},I),{height:y.a.rem(2.5)}),M=Object(c.a)(Object(s.a)({},I),{height:y.a.rem(8)}),P={marginBottom:y.a.rem(.5)},N={color:m.a.CoreRed50},D={display:"block",color:m.a.CoreNeutral50,marginBottom:y.a.rem(.75)},B={position:"absolute",left:y.a.rem(.5),width:y.a.rem(1),height:y.a.rem(1),minWidth:y.a.rem(1),minHeight:y.a.rem(1)},L={display:"inline-block",width:y.a.rem(1),height:y.a.rem(1),backgroundColor:m.a.CoreBlue1,borderRadius:y.a.rem(O.t),textAlign:"center"},F=y.a.stylesheet({subheader:[A],snippetName:[T],snippetText:[M],explanation:[D],successIcon:[B],successHeader:[{display:"flex",alignItems:"center"}],successAction:[{display:"flex",justifyContent:"space-between",width:"100%"}],inputContainer:[P],inputError:[N],more:[_.y],snippetsTrigger:[L]})},f38j:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("yQCL"),i=n("MHMU"),o=n("cZKX"),s=n("mgiE"),c=n("Fg+b");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){!function(e){e.eq=s.c.eqString,e.show=i.e;e.from=function(e){return"".concat(e)}}(e.AlertId||(e.AlertId={})),function(e){var t;!function(e){e.eq=s.c.eqString,e.show=i.e;e.from=function(e){return"".concat(e)}}(t=e.Id||(e.Id={}));var n=e.eqId=s.c.contramap((function(e){return e.id}))(t.eq),a=e.eqContent=s.c.contramap((function(e){return e.content}))(c.a.eq),u=e.eqAlerts=s.c.contramap((function(e){return e.alertIds}))(o.eb(s.c.eqString)),d=e.eqInvalid=s.c.contramap((function(e){return Boolean(e.invalid)}))(s.c.eqBoolean),p=e.eq=Object(r.fold)(s.c.getMonoid())([n,a,u,d]),m=e.show={show:function(e){return"SDUI Item [".concat(Boolean(e.invalid)?"invalid":"valid","] #(").concat(e.id," ").concat(0===e.alertIds.length?"":"with alertIds:"+e.alertIds.join(", "),")")}};e.eqShow=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){l(e,t,n[t])}))}return e}({},p,m)}(e.Item||(e.Item={}))}(a||(a={}))},f82Z:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a,r=n("8O/t"),i=n("X76w"),o=n("vGXj"),s=n("B8yO"),c=n("OwvP"),l=n("4GyQ"),u=n("yIk2"),d=n("0kuo"),p=n("2swC"),m=n("nWMp"),f=n("Frap");function h(e){var{wrapperClassName:t,variation:n,isIdle:a,ref:l,label:d}=e,p=Object(o.a)(e,["wrapperClassName","variation","isIdle","ref","label"]);return s.createElement(c.a.span,{"data-role":"spinner",role:"status","aria-busy":!Boolean(a),"aria-live":Boolean(a)?"off":"polite","aria-label":null!=d?d:"Content is loading.",className:t},u.b.mapMaybeObservable(n,e=>s.createElement(h.Svg,Object(i.a)(Object(r.a)({},p),{type:e,isIdle:a}))))}(a=h||(h={})).getClassName=e=>t=>{switch(t){case"red":return e.red;case"green":return e.green;case"blue":return e.blue;case"white":return e.white;case"violet":return e.violet;case"yellow":return e.yellow;case"yellowPremium":return e.yellowPremium;case"orange":return e.orange;case"gray":return e.gray;case"cyan":return e.cyan;default:return Object(d.c)(t)}},a.Svg=e=>{const{className:t,size:n=64,strokeWidth:a=2,type:c,name:u,isIdle:p}=e,m=Object(o.a)(e,["className","size","strokeWidth","type","name","isIdle"]),f=s.useRef(null),g=s.useRef(null);return s.useEffect(()=>(Object(d.f)(null!==f.current,"groupEl should be already created"),g.current=f.current.animate({transform:["rotate(0deg)","rotate(360deg)"]},{duration:2e3,easing:"linear",fill:"forwards",iterations:1/0}),()=>g.current.cancel()),[]),s.useEffect(()=>{Object(d.f)(null!==g.current,"groupAnimation should be already created");const e=g.current;Boolean(e.play)&&(!0===p?e.pause():"running"!==e.playState&&e.play())}),s.createElement("svg",Object(r.a)(Object(i.a)(Object(r.a)({"data-role":u},Object(l.c)(t)),{viewBox:"25 25 50 50",width:n,height:n,"aria-hidden":!0}),m),s.createElement("g",{transform:"translate(50 50)"},s.createElement("g",{ref:f},s.createElement("circle",Object(i.a)(Object(r.a)({},Object(l.c)(x.path,!0===p&&b,h.getClassName(x)(c))),{cx:"50",cy:"50",r:"20",fill:"none",transform:"translate(-50 -50)",strokeWidth:a,strokeMiterlimit:"10"})))))};const g=m.a.keyframes({"0%":{strokeDasharray:"1px, "+m.a.px(200),strokeDashoffset:m.a.px(1)},"50%":{strokeDasharray:"89px, "+m.a.px(200),strokeDashoffset:m.a.px(-35)},"100%":{strokeDasharray:"89px, "+m.a.px(200),strokeDashoffset:m.a.px(-124)}}),b="spinnerIdle",v={animation:g+" 2s ease-in-out infinite",strokeDasharray:"1px, "+m.a.px(200),strokeDashoffset:m.a.px(1),strokeLinecap:"round",$nest:{["&."+b]:{animationIterationCount:0}}},y={stroke:p.a.CoreRed50},O={stroke:p.a.CoreGreen50},S={stroke:p.a.CoreBlue50},C={stroke:p.a.CoreNeutral0},w={stroke:f.purple500},k={stroke:f.yellow600},E={stroke:p.a.CoreYellow60},j={stroke:f.ui500},_={stroke:p.a.CoreCyan50},x=m.a.stylesheet({path:[v],red:[y],green:[O],blue:[S],white:[C],violet:[w],yellow:[k],orange:[E],gray:[j],cyan:[_]})},f9tp:function(e,t,n){"use strict";function a(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}n.d(t,"a",(function(){return a}))},fB2g:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("lX5M");const r=Object(a.createTypeStyle)()},fFVt:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("DTwm"),i=n("mgiE"),o=n("mML0");!function(e){e.empty=o.a.empty;e.applyDiff=function(e){return Object(r.flow)(o.a.applyDiffLoose(e),i.b.mapLeft(e=>({recovered:e.recovered,rejected:e.rejected})))},e.toCheckingResult=function(e){return o.a.iso.wrap(e)}}(a||(a={}))},fQuC:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("+vYo"),s=n("OwvP"),c=n("4GyQ"),l=n("NDcT"),u=n("wuWi"),d=n("nWMp"),p=n("PltQ"),m=n("NbNH"),f=n("xk6L"),h=n("yIk2");function g({value:e,className:t,leftCustomClass:n,rightCustomClass:l}){const u=o.a.create(!1);requestAnimationFrame(()=>requestAnimationFrame(()=>u.set(!0)));const d=f.a.combineLatestStatic(h.b.toObservable(e),u,(e,t)=>t?Math.max(5,Math.abs(e-50))+"%":0),p=(e,t,n)=>h.b.toObservable(e).pipe(f.a.map(e=>e<50?t:n));return i.createElement(s.a.div,Object(c.c)((e=>h.b.toObservable(e).pipe(f.a.map(e=>e<50?S.leftSideWrapper:S.rightSideWrapper)))(e),t),i.createElement(s.a.div,Object(r.a)(Object(a.a)({},Object(c.c)(p(e,S.leftSideProgress,S.rightSideProgress),Boolean(n)&&Boolean(l)&&p(e,n,l))),{style:{width:d}})))}!function(e){e.Label=({value:e,className:t})=>{const n=i.useContext(l.a.Context).performance,a=e>66?n.aboveAverage:e>50?n.average:n.belowAverage;return i.createElement(u.l,{className:t},a)}}(g||(g={}));const b={position:"relative",zIndex:1,display:"flex",width:d.a.percent(100),height:d.a.rem(.25),borderRadius:d.a.rem(m.t)},v={height:d.a.percent(100),backgroundColor:p.i,transition:"width .8s ease-in-out 0s"},y={marginRight:d.a.percent(50),borderTopLeftRadius:d.a.rem(.25),borderBottomLeftRadius:d.a.rem(.25)},O={marginLeft:d.a.percent(50),borderTopRightRadius:d.a.rem(.25),borderBottomRightRadius:d.a.rem(.25)},S=d.a.stylesheet({wrapper:[b],leftSideWrapper:[b,{justifyContent:"flex-end"}],rightSideWrapper:[b,{justifyContent:"flex-start"}],progress:[v],leftSideProgress:[v,y],rightSideProgress:[v,O]})},fYz5:function(e){e.exports=JSON.parse('{"wrapper":"_d758f5a3-premium_ungating_renewal-wrapper","content":"_9401003f-premium_ungating_renewal-content","icon":"_69d16f6c-premium_ungating_renewal-icon","iconInfo":"_42a43110-premium_ungating_renewal-iconInfo","message":"_098c5236-premium_ungating_renewal-message","title":"_6cb71434-premium_ungating_renewal-title","manageSubscriptionBtn":"_3487f016-premium_ungating_renewal-manageSubscriptionBtn"}')},fisC:function(e,t,n){e.exports=n.p+"files/c93e619c54ac4d58a06e3deb35b1724a/inter-italic.woff2"},fjQv:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("Wy1Y"),r=n("uKMM"),i=n("a5gI"),o=n("0kuo"),s=n("M3t0"),c=function(){function e(){Object(a.a)(this,e),Object(i.a)(this,"_logger",s.d.Logging.getLogger("CheetahWeb.MonitoringServiceImpl",s.a.LogLevel.INFO,s.a.LogColor.ViewModel.getColor("CheetahWeb")))}return Object(r.a)(e,[{key:"notify",value:function(e){"error"===e.kind?this._logger.error(e.name,e):"warn"===e.kind?this._logger.warn(e.name,e):"info"===e.kind?this._logger.info(e.name,e):Object(o.d)(e.kind)}}],[{key:"getInstance",value:function(){return null===e.instance&&(e.instance=new e),e.instance}}]),e}();Object(i.a)(c,"instance",null)},fn2K:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return T}));var a,r,i=n("Wy1Y"),o=n("uKMM"),s=n("a5gI"),c=n("8O/t"),l=n("X76w"),u=n("eXH8"),d=n("000W"),p=n("DTwm"),m=n("tiWp"),f=n("+vYo"),h=n("fr9z"),g=n("ShUL"),b=n("SXX6"),v=n("lXop"),y=n("WLOZ"),O=n("MBt8"),S=n("xk6L"),C=n("yIk2"),w=n("S+il"),k=n("TKPA"),E=n("mgiE"),j=n("M3t0"),_=(n("qcQg"),n("KoUC"));!function(e){e.focus="searchFocus",e.next="searchNext",e.previous="searchPrevious"}(a||(a={})),function(e){var t=e.SEARCH_INPUT_NAME="search-input";e.isSearchInput=function(e){return Boolean(e)&&e.name===t};var n=function(){function e(t){Object(i.a)(this,e),Object(s.a)(this,"getBindings",(function(){throw new Error("Method not implemented.")})),Object(s.a)(this,"visible",f.a.create(!1)),Object(s.a)(this,"term",f.a.create("")),Object(s.a)(this,"result",void 0),Object(s.a)(this,"hotkeysActions",new S.a.Subject),Object(s.a)(this,"dispose",k.e),this.result=f.a.create(Object(m.pipe)(E.g.fromNullable(t),E.g.map((function(e){return Object(l.a)(Object(c.a)({},e),{next:k.e,prev:k.e})}))))}return Object(o.a)(e,[{key:"select",value:function(){throw new Error("Method not implemented.")}}]),e}();e.Mock=n}(r||(r={}));var x,A=function(){function e(t,n,a){Object(i.a)(this,e),Object(s.a)(this,"_ops",void 0),Object(s.a)(this,"_term",void 0),Object(s.a)(this,"count",void 0),Object(s.a)(this,"current",void 0),this._ops=t,this._term=n,this.count=a.ranges.length,this.current=Object(m.pipe)(a.selected,E.g.getOrElse((function(){return 0})))+1,this._ops._highlightSelectedRange()}return Object(o.a)(e,[{key:"next",value:function(){var e=this;this._ops._forceSearch(),this._ops._selectedPos.modify(Object(p.flow)(E.g.map((function(e){return e+1})),E.g.map((function(t){return t>e.count-1?0:t})),E.g.orElse(E.g.some(0)))),this._ops._highlightSelectedRange(1===this.count)}},{key:"prev",value:function(){var e=this;this._ops._forceSearch(),this._ops._selectedPos.modify(Object(p.flow)(E.g.map((function(e){return e-1})),E.g.map((function(t){return t<0?e.count-1:t})),E.g.orElse(E.g.some(this.count-1)))),this._ops._highlightSelectedRange()}},{key:"equals",value:function(e){return null!=e&&this.count===e.count&&this.current===e.current&&this._term===e._term}}]),e}();!function(e){var t="searchRange";e.create=function(e,n){return h.b.create(e,n,{type:t})};e.is=function(e){return Object(u.a)(e.meta.type)===t}}(x||(x={}));var I=E.c.fromEquals((function(e,t){return e.meta.id===t.meta.id})),T=function(){function e(t,n,r){var o=this;Object(i.a)(this,e),Object(s.a)(this,"_ded",void 0),Object(s.a)(this,"_rangeManager",void 0),Object(s.a)(this,"_editorViewport",void 0),Object(s.a)(this,"_log",void 0),Object(s.a)(this,"_subs",void 0),Object(s.a)(this,"_forceSearchSubject",void 0),Object(s.a)(this,"_rangesState",void 0),Object(s.a)(this,"_selectedRange",void 0),Object(s.a)(this,"_activeMark",void 0),Object(s.a)(this,"visible",void 0),Object(s.a)(this,"term",void 0),Object(s.a)(this,"result",void 0),Object(s.a)(this,"hotkeysActions",void 0),Object(s.a)(this,"select",void 0),Object(s.a)(this,"dispose",void 0),Object(s.a)(this,"_selectedPos",void 0),Object(s.a)(this,"_forceSearch",void 0),Object(s.a)(this,"_highlightSelectedRange",void 0),Object(s.a)(this,"getBindings",void 0),Object(s.a)(this,"_bindHotkey",void 0),Object(s.a)(this,"_removeRanges",void 0),Object(s.a)(this,"_findRanges",void 0),Object(s.a)(this,"_changeActiveMark",void 0),Object(s.a)(this,"_currentMark",void 0),this._ded=t,this._rangeManager=n,this._editorViewport=r,this._log=j.d.Logging.getLogger("SearchViewModel"),this._subs=[],this._forceSearchSubject=new S.a.Subject,this._rangesState=f.a.create({ranges:[],selected:E.g.none}),this._selectedRange=this._rangesState.view((function(e){return Object(m.pipe)(e.selected,E.g.chain((function(t){return E.a.lookup(t,e.ranges)})))})),this._activeMark=f.a.create(E.g.none),this.visible=f.a.create(!1),this.term=f.a.create(""),this.result=f.a.create(E.g.none),this.hotkeysActions=new S.a.Subject,this.select=function(){o._forceSearch(),o._rangesState.modify((function(e){var t=e.ranges,n=e.selected;return{ranges:t,selected:Object(m.pipe)(n,E.g.orElse(E.g.some(0)),E.g.filter((function(){return Object(k.n)(t)})))}})),o._highlightSelectedRange()},this.dispose=function(){o.term.set(""),o._subs.forEach((function(e){return e.unsubscribe()})),o._subs=[]},this._selectedPos=this._rangesState.lens("selected"),this._forceSearch=function(){return o._forceSearchSubject.next()},this._highlightSelectedRange=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=o._selectedRange.get();e&&E.g.getEq(I).equals(o._activeMark.get(),t)&&o._ensureMarkInViewport(o._currentMark).subscribe({error:function(e){return o._log.error("Cannot scroll to mark",e)}}),o._activeMark.set(t)},this.getBindings=function(e){var t=new Set([O.a.short]),n=S.a.of(!0);return[{action:a.focus,hotkey:e({modifiers:t,key:"f"}),bind:o._bindHotkey,isActive:n},{action:a.next,hotkey:e({modifiers:t,key:"g"}),bind:o._bindHotkey,isActive:n},{action:a.previous,hotkey:e({modifiers:new Set([O.a.short,O.a.shift]),key:"g"}),bind:o._bindHotkey,isActive:n}]},this._bindHotkey=S.a.tap(this.hotkeysActions),this._removeRanges=function(e){Object(m.pipe)(o._activeMark.get(),E.g.filter((function(t){return e.has(t.meta.id)})),E.g.map((function(){return o._activeMark.set(E.g.none)}))),o._rangesState.modify((function(t){var n=t.ranges.filter((function(t){var n=t.meta.id;return!e.has(n)||(o._rangeManager.deregisterRange(n),!1)}));return{ranges:n,selected:Object(m.pipe)(t.selected,E.g.filter((function(e){return e<n.length})))}}))},this._findRanges=function(e){return Object(k.n)(e)?o._searchTerm(o._ded.getText().toLowerCase(),e.toLowerCase()):[]},this._changeActiveMark=function(e){var t=e.prev,n=e.next;o._currentMark=E.g.none,Object(m.pipe)(t,E.g.tap((function(e){o._ded.changeMarks([g.a.Change.getRemoveAction({range:function(){return e}})(e.meta.id)])}))),Object(m.pipe)(n,E.g.tap((function(e){o._currentMark=Object(m.pipe)(o._ded.changeMarks([g.a.Change.getCreateAction({range:function(){return e},order:0,classes:[_.mark]})(e.meta.id)]),(function(t){return t.created.get(e.meta.id)}),E.g.fromNullable,E.g.chain(E.g.fromEither)),o._ensureMarkInViewport(o._currentMark).subscribe({error:function(e){return o._log.error("Cannot scroll to mark",e)}})})))},this._subs.push(this._listenOpenEvents(),this._listenCloseEvents(),S.a.mergeStatic(this.term.pipe(S.a.filter((function(e){return e.length<=3})),S.a.mapTo("")),this.term.pipe(S.a.filter((function(e){return e.length>3})),S.a.debounceTime(300)),this._forceSearchSubject.pipe(S.a.withLatestFrom(this.term,(function(e,t){return t})))).pipe(S.a.distinctUntilChanged(),S.a.map(this._findRanges)).subscribe((function(e){o._activeMark.set(E.g.none),o._replaceRanges(e)})),this._rangesState.pipe(S.a.map((function(e){return Object(m.pipe)(e,E.g.fromPredicate((function(e){return Object(d.tb)(e.ranges)})),E.g.map((function(e){return new A(o,o.term.get(),e)})))}))).subscribe((function(e){return o.result.set(e)})),this._rangesState.pipe(S.a.switchMap((function(e){var t=e.ranges;return Object(d.tb)(t)?o._rangeManager.rangeChanged.pipe(S.a.pluck("affected"),S.a.filter(d.tb)):S.a.EMPTY})),S.a.map((function(e){return e.filter(x.is)})),S.a.map((function(e){return new Set(e.map((function(e){return e.meta.id})))}))).subscribe(this._removeRanges),this._activeMark.pipe(S.a.scan((function(e,t){return{prev:e.next,next:t}}),{prev:E.g.none,next:E.g.none})).subscribe(this._changeActiveMark)),this._subs.push(this._ded.dontFreezeWhen(this.visible,"search"),this.visible.pipe(S.a.skip(1),S.a.filter((function(e){return!e}))).subscribe((function(){o.term.set("")}))),Object(k.r)("searchVM",this)}return Object(o.a)(e,[{key:"_searchTerm",value:function(e,t){for(var n=-1,a=[];(n=e.indexOf(t,n+1))>-1;)a.push(x.create(n,n+t.length));return a}},{key:"_listenOpenEvents",value:function(){return y.b.activeCount.pipe(S.a.map((function(e){return e<1})),S.a.merge(this.visible.pipe(S.a.map((function(e){return!e}))))).pipe(S.a.switchMap(C.b.orEmpty(this.hotkeysActions)),S.a.mapTo(!0)).subscribe(C.b.toAtom(this.visible))}},{key:"_listenCloseEvents",value:function(){var e=w.a.listen("escape");return this.visible.pipe(S.a.switchMap(C.b.orEmpty(e)),S.a.merge(y.b.activeCount.pipe(S.a.filter((function(e){return e>0})))),S.a.mapTo(!1)).subscribe(C.b.toAtom(this.visible))}},{key:"_replaceRanges",value:function(t){var n=this;this._rangesState.modify((function(a){return a.ranges.forEach((function(e){return n._rangeManager.deregisterRange(e.meta.id)})),{ranges:t.map((function(t){return n._rangeManager.registerRange("search_".concat(n.term.get().replace(/\s*/g,"_"),"_").concat(e.searchMarkCount++),t)})),selected:t.length>0?E.g.some(0):E.g.none}}))}},{key:"_ensureMarkInViewport",value:function(e){var t=this;return Object(m.pipe)(e,E.b.fromOption((function(){return new Error("Mark should not be null at this point")})),E.b.chain((function(e){return e.getRect()})),E.b.map(b.b.relativeToViewport),E.b.fold(S.a.throwError,(function(n){var a=t._editorViewport.get(),r=a.top,i=a.bottom;return n.top<r+50||n.top>i-50?t._ded.scrollToMark(E.g.unsafeGet(e).id,{paddingTop:500,animate:v.a.fast}):S.a.EMPTY})))}}]),e}();Object(s.a)(T,"searchMarkCount",0)},fuW0:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("B8yO"),s=n("cZKX"),c=n("DTwm"),l=n("xk6L"),u=n("yIk2"),d=n("mgiE"),p=n("TKPA"),m=n("RRF2"),f=n("nWMp"),h=n("7IMz"),g=n("TFiY");!function(e){let t,n;!function(e){e[e.default=0]="default",e[e.captureTab=1]="captureTab",e[e.f6Only=2]="f6Only"}(t=e.FocusBehavior||(e.FocusBehavior={})),function(e){var t=e.from=e=>Object(c.flow)(e,d.g.tap(e=>e.focus()));const n=e=>t=>Object(c.pipe)(t,d.g.fromPredicate(Object(p.b)(m.c.isHTMLElement,m.c.isFocusable)),d.g.alt(()=>Object(c.pipe)(Array.from(t.children),e(n(e))))),a=n(s.T),r=n(s.X);e.focusRootOrFirstFocusable=t(a),e.focusRootOrLastFocusable=t(r)}(n=e.FocusStrategy||(e.FocusStrategy={}));const a=f.a.stylesheet({focusLeaveTracker:[{position:"fixed"}]}),b=e=>o.createElement("div",{key:"leave-tracker-"+m.f.alphanumeric(12),tabIndex:0,onFocus:t=>(t.preventDefault(),e()),"aria-hidden":!0,className:a.focusLeaveTracker});e.create=e=>({component:a,section:s,behavior:m=t.default,focusStrategy:f=n.focusRootOrFirstFocusable,escapeStrategy:v,skipDirection:y="forwards",refocusOnMutation:O=!0})=>n=>{const S=o.useContext(e),{onMount:C,ref:w}=h.a.useElWatcher(),k=new l.a.Subject,E=e=>()=>Object(c.pipe)(f(e),d.g.tapLeft(()=>k.next("forwards"===y?g.a.FocusEvent.proceedForwards:g.a.FocusEvent.proceedBackwards)));return h.a.useSubscriptionTo(w.pipe(l.b.compact,l.a.switchMap(e=>{const n=l.a.fromEvent(e,"keydown").pipe(l.a.filter(e=>"Tab"===e.key)),a=n.pipe(l.a.map(e=>e.shiftKey?g.a.FocusEvent.navigationBackwards:g.a.FocusEvent.navigationForwards)),r=m===t.captureTab?n.pipe(l.a.tap(e=>e.preventDefault()),l.a.map(e=>e.shiftKey?g.a.FocusEvent.proceedBackwards:g.a.FocusEvent.proceedForwards)):l.a.EMPTY,i=Object(c.pipe)(v,d.g.fromNullable,d.g.map(t=>t(e)),d.g.getOrElse(()=>l.a.EMPTY));return S.register(s,l.a.mergeStatic(r,k,i,a)).pipe(l.a.filter(e=>e===g.a.FocusEvent.focused),l.a.switchMap((e=>Object(c.flow)(E(e),d.g.filter(Object(c.constant)(O)),d.g.fold(()=>l.a.EMPTY,t=>u.a.getMutationObservable(e,{childList:!0,subtree:!0}).pipe(l.a.takeUntil(S.state.pipe(l.a.skip(1))),l.a.filter(()=>!e.contains(t)),l.a.switchMap(u.b.Scheduler.rafScheduler),l.a.tap(E(e))))))(e)))}))),o.createElement(a,Object(i.a)(Object(r.a)({},n),{mount:e=>{var t,a;C(e),null===(t=(a=n).mount)||void 0===t||t.call(a,e)}}),Object(p.c)(b(()=>k.next(g.a.FocusEvent.proceedBackwards)),null)(m===t.default),n.children,Object(p.c)(b(()=>k.next(g.a.FocusEvent.proceedForwards)),null)(m===t.default))}}(a||(a={}))},gEtV:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return P}));var a=n("hcme"),r=n("mMt2"),i=n("IMGo"),o=n("lXop"),s=n("MBt8"),c=n("La5+"),l=n("xk6L"),u=n("mgiE"),d=n("0kuo"),p=n("M3t0"),m=n("txgs"),f=n("xAs4"),h=n("nvxh"),g=n("OXKW"),b=n("a5gI"),v=n("8O/t"),y=n("X76w"),O=n("tiWp"),S=n("TKPA"),C=n("mBwf"),w=n("ZbAF"),k=n("s1NC"),E=n("/9H4"),j=n("E5C1");function _(e,t,n){return e.filter(g.a.isItem).reduce((function(e,a){return Object(y.a)(Object(v.a)({},e),Object(b.a)({},a.name,function(e,t,n){var a=t.appRouter,r=t.ded,i=t.downloadViewModel,s=t.upgradeViewModel,c=t.modalManager,m=t.notificationsManager,f=t.telemetry,h=function(){return n.visualState.set({type:j.a.Collapsed})},b=e.name;switch(b){case j.b.myGrammarly:return function(){f.gnarSpec.backToMyGrammarlyButtonClick(f.pageId,"documentSetting"),a.navigate(C.a.routes.documents.href())};case j.b.newDocument:return function(){Object(w.b)({time:Date.now(),page:"editor",source:"editorNew"}),a.navigate(C.a.routes.new_document.href())};case j.b.download:return function(){h(),i.downloadOriginal()};case j.b.print:return function(){h(),setTimeout(window.print,200)};case o.d.undo:return function(){h(),r.undo()};case o.d.redo:return function(){h(),r.redo()};case o.d.cut:return function(){h(),r.cut()};case o.d.copy:return function(){h(),r.copy()};case o.d.paste:return function(t,a){return h(),a===g.a.Source.View?m.enqueue("clipboardNotSupported",{hotkey:Object(O.pipe)(e.hotkey,u.g.map((function(e){return n.getHotkeyString(e[0])})),u.g.getOrElse((function(){return"hotkeys"})))}):l.a.EMPTY};case o.d.selectAll:return function(){h(),u.b.getOrElse((function(e){return p.d.Logging.getLogger("documentSettings").error("Failed to execute 'Select all'. ".concat(e))}))(r.setCursor(0,r.getLastPossibleCursorPosition()))};case j.b.editorSettings:return function(){return h(),c.show(E.a.preferences)};case j.b.upgradeToPremium:return function(){h(),s.openUpgradeUrl(k.i.Place.DenaliDocument.editorDenaliDocumentSettings)};case j.b.logout:return function(){return h(),t.userAccount.features.denali.showSignOutConfirmationPopup?c.show(E.a.signOut):t.userAccount.logout()};case j.b.feedback:return function(){return h(),c.show(E.a.feedback)};case j.b.whatsNew:return function(){return h(),c.show(E.a.news)};case j.b.language:return S.e;case j.b.close:case j.b.documentHeader:case j.b.uploadFile:case j.b.editHeader:case j.b.accountHeader:case j.b.userName:case j.b.email:case j.b.subscription:case j.b.support:case j.b.privacyPolicy:case j.b.termsOfService:case j.b.reportABug:return h;default:return Object(d.c)(b)}}(a,n,t)))}),{})}var x=n("FA0h"),A=n("yIk2"),I=n("S+il");function T(e,t,n,a){var r=n.visualState.pipe(l.a.tap((function(e){e.type===j.a.Expanded?t.gnarSpec.docSettingsSidebarShow(t.pageId):t.gnarSpec.docSettingsSidebarClose(t.pageId)}))),i=I.a.listen("escape"),s=e.contentUpdated.pipe(l.a.merge(a.visible.pipe(l.a.filter(Boolean))),l.a.merge(i),l.a.first());return n.visualState.pipe(l.a.filter((function(e){return e.type===j.a.Expanded})),l.a.tap((function(){n.itemsState.modify(Object(x.k)((function(t,n){return function(e,t,n){switch(e){case o.d.undo:return Object(y.a)(Object(v.a)({},t),{disabled:!n.canUndo()});case o.d.redo:return Object(y.a)(Object(v.a)({},t),{disabled:!n.canRedo()});case o.d.cut:case o.d.copy:return Object(y.a)(Object(v.a)({},t),{disabled:o.g.isEmpty(n.getCursor())});case o.d.selectAll:return Object(y.a)(Object(v.a)({},t),{disabled:n.getTextLength()<=1});default:return t}}(t,n,e)}))),a.visible.set(!1)})),l.a.switchMap((function(){return s.pipe(l.a.tap((function(){return n.visualState.set({type:j.a.Collapsed})})))})),l.a.merge(r),l.a.mapTo(A.b.voidValue))}function M(e,t){var n=new Set([s.a.short]),a={active:!1,disabled:!1},r={active:!1,disabled:!0},c=[{name:j.b.close,hotkey:u.g.none,initialState:a},"separator",{name:j.b.myGrammarly,hotkey:u.g.none,initialState:a},"separator",{name:j.b.documentHeader,hotkey:u.g.none,initialState:a},{name:j.b.newDocument,hotkey:"desktop"===t.platform?i.E([{modifiers:n,key:"N"}]):u.g.none,initialState:a},{name:j.b.uploadFile,hotkey:u.g.none,initialState:a},{name:j.b.download,hotkey:u.g.none,initialState:a},{name:j.b.print,hotkey:i.E([{modifiers:n,key:"P"}]),initialState:a},"separator",{name:j.b.editHeader,hotkey:u.g.none,initialState:a},{name:o.d.undo,hotkey:i.E([{modifiers:n,key:"Z"}]),initialState:r},{name:o.d.redo,hotkey:i.E([{modifiers:n,key:"Y"},{modifiers:new Set([s.a.short,s.a.shift]),key:"Z"}]),initialState:r},"separator",{name:o.d.cut,hotkey:i.E([{modifiers:n,key:"X"}]),initialState:r},{name:o.d.copy,hotkey:i.E([{modifiers:n,key:"C"}]),initialState:r},{name:o.d.paste,hotkey:i.E([{modifiers:n,key:"V",source:s.b.Keydown,preventDefault:!1}]),initialState:a},{name:o.d.selectAll,hotkey:i.E([{modifiers:n,key:"A"}]),initialState:a},"separator",{name:j.b.editorSettings,hotkey:u.g.none,initialState:a},"separator",{name:j.b.accountHeader,hotkey:u.g.none,initialState:a},{name:j.b.userName,hotkey:u.g.none,initialState:a},{name:j.b.email,hotkey:u.g.none,initialState:a},{name:j.b.upgradeToPremium,hotkey:u.g.none,initialState:a},{name:j.b.language,hotkey:u.g.none,initialState:a},{name:j.b.subscription,hotkey:u.g.none,initialState:a},{name:j.b.logout,hotkey:u.g.none,initialState:a},"separator",{name:j.b.support,hotkey:u.g.none,initialState:a},{name:j.b.whatsNew,hotkey:u.g.none,initialState:a},{name:j.b.feedback,hotkey:u.g.none,initialState:a},{name:j.b.reportABug,hotkey:u.g.none,initialState:a},"separator",{name:j.b.privacyPolicy,hotkey:u.g.none,initialState:a},{name:j.b.termsOfService,hotkey:u.g.none,initialState:a}],l=function(e){var t=e.isPremium.get();return function(n){if(!g.a.isItem(n))return!0;var a=n.name;switch(a){case j.b.reportABug:return e.denali.isInternalUser;case j.b.upgradeToPremium:return!t&&!e.demoMode;case j.b.subscription:return!e.disableAppsPromotion&&!e.demoMode&&!f.e.isBusinessTeamMember(e.denaliUserType);case j.b.myGrammarly:case j.b.newDocument:case j.b.language:case j.b.editorSettings:case j.b.uploadFile:case j.b.support:case j.b.feedback:return!e.demoMode;case j.b.close:case j.b.documentHeader:case j.b.download:case j.b.print:case j.b.editHeader:case j.b.accountHeader:case j.b.userName:case j.b.email:case j.b.logout:case j.b.whatsNew:case j.b.privacyPolicy:case j.b.termsOfService:case o.d.undo:case o.d.redo:case o.d.cut:case o.d.copy:case o.d.paste:case o.d.selectAll:return!0;default:return Object(d.c)(a)}}}(e);return c.filter(l).filter((function(e,t,n){return n[t-1]!==e}))}function P(e,t,n,u,d,b,v,y,O,S,C,w,k,E,x){var A,I,P,N,D=new c.a.Keeper,B=u.features.denali.documentToolbar===f.c.documentSettings?M(u.features,S):S.platform===m.b.Platform.IPAD?(A=u.features,I=S,P=new Set([s.a.short]),N={active:!1,disabled:!0},Object(r.a)(M(A,I)).concat(["separator",{name:o.d.undo,hotkey:i.E([{modifiers:P,key:"UNDO",source:s.b.Input}]),initialState:N},{name:o.d.redo,hotkey:i.E([{modifiers:P,key:"UNDO",source:s.b.Input}]),initialState:N}])):function(){var e=new Set([s.a.short]),t={active:!1,disabled:!0};return[{name:o.d.undo,hotkey:i.E([{modifiers:e,key:"Z"}]),initialState:t},{name:o.d.redo,hotkey:i.E([{modifiers:e,key:"Y"},{modifiers:new Set([s.a.short,s.a.shift]),key:"Z"}]),initialState:t}]}(),L=Object(j.d)(B,n,u,d,O,S,C,k,x,t,e.isEditorFocused),F=L.viewModel,R=L.events,H=_(B,F,{appRouter:t,ded:e,userAccount:u,downloadViewModel:b,upgradeViewModel:v,modalManager:y,notificationsManager:C,docId:E,telemetry:k}),V=g.a.toMenuEvents(e.getCursor.bind(e),R).pipe(l.a.tap((function(e){var t=Object(a.a)(e,3),n=t[0],r=(t[1],t[2]);n!==j.b.upgradeToPremium?k.gnarSpec.docSettingsEventFire(n,k.pageId,r):h.a.create(k.gnarSpec).trackClick({pageId:k.pageId,bannerType:"upgradeToPremium",placement:"documentSettings"})}))),U=p.d.Logging.getLogger("documentSettings"),W=g.a.linkEvents(V,H).pipe(l.a.catchError((function(e,t){return U.error("Error handling document settings event",e),t})));return D.push(W.pipe(l.a.merge(T(e,k,F,w))).subscribe(),e.dontFreezeWhen(F.visualState.view("type").view((function(e){return e===j.a.Expanded})),"documentSettings")),{viewModel:F,dispose:function(){return D.dispose()}}}},gFSV:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return O})),n.d(t,"f",(function(){return S})),n.d(t,"h",(function(){return C})),n.d(t,"c",(function(){return w})),n.d(t,"e",(function(){return k})),n.d(t,"g",(function(){return E}));var a=n("wvT7"),r=n("CulD"),i=n("DTwm"),o=n("tiWp"),s=n("mgiE"),c=n("RRF2"),l=n("ZDrO"),u=n("xk6L"),d=n("yIk2"),p=n("iVUr"),m=n("d3CI"),f=n("wdnv"),h=n("YqdJ");const g=e=>t=>t.isCardsHeightValid&&Object(o.pipe)(m.k.getActiveItem(t),s.g.forAll(t=>!e.isScheduledToDispose(t))),b=e=>t=>t.isCardsHeightValid&&Object(o.pipe)(m.k.getActiveItem(t),s.g.forAll(t=>!e.isScheduledToDispose(t)));function v({cardTop:e,cardHeight:t,viewportHeight:n,padding:a}){const r=h.a.FromViewportTop.ISO.unwrap(e),i=r+t;return t>n?r:r<0?t+a.before<n?r-a.before:r:i>n?t+a.after<n?i-n+a.after:i-n:r<a.before?t+a.after+a.before<n?r-a.before:t+a.after<n?r-a.after:a.before:n-i<a.after&&t+a.after<n?a.after-(n-i):0}const y=(e,t,n,a)=>({from:Math.max(0,l.a.Sorted.lowerBound(e,e=>e.positionState.absTop+e.positionState.height<n)-a),to:Math.min(e.size,l.a.Sorted.lowerBound(e,e=>e.positionState.absTop<n+t.height)+a)}),O=e=>t=>t.pipe(S(e),u.a.map(s.g.map(e=>e.currentLens)),u.a.pairwise(),u.a.filter(([e,t])=>Object(o.pipe)(Object(i.tuple)(e,t),Object(i.tupled)(s.g.map2((e,t)=>e.id===t.id&&Object(o.pipe)(Object(i.tuple)(m.k.getActiveItem(e),e.cardIndex,m.k.getActiveItem(t),t.cardIndex),Object(i.tupled)(a.b(s.g.option)),s.g.map(([e,t,n,a])=>e.id===n.id&&t!==a),s.g.getOrElse(()=>!1)))),s.g.getOrElse(()=>!1))),u.a.map(Object(i.flow)(r.a(s.g.chain(m.k.getActiveItem),s.g.chain(m.k.getActiveItem)),Object(i.tupled)(s.g.map2((e,t)=>t.positionState.absTop-e.positionState.absTop)),s.g.getOrElse(()=>0)))),S=e=>t=>t.pipe(u.a.map(s.g.filter(({currentLens:t})=>b(e)(t)))),C=e=>(t,n,a,r,i)=>{const l=(e=>s.g.getEq(s.c.fromEquals((t,n)=>{const a=m.k.getActiveItem(t),r=m.k.getActiveItem(n);return s.g.getEq(e.visualStateEq).equals(a,r)&&t.items.size===n.items.size&&c.a.compareInPairs(t.items.keys(),n.items.keys(),(e,t)=>e===t)})))(e);return t.pipe(u.a.map(s.g.map(e=>e.currentLens.id)),u.a.distinctUntilChanged(s.c.eqStrict.equals),u.a.map(s.g.isSome),u.a.switchMap(d.b.orEmpty(u.a.combineLatestStatic(n,a,r,S(e)(t).pipe(u.a.map(s.g.map(e=>e.currentLens)),u.a.distinctUntilChanged(l.equals),u.a.switchMap(i))))),u.a.filter(([t,n,a,r])=>Object(o.pipe)(r,s.g.exists(b(e)))),u.a.map(([e,t,n])=>({viewport:e,scrollTop:t,paddingTop:n})))},w=e=>({viewport:t,scrollTop:n,paddingTop:a})=>r=>{const i=r.currentLens,o=y(i.items,t,n-a,0);let s=!1;const c=i.items.map((t,n,a)=>{const r=(i=e,c=!(e=>o.from<=e)(a),e=>e.positionState.inert!==c?i.changePosition(p.a.PositionState.changeInert(e.positionState,c))(e):e)(t);var i,c;return r!==t?(s=!0,r):t});return s?m.e.Prism.getLens().compose(f.a.Prism.items).set(c,r):r},k=(e,{viewport:t,scrollTop:n,paddingTop:a})=>r=>{if(n>0)return u.a.EMPTY;const i=y(r.currentLens.items,t,h.b.FromWindowTop.ISO.unwrap(t.top)+n-a,0);return Object(o.pipe)(r.currentLens.items.getAt(i.from-1),s.g.map(n=>e.setCardPosition(n.id,!0,!1,t.top)),s.g.getOrElse(()=>u.a.EMPTY))},E=({cardsBeyondViewport:e,cardsAroundActive:t,changePosition:n})=>({viewport:a,scrollTop:r,paddingTop:c,completeTransition:l})=>u=>{const d=u.currentLens,h=((e,t,n,a)=>e.size<2||Math.floor(t.height/Math.min(s.g.unsafeGet(e.getAt(0)).positionState.height,s.g.unsafeGet(e.getAt(1)).positionState.height))>=e.size?{from:0,to:e.size}:y(e,t,n,a))(d.items,a,r-c,e);let g=!1;const b=d.items.map((e,a,r)=>{const c=Object(i.flow)((u=n,m=e.positionState.watched||(e=>h.from<=e&&h.to>e||Object(o.pipe)(d.cardIndex,s.g.exists(n=>e>=n-t&&e<=n+t)))(r),e=>e.positionState.visible!==m?u.changePosition(p.a.PositionState.changeVisible(e.positionState,m))(e):e),(e=>t=>!t.positionState.visible&&t.positionState.animationInProgress?e.changePosition(p.a.PositionState.changeAnimationInProgress(t.positionState,!1))(t):t)(n),l)(e);var u,m;return c!==e?(g=!0,c):e});return g?m.e.Prism.getLens().compose(f.a.Prism.items).set(b,u):u}},gIH0:function(e,t,n){"use strict";n.r(t),n.d(t,"nullable",(function(){return i})),n.d(t,"struct",(function(){return o})),n.d(t,"type",(function(){return s})),n.d(t,"partial",(function(){return c})),n.d(t,"record",(function(){return l})),n.d(t,"array",(function(){return u})),n.d(t,"tuple",(function(){return d})),n.d(t,"intersect",(function(){return p})),n.d(t,"sum",(function(){return m})),n.d(t,"lazy",(function(){return f})),n.d(t,"readonly",(function(){return h})),n.d(t,"contramap",(function(){return v})),n.d(t,"compose",(function(){return y})),n.d(t,"id",(function(){return O})),n.d(t,"URI",(function(){return S})),n.d(t,"Contravariant",(function(){return C})),n.d(t,"Category",(function(){return w}));var a=n("j8jx"),r=n("DTwm");function i(e){return{encode:function(t){return null===t?null:e.encode(t)}}}function o(e){return{encode:function(t){var n={};for(var a in e)n[a]=e[a].encode(t[a]);return n}}}var s=o;function c(e){return{encode:function(t){var n={};for(var a in e){var r=t[a];a in t&&(n[a]=void 0===r?void 0:e[a].encode(r))}return n}}}function l(e){return{encode:function(t){var n={};for(var a in t)n[a]=e.encode(t[a]);return n}}}function u(e){return{encode:function(t){return t.map(e.encode)}}}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{encode:function(t){return e.map((function(e,n){return e.encode(t[n])}))}}}var p=function(e){return function(t){return{encode:function(n){return Object(a.a)(t.encode(n),e.encode(n))}}}};function m(e){return function(t){return{encode:function(n){return t[n[e]].encode(n)}}}}function f(e){var t=Object(a.b)(e);return{encode:function(e){return t().encode(e)}}}var h=r.identity,g=function(e,t){return{encode:function(n){return e.encode(t(n))}}},b=function(e,t){return g(t,e.encode)},v=function(e){return function(t){return g(t,e)}},y=function(e){return function(t){return b(t,e)}};function O(){return{encode:r.identity}}var S="io-ts/Encoder",C={URI:S,contramap:g},w={URI:S,compose:b,id:O}},gV67:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("B8yO"),i=n("tiWp"),o=n("+vYo"),s=n("yIk2"),c=n("xk6L"),l=n("mgiE"),u=n("7IMz");!function(e){var t=e.Manager=({children:e,cardWidth:t})=>{const n=s.b.toObservable(t).pipe(c.a.shareReplay({refCount:!0,bufferSize:1}));return u.a.useSingleton("CardWidth.Manager"),u.a.useSubscriptionTo(n),r.createElement(p.Provider,{value:n},e)},n=(e.DefaultManager=({children:e})=>(u.a.useSingleton("CardWidth.DefaultManager"),r.createElement(t,{cardWidth:n(d)},e)),e.withCardWidthEffect=(e,t=a)=>e.pipe(c.a.tap(e=>t(l.g.some(e))),c.a.finalize(t.bind(null,l.g.none)),c.a.shareReplay({refCount:!0,bufferSize:1}))),a=e.defaultCardWidthSetter=e=>{m(document.documentElement,e)},d=e.defaultSizeObserver=o.a.create(400),p=e.Context=r.createContext(d),m=e.setRootCssVar=(e,t)=>{e.style.setProperty("--cardWidth",Object(i.pipe)(t,l.g.map(String),l.g.orNull))}}(a||(a={}))},gfa6:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var a=n("nWMp"),r=n("2swC"),i=n("RCgc");const o=a.d.activeCardShadowSize-.5,s="0 3px 7px 0 rgba(129, 137, 169, .2)",c="0 -3px 7px 0 rgba(129, 137, 169, .2)",l={marginTop:0,height:a.a.percent(100)},u={position:"absolute",overflow:"hidden",marginTop:0,marginLeft:a.a.rem(-1*o),paddingTop:a.a.rem(4),paddingRight:a.a.rem(2),paddingLeft:a.a.rem(o),width:`calc(100% + ${a.a.rem(o)})`,height:a.a.percent(100)},d={position:"absolute",top:a.a.rem(a.d.toolbarHeight),visibility:"hidden",height:`calc(100vh - ${a.a.rem(a.d.toolbarHeight)})`},p={paddingRight:a.a.rem(2),width:a.a.percent(100),height:a.a.percent(100)},m={zIndex:a.d.level3,width:a.a.rem(a.d.sidebarWidth),$nest:{[`@media (${a.d.tinyMedia})`]:{width:a.a.rem(a.d.sidebarWidthTiny)},[`@media (${a.d.xsMedia})`]:{width:a.a.rem(a.d.sidebarWidthXs)},[`@media (${a.d.xssMedia})`]:{width:a.a.rem(a.d.sidebarWidthXss)}}},f={width:a.a.rem(27)},h={margin:`0 ${a.a.rem(.25)} 0 auto`,lineHeight:a.a.rem(1.8)},g={marginRight:a.a.rem(1)},b={position:"relative",paddingTop:a.a.rem(1),height:a.a.rem(4.15),background:`linear-gradient(-180deg, ${r.a.CoreNeutral0} 78%, rgba(255, 255, 255, 0) 100%)`,$nest:{"&:before":{position:"absolute",top:0,left:a.a.rem(-2),width:a.a.rem(2),height:a.a.percent(100),background:"inherit",content:"''"}}},v={paddingBottom:a.a.rem(.2)},y={maxWidth:a.a.rem(11),textAlign:"center",whiteSpace:"normal",lineHeight:a.a.rem(1)},O={position:"absolute",right:0,left:0,display:"flex",height:a.a.rem(2),background:r.a.CoreNeutral0,alignItems:"center",justifyContent:"center"},S={top:a.a.rem(-1.15),boxShadow:s,$nest:{"&:before":Object(i.a)(a.a.rem(.25),-10,a.a.rem(-.4),s,a.a.rem(a.d.radius3)),"&:after":Object(i.a)(a.a.rem(.5),-20,a.a.rem(-.8),s,a.a.rem(a.d.radius3))}},C={bottom:0,boxShadow:c,$nest:{"&:before":Object(i.a)(a.a.rem(.25),-10,a.a.rem(.4),c,a.a.rem(a.d.radius3)),"&:after":Object(i.a)(a.a.rem(.5),-20,a.a.rem(.8),c,a.a.rem(a.d.radius3))}},w={position:"absolute",zIndex:a.d.level1,display:"flex",pointerEvents:"all"},k={top:a.a.rem(.15)},E={bottom:a.a.rem(1.3)},j={position:"absolute",top:a.a.rem(4.15),display:"flex",width:`calc(100% - ${a.a.rem(2)})`,height:`calc(100vh - ${a.a.rem(4.15)})`,pointerEvents:"none",justifyContent:"center"},_=a.a.rem(2),x={paddingRight:_},A={display:"flex",marginTop:a.a.rem(.8125),marginLeft:a.a.rem(2.1875),paddingRight:_,color:r.a.CoreNeutral90,textTransform:"none",letterSpacing:0,fontWeight:"bold",fontSize:a.a.rem(.875),lineHeight:a.a.rem(1.125),justifyContent:"space-between",$nest:{'& div[role="button"]':{marginTop:a.a.rem(-.3875),$nest:{"&[data-name='bulk-accept-mini-button']":{marginTop:a.a.rem(-.75)}}},'& div[data-role="counter"]':{position:a.a.important("absolute")},"& h2":{fontSize:a.a.rem(.875),margin:0}}},I={position:"absolute",zIndex:a.d.level3,overflow:"visible",width:a.a.percent(100)},T={position:"absolute",right:a.a.rem(3),paddingLeft:a.a.rem(1),borderRadius:a.a.rem(a.d.radius2),color:r.a.CoreNeutral90,letterSpacing:a.a.px(.25),fontSize:a.a.rem(.75),lineHeight:a.a.rem(1),$nest:{"@media (max-width: 840px)":{paddingLeft:0,$nest:{"& > span":{display:"none"}}}}},M={position:"relative",marginTop:a.a.rem(.05),fontWeight:300},P={marginLeft:a.a.rem(2.5)},N={margin:a.a.rem(.5)+" 0",backgroundColor:r.a.CoreNeutral0,userSelect:"none",$nest:{"&:before":{position:"absolute",left:a.a.rem(-.5),width:a.a.rem(.5),height:a.a.percent(100),backgroundColor:r.a.CoreNeutral0,content:"''"}}},D=a.a.stylesheet({viewport:[l],lensviewContentWrapper:[u],fakeTop:[d],rechecking:[p],fixedLensContent:[m],splitSharedAssistantsLensContent:[m,f],lensCounter:[h],headerBtn:[g],headerWrapper:[b],infoIcon:[v],infoTooltip:[y],stack:[O],topStack:[O,S],bottomStack:[O,C],seeAlerts:[w],topSeeAlerts:[w,k],bottomSeeAlerts:[w,E],seeAlertsContainer:[j],lensTitle:[A],header:[I],toAllAlertsButton:[T],toAllAlertsText:[M],plagiarismLensTitle:[A,P],cardWrapper:[N],flexContainer:[{display:"flex"}],priorityTitleWrapper:[x]})},gg7t:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("Wy1Y"),i=n("4mQT"),o=n("t5lx"),s=n("0kuo"),c=n("RRF2");!function(e){!function(e){!function(e){e.create="create",e.update="update",e.remove="remove"}(e.ActionType||(e.ActionType={})),function(e){e.getEmpty=function(){return{created:new Map,updated:new Map,removed:new Map}}}(e.Result||(e.Result={}))}(e.Change||(e.Change={}));var t=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(s.a);e.CollapsedMarkError=t,function(e){e.id="64656E616E69",e.generateActiveWordRandomId=function(){return c.f.alphanumeric(10)},e.generateSynonymOnboardingId=function(e){return e+"9f2d9601b324bb6c1e36737e59ed3d96"}}(e.SynonymMark||(e.SynonymMark={}))}(a||(a={}))},"h+lq":function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var a=n("DTwm"),r=n("cZKX"),i=n("B8yO"),o=n("IMGo"),s=n("7IMz"),c=n("xk6L"),l=n("mgiE"),u=n("0kuo"),d=n("+vYo"),p=n("OwvP"),m=n("tCI5"),f=n("Fg+b"),h=n("nWMp"),g=function(e){var t=e.parentKey,n=e.from,a=e.transition,r=e.to,o=e.onAnimationEnd,s=e.renderContent,c=b(a.animateFrom,"from"),l=b(a.animateTo,"to"),u=c.needFullWidth||l.needFullWidth;return i.createElement("div",{className:h.a.joinClasses([v,u?y:""])},n&&i.createElement("div",{onAnimationEnd:function(){return o(a.fromName)},className:h.a.joinClasses(c.className)},s(n,"from-".concat(t),[])),i.createElement("div",{onAnimationEnd:function(){return o(a.toName)},className:h.a.joinClasses(l.className)},s(r,"to-".concat(t),[])))};function b(e,t){switch(e){case"fadeOut":return{className:[S],needFullWidth:!1};case"fadeIn":return{className:[w],needFullWidth:!1};case"slideLeft":return{className:E(t,"left"),needFullWidth:!0};case"slideRight":return{className:E(t,"right"),needFullWidth:!0};default:return{className:[],needFullWidth:!1}}}var v=h.a.style({position:"relative",overflow:"hidden"}),y=h.a.style({width:"100%"}),O=h.a.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}}),S=h.a.style({position:"absolute",opacity:0,visibility:"hidden",animation:"".concat(O," ").concat(h.a.seconds(.3)," ease-out")}),C=h.a.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),w=h.a.style({animation:"".concat(C," ").concat(h.a.seconds(.3)," ease-out")}),k=function(e){return"calc(".concat(e,"px * var(--cardWidth))")},E=function(e,t){var n="to"===e?0:"".concat(k("left"===t?-1:1)),a="from"===e?0:"".concat(k("left"===t?1:-1)),r=h.a.keyframes({from:{transform:"translateX(".concat(a,")"),visibility:"visible"},to:{transform:"translateX(".concat(n,")"),visibility:"from"===e?"hidden":"visible"}}),i=h.a.style({position:"absolute",left:0,right:0,visibility:"hidden"}),o=h.a.style({position:"from"===e?"absolute":"relative",animation:"".concat(r," ").concat(h.a.seconds(.3)," ease-out")});return"from"===e?[i,o]:[o]},j=n("qVo9"),_=n("kMtn");function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){A(e,t,n[t])}))}return e}function M(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function P(e){return function(e){if(Array.isArray(e))return e}(e)||I(e)||D(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e){return function(e){if(Array.isArray(e))return x(e)}(e)||I(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}var B=function(e){var t=e.content,n=e.prevContent,h=e.transitions,b=e.designSystem,v=e.notify,y=e.onMount,O=e.onAnimationEnd,S=e.sduiRootId,C=e.longFormCardState,w=void 0===C?{viewKind:"collapsed"}:C,k=function(e){return"name"in e},E=function(e){return Object(a.pipe)(e,r.ub((function(e){return"applyAlerts"===e.type&&0===e.alternativeIndex?{type:"applyAlerts",alternativeIndex:I.get()}:"selectAlternative"===e.type?(I.set(e.alternativeIndex),e):e})))},x=function(e,t,n,r,s){return function(c){return Object(a.pipe)(e,l.g.fromNullable,l.g.chain(o.E),l.g.map((function(e){var o=P(e),d=o[0],p=o.slice(1);switch(d.type){case"behavior:strongAlertRef":return x(p,t,n,r,s)((function(e){return i.createElement(b.strongAlertRef,{key:"".concat(t,"-strongAlertRef"),alertIds:d.alertIds,children:c(M(T({},e),{alertRefs:d.alertIds}))})}));case"behavior:animation:fadeIn":case"behavior:animation:fadeOut":return x(p,t,n,r,s)((function(e){return i.createElement(b.animation,M(T({key:"".concat(t,"-animation")},d),{children:c(e)}))}));case"behavior:popoverAnchor":return x(p,t,n,r,s)((function(e){return Object(a.pipe)(l.g.some(d),l.g.filter(_.b.PopoverAnchor.nonEmpty),l.g.fold((function(){return c(e)}),(function(r){var o=r.id,s=r.positionHint,l=r.view;return i.createElement(b.popoverAnchor,{key:"".concat(t,"-popoverAnchor"),inlineWrapper:"inline"===Object(f.c)(n),positionHint:s,popover:D(l.child,l.id,h,O,e),children:c(e),onShow:function(){return Object(a.pipe)(l.onShow,(function(t){return v(o,t||[],e)}))}})})))}));case"behavior:lifecycle":return x(p,t,n,r,s)((function(e){return i.createElement(b.lifecycle,{key:"".concat(t,"-lifecycle"),children:c(T({},e)),onMountHandler:F(e)(d.onMount,r),onUnmountHandler:F(e)(d.onUnmount,r)})}));default:Object(u.c)(d)}})),l.g.getOrElse(Object(a.constant)(c(s))))}},A=new Map,I=d.a.create(0),D=function(e,t,n,o,s){var c=k(e)?n.find((function(t){return t.toName===e.name.value})):void 0;if(void 0!==c){var d=A.get(c.fromName);return i.createElement(g,{key:L(t,e),parentKey:t,renderContent:function(e,t){return D(e,L(t,e),[],a.constVoid,s)},onAnimationEnd:o,from:d,to:e,transition:c})}return x(function(e){return"behaviors"in e}(e)?e.behaviors:void 0,L(t,e),e.type,e.id,s)((function(s){switch(e.type){case"text":return i.createElement(b.text,T({key:L(t,e)},e));case"clickableText":return i.createElement(b.clickableText,M(T({},e),{key:L(t,e),name:e.name.value,textView:b.text,onClick:F(s)(e.onClickActions,e.id)}));case"button":var c=D(e.label,t,n,o,s);return i.createElement(p.a.Fragment,{key:L(t,e)},I.view((function(n){return i.createElement(b.button[e.kind],{key:L(t,e),id:e.id,text:c,name:e.name.value,state:e.name.value===m.a.ComponentKnownName.ButtonAccept&&-1===n?m.a.ButtonState.Hidden:e.state,tooltip:e.tooltip,shape:e.shape,verticalAlign:"block"===e.label.type||"row"===e.label.type?e.label.verticalAlign:void 0,meta:e.meta,horizontalAlign:e.horizontalAlign,onClick:F(s)(e.actions,e.id)})})));case"alternativeChoice":return i.createElement(p.a.Fragment,{key:L(t,e)},I.view((function(n){return i.createElement(b.alternativeChoice,{key:L(t,e),id:e.id,designSystem:b,content:e.alternatives,activeIndex:n,notify:F(s),meta:e.meta})})));case"icon":return B(e.source,e.backgroundColor,L(t,e));case"image":return i.createElement(b.imageSized,T({key:L(t,e)},e));case"count":return i.createElement(b.count,T({key:L(t,e)},e));case"block":return i.createElement(b.block,M(T({key:L(t,e)},e),{children:e.parts.map((function(e,a){return D(e,L(t,{id:a.toString()}),n,o,s)}))}));case"row":return i.createElement(b.row,M(T({key:L(t,e)},e),{left:e.left.map((function(e,a){return D(e,L(t,{id:a.toString()}),n,o,s)})),right:e.right.map((function(e,a){return D(e,L(t,{id:a.toString()}),n,o,s)}))}));case"column":return i.createElement(b.column,M(T({key:L(t,e)},e),{children:e.children.map((function(e,a){return D(e,L(t,{id:a.toString()}),n,o,s)}))}));case"slider":return i.createElement(b.slider,T({key:L(t,e),designSystem:b,onChoiceSelected:F(s)},e));case"alternativeSlider":return i.createElement(b.alternativeSlider,T({key:L(t,e),designSystem:b,activeAltIndex:I.view(),notify:F(s)},e));case"strongAlertRef":var d=M(T({},s),{alertRefs:e.alertIds});return i.createElement(b.strongAlertRef,M(T({key:t},e),{children:D(e.child,t,n,o,d)}));case"scroll":return i.createElement(b.scroll,T({key:L(t,e),children:D(e.child,t,n,o,s)},e));case"box":return i.createElement(b.box,T({key:L(t,e),children:D(e.child,t,n,o,s)},e));case"list":return i.createElement(b.list,T({key:L(t,e),onSelect:function(e){var t=function(e,t){return e&&0!==e.length?Object(a.pipe)(e,r.ib,l.g.map((function(e){switch(e.type){case"behavior:strongAlertRef":return M(T({},t),{alertRefs:e.alertIds});case"behavior:animation:fadeIn":case"behavior:animation:fadeOut":case"behavior:popoverAnchor":case"behavior:lifecycle":return t;default:Object(u.c)(e)}})),l.g.getOrElse((function(){return t}))):t}(e.behaviors,s);return F(t)(e.actions,e.id)()},onClick:function(t){return F(s)([{type:"positionedClick",source:e.type,sourcePosition:t.clickPoint}],e.id)()},renderItem:function(a,r){var c=L(t,e)+"."+r.toString(),l=D(a.label,t,n,o,s);return x(a.behaviors,c,e.type,e.id,s)((function(e){return i.createElement(b.listItem,{key:c,id:a.id,label:l,tooltip:a.tooltip,behaviors:a.behaviors,secondaryButtons:a.secondaryButtons.map((function(t){return M(T({},t),{onClick:F(e)(t.onClickActions,t.id)})})),designSystem:b,meta:a.meta})}))}},e));case"alertsCount":return i.createElement(b.alertsCount,T({key:L(t,e),textView:b.text},e));case"assistantCard":return i.createElement(b.assistantCard,M(T({key:L(t,e)},e),{child:D(e.child,t,n,o,s),footer:e.footer?D(e.footer,t,n,o,s):null}));case"nativeSkillsModal":return i.createElement(b.nativeSkillsModal,T({key:L(t,e)},e));case"nativeSkillsList":return i.createElement(b.nativeSkillsList,T({key:L(t,e),designSystem:b,notify:function(){return v(e.id,e.onSelect,s)}},e));case"nativeSkillsView":return i.createElement(b.nativeSkillsView,T({key:L(t,e)},e));case"nativeToneInsightsModal":return i.createElement(b.nativeToneInsightsModal,T({key:L(t,e)},e));case"nativeLearnMoreModal":return i.createElement(b.nativeLearnMoreModal,T({key:L(t,e)},e));case"nativeSettingsModal":return i.createElement(b.nativeSettingsModal,T({key:L(t,e)},e));case"nativeFeedbackModal":return i.createElement(b.nativeFeedbackModal,T({key:L(t,e)},e));case"nativeGetStartedChecklistModal":return i.createElement(b.nativeGetStartedChecklistModal,T({key:L(t,e),designSystem:b,notify:function(){return v(e.id,e.onComplete,s)}},e));case"nativeKeyTakeawaysAssistantCard":return i.createElement(b.nativeKeyTakeawaysAssistantCard,T({key:L(t,e)},e));case"nativeProofitModal":return i.createElement(b.nativeProofitModal,T({key:L(t,e)},e));case"viewStack":return Object(a.pipe)(l.g.fromNullable(e.views[e.selected]),l.g.fold((function(){return i.createElement("div",null,"unknown selected view, corresponding view is missing")}),(function(e){return D(e,t,n,o,s)})));case"dropDownMenuButton":return i.createElement(b.dropDownMenuButton,T({key:L(t,e),designSystem:b,onClick:F(s)},e));case"selectableDropDownMenu":return i.createElement(b.selectableDropDownMenu,T({key:L(t,e),designSystem:b,onClick:F(s)},e));case"nativeExperimentalGBConsistencyUpsellFooter":return i.createElement(b.nativeExperimentalGBConsistencyUpsellFooter,T({key:L(t,e)},e));case"nativeExperimentalGBToneInsightsUpsellFooter":return i.createElement(b.nativeExperimentalGBToneInsightsUpsellFooter,T({key:L(t,e)},e));case"nativeInlineCardContent":return i.createElement(b.nativeInlineCardContent,T({key:L(t,e)},e));case"inlineCard":return i.createElement(b.inlineCard,M(T({key:L(t,e)},e),{child:D(e.child,t,n,o,s)}));case"radioButtonsGroup":return i.createElement(b.radioButtonsGroup,T({key:L(t,e),designSystem:b,onClick:F(s)},e));case"collapsedCard":return i.createElement(b.collapsedCard,M(T({},e),{child:D(e.child,t,n,o,s),quickActions:e.quickActions?D(e.quickActions,t,n,o,s):null,onHoverChanged:function(t){return v(e.id,[{type:"hoverStateChanged",hovered:t}],s)},onPress:function(t){return F(s)([{type:"positionedClick",source:e.type,sourcePosition:t}],e.id)()}}));case"shortFormCard":return D(e.child,t,n,o,s);case"longFormCard":return i.createElement(b.longFormCard,M(T({},e),{fullContent:D(e.fullContent,t,n,o,s),collapsedContent:D(e.collapsedContent,t,n,o,s),viewKind:w.viewKind}));case"progressBar":return i.createElement(b.progressBar,T({key:L(t,e)},e));case"tooltip":return i.createElement(b.tooltip,{text:e.text,child:D(e.child,t,n,o,s),alignment:e.alignment});case"horizontalRule":return i.createElement(b.horizontalRule,T({key:L(t,e)},e));case"globalPartPlaceholder":return i.createElement(b.globalPartPlaceholder,{key:L(t,e),children:e.child?D(e.child,t,n,o,s):null});case"assistantFeed":case"lensesSwitchPanel":case"popoverStack":case"gButton":throw new Error("".concat(e.type," can not be rendered directly"));default:if(Object(f.b)(e))throw new Error("".concat(e.type," component rendering is not implemented here"));return i.createElement("div",null,"unknown element")}}))},B=function(e,t,n){return"known"===e.kind?i.createElement(b.icon[e.name],{key:n,backgroundColor:t}):i.createElement(b.image,M(T({key:n},e),{backgroundColor:t}))},F=function(e){return function(t,n){return function(){return Object(a.pipe)(t,E,(function(t){return v(n,t,e)}))}}};l.g.isSome(n)&&f.a.forEach(l.g.unsafeGet(n),(function(e){k(e)&&A.set(e.name.value,e)}));var R=h.reduce((function(e,t){return A.has(t.fromName)&&(e+=1),e+=1}),0),H=d.a.create([]);s.a.useSubscriptionTo(Object(a.pipe)(H,c.a.first((function(e){return e.length===R})),c.a.filter((function(){return R>0})),c.a.tap(O))),s.a.useEffectOnDidMount(y);return i.createElement(j.a.Context.Provider,{value:{alertIds:[]}},D(t,S,h,(function(e){return H.modify((function(t){return N(t).concat([e])}))}),{alertRefs:[]}))};function L(e,t){return"".concat(e,".").concat(t.id)}},hDuT:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("TKPA"),i=n("0kuo");!function(e){let t;!function(e){e.mount="mount",e.unmount="unmount",e.headerCloseButtonClick="headerCloseButtonClick",e.headerGoBackButtonClick="headerGoBackButtonClick",e.headerVoiceButtonClick="headerVoiceButtonClick",e.setVoiceButtonClick="setVoiceButtonClick",e.voiceProfileCloseButtonClick="voiceProfileCloseButtonClick",e.voiceProfileUseVoiceButtonClick="voiceProfileUseVoiceButtonClick",e.toneToggleClick="toneToggleClick",e.styleToggleClick="styleToggleClick",e.roleTypeaheadSelectionChange="roleTypeaheadSelectionChange",e.dialectDropdownSelectionChange="dialectDropdownSelectionChange",e.promptFieldTextChange="promptFieldTextChange",e.promptFieldFocusChange="promptFieldFocusChange",e.promptFieldAndMenuFocusChange="promptFieldAndMenuFocusChange",e.actionBrickClick="actionBrickClick",e.promptSubmitButtonClick="promptSubmitButtonClick",e.generateStopButtonClick="generateStopButtonClick",e.promptFieldKeyPressEscape="promptFieldKeyPressEscape",e.promptFieldKeyPressEnter="promptFieldKeyPressEnter",e.promptFieldKeyPressArrowDown="promptFieldKeyPressArrowDown",e.promptFieldKeyPressArrowUp="promptFieldKeyPressArrowUp",e.promptMenuKeyPressArrowDown="promptMenuKeyPressArrowDown",e.promptMenuKeyPressArrowUp="promptMenuKeyPressArrowUp",e.resultCardInsertButtonClick="resultCardInsertButtonClick",e.resultCardCopyButtonClick="resultCardCopyButtonClick",e.resultCardCopyToClipboard="resultCardCopyToClipboard",e.resultCardRephraseButtonClick="resultCardRephraseButtonClick",e.resultCardDismissButtonClick="resultCardDismissButtonClick",e.resultCardToggleGenericVoiceButtonClick="resultCardToggleGenericVoiceButtonClick",e.errorCardDismissButtonClick="errorCardDismissButtonClick",e.openFeedbackFormButtonClick="openFeedbackFormButtonClick",e.feedbackFormChange="feedbackFormChange",e.feedbackFormSubmitButtonClick="feedbackFormSubmitButtonClick",e.reportOffensiveResultButtonClick="reportOffensiveResultButtonClick",e.reportOffensiveActionsButtonClick="reportOffensiveActionsButtonClick",e.resultCardHeaderClick="resultCardHeaderClick",e.collapsePromptMenuButtonClick="collapsePromptMenuButtonClick",e.creditsInfoHover="creditsInfoHover",e.creditsInfoClick="creditsInfoClick",e.resultCardHoverChange="resultCardHoverChange",e.resultCardFocusChange="resultCardFocusChange",e.reportMenuVisibilityChange="reportMenuVisibilityChange",e.referencesVisibilityChange="referencesVisibilityChange",e.voiceProfileTabChange="voiceProfileTabChange",e.voiceTagClick="voiceTagClick",e.voiceTagPopoverClose="voiceTagPopoverClose",e.voiceTagPopoverKeepButtonClick="voiceTagPopoverKeepButtonClick",e.voiceTagPopoverRemoveButtonClick="voiceTagPopoverRemoveButtonClick",e.voiceDialectDropdownSelectionChange="voiceDialectDropdownSelectionChange",e.voiceRoleDropdownSelectionChange="voiceRoleDropdownSelectionChange",e.voiceSelectionsSaveButtonClick="voiceSelectionsSaveButtonClick",e.voiceSelectionsCancelButtonClick="voiceSelectionsCancelButtonClick",e.voiceSelectionsEditButtonClick="voiceSelectionsEditButtonClick",e.surveyRatingSelectionChange="surveyRatingSelectionChange",e.surveyOpenAnswerChange="surveyOpenAnswerChange",e.surveySubmitButtonClick="surveySubmitButtonClick",e.surveyKeyPressShiftEnter="surveyKeyPressShiftEnter",e.surveyCancelButtonClick="surveyCancelButtonClick",e.surveyCloseButtonClick="surveyCloseButtonClick",e.regenerateWithoutReferenceButtonClick="regenerateWithoutReferenceButtonClick",e.restoreHistoryButtonClick="restoreHistoryButtonClick",e.userPromptSubmit="userPromptSubmit",e.radioOptionsSubmitButtonClick="radioOptionsSubmitButtonClick",e.radioOptionsCancelButtonClick="radioOptionsCancelButtonClick",e.removeSelectionContextClick="removeSelectionContextClick",e.selectionContextInteraction="selectionContextInteraction",e.settingsButtonClick="settingsButtonClick",e.toneReportToneLikeButtonClick="toneReportToneLikeButtonClick",e.toneReportToneDislikeButtonClick="toneReportToneDislikeButtonClick",e.signInButtonClick="signInButtonClick"}(t=e.Kind||(e.Kind={})),e.is=function(e){return t=>t.kind===e},e.isResultAction=Object(r.p)(e.is(e.Kind.resultCardInsertButtonClick),e.is(e.Kind.resultCardCopyButtonClick),e.is(e.Kind.resultCardRephraseButtonClick),e.is(e.Kind.resultCardDismissButtonClick),e.is(e.Kind.reportOffensiveResultButtonClick),e.is(e.Kind.regenerateWithoutReferenceButtonClick)),e.isToneDetectorAction=Object(r.p)(e.is(e.Kind.toneReportToneLikeButtonClick),e.is(e.Kind.toneReportToneDislikeButtonClick)),e.isSurveyAction=Object(r.p)(e.is(e.Kind.surveyOpenAnswerChange),e.is(e.Kind.surveySubmitButtonClick),e.is(e.Kind.surveyKeyPressShiftEnter),e.is(e.Kind.surveyCancelButtonClick),e.is(e.Kind.surveyCloseButtonClick),e.is(e.Kind.surveyRatingSelectionChange)),e.isSurveyImplicitDismissAction=Object(r.p)(e.is(e.Kind.promptSubmitButtonClick),e.is(e.Kind.actionBrickClick),e.is(e.Kind.resultCardInsertButtonClick),e.is(e.Kind.resultCardRephraseButtonClick),e.is(e.Kind.resultCardDismissButtonClick),e.is(e.Kind.resultCardHeaderClick))}(a||(a={})),Object(i.d)(void 0)},hPn0:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return S}));var a=n("Vv+i"),r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("4mQT"),c=n("8O/t"),l=n("X76w"),u=n("t5lx"),d=n("B8yO"),p=n("+vYo"),m=n("OwvP"),f=n("4GyQ"),h=n("xk6L"),g=n("RRF2"),b=n("To5e"),v=n("Iv8u"),y=(n("oZEi"),n("z4Di")),O=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),e=t.apply(this,arguments),Object(o.a)(Object(a.a)(e),"isDropZoneVisible",p.a.create(!1)),Object(o.a)(Object(a.a)(e),"isDropZoneHovered",p.a.create(!1)),Object(o.a)(Object(a.a)(e),"timeout",void 0),Object(o.a)(Object(a.a)(e),"isDocumentUploading",p.a.create(!1)),Object(o.a)(Object(a.a)(e),"onLeave",(function(){e.isDropZoneVisible.set(!1),e.isDropZoneHovered.set(!1)})),Object(o.a)(Object(a.a)(e),"onDragOver",(function(t){return e.isDropZoneVisible.set(!0),e.isDropZoneHovered.set(e.props.canDrop(t)),Boolean(e.timeout)&&clearTimeout(e.timeout),e.timeout=setTimeout((function(){return e.onLeave()}),100),t.stopPropagation(),t.preventDefault(),!1})),Object(o.a)(Object(a.a)(e),"onDrop",(function(t){t.preventDefault(),t.stopPropagation(),e.onLeave(),e.props.canDrop(t)&&(e.isDocumentUploading.set(!0),e.props.documentUpload.upload({files:t.dataTransfer.files,notify:!0,allowMultiple:e.props.multiple,isDragNDrop:!0}).then((function(){return e.isDocumentUploading.set(!1)})))})),Object(o.a)(Object(a.a)(e),"_subs",[]),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this._subs=[h.a.fromEvent(document,"dragover").subscribe(this.onDragOver),h.a.fromEvent(document,"drop").subscribe(this.onDrop)]}},{key:"componentWillUnmount",value:function(){this._unsubscribe(),this.props.documentUpload.navigated()}},{key:"render",value:function(){return this.props.render(this.isDropZoneVisible,this.isDropZoneHovered,this.isDocumentUploading)}},{key:"_unsubscribe",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]}}]),n}(d.Component),S=function(e){var t=d.useContext(b.a.Context);return d.createElement(O,Object(l.a)(Object(c.a)({},e),{canDrop:function(e){return g.c.hasParentWithClassName(e.target,y.dropzone)},render:function(e,n,a){return d.createElement(m.a.div,Object(f.c)(y.dropZoneElement,e.pipe(h.a.map((function(e){return e&&y.active}))),n.pipe(h.a.map((function(e){return e&&y.hovered}))),a.pipe(h.a.map((function(e){return e&&Object(f.c)(y.active,y.hovered).className})))),d.createElement(m.a.div,{className:y.dropzone},a.pipe(h.a.map((function(e){return e?d.createElement("div",{className:y.progressContainer,key:"uploading"},d.createElement("div",{className:y.message},t.modalUploadingDocumentText),d.createElement(v.a,{size:18})):d.createElement("div",{className:y.dropzoneMiddleblock,key:"dropAFile"},"Drop a text file here")})))))}}))}},hSa3:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("B8yO"),s=n("OwvP"),c=n("4GyQ"),l=n("xk6L"),u=n("yIk2"),d=n("RRF2"),p=n("2swC"),m=n("ksEe"),f=n("ySi0"),h=n("f82Z"),g=n("nWMp"),b=n("Frap"),v=n("Sqy8"),y=n("uxqH");!function(e){function t(e){return 0===e?"":e>=1e3?Math.min(Math.trunc(e/1e3),9)+"k+":String(e)}const n=({className:e,isChecking:t,type:n,animateFade:a=!0})=>{const{state:r,complete:i}=v.a.fadeOutState(t);return o.createElement(s.a.div,Object(c.c)(W.loader,e),a?r.pipe(l.a.map(e=>"end"===e?o.createElement("div",{key:"checking-complete",className:"checking-complete"}):o.createElement(h.a,{key:"spinner",variation:n,size:"100%",className:"fadeOut"===e?W.fadeOut:void 0,onTransitionEnd:i}))):t.pipe(l.a.map(e=>e?o.createElement(h.a,{variation:n,size:"100%"}):o.createElement("div",{className:"checking-complete"}))))},a=({name:e,theme:n={},count:a,type:l="white",suffix:p=""})=>{const f=o.useContext(m.a.Context);return o.createElement(s.a.div,Object(i.a)(Object(r.a)({},Object(c.c)(W.roundCounter,u.b.mapMaybeObservable(l,h.a.getClassName(W)),n.counterWrapper)),{"data-role":"counter"}),o.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 32",className:W.circular},o.createElement("g",null,o.createElement("circle",{r:"15.75",cx:"16",cy:"16"}),o.createElement("text",Object(r.a)(Object(i.a)(Object(r.a)({x:"16",y:"17"},d.c.svgVerticalAlignment(f.has(m.a.Flag.supportsSVGDominantBaseline))),{fontSize:a>=100?14:18,"data-name":e}),Object(c.c)(j,n.counterContent)),t(a),p))))},p=({name:e,theme:n={},count:a,type:l="white",suffix:p=""})=>{const f=o.useContext(m.a.Context);return o.createElement(s.a.div,Object(i.a)(Object(r.a)({},Object(c.c)(W.ovalCounter,u.b.mapMaybeObservable(l,h.a.getClassName(W)),n.counterWrapper)),{"data-role":"counter"}),o.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 20",className:W.circular},o.createElement("rect",{width:"32",height:"20",rx:"10"}),o.createElement("text",Object(r.a)(Object(i.a)(Object(r.a)({x:"16",y:"10.5"},d.c.svgVerticalAlignment(f.has(m.a.Flag.supportsSVGDominantBaseline))),{fontSize:11,"data-name":e}),Object(c.c)(j,n.counterContent)),t(a),p)))};e.Counter=({theme:e={},count:t,type:n="white"})=>{const s=t>=100?p:a;return o.createElement(s,{theme:Object(i.a)(Object(r.a)({},e),{counterWrapper:Object(c.c)(e.counterWrapper,W.flexCounter).className}),count:t,type:n})};var g=e.OutcomeCounter=({name:e,theme:n={},count:a,type:l="white",suffix:p,fontSize:f=12})=>{const g=o.useContext(m.a.Context);return o.createElement(s.a.div,Object(i.a)(Object(r.a)({},Object(c.c)(W.outcomeCounter,u.b.mapMaybeObservable(l,h.a.getClassName(W)),n.counterWrapper)),{"data-role":"counter"}),o.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 18",className:W.circular},o.createElement("rect",Object(i.a)(Object(r.a)({},function(e,t){return t||e>=100?{width:32}:e>=10?{x:4,width:24}:{x:7,width:18}}(a,Boolean(p))),{height:18,rx:9})),o.createElement("text",Object(r.a)(Object(i.a)(Object(r.a)({x:"50%",y:"10px"},d.c.svgVerticalAlignment(g.has(m.a.Flag.supportsSVGDominantBaseline))),{fontSize:f,"data-name":e}),Object(c.c)(j,n.counterContent)),t(a),p)))};e.MainMeter=({count:e,isChecking:t,className:r})=>{const i=0===e;return o.createElement("div",Object(c.c)(W.meter,r),o.createElement(n,{isChecking:t,type:i?"green":"red"}),0===e?o.createElement(f.d.Grammarly,null):o.createElement(a,{count:e,type:"red",name:"toolbar-mistakes"}))},e.LensNavMeter=({count:e,isChecking:t})=>o.createElement("div",{className:W.lensNavMeter},o.createElement(n,{isChecking:t,type:"red"}),o.createElement(a,{count:e,type:"white",name:"toolbar-mistakes"})),e.PlagiarismMeter=({count:e,isChecking:t,className:a})=>o.createElement("div",Object(c.c)(W.plagiarismMeter,a),o.createElement(n,{isChecking:t,type:"violet",animateFade:!1}),o.createElement(s.a.div,{className:W.wrapper},e.pipe(l.a.combineLatest(t),l.a.map(([e,t])=>0===e?o.createElement(f.d.NotificationInfo,{className:W.plagiarismIcon,key:"icon",width:20}):!t&&o.createElement(p,{count:e,type:"violet",key:"value",suffix:o.createElement("tspan",{fontSize:8,dominantBaseline:"center"},"%")})),l.a.startWith(null)))),e.PlagiarismOutcomesMeter=({count:e,isChecking:t,className:a})=>o.createElement("div",Object(c.c)(W.plagiarismMeter,a),o.createElement(n,{isChecking:t,type:"cyan",animateFade:!1}),o.createElement(s.a.div,{className:W.wrapper},e.pipe(l.a.combineLatest(t),l.a.map(([e,t])=>y.a.isMin(e)?o.createElement(f.d.CheckmarkOutcomes,{className:W.plagiarismOutcomeIcon,key:"icon",width:20}):!t&&o.createElement(g,{count:y.a.prism.reverseGet(e),type:"cyan",key:"value",suffix:o.createElement("tspan",{fontSize:11},"%")})),l.a.startWith(null))))}(a||(a={}));const O={position:"absolute",top:0,right:0,bottom:0,left:0,overflow:"visible",margin:"auto",width:g.a.percent(100),height:g.a.percent(100)},S={position:"absolute",width:g.a.percent(150),height:g.a.percent(150),transform:"translate(-17%, -17%)"},C={position:"relative",display:"inline-flex"},w={width:g.a.percent(100),height:g.a.percent(100)},k={minWidth:g.a.rem(2),width:g.a.percent(100),height:g.a.rem(1.25)},E={maxWidth:g.a.rem(2),height:g.a.rem(1.25)},j=g.a.joinClasses(["counterText",g.a.style({fontWeight:"bold",textAnchor:"middle",fill:p.a.CoreNeutral0})]),_={fill:b.ui150,$nest:{"& .counterText":{fill:b.ui500}}},x={fill:p.a.CoreRed50,$nest:{"& .counterText":{fill:p.a.CoreNeutral0}}},A={fill:p.a.CoreGreen50,$nest:{"& .counterText":{fill:p.a.CoreNeutral0}}},I={fill:p.a.CoreBlue50,$nest:{"& .counterText":{fill:p.a.CoreNeutral0}}},T={fill:"transparent",$nest:{"& .counterText":{fill:b.ui500}}},M={fill:b.purple500,$nest:{"& .counterText":{fill:p.a.CoreNeutral0}}},P={fill:b.yellow600,$nest:{"& .counterText":{fill:p.a.CoreNeutral0}}},N={fill:p.a.CoreYellow20,$nest:{"& .counterText":{fill:p.a.CoreYellow80}}},D={fill:p.a.CoreYellow60,$nest:{"& .counterText":{fill:p.a.CoreNeutral0}}},B={fill:p.a.CoreCyan50,$nest:{"& .counterText":{fill:p.a.CoreNeutral0}}},L={width:g.a.rem(1.5),height:g.a.rem(1.5)},F={margin:"0 "+g.a.rem(.25)},R={width:g.a.rem(2),height:g.a.rem(1.25)},H={margin:g.a.rem(-1)+" 0"},V={$nest:{"&:not([data-disabled='true'])[data-active='true'], &:not([data-disabled='true'])[data-hovered='true']":{fill:p.a.CoreCyan50}}},U={width:g.a.rem(2),height:g.a.rem(1.125),position:"relative"},W=g.a.stylesheet({fadeOut:[{opacity:0,transition:"opacity .5s linear"}],circular:[O],loader:[S],wrapper:[C],roundCounter:[C,w],ovalCounter:[C,k],flexCounter:[C,E],gray:[_],red:[x],green:[A],blue:[I],white:[T],violet:[M],yellow:[P],yellowPremium:[N],orange:[D],cyan:[B],meter:[C,L],lensNavMeter:[C,L,F],plagiarismMeter:[C,R],plagiarismIcon:[H],plagiarismOutcomeIcon:[H,V],outcomeCounter:[C,{position:"absolute",left:0},U]})},hVYI:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("tiWp"),s=n("OwvP"),c=n("4GyQ"),l=n("xk6L"),u=n("yIk2"),d=n("mgiE"),p=n("2swC"),m=n("t39C"),f=n("nWMp"),h=n("7IMz");const g=({toneAlternatives:e,onSelectToneAlternative:t})=>{const n=new l.a.Subject,p=new l.a.Subject,g=new l.a.Subject,b=new l.a.Subject,v=new l.a.Subject,y=new l.a.Subject,{ref:O,onMount:S}=h.a.useElWatcher(),C=l.a.mergeStatic(v.pipe(l.a.mapTo(!0)),g.pipe(l.a.mapTo(!1)),b.pipe(l.a.mapTo(!1))).pipe(l.a.startWith(!1)),w=l.a.mergeStatic(v,p).pipe(l.a.withLatestFrom(C),l.a.filter(([e,t])=>t),l.a.map(([e,t])=>e),l.a.withLatestFrom(O),l.a.map(([e,t])=>Object(o.pipe)(t,d.g.map(e=>e.getBoundingClientRect()),d.g.bindTo("sliderClientRect"),d.g.apS("containerMouseEventVal",d.g.some(e)))),l.b.compact,l.a.map(({containerMouseEventVal:e,sliderClientRect:t})=>{const n=t.x,a=t.x+t.width;let r=0;return r=e.clientX<=n?0:e.clientX>=a?100:(e.clientX-n)/(a-n)*100,r})),k=l.a.mergeStatic(w.pipe(l.a.distinctUntilChanged()),C.pipe(l.a.distinctUntilChanged(),l.a.filter(e=>!e),l.a.withLatestFrom(w),l.a.map(([e,t])=>t),l.a.map(e=>e>=50?100:0)),n.pipe(l.a.filter(e=>"ArrowRight"===e.key||"ArrowLeft"===e.key),l.a.tap(e=>{e.preventDefault(),e.stopPropagation()}),l.a.map(e=>e.key),l.a.filter(e=>"ArrowRight"===e||"ArrowLeft"===e),l.a.map(e=>"ArrowRight"===e?100:0)),y.pipe(l.a.map(e=>1===e?100:0))).pipe(l.a.startWith(100)),E=k.pipe(l.a.distinctUntilChanged(),l.a.map(e=>e>=50?1:0)),j=l.a.combineLatestStatic([E,u.b.toObservable(e)]).pipe(l.a.map(([e,t])=>t[e]));return h.a.useSubscriptionTo(E.pipe(l.a.distinctUntilChanged(),l.a.tap(t))),i.createElement(s.a.div,{className:K.outerContainer,onKeyDown:e=>n.next(e)},i.createElement(s.a.div,{className:K.label},j.pipe(l.a.map(e=>e.name))),i.createElement(s.a.div,{className:K.container,onMouseMove:e=>p.next(e),onMouseUp:e=>g.next(e),onMouseLeave:e=>b.next(e)},i.createElement(s.a.div,Object(r.a)(Object(a.a)({},Object(c.c)(K.slider,C.pipe(l.a.map(e=>e?K.sliderDragging:null)))),{mount:S}),i.createElement(s.a.div,Object(r.a)(Object(a.a)({},Object(c.c)(K.sliderInner,C.pipe(l.a.map(e=>e?K.sliderInnerDragging:null)))),{style:{width:k.pipe(l.a.map(f.a.percent))}}),i.createElement(s.a.div,Object(r.a)(Object(a.a)({},Object(c.c)(K.knob,C.pipe(l.a.map(e=>e?K.knobDragging:null)))),{onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),v.next(e)},tabIndex:0}),j.pipe(l.a.map(e=>i.createElement(m.c,{id:e.emojiID,className:K.knobEmoji}))))),l.a.combineLatestStatic([E,C]).pipe(l.a.map(([e,t])=>i.createElement(i.Fragment,null,i.createElement("div",Object(c.c)(K.sliderDivisionPoint,K.sliderDivisionPointLeft)),0===e||t?null:i.createElement(s.a.div,Object(r.a)(Object(a.a)({},Object(c.c)(K.sliderDivisionPointHoverArea,K.sliderDivisionPointHoverAreaLeft)),{onClick:()=>y.next(0)})),i.createElement("div",Object(c.c)(K.sliderDivisionPoint,K.sliderDivisionPointRight)),1===e||t?null:i.createElement(s.a.div,Object(r.a)(Object(a.a)({},Object(c.c)(K.sliderDivisionPointHoverArea,K.sliderDivisionPointHoverAreaRight)),{onClick:()=>y.next(1)}))))))))},b="toneSliderOuterContainer",v="toneSliderLabel",y="toneSliderContainer",O="toneSlider",S="toneSliderDragging",C="toneSliderSliderDivisionPoint",w="toneSliderDivisionPointLeft",k="toneSliderDivisionPointRight",E="toneSliderDivisionPointHoverArea",j="toneSliderDivisionPointHoverAreaLeft",_="toneSliderDivisionPointHoverAreaRight",x="toneSliderInner",A="toneSliderInnerDragging",I="toneSliderKnob",T="toneSliderKnobDragging",M="toneSliderKnobEmoji",P={fontWeight:700,fontSize:f.a.rem(.875),lineHeight:f.a.rem(1),width:f.a.rem(7.5)},N={width:f.a.rem(5.375),height:f.a.rem(1.75),display:"flex",flexDirection:"column",justifyContent:"center"},D={position:"relative",width:f.a.percent(100),backgroundColor:p.a.CoreNeutral40,height:f.a.rem(.125),borderRadius:f.a.rem(.375),transition:"all 0.15s ease-in-out",$nest:{"&:hover":{height:f.a.rem(.5)},["&:hover ."+C]:{visibility:"visible"}}},B={height:f.a.rem(.5),$nest:{["& ."+C]:{visibility:"visible"}}},L={position:"absolute",width:f.a.rem(.25),height:f.a.rem(.25),backgroundColor:p.a.CoreNeutral0,top:f.a.rem(.125),bottom:f.a.rem(.125),borderRadius:f.a.percent(100),visibility:"hidden"},F={left:f.a.rem(.125)},R={right:f.a.rem(.125)},H={background:p.a.CoreNeutral90,opacity:0,width:f.a.rem(1.5),height:f.a.rem(1.5),position:"absolute",borderRadius:f.a.percent(100),cursor:"pointer",top:f.a.rem(-.5),zIndex:1,transition:"all 0.15s ease-in-out",$nest:{"&:hover":{opacity:.1}}},V={left:f.a.rem(-.5)},U={right:f.a.rem(-.5)},W={position:"relative",display:"flex",alignItems:"center",backgroundColor:p.a.CorePurple40,height:f.a.percent(100),borderRadius:f.a.rem(.375),transition:"all 0.15s ease-in-out"},z={position:"absolute",right:f.a.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",width:f.a.rem(1.75),height:f.a.rem(1.75),backgroundColor:p.a.CoreNeutral0,boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)",borderRadius:f.a.rem(1.875),cursor:"ew-resize",transition:"all 0.15s ease-in-out",zIndex:1,$nest:{"&:hover":{width:f.a.rem(2),height:f.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},G={width:f.a.rem(2),height:f.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},q={width:f.a.rem(.9375),height:f.a.rem(.9375),pointerEvents:"none"},K={outerContainer:f.a.joinClasses([b,f.a.style({display:"flex",alignItems:"center"})]),label:f.a.joinClasses([v,f.a.style(P)]),container:f.a.joinClasses([y,f.a.style(N)]),slider:f.a.joinClasses([O,f.a.style(D)]),sliderDragging:f.a.joinClasses([S,f.a.style(B)]),sliderDivisionPoint:f.a.joinClasses([C,f.a.style(L)]),sliderDivisionPointLeft:f.a.joinClasses([w,f.a.style(F)]),sliderDivisionPointRight:f.a.joinClasses([k,f.a.style(R)]),sliderDivisionPointHoverArea:f.a.joinClasses([E,f.a.style(H)]),sliderDivisionPointHoverAreaLeft:f.a.joinClasses([j,f.a.style(V)]),sliderDivisionPointHoverAreaRight:f.a.joinClasses([_,f.a.style(U)]),sliderInner:f.a.joinClasses([x,f.a.style(W)]),sliderInnerDragging:f.a.joinClasses([A,f.a.style({transition:"none"})]),knob:f.a.joinClasses([I,f.a.style(z)]),knobDragging:f.a.joinClasses([T,f.a.style(G)]),knobEmoji:f.a.joinClasses([M,f.a.style(q)])}},hZ6A:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n("Wy1Y"),r=n("4mQT"),i=n("x+Pc"),o=n("hcme"),s=n("JOKA"),c=n("mMt2"),l=n("t5lx"),u=n("B8yO"),d=n("DTwm"),p=n("tiWp"),m=n("OwvP"),f=n("NDcT"),h=n("XQlQ"),g=n("eUGc"),b=n("fC5a"),v=n("Butu"),y=n("wZNN"),O=n("AVzG"),S=n("xk6L"),C=n("0kuo"),w=n("RRF2"),k=n("mgiE"),E=n("JsWC"),j=n("M3t0"),_=n("x1PS"),x=(n("HkLQ"),n("hl0p")),A=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return n}(C.a),I=function(e){var t,n=e.vm,a=u.useContext(h.a.Context).pipe(S.a.map(w.e.pick("rect")));return u.createElement(m.a.div,{className:x.positionedWrapper},S.a.combineLatestStatic(a,n.visualState).pipe(S.a.map((function(e){var n=Object(o.a)(e,2),a=n[0],r=n[1];return Object(p.pipe)(r,k.b.fromOption((function(){return new A("Viewport state is O.none")})),k.b.chain((function(e){return Object(p.pipe)(e.rect.getRect(),k.b.map((function(e){var n=Object(s.a)(e.clientRects),r=n[0],i=n.slice(1),o=e.rootClientRect;return{viewportLikeRect:w.c.absToRelative(a,o),rect:Object(p.pipe)((t=w.c.Rect).join.apply(t,[r].concat(Object(c.a)(i))),k.b.getOrElse((function(){return w.c.Rect.empty})))}})),k.b.map((function(t){var n=t.viewportLikeRect,a=t.rect;return u.createElement(m.a.div,{className:x.editorToViewportContainer,style:{top:n.top,left:n.left}},u.createElement(O.a.ByAbsoluteRect,{rect:a,align:w.c.Rect.Axis.vertical,selector:P},u.createElement(g.a,{hide:e.close},u.createElement("div",{className:x.wrapper},e.visualState===_.a.VisualState.EditingMode?u.createElement(T,{inputContent:e.inputContent,apply:e.apply,isValid:e.isValid}):u.createElement(M,{url:e.url,change:e.change,remove:e.remove})))))})))})),k.b.fold((function(e){return Object(i.a)(e,A)||j.d.Logging.getLogger("FormattingLink").error("Cannot render links popup",e),null}),d.identity))})),S.a.startWith(null)))},T=function(e){var t=e.apply,n=e.inputContent,a=e.isValid,r=u.useContext(f.a.Context);return u.createElement(u.Fragment,null,u.createElement(v.a,{name:"rtfLinks-urlInput",placeholder:r.toolbar.formatting.links.placeholder,autofocus:!0,className:x.urlInput,value:n}),u.createElement(b.a.Ghost,{name:"rtfLinks-apply",onClick:function(){t()},disabled:a.view(Object(d.not)(d.identity))},r.toolbar.formatting.links.apply))},M=function(e){var t=e.url,n=e.change,a=e.remove,r=u.useContext(f.a.Context);return u.createElement(u.Fragment,null,u.createElement(y.a,{href:t,className:x.urlHolder},u.createElement("span",{className:x.urlText},t)),u.createElement(b.a.Tertiary,{name:"rtfLinks-change",onClick:n,className:x.button},r.toolbar.formatting.links.change),u.createElement("span",{className:x.delimiter}),u.createElement(b.a.Tertiary,{name:"rtfLinks-remove",onClick:a,className:x.button},r.toolbar.formatting.links.remove))},P=function(e){var t,n,a=E.a.Selector.Placement.left,r=E.a.Selector.takeBy("bottom",a)(e);return t=r.point,n=t.point,-1===Math.sign(n.x)||-1===Math.sign(n.y)?E.a.Selector.preferBy("bottom",a)(e):r}},hl0p:function(e){e.exports=JSON.parse('{"header1":"_404daa52-formatting-link-header1","header2":"_f5da44c9-formatting-link-header2","header3":"_6771f861-formatting-link-header3","header3legacy":"_755e091a-formatting-link-header3legacy","button":"_e9f7b8c5-formatting-link-button","header4":"_2d9034b2-formatting-link-header4","paper":"_ef8cf119-formatting-link-paper","base":"_a7f5146c-formatting-link-base","small":"_522b4200-formatting-link-small","smallLight":"_4234927d-formatting-link-smallLight","score":"_3e895ab0-formatting-link-score","lawyer":"_9df4547d-formatting-link-lawyer","title":"_3d1da024-formatting-link-title","p1":"_991a624a-formatting-link-p1","header5":"_f11c98aa-formatting-link-header5","positionedWrapper":"_69c9878e-formatting-link-positionedWrapper","wrapper":"_14d68179-formatting-link-wrapper","editorToViewportContainer":"_23728bfd-formatting-link-editorToViewportContainer","urlHolder":"_8a4031ab-formatting-link-urlHolder _a7f5146c-formatting-link-base","urlInput":"_1b5a1557-formatting-link-urlInput _8a4031ab-formatting-link-urlHolder _a7f5146c-formatting-link-base","urlText":"_8f61eea3-formatting-link-urlText","delimiter":"_27acff95-formatting-link-delimiter"}')},hldE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var a,r=n("tiWp"),i=n("mgiE"),o=n("TKPA"),s=n("M3t0"),c=n("sfTT"),l=n("mp9r");function u({from:e,transition:t,incomplete:n}){if(!n)return{};const a=p("transitionClassMapper");return Object(r.pipe)(e,i.g.map(e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return a.error(`Impossible transition: ${e} -> ${t.type}`),{main:c.a.addedMain};case"focused":return{main:t.clockwise?c.a.rendered2focusedMainClockwise:c.a.rendered2focusedMain};case"removed":return{shade:c.a.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:c.a.focused2renderedMain,shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};case"removed":return{main:"",shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};case"focused":return{main:c.a.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:c.a.focused2successMain,shade:c.a.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return a.error(`Impossible transition: ${e} -> ${t.type}`),{main:c.a.addedMain};default:return{}}default:return{}}}),i.g.getOrElse(()=>{switch(t.type){case"added":return{main:c.a.addedMain};case"focused":return{main:c.a.openedMain};default:return{}}}))}function d({from:e,transition:t,incomplete:n}){return n?Object(r.pipe)(e,i.g.map(e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return p("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:c.a.addedMain};case"focused":return{main:t.clockwise?l.a.rendered2focusedBundleMainClockwise:l.a.rendered2focusedBundleMain,shade:l.a.rendered2focusedBundleShade};case"removed":return{shade:c.a.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:l.a.focused2renderedBundleMain,shade:t.clockwise?l.a.focused2renderedBundleShadeClockwise:l.a.focused2renderedBundleShade};case"removed":return{main:"",shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};case"focused":return{main:c.a.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:c.a.focused2successMain,shade:c.a.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return p("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:c.a.addedMain};default:return{}}default:return{}}}),i.g.getOrElse(()=>{switch(t.type){case"added":return{main:c.a.addedMain};case"focused":return{main:c.a.openedMain};default:return{}}})):{}}!function(e){e.toOption=function(e){return t=>{const{main:n,shade:a}=e(t);return{main:i.g.fromNullable(n),shade:i.g.fromNullable(a)}}}}(a||(a={}));const p=Object(o.l)(s.d.Logging.getLogger)},hmxm:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("+vYo"),r=n("xk6L"),i=n("ykgB"),o=n("yIk2"),s=n("B8yO");const c={NothingToCheck:()=>s.createElement(s.Fragment,null),NothingToNoIssueFound:()=>s.createElement(s.Fragment,null),NoIssueFoundToNothingToCheck:()=>s.createElement(s.Fragment,null),NoIssuesFound:()=>s.createElement(s.Fragment,null),EverythingIsClear:()=>s.createElement(s.Fragment,null),Birthday:()=>s.createElement(s.Fragment,null)};function l(e){var t=a.a.create(c);return r.a.from(e?n.e(32).then(n.bind(null,"XYCX")):Promise.all([n.e(0),n.e(3),n.e(23)]).then(n.bind(null,"EFbg"))).pipe(r.a.retryWhen(i.a.OperationRetrier.RetryStrategy.linear(3,1e3)),r.a.first(),r.a.map((function(e){return e.Illustration}))).subscribe(o.b.toAtom(t)),t}},how3:function(e,t,n){"use strict";n.d(t,"a",(function(){return W}));var a,r,i,o=n("Wy1Y"),s=n("uKMM"),c=n("a5gI"),l=n("x+Pc"),u=n("8O/t"),d=n("hcme"),p=n("000W"),m=n("OhII"),f=n("DTwm"),h=n("tiWp"),g=n("+vYo"),b=n("ShUL"),v=n("gg7t"),y=n("mgiE"),O=n("0kuo"),S=n("D2TP"),C=n("Hj2R"),w=n("UK5+"),k=n("Hby5");(a||(a={})).fromAlert=function(e,t,n){let a=S.a.outcomeFullTypeMatch(Boolean(e.lensId===S.a.SpecialId.Premium||e.lensId===S.a.SpecialId.FreePremiumAlerts&&!C.a.isFreePremium(e))?S.a.Type.Advanced:e.lensType)(n);return C.a.isEthicalAI(e)&&void 0!==e.highlightBackgroundColor&&void 0!==e.highlightUnderlineColor&&(a=n.custom(e.highlightBackgroundColor,e.highlightUnderlineColor)),C.a.isVbar(e)&&(a=n.custom("transparent","transparent")),C.a.isWithTeaser(e)&&(a=""),{markLensBase:a,markBase:n.markBase,markAppliedBase:n.markAppliedBase,markHeight:t?n.markHeightTall:n.markHeightStandard,markAnimated:n.markAnimated,markVisible:n.markVisible,markSelectedFocused:n.markSelectedFocused,markHidden:n.markHidden,markSuccess:n.markSuccess,markBulkApplied:n.markBulkApplied,markBulkAppliedAnimation:n.markBulkAppliedAnimation,markApplied:n.markApplied,noAnimation:n.noAnimation,markSelected:n.markSelected,markStart:n.markStart,markVBar:n.markVBar,markVBarHighlighted:n.markVBarHighlighted,markWritingExpert:n.markWritingExpert,markWritingExpertHighlighted:n.markWritingExpertHighlighted}},(i=r||(r={})).byAhr=function(e){return t=>Object(h.pipe)(e.get(),y.g.forAll(e=>t.meta.id===e.meta.id))?"full":"background"},i.byRangeType=function(e){return t=>C.a.isVbar(e)?w.b.isEnclosingView(t)?"vbar":"vbar_partial":C.a.isWithTeaser(e)?w.b.isEnclosingView(t)?"writing_expert":"writing_expert_partial":w.b.isFocusView(t)?"focus":w.b.isEnclosingView(t)?"enclosing":C.a.isCapiDone(e)?"background":e.hasNestedHighlights?w.b.isMainStartView(t)?"underline_start":"underline":"full"};var E,j,_=n("mEGS"),x=n("La5+"),A=n("xk6L"),I=n("yIk2"),T=n("3jKF"),M=n("hzat"),P=n("LFoX"),N=n("aaNd"),D=n("Gwvb"),B=n("TKPA"),L=n("K40b"),F=n("RRF2"),R=n("M3t0"),H=n("yiiS");(j=E||(E={})).create=function(e,t,n,a){return function(r,i){var o=n("MarkActionFactory.create");return b.a.Change.getCreateAction({classes:t({state:i.to.visualState,isBulkApplied:C.a.State.isBulkApplied(o.state),range:r,isAnimated:!i.to.updateRanges&&Object(k.d)(i),isEnclosed:a,isVBar:M.a.isVBar(o),isWritingExpert:M.a.isWritingExpertWithTeaser(o)}),range:r,order:e({range:r})})}},j.update=function(e,t,n,a){return function(r,i){var o=n("MarkActionFactory.update");return b.a.Change.getUpdateAction({classes:t({state:i.to.visualState,isBulkApplied:C.a.State.isBulkApplied(o.state),range:r,isAnimated:!i.to.updateRanges&&Object(k.d)(i),isEnclosed:a,isVBar:M.a.isVBar(o),isWritingExpert:M.a.isWritingExpertWithTeaser(o)}),range:r,order:e({range:r})})}},j.remove=function(e){return b.a.Change.getRemoveAction({range:e},b.a.Change.RemoveType.partial)};var V,U,W=function(){function e(t,n,a,r,i){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6?arguments[6]:void 0,p=arguments.length>7?arguments[7]:void 0,m=arguments.length>8?arguments[8]:void 0,b=arguments.length>9?arguments[9]:void 0,O=arguments.length>10?arguments[10]:void 0,S=this;Object(o.a)(this,e),Object(c.a)(this,"_ded",void 0),Object(c.a)(this,"_alertList",void 0),Object(c.a)(this,"_alertsReader",void 0),Object(c.a)(this,"_alertsService",void 0),Object(c.a)(this,"_alertRangeService",void 0),Object(c.a)(this,"_useHighHighlights",void 0),Object(c.a)(this,"_marksRenderer",void 0),Object(c.a)(this,"_alertsFilterService",void 0),Object(c.a)(this,"_filterChanges",void 0),Object(c.a)(this,"_suggestionsVisualMode",void 0),Object(c.a)(this,"_activeAlertChanges",void 0),Object(c.a)(this,"_marksMap",void 0),Object(c.a)(this,"_log",void 0),Object(c.a)(this,"_subs",void 0),Object(c.a)(this,"_filterKit",void 0),Object(c.a)(this,"_filteredAlerts",void 0),Object(c.a)(this,"_alertStateDiff",void 0),Object(c.a)(this,"events",void 0),Object(c.a)(this,"changeMarks",void 0),Object(c.a)(this,"_getMarkAlert",void 0),Object(c.a)(this,"_isAlertVisible",void 0),Object(c.a)(this,"_getVisibleMarkAlert",void 0),Object(c.a)(this,"getMarkByAlert",void 0),Object(c.a)(this,"getEnclosingMarkByAlert",void 0),Object(c.a)(this,"_isHighlightInteractable",void 0),Object(c.a)(this,"getAlertByMark",void 0),Object(c.a)(this,"_highlightedAlertId",void 0),Object(c.a)(this,"highlightAlertHighlight",void 0),Object(c.a)(this,"_unhighlightAlertHighlight",void 0),Object(c.a)(this,"_onTransitionEnd",void 0),this._ded=t,this._alertList=n,this._alertsReader=a,this._alertsService=r,this._alertRangeService=i,this._useHighHighlights=s,this._marksRenderer=u,this._alertsFilterService=p,this._filterChanges=m,this._suggestionsVisualMode=b,this._activeAlertChanges=O,this._marksMap=new Map,this._log=R.d.Logging.getLogger("MarksViewModelImpl",R.a.LogLevel.DEBUG),this._subs=new x.a.Keeper,this._filterKit=g.a.create(y.g.none),this._filteredAlerts=g.a.create(y.g.none),this._alertStateDiff=this._alertList.state.pipe(A.a.pairwise(),A.a.map((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1];return _.a.diff(n,a)})),A.a.filter(Object(B.m)(L.a.isEmpty))),this.events=new A.a.Subject,this.changeMarks=function(e){return S._ded.changeMarks(e)},this._getMarkAlert=function(e){var t=e.id;return Object(h.pipe)(y.g.fromNullable(S._marksMap.get(t)),y.g.filter(k.a.notAnyOf(k.c.disposed)),y.g.chain((function(e){return Object(h.pipe)(S._alertsReader.getById(e.alert.id),y.g.map((function(t){return{alert:t,markAlert:e}})))})))},this._isAlertVisible=function(e){return Object(h.pipe)(S._filterKit.get(),y.g.filter((function(t){return t.filter(e)})),y.g.isSome)},this._getVisibleMarkAlert=function(e){var t=e.id;return Object(h.pipe)(S._getMarkAlert({id:t}),y.g.filter((function(e){return S._isAlertVisible(e.alert)})))},this.getMarkByAlert=function(e){return Object(h.pipe)(S._getVisibleMarkAlert(e.alert),y.g.chain((function(t){return t.markAlert.markByIndex(e.highlightIndex)})))},this.getEnclosingMarkByAlert=function(e){return Object(h.pipe)(S._getVisibleMarkAlert(e),y.g.chain((function(e){return e.markAlert.enclosingMark})))},this._isHighlightInteractable=function(e){var t=Object(h.pipe)(y.g.fromNullable(S._marksMap.get(e.alert.id)),y.g.fold((function(){return!1}),(function(e){return k.a.isOrWillBe(k.c.highlighted)(e)}))),n=M.a.isVBar(e.alert);return(!Object(h.pipe)(P.a.getHighlightRange(e),y.g.fold((function(){return!1}),w.b.isEnclosingView))||t)&&!n},this.getAlertByMark=function(e){return Object(h.pipe)(S._alertsReader.getInteractable(w.a.fromRangeIdToAlertId(e.id)),y.g.filter(S._isAlertVisible),y.g.chain((function(t){return Object(h.pipe)(D.c.getHighlightIndex(t,e.range()),y.b.map((function(e){return{alert:M.a.fromModel(t),highlightIndex:e}})),y.g.fromEither)})),y.g.filter(S._isHighlightInteractable))},this._highlightedAlertId=y.g.none,this.highlightAlertHighlight=function(e){return Object(h.pipe)(S._getMarkAlert(e),y.g.map((function(e){return e.markAlert})),y.g.filter(k.a.canBeChanged()),y.g.fold((function(){return y.b.left(new Error("Cannot highlight alert"))}),(function(t){return Object(h.pipe)(S._highlightedAlertId,y.g.tap((function(t){S._log.warn("Trying to highlight alert while previously highlighted alert is not unhighlighted",{highlighted:e.id,previous:t}),S._unhighlightAlertHighlight({id:t})}))),S._highlightedAlertId=y.g.some(e.id),t.scheduleApply(k.c.highlighted),S._marksRenderer.enqueue([t],N.b.Priority.asap),y.b.right({dispose:function(){return S._unhighlightAlertHighlight(e)}})})))},this._unhighlightAlertHighlight=function(e){return Object(h.pipe)(e,(function(e){return y.g.exists((function(t){return t===e.id}))(S._highlightedAlertId)||S._log.warn("Trying to unhighlight alert but nothing is highlighted",{alertId:e.id}),S._highlightedAlertId=y.g.none,e}),S._getMarkAlert,y.g.map((function(e){return e.markAlert})),y.g.filter((function(e){return k.a.canBeChanged()(e)&&!k.a.isOrWillBe(k.c.hidden)(e)&&!Object(h.pipe)(S._activeAlertChanges.get(),y.g.exists((function(t){return t.alert.id===e.alert.id})))})),y.g.map((function(e){return S._marksRenderer.enqueue([e.scheduleApply(k.c.visible)],N.b.Priority.asap)})))},this._onTransitionEnd=function(e){return function(t,n){k.c.isApplied(t.to.visualState)&&requestAnimationFrame((function(){Object(h.pipe)(n.mark,y.g.fold((function(){return A.a.of(y.b.left(new Error("Cannot animate mark, as it not exists")))}),(function(e){return Object(h.pipe)(A.a.mergeStatic(A.a.mergeStatic(A.a.timer(300).pipe(A.a.mapTo(y.b.right(Object(f.constVoid)()))),e.fromMarkEvent("animationend"),e.fromMarkEvent("animationcancel")).pipe(A.a.first())))})),Object(f.flow)(A.a.first(),A.a.map(y.b.fold((function(e){return Object(l.a)(e,v.a.CollapsedMarkError)?S._log.debug("Cannot animate applied alert as it is collapsed",e):S._log.error("Cannot animate applied alert",e,{alertId:n.alert.id,currentState:n.state,alertInfo:{title:n.alert.title,patternName:n.alert.patternName}}),A.a.timer(150).pipe(A.a.map(f.constVoid))}),A.a.of))),(function(t){t.subscribe((function(){k.a.isOrWillBe(k.c.disposed)(n)?S._log.info("Alert disposed before apply animation finished"):(S.events.next({type:D.b.Type.AppliedAlertAnimationFinished,alert:e}),C.a.isBulkApplied(e)||S._handleRemovedAlerts([e]))}))}))}))}},this._subs.push(this._listenMarksState(),this._listenFilterChange(),this._listenFilteredAlerts(),this._rerenderAllMarksOnUnderlineModeChange()),Object(B.r)("marksManager",this)}return Object(s.a)(e,[{key:"dispose",value:function(){this._subs.dispose()}},{key:"flush",value:function(){var e=this,t=(new Date).getTime();return this._alertList.flushAlerts(),this._marksRenderer.flush().finally((function(){var n=(new Date).getTime()-t;e._log.info("Flush performed",{duration:n})}))}},{key:"focusAlertHighlight",value:function(e){var t=this;return Object(h.pipe)(this._getMarkAlert(e.alert),y.g.fold((function(){return y.b.left(new Error("Cannot focus given alert"))}),(function(n){return k.a.canBeChanged()(n.markAlert)&&(C.a.isSuperAlert(n.alert)&&n.markAlert.scheduleForceUpdate(),n.markAlert.scheduleApply(k.c.highlighted),t._marksRenderer.enqueue([n.markAlert],N.b.Priority.asap)),y.b.right({dispose:function(){return t._unfocusAlertHighlight(e)}})})))}},{key:"_unfocusAlertHighlight",value:function(e){var t=this;Object(h.pipe)(e.alert,y.g.some,y.g.filter((function(e){return!Object(h.pipe)(t._highlightedAlertId,y.g.exists((function(t){return t===e.id})))})),y.g.chain(this._getMarkAlert),y.g.filter((function(e){return!k.a.isOrWillBe(k.c.hidden)(e.markAlert)&&k.a.canBeChanged()(e.markAlert)})),y.g.map((function(e){k.a.isOrWillBe(k.c.success)(e.markAlert)?(t._handleRemovedAlerts([e.alert]),t._marksRenderer.enqueue([e.markAlert],N.b.Priority.asap)):t._marksRenderer.enqueue([e.markAlert.scheduleApply(k.c.visible)],N.b.Priority.asap)})))}},{key:"moveCursorToHighlight",value:function(e,t){var n=this;return Object(h.pipe)(this._getMarkAlert(e.alert),y.g.chain((function(t){return t.markAlert.markByIndex(e.highlightIndex)})),y.g.chain((function(e){return y.g.fromEither(e.range())})),y.g.fold((function(){return y.b.left(new Error("Cannot find mark for given range"))}),(function(e){var a=n._ded.getCursor(),r=a.index;if(0===a.length&&(r<e.start||r>e.end)){var i=Math.min(e[t],n._ded.getLastPossibleCursorPosition());return Object(h.pipe)(n._ded.setCursor(i,0),y.b.orElse((function(e){return n._log.error("Failed to set cursor to highlight",e,i),y.b.left(e)})))}return y.b.right(void 0)})))}},{key:"ensureAlertHighlightInViewport",value:function(e,t,n){var a=this;return Object(h.pipe)(this._getVisibleMarkAlert(e.alert),y.g.map((function(e){return e.markAlert})),y.g.chain((function(t){return t.markByIndex(e.highlightIndex)})),y.g.fold((function(){return a._log.warn("Cannot ensureAlertHighlightInViewport, because mark is None"),A.a.EMPTY}),(function(e){return a._ded.scrollToMark(e.id,{animate:n,paddingTop:t})})))}},{key:"_listenFilterChange",value:function(){return Object(h.pipe)(this._filterChanges,A.a.map(y.g.some)).subscribe(I.b.toAtom(this._filterKit))}},{key:"getFirstMark",value:function(){var e=this;return this._alertList.state.pipe(A.a.map(_.a.find((function(e){return C.a.isCritical(e.alert)}))),A.b.compactMap((function(t){return A.a.of(Object(h.pipe)(e._getMarkAlert(t.alert),y.g.chain((function(e){return e.markAlert.mark}))))})))}},{key:"_listenFilteredAlerts",value:function(){return this._filterKit.pipe(A.a.withLatestFrom(this._alertList.state),A.a.map((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(h.pipe)(n,y.g.map((function(e){return e.filter})));return Object(h.pipe)(a,_.a.reduce({},(function(e,t){return Object(h.pipe)(r,y.g.map((function(e){return e(t.alert)})),y.g.getOrElse(f.constTrue))&&C.a.isRegistered(t.alert)&&(e[t.alert.id]=t.alert),e})),(function(e){return y.g.some({filter:r,alerts:e})}))}))).subscribe(I.b.toAtom(this._filteredAlerts))}},{key:"_schedule",value:function(e,t){p.tb(e)&&(this._log.trace("Schedule alerts ".concat(e.map((function(e){return e.alert.id}))," to ").concat(t)),this._marksRenderer.enqueue(e.map((function(e){return e.scheduleApply(t)})),N.b.Priority.low))}},{key:"_handleRemovedAlerts",value:function(e){var t=this;Object(h.pipe)(e,p.V((function(e){var n=e.id;return Object(h.pipe)(t._marksMap.get(n),y.g.fromNullable,y.g.tap((function(){return t._marksMap.delete(n)})))})),m.I,y.g.tap((function(e){return t._schedule(e,k.c.disposed)})))}},{key:"_handleUpdatedAlerts",value:function(e){var t=this;if(e.length){var n=Object(h.pipe)(this._filteredAlerts.get(),y.g.chain((function(e){return e.filter}))),a=e.reduce((function(e,a){return t._alertsFilterService.alertCanBeDisplayed(a)||C.a.isBulkApplied(a)?Object(h.pipe)(y.g.fromNullable(t._marksMap.get(a.id)),y.g.fold((function(){Object(h.pipe)(n,y.g.map((function(e){return e(a)})),y.g.getOrElse((function(){return!0})))&&e.activeToHandle.push(a)}),(function(e){e.scheduleUpdate(),k.a.isOrWillBe(k.c.success)(e)?e.scheduleApply(k.c.highlighted):t._marksRenderer.enqueue([e],N.b.Priority.asap)}))):Object(h.pipe)(y.g.fromNullable(t._marksMap.get(a.id)),y.g.map((function(n){a.allowUpdate&&C.a.isCapiDone(a)&&C.a.isRated(a)&&k.a.isOrWillBe(k.c.highlighted)(n)?(n.scheduleUpdate(),n.scheduleApply(k.c.success),t._marksRenderer.enqueue([n],N.b.Priority.asap)):e.removedToHandle.push(a)}))),e}),{activeToHandle:[],removedToHandle:[]}),r=a.activeToHandle,i=a.removedToHandle;this._handleVisibleAlerts(r),this._handleRemovedAlerts(i)}}},{key:"_handleVisibleAlerts",value:function(e){var t=this;if(!p.sb(e)){var n=e.map((function(e){if(t._marksMap.has(e.id))return t._marksMap.get(e.id);var n=C.a.isSuperAlert(e)?r.byAhr(t._activeAlertChanges.view(Object(f.flow)(y.g.filter((function(t){return t.alert.id===e.id})),y.g.chain((function(n){return Object(h.pipe)(y.g.fromNullable(e.getHighlightRanges()[n.highlightIndex]),y.g.tapLeft((function(){return t._log.error("Alert highlight ranges do not contain a range at the given AHI",{knownHighlightRangesCount:e.getHighlightRanges().length,highlightIndex:n.highlightIndex})})))}))))):r.byRangeType(e),i=function(r){return function({getMarkType:e,theme:t}){return({state:n,range:a,isAnimated:r,isBulkApplied:i,isEnclosed:o})=>{const s=e(a()),c=(n===k.c.applied||n===k.c.success)&&[t.markAppliedBase,t.markHeight]||["vbar","vbar_partial"].includes(s)&&[]||[t.markLensBase,t.markHeight];switch(n){case k.c.faded:r&&c.push(t.markAnimated);break;case k.c.visible:{const e="underline_start"===s;switch(s){case"writing_expert":break;case"writing_expert_partial":c.push(t.markWritingExpert);break;case"vbar_partial":break;case"vbar":c.push(t.markVBar);break;case"focus":case"enclosing":c.push(t.markHidden);break;case"full":case"background":case"underline":case"underline_start":c.push(t.markVisible),r&&c.push(t.markAnimated),i?c.push(t.markBulkApplied):e&&c.push(t.markStart);break;default:Object(O.c)(s)}break}case k.c.highlighted:{const e="underline_start"===s;switch(s){case"writing_expert":c.push(t.markSelected,t.markWritingExpertHighlighted);break;case"writing_expert_partial":c.push(t.markWritingExpert);break;case"vbar_partial":break;case"full":case"focus":c.push(t.markSelected,t.markSelectedFocused,t.markVisible),i&&c.push(t.markBulkApplied);break;case"vbar":c.push(t.markVBar,t.markVBarHighlighted);break;case"enclosing":case"background":c.push(t.markSelected,t.markVisible);break;case"underline":case"underline_start":c.push(t.markSelectedFocused,t.markVisible),o&&c.push(t.markSelected),e&&c.push(t.markStart);break;default:Object(O.c)(s)}r||c.push(t.noAnimation);break}case k.c.hidden:c.push(t.markHidden);break;case k.c.success:c.push("background"===e(a())?t.markSuccess:t.markHidden);break;case k.c.applied:c.push(i?t.markBulkAppliedAnimation:t.markApplied);break;case k.c.initial:case k.c.disposed:break;default:Object(O.c)(n)}return c}}({getMarkType:n,theme:a.fromAlert(e,t._useHighHighlights,Object(H.a)(t._suggestionsVisualMode.get()))})(r)},o=function(n){return Object(h.pipe)(t._alertsReader.getById(e.id),y.g.alt((function(){return Boolean(n)&&t._log.warn("Could not find alert for provided MarkAlert",{alert:e,source:n}),y.g.some(e)})),y.g.map(M.a.fromModel),y.g.unsafeGet)},s=function(t){var n=t.range,a=S.a.getSortOrder(e.lensType);return w.b.isEnclosingView(n())?a+1:a},c=C.a.hasEnclosingHighlight(e),l=new T.a(o,t._alertsService,t._alertRangeService,t.changeMarks,E.create(s,i,o,c),E.update(s,i,o,c),E.remove,t._onTransitionEnd(e));return t._marksMap.set(e.id,l),l})).filter((function(e){return k.a.isOneOf(k.c.initial)(e)||k.a.isOrWillBe(k.c.hidden)(e)||k.a.isOrWillBe(k.c.visible)(e)||k.a.isOrWillBe(k.c.faded)(e)}));this._schedule(n,k.c.visible)}}},{key:"_handleAcceptedAlerts",value:function(e){var t=this;return Object(h.pipe)(e,p.zb(this._getMarkAlert),p.G,(function(e){e.length&&(C.a.isBulkApplied(e[0].alert)||t.moveCursorToHighlight({alert:M.a.fromModel(e[0].alert),highlightIndex:0},"end"),t._marksRenderer.enqueue(e.map((function(e){return e.markAlert.scheduleApply(k.c.applied)})),N.b.Priority.immediately))}))}},{key:"_rerenderAllMarksOnUnderlineModeChange",value:function(){var e=this;return this._suggestionsVisualMode.pipe(A.a.skip(1)).subscribe((function(){var t=Array.from(e._marksMap.values());t.forEach((function(e){return e.scheduleForceUpdate()})),e._marksRenderer.enqueue(t.map((function(e){return e.scheduleForceUpdate(),e})),N.b.Priority.low)}))}},{key:"_listenMarksState",value:function(){var e=this,t=function(e){return Object(u.a)({activeAlerts:[],updatedAlerts:[],removedAlerts:[],acceptedAlerts:[],hiddenMarkAlerts:[]},e)};return A.a.mergeStatic(this._filteredAlerts.pipe(A.b.compactMap((function(n){var a=n.alerts;return A.a.of(t({hiddenMarkAlerts:Array.from(e._marksMap.values()).filter((function(e){return void 0===a[e.alert.id]&&k.a.notAnyOf(k.c.applied,k.c.success)(e)&&!C.a.State.isBulkApplied(e.alert.state)})),activeAlerts:F.e.toArray(a)}))}))),this._alertStateDiff.pipe(A.a.withLatestFrom(this._filteredAlerts),A.a.map((function(n){var a=Object(d.a)(n,2),r=a[0],i=a[1];return Object(h.pipe)(r,L.a.reduce(t({}),(function(t,n){return e._marksMap.has(n.alert.id)&&t.removedAlerts.push(n.alert),t}),(function(e,t){return C.a.isAccepted(t.alert)?e.acceptedAlerts.push(t.alert):e.updatedAlerts.push(t.alert),e}),(function(e,t){return Object(h.pipe)(i,y.g.chain((function(e){return e.filter})),y.g.fold((function(){return e.activeAlerts.push(t.alert)}),(function(n){return n(t.alert)&&e.activeAlerts.push(t.alert)}))),e})))})))).pipe(A.a.tap((function(t){var n=t.activeAlerts,a=t.removedAlerts,r=t.updatedAlerts,i=t.acceptedAlerts,o=t.hiddenMarkAlerts;return e._handleRemovedAlerts(a),e._handleUpdatedAlerts(r),e._handleVisibleAlerts(n),e._handleAcceptedAlerts(i),e._schedule(o,k.c.hidden),function(){return e._marksRenderer.dispose()}})),A.a.catchError(this._log.handler("_listenMarksState exception").error),A.a.retry()).subscribe()}}]),e}();V=W||(W={}),U=function(){function e(){Object(o.a)(this,e),Object(c.a)(this,"events",new A.a.Subject),Object(c.a)(this,"dispose",f.constVoid),Object(c.a)(this,"focusAlertHighlight",(function(){return y.b.left(new Error("Method not implemented."))})),Object(c.a)(this,"highlightAlertHighlight",(function(){return y.b.left(new Error("Method not implemented."))})),Object(c.a)(this,"moveCursorToHighlight",(function(){return y.b.left(new Error("Method not implemented."))}))}return Object(s.a)(e,[{key:"getFirstMark",value:function(){throw new Error("Method not implemented.")}},{key:"flush",value:function(){return Promise.resolve()}},{key:"ensureAlertHighlightInViewport",value:function(){throw new Error("Method not implemented.")}},{key:"getEnclosingMarkByAlert",value:function(e){throw new Error("Method not implemented.")}},{key:"getMarkByAlert",value:function(e){throw new Error("Method not implemented.")}},{key:"getAlertByMark",value:function(e){throw new Error("Method not implemented.")}}]),e}(),V.Mock=U},huq3:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n("B8yO"),r=n("7LqD"),i=n("tREI"),o=n("XGPX");class s{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return(null==t?void 0:t.childNodes)||[]}constructor(e){this.keyMap=new Map,this.iterable=e;let t,n=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&"section"===e.type)for(let t of e.childNodes)n(t)};for(let t of e)n(t);let a=0;for(let[e,n]of this.keyMap)t?(t.nextKey=e,n.prevKey=t.key):(this.firstKey=e,n.prevKey=void 0),"item"===n.type&&(n.index=a++),t=n,t.nextKey=void 0;this.lastKey=null==t?void 0:t.key}}function c(e){let{filter:t}=e,n=(0,r.b)(e),o=(0,a.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),c=(0,a.useCallback)(e=>new s(t?t(e):e),[t]),l=(0,a.useMemo)(()=>({suppressTextValueWarning:e.suppressTextValueWarning}),[e.suppressTextValueWarning]),u=(0,i.i)(e,c,l),d=(0,a.useMemo)(()=>new(0,r.a)(u,n),[u,n]);const p=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(null!=n.focusedKey&&!u.getItem(n.focusedKey)){const e=p.current.getItem(n.focusedKey),t=[...p.current.getKeys()].map(e=>{const t=p.current.getItem(e);return"item"===t.type?t:null}).filter(e=>null!==e),a=[...u.getKeys()].map(e=>{const t=u.getItem(e);return"item"===t.type?t:null}).filter(e=>null!==e),r=t.length-a.length;let i,o=Math.min(r>1?Math.max(e.index-r+1,0):e.index,a.length-1);for(;o>=0;){if(!d.isDisabled(a[o].key)){i=a[o];break}o<a.length-1?o++:(o>e.index&&(o=e.index),o--)}n.setFocusedKey(i?i.key:null)}p.current=u},[u,d,n,n.focusedKey]),{collection:u,disabledKeys:o,selectionManager:d}}function l(e){var t;let[n,r]=(0,o.b)(e.selectedKey,null!==(t=e.defaultSelectedKey)&&void 0!==t?t:null,e.onSelectionChange),i=(0,a.useMemo)(()=>null!=n?[n]:[],[n]),{collection:s,disabledKeys:l,selectionManager:u}=c({...e,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:i,onSelectionChange:t=>{let a=t.values().next().value;a===n&&e.onSelectionChange&&e.onSelectionChange(a),r(a)}}),d=null!=n?s.getItem(n):null;return{collection:s,disabledKeys:l,selectionManager:u,selectedKey:n,setSelectedKey:r,selectedItem:d}}},hwDs:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n("Vv+i"),r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("4mQT"),c=n("t5lx"),l=n("B8yO"),u=n("DTwm"),d=n("tiWp"),p=n("OwvP"),m=n("lXTq"),f=n("mgiE"),h=n("XGsl"),g=n("EFMT"),b=n("UDju"),v=n("zHRX"),y=n("/XMJ"),O=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(r.a)(this,n),e=t.apply(this,arguments),Object(o.a)(Object(a.a)(e),"_el",void 0),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this._el.children;this.props.onElementsReady({header:e[0].outerHTML,stats:e[1].outerHTML,text:e[2].outerHTML,footer:e[3].outerHTML})}},{key:"render",value:function(){var e,t=this,n=this.props.model,a=(e=n.plagiarism,Object(d.pipe)(e,f.g.filter((function(e){return e.state===m.a.PlagiarismCheckingState.CHECKED})),f.g.map((function(e){return e.sortedAlerts})),f.g.getOrElse((function(){return[]}))));return l.createElement("div",{ref:function(e){null!==e&&(t._el=e)}},l.createElement(g.d,{title:n.title}),l.createElement(g.b,{model:n}),l.createElement("div",null,l.createElement(v.a,{html:n.dedHTML,title:n.title,alerts:n.sortedAlerts,plagiarism:a}),l.createElement(b.a,{alerts:n.sortedAlerts,plagiarism:a})),l.createElement(g.c,null))}}]),n}(l.Component);var S=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"_prepareHTML",value:function(e){return'<!doctype html><html lang="en" style="--rem: 23.8;"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Report</title><style>'+Object(y.a)()+"</style></head>"+"<body>".concat(e,"</body>")+"</html>"}},{key:"render",value:function(){var e=this,t=this.props.reportViewModel;return l.createElement(p.a.div,{className:h.a.invisible},t.reportData.view(Object(u.flow)(f.g.map((function(n){return l.createElement(O,{model:n,onElementsReady:function(n){var a=n.header,r=n.footer,i=n.stats,o=n.text;return t.generateReport(e._prepareHTML(i+o),a,r)}})})),f.g.toNullable)))}}]),n}(l.Component)},iD3t:function(e,t,n){"use strict";n.d(t,"a",(function(){return Y}));var a=n("B8yO"),r=n("OwvP"),i=n("TKPA"),o=n("ldOx"),s=n("fC5a"),c=n("ySi0"),l=n("/7y/"),u=n("NDcT"),d=n("wuWi"),p=n("2swC"),m=n("nWMp"),f=n("NbNH");const h={position:"fixed",bottom:m.a.rem(1),right:m.a.rem(1),zIndex:f.j,width:m.a.rem(20),padding:m.a.rem(2),background:p.a.CoreNeutral0,transition:`transform ${m.a.seconds(.1)} linear ${m.a.seconds(.1)}`,transform:"perspective(100)",borderRadius:m.a.rem(f.s),boxShadow:"0 12px 48px 0 rgba(96, 101, 123, .24)"},g={transitionDelay:m.a.seconds(0),transform:"perspective(100) rotateY(90deg)"},b={transform:"perspective(100) rotateY(-90deg)"},v={paddingBottom:m.a.rem(1)},y={marginBottom:m.a.rem(1)},O={width:m.a.percent(100),borderRadius:m.a.rem(f.t),padding:`${m.a.rem(.5)} 0 ${m.a.rem(.5)} ${m.a.rem(.5)}`,lineHeight:m.a.rem(1.3125),margin:"0 2px"},S={width:m.a.rem(1),height:m.a.rem(1),minHeight:m.a.rem(1),display:"inline-block",verticalAlign:"top",marginLeft:m.a.rem(.25)},C={color:p.a.CoreBlue50,textDecoration:"none"},w={paddingTop:m.a.rem(2),height:m.a.rem(15),flexGrow:1},k={marginBottom:m.a.rem(.5)},E={$nest:{"& p":{marginTop:m.a.rem(1),marginBottom:m.a.rem(1)},"& p:last-child":{marginBottom:0},"& ul":{paddingLeft:m.a.rem(2)},"& a":{color:p.a.CoreBlue50,textDecoration:"none"}}},j={marginTop:m.a.rem(1),marginBottom:m.a.rem(1)},_={marginTop:m.a.rem(1)},x=m.a.stylesheet({notification:[h],rotateHide:[h,g],rotateShow:[h,b],closeIcon:[{position:"absolute",top:0,right:0}],question:[v],questionText:[y],answerBtn:[O],answer:[{whiteSpace:"normal"}],outcomeIcon:[S],learnMoreLink:[C],completionScreen:[{display:"flex",flexDirection:"column",alignItems:"flex-start"}],completionContent:[w],completionHeader:[k],badExperience:[E],openQuestion:[j],contactSupport:[_]}),A=({onComplete:e})=>{const t=a.useContext(u.a.Context).gbSatisfactionSurvey.thankYou;return a.createElement(r.a.div,{className:x.completionScreen},a.createElement(c.d.NotificationInfo,{width:40}),a.createElement("div",{className:x.completionContent},a.createElement(d.e,{className:x.completionHeader},t)," "),a.createElement(s.a.Primary,{name:"survey.done",onClick:e},"done"))};var I=n("t39C");const T=({answerType:e,viewModel:t,children:n})=>a.createElement(s.a.Flat,{className:x.answerBtn,name:"answer."+e,onClick:()=>t.answer(e)},a.createElement("span",{className:x.answer},n));var M=l.b.Experience;const P=({viewModel:e})=>{const t=a.useContext(u.a.Context).premiumOnboardingSurvey.firstQuestion;return a.createElement("div",{className:x.question},a.createElement(d.e,{className:x.questionText},t.question),a.createElement(T,{answerType:M.VerySatisfied,viewModel:e},a.createElement(I.b,null,"😄")," ",t.answers.verySatisfied),a.createElement(T,{answerType:M.SomewhatSatisfied,viewModel:e},a.createElement(I.b,null,"🙂")," ",t.answers.somewhatSatisfied),a.createElement(T,{answerType:M.Neutral,viewModel:e},a.createElement(I.b,null,"😐")," ",t.answers.neutral),a.createElement(T,{answerType:M.SomewhatDissatisfied,viewModel:e},a.createElement(I.b,null,"🙁")," ",t.answers.somewhatDissatisfied),a.createElement(T,{answerType:M.VeryDissatisfied,viewModel:e},a.createElement(I.b,null,"😞")," ",t.answers.veryDissatisfied))};var N=l.b.dissatisfactionReasons,D=l.b.adminSatisfactionReasons,B=l.b.teamMemberSatisfactionReasons;const L=({viewModel:e})=>a.createElement(r.a.div,{className:x.question},e.state.view(l.a.isSecondQuestionAboutDissatisfaction).view(Object(i.c)(a.createElement(F,{viewModel:e}),a.createElement(R,{viewModel:e})))),F=({viewModel:e})=>{const t=a.useContext(u.a.Context).gbSatisfactionSurvey.secondDissatisfactionQuestion,n=t.answers[e.isAdmin?"admin":"teamMember"];return a.createElement(a.Fragment,null,a.createElement(d.e,{className:x.questionText},t.question),N.map(t=>a.createElement(T,{key:t,answerType:t,viewModel:e},n[t])))},R=({viewModel:e})=>{const t=a.useContext(u.a.Context).gbSatisfactionSurvey.secondSatisfactionQuestion,n=e.isAdmin?D.map(n=>a.createElement(T,{key:n,answerType:n,viewModel:e},t.answers.admin[n])):B.map(n=>a.createElement(T,{key:n,answerType:n,viewModel:e},t.answers.teamMember[n]));return a.createElement(a.Fragment,null,a.createElement(d.e,{className:x.questionText},t.question),n)};var H=n("+vYo"),V=n("skc2"),U=n("6Fzp"),W=n("ksEe"),z=n("Butu");const G=({viewModel:e,onComplete:t})=>a.createElement(r.a.div,{className:x.question},e.state.view(l.a.isSecondQuestionAboutDissatisfaction).view(Object(i.c)(a.createElement($,{viewModel:e,onComplete:t}),a.createElement(Z,{viewModel:e})))),q=({onComplete:e})=>{const t=a.useContext(U.a.Context),n=a.useContext(W.a.Context),r=a.useContext(u.a.Context).gbSatisfactionSurvey.thirdDissatisfactionQuestion;return a.createElement(a.Fragment,null,a.createElement(d.a,{className:x.badExperience},r.admin.TechnicalDifficulties),a.createElement(s.a.Primary,{className:x.contactSupport,name:"survey.done",onClick:()=>{e(),n.actions.openPopup(new V.a(t.support.newRequest))}},"Contact support"))},K=({viewModel:e})=>{const t=a.useContext(u.a.Context).gbSatisfactionSurvey.thirdDissatisfactionQuestion[e.isAdmin?"admin":"teamMember"].DidntFindItValuable,{title:n,answers:r}=t;return a.createElement(a.Fragment,null,a.createElement(d.e,{className:x.questionText},n),Object.keys(r).map(t=>{const n=r[t];return a.createElement(T,{key:t,answerType:t,viewModel:e},n)}))},$=({viewModel:e,onComplete:t})=>{const n=a.useContext(U.a.Context),r=[n.extension.chrome.installURL,n.extension.edge.infoURL,n.extension.firefox.installURL,n.extension.safari.installURL,n.funnel.keyboardInstall,n.funnel.desktopAppInstall],i=a.useContext(u.a.Context).gbSatisfactionSurvey.thirdDissatisfactionQuestion,o=H.a.create(""),c=e.state.view(l.a.getSecondQuestionAnswer).get();return e.isAdmin&&"TechnicalDifficulties"===c?a.createElement(q,{onComplete:t}):"DidntFindItValuable"===c?a.createElement(K,{viewModel:e}):a.createElement(a.Fragment,null,a.createElement(d.a,{className:x.badExperience},(()=>{if(e.isAdmin){if("DoesntIntegrateWithAnAppIUse"===c)return i.admin.DoesntIntegrateWithAnAppIUse(...r)}else{if("DoesntIntegrateWithAnAppIUse"===c)return i.teamMember.DoesntIntegrateWithAnAppIUse(...r);if("NotSureWhatGrammarlyBusinessDoes"===c)return i.teamMember.NotSureWhatGrammarlyBusinessDoes(...r)}return i[e.isAdmin?"admin":"teamMember"][c]})()),a.createElement(z.d,{name:"survey-feedback-disliked",className:x.openQuestion,autofocus:!0,value:o}),a.createElement(s.a.Primary,{name:"survey.done",disabled:o.view(e=>!e),onClick:()=>e.answer(o.get())},"Share feedback"))},Z=({viewModel:e})=>{const t=a.useContext(u.a.Context).gbSatisfactionSurvey.thirdSatisfactionQuestion,n=H.a.create("");return a.createElement(a.Fragment,null,a.createElement(d.e,{className:x.questionText},t.title),a.createElement(d.a,null,t.question),a.createElement(z.d,{name:"survey-feedback-liked",className:x.openQuestion,autofocus:!0,value:n}),a.createElement(s.a.Primary,{name:"survey.done",disabled:n.view(e=>!e),onClick:()=>e.answer(n.get())},"Share feedback"))},Y=({viewModel:e,onClose:t,onComplete:n})=>a.createElement(X,{viewModel:e},r=>a.createElement(a.Fragment,null,l.a.isFirstQuestion(r)?a.createElement(P,{viewModel:e}):l.a.isSecondQuestion(r)?a.createElement(L,{viewModel:e}):l.a.isThirdQuestion(r)?a.createElement(G,{viewModel:e,onComplete:n}):a.createElement(A,{onComplete:n}),a.createElement(s.a,{name:"survey-close",className:x.closeIcon,onClick:l.a.isThirdQuestion(r)?n:t},a.createElement(c.d.Close,null)))),X=({viewModel:e,children:t})=>a.createElement(o.a,{state:e.state,stateToClassMapper:(e,t)=>{const[n,a]=e&&l.a.isFirstQuestion(e)&&l.a.isSecondQuestion(t)||e&&l.a.isSecondQuestion(e)&&l.a.isThirdQuestion(t)||e&&l.a.isThirdQuestion(e)&&l.a.isCompleted(t)?[x.rotateHide,x.rotateShow]:[x.notification,x.notification];return{prev:{start:x.notification,end:n},next:{start:a,end:x.notification}}}},e=>a.createElement(r.a.div,{className:e.view,onTransitionEnd:"prev"===e.type?e.done:i.e},t(e.state)))},iUFV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("xk6L");!function(e){e.create=function(){return{doubleClickedWord:new r.a.Subject}}}(a||(a={}))},imRW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("a5gI"),r=n("xk6L");class i{static copy(e,t){this._clearSelection();const n=this._createHiddenSpan(e);return this.select(n),this._copy(e,t).then(()=>{n.parentElement.removeChild(n)}).catch(e=>{throw n.parentElement.removeChild(n),e})}static select(e){if(Boolean(window.getSelection)&&Boolean(document.createRange)){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}else if("createTextRange"in document.body&&"selection"in document){const e=document.body.createTextRange();e.moveToElementText(this),e.select()}}static _clearSelection(){const e=Boolean(window.getSelection)?window.getSelection():document.selection;"removeAllRanges"in e?e.removeAllRanges():"empty"in e&&e.empty()}static _createHiddenSpan(e){const t=document.createElement("span");return t.setAttribute("style",["all: unset","position: fixed","top -999px","left -999px","opacity: 0","background transparent","white-space: pre","-webkit-user-select: text","-moz-user-select: text","-ms-user-select: text","user-select: text"].join(";")),t.textContent=e,document.body.appendChild(t),t}static _copy(e,t){return new Promise((n,a)=>{try{const r=t?window.clipboardData.setData("text",e):document.execCommand("copy");Boolean(r)?n():a(new Error("Copy API doesn't work"))}catch(e){a(e)}})}}Object(a.a)(i,"copyApiAvailable",new r.a.BehaviorSubject(!0));try{r.a.fromEvent(window,"click").pipe(r.a.first()).subscribe(()=>{document.queryCommandSupported("copy")||i.copyApiAvailable.next(!1)})}catch(e){i.copyApiAvailable.next(!1)}},itj6:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c}));var a,r,i,o,s,c,l=n("TKPA"),u=n("0kuo"),d=n("hzat"),p=n("VAZM");!function(e){let t,n;function r(e){return e.type===a.Type.takeawayCorrectlyDetected||e.type===a.Type.takeawayIncorrectlyDetected}function i(e){return e.type===a.Type.bulkApply}function o(e){return e.type===a.Type.bulkDismiss}function s(e){return e.type===a.Type.bulkIgnore}function c(e){return e.type===a.Type.bulkHighlight}function u(e){return e.type===a.Type.bulkUndo}function m(e){return e.type===a.Type.bulkIndividualUndo}function f(e){return e.type===a.Type.bulkLooksGood}!function(e){e.switchToNext="switchToNext",e.switchToClosestByViewport="switchToClosestByViewport",e.alertMinicardButtonClick="alertMinicardButtonClick",e.cardMatchesNavigationButtonClick="cardMatchesNavigationButtonClick",e.openSetGoals="setGoals",e.alertCardShow="alertCardShow",e.moreAlertsButtonShow="moreAlertsButtonShow",e.alternativeReplacementRadioButtonClick="alternativeReplacementRadioButtonClick",e.alertApply="alertApply",e.alertFeedback="alertFeedback",e.hover="hover",e.onboardingClose="onboardingClose",e.muteAlertCategory="muteAlertCategory",e.undoMuteAlertCategory="undoMuteAlertCategory",e.premiumTrialFooterCtaClick="premiumTrialFooterCtaClick",e.toSignIn="toSignIn",e.moreActionsButtonToggle="moreActionsButtonToggle",e.openPreferences="preferences",e.dismissMuteQuotedAdvice="dismissMuteQuotedAdvice",e.fullSentenceHighlightChangesToggle="fullSentenceHighlightChangesToggle",e.muteQuotedAdviceShow="muteQuotedAdviceShow",e.alertIgnore="alertIgnore",e.alertResolve="alertResolve",e.alertIgnoreFormSubmit="alertIgnoreFormSubmit",e.alertApplyFormSubmit="alertApplyFormSubmit",e.alertIgnoreFeedbackFormShow="alertIgnoreFeedbackFormShow",e.gbPromptApply="gbPromptApply",e.gbPromptCreateRule="gbPromptCreateRule",e.gbPromptDismiss="gbPromptDismiss",e.gbPromptShow="gbPromptShow",e.takeawayCorrectlyDetected="takeawayCorrectlyDetected",e.takeawayIncorrectlyDetected="takeawayIncorrectlyDetected",e.takeawayDismiss="takeawayDismiss",e.takeawayResolve="takeawayResolve",e.changeUserInput="changeUserInput",e.focusUserInput="focusUserInput",e.miniItemClick="miniItemClick",e.bulkApply="bulkApply",e.bulkDismiss="bulkDismiss",e.bulkIgnore="bulkIgnore",e.bulkHighlight="bulkHighlight",e.bulkIndividualUndo="bulkIndividualUndo",e.bulkUndo="bulkUndo",e.bulkAcceptItemShow="bulkAcceptItemShow",e.bulkLooksGood="bulkLooksGood",e.mutedAlertSuccessShow="mutedAlertSuccessShow",e.mutedAlertSuccessDismissed="mutedAlertSuccessDismissed",e.mutedAlertSuggestionManagementClick="mutedAlertSuggestionManagementClick",e.toneAIChangeToneAlternative="toneAIChangeToneAlternative",e.shortenItReviewEdit="shortenItReviewEdit",e.shortenItDismissEdit="shortenItDismissEdit",e.shortenItKeepEdit="shortenItKeepEdit",e.sduiCardAction="sduiCardAction",e.openIdeasGallery="openIdeasGallery",e.ethicalAIOpenExternalLink="ethicalAIOpenExternalLink",e.createSnippet="createSnippet",e.snippetsOpenExternalLink="manageSnippetsOpenExternalLink",e.suggestedSnippetSuccessDismissed="suggestedSnippetSuccessDismissed",e.listItemClick="listItemClick"}(t=e.Type||(e.Type={})),function(e){e.defaultCard="defaultCard",e.superCard="superCard"}(n=e.CardType||(e.CardType={})),e.getCardType=function(e){switch(e.activeAlert.type){case d.a.Type.super:return n.superCard;case d.a.Type.default:default:return n.defaultCard}},e.isAlertApplyAction=function(e){return e.type===a.Type.alertApply},e.isAlertFeedbackAction=function(e){return e.type===a.Type.alertFeedback},e.isTakeawayCorrectlyDetectedAction=function(e){return e.type===a.Type.takeawayCorrectlyDetected},e.isTakeawayIncorrectlyDetectedAction=function(e){return e.type===a.Type.takeawayIncorrectlyDetected},e.isTakeawayDismissAction=function(e){return e.type===a.Type.takeawayDismiss},e.isTakeawayResolveAction=function(e){return e.type===a.Type.takeawayResolve},e.isTakeawayDetectionFeedbackAction=r,e.isTakeawayAction=function(e){return r(e)||e.type===a.Type.takeawayDismiss||e.type===a.Type.takeawayResolve},e.isToneAIChangeToneAlternativeAction=function(e){return e.type===a.Type.toneAIChangeToneAlternative},e.isEthicalAIOpenExternalLinkAction=function(e){return e.type===a.Type.ethicalAIOpenExternalLink},e.isSnippetsOpenExternalLink=function(e){return e.type===a.Type.snippetsOpenExternalLink},e.isAlertIgnoreAction=function(e){return e.type===a.Type.alertIgnore},e.isAlertResolveAction=function(e){return e.type===a.Type.alertResolve},e.isAlertIgnoreFeedbackFormSubmit=function(e){return e.type===a.Type.alertIgnoreFormSubmit},e.isAlertApplyFeedbackFormSubmit=function(e){return e.type===a.Type.alertApplyFormSubmit},e.isGbPromptApply=function(e){return e.type===a.Type.gbPromptApply},e.isGbPromptCreateRule=function(e){return e.type===a.Type.gbPromptCreateRule},e.isGbPromptDismiss=function(e){return e.type===a.Type.gbPromptDismiss},e.isGbPromptShow=function(e){return e.type===a.Type.gbPromptShow},e.isMuteCategoryAction=function(e){return e.type===a.Type.muteAlertCategory},e.isUndoMuteCategoryAction=function(e){return e.type===a.Type.undoMuteAlertCategory},e.isMutedAlertCardDismissedAction=function(e){return e.type===a.Type.mutedAlertSuccessDismissed},e.isCreateSnippetAction=function(e){return e.type===a.Type.createSnippet},e.isSuggestedSnippetSuccessDismissed=function(e){return e.type===a.Type.suggestedSnippetSuccessDismissed},e.isHoverAction=function(e){return e.type===a.Type.hover},e.isAlertCardShow=function(e){return e.type===a.Type.alertCardShow},e.isBulkAcceptItemShow=function(e){return e.type===a.Type.bulkAcceptItemShow},e.isSwitchToClosestByViewport=function(e){return e.type===a.Type.switchToClosestByViewport},e.isAlertMinicardButtonClick=function(e){return e.type===a.Type.alertMinicardButtonClick},e.isMiniItemClick=function(e){return e.type===a.Type.miniItemClick},e.isChecklistItemCollapseButtonClick=function(e){return e.type===p.a.Type.collapseButtonClick},e.isOnboardingClose=function(e){return e.type===a.Type.onboardingClose},e.isNavigation=function(e){return e.type===a.Type.openSetGoals||e.type===a.Type.openPreferences},e.isDismissMuteQuotedAdvice=function(e){return e.type===a.Type.dismissMuteQuotedAdvice},e.isMuteQuotedAdviceShow=function(e){return e.type===a.Type.muteQuotedAdviceShow},e.isChangeUserInput=function(e){return e.type===a.Type.changeUserInput},e.isFocusUserInput=function(e){return e.type===a.Type.focusUserInput},e.isBulkApply=i,e.isBulkDismiss=o,e.isBulkIgnore=s,e.isBulkHighlight=c,e.isBulkUndo=u,e.isBulkIndividualUndo=m,e.isBulkLooksGood=f;e.isBulkAction=Object(l.p)(i,o,s,c,m,f,u);let h;e.isMutedAlertSuggestionsManagementClick=function(e){return e.type===a.Type.mutedAlertSuggestionManagementClick},e.isSDUICardAction=function(e){return e.type===a.Type.sduiCardAction},function(e){e.hasAction=function(e,t){return e.actions.some(e=>e.type===t)}}(h=e.ProxySduiCardAction||(e.ProxySduiCardAction={})),e.isOpenIdeasGallery=function(e){return e.type===a.Type.openIdeasGallery},e.isListItemClick=function(e){return e.type===a.Type.listItemClick};e.hasClickPoint=Object(l.p)(a.isBulkHighlight,a.isAlertMinicardButtonClick,a.isListItemClick)}(a||(a={})),function(e){let t;!function(e){e.drilldown="synfonyDrilldownSelect",e.back="synfonyDrilldownBack"}(t=e.Kind||(e.Kind={})),e.isDrilldown=function(e){return e.type===t.drilldown},e.isBack=function(e){return e.type===t.back}}(r||(r={})),function(e){e.isReviewEdit=function(e){return e.type===a.Type.shortenItReviewEdit},e.isDismissEdit=function(e){return e.type===a.Type.shortenItDismissEdit},e.isKeepEdit=function(e){return e.type===a.Type.shortenItKeepEdit}}(i||(i={})),function(e){let t;function n(e){return e.type===t.startTransitionTo}!function(e){e.startTransitionTo="startTransitionTo",e.completeTransitionTo="completeTransitionTo"}(t=e.Kind||(e.Kind={})),e.isStartTransitionTo=n,e.isCardExpand=function(e){return n(e)&&"expanded"===e.transition.type},e.isCompleteTransitionTo=function(e){return e.type===t.completeTransitionTo}}(o||(o={})),function(e){let t;!function(e){e.dismissBatch="dismissBatch"}(t=e.Kind||(e.Kind={})),e.isDismissAlertsBatchAction=function(e){return e.type===t.dismissBatch}}(s||(s={})),function(e){let t;!function(e){e.setAcademicDomainAndCitationStyle="setAcademicDomainAndCitationStyle"}(t=e.Kind||(e.Kind={})),e.isSetAcademicDomainAndCitationStyleAction=function(e){return e.type===t.setAcademicDomainAndCitationStyle}}(c||(c={})),Object(u.d)(void 0)},ivjH:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n("Vv+i"),r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("4mQT"),c=n("8O/t"),l=n("X76w"),u=n("t5lx"),d=n("DTwm"),p=n("M5RY"),m=n("B/Ki"),f=n("GMJx"),h=n("La5+"),g=n("xk6L"),b=n("IjjT"),v=n("TKPA"),y=n("mgiE"),O=n("M3t0"),S=n("9UoD"),C=p.import("core/module"),w=p.import("parchment"),k=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e,i){var s;Object(r.a)(this,n),s=t.call(this,e,i),Object(o.a)(Object(a.a)(s),"quill",void 0),Object(o.a)(Object(a.a)(s),"_options",void 0),Object(o.a)(Object(a.a)(s),"_subs",void 0),Object(o.a)(Object(a.a)(s),"_log",void 0),Object(o.a)(Object(a.a)(s),"_lastRecorded",void 0),Object(o.a)(Object(a.a)(s),"_ignoreChange",void 0),Object(o.a)(Object(a.a)(s),"_stack",void 0),Object(o.a)(Object(a.a)(s),"_anonymizedOperationsCache",void 0),Object(o.a)(Object(a.a)(s),"_changed",void 0),Object(o.a)(Object(a.a)(s),"changed",void 0),s.quill=e,s._options=i,s._subs=new h.a.Keeper,s._log=O.d.Logging.getLogger("DEd.Histor"),s._lastRecorded=0,s._ignoreChange=!1,s._stack={undo:[],redo:[]},s._anonymizedOperationsCache=new S.a(20,!0),s._changed=new g.a.Subject,s.changed=s._changed,s.clear();var c=Object(b.A)(s.quill).pipe(g.a.share());return s._subs.push(c.subscribe((function(e){e.name===p.events.TEXT_CHANGE&&s._anonymizedOperationsCache.push({ops:m.a.anonymizeTextAndStringAttrs(e.delta).ops,source:e.source})})),c.subscribe((function(e){e.name!==p.events.TEXT_CHANGE||s._ignoreChange||(i.userOnly&&e.source!==p.sources.USER?s._transform(j(e.delta)):s._record(j(e.delta),j(e.oldDelta)))}))),Object(v.r)("dedOpsHistory",(function(){return s._anonymizedOperationsCache.toArray()})),s}return Object(i.a)(n,[{key:"clear",value:function(){this._stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this._lastRecorded=0}},{key:"commit",value:function(e){this.cutoff(),e(),this.cutoff()}},{key:"redo",value:function(e){try{this._log.info("History action: redo"),this._change("redo","undo",e)}catch(e){this._log.error("History action: redo error",e)}}},{key:"canRedo",value:function(){return this._stack.redo.length>0}},{key:"canUndo",value:function(){return this._stack.undo.length>0}},{key:"undo",value:function(e){try{this._log.info("History action: undo"),this._change("undo","redo",e)}catch(e){this._log.error("History action: undo error",e)}}},{key:"getAnonymizedOperationsHistory",value:function(){return this._anonymizedOperationsCache.toArray()}},{key:"dispose",value:function(){this._subs.dispose()}},{key:"_flush",value:function(){this._options.flush()}},{key:"_change",value:function(e,t,n){var a=this;if(0!==this._stack[e].length){this._flush();var r=this._stack[e].pop();this._lastRecorded=0,this._ignoreChange=!0,m.a.splitToDeleteThenInsert(r[e]).filter(m.a.nonEmpty).forEach((function(e){a.quill.updateContents(Object(b.z)(e),p.sources.USER)})),this._ignoreChange=!1;var i=E(r[e]);this.quill.setSelection(i,0),this._stack[t].push(r),this._changed.next({source:n})}}},{key:"_record",value:function(e,t){var n=this;Object(d.pipe)(m.a.getOps(e),y.g.tap((function(){n._stack.redo=[];var a=j(Object(b.y)(n.quill.getContents())).diff(t,E(e)),r=Date.now();if(n._lastRecorded+n._options.delay>r&&n._stack.undo.length>0){var i=n._stack.undo.pop();a=a.compose(i.undo),e=i.redo.compose(e)}else n._lastRecorded=r;n._stack.undo.push({redo:e,undo:a}),n._stack.undo.length>n._options.maxStack&&n._stack.undo.shift()})))}},{key:"_transform",value:function(e){var t=this;Object(d.pipe)(m.a.getOps(e),y.g.tap((function(){t._stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),t._stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))})))}}]),n}(C);function E(e){var t=e.reduce((function(e,t){return e+(m.a.isDelete(t)?t.delete:0)}),0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(m.a.isInsert(t)?"string"==typeof t.insert&&t.insert.endsWith("\n"):!(m.a.isDelete(t)||!t.attributes)&&Object.keys(t.attributes).some((function(e){return null!=w.query(e,w.Scope.BLOCK)})))}(e)&&(n-=1),n}function j(e){return Object(d.pipe)(m.a.getOps(e),y.g.fold((function(){return e}),(function(t){var n=e.reduce((function(e,t){return m.a.match((function(t){return e.insert(t.insert,t.attributes&&x(t.attributes))}),(function(t){return e.delete(t.delete)}),(function(t){return e.retain(t.retain,t.attributes&&x(t.attributes))}))(t)}),new f.a),a=n.ops[0];return Boolean(n.ops)&&1===n.ops.length&&m.a.isRetain(a)&&!a.attributes?new f.a:n})))}var _=new RegExp("^".concat(b.f,"_"));function x(e){return Object.keys(e).reduce((function(t,n){return _.test(n)?t:Object(l.a)(Object(c.a)({},t),Object(o.a)({},n,e[n]))}),{})}},izp7:function(e){e.exports=JSON.parse('{"documentActionsTeaser":"_332adcf8-document_actions-documentActionsTeaser","blockTeaser":"_41b9a167-document_actions-blockTeaser","fadeIn":"_d1aa0d4b-document_actions-fadeIn","actionIcon":"_5392178d-document_actions-actionIcon","hidden":"_41bffc2f-document_actions-hidden","actionIconTeaser":"_386f754f-document_actions-actionIconTeaser","actionIconTeaserLeft":"_ada07639-document_actions-actionIconTeaserLeft","outcomeBtnLeft":"_c906cb60-document_actions-outcomeBtnLeft","proofitBtn":"_b13f9ea7-document_actions-proofitBtn","proofitBtnTeaser":"_2b490ca1-document_actions-proofitBtnTeaser _41b9a167-document_actions-blockTeaser","plagiarismBtnTeaser":"_919cfcf1-document_actions-plagiarismBtnTeaser _41b9a167-document_actions-blockTeaser","plagiarismBtn":"_703fe7c6-document_actions-plagiarismBtn","outcomeDocumentActionsFull":"_1d9f2970-document_actions-outcomeDocumentActionsFull","outcomeDocumentActionsTeaser":"_edd05aa2-document_actions-outcomeDocumentActionsTeaser _332adcf8-document_actions-documentActionsTeaser","plagiarismScore":"_a293d6de-document_actions-plagiarismScore","buttonsDelimiter":"_125f994b-document_actions-buttonsDelimiter","premiumButton":"_aa7b2c07-document_actions-premiumButton","premiumCounterWrapper":"_bc868f52-document_actions-premiumCounterWrapper","premiumCounterContent":"_061603fd-document_actions-premiumCounterContent"}')},jEie:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n("8O/t"),r=n("X76w"),i=n("tiWp"),o=n("2swC"),s=n("nWMp"),c=n("NbNH"),l=n("KH+i"),u=n("7Cqk"),d=n("PKYJ");const p=e=>({container:Object(i.pipe)(e,l.a.Density.matchOrDefault(l.a.Density.cozy)(()=>y.cozyCardContainer,()=>y.compactCardContainer))}),m=e=>Object(r.a)(Object(a.a)({},e.hasOwnProperty("features")&&e.features.has(l.a.Features.a11yContrast)?(e=>({container:Object(i.pipe)(e.layoutDensity,l.a.Density.matchOrDefault(l.a.Density.cozy)(()=>e.features.has(l.a.Features.sduiContainerStyle)?y.cozyCardContainerContrastSdui:y.cozyCardContainerContrast,()=>y.compactCardContainer))}))(e):p(e.layoutDensity)),{wrapper:Object(i.pipe)(e.layoutDensity,l.a.Density.matchOrDefault(l.a.Density.minimal)(()=>y.minimalCardWrapper,()=>{}))}),f={padding:`${s.a.rem(.75)} ${s.a.rem(.5)} ${s.a.rem(.5)} ${s.a.rem(1)}`},h={margin:`${s.a.rem(1)} 0 ${s.a.rem(1.5)}`,borderRadius:s.a.rem(c.s),background:o.a.CoreNeutral0,boxShadow:`0 ${s.a.rem(.625)} ${s.a.rem(c.a)} 0 rgba(198, 203, 222, .45)`},g={margin:`${s.a.rem(1)} 0 ${s.a.rem(1.5)}`,borderRadius:s.a.rem(c.s),background:o.a.CoreNeutral0,boxShadow:d.a.z300},b={boxShadow:d.b.llamaShadowToken},v={boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",borderRadius:s.a.rem(c.s),background:o.a.CoreNeutral0},y=Object(r.a)(Object(a.a)({},s.a.stylesheet({minimalCardWrapper:[f],compactCardContainer:[v]})),{cozyCardContainer:s.a.joinClasses([u.b.cozyCardContainerSelector,s.a.style(h)]),cozyCardContainerContrast:s.a.joinClasses([u.b.cozyCardContainerSelector,s.a.style(g)]),cozyCardContainerContrastSdui:s.a.joinClasses([u.b.cozyCardContainerSelector,s.a.style(g),s.a.style(b)])})},jH4R:function(e,t,n){"use strict";n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return S})),n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return k}));var a=n("000W"),r=n("CulD"),i=n("DTwm"),o=n("tiWp"),s=n("0Qjk"),c=n("0kuo"),l=n("mgiE"),u=n("K40b"),d=n("M3t0"),p=n("Hj2R"),m=n("D2TP"),f=n("mEGS"),h=n("xk6L"),g=n("yIk2"),b=n("Mi0J"),v=n("hzat"),y=n("d3CI");const O=e=>{const t=e[0];switch(Object(c.f)(void 0!==t,"undoables should had at least one item"),t.action){case s.a.AlertFeedbackType.IGNORE:return{kind:"ignore"};case s.a.AlertFeedbackType.ADD_TO_DICTIONARY:return{kind:"addToDictionary",word:t.replacement};case s.a.AlertFeedbackType.WRONG_SUGGESTION:case s.a.AlertFeedbackType.OFFENSIVE_CONTENT:return{kind:"report"};case s.a.AlertFeedbackType.ACCEPTED:return e.length>1?{kind:"bulkAccept",count:e.length}:{kind:"replace",word:t.replacement};case s.a.SynonymFeedbackType.SYNONYM_ACCEPTED:return{kind:"replaceSynonym"};case s.a.LensFeedbackType.DISMISS_BY_LENS:return{kind:"ignoreAll",alerts:e.length};case s.a.AlertFeedbackType.LIKE:return{kind:"markAsHelpful"};case s.a.AlertFeedbackType.DISLIKE:return{kind:"markAsNotHelpful"};case s.a.AlertFeedbackType.ACKNOWLEDGED:return{kind:"acknowledge"};default:throw new Error("Invalid undoable action "+t.action)}};function S(e,t,n){return e().pipe(h.a.tap(e=>{"closedByUser"===e&&t()}),h.a.filter(e=>"shown"!==e),h.a.map(e=>["undo","bulkUndo"].includes(e)?e:"commit"),h.a.merge(n().pipe(h.a.mapTo("commit"))),h.a.first())}var C,w,k;function E(e,t){return[{id:e+"_showUndoNotifications",when:i.constTrue,what:y.e.Effect.Applicator.create(t.pipe(h.a.switchMapTo(h.a.NEVER)))},{id:e+"_changeLensWhenThereWasNoPreviouslyFocusedAlert",when:e=>e!==m.a.SpecialId.Closed,what:y.e.Effect.SwitchLens.create(t.pipe(h.a.filter(e=>l.g.isNone(e.previouslyFocused)),h.a.map(({lensId:e})=>({lensId:e,alertSource:p.b.sidebar,options:{toFocus:y.e.Effect.FocusBehavior.noFocus}}))))},{id:e+"_focusPreviouslyActiveAlert",when:e=>e!==m.a.SpecialId.Closed,what:y.e.Effect.SwitchAlert.create(t.pipe(h.a.map(e=>Object(o.pipe)(e.previouslyFocused,l.g.map(t=>({alertHighlight:t,alertSource:p.b.sidebar,options:{lensId:e.lensId}})))),h.b.compact))}]}function j(e){return!p.a.isCitationDetection(e)}function _(e,t,n){return Object(o.pipe)(e,l.g.map(e=>{const a=t.find(t=>t.id===e.activeAlert.id);return Object(c.f)(void 0!==a,"Undone alerts should contain previously focused alert",e.activeAlert.id),Object(c.f)(Object(o.pipe)(n.getById(a.id),l.g.isSome),"Undone alerts should exist in alert list",a.id),Object(c.f)(p.a.isRegistered(a),"Undoed alert should be in registered state",()=>String(a)),{alert:v.a.fromModel(a),highlightIndex:e.activeHighlightIndex}}))}!function(e){e.create=function(e,t,n){return E("individual_undo_applied",e.pipe(h.a.filter(b.a.isIndividualUndo),h.a.tap(({alertId:e})=>Object(o.pipe)(e,t.getById,l.b.fromOption(()=>new c.b("Could not find alert by id while processing individual undo event",e)),l.b.filterOrElse(p.a.isApplied,e=>new c.b("Alert is not in the applied state",e.toString())),l.b.chain(e=>n.undoApplied([e],p.a.State.Applied.Method.Bulk)()),l.b.getOrElse(e=>d.d.Logging.getLogger("BulkAcceptedIndividualUndoSideEffect").error("Could not process an individual undo event",e)))),h.a.switchMapTo(h.a.NEVER),h.a.share()))}}(C||(C={})),function(e){e.create=function(e,t,n,r){return E("bulk_undo_applied",e.pipe(h.a.filter(b.a.isBulkUndo),h.a.switchMap(g.b.Scheduler.rafScheduler),h.a.map(({alertIds:e})=>e.map(t.getById)),h.a.map(a.G),h.a.tap(e=>{Object(o.pipe)(n.undoApplied(e,p.a.State.Applied.Method.Bulk)(),l.b.fold(e=>d.d.Logging.getLogger("BulkUndoSideEffect").error("Could not perform bulk undo",e),()=>r.onBulkUndo(e.length)))}),h.a.switchMapTo(h.a.NEVER),h.a.share()))}}(w||(w={})),function(e){e.create=function(e,t,n,s,c,d){return E("undo_applied",e.state.pipe(h.a.pairwise(),h.a.map(([e,t])=>Object(o.pipe)(f.a.diff(e,t),u.a.reduce([],i.identity,(e,t)=>(p.a.isApplied(t.alert)&&!p.a.isBulkApplied(t.alert)&&e.push(t.alert),e),i.identity))),h.a.map(Object(i.flow)(a.U(j),a.zb(e=>Object(o.pipe)(e.takeReference("undoNotification"),l.b.bimap(t=>Object(i.tuple)(e,t),t=>Object(i.tuple)(e,t)))))),h.a.map(a.Tb),h.a.map(({left:e,right:t})=>(a.tb(e)&&d.warn("can not take alertRef",e),t)),h.a.filter(a.tb),h.a.switchMap(a=>{const i=n.get(),u=a.map(([e])=>e),m=u.map(e=>e.state.undoable),f=a.map(r.d);return c(m).pipe(h.a.map(n=>"undo"===n?Object(o.pipe)(e.undoApplied(u,p.a.State.Applied.Method.ByCard)(),l.b.fold(e=>(d.error("Got error during undo",e),l.g.none),()=>y.e.hasCards(i)?l.g.some({lensId:i.currentLens.id,previouslyFocused:_(y.e.getActiveItem(s)(i),u,t)}):l.g.none)):l.g.none),h.a.finalize(()=>f.forEach(e=>e.dispose())),h.b.compact)}),h.a.share()))}}(k||(k={}))},jOXU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("NKDu"),r=n("epuc");function i(e){return e instanceof a.a?e:Object(r.a)(e)}},jVAy:function(e){e.exports=JSON.parse('{"contentWrapper":"_b2c6e27c-synonyms-contentWrapper","iconWrapper":"_08c665f9-synonyms-iconWrapper","synonymsButton":"_048086a0-synonyms-synonymsButton","loader":"_0c3de60c-synonyms-loader","rotation":"_dc0ed19a-synonyms-rotation","synonymsPopupWrapper":"_94add495-synonyms-synonymsPopupWrapper","wrapper":"_fbad2f66-synonyms-wrapper","emptyResultWrapper":"_c203692f-synonyms-emptyResultWrapper","activeWord":"_8adb8bf0-synonyms-activeWord","title":"_738f37b5-synonyms-title","list":"_602411e1-synonyms-list","group":"_4fdf6736-synonyms-group","groupTitle":"_752acd81-synonyms-groupTitle","row":"_44351849-synonyms-row","item":"_2e566ea7-synonyms-item"}')},jnnb:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return v}));var a,r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("hcme"),c=n("DTwm"),l=n("+vYo"),u=n("/taW"),d=n("xk6L"),p=n("yIk2"),m=n("mgiE"),f=n("TKPA"),h=n("0kuo"),g=n("mybP"),b=n("CA3N");!function(e){e[e.Checking=0]="Checking",e[e.CheckingIn=1]="CheckingIn",e[e.CheckingOut=2]="CheckingOut",e[e.Idle=3]="Idle"}(a||(a={}));var v=function(){function e(t,n,a,i,s,u){var p=this;Object(r.a)(this,e),Object(o.a)(this,"_state",void 0),Object(o.a)(this,"_uploadVM",void 0),Object(o.a)(this,"_ded",void 0),Object(o.a)(this,"_features",void 0),Object(o.a)(this,"loaderState",void 0),Object(o.a)(this,"_subs",void 0),Object(o.a)(this,"_isLocked",void 0),Object(o.a)(this,"_loadingStateLock",void 0),Object(o.a)(this,"_lensCheckingData",void 0),this._state=t,this._uploadVM=i,this._ded=s,this._features=u,this.loaderState=l.a.create(m.g.none),this._subs=[],this._isLocked=l.a.create(!0),this._loadingStateLock=d.a.combineLatestStatic([this._isLocked,this._uploadVM.state.pipe(d.a.startWith(g.a.State.idle))],(function(e,t){return e||t!==g.a.State.idle})).pipe(d.a.distinctUntilChanged()),this._lensCheckingData=l.a.combine(n.activeLensId.view(a.getCheckingForState),n.state.view("isSidebarOpen"),c.tuple),this._subs.push(this._listenUploadingState(),this._listenProcessingState(),this._listenFullRecheckingState()),Object(f.r)("loader",(function(e,t,n){p._state.set({text:Object(c.pipe)(m.g.fromNullable(e),m.g.filter((function(e){return e in b.a.TextType}))),lens:Object(c.pipe)(m.g.fromNullable(t),m.g.filter((function(e){return e in b.a.Type}))),navigation:Object(c.pipe)(m.g.fromNullable(n),m.g.filter((function(e){return e in b.a.Type})))})}))}return Object(i.a)(e,[{key:"init",value:function(){this._isLocked.set(!1)}},{key:"_listenUploadingState",value:function(){var e=this;return this._uploadVM.state.pipe(d.a.skip(1)).subscribe((function(t){e._state.set(t===g.a.State.idle?b.a.State.idle:b.a.State.loading)}))}},{key:"_listenProcessingState",value:function(){return this._ded.dontFreezeWhen(this._state.view((function(e){var t=e.text;return m.g.isSome(t)})),"loader")}},{key:"_listenFullRecheckingState",value:function(){var e,t=this,n=Object(c.flow)(m.g.filter((function(e){return e===b.a.Type.checkingIn||e===b.a.Type.checking})),m.g.map((function(){return b.a.Type.checkingOut}))),r=function(e){return e.kind===u.c.CheckingKind.Plagiarism||"full"!==e.type};return(e=this._lensCheckingData,t._loadingStateLock.pipe(d.a.switchMap(p.b.orEmptyRight(e)))).pipe(d.a.switchMap((function(e){var n=Object(s.a)(e,2),i=n[0],o=n[1],c=i.get();return i.pipe(d.a.skip(1),d.a.map((function(e){return r(e)||!o?a.Idle:a.Checking})),d.a.delay(200),d.a.startWith(r(c)?a.Idle:o?t._features.denali.focusFirstCard?a.Checking:a.CheckingIn:a.CheckingOut))})),d.a.distinctUntilChanged(),d.a.tap((function(e){return t.loaderState.set(m.g.some(e))}))).subscribe((function(e){switch(e){case a.Idle:return t._state.set(b.a.State.idle);case a.CheckingIn:return t._state.set({text:m.g.none,lens:m.g.some(b.a.Type.checkingIn),navigation:m.g.some(b.a.Type.checkingIn)});case a.Checking:return t._state.set({text:m.g.none,lens:m.g.some(b.a.Type.checking),navigation:m.g.some(b.a.Type.checking)});case a.CheckingOut:return t._state.modify((function(e){return{text:m.g.none,lens:n(e.lens),navigation:n(e.navigation)}}));default:Object(h.c)(e)}}))}},{key:"dispose",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]}}]),e}()},kMtn:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return E}));var a,r,i,o,s,c,l,u,d,p,m,f,h,g,b,v,y,O,S,C,w,k,E,j,_=n("RRF2"),x=n("tCI5"),A=n("w8H4"),I=n("9raK");!function(e){e.isStrongAlertRefComponent=function(e){return"child"in e},e.isStrongAlertRefBehavior=function(e){return!("child"in e)}}(a||(a={})),function(e){e.isStrongAlertRef=function(e){return"strongAlertRef"===e.type},e.create=function(e,t,n){return{type:"strongAlertRef",alertIds:t,child:e,onEmpty:n,id:C.from("strongAlertRef")}}}(r||(r={})),function(e){e.isLongFormCard=function(e){return"longFormCard"===e.type},e.create=function(e,t,n){return{type:"longFormCard",fullContent:e,collapsedContent:t,id:C.from("longFormCard"),behaviors:[o.StrongAlertRef.create(n,[])],feedProperties:{}}}}(i||(i={})),function(e){e.isStrongAlertRef=function(e){return"behavior:strongAlertRef"===e.type},function(e){e.create=function(e,t){return{id:C.from("behavior:strongAlertRef"),type:"behavior:strongAlertRef",alertIds:e,onEmpty:t}};e.eq=A.a(I.a)(x.b.BehaviorStrongAlertRef)}(e.StrongAlertRef||(e.StrongAlertRef={})),e.isPopoverAnchor=function(e){return"behavior:popoverAnchor"===e.type},function(e){e.create=function(e,t){return{type:"behavior:popoverAnchor",id:e,positionHint:t}};e.nonEmpty=function(e){return!!e.view}}(e.PopoverAnchor||(e.PopoverAnchor={}))}(o||(o={})),function(e){e.create=function(e,t,n,a,r){return{type:"row",left:e,right:t,spacing:n,verticalAlign:a,id:C.from("row"),behaviors:r?[o.PopoverAnchor.create(r,x.a.Position.Top)]:void 0}},e.isRow=function(e){return"row"===e.type}}(s||(s={})),function(e){e.create=function(e){return{type:"column",children:e,id:C.from("column")}}}(c||(c={})),function(e){var t=e.Type="block";e.create=function(e,n,a){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return{type:t,name:w.unknown(e),parts:i,spacing:n,innerSpacing:a,id:C.from(e)}},e.isBlock=function(e){return e.type===t},e.hasOnlyTextParts=function(e){return e.parts.every(u.isText)}}(l||(l={})),function(e){var t=e.Type="text";e.create=function(e,n,a,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return{type:t,text:e,size:n,format:a,textColor:r,backgroundColor:i,outlineColor:o,id:C.from(t),meta:s}},e.isText=function(e){return e.type===t}}(u||(u={})),function(e){e.create=function(e,t){return{label:e,preview:t}}}(d||(d={})),function(e){e.create=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return{type:"alternativeChoice",alternatives:n,id:C.from("alternativeChoice"),meta:e}}}(p||(p={})),function(e){e.create=function(e,t){return{type:"viewStack",id:C.from("ViewStack"),views:t,selected:e}}}(m||(m={})),function(e){var t=e.Type="button";!function(e){e.isTransitionAction=function(e){return"transition"===e.type},e.isApplyAlertsAction=function(e){return"applyAlerts"===e.type},e.createSelectAlternativeAction=function(e){return{type:"selectAlternative",alternativeIndex:e}}}(e.Action||(e.Action={})),e.isButton=function(e){return"button"===e.type},e.create=function(e,n,a,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:x.a.ButtonShape.Square,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},d=C.from(e);return{type:t,id:d,name:w.unknown(e),tooltip:i,kind:r,state:x.a.ButtonState.Enabled,label:{type:l.Type,name:w.unknown(""),parts:[u.create(n,x.a.TextSize.Regular,[],x.a.Color.CoreNeutral0,void 0,void 0)],spacing:o,id:C.from("label-button-"+d)},actions:a,shape:s,meta:c}},e.createIcon=function(e,n,a,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:x.a.ButtonShape.Square,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=C.from(e),u="icon-button-"+e;return{type:t,id:c,name:w.unknown(e),tooltip:i,kind:r,state:x.a.ButtonState.Enabled,label:{type:l.Type,name:w.unknown(u),spacing:g.create("0","0.25","0","0.25"),parts:[h.create(n,void 0)],id:C.from(u)},actions:a,shape:o,meta:s}}}(f||(f={})),function(e){var t=e.Type="icon";!function(e){e.createKnown=function(e){return{kind:"known",name:e}},e.createUrl=function(e,t,n){return{kind:"url",name:t,url:e,size:n}}}(e.Source||(e.Source={})),e.create=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:t,source:e,backgroundColor:n,id:C.from(t),meta:a}}}(h||(h={})),function(e){e.create=function(e,t,n,a){return{top:e,bottom:n,left:a,right:t}}}(g||(g={})),function(e){e.create=function(e,t){return{vertical:t,horizontal:e}}}(b||(b={})),function(e){var t=e.Type="count";e.create=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:"count",backgroundColor:n,value:e,id:C.from(t),meta:a}}}(v||(v={})),function(e){!function(e){e.create=function(e,t,n){return{type:"sliderChoice",id:C.from("slider-choice-"+t.toLowerCase()),icon:e,label:t,actions:n}}}(e.Choice||(e.Choice={})),e.create=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"slider",segmentSize:e,fillColor:t,choices:n,id:C.from("slider"),meta:a}}}(y||(y={})),function(e){!function(e){e.create=function(e,t,n,a){return{id:C.from("alternative-slider-choice-"+t.toLowerCase()),icon:e,label:t,actions:n,preview:a}}}(e.Choice||(e.Choice={})),e.create=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"alternativeSlider",segmentSize:e,fillColor:t,choices:n,id:C.from("alternativeSlider"),meta:a}}}(O||(O={})),function(e){e.create=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"list",items:e,id:C.from("list"),meta:t}},function(e){e.create=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{id:C.from("listItem"),label:e,behaviors:n,actions:t,secondaryButtons:a,meta:r}}}(e.Item||(e.Item={}))}(S||(S={})),function(e){e.from=function(e){return e+"#"+_.f.alphanumeric(6)}}(C||(C={})),function(e){e.unknown=function(e){return{kind:"unknown",value:e}}}(w||(w={})),function(e){e.create=function(e,t,n){return{type:"popoverStack",id:e,views:n,selected:t}},e.createView=function(e,t,n,a){return{id:e,rootPopoverId:t,child:n,anchor:{kind:"component",id:a||_.f.alphanumeric(3)}}}}(k||(k={})),function(e){var t=e.Type="globalPart";e.create=function(e,n,a){return{type:t,id:e,content:n,name:w.unknown(a)}},e.isGlobalPart=function(e){return e.type===t}}(E||(E={})),function(e){var t=e.Type="globalPartPlaceholder";e.create=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.from(t),a=arguments.length>2?arguments[2]:void 0;return{type:t,id:n,globalPartId:e,child:a}},e.isGlobalPartPlaceholder=function(e){return e.type===t}}(j||(j={}))},kPsJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return N}));var a,r,i,o=n("Vv+i"),s=n("Wy1Y"),c=n("uKMM"),l=n("a5gI"),u=n("4mQT"),d=n("hcme"),p=n("mMt2"),m=n("t5lx"),f=n("DTwm"),h=n("tiWp"),g=n("M5RY"),b=n("GMJx"),v=n("B/Ki"),y=n("lXop"),O=n("xk6L"),S=n("La5+"),C=n("IjjT"),w=n("RRF2"),k=n("mgiE"),E=n("TKPA"),j=n("0kuo"),_=n("M3t0"),x=n("8O/t"),A=n("X76w"),I=g.import("modules/clipboard");!function(e){var t=e.normalizeSpacesInDelta=function(e){return e.reduce((function(e,t){return e.push(v.a.isInsert(t)&&"string"==typeof t.insert?Object(A.a)(Object(x.a)({},t),{insert:t.insert.replace(/\s/g,(function(e){return"\n"===e||"\r"===e||"\t"===e?e:" "}))}):t)}),new b.a)},n=function(e,t,n){return k.b.tryCatchError((function(){var a={root:document.createElement("div"),scroll:e.scroll,addContainer:function(t,a){var r=e.addContainer(t,a);return null!=n&&n&&r.classList.add(n),r},setContents:E.e,setSelection:E.e,getFormat:function(){return[]},selection:{savedRange:{index:0,length:0}}},r=new I(a,{matchVisual:!1,matchers:t});return function(e){r.container.innerHTML="",r.container.appendChild(e);var t=r.convert();return r.container.innerHTML="",Object(C.y)(t)}}))};e.getConverter=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,s=n(e,r,o);return function(e){return Object(h.pipe)(w.f.sanitize(e,{allowedAttrs:["href","style","class",i.TrailingSpaces.dataPreserveSpaces],forbidTags:["script","style","meta","img","video","embed","frame","iframe","area","source","track","template","canvas","audio"],allowDataAttrs:!1,returnHTML:!0}),(function(e){return Object(h.pipe)(w.c.traverseMutate(e,(function(e){return w.c.Guardians.isHTMLElement(e)||w.c.Guardians.isDocumentFragment(e)}),Object(f.flow)(i.normalizeBold,i.TrailingSpaces.decodeTrailingSpaces,i.cleanupStyles(["whiteSpace","fontWeight","fontStyle","white-space","font-weight","font-style","mso-list"]))),k.b.fold((function(e){return _.d.Logging.getLogger("HTML2Delta").warn("Cannot normalize html on paste",e),k.g.none}),(function(e){return k.g.some(e)})))}),k.g.chain((function(e){return Object(h.pipe)(s,k.b.bimap(_.d.Logging.getLogger("HTML2Delta").handler("Cannot convert given text to html").error,(function(t){return t(e)})),k.g.fromEither)})),k.g.map(a),k.g.map(t))}};!function(e){var t;!function(e){e.and=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.every((function(t){return t(e)}))}},e.or=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.some((function(t){return t(e)}))}},e.includes=function(e){return function(t){return t.includes(e)}}}(t=e.Test||(e.Test={}));e.checks=[{name:y.f.MSOutlook,test:t.and(t.includes('xmlns:w="urn:schemas-microsoft-com:office:word'),t.includes("span.EmailStyle15"))},{name:y.f.MSWord,test:t.includes('xmlns:w="urn:schemas-microsoft-com:office:word')},{name:y.f.MSExcel,test:t.includes('xmlns:x="urn:schemas-microsoft-com:office:excel')},{name:y.f.MSOffice,test:t.includes('xmlns:o="urn:schemas-microsoft-com:office:office')},{name:y.f.MSWordOnline,test:t.and(t.includes('xml:lang="EN-US"'),t.includes("TextRun"),t.includes("SCX"))},{name:y.f.GDocs,test:t.includes('id="docs-internal-guid-')},{name:y.f.GSheets,test:t.includes('<meta name="generator" content="Sheets"/>')},{name:y.f.DropboxPaper,test:t.includes('class=" author-d-')},{name:y.f.CocoaHTMLWriter,test:t.includes('<meta name="Generator" content="Cocoa HTML Writer">')},{name:y.f.ProbablyMSOutlookOnline,test:t.or(t.includes("color: rgb(0, 0, 0); font-family: Calibri, Helvetica, sans-serif;"),t.includes("color: rgb(0, 0, 0); font-family: Calibri,Helvetica,sans-serif;"))},{name:y.f.ProbablyGMail,test:t.or(t.includes("color: rgb(34, 34, 34); font-family: Arial, Helvetica, sans-serif;"),t.includes("color: rgb(34, 34, 34); direction: ltr; font-family: Arial,Helvetica,sans-serif;"))}],e.detectSource=function(e,t){var n=t.find((function(t){return t.test(e)}));return n?n.name:y.f.Unknown}}(e.SourceDetector||(e.SourceDetector={})),function(e){e.fancyTable=[["tr",function(e,t){return t.insert("\n")}],["td",function(e,t){var n=Number(e.getAttribute("colspan"))||1;return e.nextSibling?t.insert("\t".repeat(n)):t}]];function t(e,t){return w.c.Guardians.isP(e)&&"MsoNormal"===e.className&&1===e.childNodes.length&&e.firstChild&&e.firstChild.textContent===i.nbsp?(new b.a).insert("\n"):t}e.matchOutlookEmptyLine=t;e.outlookEmptyLine=[["p.MsoNormal",t]];function n(e,t){var n=(new b.a).compose(t);if(0===t.ops.length)return k.b.right(n);var a=n.ops[0];if(!w.c.Guardians.isHTMLElement(e))return k.b.left(new Error("Cannot parse non-html element"));if(!v.a.isInsertString(a))return k.b.left(new Error("The first operation is not a string insert"));var r=a.insert.match(/^\s*?(\.|·|o|§|Ø)\s+/),i=a.insert.match(/^\s*?(\d+|[a-zA-Z]+)?[\.\)][\ \t\u202F\u00A0]+/);if(null===r&&null===i||i&&a.insert.length-1===i[0].length&&1===n.ops.length)return k.b.right(n);var o,s=null!==r?"bullet":"ordered",c=null!==r?r:i,l=(n=(new b.a).insert(a.insert.substring(c[0].length,a.insert.length),a.attributes).concat(new b.a(n.ops.slice(1)))).ops[n.ops.length-1];v.a.isInsertString(l)&&(n=new b.a(n.ops.slice(0,-1)).push({insert:l.insert.substring(0,l.insert.length-1),attributes:l.attributes}));var u=(null!==(o=e.getAttribute("style"))&&void 0!==o?o:"").replace(/\n+/g,"").match(/level(\d+)/),d=u?Number(u[1])-1:0;return n.push({insert:"\n",attributes:{list:s,indent:d}}),k.b.right(n)}e.matchMsWordList=n;e.getMSWordList=function(e){var t=function(e){return function(t,a){return Object(h.pipe)(n(t,a),k.b.fold((function(t){return e.info("Cannot parse MS Word List",t),a}),f.identity))}}(e.getLogger("MSWordListMatcher"));return[["p.MsoListParagraph",t],["p.MsoListParagraphCxSpFirst",t],["p.MsoListParagraphCxSpMiddle",t],["p.MsoListParagraphCxSpLast",t],["p.MsoNoSpacing",t],["h1",t],["h2",t],["h3",t],["h4",t],["h5",t],["h6",t],["p.MsoHeading7",t],["p.MsoHeading8",t],["p.MsoHeading9",t],["p.MsoTitle",t],["p.MsoSubtitle",t],["p.MsoQuote",t],["p.MsoIntenseQuote",t]]}}(e.Matchers||(e.Matchers={}))}(a||(a={})),function(e){e.byActiveSelection=function(e,n){var a=window.getComputedStyle(e),r=["color: ".concat(a.color,";"),"background: transparent;","margin-top:0pt;","margin-bottom:0pt;"].join(" "),o=function(e,t){e.setAttribute("style",t.join("; "))};return Object(h.pipe)(t(e),k.g.chain(Object(f.flow)(i.removeAllSpans,k.b.chain(i.TrailingSpaces.normalizeTrailingSpaces),k.b.map(i.normalizeNestedListsUnsafe((function(e){return n(e)[0]}))),k.b.chain((function(e){return w.c.traverseMutate(e,w.c.Guardians.isHTMLElement,(function(e){return w.c.Guardians.isSPAN(e)?o(e,[r,e.parentNode&&w.c.Guardians.isLink(e.parentNode)?"color: #4a6ee0;":""]):w.c.Guardians.isBR(e)||(w.c.Guardians.isLink(e)?o(e,[r,"color: #4a6ee0;"]):w.c.Guardians.isH1(e)||w.c.Guardians.isH2(e)?o(e,[r,"font-weight: normal;"]):w.c.Guardians.isLI(e)&&e.parentNode?w.c.Guardians.isOL(e.parentNode)?o(e,[r,"list-style-type:".concat(n(e)[1],";")]):w.c.Guardians.isUL(e.parentNode)&&o(e,[r,"list-style-type:disc"]):w.c.Guardians.isHTMLElement(e)&&o(e,[r])),e}))})),k.b.map((function(e){return w.f.sanitize(e,{allowedAttrs:["class","href","style","target",i.TrailingSpaces.dataPreserveSpaces],allowDataAttrs:!1})})),k.b.map((function(e){return"<meta charset='utf-8'>".concat(e)})),k.b.fold((function(e){return _.d.Logging.getLogger("HTML4Copy").error("Cannot get html for copy",e),k.g.none}),k.g.some))))};var t=e.getSelectedHTMLForCopy=function(e){return Object(h.pipe)(w.c.getFirstSelectionRange(),k.g.chain((function(t){if(t.commonAncestorContainer===e){var n=document.createDocumentFragment();return n.appendChild(t.cloneContents()),k.g.some(n)}if(w.c.isParent(e,t.commonAncestorContainer)){var a=Object(h.pipe)(w.c.getTreeBetween(e,t.commonAncestorContainer,w.c.Guardians.isP),k.g.fold((function(){return t.cloneContents()}),(function(e){return w.c.appendTo(w.c.getLastChild(e),t.cloneContents()),e}))),r=document.createDocumentFragment();return r.appendChild(a),k.g.some(r)}return k.g.none})))}}(r||(r={})),function(e){e.removeAllSpans=function(e){return Object(h.pipe)(w.c.traverseMutate(e,w.c.Guardians.isHTMLElement,(function(e){if(w.c.Guardians.isSPAN(e)){var t=w.c.moveChildrenTo(document.createDocumentFragment(),e);return t.normalize(),t}return e})),k.b.map((function(e){return e.normalize(),e})))};var t=e.space=" ",n=e.nbsp=" ",a=function(e){if(0===e)return"";if(1===e)return n;var a=e-1,r=(a-a%2)/2;return"".concat(n).concat("".concat(t).concat(n).repeat(r)).concat(2*r===a?"":n)};!function(e){var t=e.dataPreserveSpaces="data-preserver-spaces",n=/mso-spacerun:\s*yes/;e.decodeTrailingSpaces=function(e){var a;return w.c.Guardians.isSPAN(e)&&(e.hasAttribute(t)||n.test(null!==(a=e.getAttribute("style"))&&void 0!==a?a:""))&&e.setAttribute("style","white-space: pre-wrap"),e},e.normalizeTrailingSpaces=function(e){return w.c.traverseMutate(e,(function(e){return w.c.Guardians.isHTMLElement(e)}),(function(e){if(e.nodeType!==Node.TEXT_NODE||null==e.textContent||e.parentNode&&w.c.Guardians.isSPAN(e.parentNode)&&e.parentNode.hasAttribute(t))return e;var n=e.textContent.match(/^( *)(.*?)( *)$/);if(n){var r=document.createElement("span");return r.appendChild(document.createTextNode("".concat(a(n[1].length)).concat(n[2]).concat(a(n[3].length)))),r.setAttribute(t,"true"),r}throw new j.b("Cannot parse textContent")}))}}(e.TrailingSpaces||(e.TrailingSpaces={}));e.normalizeBold=function(e){return!w.c.Guardians.isHTMLElement(e)||"B"!==e.nodeName&&"STRONG"!==e.nodeName||"normal"!==e.style.fontWeight?e:w.c.moveChildrenTo(document.createElement("span"),e)},e.cleanupStyles=function(e){return function(t){if(!w.c.Guardians.isHTMLElement(t))return t;var n,a=(null!==(n=t.getAttribute("style"))&&void 0!==n?n:"").split(";").map((function(e){return e.split(":")})).filter((function(t){var n=Object(d.a)(t,1)[0];return e.includes(n.trim())})).map((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1];return"".concat(n,":").concat(a)})).join(";");return t.setAttribute("style",a),t}};e.normalizeNestedListsUnsafe=function(e){return function(t){return w.c.findAll((function(e){return w.c.Guardians.isOL(e)||w.c.Guardians.isUL(e)}))(t).forEach((function(t){return Array.from(t.childNodes).reduce((function(n,a){var r=Object(d.a)(n,2),i=r[0],o=r[1];if(w.c.Guardians.isLI(a)){var s,c=e(a);return c>0?(s=i>c?w.c.getParentAt(o,i-c):i===c?k.b.right(o):Object(h.pipe)(w.c.createNested(o.nodeName,c-i),k.b.map((function(e){return o===t?o.insertBefore(e,a):o.appendChild(e),e})),k.b.map(w.c.getLastChild)),Object(h.pipe)(s,k.b.map((function(e){e.appendChild(a)}))),Object(h.pipe)(s,k.b.fold((function(){return[i,o]}),(function(e){return[c,e]})))):[0,t]}return[i,o]}),[0,t])})),t}}}(i||(i={}));var T,M,P=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e,i){var c;Object(s.a)(this,n),c=t.call(this,e,i),Object(l.a)(Object(o.a)(c),"quill",void 0),Object(l.a)(Object(o.a)(c),"_options",void 0),Object(l.a)(Object(o.a)(c),"_uuid",void 0),Object(l.a)(Object(o.a)(c),"_sourceChecks",void 0),Object(l.a)(Object(o.a)(c),"_log",void 0),Object(l.a)(Object(o.a)(c),"_html2Delta",void 0),Object(l.a)(Object(o.a)(c),"textChangedAfterPaste",void 0),Object(l.a)(Object(o.a)(c),"clipboardShortcutUsed",void 0),Object(l.a)(Object(o.a)(c),"container",void 0),Object(l.a)(Object(o.a)(c),"_maxAllowedTextLength",void 0),Object(l.a)(Object(o.a)(c),"_lengthExceededCallback",void 0),Object(l.a)(Object(o.a)(c),"_subs",void 0),Object(l.a)(Object(o.a)(c),"syntheticPaste",void 0),Object(l.a)(Object(o.a)(c),"_onPaste",void 0),Object(l.a)(Object(o.a)(c),"_doPaste",void 0),Object(l.a)(Object(o.a)(c),"_getNonEmptyRange",void 0),Object(l.a)(Object(o.a)(c),"_deleteRange",void 0),Object(l.a)(Object(o.a)(c),"_getHTMLByRange",void 0),Object(l.a)(Object(o.a)(c),"_copyRangeToClipboard",void 0),Object(l.a)(Object(o.a)(c),"_onClipboardShortcutUsed",void 0),Object(l.a)(Object(o.a)(c),"_getRTFContentFromClipboardEvent",void 0),Object(l.a)(Object(o.a)(c),"_getPlainTextFromClipboard",void 0),Object(l.a)(Object(o.a)(c),"_fetchTagsAmount",void 0),c.quill=e,c._options=i,c._uuid=w.f.alphanumeric(12),c._sourceChecks=[{name:y.f.DenaliSameDocSession,test:a.SourceDetector.Test.includes(c._uuid)},{name:y.f.DenaliOtherDocSession,test:a.SourceDetector.Test.includes("<meta name='uuid' content='uuid")}],c._log=_.d.Logging.getLogger("DEd.Clipboard"),c._html2Delta=a.getConverter(c.quill,c._options.deltaFilter,Object(p.a)(a.Matchers.fancyTable).concat(Object(p.a)(a.Matchers.getMSWordList(c._log)),Object(p.a)(a.Matchers.outlookEmptyLine)),c._options.className),c.textChangedAfterPaste=new O.a.Subject,c.clipboardShortcutUsed=new O.a.Subject,c._subs=new S.a.Keeper,c.syntheticPaste=function(e){c._options.flush(),c._onPaste({delta:(new b.a).insert(e),source:y.f.Synthetic})},c._onPaste=function(e){var t=e.delta,n=e.source,a=v.a.calcAmountLength(t),r=Boolean(c.quill.getSelection())?c.quill.getSelection():{index:0,length:0};c.quill.getLength()-r.length+a>c._maxAllowedTextLength?c._lengthExceededCallback():c._flushHistory((function(){return c._doPaste([t,a],r,n)}))},c._doPaste=function(e,t,n){var a=Object(d.a)(e,2),r=a[0],i=a[1],o=c.quill.getText(),s=o.length-1,l=o.trim().length,u=(new b.a).retain(t.index).delete(t.length),p=(new b.a).retain(t.index).concat(r);Boolean(u.ops)&&u.ops.length>0&&c.quill.updateContents(Object(C.z)(u),g.sources.USER),c._options.flush(),c.quill.updateContents(Object(C.z)(p),g.sources.USER),c._options.flush();var m=0===l?"initial":t.length===s?"reset":"partial";c.quill.setSelection("initial"===m||"reset"===m?0:t.index+i,0),c.quill.focus(),c.textChangedAfterPaste.next({type:m,source:n,len:i,tags:c._fetchTagsAmount(r)})},c._getNonEmptyRange=function(){return Object(h.pipe)(k.g.fromNullable(c.quill.getSelection()),k.g.filter(y.g.nonEmpty))},c._deleteRange=function(e){var t=(new b.a).retain(e.index).delete(e.length);c.quill.updateContents(Object(C.z)(t),g.sources.USER),c.quill.setSelection(e.index,0),c._options.flush()},c._getHTMLByRange=function(e){return c.quill.setSelection(e.index,e.length),Object(h.pipe)(r.byActiveSelection(c.quill.root,n.getListLevel),k.g.map((function(e){return"<meta name='uuid' content='uuid".concat(c._uuid,"'>").concat(e)})))},c._copyRangeToClipboard=function(e){return function(t){return c.rtfSupport&&c._rangeHasFormatting(t)?c._copyHTMLByRange(e,t):c._copyPlainTextByRange(e,t)}},c._onClipboardShortcutUsed=function(e){return c.clipboardShortcutUsed.next(),e},c._getRTFContentFromClipboardEvent=function(e){return function(t){return Object(h.pipe)(T.getFromEvent(t,"html"),k.g.filter((function(e){return e.length>0})),k.g.map((function(e){return{source:a.SourceDetector.detectSource(e,Object(p.a)(c._sourceChecks).concat(Object(p.a)(a.SourceDetector.checks))),originalHTML:e}})),k.g.map((function(n){return Object(h.pipe)(e.some((function(e){return e===n.source}))?c._getPlainTextFromClipboard(t):c._html2Delta(n.originalHTML),k.g.map((function(e){return{source:n.source,delta:e}})))})),k.g.getOrElse((function(){return Object(h.pipe)(c._getPlainTextFromClipboard(t),k.g.map((function(e){return{source:y.f.PlainText,delta:e}})))})))}},c._getPlainTextFromClipboard=function(e){return Object(h.pipe)(T.getFromEvent(e,"text"),k.g.map((function(e){return(new b.a).insert(e)})))},c._fetchTagsAmount=function(e){return Array.from(e.reduce((function(e,t){return v.a.match((function(t){return Object.keys(t.attributes||{}).forEach((function(t){return e.add(t)}))}),E.e,(function(t){return Object.keys(t.attributes||{}).forEach((function(t){return e.add(t)}))}))(t),e}),new Set))},c._maxAllowedTextLength=Boolean(i.maxAllowedTextLength)?i.maxAllowedTextLength:n.DEFAULTS.maxAllowedTextLength,c._lengthExceededCallback=i.lengthExceededCallback||n.DEFAULTS.lengthExceededCallback;var u=O.a.mergeStatic(O.a.fromEvent(c.quill.root,"keydown"),O.a.fromEvent(c.quill.root,"keyup")).pipe(O.a.map((function(e){return(Boolean(e.metaKey)||e.ctrlKey)&&!0===e.shiftKey&&"v"===e.key.toLowerCase()})),O.a.distinctUntilChanged(),O.a.startWith(!1),O.a.shareReplay({bufferSize:1,refCount:!0}));return c._subs.push(O.a.fromEvent(c.quill.root,"paste").pipe(O.a.withLatestFrom(u)).subscribe((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1];return Object(h.pipe)(n,w.c.preventDefault,c._onClipboardShortcutUsed,c.rtfSupport&&!Boolean(a)?c._getRTFContentFromClipboardEvent(c.plainTextSources):Object(f.flow)(c._getPlainTextFromClipboard,k.g.map((function(e){return{source:y.f.Unknown,delta:e}}))),k.g.map(c._onPaste))})),O.a.fromEvent(c.quill.root,"copy").subscribe(Object(f.flow)(w.c.preventDefault,c._onClipboardShortcutUsed,(function(e){return Object(h.pipe)(c._getNonEmptyRange(),k.g.map(c._copyRangeToClipboard(e)))}))),O.a.fromEvent(c.quill.root,"cut").subscribe(Object(f.flow)(w.c.preventDefault,c._onClipboardShortcutUsed,(function(e){return Object(h.pipe)(c._getNonEmptyRange(),k.g.map(c._copyRangeToClipboard(e)),k.g.map(k.b.map(c._deleteRange)))})))),c.container=c.quill.addContainer("ql-clipboard"),Boolean(i.className)&&c.container.classList.add(i.className),c.container.setAttribute("contenteditable","true"),c.container.setAttribute("tabindex","-1"),c}return Object(c.a)(n,[{key:"rtfSupport",get:function(){return!1}},{key:"plainTextSources",get:function(){return[]}},{key:"_rangeHasFormatting",value:function(e){var t=this;return function(e){return Object(C.y)(t.quill.getContents(e.index,e.length)).ops.some((function(e){return k.g.isSome(v.a.getAttr(e,C.c.QuillFormatNames.is))}))}(e)||function(e){return t.quill.scroll.path(e.index+e.length).some((function(e){var t=Object(d.a)(e,1)[0];return w.c.Guardians.isLI(t.domNode)||w.c.Guardians.isH1(t.domNode)||w.c.Guardians.isH2(t.domNode)}))}(e)}},{key:"_copyHTMLByRange",value:function(e,t){var n=this;return Object(h.pipe)(this._getHTMLByRange(t),k.b.fromOption((function(){return new Error("empty html in range")})),k.b.chain((function(t){return T.setToEvent(e,{type:"html",value:t})})),k.b.chainLeft((function(e){return n._log.warn("HTML: Cannot copy html to clipboard",e),k.b.right(void 0)})),k.b.chain((function(){return T.setToEvent(e,{type:"text",value:n.quill.getText(t.index,t.length)})})),k.b.bimap((function(e){return n._log.error("HTML: Cannot copy plain text to clipboard",e),e}),(function(){return t})))}},{key:"_copyPlainTextByRange",value:function(e,t){var n=this;return Object(h.pipe)(T.setToEvent(e,{type:"text",value:this.quill.getText(t.index,t.length)}),k.b.bimap((function(e){return n._log.error("Plain text: Cannot set range to clipboard",e),e}),(function(){return t})))}},{key:"_flushHistory",value:function(e){this.quill.history.cutoff(),e(),this.quill.history.cutoff()}},{key:"convert",value:function(){return(new b.a).insert("\n")}},{key:"dangerouslyPasteHTML",value:function(){throw new Error("dangerouslyPasteHTML is not implemented")}}]),n}(g.import("core/module"));Object(l.a)(P,"getListLevel",(function(e){var t=Number((e.className||"").split("-").pop())||0;return[t,(t+1)%3==0?"lower-roman":(t+1)%2==0?"lower-alpha":"decimal"]})),Object(l.a)(P,"DEFAULTS",{maxAllowedTextLength:1e5,lengthExceededCallback:E.e}),(M=T||(T={})).setToEvent=function(e,t){return k.b.tryCatch((function(){switch(t.type){case"text":e.clipboardData.setData("text/plain",t.value);break;case"html":e.clipboardData.setData("text/html",t.value);break;default:Object(j.c)(t.type)}}),k.b.toError)},M.getFromEvent=function(e,t){switch(t){case"text":return e.clipboardData?k.g.some(e.clipboardData.getData("text/plain")):k.g.none;case"html":return e.clipboardData?k.g.some(e.clipboardData.getData("text/html")):k.g.none;default:return Object(j.c)(t)}};var N=function(e,t){return function(n){Object(u.a)(r,n);var a=Object(m.a)(r);function r(){return Object(s.a)(this,r),a.apply(this,arguments)}return Object(c.a)(r,[{key:"rtfSupport",get:function(){return e}},{key:"plainTextSources",get:function(){return t}}]),r}(P)}},kbuH:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("+vYo"),i=n("rOJn"),o=n("mgiE"),s=n("ZDrO"),c=n("yIk2");!function(e){e.create=function(e,t,n,a){const l=s.b.O.unwrap(t.style),u=s.b.O.unwrap(t.audience),d=s.b.O.unwrap(i.a.OutcomeContext.defaultAcademic),p=s.b.O.unwrap(t.domain),m=r.a.create(e),f=m.lens("style").lens(l),h=m.lens("domain").lens(p),g=m.lens("outcomeContext").lens(d).lens("type"),b=m.lens("outcomeContext").lens(d).lens("citation"),v=n.isStudentsOFE?h.view(e=>"academic"!==e):r.a.create(!0),y=c.b.invert(v),O={audience:{items:i.a.audiences,current:m.lens("audience").lens(u),default:o.g.some(t.audience),isVisible:v},formality:{items:i.a.formalityLevels,current:f,default:o.g.some(t.style),isVisible:v,shouldDisable:e=>h.view(t=>!i.a.isStyleValidWithDomain(t,e))},domain:{items:i.a.domains,current:h,default:o.g.some(t.domain),isVisible:r.a.create(!0),shouldDisable:e=>f.view(t=>n.isFree?"general"!==e:!i.a.isStyleValidWithDomain(e,t))},intent:{items:i.a.goals.filter(e=>"sell"!==e),isVisible:v,current:m.lens("goals")},type:{items:i.a.academicTypes,default:o.g.some("essay"),isVisible:y,current:g},format:{items:i.a.citation,default:o.g.some("apa"),isVisible:y,current:b}};return{localContext:m,blocks:O,showSetGoalsLoader:r.a.create(!n.demoMode&&a)}}}(a||(a={}))},kgER:function(e){e.exports=JSON.parse('{"footerWrapper":"_f0f464d7-footer-footerWrapper","footerLabel":"_b08aac52-footer-footerLabel","fadeIn":"_82ff3377-footer-fadeIn","footerArrow":"_66527578-footer-footerArrow","footerWordCounter":"_811d30fc-footer-footerWordCounter _66527578-footer-footerArrow","footerLabelContainer":"_eb089b1d-footer-footerLabelContainer","listItem":"_371d9d0b-footer-listItem","footerSqueezed":"_1a6d279b-footer-footerSqueezed _f0f464d7-footer-footerWrapper","fContainer":"_de72bac6-footer-fContainer","fItem":"_5db10d62-footer-fItem","fItemResponsive":"_2ff99833-footer-fItemResponsive","counterWrapper":"_096b72d8-footer-counterWrapper","counterWrapperStart":"_7ee76d74-footer-counterWrapperStart _096b72d8-footer-counterWrapper","counterWrapperEnd":"_f25f5d2a-footer-counterWrapperEnd _096b72d8-footer-counterWrapper","counterLabelContainerFull":"_cacd8c39-footer-counterLabelContainerFull","counterLabelShadow":"_4ddea5d3-footer-counterLabelShadow","counterContainer":"_1fc5b99a-footer-counterContainer","footerContainer":"_5c65879c-footer-footerContainer"}')},koAX:function(e,t,n){"use strict";n.d(t,"a",(function(){return qe})),n.d(t,"b",(function(){return Ke}));var a=n("8O/t"),r=n("X76w"),i=n("B8yO"),o=n("DTwm"),s=n("4GyQ"),c=n("OwvP"),l=n("mgiE"),u=n("RRF2"),d=n("111I"),p=n("xk6L"),m=n("itj6"),f=n("e92m"),h=n("jEie"),g=n("cZKX"),b=n("tiWp"),v=n("NDcT"),y=n("fC5a"),O=n("TKPA"),S=n("r6Tt"),C=n("JRBS"),w=n("F0/G"),k=n("HGxo"),E=n("2swC"),j=n("nWMp");const _=j.a.style({display:"flex",flexGrow:2,lineHeight:j.a.rem(1.315),flexWrap:"wrap"}),x={padding:0,whiteSpace:"pre-wrap"},A=j.a.style(x),I=j.a.style(Object(a.a)({color:E.a.CoreGreen60},x)),T=j.a.style(Object(a.a)({color:E.a.CoreBlue50},x)),M=j.a.style(Object(r.a)(Object(a.a)({},x),{color:E.a.CoreRed50,textDecoration:"line-through",$nest:{["& + ."+I]:{marginLeft:j.a.rem(.25)},["& + ."+T]:{marginLeft:j.a.rem(.25)}}})),P=j.a.style({fontWeight:"bolder",textDecoration:"none",paddingLeft:"1px",paddingRight:"1px",$nest:{["&."+I]:{backgroundColor:E.a.CoreGreen10},["&."+M]:{backgroundColor:E.a.CoreRed10}}}),N=e=>i.createElement("div",{className:_},Object(b.pipe)(e.diff,l.a.mapWithIndex((t,n)=>Object(O.o)(S.a.isDelete(n),S.a.isInsert(n))?i.createElement("div",Object(a.a)({key:t},Object(s.c)(S.a.isDelete(n)?M:Boolean(e.a11yContrast)?T:I,Object(O.o)(Object(k.c)(n.textChunk),Object(k.d)(n.textChunk))&&P)),i.createElement(C.a,{newText:n.textChunk,oldText:n.invertedChunk,theme:Boolean(e.a11yContrast)?w.a:w.b})):i.createElement("div",{key:t,className:A},n.textChunk))));var D=n("ySi0"),B=n("f82Z"),L=n("D6wy"),F=n("sX1a"),R=n("ZDrO"),H=n("hzat"),V=n("Njvd"),U=n("5ioF"),W=n("2zNz"),z=n("NbNH");const G=j.a.keyframes({from:{opacity:0,width:0},to:{opacity:1,width:j.a.rem(1.5)}}),q=j.a.keyframes({from:{opacity:1,width:j.a.rem(1.5)},to:{opacity:0,width:0}}),K=j.a.keyframes({from:{opacity:1},to:{opacity:0}}),$=j.a.keyframes({from:{opacity:0},to:{opacity:1}}),Z=(e,t="linear",n=".3s")=>({animation:`${e} ${n} ${t} forwards`}),Y=e=>Object(r.a)(Object(a.a)({},Z(e,"ease-out")),{display:"flex",alignItems:"center",justifyContent:"center",marginLeft:j.a.rem(W.D.Space.Space1)}),X=e=>Object(r.a)(Object(a.a)({},Z(e)),{position:"absolute"}),Q=j.a.style(Y(G)),J=j.a.style(Y(q)),ee=j.a.style(Z(K)),te=j.a.style(X($)),ne=j.a.style(Object(r.a)(Object(a.a)({},X($)),{top:0})),ae=j.a.style(Object(r.a)(Object(a.a)({},X(K)),{top:0})),re=j.a.style({marginLeft:j.a.rem(-.5)}),ie=j.a.style({position:"relative",display:"flex",boxSizing:"border-box",padding:"0 "+j.a.rem(1),alignItems:"center",justifyContent:"space-between",userSelect:"none",transform:"translateY(0)"}),oe=(j.a.style({display:"flex",flexFlow:"column",alignItems:"center",alignSelf:"center"}),j.a.style({height:j.a.rem(3),cursor:"pointer",borderRadius:j.a.rem(z.t),boxShadow:"0px 1px 8px rgb(109 117 141 / 18%)"})),se=j.a.style({stroke:"none"}),ce=(j.a.style({position:j.a.important("static"),padding:j.a.important("0 "+j.a.rem(.25)),width:j.a.important(j.a.rem(1.75)),background:j.a.important(E.a.CoreGreen50),color:j.a.important(E.a.CoreNeutral0)}),j.a.style({display:"flex",flexFlow:"column"})),le=j.a.style({position:"relative",display:"flex",flexWrap:"wrap"}),ue={marginRight:j.a.rem(.75),textTransform:"none",letterSpacing:j.a.rem(E.h.BodyLetterSpacing),fontSize:j.a.rem(E.h.BodySize)},de=j.a.style({height:j.a.rem(1.5)}),pe=j.a.style(Object(r.a)(Object(a.a)({},ue),{padding:"0 "+j.a.rem(.5),display:"flex",justifyContent:"center",alignItems:"center",minWidth:j.a.rem(6)})),me=j.a.style(Object(r.a)(Object(a.a)({},ue),{color:E.a.CoreNeutral50,fontWeight:E.h.BodyWeight,padding:"0 "+j.a.rem(.5),$nest:{i:{marginLeft:j.a.rem(-.25)},"&[data-textpos='everywhere']":{padding:"0 "+j.a.rem(.5)}}})),fe=j.a.style({fontSize:j.a.rem(E.h.BodySize)}),he=j.a.style({display:"flex",alignItems:"center",marginLeft:j.a.rem(-1)}),ge=j.a.style({maxHeight:j.a.rem(17)}),be=j.a.style({justifyContent:"space-between",height:j.a.percent(100),width:j.a.percent(100),padding:`${j.a.rem(1)} 0 ${j.a.rem(1)} ${j.a.rem(1)}`,$nest:{["& ."+he]:{marginLeft:j.a.rem(-2)}}}),ve=j.a.style({maxHeight:j.a.rem(10),position:"relative",margin:`0 ${j.a.rem(-.725)} 0 0`,padding:`0 ${j.a.rem(.875)} ${j.a.rem(.5)} 0`,listStyle:"none"}),ye=j.a.style({display:"flex",alignItems:"center",justifyContent:"space-between",$nest:{"&:hover":{background:E.a.CoreNeutral10,cursor:"pointer"}}}),Oe=j.a.style({overflowY:"auto",paddingBottom:j.a.rem(2)}),Se=j.a.style({position:"absolute",top:j.a.rem(-3),left:0,right:0,height:j.a.rem(3),width:j.a.percent(100),background:`linear-gradient(0deg, ${E.a.CoreNeutral0} 0%, ${E.a.CoreNeutral0} 10%, rgba(255,255,255,0) 100%)`,pointerEvents:"none"}),Ce=j.a.style({overflow:"hidden",flexWrap:"nowrap",width:j.a.percent(100),height:j.a.rem(2),display:"flex",justifyContent:"flex-start",alignItems:"center",fontSize:j.a.rem(.875),fontFeatureSettings:"'ss03' on, 'ss02' on",padding:"0 "+j.a.rem(.25)}),we=j.a.style({flexShrink:0}),ke=j.a.style({$nest:{'&:not([data-disabled="true"])[data-hovered="true"],&:not([data-disabled="true"])[data-active="true"]':{backgroundColor:"transparent"}}}),Ee=j.a.style({$nest:{g:{stroke:E.a.CoreNeutral50}}}),je=j.a.style({minWidth:j.a.rem(1.5),minHeight:j.a.rem(1.5)}),_e=({className:e,children:t,alertCount:n,onClick:o})=>{const l=i.useContext(v.a.Context);return i.createElement(c.a.div,Object(r.a)(Object(a.a)({role:"button"},Object(s.c)(ie,e)),{onClick:o,"aria-label":n.pipe(p.a.map(l.bulkAccept.title)),onKeyDown:e=>{[U.a.ENTER_CODE,U.a.SPACE_CODE].includes(e.keyCode)&&(e.preventDefault(),o())},tabIndex:0}),t)},xe=({className:e,children:t,onMount:n})=>i.createElement(c.a.div,Object(r.a)(Object(a.a)({},Object(s.c)(ie,e)),{mount:n}),t),Ae=d.b.Transition.make({fadeIn:te},{fadeOut:ee}),Ie=d.b.Transition.make({fadeIn:ne},{fadeOut:ae}),Te=d.b.Transition.make({visible:Q},{invisible:J}),Me=d.b.Knot.make(d.b.Grid.make(({notify:e,slots:t,state:n})=>i.createElement(c.a.Fragment,null,n.pipe(p.a.map(n=>i.createElement(y.a.Primary,{name:"bulk-accept-apply",className:pe,disabled:f.a.isInUndoneState(n),onClick:R.d.callOnce(e({type:f.a.isInInitialState(n)?m.b.Type.bulkApply:m.b.Type.bulkLooksGood,alertIds:n.alerts.map(e=>e.id)}))},f.a.isInUndoneState(n)?i.createElement(B.a,{wrapperClassName:de,size:20,variation:"white"}):t.content))))),{content:((e,t)=>d.b.Animated.make(t,d.b.Union.asOption(d.b.Node.make(({state:t})=>i.createElement(c.a.Fragment,null,t.pipe(p.a.map(t=>i.createElement(e,t))))))))(e=>{const t=i.useContext(v.a.Context);return i.createElement(i.Fragment,null,f.a.isInAppliedState(e)?t.bulkAccept.confirm:t.bulkAccept.apply(e.alerts.length))},Ie)}),Pe=()=>{const e=i.useContext(v.a.Context);return i.createElement(i.Fragment,null,e.dismiss)},Ne=e=>d.b.Node.make(({notify:t})=>i.createElement(y.a.Ghost,{className:me,name:"bulk-accept-dismiss-button",onClick:R.d.callOnce(t({type:m.b.Type.bulkDismiss}))},Object(b.pipe)(e,l.g.map(e=>i.createElement("div",{className:e},i.createElement(D.d.Undo,Object(a.a)({width:16},Object(s.c)(je,Ee))))),l.g.toNullable),i.createElement(Pe,null))),De=d.b.Node.make(({view:e,notify:t})=>{const n=i.useContext(v.a.Context);return i.createElement(c.a.Fragment,null,e("alerts").pipe(p.a.map(e=>i.createElement(y.a.Ghost,{className:me,name:"bulk-accept-undo-button",onClick:R.d.callOnce(t({type:m.b.Type.bulkUndo,alertIds:e.map(e=>e.id)}))},i.createElement("div",{className:Q},i.createElement(D.d.Undo,Object(a.a)({width:16},Object(s.c)(je,Ee)))),n.bulkAccept.undoAll))))}),Be=d.b.Union.make("visibilityState",{visible:Ne(l.g.none),applied:De,beingApplied:Ne(l.g.none),dismissed:d.b.Node.empty,undone:Ne(l.g.some(J))}),Le=d.b.Group.make({apply:Me,dismiss:Be}),Fe=({onClick:e})=>{const t=i.useContext(v.a.Context);return i.createElement("div",{className:we},i.createElement(y.a.Ghost,{name:"rejectAlertInBulk",onClick:R.d.callOnce(e),className:ke,title:t.dismiss,"aria-label":t.dismiss},i.createElement(D.d.Ignore,{className:je})))},Re=d.b.Animated.make(Te,d.b.Union.asOption(d.b.Node.make(()=>i.createElement(D.d.NotificationInfo,{className:re,width:16})))),He=d.b.Node.make(({state:e,notify:t})=>i.createElement(c.a.Fragment,null,e.pipe(p.a.map(e=>{return i.createElement("li",{className:ye},i.createElement(L.a,{align:"topCenter",title:(n=e.title,i.createElement("span",{dangerouslySetInnerHTML:{__html:n}}))},i.createElement("div",Object(r.a)(Object(a.a)({className:Ce,"data-name":"bulk-accept-alert-row"},R.d.createAccessibleClickHandler(((e,t)=>n=>t({type:m.b.Type.bulkHighlight,alert:e,clickPoint:"clientX"in n?{x:n.clientX,y:n.clientY}:n.currentTarget.getBoundingClientRect()})())(e,t))),{role:"button",tabIndex:0}),d.b.mount(Re,Object(V.b)(e)),Object(b.pipe)(e.diff,l.g.map(t=>i.createElement(N,{diff:t,a11yContrast:e.a11yContrast})),l.g.toNullable))),H.a.isBulkApplied(e)?i.createElement(i.Fragment,null):e.ignoreAllowed&&i.createElement(Fe,{onClick:t({type:m.b.Type.bulkIgnore,alertId:e.id})}));var n})))),Ve=d.b.List.make(g.Eb,He),Ue=({variant:e,state:t})=>{const n=i.useContext(v.a.Context);return i.createElement(F.Typography,{nodeType:"h3",styleType:"expanded"===e?F.Typography.Type.H4:F.Typography.Type.Base,className:fe},t.pipe(p.a.map(({alerts:e,visibilityState:t})=>"applied"===t?n.bulkAccept.appliedTitle(e.length):n.bulkAccept.title(e.length))))},We=e=>d.b.Animated.make(Ae,d.b.Union.asOption(d.b.Node.make(({state:t})=>i.createElement("div",{className:he},i.createElement(D.d.Sparkles,{className:se,width:20}),i.createElement(Ue,{state:t,variant:e}))))),ze=d.b.Grid.make(({slots:e,notify:t,state:n})=>i.createElement(_e,{className:oe,alertCount:n.pipe(p.a.map(e=>e.alerts.length)),onClick:t({type:m.b.Type.miniItemClick,id:f.a.id})},e.title)),Ge=d.b.Grid.make(({state:e,slots:t,notify:n,view:d})=>{const f=e.pipe(p.a.map(Object(o.flow)(e=>e.alerts.length,l.g.fromPredicate(e=>e>4))));return i.createElement(xe,Object(r.a)(Object(a.a)({},Object(s.c)(ge,d("renderOptions").pipe(p.a.map(h.b),p.a.map(u.e.pick("container"))))),{alertCount:e.pipe(p.a.map(e=>e.alerts.length)),onMount:n({type:m.b.Type.bulkAcceptItemShow})}),i.createElement("div",Object(s.c)(ce,be),t.title,i.createElement(c.a.ul,Object(s.c)(ve,f.pipe(p.a.map(Object(o.flow)(l.g.map(()=>Oe),l.g.orNull)))),t.suggestions),i.createElement("div",{className:le},i.createElement(c.a.Fragment,null,f.pipe(p.a.map(Object(o.flow)(l.g.map(()=>i.createElement("div",{className:Se})),l.g.orNull)))),t.controls)))}),qe=d.b.Knot.make(Ge,{title:We("expanded"),suggestions:Ve,controls:Le}),Ke=d.b.Knot.make(ze,{title:We("mini")})},lXTq:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("a5gI"),i=n("+vYo"),o=n("TKPA"),s=n("mgiE");!function(e){let t,n;!function(e){e[e.CHECKED=0]="CHECKED",e[e.NOT_CHECKED=1]="NOT_CHECKED"}(t=e.PlagiarismCheckingState||(e.PlagiarismCheckingState={})),function(e){e.Mock=class{constructor(){Object(r.a)(this,"downloadStarted",i.a.create(!1)),Object(r.a)(this,"beginDownload",o.e),Object(r.a)(this,"tryToInterrupt",o.e),Object(r.a)(this,"generateReport",()=>{throw new Error("Method not implemented.")}),Object(r.a)(this,"reportData",i.a.create(s.g.none)),Object(r.a)(this,"dedHTML",""),Object(r.a)(this,"dispose",o.e),Object(r.a)(this,"sortedAlerts",[]),Object(r.a)(this,"sortedPlagiarismAlerts",[])}}}(n=e.ViewModel||(e.ViewModel={}))}(a||(a={}))},lXop:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return m}));var a,r,i,o,s,c,l,u,d,p,m,f=n("U9Go"),h=n("RRF2"),g=n("0kuo"),b=n("TKPA"),v=n("fr9z");!function(e){var t;!function(e){var t;!function(e){e.user="user",e.api="api",e.doubleClick="doubleClick"}(t=e.Source||(e.Source={}));e.eq=Object(f.j)((function(e,n){return e.source===n.source&&(e.source===t.doubleClick&&n.source===t.doubleClick?e.selectedWord===n.selectedWord:r.equals(e.formatting,n.formatting))}))}(t=e.Meta||(e.Meta={}));e.nonEmpty=function(e){return e.length>0},e.isEmpty=function(e){return 0===e.length},e.toTextRange=function(e){return v.b.create(e.index,e.index+e.length)},e.isUserSelection=function(e){return e.meta.source===t.Source.user},e.isApiSelection=function(e){return e.meta.source===t.Source.api},e.isDoubleClickSelection=function(e){return e.meta.source===t.Source.doubleClick};var n=e.eqRange=Object(f.j)((function(e,t){return e.index===t.index&&e.length===t.length})),r=e.eqFormatting=Object(f.j)(h.e.deepEqual);e.eq=Object(f.j)((function(e,t){return n.equals(e,t)&&a.Meta.eq.equals(e.meta,t.meta)})),e.empty={index:0,length:0,meta:{source:a.Meta.Source.user,formatting:{}}}}(a||(a={})),function(e){e.DenaliOtherDocSession="denaliOtherDocSession",e.DenaliSameDocSession="denaliSameDocSession",e.MSOutlook="outlook",e.MSWord="word",e.MSWordOnline="wordOnline",e.MSExcel="excel",e.MSOffice="msoffice",e.ProbablyMSOutlookOnline="probablyMSOutlookOnline",e.GDocs="gdocs",e.GSheets="gsheets",e.ProbablyGMail="probablyGmail",e.CocoaHTMLWriter="cocoaHTMLWriter",e.DropboxPaper="dropbox_paper",e.PlainText="plainText",e.Unknown="unknown",e.Synthetic="synthetic"}(r||(r={})),function(e){e.empty={top:0,bottom:0}}(i||(i={})),l=o||(o={}),(c=l.Y||(l.Y={})).top="top",c.middle="middle",c.bottom="bottom",(s=l.X||(l.X={})).left="left",s.middle="middle",s.right="right",function(e){e.toViewport=function(e){return function(t){switch(t){case o.X.left:return e.left;case o.X.middle:return e.left+e.width/2;case o.X.right:return e.right;default:return Object(g.c)(t)}}}}(l.X||(l.X={})),function(e){e.toViewport=function(e){return function(t){switch(t){case o.Y.top:return e.top;case o.Y.middle:return e.top+e.height/2;case o.Y.bottom:return e.bottom;default:return Object(g.c)(t)}}}}(l.Y||(l.Y={})),function(e){var t;!function(e){e.textMaybeWithFormatting="text",e.onlyFormatting="formatting"}(t=e.Type||(e.Type={}));e.isTextMaybeWithFormatting=function(e){return e.type===t.textMaybeWithFormatting},e.isOnlyFormatting=function(e){return e.type===t.onlyFormatting}}(u||(u={})),function(e){e.none="none",e.fast="fast",e.initial="initial",e.fake="fake"}(d||(d={})),function(e){var t;!function(e){e.bold="bold",e.italic="italic",e.underline="underline",e.strike="strike",e.header1="header1",e.header2="header2",e.bulletList="bulletList",e.dashedList="dashedList",e.orderedList="orderedList",e.link="link"}(t=e.Type||(e.Type={}));e.is=function(e){return Object(b.w)(t,e)},e.asList=Object.values(p.Type);!function(e){e.is=function(e){return void 0!==e[t.link]}}(e.LinkPayload||(e.LinkPayload={}))}(p||(p={})),function(e){e.undo="undo",e.redo="redo",e.cut="cut",e.copy="copy",e.paste="paste",e.selectAll="selectAll"}(m||(m={}))},lkU9:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var a=n("HOlR"),r=n("5FCM"),i=n("DTwm"),o=n("OpUX"),s=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{c(a.next(e))}catch(e){i(e)}}function s(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))};function c(e,t,n,r,i){return s(this,void 0,void 0,(function*(){try{const o=yield t();a.isLeft(o)?(null==n||n.error("runTaskEither() - error running task",{taskName:e,result:o}),null==i||i(o.left)):(null==n||n.debug("runTaskEither() - task successful",{taskName:e,result:o.right}),null==r||r(o.right))}catch(t){null==i||i(t instanceof Error?t:new Error(String(t))),null==n||n.error("runTaskEither() - promise rejection running task",Object(o.a)(t)?t:new Error(String(t)),{taskName:e})}}))}const l={URI:r.g,map:r.f.map,ap:(e,t)=>Object(i.pipe)(e,r.j(t))}},lme1:function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return b}));var a=n("zCOz"),r=n("M+v9"),i=n("Q2+j"),o=n("m7tF"),s=n("TtyI"),c=n("ZqXC"),l=n("tREI"),u=n("B8yO");function d(e){return e&&e.__esModule?e.default:e}var p;function m(e,t,n){let{type:s="menu",isDisabled:c,trigger:l="press"}=e,u=(0,a.v)(),{triggerProps:m,overlayProps:f}=(0,o.e)({type:s},t,n),h=(0,r.c)(d(p)),{longPressProps:g}=(0,i.l)({isDisabled:c||"longPress"!==l,accessibilityDescription:h.format("longPressMessage"),onLongPressStart(){t.close()},onLongPress(){t.open("first")}}),b={onPressStart(e){"touch"===e.pointerType||"keyboard"===e.pointerType||c||t.toggle("virtual"===e.pointerType?"first":null)},onPress(e){"touch"!==e.pointerType||c||t.toggle()}};return delete m.onPress,{menuTriggerProps:{...m,..."press"===l?b:g,id:u,onKeyDown:e=>{if(!c&&("longPress"!==l||e.altKey)&&n&&n.current)switch(e.key){case"Enter":case" ":if("longPress"===l)return;case"ArrowDown":"continuePropagation"in e||e.stopPropagation(),e.preventDefault(),t.toggle("first");break;case"ArrowUp":"continuePropagation"in e||e.stopPropagation(),e.preventDefault(),t.toggle("last")}}},menuProps:{...f,"aria-labelledby":u,autoFocus:t.focusStrategy||!0,onClose:t.close}}}p={"ar-AE":{longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"},"bg-BG":{longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"},"cs-CZ":{longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"},"da-DK":{longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"},"de-DE":{longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"},"el-GR":{longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"},"en-US":{longPressMessage:"Long press or press Alt + ArrowDown to open menu"},"es-ES":{longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"},"et-EE":{longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"},"fi-FI":{longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"},"fr-FR":{longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."},"he-IL":{longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"},"hr-HR":{longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"},"hu-HU":{longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"},"it-IT":{longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"},"ja-JP":{longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"},"ko-KR":{longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"},"lt-LT":{longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."},"lv-LV":{longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"},"nb-NO":{longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"},"nl-NL":{longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"},"pl-PL":{longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"},"pt-BR":{longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"},"pt-PT":{longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"},"ro-RO":{longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"},"ru-RU":{longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"},"sk-SK":{longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"},"sl-SI":{longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"},"sr-SP":{longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"},"sv-SE":{longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"},"tr-TR":{longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"},"uk-UA":{longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"},"zh-CN":{longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"},"zh-TW":{longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"}};const f=new WeakMap;function h(e,t,n){let{shouldFocusWrap:r=!0,...i}=e;e["aria-label"]||e["aria-labelledby"]||console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let o=(0,a.b)(e,{labelable:!0}),{listProps:c}=(0,s.d)({...i,ref:n,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,shouldFocusWrap:r});return f.set(t,{onClose:e.onClose,onAction:e.onAction}),{menuProps:(0,a.l)(o,{role:"menu","aria-hidden":t.expandedKeys.size>0||void 0,...c,onKeyDown:e=>{"Escape"!==e.key&&c.onKeyDown(e)}})}}function g(e,t,n){let{key:o,closeOnSelect:d,isVirtualized:p,"aria-haspopup":m}=e,{direction:h}=(0,r.b)(),g=!!m,b=t.expandedKeys.has(o);var v;let y=null!==(v=e.isDisabled)&&void 0!==v?v:t.disabledKeys.has(o);var O;let S=null!==(O=e.isSelected)&&void 0!==O?O:t.selectionManager.isSelected(o),C=(0,u.useRef)(),w=(0,u.useCallback)(()=>{C.current&&(clearTimeout(C.current),C.current=void 0)},[C]),k=(0,a.s)(()=>{w(),t.setExpandedKeys(new Set([o]))});(0,a.x)(()=>()=>w(),[w]);let E=f.get(t),j=e.onClose||E.onClose,_=(0,u.useCallback)(()=>{k()},[]),x=g?_:e.onAction||E.onAction,A="menuitem";"single"===t.selectionManager.selectionMode?A="menuitemradio":"multiple"===t.selectionManager.selectionMode&&(A="menuitemcheckbox");let I=(0,a.z)(),T=(0,a.z)(),M=(0,a.z)(),P={"aria-disabled":y||void 0,role:A,"aria-label":e["aria-label"],"aria-labelledby":I,"aria-describedby":[T,M].filter(Boolean).join(" ")||void 0};"none"!==t.selectionManager.selectionMode&&(P["aria-checked"]=S),p&&(P["aria-posinset"]=t.collection.getItem(o).index,P["aria-setsize"]=(0,l.f)(t.collection)),null!=m&&(P["aria-haspopup"]=m,P["aria-expanded"]=b?"true":"false");let{itemProps:N,isFocused:D}=(0,s.c)({selectionManager:t.selectionManager,key:o,ref:n,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0}),{pressProps:B,isPressed:L}=(0,i.m)({onPressStart:e=>{"keyboard"===e.pointerType&&x&&x(o)},onPressUp:e=>{"keyboard"!==e.pointerType&&(x&&x(o),!g&&j&&(null!=d?d:"multiple"!==t.selectionManager.selectionMode)&&j())},isDisabled:y||g&&t.expandedKeys.has(o)}),{hoverProps:F}=(0,i.h)({isDisabled:y,onHoverStart(){if(!((0,i.c)()||g&&t.expandedKeys.has(o))){t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(o),o===t.selectionManager.focusedKey&&t.selectionManager.isFocused&&document.activeElement!==n.current&&(0,c.b)(n.current)}},onHoverChange:e=>{e&&g&&!t.expandedKeys.has(o)?C.current||(C.current=setTimeout(()=>{k()},200)):e||w()}}),{keyboardProps:R}=(0,i.k)({onKeyDown:e=>{if(e.repeat)e.continuePropagation();else switch(e.key){case" ":y||"none"!==t.selectionManager.selectionMode||g||!1===d||!j||j();break;case"Enter":y||!1===d||g||!j||j();break;case"ArrowRight":g&&"ltr"===h?k():e.continuePropagation();break;case"ArrowLeft":g&&"rtl"===h?k():e.continuePropagation();break;default:e.continuePropagation()}}});return{menuItemProps:{...P,...(0,a.l)(N,B,F,R)},labelProps:{id:I},descriptionProps:{id:T},keyboardShortcutProps:{id:M},isFocused:D,isSelected:S,isPressed:L,isDisabled:y}}function b(e){let{heading:t,"aria-label":n}=e,r=(0,a.v)();return{itemProps:{role:"presentation"},headingProps:t?{id:r,role:"presentation"}:{},groupProps:{role:"group","aria-label":n,"aria-labelledby":t?r:void 0}}}},lqed:function(e){e.exports=JSON.parse('{"closeIcon":"_c1d2299e-default-closeIcon","imageSection":"_6ee04329-default-imageSection"}')},m1oj:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("Wy1Y"),r=n("uKMM"),i=n("a5gI"),o=n("B/Ki"),s=n("xk6L"),c=n("mgiE"),l=n("txgs"),u=n("s1NC"),d=function(){function e(t,n,r,o){var c=this;Object(a.a)(this,e),Object(i.a)(this,"_uploadViewModel",void 0),Object(i.a)(this,"_denaliEditorModel",void 0),Object(i.a)(this,"_userAccount",void 0),Object(i.a)(this,"_environment",void 0),Object(i.a)(this,"visible",void 0),Object(i.a)(this,"size",void 0),this._uploadViewModel=t,this._denaliEditorModel=n,this._userAccount=r,this._environment=o,this.visible=this._denaliEditorModel.contentUpdated.pipe(s.a.startWith(void 0),s.a.map((function(){return!p(c._denaliEditorModel)})),s.a.distinctUntilChanged()),this.size=this._userAccount.settings.editorPreferences.view("fontSize")}return Object(r.a)(e,[{key:"uploadInputAccept",get:function(){return this._environment.has(l.b.Flag.acceptUploadByMimeTypes)?u.d.ACCEPTED_UPLOAD_MIME_TYPES.join(","):u.d.ACCEPTED_UPLOAD_EXTENSIONS.join(",")}},{key:"upload",value:function(e){this._uploadViewModel.uploadModel.upload({files:e,notify:!1,allowMultiple:!1,isDragNDrop:!1})}}]),e}(),p=function(e){var t;return e.getTextLength()>1||(t=e.getContents().delta.ops[0],Boolean(t)&&c.g.isSome(o.a.getAttrs(t)))}},m7tF:function(e,t,n){"use strict";n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return R})),n.d(t,"g",(function(){return z})),n.d(t,"a",(function(){return Y})),n.d(t,"c",(function(){return J})),n.d(t,"f",(function(){return ee})),n.d(t,"b",(function(){return ne}));var a=n("B8yO"),r=n.n(a),i=n("XGPX"),o=n("zCOz"),s=n("M+v9"),c=n("ZqXC"),l=n("Q2+j"),u=n("KqOJ"),d=n.n(u),p=n("K5qu"),m=n("ThYs");function f(e){return e&&e.__esModule?e.default:e}const h={top:"top",bottom:"top",left:"left",right:"left"},g={top:"bottom",bottom:"top",left:"right",right:"left"},b={top:"left",left:"top"},v={top:"height",left:"width"},y={width:"totalWidth",height:"totalHeight"},O={};let S="undefined"!=typeof document&&window.visualViewport;function C(e){let t=0,n=0,a=0,r=0,i=0,o=0,s={};if("BODY"===e.tagName){let i=document.documentElement;var c,l;a=i.clientWidth,r=i.clientHeight,t=null!==(c=null==S?void 0:S.width)&&void 0!==c?c:a,n=null!==(l=null==S?void 0:S.height)&&void 0!==l?l:r,s.top=i.scrollTop||e.scrollTop,s.left=i.scrollLeft||e.scrollLeft}else({width:t,height:n,top:i,left:o}=A(e)),s.top=e.scrollTop,s.left=e.scrollLeft,a=t,r=n;return{width:t,height:n,totalWidth:a,totalHeight:r,scroll:s,top:i,left:o}}function w(e,t,n,a,r,i){let o=r.scroll[e],s=a[v[e]],c=t-i-o,l=t+i-o+n;return c<0?-c:l>s?Math.max(s-l,-c):0}function k(e){if(O[e])return O[e];let[t,n]=e.split(" "),a=h[t]||"right",r=b[a];h[n]||(n="center");let i=v[a],o=v[r];return O[e]={placement:t,crossPlacement:n,axis:a,crossAxis:r,size:i,crossSize:o},O[e]}function E(e,t,n,a,r,o,s,c,l,u){let{placement:d,crossPlacement:p,axis:m,crossAxis:f,size:h,crossSize:b}=a,v={};v[f]=e[f],"center"===p?v[f]+=(e[b]-n[b])/2:p!==f&&(v[f]+=e[b]-n[b]),v[f]+=o;const O=e[f]-n[b]+l+u,S=e[f]+e[b]-l-u;if(v[f]=(0,i.a)(v[f],O,S),d===m){const n=c?s[h]:t[y[h]];v[g[m]]=Math.floor(n-e[m]+r)}else v[m]=Math.floor(e[m]+e[h]+r);return v}function j(e,t,n,a,r,i){let{placement:o,axis:s,size:c}=i;return o===s?Math.max(0,n[s]-e[s]-e.scroll[s]+t[s]-a[s]-a[g[s]]-r):Math.max(0,e[c]+e[s]+e.scroll[s]-t[s]-n[s]-n[c]-a[s]-a[g[s]]-r)}function _(e,t,n,a,r,o,s,c,l,u,d,p,m,f,h,b){let v=k(e),{size:y,crossAxis:O,crossSize:S,placement:C,crossPlacement:_}=v,x=E(t,c,n,v,d,p,u,m,h,b),A=d,I=j(c,u,t,r,o+d,v);if(s&&a[y]>I){let e=k(`${g[C]} ${_}`),a=E(t,c,n,e,d,p,u,m,h,b);j(c,u,t,r,o+d,e)>I&&(v=e,x=a,A=d)}let T=w(O,x[O],n[S],c,l,o);x[O]+=T;let M=function(e,t,n,a,r,i){return null!=e.top?Math.max(0,t.height+t.top+t.scroll.top-(n.top+e.top)-(r.top+r.bottom+i)):Math.max(0,a.top+n.top-(t.top+t.scroll.top)-(r.top+r.bottom+i))}(x,c,u,t,r,o);f&&f<M&&(M=f),n.height=Math.min(n.height,M),x=E(t,c,n,v,A,p,u,m,h,b),T=w(O,x[O],n[S],c,l,o),x[O]+=T;let P={},N=t[O]+.5*t[S]-n[O];const D=h/2+b,B=n[S]-h/2-b,L=t[O]-n[O]+h/2,F=t[O]+t[S]-n[O]-h/2,R=(0,i.a)(N,L,F);return P[O]=(0,i.a)(R,D,B),{position:x,maxHeight:M,arrowOffsetLeft:P.left,arrowOffsetTop:P.top,placement:v.placement}}function x(e){let{placement:t,targetNode:n,overlayNode:a,scrollNode:r,padding:i,shouldFlip:o,boundaryElement:s,offset:c,crossOffset:l,maxHeight:u,arrowSize:d=0,arrowBoundaryOffset:p=0}=e,m=a instanceof HTMLElement?function(e){let t=e.offsetParent;t&&t===document.body&&"static"===window.getComputedStyle(t).position&&!T(t)&&(t=document.documentElement);if(null==t)for(t=e.parentElement;t&&!T(t);)t=t.parentElement;return t||document.documentElement}(a):document.documentElement,f=m===document.documentElement;const h=window.getComputedStyle(m).position;let g=!!h&&"static"!==h,b=f?A(n):I(n,m);if(!f){let{marginTop:e,marginLeft:t}=window.getComputedStyle(n);b.top+=parseInt(e,10)||0,b.left+=parseInt(t,10)||0}let v=A(a),y=function(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}(a);var O;return v.width+=y.left+y.right,v.height+=y.top+y.bottom,_(t,b,v,{top:(O=r).scrollTop,left:O.scrollLeft,width:O.scrollWidth,height:O.scrollHeight},y,i,o,C(s),C(m),"BODY"===s.tagName?A(m):I(m,s),c,l,g,u,d,p)}function A(e){let{top:t,left:n,width:a,height:r}=e.getBoundingClientRect(),{scrollTop:i,scrollLeft:o,clientTop:s,clientLeft:c}=document.documentElement;return{top:t+i-s,left:n+o-c,width:a,height:r}}function I(e,t){let n,a=window.getComputedStyle(e);if("fixed"===a.position){let{top:t,left:a,width:r,height:i}=e.getBoundingClientRect();n={top:t,left:a,width:r,height:i}}else{n=A(e);let a=A(t),r=window.getComputedStyle(t);a.top+=(parseInt(r.borderTopWidth,10)||0)-t.scrollTop,a.left+=(parseInt(r.borderLeftWidth,10)||0)-t.scrollLeft,n.top-=a.top,n.left-=a.left}return n.top-=parseInt(a.marginTop,10)||0,n.left-=parseInt(a.marginLeft,10)||0,n}function T(e){let t=window.getComputedStyle(e);return"none"!==t.transform||/transform|perspective/.test(t.willChange)||"none"!==t.filter||"paint"===t.contain||"backdropFilter"in t&&"none"!==t.backdropFilter||"WebkitBackdropFilter"in t&&"none"!==t.WebkitBackdropFilter}const M=new WeakMap;function P(e){let{triggerRef:t,isOpen:n,onClose:r}=e;(0,a.useEffect)(()=>{if(!n||null===r)return;let e=e=>{let n=e.target;if(!t.current||n instanceof Node&&!n.contains(t.current))return;let a=r||M.get(t.current);a&&a()};return window.addEventListener("scroll",e,!0),()=>{window.removeEventListener("scroll",e,!0)}},[n,r,t])}let N="undefined"!=typeof document&&window.visualViewport;function D(e){let{direction:t}=(0,s.b)(),{arrowSize:n=0,targetRef:r,overlayRef:i,scrollRef:c=i,placement:l="bottom",containerPadding:u=12,shouldFlip:d=!0,boundaryElement:p=("undefined"!=typeof document?document.body:null),offset:m=0,crossOffset:f=0,shouldUpdatePosition:h=!0,isOpen:g=!0,onClose:b,maxHeight:v,arrowBoundaryOffset:y=0}=e,[O,S]=(0,a.useState)({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),C=[h,l,i.current,r.current,c.current,u,d,p,m,f,g,t,v,y,n],w=(0,a.useCallback)(()=>{if(!(!1!==h&&g&&i.current&&r.current&&c.current&&p))return;let e=x({placement:B(l,t),overlayNode:i.current,targetNode:r.current,scrollNode:c.current,padding:u,shouldFlip:d,boundaryElement:p,offset:m,crossOffset:f,maxHeight:v,arrowSize:n,arrowBoundaryOffset:y});Object.keys(e.position).forEach(t=>i.current.style[t]=e.position[t]+"px"),i.current.style.maxHeight=null!=e.maxHeight?e.maxHeight+"px":void 0,S(e)},C);var k;(0,o.x)(w,C),k=w,(0,o.x)(()=>(window.addEventListener("resize",k,!1),()=>{window.removeEventListener("resize",k,!1)}),[k]),(0,o.y)({ref:i,onResize:w});let E=(0,a.useRef)(!1);(0,o.x)(()=>{let e,t=()=>{E.current=!0,clearTimeout(e),e=setTimeout(()=>{E.current=!1},500),w()};return null==N||N.addEventListener("resize",t),null==N||N.addEventListener("scroll",t),()=>{null==N||N.removeEventListener("resize",t),null==N||N.removeEventListener("scroll",t)}},[w]);let j=(0,a.useCallback)(()=>{E.current||b()},[b,E]);return P({triggerRef:r,isOpen:g,onClose:b&&j}),{overlayProps:{style:{position:"absolute",zIndex:1e5,...O.position,maxHeight:O.maxHeight}},placement:O.placement,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:O.arrowOffsetLeft,top:O.arrowOffsetTop}},updatePosition:w}}function B(e,t){return"rtl"===t?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}const L=[];function F(e,t){let{onClose:n,shouldCloseOnBlur:r,isOpen:i,isDismissable:o=!1,isKeyboardDismissDisabled:s=!1,shouldCloseOnInteractOutside:u}=e;(0,a.useEffect)(()=>(i&&L.push(t),()=>{let e=L.indexOf(t);e>=0&&L.splice(e,1)}),[i,t]);let d=()=>{L[L.length-1]===t&&n&&n()};(0,l.i)({ref:t,onInteractOutside:o?e=>{u&&!u(e.target)||(L[L.length-1]===t&&(e.stopPropagation(),e.preventDefault()),d())}:null,onInteractOutsideStart:e=>{u&&!u(e.target)||L[L.length-1]===t&&(e.stopPropagation(),e.preventDefault())}});let{focusWithinProps:p}=(0,l.g)({isDisabled:!r,onBlurWithin:e=>{e.relatedTarget&&!(0,c.d)(e.relatedTarget)&&(u&&!u(e.relatedTarget)||n())}});return{overlayProps:{onKeyDown:e=>{"Escape"!==e.key||s||(e.stopPropagation(),e.preventDefault(),d())},...p},underlayProps:{onPointerDown:e=>{e.target===e.currentTarget&&e.preventDefault()}}}}function R(e,t,n){let{type:r}=e,{isOpen:i}=t;(0,a.useEffect)(()=>{n&&n.current&&M.set(n.current,t.close)});let s=void 0;"menu"===r?s=!0:"listbox"===r&&(s="listbox");let c=(0,o.v)();return{triggerProps:{"aria-haspopup":s,"aria-expanded":i,"aria-controls":i?c:null,onPress:t.toggle},overlayProps:{id:c}}}const H="undefined"!=typeof document&&window.visualViewport,V=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let U,W=0;function z(e={}){let{isDisabled:t}=e;(0,o.x)(()=>{if(!t)return W++,1===W&&(U=(0,o.f)()?function(){let e,t=0,n=window.pageXOffset,a=window.pageYOffset,r=(0,o.a)(G(document.documentElement,"paddingRight",window.innerWidth-document.documentElement.clientWidth+"px"),G(document.documentElement,"overflow","hidden"),G(document.body,"marginTop",`-${a}px`));window.scrollTo(0,0);let i=(0,o.a)(q(document,"touchstart",n=>{e=(0,o.d)(n.target),e===document.documentElement&&e===document.body||(t=n.changedTouches[0].pageY)},{passive:!1,capture:!0}),q(document,"touchmove",n=>{if(!e||e===document.documentElement||e===document.body)return void n.preventDefault();let a=n.changedTouches[0].pageY,r=e.scrollTop,i=e.scrollHeight-e.clientHeight;0!==i&&((r<=0&&a>t||r>=i&&a<t)&&n.preventDefault(),t=a)},{passive:!1,capture:!0}),q(document,"touchend",e=>{let t=e.target;$(t)&&t!==document.activeElement&&(e.preventDefault(),t.style.transform="translateY(-2000px)",t.focus(),requestAnimationFrame(()=>{t.style.transform=""}))},{passive:!1,capture:!0}),q(document,"focus",e=>{let t=e.target;$(t)&&(t.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{t.style.transform="",H&&(H.height<window.innerHeight?requestAnimationFrame(()=>{K(t)}):H.addEventListener("resize",()=>K(t),{once:!0}))}))},!0),q(window,"scroll",()=>{window.scrollTo(0,0)}));return()=>{r(),i(),window.scrollTo(n,a)}}():(0,o.a)(G(document.documentElement,"paddingRight",window.innerWidth-document.documentElement.clientWidth+"px"),G(document.documentElement,"overflow","hidden"))),()=>{W--,0===W&&U()}},[t])}function G(e,t,n){let a=e.style[t];return e.style[t]=n,()=>{e.style[t]=a}}function q(e,t,n,a){return e.addEventListener(t,n,a),()=>{e.removeEventListener(t,n,a)}}function K(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let t=(0,o.d)(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let n=t.getBoundingClientRect().top,a=e.getBoundingClientRect().top;a>n+e.clientHeight&&(t.scrollTop+=a-n)}e=t.parentElement}}function $(e){return e instanceof HTMLInputElement&&!V.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var Z;function Y(e){let{onDismiss:t,...n}=e,a=(0,s.c)(f(Z)),i=(0,o.w)(n,a.format("dismiss"));return r.a.createElement(m.a,null,r.a.createElement("button",{...i,tabIndex:-1,onClick:()=>{t&&t()}}))}Z={"ar-AE":{dismiss:"تجاهل"},"bg-BG":{dismiss:"Отхвърляне"},"cs-CZ":{dismiss:"Odstranit"},"da-DK":{dismiss:"Luk"},"de-DE":{dismiss:"Schließen"},"el-GR":{dismiss:"Απόρριψη"},"en-US":{dismiss:"Dismiss"},"es-ES":{dismiss:"Descartar"},"et-EE":{dismiss:"Lõpeta"},"fi-FI":{dismiss:"Hylkää"},"fr-FR":{dismiss:"Rejeter"},"he-IL":{dismiss:"התעלם"},"hr-HR":{dismiss:"Odbaci"},"hu-HU":{dismiss:"Elutasítás"},"it-IT":{dismiss:"Ignora"},"ja-JP":{dismiss:"閉じる"},"ko-KR":{dismiss:"무시"},"lt-LT":{dismiss:"Atmesti"},"lv-LV":{dismiss:"Nerādīt"},"nb-NO":{dismiss:"Lukk"},"nl-NL":{dismiss:"Negeren"},"pl-PL":{dismiss:"Zignoruj"},"pt-BR":{dismiss:"Descartar"},"pt-PT":{dismiss:"Dispensar"},"ro-RO":{dismiss:"Revocare"},"ru-RU":{dismiss:"Пропустить"},"sk-SK":{dismiss:"Zrušiť"},"sl-SI":{dismiss:"Opusti"},"sr-SP":{dismiss:"Odbaci"},"sv-SE":{dismiss:"Avvisa"},"tr-TR":{dismiss:"Kapat"},"uk-UA":{dismiss:"Скасувати"},"zh-CN":{dismiss:"取消"},"zh-TW":{dismiss:"關閉"}};let X=new WeakMap,Q=[];function J(e,t=document.body){let n=new Set(e),a=new Set,r=e=>{for(let t of e.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))n.add(t);let t=e=>{if(n.has(e)||a.has(e.parentElement)&&"row"!==e.parentElement.getAttribute("role"))return NodeFilter.FILTER_REJECT;for(let t of n)if(e.contains(t))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t}),o=t(e);if(o===NodeFilter.FILTER_ACCEPT&&i(e),o!==NodeFilter.FILTER_REJECT){let e=r.nextNode();for(;null!=e;)i(e),e=r.nextNode()}},i=e=>{var t;let n=null!==(t=X.get(e))&&void 0!==t?t:0;"true"===e.getAttribute("aria-hidden")&&0===n||(0===n&&e.setAttribute("aria-hidden","true"),a.add(e),X.set(e,n+1))};Q.length&&Q[Q.length-1].disconnect(),r(t);let o=new MutationObserver(e=>{for(let t of e)if("childList"===t.type&&0!==t.addedNodes.length&&![...n,...a].some(e=>e.contains(t.target))){for(let e of t.removedNodes)e instanceof Element&&(n.delete(e),a.delete(e));for(let e of t.addedNodes)!(e instanceof HTMLElement||e instanceof SVGElement)||"true"!==e.dataset.liveAnnouncer&&"true"!==e.dataset.reactAriaTopLayer?e instanceof Element&&r(e):n.add(e)}});o.observe(t,{childList:!0,subtree:!0});let s={observe(){o.observe(t,{childList:!0,subtree:!0})},disconnect(){o.disconnect()}};return Q.push(s),()=>{o.disconnect();for(let e of a){let t=X.get(e);1===t?(e.removeAttribute("aria-hidden"),X.delete(e)):X.set(e,t-1)}s===Q[Q.length-1]?(Q.pop(),Q.length&&Q[Q.length-1].observe()):Q.splice(Q.indexOf(s),1)}}function ee(e,t){let{triggerRef:n,popoverRef:a,isNonModal:r,isKeyboardDismissDisabled:i,...s}=e,{overlayProps:c,underlayProps:l}=F({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!r,isKeyboardDismissDisabled:i},a),{overlayProps:u,arrowProps:d,placement:p}=D({...s,targetRef:n,overlayRef:a,isOpen:t.isOpen,onClose:null});return z({isDisabled:r}),(0,o.x)(()=>{if(t.isOpen&&!r&&a.current)return J([a.current])},[r,t.isOpen,a]),{popoverProps:(0,o.l)(c,u),arrowProps:d,underlayProps:l,placement:p}}const te=r.a.createContext(null);function ne(e){let t=(0,p.a)(),{portalContainer:n=(t?null:document.body),isExiting:i}=e,[o,s]=(0,a.useState)(!1),u=(0,a.useMemo)(()=>({contain:o,setContain:s}),[o,s]);if(!n)return null;let m=e.children;return e.disableFocusManagement||(m=r.a.createElement(c.a,{restoreFocus:!0,contain:o&&!i},m)),m=r.a.createElement(te.Provider,{value:u},r.a.createElement(l.a,null,m)),d.a.createPortal(m,n)}},mEGS:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("MHMU"),i=n("DTwm"),o=n("tiWp"),s=n("1MDf"),c=n("K40b"),l=n("mgiE"),u=n("wqt/"),d=n("AHUV"),p=n("mML0"),m=n("fFVt");!function(e){let t;!function(e){e.show=c.a.getShow(r.e,d.a.show),e.eq=c.a.getEq(d.a.Id.ord,d.a.ord),e.empty=()=>c.a.empty();e.toRegistered=function(e){return c.a.fromMutation(t=>{Object(o.pipe)(e,c.a.forEach((e,n)=>d.a.isRegistered(e)&&t.set(n,l.m.left(e)),(e,n,a)=>{d.a.isRegistered(e)?d.a.isRegistered(n)?t.set(a,l.m.both(e,n)):t.set(a,l.m.left(e)):d.a.isRegistered(n)&&t.set(a,l.m.right(n))},(e,n)=>d.a.isRegistered(e)&&t.set(n,l.m.right(e))))})},e.filter=function(e){return c.a.filter(e,(t,n)=>e(t)&&e(n),e)}}(t=e.Diff||(e.Diff={}));e.empty=p.a.iso.wrap(p.a.empty),e.eq=s.a(p.a.eqShow),e.show=p.a.eqShow;e.get=function(e){return Object(i.flow)(p.a.iso.unwrap,p.a.get(e))},e.reduce=function(e,t){return Object(i.flow)(p.a.iso.unwrap,p.a.reduce(e,t))},e.diff=function(e,t){return p.a.diff(p.a.iso.unwrap(e),p.a.iso.unwrap(t))},e.isEmpty=function(e){return 0===p.a.iso.unwrap(e).entries.size},e.find=function(e){return Object(i.flow)(p.a.iso.unwrap,p.a.find(e))},e.size=function(){return Object(i.flow)(p.a.iso.unwrap,p.a.size)},e.from=function(e){return Object(o.pipe)(p.a.createDiff({added:e.reduce((e,t)=>e.set(t.id,d.a.create(t)),new Map)}),u.a.recover(i.constVoid),m.a.applyDiff,l.j.map(Object(i.flow)(u.a.recover(i.constVoid),p.a.iso.wrap)))(p.a.empty)}}(a||(a={}))},mML0:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("000W"),o=n("MHMU"),s=n("tiWp"),c=n("1MDf"),l=n("K40b"),u=n("mgiE"),d=n("0kuo"),p=n("AHUV");!function(e){e.iso=c.d(),e.empty={entries:new Map,order:[],latestChangeDiff:l.a.empty(),diffVersion:0};function t(e,t){return n=>n.order.reduce((e,a)=>(Object(d.f)(n.entries.has(a),"got corrupted state"),t(e,n.entries.get(a))),e)}e.get=function(e){return t=>u.g.fromNullable(t.entries.get(e))},e.find=function(e){return t(u.g.none,(t,n)=>Object(s.pipe)(t,u.g.alt(()=>u.g.fromPredicate(e)(n))))},e.reduce=t;e.size=e=>e.entries.size;function n({added:e=new Map,updated:t=new Map,removed:n=new Map}){const a=new Map,r=l.a.fromMutation(r=>{n.forEach((e,t)=>{r.set(t,u.m.left(e))}),e.forEach((e,t)=>{r.has(t)?a.set(t,`alert add overlaps with alert remove: toAdd(${p.a.show.show(e)} overlapWith(${u.m.getShow(p.a.show,p.a.show).show(r.get(t))}))`):r.set(t,u.m.right(e))}),t.forEach(([e,t],n)=>{r.has(n)?a.set(n,`alert update overlaps with unexpected alert add/remove: toUpdate(${p.a.show.show(t)}) overlapWith(${u.m.getShow(p.a.show,p.a.show).show(r.get(n))}))`):r.set(n,u.m.both(e,t))})});return a.size>0?u.b.left({recovered:r,rejected:a}):u.b.right(r)}e.diff=function(e,t){return 0===e.diffVersion?u.b.unsafeGet(n({added:t.entries})):e.diffVersion+1===t.diffVersion?t.latestChangeDiff:u.e.symmetricDiff(p.a.ord)(e.entries,t.entries)},e.applyDiff=function(e){return t=>{const n=u.e.leftToRight(u.e.Merger.createStrict(p.a.ordShow),t.entries,e);return Object(s.pipe)(n,u.b.bimap(n=>{const a=l.a.fromMutation(t=>{Object(s.pipe)(e,l.a.forEach((e,a)=>!n.rejected.has(a)&&t.set(a,u.m.left(e)),(e,a,r)=>!n.rejected.has(r)&&t.set(r,u.m.both(e,a)),(e,a)=>!n.rejected.has(a)&&t.set(a,u.m.right(e))))});return{recovered:h(n.recovered,a,t.diffVersion),rejected:n.rejected}},n=>h(n,e,t.diffVersion)))}},e.applyDiffLoose=function(e){return t=>{const n=u.e.leftToRight(u.e.Merger.createLoose(p.a.ordShow),t.entries,e);return Object(s.pipe)(n,u.b.bimap(n=>({recovered:h(n.recovered,e,t.diffVersion),rejected:n.rejected}),n=>h(n,e,t.diffVersion)))}},e.createDiff=n,e.toJSON=function(e){return{entries:Array.from(e.entries),order:e.order,latestChangeDiff:l.a.toJSON(e.latestChangeDiff),diffVersion:e.diffVersion}};var a=e.diffEqShow=Object(r.a)({},l.a.getEq(p.a.Id.ord,p.a.ord),l.a.getShow(p.a.Id.show,p.a.show));const m=Object(r.a)({},u.e.getEq(p.a.Id.ord,p.a.ord),u.e.getShow(p.a.Id.show,p.a.show)),f=Object(r.a)({},i.jb(p.a.Id.ord),i.mb(p.a.Id.show));e.contentEqShow=Object(r.a)({},u.c.getStructEq({entries:m,order:f,latestChangeDiff:u.c.eqEmpty,diffVersion:u.c.eqEmpty}),o.a({entries:m,order:f,latestChangeDiff:a,diffVersion:o.d})),e.eqShow=Object(r.a)({},u.c.getStructEq({entries:m,order:f,latestChangeDiff:a,diffVersion:u.c.eqNumber}),o.a({entries:m,order:f,latestChangeDiff:a,diffVersion:o.d}));function h(e,t,n){return{entries:e,order:Object(s.pipe)(e,u.e.values(p.a.ord),i.zb(e=>e.id)),latestChangeDiff:t,diffVersion:n+1}}}(a||(a={}))},mMX2:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var a=n("nWMp"),r=n("2zNz"),i=n("wiMD"),o=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function s(e){var t,n;const a=null!==(t=e.default)&&void 0!==t?t:{},{$nest:r}=a,i=o(a,["$nest"]);return Object.assign(Object.assign({},i),{$nest:Object.assign({"&:not([data-disabled='true'])[data-hovered='true']":Object.assign({},e.hovered),"&:not([data-disabled='true']):hover":Object.assign({},e.hovered),"&[data-disabled='true']":Object.assign({},e.disabled),"&:not([data-disabled='true']):active":Object.assign({},e.active),"&[data-active='true']":Object.assign({},null!==(n=e.selected)&&void 0!==n?n:e.active),"&[hidden]":Object.assign({},e.hidden),"& > i":Object.assign({},e.icon),"&[data-textpos='left']":Object.assign({},e.textPosLeft),"&[data-textpos='right']":Object.assign({},e.textPosRight),"&[data-textpos='everywhere']":Object.assign({},e.textPosEverywhere)},r)})}function c(e){return{'&:focus:not(:active):not([data-active="true"])':{boxShadow:e,zIndex:1},'&:focus:not(:active):not(:focus-visible):not([data-active="true"])':{boxShadow:"none"},"&:focus-visible":{boxShadow:e,zIndex:1}}}function l(e,t,n=!1){const i=(e,t)=>void 0!==e&&"transparent"!==e?`${t?t+", ":""} inset 0 0 0 1px ${e}`:t,o=(n,a=!1)=>{const i=t?((e,t=!1)=>t?"0 0 0 2px "+e:"inset 0 0 0 2px "+e)(e.focusOutline,a):((e,t=!1)=>t?`inset 0 0 0 2px ${e}, inset 0 0 0 3px ${r.D.SemanticColor.Color.Text.Base.Inverse}`:`0 0 0 2px ${r.D.SemanticColor.Color.Text.Base.Inverse}, 0 0 0 4px ${e}`)(e.focusOutline,a);return c(n?a?`${i}, ${n}`:`${n}, ${i}`:i)},l=i(e.borderDefault,e.boxShadow),u=i(e.borderHover,e.boxShadow),d=i(e.borderActive,e.boxShadow);return s({default:{borderRadius:e.borderRadius,fontWeight:e.fontWeight,color:e.colorDefault,backgroundColor:e.backgroundDefault,boxShadow:l,$nest:o(l,n)},hovered:{color:e.colorHover,backgroundColor:e.backgroundHover,boxShadow:u,$nest:o(u,n)},active:{color:e.colorActive,backgroundColor:e.backgroundActive,boxShadow:d,$nest:o(d,n)},icon:{stroke:a.a.important(e.colorDefault),fill:a.a.important(e.colorDefault),$nest:{'&[data-hovered="true"]':{stroke:a.a.important(e.colorHover),fill:a.a.important(e.colorHover)}}}})}const u={primaryLightLegacy:{fontWeight:"bold",backgroundDefault:i.a.BrandGreen60,colorDefault:r.D.SemanticColor.Color.Text.Base.Inverse,backgroundHover:i.a.BrandGreen80,colorHover:r.D.SemanticColor.Color.Text.Base.Inverse,backgroundActive:i.a.BrandGreen60,colorActive:r.D.SemanticColor.Color.Background.Base.Default,focusOutline:i.a.BrandGreen60},primaryDarkLegacy:void 0,primaryLight:{fontWeight:"bold",backgroundDefault:i.a.BackgroundBrandDefault,colorDefault:r.D.SemanticColor.Color.Text.Base.Inverse,backgroundHover:i.a.BackgroundBrandHover,colorHover:r.D.SemanticColor.Color.Text.Base.Inverse,backgroundActive:i.a.BackgroundBrandActive,colorActive:r.D.SemanticColor.Color.Background.Base.Default,focusOutline:i.a.BorderBrandDefault},primaryDark:void 0,secondaryLightLegacy:{backgroundDefault:"transparent",colorDefault:r.D.Color.BlueGray80,borderDefault:r.D.Color.BlueGray5,backgroundHover:r.D.Color.BlueGray0,colorHover:r.D.Color.BlueGray80,borderHover:void 0,backgroundActive:void 0,colorActive:void 0,borderActive:void 0,focusOutline:i.a.BlueGray80},secondaryDarkLegacy:void 0,secondaryLight:{backgroundDefault:"transparent",colorDefault:i.a.ButtonTextSecondaryDefault,borderDefault:i.a.BorderBrandDefault,backgroundHover:i.a.ButtonBackgroundSecondaryHover,colorHover:i.a.ButtonTextSecondaryHover,borderHover:i.a.BorderBrandDefault,backgroundActive:i.a.ButtonBackgroundSecondaryActive,colorActive:i.a.ButtonTextSecondaryActive,borderActive:i.a.BorderBrandDefault,focusOutline:i.a.BorderBrandDefault},secondaryDark:void 0,tertiaryLightLegacy:{backgroundDefault:"transparent",colorDefault:r.D.SemanticColor.Color.Background.Neutral.Default,borderDefault:"transparent",backgroundHover:r.D.Color.BlueGray0,colorHover:r.D.SemanticColor.Color.Text.Base.Subdued,borderHover:void 0,backgroundActive:r.D.Color.BlueGray0,colorActive:r.D.SemanticColor.Color.Text.Base.Subdued,borderActive:void 0,focusOutline:i.a.BlueGray80},tertiaryDarkLegacy:{backgroundDefault:"transparent",colorDefault:i.a.ButtonTextTertiaryDefaultInverse,borderDefault:"transparent",backgroundHover:i.a.ButtonBackgroundTertiaryHoverInverse,colorHover:i.a.ButtonTextTertiaryHoverInverse,borderHover:i.a.ButtonBorderTertiaryHoverInverse,backgroundActive:i.a.ButtonBackgroundTertiaryActiveInverse,colorActive:i.a.ButtonTextTertiaryActiveInverse,borderActive:i.a.ButtonBorderTertiaryActiveInverse,focusOutline:i.a.BorderBrandDefault},tertiaryLight:{backgroundDefault:"transparent",colorDefault:i.a.ButtonTextTertiaryDefault,borderDefault:"transparent",backgroundHover:i.a.ButtonBackgroundTertiaryHover,colorHover:i.a.ButtonTextTertiaryHover,borderHover:i.a.ButtonBorderTertiaryHover,backgroundActive:i.a.ButtonBackgroundTertiaryActive,colorActive:i.a.ButtonTextTertiaryActive,borderActive:i.a.ButtonBorderTertiaryActive,focusOutline:i.a.BorderBrandDefault},tertiaryDark:{backgroundDefault:"transparent",colorDefault:i.a.ButtonTextTertiaryDefaultInverse,borderDefault:"transparent",backgroundHover:i.a.ButtonBackgroundTertiaryHoverInverse,colorHover:i.a.ButtonTextTertiaryHoverInverse,borderHover:i.a.ButtonBorderTertiaryHoverInverse,backgroundActive:i.a.ButtonBackgroundTertiaryActiveInverse,colorActive:i.a.ButtonTextTertiaryActiveInverse,borderActive:i.a.ButtonBorderTertiaryActiveInverse,focusOutline:i.a.BorderBrandDefault},roundLightLegacy:{borderRadius:"100%",backgroundDefault:r.D.SemanticColor.Color.Background.Base.Default,colorDefault:i.a.ButtonTextTertiaryDefault,borderDefault:i.a.ButtonBorderTertiaryActive,backgroundHover:i.a.ButtonBackgroundTertiaryHover,colorHover:i.a.ButtonTextTertiaryHover,borderHover:i.a.ButtonBorderTertiaryHover,backgroundActive:i.a.ButtonBackgroundTertiaryActive,colorActive:i.a.ButtonTextTertiaryActive,borderActive:i.a.ButtonBorderTertiaryActive,focusOutline:i.a.BlueGray80,boxShadow:r.D.Elevation.Elevation200.boxShadow},roundDarkLegacy:void 0,roundLight:{borderRadius:"100%",backgroundDefault:r.D.SemanticColor.Color.Background.Base.Default,colorDefault:i.a.ButtonTextTertiaryDefault,borderDefault:i.a.ButtonBorderTertiaryActive,backgroundHover:i.a.ButtonBackgroundTertiaryHover,colorHover:i.a.ButtonTextTertiaryHover,borderHover:i.a.ButtonBorderTertiaryHover,backgroundActive:i.a.ButtonBackgroundTertiaryActive,colorActive:i.a.ButtonTextTertiaryActive,borderActive:i.a.ButtonBorderTertiaryActive,focusOutline:i.a.BorderBrandDefault,boxShadow:r.D.Elevation.Elevation200.boxShadow},roundDark:void 0};function d(e){var t,n;const i=u[`${e.variant}${"dark"===e.theme?"Dark":"Light"}${e.flatUI?"":"Legacy"}`];return a.a.style(function(e,t,n){const i="small"===e?1.5:"medium"===e?1.75:2,o=t?0:a.a.rem(r.D.Space.Space2);return s({default:{borderRadius:a.a.rem(r.D.Radius.Radius1),display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",transform:"scale(1)",overflow:"hidden",padding:0,outline:"none",border:0,backgroundColor:"transparent",verticalAlign:"middle",whiteSpace:"nowrap",cursor:"default",userSelect:"none",fontWeight:"normal",fontSize:n?void 0:a.a.rem(.75),minWidth:a.a.rem(i),minHeight:a.a.rem(i),lineHeight:a.a.rem(i)},icon:{minWidth:a.a.rem(i),minHeight:a.a.rem(i),lineHeight:a.a.rem(i)},hovered:{cursor:"pointer"},disabled:{opacity:.4,cursor:"not-allowed",$nest:{'& > i[data-disabled="true"]':{fill:"inherit",stroke:"inherit"}}},hidden:{display:"none"},textPosLeft:{padding:"0 0 0 "+o},textPosRight:{padding:`0 ${o} 0 0`},textPosEverywhere:{padding:`0 ${o} 0 ${o}`}})}(null!==(t=e.size)&&void 0!==t?t:"large",null!==(n=e.compact)&&void 0!==n&&n,e.flatUI),i?l(i,"dark"===e.theme,e.contained):void 0,...Array.from([]).concat(e.style).map(e=>s(null!=e?e:{})))}},mPu6:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("B8yO"),r=n("+vYo"),i=n("Y9fM");const o=a.createContext(r.a.create(i.a))},mUkt:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("000W"),s=n("MHMU"),c=n("DTwm"),l=n("tiWp"),u=n("+vYo"),d=n("0Qjk"),p=n("mgiE"),m=n("TKPA"),f=n("M3t0"),h=n("xk6L"),g=n("La5+"),b=n("yIk2"),v=n("Hj2R"),y=n("F0rY");!function(e){let t,n,a;!function(e){let t;!function(e){e.ord=p.h.ordString,e.show=s.e,e.create=e=>e}(t=e.Id||(e.Id={}));e.isSpecial=e=>Object.values(d.a.MutedAlerts.SpecialCategory).includes(e),e.specialCategoryDescription="Special category"}(t=e.Category||(e.Category={})),function(e){e.filter=e=>p.e.filter(t=>e(t.id)),e.filterWithCount=(e,t)=>n=>{const a=Array.from(n.keys()),o=y.a.getAlerts(t,a).byCategory;return Object(l.pipe)(n,p.e.filterMap(t=>e(t.id)?p.g.some(Object(i.a)(Object(r.a)({},t),{alertsCount:o.get(t.id).filter(v.a.isRegistered).length})):p.g.none))}}(n=e.BaseMutedCategories||(e.BaseMutedCategories={})),function(e){let a,r;!function(e){let t;!function(e){e.CategoriesChanged="CategoriesChanged"}(t=e.Type||(e.Type={})),e.isChangedEvent=function(e){return e.type===t.CategoriesChanged}}(a=e.Events||(e.Events={})),e.create=function(e,r,i,s,O){const S=f.d.Logging.getLogger("MutedAlertsModel"),C=u.a.create(new Map),w=new h.a.Subject,k=new g.a.Keeper,E=u.a.create(!1);return k.push(E.pipe(h.a.switchMap(t=>e.pipe(h.a.filter(()=>!t),h.a.filter(d.a.CAPIEvent.is("session_started")),h.a.map(e=>function(e){const t=e.map(e=>[e.userMuteCategory,{id:e.userMuteCategory,description:e.userMuteCategoryDescription,scope:e.userMuteScope}]);return new Map(t)}(e.userMutedCategories)),h.a.tap(b.b.toAtom(C)),h.a.tap(()=>w.next({type:a.Type.CategoriesChanged}))))).subscribe(),C.pipe(h.a.pairwise(),h.a.map(([e,n])=>function(e,n){return{muted:p.e.diffKeys(t.Id.ord)(e,n),unmuted:p.e.diffKeys(t.Id.ord)(n,e)}}(e,n)),h.a.map(function(e){return({muted:t,unmuted:n})=>({toMute:y.a.getAlerts(e,t).all.filter(e=>e.mute!==v.a.MuteStateType.Muted),toUnmute:y.a.getAlerts(e,n).all.filter(e=>e.mute!==v.a.MuteStateType.Unmuted)})}(i)),h.a.tap(({toMute:e,toUnmute:t})=>{e.length>0&&s.changeMuteState(e,v.a.MuteStateType.Muted),t.length>0&&s.changeMuteState(t,v.a.MuteStateType.Unmuted)})).subscribe()),{events:w,mutedCategories:C,muteCategories:e=>{E.set(!0),Object(l.pipe)(r.sendFeedback({kind:d.a.MutedFeedbackType.MUTE,userMuteScope:O,userMuteCategories:e}),p.l.chain(()=>(E.set(!1),p.l.right(m.e))),p.l.mapLeft(e=>{S.warn("Alerts could not be muted on CAPI",e)}))();const n=y.a.getAlerts(i,e);0===n.all.filter(e=>e.mute!==v.a.MuteStateType.Muted).length&&S.warn("No alerts were muted on category mute",{categoryIds:e});const s=function(e,n,a){return r=>{const i=new Map(r);return e.forEach((e,r)=>{t.isSpecial(r)?i.set(r,{id:r,scope:n,description:t.specialCategoryDescription}):Object(l.pipe)(o.xb(0,e),p.g.chain(e=>e.muteCategory),p.g.fold(()=>a.error("No alerts to mute",r),e=>i.set(r,{id:e.id,description:e.description,scope:n})))}),i}}(n.byCategory,O,S)(C.get());return C.set(s),w.next({type:a.Type.CategoriesChanged}),p.b.right(void 0)},unmuteCategories:e=>{E.set(!0),Object(l.pipe)(r.sendFeedback({kind:d.a.MutedFeedbackType.UNMUTE,userMuteScope:O,userMuteCategories:e}),p.l.chain(()=>(E.set(!1),p.l.right(m.e))),p.l.mapLeft(e=>{S.warn("Alerts could not be un-muted on CAPI",e)}))();return 0===y.a.getAlerts(i,e).all.filter(e=>e.mute!==v.a.MuteStateType.Unmuted).length&&S.warn("No alerts were unmuted on category unmute",{categoryIds:e}),C.modify(function(e,t){return n=>{const a=new Map(n);return e.forEach(e=>{n.has(e)?a.delete(e):t.error("Tried to unmute a category which is not muted",e)}),a}}(e,S)),w.next({type:a.Type.CategoriesChanged}),p.b.right(void 0)},getMutedCategories:()=>Object(l.pipe)(C.get(),n.filterWithCount(Object(c.not)(t.isSpecial),i)),getMutedSpecialCategories:()=>Object(l.pipe)(C.get(),n.filter(t.isSpecial)),loadCachedMutedCategories:e=>{C.set(e)},dispose:()=>k.dispose()}},function(e){e.create=function(){return{events:h.a.EMPTY,mutedCategories:u.a.create(new Map),getMutedCategories:()=>new Map,getMutedSpecialCategories:()=>new Map,muteCategories:e=>p.b.right(void 0),unmuteCategories:e=>p.b.right(void 0),loadCachedMutedCategories:m.e,dispose:m.e}}}(r=e.Mock||(e.Mock={}))}(a=e.CategoriesModel||(e.CategoriesModel={}))}(a||(a={}))},"may+":function(e,t,n){e.exports=n.p+"files/b788e8a0ec2b2ab3fe6f0d17e4508835/inter-bold.woff"},mp9r:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return E}));var a=n("nWMp"),r=n("NbNH"),i=n("sfTT"),o=n("7Cqk");const s=a.a.keyframes({from:{opacity:0,transform:"translateY(50%)"},to:{opacity:1,transform:"translateY(0)"}}),c=a.a.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(-25%)"}}),l=a.a.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(100%)"}}),u=a.a.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(150%)"}}),d=a.a.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),p=a.a.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),m=a.a.keyframes({from:{transform:"translateY(-10%)"},to:{transform:"translateY(0)"}}),f=a.a.keyframes({from:{transform:"translateY(100%)"},to:{transform:"translateY(0)"}}),h=a.a.keyframes({from:{transform:"translateY(150%)"},to:{transform:"translateY(0)"}}),g=a.a.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),b=a.a.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(125%)"}}),v={opacity:0,animation:`${s} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},y={transformOrigin:"top",animation:`${i.c} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{["& ."+o.b.bundleInnerContainerSelector]:{animation:`${c} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{["& ."+o.b.bundleFakeCard1Selector]:{animation:`${l} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},["& ."+o.b.bundleFakeCard2Selector]:{animation:`${u} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},O={transformOrigin:"top",animation:`${d} ${a.a.seconds(r.d/1500)} ${i.f} forwards`,$nest:{["& ."+o.b.bundleInnerContainerSelector]:{animation:`${c} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{["& ."+o.b.bundleFakeCard1Selector]:{animation:`${l} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},["& ."+o.b.bundleFakeCard2Selector]:{animation:`${u} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},S={animation:`${p} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{["& ."+o.b.bundleInnerContainerSelector]:{animation:`${m} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{["& ."+o.b.bundleFakeCard1Selector]:{animation:`${f} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},["& ."+o.b.bundleFakeCard2Selector]:{animation:`${h} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},C={animation:`${g} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{["& ."+o.b.bundleInnerContainerSelector]:{animation:`${m} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{["& ."+o.b.bundleFakeCard1Selector]:{animation:`${f} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},["& ."+o.b.bundleFakeCard2Selector]:{animation:`${h} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},w={animation:`${b} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},k=a.a.stylesheet({focused2renderedBundleMain:[v],focused2renderedBundleShade:[i.e,y],focused2renderedBundleShadeClockwise:[i.e,O],rendered2focusedBundleMain:[i.d,S],rendered2focusedBundleMainClockwise:[i.d,C],rendered2focusedBundleShade:[i.e,w]}),E=new Map([[i.c,k.focused2renderedBundleShade],[d,k.focused2renderedBundleShadeClockwise],[b,k.rendered2focusedBundleShade]])},mtPC:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m}));var a,r=n("a5gI"),i=n("0kuo"),o=n("D2TP"),s=n("d3CI"),c=n("wdnv");!function(e){e.compose=function(e){return t=>s.a.compose(e.map(e=>e(t)))},e.map=function(e,t){return n=>t(e(n))}}(a||(a={}));const l=(e,t,n)=>a=>a===o.a.SpecialId.Plagiarism?c.a.Plagiarism.getAlertsHandler(t):((e,t)=>n=>{if(o.a.isOutcomeId(n))return c.a.WithSuccess.getAlertHandler(e,t);switch(n){case o.a.SpecialId.Premium:return c.a.Premium.getAlertsHandler(e,t);case o.a.SpecialId.AllAlerts:case o.a.SpecialId.PredictionTakeaways:case o.a.SpecialId.PredictionEmogenie:case o.a.SpecialId.RealTimeProofit:case o.a.SpecialId.FreePremiumAlerts:return c.a.WithSuccess.getAlertHandler(e,t);default:return Object(i.c)(n)}})(e,n)(a),u=(e,t,n,a,r)=>i=>n(i)?c.a.WithBundles.getAlertsHandler(e,t,r):a(i);class d{create(e,t){return this._lensPredicate(t)?c.a.WithBundles.create(e,t,this._itemEq,this._itemOrd):this._inner.create(e,t)}constructor(e,t,n,a){Object(r.a)(this,"_lensPredicate",void 0),Object(r.a)(this,"_inner",void 0),Object(r.a)(this,"_itemEq",void 0),Object(r.a)(this,"_itemOrd",void 0),this._lensPredicate=e,this._inner=t,this._itemEq=n,this._itemOrd=a}}class p{create(e,t){return e===o.a.SpecialId.Plagiarism?c.a.Plagiarism.create(t,this._itemEq,this._itemOrd):this._inner.create(e,t)}constructor(e,t,n){Object(r.a)(this,"_inner",void 0),Object(r.a)(this,"_itemEq",void 0),Object(r.a)(this,"_itemOrd",void 0),this._inner=e,this._itemEq=t,this._itemOrd=n}}class m{create(e,t){const n=()=>c.a.WithSuccess.create(e,t,this._itemEq,this._itemOrd);if(o.a.isOutcomeId(e))return n();switch(e){case o.a.SpecialId.Premium:return c.a.Premium.create(t,this._itemEq,this._itemOrd);case o.a.SpecialId.AllAlerts:case o.a.SpecialId.PredictionTakeaways:case o.a.SpecialId.PredictionEmogenie:case o.a.SpecialId.RealTimeProofit:case o.a.SpecialId.FreePremiumAlerts:return n();default:return Object(i.c)(e)}}constructor(e,t){Object(r.a)(this,"_itemEq",void 0),Object(r.a)(this,"_itemOrd",void 0),this._itemEq=e,this._itemOrd=t}}},mxxk:function(e,t,n){"use strict";n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return M}));var a=n("a5gI"),r=n("8O/t"),i=n("X76w"),o=n("hcme"),s=n("mMt2"),c=n("B8yO"),l=n("DTwm"),u=n("4GyQ"),d=n("OwvP"),p=n("+vYo"),m=n("XQlQ"),f=n("7IMz"),h=n("CRC+"),g=n("1MPA"),b=n("D2TP"),v=n("Hj2R"),y=n("xk6L"),O=n("yIk2"),S=n("mgiE"),C=n("RRF2"),w=n("3n8C"),k=n("No46"),E=n("7pft"),j=n("/pMd"),_=function(e){var t=e.lensPreview,n=e.activeLensId,a=e.cardVisualMode,r=e.onClick;return c.createElement(j.c,{lens:t,activeLensId:n,tooltipAlignment:"left",cardVisualMode:a,onClick:r})},x=function(e,t){var n=function(e){return function(t,n,a){return function(){if("list"===t){if(n===b.a.SpecialId.AllAlerts)return void e.events.next({type:"switchToAll",focusFirst:!0,actionSource:v.b.sidebar});e.events.next({type:"switchToLens",id:n,title:a,focusFirst:!0,actionSource:v.b.sidebar})}}}}(e);return e.premiumButtonData.view((function(o){return Object(r.a)(Object(a.a)({},b.a.SpecialId.AllAlerts,(function(t){var a=t.mode,i=t.className;return function(e,t,n,a){return c.createElement(E.a,Object(r.a)({isActive:e.activeLensId.view(b.a.isMainLens),onClick:n(t,b.a.SpecialId.AllAlerts)},Object(u.c)(k.a.allAlertsBtn,a)))}(e,a,n,i)})),Object.values(e.lensPreviews).reduce((function(t,o){return Object(i.a)(Object(r.a)({},t),Object(a.a)({},o.id,(function(t){var a=t.mode;return function(e,t,n,a){return c.createElement(_,{key:t.id,lensPreview:t,activeLensId:e.activeLensId,cardVisualMode:e.cardVisualMode,onClick:a(n,t.id,t.title)})}(e,o,a,n)})))}),{}),t?function(e,t,n){return Object(l.pipe)(t,S.g.fold((function(){return Object(a.a)({},b.a.SpecialId.FreePremiumAlerts,(function(t){var a=t.mode;return c.createElement(j.b,{id:b.a.SpecialId.FreePremiumAlerts,name:"lens-free-premium",activeLensId:e.activeLensId,data:e.freePremiumButtonData,onClick:n(a,b.a.SpecialId.FreePremiumAlerts)})}))}),(function(){return Object(a.a)({},b.a.SpecialId.Premium,(function(t){var a=t.mode;return c.createElement(j.b,{id:b.a.SpecialId.Premium,name:"lens-premium",activeLensId:e.activeLensId,data:e.premiumButtonData,onClick:n(a,b.a.SpecialId.Premium)})}))})))}(e,o,n):{})}))};var A=function(e){return function(t){return e.denali.isPremiumLenseFirst&&!e.premiumLensButtonInFooter?function(e){return[e[e.length-1]].concat(Object(s.a)(e.slice(0,e.length-1)))}(t):t}},I=function(e){var t=e.children,n=e.mount;return c.createElement(d.a.div,{mount:n,className:k.a.wrapper},t)},T=function(e){var t=e.navigationViewModel,n=e.renderLensButtons,a=void 0===n?x:n,r=e.features,i=c.useContext(m.a.Context),s=f.a.useRectWatcher(),u=s.rect,g=s.onMount,v=f.a.useRectWatcher(),O=v.rect,w=v.onMount,E=u.pipe(y.b.compact,y.a.pluck("height"),y.a.filter(Boolean),y.a.take(1),y.a.withLatestFrom(O.pipe(y.b.compact,y.a.pluck("top"))),y.a.switchMap((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return i.pipe(y.a.map((function(e){return(e.rect.height-n)/2-a})))})),y.a.startWith(0),y.a.distinctUntilChanged(),y.a.map(k.c)),j=a(t,!r.premiumLensButtonInFooter),_=c.createElement(d.a.Fragment,null,j.view(Object.values).view(A(r)).view(S.a.mapWithIndex((function(e,t){return c.createElement(t,{key:e,mode:"list"})})))),I=c.createElement(d.a.Fragment,null,p.a.combine(t.activeLensId,j,(function(e,t){return Object(l.pipe)(t,C.e.pick(e),S.g.fromNullable,S.g.getOrElse((function(){return t[b.a.SpecialId.AllAlerts]})),(function(e){return c.createElement(e,{mode:"single"})}))})));return c.createElement("div",{ref:w},c.createElement(h.a,{activeDescendantId:t.activeLensId,label:I,name:"lenses-navigation-dropdown",appearanceBehavior:"mouseHover",align:"left",customPosition:{top:E,left:k.b}},c.createElement("div",{ref:g},_)))},M=function(e){var t=e.navigationViewModel,n=e.features,a=e.renderLensButtons,r=(void 0===a?x:a)(t,!n.premiumLensButtonInFooter),i=c.createElement(d.a.Fragment,null,r.view((function(e){return C.e.omit(e,b.a.SpecialId.AllAlerts)})).view(Object.values).view(A(n)).view(S.a.mapWithIndex((function(e,t){return c.createElement(t,{key:e,mode:"list"})})))),o=function(){return window.matchMedia(w.a.collapsedSidebarQuery).matches},s=O.a.getResizeObservable(document.documentElement).pipe(y.a.map(o),y.a.startWith(o()));return c.createElement(d.a.Fragment,null,s.pipe(y.a.map((function(e){return e?c.createElement(T,{navigationViewModel:t,features:n}):c.createElement(d.a.Fragment,null,r.view(C.e.pick(b.a.SpecialId.AllAlerts)).view((function(e){return c.createElement(e,{mode:"list"})})),c.createElement(g.a,{name:"lenses"},i))}))))}},mybP:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return a}));var a,r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("hcme"),c=n("DTwm"),l=n("kVyi"),u=n("xk6L"),d=n("ykgB"),p=n("mgiE"),m=n("skc2"),f=n("TKPA"),h=n("Eve8"),g=n("s1NC"),b=function(){function e(t,n,i,f,b,v,y,O){var S=this;Object(r.a)(this,e),Object(o.a)(this,"_doxApi",void 0),Object(o.a)(this,"_appRouter",void 0),Object(o.a)(this,"_notificationsManager",void 0),Object(o.a)(this,"_telemetry",void 0),Object(o.a)(this,"_platformEnvironment",void 0),Object(o.a)(this,"_environment",void 0),Object(o.a)(this,"_config",void 0),Object(o.a)(this,"_features",void 0),Object(o.a)(this,"_upload",void 0),Object(o.a)(this,"_navigateToDocument",void 0),Object(o.a)(this,"_navigateOnUpload",void 0),Object(o.a)(this,"uploadModel",void 0),Object(o.a)(this,"state",void 0),this._doxApi=t,this._appRouter=n,this._notificationsManager=i,this._telemetry=f,this._platformEnvironment=b,this._environment=v,this._config=y,this._features=O,this._upload=function(e){return S._doxApi.createDocument(l.a.Create.file(e,l.a.UploadFileMode.plain))},this._navigateToDocument=function(e,t){return S._appRouter.navigate(h.a.routes.denali_editor.href({docId:e}),t)},this._navigateOnUpload=Object(c.pipe)(this._features,p.g.chain((function(e){return e.deDeprecation})),p.g.map((function(e){return e.daysLeft.view((function(e){return e<1?function(){S._platformEnvironment.actions.openPopup(new m.a(S._config.funnel.signin))}:S._navigateToDocument}))})),p.g.getOrElse(Object(c.constant)(u.a.of(this._navigateToDocument)))),this.uploadModel=new g.c.UploadModelImpl((function(e){return S._upload(e)}),this._navigateOnUpload,this._telemetry,this._notificationsManager,this._environment,this._config),this.state=this.uploadModel.state.pipe(u.a.pairwise(),u.a.map((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return d.a.isInProgress(r)?a.State.loading:d.a.isOk(r)||d.a.isIdle(r)&&d.a.isOk(n)?a.State.uploaded:a.State.idle})),u.a.startWith(a.State.idle))}return Object(i.a)(e,[{key:"isUploaded",value:function(e,t){var n=Object(c.pipe)(this._appRouter.locationState,p.g.chain((function(e){return p.g.fromNullable(e.uploadedFileType)}))),a=Object(c.pipe)(this._appRouter.locationState,p.g.chain((function(e){return p.g.fromNullable(e.uploadedFileName)}))),r=void 0!==e?Object(c.pipe)(n,p.g.exists((function(t){return t===e}))):p.g.isSome(n),i=void 0!==t?Object(c.pipe)(a,p.g.exists((function(e){return t.test(e)}))):p.g.isSome(a);return r||i}},{key:"dispose",value:function(){this.uploadModel.dispose()}}]),e}();!function(e){!function(e){e.idle="idle",e.loading="loading",e.uploaded="uploaded"}(e.State||(e.State={}));var t=function(){function e(){Object(r.a)(this,e),Object(o.a)(this,"uploadModel",{navigated:f.e}),Object(o.a)(this,"state",u.a.EMPTY),Object(o.a)(this,"dispose",f.e)}return Object(i.a)(e,[{key:"isUploaded",value:function(e,t){throw new Error("Method not implemented.")}},{key:"showUploadNotificationIfNeeded",value:function(){throw new Error("Method not implemented.")}}]),e}();e.Mock=t}(a||(a={}))},n8j0:function(e){e.exports=JSON.parse('{"editor":"_b4dbc6b7-denali-editor-editor","editorClipboard":"_4276c5e6-denali-editor-editorClipboard","graySelection":"_38e369d9-denali-editor-graySelection"}')},nNHm:function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return S}));var a=n("8O/t"),r=n("X76w"),i=n("vGXj"),o=n("B8yO"),s=n("NDcT"),c=n("nWMp"),l=n("fB2g"),u=n("2swC"),d=n("7Pyj"),p=n("z+ZZ"),m="report-sections-document_insights-",f={insightsSection:"".concat(m,"insightsSection"),insightTable:"".concat(m,"insightTable"),insightHeader:"".concat(m,"insightHeader"),insightBody:"".concat(m,"insightBody"),insightTextCell:"".concat(m,"insightTextCell"),insightTextHeader:"".concat(m,"insightTextHeader"),insightScoreCell:"".concat(m,"insightScoreCell"),insightScore:"".concat(m,"insightScore")},h={paddingRight:c.a.px(32*d.a),width:c.a.px(321*d.a)},g={width:c.a.px(191*d.a),verticalAlign:"top",textTransform:"lowercase"},b={insightsSection:c.a.joinClasses([f.insightsSection,l.a.style(p.d,{$nest:{"&:not(:first-child)":{marginTop:c.a.px(24*d.a)}}})]),insightTable:c.a.joinClasses([f.insightTable,l.a.style(p.b,{marginTop:c.a.px(24*d.a),width:c.a.px(512*d.a)})]),insightHeader:c.a.joinClasses([f.insightHeader,l.a.style({letterSpacing:0,fontWeight:"bold",fontSize:c.a.px(18*d.a),lineHeight:c.a.px(32*d.a)})]),insightBody:c.a.joinClasses([f.insightBody,l.a.style({color:u.a.CoreNeutral50,letterSpacing:c.a.px(.11*d.a),fontSize:c.a.px(13*d.a),lineHeight:c.a.px(20*d.a)})]),insightTextCell:c.a.joinClasses([f.insightTextCell,l.a.style(h)]),insightTextHeader:c.a.joinClasses([f.insightTextHeader,l.a.style(h,{textTransform:"capitalize"})]),insightScoreCell:c.a.joinClasses([f.insightScoreCell,l.a.style(g)]),insightScore:c.a.joinClasses([f.insightScore,l.a.style(g,{color:u.a.CoreBlue50,letterSpacing:c.a.px(-.1*d.a)})])},v=function(e){var t=e.header,n=e.description,a=e.measure,r=e.score;return o.createElement("section",{className:b.insightsSection},o.createElement("table",{className:b.insightTable},o.createElement("tbody",null,o.createElement("tr",{className:b.insightHeader},o.createElement("td",{className:b.insightTextHeader},t),o.createElement("td",{className:b.insightScore},r)),o.createElement("tr",{className:b.insightBody},o.createElement("td",{className:b.insightTextCell},n),o.createElement("td",{className:b.insightScoreCell},a)))))},y=function(e){var t=e.score,n=Object(i.a)(e,["score"]);return o.createElement(v,Object(r.a)(Object(a.a)({},n),{score:"".concat("number"!=typeof t||t<0?0:t>100?100:Math.round(t),"%")}))},O=function(e){var t=e.score,n=Object(i.a)(e,["score"]);return o.createElement(v,Object(r.a)(Object(a.a)({},n),{score:"".concat("number"!=typeof t?0:Math.round(10*t)/10)}))},S=function(e){var t=e.stats,n=o.useContext(s.a.Context);return o.createElement("div",null,o.createElement(y,{header:n.performance.uniqueWordsTitle,description:n.performance.report.uniqueWordsDescription,measure:n.performance.uniqueWordsTitle,score:t.uniqueWords}),o.createElement(y,{header:n.performance.rareWordsTitle,description:n.performance.rareWords,measure:n.performance.rareWordsTitle,score:t.rareWords}),o.createElement(O,{header:n.performance.wordLengthTitle,description:n.performance.report.wordLengthDescription,measure:n.performance.report.wordLengthMeasure,score:t.wordLength}),o.createElement(O,{header:n.performance.sentenceLengthTitle,description:n.performance.report.sentenceLengthDescription,measure:n.performance.report.sentenceLengthMeasure,score:t.sentenceLength}))}},nvxh:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("M3t0"),i=n("XIJR");!function(e){var t=function(e,t){return function(n){var a=n.pageId,r=n.placement,i=n.bannerType,o=n.advancedAlerts,s=void 0===o?[]:o,c=n.inline,l=void 0!==c&&c,u=n.numberOfAdvancedAlerts,d=n.numberOfCriticalAlerts,p=n.sessionUuid,m=n.upgradeHookName,f=n.upgradeHookSlot,h=n.upgradeHookVariant,g=s.reduce((function(e,t){var n=t.lensType;return e[n]=e[n]?e[n]+1:1,e}),{});return("show"===e?t.getPremiumButtonShow:t.getPremiumButtonClick).bind(t)(a,i,g.clarity,g.correctness,g.delivery,g.engagement,l,(null!=u?u:s.length>0)?s.length:void 0,d,r,p,m,f,h)}},n=function(e){return function(t){var n=t.pageId,a=t.upgradeHookName,o=t.upgradeHookSlot,s=t.upgradeHookVariant;return r.d.TimeSeries.rootFemetrics.getMetric(i.a.Metrics.GetPremiumButton).getCounter("show"===e?i.a.MetricsActions.Show:i.a.MetricsActions.Click).setContext({pageId:n,upgradeHookName:a,upgradeHookSlot:o,upgradeHookVariant:s}).increment()}};e.create=function(e){return{trackShow:t("show",e),trackClick:t("click",e),countShow:n("show"),countClick:n("click")}}}(a||(a={}))},oLzq:function(e){e.exports=JSON.parse('{"proofitModal":"_d5199d01-proofit-modals-proofitModal","proofitModalBody":"_2909cbe7-proofit-modals-proofitModalBody","proofitOrderModal":"_9aa2aeac-proofit-modals-proofitOrderModal","proofitOrderSuccess":"_94dba52c-proofit-modals-proofitOrderSuccess","proofitExitSurvey":"_7c2079aa-proofit-modals-proofitExitSurvey"}')},oZJ9:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a,r=n("a5gI"),i=n("B8yO"),o=n("NDcT"),s=n("fC5a"),c=n("wuWi"),l=n("RRF2"),u=n("LzNK"),d=n("jSIJ"),p=(n("8Iss"),n("5d0x")),m=n("OwvP"),f=n("ySi0"),h=(n("v0BD"),n("lqed")),g=function(e){var t=e.children,n=e.icon,a=e.onClose,r=e.className,o=e.onTransitionEnd;return i.createElement(m.a.div,{className:r,onTransitionEnd:o},i.createElement(s.a,{name:"survey-close",className:h.closeIcon,onClick:a},i.createElement(f.d.Close,null)),i.createElement("section",{className:h.imageSection},n),t)},b=(n("/zl3"),n("S6NP")),v=(a={},Object(r.a)(a,d.p.FreeClarityAlertsControl,"https://www.surveymonkey.com/r/3ZCHBMP"),Object(r.a)(a,d.p.FreeClarityAlertsEnabled,"https://www.surveymonkey.com/r/3ZHVKTS"),Object(r.a)(a,d.p.MostActiveUsers,"https://grammarly.qualtrics.com/jfe/form/SV_82Lkzx9EQX37nFA"),Object(r.a)(a,d.j.SuperScrollWithAutoJump,"https://www.surveymonkey.com/r/H6TH28M"),Object(r.a)(a,d.j.SuperScrollWithoutAutoJump,"https://www.surveymonkey.com/r/H62KVPC"),a),y=function(e){var t=e.surveyType,n=e.onClose,a=e.onRemindLater,r=i.useContext(o.a.Context).survey.newUser,d=i.useContext(u.a.Context),m=d.gnarSpec,f=d.pageId;return i.useEffect((function(){m.surveyPopupShow(f,t)}),[m,f,t]),i.createElement(g,{className:l.c.classes(b.notification,p.z300),onClose:function(){n(),m.closeSurveyButtonClick(f,t)},icon:i.createElement("div",{className:b.designerAvatar})},i.createElement("section",{className:b.contentSection},i.createElement(c.g,{className:b.title},r.title),i.createElement(c.a,{className:b.content},r.content),i.createElement(s.a.Group,{className:b.btnGroup},i.createElement(s.a.Primary,{name:"take-survey",className:b.surveyBtn,onClick:function(){n(),m.takeSurveyButtonClick(f,t)},href:v[t],target:"_blank"},r.takeSurvey),i.createElement(s.a.Caps,{name:"remind-later",onClick:function(){a(),m.remindLaterButtonClick(f,t)}},r.remindLater))))}},osAs:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("8O/t"),r=n("X76w"),i=n("DTwm"),o=n("tiWp"),s=n("xk6L"),c=n("TKPA"),l=n("mgiE"),u=n("Hj2R"),d=n("D2TP");const p=Object(c.b)(u.a.isRegistered,Object(i.not)(u.a.isMuted)),m=e=>t=>Object(c.b)(p,e(t));var f;!function(e){e.create=function(e,t){const n=m(t=>e[t]);return{lensFilters:new Map(Object.entries(e)),alertVisibleInText:e=>m(e=>t[e])(e),alertVisibleInSidebar:n,getLensesFilter:t=>e[t],alertCanBeDisplayed:p,alertIsBulkAcceptable:e=>Object(c.b)(n(e),u.a.isBulkAcceptable)}};const t=e=>t=>e===t.lensId,n=()=>e=>Object(o.pipe)(e.freePremium,l.g.contains("unlocked"));e.getAlertVisibleInTextFilter=function(e,t){return t.pipe(s.a.distinctUntilChanged((e,t)=>e.currentLens.id===t.currentLens.id),s.a.map(t=>({filter:Object(c.p)(e.alertVisibleInText(t.currentLens.id),u.a.isBulkApplied),lensId:t.currentLens.id})))};var h=e.defaultLensFilters={[d.a.SpecialId.Clarity]:t(d.a.SpecialId.Clarity),[d.a.SpecialId.Correctness]:t(d.a.SpecialId.Correctness),[d.a.SpecialId.Delivery]:t(d.a.SpecialId.Delivery),[d.a.SpecialId.Engagement]:t(d.a.SpecialId.Engagement),[d.a.SpecialId.Vox]:t(d.a.SpecialId.Vox),[d.a.SpecialId.KnowledgeHub]:t(d.a.SpecialId.KnowledgeHub),[d.a.SpecialId.FreePremiumAlerts]:Object(c.p)(n(),t(d.a.SpecialId.Premium)),[d.a.SpecialId.Plagiarism]:t(d.a.SpecialId.Plagiarism),[d.a.SpecialId.DraftAI]:i.constFalse,[d.a.SpecialId.Cheetah]:i.constFalse,[d.a.SpecialId.Premium]:t(d.a.SpecialId.Premium),[d.a.SpecialId.AllAlerts]:u.a.belongsToAllAlerts,[d.a.SpecialId.Closed]:i.constFalse,[d.a.SpecialId.PredictionTakeaways]:u.a.belongsToPredictionTakeaways,[d.a.SpecialId.PredictionEmogenie]:u.a.belongsToPredictionEmogenie,[d.a.SpecialId.RealTimeProofit]:t(d.a.SpecialId.RealTimeProofit)};e.defaultTextFilters=Object(r.a)(Object(a.a)({},h),{[d.a.SpecialId.Closed]:u.a.isInline,[d.a.SpecialId.FreePremiumAlerts]:Object(c.p)(n(),t(d.a.SpecialId.Premium)),[d.a.SpecialId.Premium]:f.defaultLensFilters[d.a.SpecialId.Premium]})}(f||(f={}))},p81r:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("a5gI"),i=n("DTwm"),o=n("mgiE"),s=n("0kuo"),c=n("TKPA"),l=n("M3t0"),u=n("UK5+"),d=n("Hj2R"),p=n("mEGS"),m=n("hzat");!function(e){e.Impl=class{constructor(e,t,n,a){Object(r.a)(this,"_checkingState",void 0),Object(r.a)(this,"_positionManager",void 0),Object(r.a)(this,"_alertsReader",void 0),Object(r.a)(this,"_alertCanBeDisplayed",void 0),Object(r.a)(this,"_log",void 0),Object(r.a)(this,"findClosestAlertHighlight",void 0),Object(r.a)(this,"findNextAlertInText",void 0),Object(r.a)(this,"findPremiumAlert",void 0),this._checkingState=e,this._positionManager=t,this._alertsReader=n,this._alertCanBeDisplayed=a,this._log=l.d.Logging.getLogger("AlertSearchService"),this.findClosestAlertHighlight=(e,t)=>Object(i.pipe)(this._positionManager.findClosestToPosition(e,e=>u.a.is(e)&&u.b.isVisible(e)&&!u.b.isApplied(e)&&Object(i.pipe)(this._alertsReader.getRegistered(e.meta.alertId),o.g.exists(n=>this._alertCanBeDisplayed(n)&&t(n)&&n.getHighlightRanges().some(t=>t.meta.id===e.meta.id)))),o.g.chain(e=>Object(i.pipe)(this._alertsReader.getRegistered(e.meta.alertId),o.g.map(t=>{const n={alert:m.a.fromModel(t),highlightIndex:t.getHighlightRanges().findIndex(t=>t.meta.id===e.meta.id)};return n.highlightIndex<0&&(this._log.error("findClosestAlertRange returned a range which doesn't exist in alert.highlightRanges",{alert:n.alert.toString(),range:JSON.stringify(e),positionManagerRanges:JSON.stringify(this._positionManager.findRanges(e=>u.a.is(e)&&e.meta.alertId===t.id)),hasPendingRanges:t.hasNewRangesForUpdate}),n.highlightIndex=0),n})))),this.findNextAlertInText=({alert:e,highlightIndex:t},n)=>{const a=e.getHighlightRanges();return Object(s.f)(t<a.length,"AHI is out of highlightRanges length",`hr length: ${a.length}, ahi: ${t}`),this.findClosestAlertHighlight(a[t].end,n)},this.findPremiumAlert=()=>Object(i.pipe)(this._checkingState.get(),p.a.find(Object(i.flow)(d.a.fromAlertModel,Object(c.b)(d.a.isRegistered,d.a.isPremium))),o.g.map(e=>({alert:m.a.fromModel(e.alert),highlightIndex:0})))}}}(a||(a={}))},pHLr:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return H}));var a=n("8O/t"),r=n("X76w"),i=n("TKPA"),o=n("2swC"),s=n("nWMp"),c=n("fB2g");const l=o.a.CoreGreen10;var u;!function(e){e.markHeightStandard="alerts-markHeightStandard",e.markHeightTall="alerts-markHeightTall",e.markSelected="alerts-markSelected",e.markSelectedFocused="alerts-markSelectedFocused",e.markBase="alerts-markBase",e.markAppliedBase="alerts-markAppliedBase",e.markVisible="alerts-markVisible",e.markStart="alerts-markStart",e.correctness="alerts-correctness",e.premium="alerts-premium",e.clarity="alerts-clarity",e.engagement="alerts-engagement",e.delivery="alerts-delivery",e.critical="alerts-critical",e.advanced="alerts-advanced",e.plagiarism="alerts-plagiarism",e.originality="alerts-originality",e.vox="alerts-vox",e.knowledgeHub="alerts-knowledgeHub",e.synonym="alerts-synonym",e.markAnimated="alerts-markAnimated",e.markHidden="alerts-markHidden",e.markApplied="alerts-markApplied",e.markBulkApplied="alerts-markBulkApplied",e.markBulkAppliedAnimation="alerts-markBulkAppliedAnimation",e.markSuccess="alerts-markSuccess",e.noAnimation="alerts-noAnimation",e.markVBar="alerts-markVBar",e.markVBarHighlighted="alerts-markVBarHighlighted",e.markWritingExpert="alerts-markWritingExpert",e.markWritingExpertHighlighted="alerts-markWritingExpertHighlighted"}(u||(u={}));const d="alerts-custom",p={backgroundPosition:"center calc(100% + 3px)",backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{borderBottomWidth:"0 !important"}}},m={$nest:{"@media print":{borderBottomWidth:"3 !important"}}},f=s.a.keyframes({from:{backgroundSize:"100% 0"},to:{backgroundSize:"100% 12%"}}),h={standard:`calc(${s.a.rem(.45)} - 4px)`,tall:s.a.rem(.425)},g=e=>({to:{backgroundColor:e}}),b=(e,t=100)=>({borderWidth:"0 0 3px 0",borderImage:s.a.linearGradient("to right",[e,"0%"],[e,`calc(100% - ${t}px)`],[s.a.color(e).fade(0).toRGBA().toString(),"100%"]),borderImageSlice:1}),v=(e,t,n,i)=>Object(r.a)(Object(a.a)({$unique:!0},p),{paddingBottom:"1px",borderBottom:"3px solid "+t,transition:"border-bottom-color .5s linear",$nest:Object(r.a)(Object(a.a)({},p.$nest),{["&."+u.markStart]:b(t),"&[data-vertical-underline-start]:before":{borderColor:n,color:n},"& > [data-vertical-underline-body]:after":{borderColor:n},"& > [data-vertical-underline-index]":{color:n},"&[data-superscript]":{padding:0,border:"none",color:n,transition:"none"},"&:not([data-superscript])":{$nest:{[`&.${u.markSelected}.${u.markHeightStandard}`]:{paddingTop:h.standard},[`&.${u.markSelected}.${u.markHeightTall}`]:{paddingTop:h.tall},["&."+u.markSelected]:{$unique:!0,borderBottomColor:i,animation:e+" 1s ease forwards",$nest:{["&."+u.markStart]:b(i)}},["&."+u.markSelectedFocused]:{$unique:!0,borderBottomColor:n,$nest:{["&."+u.markStart]:b(n)}},[`&.${u.markSelected} .${u.markBase}:not(.${u.markSelected})`]:{paddingBottom:"calc(3px + 1px)",borderBottomStyle:"hidden"},[`&.${u.markSelectedFocused} .${u.markBase}:not(.${u.markSelected})`]:{paddingBottom:"calc(3px + 1px)",borderBottomStyle:"hidden"}}}})}),y=s.a.keyframes(g(o.a.CoreRed10)),O=s.a.keyframes(g(o.a.CoreYellow10)),S=s.a.keyframes(g(o.a.CoreCyan10)),C=s.a.keyframes(g(o.a.CorePurple10)),w=s.a.keyframes(g(o.a.CoreNeutral10)),k=s.a.keyframes(g(o.a.CoreNeutral10)),E=s.a.keyframes(g(o.a.CoreBlue10)),j=s.a.keyframes(g(o.a.CoreRed10)),_=s.a.keyframes(g(o.a.CoreYellow10)),x=s.a.keyframes(g(o.a.CoreBlue10)),A=s.a.keyframes(g(o.a.CoreGreen10)),I=s.a.keyframes(g(o.a.CorePurple10)),T=s.a.keyframes(g(o.a.CoreGreen10)),M=e=>{const t=s.a.color(l).fade(e).toRGBA().toString();return{borderBottomColor:t,backgroundColor:t,$nest:{["&."+u.markHeightStandard]:{paddingTop:h.standard},["&."+u.markHeightTall]:{paddingTop:h.tall}}}},P=e=>({borderBottomColor:"transparent",backgroundColor:s.a.color(l).fade(e).toRGBA().toString()}),N=s.a.keyframes({from:M("100%"),to:M("50%")}),D={borderBottomWidth:"2px",borderBottomColor:""+o.a.CoreNeutral40,borderBottomStyle:"dotted",backgroundColor:"transparent"},B=s.a.keyframes({to:Object(a.a)({},M("0%"),D)}),L=s.a.keyframes({from:P("100%"),to:P("50%")}),F={$nest:{["&."+u.markHeightStandard]:{paddingTop:h.standard},["&."+u.markHeightTall]:{paddingTop:h.tall},[`&:not(.${u.markSelected}):not(.${u.markSelectedFocused})`]:{$nest:{[`&.${u.clarity} &.${u.clarity}`]:{borderBottomStyle:"solid",borderBottomColor:o.a.CoreBlue50}}},[`&.${u.correctness}, &.${u.markSelected}, &.${u.markSelectedFocused}`]:{$nest:{[`.${u.markVisible}:not(.${u.markSelected}):not(.${u.markSelectedFocused}).${u.clarity} .${u.markVisible}:not(.${u.markSelected}):not(.${u.markSelectedFocused}).${u.clarity}`]:{}}},["&."+u.clarity]:{$nest:{[`& & &:not(.${u.markSelected}):not(.${u.markSelectedFocused})`]:{borderBottomStyle:"hidden !important"}}}}},R={borderBottom:"0 solid transparent",background:"none",animation:"none"},H=Object(i.l)(()=>({custom(e,t){const n=s.a.color(e).fade(.25).toRGBA().toString(),a=s.a.keyframes(g(n));return[d,u.markBase,s.a.style(v(a,t,t,n)),c.a.style(v(a,t,t,n),m)].join(" ")},markBase:[u.markBase,s.a.style(p),c.a.style(p,{$nest:{"@media print":{borderBottomWidth:"3 !important"}}})].join(" "),markAppliedBase:[u.markAppliedBase,u.markBase,s.a.style({paddingBottom:"1px",borderBottom:"3px solid "+l})].join(" "),correctness:[u.correctness,u.markBase,s.a.style(v(j,o.a.CoreRed20,o.a.CoreRed50,o.a.CoreRed10)),c.a.style(v(j,o.a.CoreRed20,o.a.CoreRed50,o.a.CoreRed10),m)].join(" "),premium:[u.premium,u.markBase,s.a.style(v(_,o.a.CoreYellow30,o.a.CoreYellow40,o.a.CoreYellow10)),c.a.style(v(_,o.a.CoreYellow30,o.a.CoreYellow40,o.a.CoreYellow10),m)].join(" "),clarity:[u.clarity,u.markBase,s.a.style(v(x,o.a.CoreBlue20,o.a.CoreBlue50,o.a.CoreBlue10)),c.a.style(v(x,o.a.CoreBlue20,o.a.CoreBlue50,o.a.CoreBlue10),m)].join(" "),markVisible:[u.markVisible,s.a.style(F),c.a.style(F)].join(" "),engagement:[u.engagement,u.markBase,s.a.style(v(A,o.a.CoreGreen20,o.a.CoreGreen50,o.a.CoreGreen10)),c.a.style(v(A,o.a.CoreGreen20,o.a.CoreGreen50,o.a.CoreGreen10),m)].join(" "),delivery:[u.delivery,u.markBase,s.a.style(v(I,o.a.CorePurple20,o.a.CorePurple50,o.a.CorePurple10)),c.a.style(v(I,o.a.CorePurple20,o.a.CorePurple50,o.a.CorePurple10),m)].join(" "),critical:[u.critical,u.markBase,s.a.style(v(y,o.a.CoreRed20,o.a.CoreRed50,o.a.CoreRed10)),c.a.style(v(y,o.a.CoreRed20,o.a.CoreRed50,o.a.CoreRed10),m)].join(" "),advanced:[u.advanced,u.markBase,s.a.style(v(O,o.a.CoreYellow30,o.a.CoreYellow40,o.a.CoreYellow10)),c.a.style(v(O,o.a.CoreYellow30,o.a.CoreYellow40,o.a.CoreYellow10),m)].join(" "),plagiarism:[u.plagiarism,u.markBase,s.a.style(v(S,o.a.CoreCyan20,o.a.CoreCyan50,o.a.CoreCyan10)),c.a.style(v(O,o.a.CoreCyan20,o.a.CoreCyan50,o.a.CoreCyan10),m)].join(" "),originality:[u.originality,u.markBase,s.a.style(v(C,o.a.CorePurple20,o.a.CorePurple50,o.a.CorePurple10)),c.a.style(v(I,o.a.CorePurple20,o.a.CorePurple50,o.a.CorePurple10),m)].join(" "),vox:[u.vox,u.markBase,s.a.style(v(w,o.a.CoreNeutral30,o.a.CoreNeutral50,o.a.CoreNeutral10)),c.a.style(v(w,o.a.CoreNeutral30,o.a.CoreNeutral50,o.a.CoreNeutral10),m)].join(" "),knowledgeHub:[u.knowledgeHub,u.markBase,s.a.style(v(k,o.a.CoreNeutral30,o.a.CoreNeutral50,o.a.CoreNeutral10)),c.a.style(v(k,o.a.CoreNeutral30,o.a.CoreNeutral50,o.a.CoreNeutral10),m)].join(" "),synonym:[u.synonym,u.markBase,s.a.style(v(E,o.a.CoreBlue50,"transparent",o.a.CoreBlue50)),c.a.style(v(E,o.a.CoreBlue50,"transparent",o.a.CoreBlue50),m)].join(" "),markAnimated:[u.markAnimated,s.a.style({animation:f+" .075s ease"})].join(" "),markHidden:[u.markHidden,s.a.style(R),c.a.style(R)].join(" "),markBulkAppliedAnimation:[u.markBulkAppliedAnimation,u.markBase,s.a.style(M("100%"),D,{animation:`${N} 2s linear forwards,\n          ${B} .25s linear 2s forwards`})].join(" "),markBulkApplied:[u.markBulkApplied,u.markBase,s.a.style(v(T,o.a.CoreNeutral40,o.a.CoreGreen10,o.a.CoreGreen10),D)].join(" "),markApplied:[u.markApplied,s.a.style(M("100%"),{animation:N+" .25s linear forwards"})].join(" "),markSuccess:[u.markSuccess,s.a.style(P("100%"),{animation:L+" .25s linear forwards"})].join(" "),noAnimation:[u.noAnimation,s.a.style({animationDuration:"0s !important"})].join(" "),markSelected:u.markSelected,markSelectedFocused:u.markSelectedFocused,markHeightStandard:u.markHeightStandard,markHeightTall:u.markHeightTall,markStart:u.markStart,markVBar:u.markVBar,markVBarHighlighted:u.markVBarHighlighted,markWritingExpert:u.markWritingExpert,markWritingExpertHighlighted:u.markWritingExpertHighlighted}))},pPF5:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var a=n("8O/t"),r=n("X76w"),i=n("vGXj"),o=n("B8yO"),s=n.n(o),c=n("zCOz"),l=n("TtyI"),u=n("Q2+j"),d=n("M+v9"),p=n("1klt"),m=n("lme1"),f=n("ThYs");function h(e){let{state:t,triggerRef:n,label:a,name:r,isDisabled:i}=e,{containerProps:o,inputProps:c,selectProps:l}=function(e,t,n){let{autoComplete:a,name:r,isDisabled:i}=e,o=(0,u.j)(),{visuallyHiddenProps:s}=(0,f.b)();var c;return{containerProps:{...s,"aria-hidden":!0},inputProps:{type:"text",tabIndex:null==o||t.isFocused||t.isOpen?-1:0,style:{fontSize:16},onFocus:()=>n.current.focus(),disabled:i},selectProps:{tabIndex:-1,autoComplete:a,disabled:i,name:r,size:t.collection.size,value:null!==(c=t.selectedKey)&&void 0!==c?c:"",onChange:e=>t.setSelectedKey(e.target.value)}}}(e,t,n);var d;return t.collection.size<=300?s.a.createElement("div",o,s.a.createElement("input",c),s.a.createElement("label",null,a,s.a.createElement("select",l,s.a.createElement("option",null),[...t.collection.getKeys()].map(e=>{let n=t.collection.getItem(e);if("item"===n.type)return s.a.createElement("option",{key:n.key,value:n.key},n.textValue)})))):r?s.a.createElement("input",{type:"hidden",autoComplete:l.autoComplete,name:r,disabled:i,value:null!==(d=t.selectedKey)&&void 0!==d?d:""}):null}var g=n("8TGn"),b=n("tREI"),v=n("6K6r"),y=n("huq3");var O=n("09dI"),S=n("4GyQ"),C=n("OwvP"),w=n("yIk2"),k=n("xk6L");const E=new WeakMap;function j(e,t){let n=E.get(e);if(!n)throw new Error("Unknown list");return`${n.id}-option-${a=t,"string"==typeof a?a.replace(/\s*/g,""):""+a}`;var a}var _=n("nWMp"),x=n("sX1a");const A=e=>{var{state:t,theme:n={}}=e,s=Object(i.a)(e,["state","theme"]);const d=o.useRef(null),{listBoxProps:m}=function(e,t,n){let a=(0,c.b)(e,{labelable:!0}),{listProps:r}=(0,l.d)({...e,ref:n,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys}),{focusWithinProps:i}=(0,u.g)({onFocusWithin:e.onFocus,onBlurWithin:e.onBlur,onFocusWithinChange:e.onFocusChange}),o=(0,c.v)(e.id);E.set(t,{id:o,shouldUseVirtualFocus:e.shouldUseVirtualFocus,shouldSelectOnPressUp:e.shouldSelectOnPressUp,shouldFocusOnHover:e.shouldFocusOnHover,isVirtualized:e.isVirtualized,onAction:e.onAction});let{labelProps:s,fieldProps:d}=(0,p.b)({...e,id:o,labelElementType:"span"});return{labelProps:s,listBoxProps:(0,c.l)(a,i,"multiple"===t.selectionManager.selectionMode?{"aria-multiselectable":"true"}:{},{role:"listbox",...(0,c.l)(d,r)})}}(s,t,d);return o.createElement("ul",Object(r.a)(Object(a.a)({},m),{ref:d,className:n.listbox}),[...Array.from(t.collection)].map(e=>o.createElement(I,{key:e.key,item:e,state:t,theme:n.option})))},I=({item:e,state:t,theme:n={}})=>{const i=o.useRef(null),{optionProps:s,isDisabled:d}=function(e,t,n){let{key:a}=e,r=E.get(t);var i;let o=null!==(i=e.isDisabled)&&void 0!==i?i:t.disabledKeys.has(a);var s;let d=null!==(s=e.isSelected)&&void 0!==s?s:t.selectionManager.isSelected(a);var p;let m=null!==(p=e.shouldSelectOnPressUp)&&void 0!==p?p:null==r?void 0:r.shouldSelectOnPressUp;var f;let h=null!==(f=e.shouldFocusOnHover)&&void 0!==f?f:null==r?void 0:r.shouldFocusOnHover;var g;let v=null!==(g=e.shouldUseVirtualFocus)&&void 0!==g?g:null==r?void 0:r.shouldUseVirtualFocus;var y;let O=null!==(y=e.isVirtualized)&&void 0!==y?y:null==r?void 0:r.isVirtualized,S=(0,c.z)(),C=(0,c.z)(),w={role:"option","aria-disabled":o||void 0,"aria-selected":"none"!==t.selectionManager.selectionMode?d:void 0};if((0,c.g)()&&(0,c.k)()||(w["aria-label"]=e["aria-label"],w["aria-labelledby"]=S,w["aria-describedby"]=C),O){var k;let e=Number(null===(k=t.collection.getItem(a))||void 0===k?void 0:k.index);w["aria-posinset"]=Number.isNaN(e)?void 0:e+1,w["aria-setsize"]=(0,b.f)(t.collection)}let{itemProps:_,isPressed:x,isFocused:A,hasAction:I,allowsSelection:T}=(0,l.c)({selectionManager:t.selectionManager,key:a,ref:n,shouldSelectOnPressUp:m,allowsDifferentPressOrigin:m&&h,isVirtualized:O,shouldUseVirtualFocus:v,isDisabled:o,onAction:(null==r?void 0:r.onAction)?()=>{var e;return null==r||null===(e=r.onAction)||void 0===e?void 0:e.call(r,a)}:void 0}),{hoverProps:M}=(0,u.h)({isDisabled:o||!h,onHoverStart(){(0,u.c)()||(t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(a))}});return{optionProps:{...w,...(0,c.l)(_,M),id:j(t,a)},labelProps:{id:S},descriptionProps:{id:C},isFocused:A,isFocusVisible:A&&(0,u.c)(),isSelected:d,isDisabled:o,isPressed:x,allowsSelection:T,hasAction:I}}({key:e.key},t,i);return o.createElement(x.Typography,Object(a.a)(Object(r.a)(Object(a.a)({nodeType:"li",styleType:x.Typography.Type.Base},s),{"aria-label":e["aria-label"],mount:i}),Object(S.c)("string"==typeof e.rendered?n.text:n.composite,d?T.optionDisabled:void 0,T.option)),e.rendered)},T=_.a.stylesheet({option:[{cursor:"pointer"}],optionDisabled:[{cursor:"not-allowed",opacity:.4}]});var M=n("uLrj");const P={display:"flex",flexDirection:"column",position:"relative",gap:_.a.rem(O.i.Space.Space1)},N={appearance:"none",position:"relative",cursor:"pointer",display:"flex",boxSizing:"border-box",flexDirection:"row",alignItems:"center",padding:`${_.a.rem(O.i.Space.Space1)} ${_.a.rem(O.i.Space.Space8)} ${_.a.rem(O.i.Space.Space1)} ${_.a.rem(O.i.Space.Space3)}`,gap:_.a.rem(O.i.Space.Space3),minWidth:"max-content",width:_.a.percent(100),height:_.a.rem(2),background:O.i.SemanticColor.Color.Background.Base.Default,border:"1px solid "+O.i.SemanticColor.Color.Background.Neutral.Default,borderRadius:_.a.rem(O.i.Radius.Radius1),lineHeight:_.a.rem(1.375),color:O.i.SemanticColor.Color.Text.Base.Default,$nest:{"&:active":{borderColor:O.i.SemanticColor.Color.Background.Brand.Default},"&[disabled]":{opacity:.4,cursor:"not-allowed"},"&:focus, &:focus-visible":{boxShadow:`0 0 0 1px ${O.i.SemanticColor.Color.Background.Base.Default}, 0 0 0 3px ${O.i.SemanticColor.Color.Background.Brand.Default}`,outline:_.a.important("none"),zIndex:_.d.level1}}},D={borderColor:O.i.SemanticColor.Color.Background.Brand.Default},B={borderColor:O.i.SemanticColor.Color.Background.Critical.Default,$nest:{"&:focus, &:focus-visible":{boxShadow:`0 0 0 1px ${O.i.SemanticColor.Color.Background.Base.Default}, 0 0 0 3px ${O.i.SemanticColor.Color.Background.Critical.Default}`,outline:_.a.important("none"),zIndex:_.d.level1}}},L={position:"absolute",right:_.a.rem(O.i.Space.Space1),top:_.a.rem(O.i.Space.Space1),transform:"scale(0.5)",$nest:{"$ path":{fill:O.i.SemanticColor.Color.Background.Neutral.Default}}},F={color:O.i.SemanticColor.Color.Background.Critical.Default},R={display:"flex",flexDirection:"column",gap:_.a.rem(O.i.Space.Space1),margin:0,listStyle:"none",overflow:"auto",outline:_.a.important("none"),width:_.a.percent(100),padding:_.a.rem(O.i.Space.Space1)+" 0"},H={padding:_.a.rem(O.i.Space.Space2),gap:_.a.rem(O.i.Space.Space2)},V={padding:`${_.a.rem(O.i.Space.Space1)} ${_.a.rem(O.i.Space.Space3)}`,$nest:{'&[aria-selected="true"], &[aria-selected="true"]:hover, &[aria-selected="true"]:focus-visible':{background:O.i.SemanticColor.Color.Background.Brand.Default,color:O.i.SemanticColor.Color.Text.Base.Inverse,outline:_.a.important("none")},'&[aria-selected="false"]:focus, &[aria-selected="false"]:focus-visible, &[aria-selected="false"]:hover':{background:O.i.SemanticColor.Color.Background.Base.Subdued,outline:_.a.important("none")}}},U={borderRadius:_.a.rem(O.i.Radius.Radius1),$nest:{'&[aria-selected="true"], &:focus, &:focus-visible':{boxShadow:`0 0 0 1px ${O.i.SemanticColor.Color.Background.Base.Default}, 0 0 0 3px ${O.i.SemanticColor.Color.Background.Brand.Default}`,outline:_.a.important("none"),zIndex:_.d.level1}}},W={zIndex:_.d.level1},z=_.a.stylesheet({selectWrapper:[P],select:[N],selectGhost:[N,{border:"none",padding:0,height:"max-content"}],activeSelect:[N,D],errorSelect:[N,B],caret:[L],error:[F],listbox:[R],listboxPadded:[R,H],textOption:[V],compositeOption:[U],nativeCaret:[L,W],nativeSelectWrapper:[{position:"relative"}]});var G;!function(e){e.Item=b.a;function t(e){var{placement:t,placeholder:s,theme:f={},type:b="select",error:C}=e,w=Object(i.a)(e,["placement","placeholder","theme","type","error"]);const k=function(e){let t=(0,v.a)(e),n=(0,y.b)({...e,onSelectionChange:n=>{null!=e.onSelectionChange&&e.onSelectionChange(n),t.close()}}),[a,r]=(0,o.useState)(!1);return{...n,...t,open(){0!==n.collection.size&&t.open()},toggle(e){0!==n.collection.size&&t.toggle(e)},isFocused:a,setFocused:r}}(w),E=o.useRef(null),{labelProps:j,triggerProps:_,valueProps:I,menuProps:T}=function(e,t,n){let{keyboardDelegate:a,isDisabled:r}=e,i=(0,d.a)({usage:"search",sensitivity:"base"}),s=(0,o.useMemo)(()=>a||new(0,l.a)(t.collection,t.disabledKeys,null,i),[a,t.collection,t.disabledKeys,i]),{menuTriggerProps:f,menuProps:h}=(0,m.d)({isDisabled:r,type:"listbox"},t,n),{typeSelectProps:g}=(0,l.e)({keyboardDelegate:s,selectionManager:t.selectionManager,onTypeSelect(e){t.setSelectedKey(e)}}),{labelProps:b,fieldProps:v,descriptionProps:y,errorMessageProps:O}=(0,p.a)({...e,labelElementType:"span"});g.onKeyDown=g.onKeyDownCapture,delete g.onKeyDownCapture;let S=(0,c.b)(e,{labelable:!0}),C=(0,c.l)(g,f,v),w=(0,c.v)();return{labelProps:{...b,onClick:()=>{e.isDisabled||(n.current.focus(),(0,u.d)("keyboard"))}},triggerProps:(0,c.l)(S,{...C,isDisabled:r,onKeyDown:(0,c.a)(C.onKeyDown,e=>{switch(e.key){case"ArrowLeft":{e.preventDefault();let n=null!=t.selectedKey?s.getKeyAbove(t.selectedKey):s.getFirstKey();n&&t.setSelectedKey(n);break}case"ArrowRight":{e.preventDefault();let n=null!=t.selectedKey?s.getKeyBelow(t.selectedKey):s.getFirstKey();n&&t.setSelectedKey(n);break}}},e.onKeyDown),onKeyUp:e.onKeyUp,"aria-labelledby":[w,C["aria-labelledby"],C["aria-label"]&&!C["aria-labelledby"]?C.id:null].filter(Boolean).join(" "),onFocus(n){t.isFocused||(e.onFocus&&e.onFocus(n),e.onFocusChange&&e.onFocusChange(!0),t.setFocused(!0))},onBlur(n){t.isOpen||(e.onBlur&&e.onBlur(n),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))}}),valueProps:{id:w},menuProps:{...h,autoFocus:t.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,disallowEmptySelection:!0,onBlur:n=>{n.currentTarget.contains(n.relatedTarget)||(e.onBlur&&e.onBlur(n),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))},"aria-labelledby":[v["aria-labelledby"],C["aria-label"]&&!v["aria-labelledby"]?C.id:null].filter(Boolean).join(" ")},descriptionProps:y,errorMessageProps:O}}(w,k,E),{buttonProps:P}=Object(g.a)(_,E),N=Object(c.l)(P,_),{onPress:D,onPressStart:B,isDisabled:L}=N,F=Object(i.a)(N,["onPress","onPressStart","isDisabled"]),R=P.id+"-error";var H,V;return o.createElement("div",Object(r.a)(Object(a.a)({},Object(S.c)(z.selectWrapper,f.wrapper)),{"data-name":w.name}),Boolean(w.label)&&o.createElement(x.Typography,Object(a.a)({styleType:x.Typography.Type.Base,nodeType:"label"},j),w.label),o.createElement(h,{state:k,triggerRef:E,label:w.label,name:w.name}),o.createElement("button",Object(r.a)(Object(a.a)({},Object(S.c)("select"===b?Boolean(C)?z.errorSelect:k.isOpen?z.activeSelect:z.select:z.selectGhost,f.button),F),{disabled:L,"aria-describedby":Boolean(C)?R:void 0,ref:E}),o.createElement(x.Typography,Object(a.a)({styleType:x.Typography.Type.Base,nodeType:"div"},I),null!=k.selectedItem?k.selectedItem.rendered:s),"select"===b&&o.createElement(O.f,{icon:O.g,size:"large",className:z.caret,accessibilityLabel:""})),o.createElement(n,{id:R},C),k.isOpen&&o.createElement(M.a,{state:k,triggerRef:E,placement:t,className:f.popover},o.createElement(A,Object(r.a)(Object(a.a)({},T),{state:k,theme:{listbox:null!==(H=f.listbox)&&void 0!==H?H:"select"===b?z.listbox:z.listboxPadded,option:null!==(V=f.option)&&void 0!==V?V:{text:z.textOption,composite:z.compositeOption}}}))))}e.LiftedComponent=function(e){return Object(S.d)(t)(e)},e.Component=t;e.NativeComponent=e=>{var{label:t,children:s,error:c}=e,l=Object(i.a)(e,["label","children","error"]);const u=l.id+"-error",d=w.b.toObservable(c);return o.createElement(C.a.div,{className:z.selectWrapper},o.createElement(x.Typography,{nodeType:"label",styleType:x.Typography.Type.Base,htmlFor:l.id},t),o.createElement("div",{className:z.nativeSelectWrapper},o.createElement(O.f,{icon:O.g,size:"large",className:z.nativeCaret,accessibilityLabel:""}),o.createElement(x.Typography,Object(r.a)(Object(a.a)({nodeType:"select",styleType:x.Typography.Type.Base},l),{"aria-invalid":Boolean(c),"aria-errormessage":Boolean(c)?u:void 0,className:Boolean(c)?z.errorSelect:z.select}),s)),d.pipe(k.a.map(e=>o.createElement(n,{id:u},e))))};const n=({id:e,children:t})=>Boolean(t)?o.createElement(x.Typography,{styleType:x.Typography.Type.Small,nodeType:"div",id:e,className:z.error,"aria-live":"assertive"},t):null}(G||(G={}))},pQeY:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("B8yO"),i=n("DTwm"),o=n("OwvP"),s=n("111I"),c=n("xk6L"),l=n("JcQk"),u=n("LqiM"),d=n("N5Ay"),p=n("jEie");!function(e){e.Card=e=>s.b.Node.make(({view:t})=>{const n=t("view");return r.createElement(o.a.Fragment,null,n.pipe(c.a.distinctUntilChanged((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type),c.a.map(a=>r.createElement(d.a.Provider,{card:n,cardVisibleViewportHeight:t("visibleViewportHeight")},i=>r.createElement(u.a.Card,{mount:i,miniCard:r.createElement(l.a.Mini,{card:n,actions:e}),fullCard:r.createElement(l.a.Full,{card:n,actions:e}),successCard:r.createElement(l.a.Success,{cardData:a,isLastCard:t("isLastCard"),actions:e}),feedbackForm:r.createElement(l.a.FeedbackForm,{cardData:a,actions:e}),actions:e,card:a,mutedCard:r.createElement(l.a.MutedAlert,{cardData:a,actions:e})})))))}),e.DenaliCardWrapper=s.b.Grid.make(({slots:e,view:t})=>r.createElement(o.a.div,{className:Object(i.pipe)(t("layoutDensity"),c.a.map(e=>Object(p.a)(e).container))},e.children))}(a||(a={}))},pjeB:function(e){e.exports=JSON.parse('{"leftSidebar":"_30784b8d-document_settings-leftSidebar","documentSettings":"_70c2ea48-document_settings-documentSettings","documentSettingsExpanded":"_348ade1e-document_settings-documentSettingsExpanded _70c2ea48-document_settings-documentSettings","scrollableContent":"_870aad65-document_settings-scrollableContent","toolbar":"_fb8600bc-document_settings-toolbar","toolbarCollapsed":"_5a636762-document_settings-toolbarCollapsed _fb8600bc-document_settings-toolbar","toolbarExpanded":"_15e661ea-document_settings-toolbarExpanded _fb8600bc-document_settings-toolbar","expandButtonContainer":"_3dbbc993-document_settings-expandButtonContainer","expandButtonAnimationWrapper":"_237cd7aa-document_settings-expandButtonAnimationWrapper","expandButtonHiddenWhenSmall":"_d0325687-document_settings-expandButtonHiddenWhenSmall","expandButtonAnimationWrapperExpandedRefreshLogo":"_09ffb2a5-document_settings-expandButtonAnimationWrapperExpandedRefreshLogo _237cd7aa-document_settings-expandButtonAnimationWrapper","expandButtonAnimationWrapperExpanded":"_9d895033-document_settings-expandButtonAnimationWrapperExpanded _237cd7aa-document_settings-expandButtonAnimationWrapper","expandButtonSquashedWhenSmall":"_291e4f38-document_settings-expandButtonSquashedWhenSmall","expandButtonSquashed":"_136e4ceb-document_settings-expandButtonSquashed","expandButtonAnimationWrapperCollapsed":"_1f325472-document_settings-expandButtonAnimationWrapperCollapsed _237cd7aa-document_settings-expandButtonAnimationWrapper","expandButton":"_ed94873c-document_settings-expandButton","expandButtonSeparator":"_91626db4-document_settings-expandButtonSeparator","expandButtonInlineAnimation":"_2974ca1c-document_settings-expandButtonInlineAnimation","expandMenuIcon":"_0f89949d-document_settings-expandMenuIcon","formattingMenu":"_fb7efb85-document_settings-formattingMenu","toolbarSupportButton":"_6d6371bd-document_settings-toolbarSupportButton","separator":"_8dab8e44-document_settings-separator","menuButtonWrapper":"_ff4e87bc-document_settings-menuButtonWrapper","menuButton":"_333197d8-document_settings-menuButton","menuTitle":"_5651fbaa-document_settings-menuTitle","menuText":"_cdf812a7-document_settings-menuText","label":"_8ab3b40d-document_settings-label","icon":"_917fdd2e-document_settings-icon","header":"_8fae830c-document_settings-header","headerText":"_9d1b94f9-document_settings-headerText","userNameHeader":"_d6f0c040-document_settings-userNameHeader _8fae830c-document_settings-header","userName":"_065afd9b-document_settings-userName","emailHeader":"_08a25b52-document_settings-emailHeader _8fae830c-document_settings-header","email":"_c5de6f5a-document_settings-email","menuHead":"_f564a3b5-document_settings-menuHead","closeButtonWrapper":"_d0ae08ac-document_settings-closeButtonWrapper","closeButtonWrapperExpanded":"_9afd9458-document_settings-closeButtonWrapperExpanded _d0ae08ac-document_settings-closeButtonWrapper","closeButtonWrapperCollapsed":"_95e072ff-document_settings-closeButtonWrapperCollapsed _d0ae08ac-document_settings-closeButtonWrapper","closeButton":"_59e89c2a-document_settings-closeButton _333197d8-document_settings-menuButton","closeButtonExpanded":"_186e70b6-document_settings-closeButtonExpanded _59e89c2a-document_settings-closeButton _333197d8-document_settings-menuButton","closeButtonCollapsed":"_0c2e3bfd-document_settings-closeButtonCollapsed _59e89c2a-document_settings-closeButton _333197d8-document_settings-menuButton","closeButtonTitleExpanded":"_0471cda7-document_settings-closeButtonTitleExpanded _5651fbaa-document_settings-menuTitle","closeButtonTitleCollapsed":"_79f093fd-document_settings-closeButtonTitleCollapsed _5651fbaa-document_settings-menuTitle","oneItemContainer":"_5348c61e-document_settings-oneItemContainer _ff4e87bc-document_settings-menuButtonWrapper","accountHeaderLabel":"_4f2bb3ef-document_settings-accountHeaderLabel","freeLabel":"_ef00e5e1-document_settings-freeLabel _4f2bb3ef-document_settings-accountHeaderLabel","iconCollapsed":"_20d57042-document_settings-iconCollapsed","iconExpanded":"_e6b5ae1d-document_settings-iconExpanded","iconExpandedRefreshLogo":"_c071f21e-document_settings-iconExpandedRefreshLogo","closeIconCollapsed":"_0f6dd75f-document_settings-closeIconCollapsed _917fdd2e-document_settings-icon _20d57042-document_settings-iconCollapsed","closeIconExpanded":"_8f766e5d-document_settings-closeIconExpanded _917fdd2e-document_settings-icon _e6b5ae1d-document_settings-iconExpanded","languageSettings":"_f7d15859-document_settings-languageSettings","dropdownContainer":"_87fcffd9-document_settings-dropdownContainer","dropdownList":"_5a73e20d-document_settings-dropdownList","languageButtonsWrapper":"_eaa29128-document_settings-languageButtonsWrapper","onboardingSpot":"_d46f3fce-document_settings-onboardingSpot","selectedLanguageIcon":"_888bd6be-document_settings-selectedLanguageIcon","dialect":"_572ff01e-document_settings-dialect"}')},plHf:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return w}));var a=n("B8yO"),r=n("m7tF"),i=n("5lyU"),o=n("+ndJ"),s=n("lKCo"),c=n("DTwm"),l=n("0zLI"),u=n("nWMp"),d=n("xk6L"),p=n("2zNz"),m=n("4GyQ"),f=n("3Atx"),h=n("wiMD"),g=n("bjrJ"),b=n("M0hr"),v=n("VkQQ"),y=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const O=Object(m.d)(r.b),S=a.createContext({closePopover:c.constVoid});var C;!function(e){e.umount="unmount",e.interactOutside="interactOutside",e.closeButtonClick="closeButtonClick"}(C||(C={}));const w=e=>{var t,n,r,c,p,m,h,w,{reference:T,title:M,body:P,footer:N,className:D,placement:B,offset:L,containerPadding:F,onClose:R,onMount:H}=e,V=y(e,["reference","title","body","footer","className","placement","offset","containerPadding","onClose","onMount"]);const U=a.useRef(null),[W,z]=a.useState(null),[G,q]=a.useState(null),K=Object(f.a)(),{styles:$,attributes:Z,state:Y}=Object(i.a)(T,W,{placement:null!=B?B:"top",modifiers:[{name:"offset",options:{offset:[0,6+(null!=L?L:0)]}},{name:"arrow",options:{element:G,padding:12}},{name:"preventOverflow",options:{padding:null!=F?F:5}},K]}),X=null!==(w=null===(h=null===(m=null===(p=null===(c=null===(r=null===(n=null===(t=$.arrow)||void 0===t?void 0:t.transform)||void 0===n?void 0:n.replace("translate3d(",""))||void 0===r?void 0:r.replace("translate(",""))||void 0===c?void 0:c.replace(")",""))||void 0===p?void 0:p.split(","))||void 0===m?void 0:m.map(e=>e.trim()))||void 0===h?void 0:h.map(e=>parseInt(e,10)))&&void 0!==w?w:[],Q=a.useRef(new d.a.Subject),J=a.useRef(null),ee=Object(o.a)({defaultOpen:!1,onOpenChange:e=>{const t=J.current;null!==t&&clearTimeout(t),e||(J.current=setTimeout(()=>Q.current.next(void 0),500))}}),{overlayProps:te,underlayProps:ne}=Object(v.a)({isOpen:ee.isOpen,onClose:ee.close,shouldCloseOnBlur:!0,isDismissable:!0,shouldCloseOnInteractOutside:(e,t)=>{const n=null==t?void 0:t.composedPath();let a=!1;return a=!n||!n.some(e=>e instanceof Node&&(null==W?void 0:W.contains(e))),a&&(U.current=C.interactOutside),a}},{current:W}),{portalContainer:ae}=a.useContext(g.a);a.useEffect(()=>{const e=d.a.timer(0).subscribe(()=>ee.open());return()=>e.unsubscribe()},[]),a.useEffect(()=>{ee.isOpen&&W&&(null==H||H(W))},[ee.isOpen,W]),a.useEffect(()=>{const e=Q.current.subscribe(()=>{var e;return null==R?void 0:R(null!==(e=U.current)&&void 0!==e?e:C.umount)});return()=>e.unsubscribe()},[Q]);const re=a.useCallback(e=>{U.current=e,ee.close()},[ee]);return T?a.createElement(O,{portalContainer:ae.view(s.toUndefined)},a.createElement(l.a,{in:ee.isOpen},(e,t)=>{var n,r;return a.createElement(a.Fragment,null,ee.isOpen&&a.createElement("div",Object.assign({},ne,{className:E})),a.createElement("div",Object.assign({},V,Z.popper,te,{ref:e=>z(e),style:Object.assign(Object.assign({},$.popper),te.style),className:u.a.joinClasses([j,D,e]),onTransitionEnd:e=>{if(e.target===W&&(t(),!ee.isOpen)){const e=J.current;null!==e&&clearTimeout(e),Q.current.next(void 0)}}}),a.createElement("div",{ref:q},a.createElement("svg",{className:I,"data-placement":(null===(n=null==Y?void 0:Y.placement)||void 0===n?void 0:n.startsWith("bottom"))?"bottom":(null==Y?void 0:Y.placement.startsWith("top"))?"top":(null==Y?void 0:Y.placement.startsWith("right"))?"right":(null===(r=null==Y?void 0:Y.placement)||void 0===r?void 0:r.startsWith("left"))?"left":void 0,viewBox:"0 0 12 12",style:{position:"absolute",left:0!==X[0]&&Number.isFinite(X[0])?X[0]:void 0,top:0!==X[1]&&Number.isFinite(X[1])?X[1]:void 0}},a.createElement("path",{d:"M0 0 L6 6 L12 0"}))),a.createElement(S.Provider,{value:{closePopover:re}},a.createElement(b.a,{style:k,onClick:()=>re(C.closeButtonClick),name:"tooltipClose"}),M?a.createElement("div",{className:_},M):null,P?a.createElement("div",{className:x},P):null,N?a.createElement("div",{className:A},N):null)))})):null},k={default:{position:"absolute",top:u.a.rem(p.D.Space.Space2),right:u.a.rem(p.D.Space.Space2)}},E=u.a.style({position:"fixed",inset:0}),j=u.a.style({display:"flex",flexDirection:"column",alignItems:"flex-start",gap:u.a.rem(p.D.Space.SpaceHalf),background:h.a.PopoverBackgroundBaseSubdued,border:"1px solid "+p.D.SemanticColor.Color.Border.Base.Default,color:p.D.SemanticColor.Color.Text.Base.Inverse,borderRadius:u.a.rem(p.D.Radius.Radius2),minWidth:u.a.rem(9.375),maxWidth:u.a.rem(15),fontSize:u.a.rem(.875),lineHeight:u.a.rem(1.375),padding:u.a.rem(p.D.Space.Space4),$nest:{"&[data-popper-reference-hidden='true']":{visibility:"hidden"}}}),_=u.a.style({fontWeight:700,color:p.D.SemanticColor.Color.Text.Base.Inverse}),x=u.a.style({color:p.D.SemanticColor.Color.Border.Base.Subdued}),A=u.a.style({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:u.a.rem(p.D.Space.Space2),marginTop:u.a.rem(p.D.Space.Space4-p.D.Space.SpaceHalf),width:"100%"}),I=u.a.style({position:"absolute",stroke:p.D.SemanticColor.Color.Border.Base.Default,fill:h.a.PopoverBackgroundBaseSubdued,strokeWidth:"1px",width:u.a.rem(.75),height:u.a.rem(.75),$nest:{'&[data-placement="top"]':{top:"100%",transform:"translateX(-50%)"},'&[data-placement="bottom"]':{bottom:"100%",transform:"translateX(-50%) rotate(180deg)"},'&[data-placement="left"]':{left:"100%",transform:"translateY(-50%) rotate(-90deg)"},'&[data-placement="right"]':{right:"100%",transform:"translateY(-50%) rotate(90deg)"}}})},qCVM:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("DTwm"),r=(n("tiWp"),n("WBKC"));n("gIH0");function i(e,t){return{decode:e.decode,encode:t.encode}}function o(e){return{decode:e.decode,encode:a.identity}}r.string,r.number,r.boolean,r.UnknownArray,r.UnknownRecord;a.identity;var s,c,l,u,d,p,m=n("9raK"),f=n("w8H4"),h=n("mgiE"),g=n("0kuo"),b=n("itj6"),v=n("tCI5");c=s||(s={}),l=c.Type=b.b.Type.sduiCardAction,u=f.a(m.a)(v.b.Actions),c.eq=h.c.fromEquals((function(e,t){return e.type===l&&e.type===t.type&&e.cardId===t.cardId&&u.equals(e.actions,t.actions)&&e.scope===t.scope})),d=i(f.a(r.Schemable)(v.b.Actions),{encode:function(e){return e}}),p=Object(a.flow)(d.decode,h.b.mapLeft((function(e){return new Error(r.draw(e))}))),c.isSduiCardAction=function(e){return e.type===s.Type&&(n=e.actions,h.b.isRight(p(n)))&&"object"==typeof(t=e.scope)&&null!=t&&Object.keys(t).every((function(e){var n=t[e];switch(e){case"alertRefs":return Array.isArray(n);default:return Object(g.d)(e),!1}}));var t,n}},qVo9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var a,r=n("yNCY"),i=n("B8yO");!function(e){e.Context=i.createContext(r.a.invariantContent("AlertRefState"))}(a||(a={}));var o=function(e){var t=e.children,n=e.alertIds;return i.createElement(a.Context.Provider,{value:{alertIds:n}},t)}},r6Tt:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("mgiE");!function(e){let t,n;!function(e){e.Retain="retain",e.Delete="delete",e.Insert="insert"}(t=e.Type||(e.Type={})),e.isDelete=function(e){return e.type===a.Type.Delete},e.isInsert=function(e){return e.type===a.Type.Insert},function(e){e.eq=r.c.getStructEq({type:r.c.eqString,textChunk:r.c.eqString})}(n=e.NoInvert||(e.NoInvert={}))}(a||(a={}))},r7ur:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return a}));var a,r=n("a5gI"),i=n("8O/t"),o=n("X76w"),s=n("DTwm"),c=n("tiWp"),l=n("6ar+"),u=n("0Qjk"),d=n("mgiE"),p=n("0kuo"),m=n("M3t0"),f=n("xk6L"),h=n("BPEm");class g{get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}dispose(){this._subs.forEach(e=>e.unsubscribe())}constructor(e,t,n,a,s){Object(r.a)(this,"_capi",void 0),Object(r.a)(this,"events",void 0),Object(r.a)(this,"_documentContextHolder",void 0),Object(r.a)(this,"_dialectSettings",void 0),Object(r.a)(this,"_log",void 0),Object(r.a)(this,"_subs",void 0),Object(r.a)(this,"pushChanges",void 0),Object(r.a)(this,"_warnOnCommandFail",void 0),Object(r.a)(this,"setSessionOption",void 0),Object(r.a)(this,"resetReconnectInfo",void 0),Object(r.a)(this,"sendFeedback",void 0),Object(r.a)(this,"requestDocStats",void 0),Object(r.a)(this,"requestSynonyms",void 0),Object(r.a)(this,"requestSnippets",void 0),Object(r.a)(this,"requestWritingExpert",void 0),Object(r.a)(this,"shortenItSubmit",void 0),Object(r.a)(this,"enablePlagiarismSearch",void 0),Object(r.a)(this,"disablePlagiarismSearch",void 0),Object(r.a)(this,"enableWritingExpert",void 0),Object(r.a)(this,"disableWritingExpert",void 0),Object(r.a)(this,"realtimeProofitSubmit",void 0),Object(r.a)(this,"realtimeProofitCancel",void 0),Object(r.a)(this,"submitRecipients",void 0),Object(r.a)(this,"submitScoreSurveyResult",void 0),Object(r.a)(this,"submitSurvey",void 0),Object(r.a)(this,"sendUserAction",void 0),Object(r.a)(this,"sendDebugReport",void 0),Object(r.a)(this,"ping",void 0),Object(r.a)(this,"getText",void 0),Object(r.a)(this,"close",void 0),Object(r.a)(this,"isClosed",void 0),Object(r.a)(this,"updateContextInfo",void 0),Object(r.a)(this,"setContext",void 0),Object(r.a)(this,"published",void 0),Object(r.a)(this,"enqueueExternalCommand",void 0),Object(r.a)(this,"registerExternalMessageHandler",void 0),this._capi=e,this.events=t,this._documentContextHolder=n,this._dialectSettings=a,this._log=m.d.Logging.getLogger("ObservableCAPIClientImpl"),this._subs=[],this.pushChanges=e=>Object(c.pipe)(this._capi.pushChanges(e),d.l.mapLeft(e=>(this._log.warn("Failed to push changes",e),e))),this._warnOnCommandFail=e=>Object(c.pipe)(e,d.l.fold(e=>(this._log.warn("CAPI command failed",e),d.l.left(e)),e=>d.l.right(e))),this.setSessionOption=e=>Object(c.pipe)(this._capi.setSessionOption(e),this._warnOnCommandFail),this.resetReconnectInfo=()=>this._capi.resetReconnectInfo(),this.sendFeedback=e=>Object(c.pipe)(this._capi.sendFeedback(e),this._warnOnCommandFail),this.requestDocStats=Object(c.pipe)(this._capi.requestDocStats,this._warnOnCommandFail),this.requestSynonyms=(e,t)=>Object(c.pipe)(this._capi.requestSynonyms(e,t),this._warnOnCommandFail),this.requestSnippets=e=>Object(c.pipe)(this._capi.requestSnippets(e),this._warnOnCommandFail),this.requestWritingExpert=()=>Object(c.pipe)(this._capi.requestWritingExpert(),this._warnOnCommandFail),this.shortenItSubmit=e=>Object(c.pipe)(this._capi.shortenItSubmit(e),this._warnOnCommandFail),this.enablePlagiarismSearch=Object(c.pipe)(this._capi.enablePlagiarismSearch,this._warnOnCommandFail),this.disablePlagiarismSearch=Object(c.pipe)(this._capi.disablePlagiarismSearch,this._warnOnCommandFail),this.enableWritingExpert=Object(c.pipe)(this._capi.enableWritingExpert,this._warnOnCommandFail),this.disableWritingExpert=Object(c.pipe)(this._capi.disableWritingExpert,this._warnOnCommandFail),this.realtimeProofitSubmit=e=>Object(c.pipe)(this._capi.realtimeProofitSubmit(e),this._warnOnCommandFail),this.realtimeProofitCancel=Object(c.pipe)(this._capi.realtimeProofitCancel,this._warnOnCommandFail),this.submitRecipients=e=>Object(c.pipe)(this._capi.submitRecipients(e),this._warnOnCommandFail),this.submitScoreSurveyResult=(e,t)=>Object(c.pipe)(this._capi.submitScoreSurveyResult(e,t),this._warnOnCommandFail),this.submitSurvey=e=>Object(c.pipe)(this._capi.submitSurvey(e),this._warnOnCommandFail),this.sendUserAction=(e,t)=>Object(c.pipe)(this._capi.sendUserAction(e,t),this._warnOnCommandFail),this.sendDebugReport=(e,t)=>Object(c.pipe)(this._capi.sendDebugReport(e,t),this._warnOnCommandFail),this.ping=()=>this._capi.ping(),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.updateContextInfo=e=>Object(c.pipe)(this._capi.updateContextInfo(e),this._warnOnCommandFail),this.setContext=e=>Object(c.pipe)(this._capi.setContext(e),this._warnOnCommandFail),this.published=()=>Object(c.pipe)(this._capi.published(),this._warnOnCommandFail),this.enqueueExternalCommand=e=>this._capi.enqueueExternalCommand(e),this.registerExternalMessageHandler=e=>this._capi.registerExternalMessageHandler(e),this._subs.push(this._dialectSettings.dialectOrDefault.subscribe(e=>this._documentContextHolder.updateContext(Object(o.a)(Object(i.a)({},this._documentContextHolder.context.get()),{dialect:d.g.some(e)}))),this._documentContextHolder.context.pipe(f.a.skip(1)).subscribe(t=>{d.l.toPromise(e.setSessionOption({kind:u.a.CAPISessionOptionType.Context,context:t}))})),this._subs.push(this.events.subscribe(t=>{"finish"===t.kind?d.g.isNone(this._dialectSettings.dialect.get())&&h.a.isDialectString(t.dialect)&&this._dialectSettings.setDialectWeak(t.dialect):"session_started"===t.kind&&(this._documentContextHolder.updateDefaultContext(t.defaultDocumentContext),s.getContainerId().then(t=>{setTimeout(()=>d.l.toPromise(e.setSessionOption({kind:u.a.CAPISessionOptionType.GnarContainerId,id:t})).catch(e=>{this._log.warn("Can not send user container id",e)}),5e3)}).catch(e=>{this._log.warn("Can not get container id",e)}))}))}}!function(e){const t=d.l.rightIO(l.a);e.Mock=class{constructor(e=!1){Object(r.a)(this,"_sduiV2",void 0),Object(r.a)(this,"events",void 0),Object(r.a)(this,"feedbacks",void 0),Object(r.a)(this,"capi",void 0),Object(r.a)(this,"activeAlerts",void 0),Object(r.a)(this,"activeLensIds",void 0),Object(r.a)(this,"fireSDUIAdd",void 0),Object(r.a)(this,"fireSDUIRemove",void 0),Object(r.a)(this,"fireAdd",void 0),Object(r.a)(this,"fireRemove",void 0),Object(r.a)(this,"sendUserAction",void 0),Object(r.a)(this,"sendDebugReport",void 0),this._sduiV2=e,this.events=new f.a.Subject,this.feedbacks=new f.a.Subject,this.capi={pushChanges:e=>d.l.right(d.g.none),sendFeedback:e=>{switch(e.kind){case u.a.AlertFeedbackType.IGNORE:case u.a.AlertFeedbackType.ADD_TO_DICTIONARY:case u.a.AlertFeedbackType.LOOKED:case u.a.AlertFeedbackType.CLOSED:case u.a.AlertFeedbackType.LIKE:case u.a.AlertFeedbackType.DISLIKE:case u.a.AlertFeedbackType.WRONG_SUGGESTION:case u.a.AlertFeedbackType.OFFENSIVE_CONTENT:case u.a.AlertFeedbackType.EXPANDED:return Object(c.pipe)(d.l.rightIO(()=>this.feedbacks.next({type:"feedback",args:[e.id,e.kind]})));case u.a.AlertFeedbackType.ACCEPTED:return Object(c.pipe)(d.l.rightIO(()=>"replacementText"in e?this.feedbacks.next({type:"feedback",args:[e.id,e.kind,e.replacementText,e.reason]}):"alternativeIndex"in e?this.feedbacks.next({type:"feedback",args:[e.id,e.kind,e.alternativeIndex,e.gapValue,e.reason]}):Object(p.c)(e)));default:return t}},enablePlagiarismSearch:t,disablePlagiarismSearch:t},this.activeAlerts=new Set,this.activeLensIds=new Set,this.fireSDUIAdd=(e,t)=>{this.events.next({kind:"sdui_add",sdui:e,sduiRootId:t,rev:0})},this.fireSDUIRemove=e=>{this.events.next({kind:"sdui_remove",sduiRootId:e})},this.fireAdd=(e,t)=>{const n=this._sduiV2&&null!=t?{kind:"sdui_add",sdui:{type:"strongAlertRef",alertIds:[e.id],child:t,onEmpty:[{type:"openLink",url:"test_for_"+e.id}],id:"strongAlertRef#"+Math.random().toString(36).substring(2,15)},sduiRootId:u.a.RawSduiItem.Id.create(e.id),rev:0}:void 0;return this.activeAlerts.add(e),this.activeLensIds.add(e.cardLayout.outcome),void 0!==n?this.events.next(n):Object(s.constVoid)(),this.events.next({kind:"before_alert"}),this.events.next({kind:"alert_received",alert:e}),n},this.fireRemove=(e,t=d.g.none,n=d.g.none)=>{this.activeAlerts.delete(e),this.activeLensIds.delete(e.cardLayout.outcome),this._sduiV2?this.events.next({kind:"sdui_remove",sduiRootId:u.a.RawSduiItem.Id.create(e.id)}):Object(s.constVoid)(),this.events.next({kind:"alert_removed",alertId:e.id,mergedIn:t,hint:n})},this.sendUserAction=()=>d.l.rightIO(s.constVoid),this.sendDebugReport=()=>d.l.rightIO(s.constVoid)}}}(a||(a={}))},rT5Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return j}));var a=n("DTwm"),r=n("mgiE"),i=n("0kuo"),o=n("cZKX"),s=n("M3t0"),c=n("ksEe"),l=n("qCVM"),u=n("La5+"),d=n("xk6L"),p=n("vf87"),m=n("80m+"),f=n("f38j"),h=n("aSrO"),g=n("skc2"),b=n("Fg+b");function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){S(e,t,n[t])}))}return e}function w(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(){function e(t,n,a,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new c.b;y(this,e),S(this,"_sduiService",void 0),S(this,"_sduiManager",void 0),S(this,"_sduiFeedManager",void 0),S(this,"_capiClient",void 0),S(this,"_focusedItem",void 0),S(this,"_platformEnvironment",void 0),S(this,"_log",void 0),S(this,"_subs",void 0),S(this,"_sduiAlertIdResolver",void 0),S(this,"sduiActionEvents",void 0),this._sduiService=t,this._sduiManager=n,this._sduiFeedManager=a,this._capiClient=r,this._focusedItem=i,this._platformEnvironment=o,this._log=s.d.Logging.getLogger("SduiViewModelImpl",s.a.LogLevel.DEBUG),this._subs=new u.a.Keeper,this.sduiActionEvents=new d.a.Subject,this._sduiAlertIdResolver=j(this._sduiManager.alertIdResolver,this._log),this._subs.push(this._handleSduiActions(),this._handleSduiCardOnFocus(),this._handleSduiCardOnBlur(),this._handleSduiFeedRemove(),this._handleSduiFeedEmpty(),this._handleSduiOnEmptyEvents())}var t,n,o;return t=e,(n=[{key:"onAssistantClose",value:function(){var e=this;Object(a.pipe)(this._sduiFeedManager.currentFeed,r.g.map((function(e){return e.feedId})),r.g.chain((function(t){return p.a.get(t)(e._sduiManager.state.get())})),r.g.chain((function(e){return Object(a.pipe)(b.a.findFirst(e.content,"assistantFeed"),r.g.filter((function(e){return Array.isArray(e.onAssistantClose)&&e.onAssistantClose.length>0})),r.g.map((function(t){return[t,e]})))})),r.g.map((function(t){var n=k(t,2),a=n[0],r=n[1];return e.sduiActionEvents.next({type:l.a.Type,sourceId:a.id,cardId:r.id,actions:a.onAssistantClose,scope:{alertRefs:r.alertIds}})})))}},{key:"_handleSduiOnEmptyEvents",value:function(){var e=this;return this._sduiManager.onAlertsRefEmpty.pipe(d.a.withLatestFrom(this._focusedItem),d.a.filter((function(e){var t=k(e,2),n=t[0].sduiRootId,i=t[1];return Object(a.pipe)(i,r.g.filter((function(e){return e===n})),r.g.isSome)})),d.a.map((function(e){return k(e,1)[0]}))).subscribe((function(t){var n=t.sduiId,a=t.sduiRootId,r=t.emptyStrongAlertRef;return e.sduiActionEvents.next({type:l.a.Type,sourceId:n,cardId:a,actions:r.onEmpty,scope:{alertRefs:r.alertIds}})}))}},{key:"_handleSduiFeedRemove",value:function(){var e=this;return this._sduiFeedManager.onFeedRemove.subscribe((function(t){Object(i.f)("assistantFeed"===t.content.type),e.sduiActionEvents.next({type:l.a.Type,sourceId:t.id,cardId:t.id,actions:t.content.onRemove,scope:{alertRefs:[]}})}))}},{key:"_handleSduiFeedEmpty",value:function(){var e=this;return this._sduiFeedManager.onFeedEmpty.subscribe((function(t){Object(i.f)("assistantFeed"===t.content.type),t.content.onEmpty&&e.sduiActionEvents.next({type:l.a.Type,sourceId:t.id,cardId:t.id,actions:t.content.onEmpty,scope:{alertRefs:[]}})}))}},{key:"_handleSduiCardOnBlur",value:function(){var e=this;return this._focusedItem.pipe(d.a.pairwise(),d.a.map((function(t){var n=k(t,1)[0];return Object(a.pipe)(n,r.g.chain((function(t){return Object(a.pipe)(e._sduiManager.findFirstCardWithContent(t),r.g.filter(m.a.isAssistantCardContent),r.g.map((function(e){return[e,t]})))})))})),d.b.compact,d.a.tap((function(t){var n=k(t,2),i=n[0],o=i.card,s=i.parentStrongAlertRef,c=n[1];e.sduiActionEvents.next({type:l.a.Type,sourceId:o.id,cardId:c,actions:o.onBlur,scope:{alertRefs:Object(a.pipe)(s,r.g.map((function(e){return e.alertIds})),r.g.getOrElse(Object(a.constant)(r.a.empty)))}})}))).subscribe()}},{key:"_handleSduiCardOnFocus",value:function(){var e=this;return this._focusedItem.pipe(d.b.compact,d.a.map((function(t){return Object(a.pipe)(e._sduiManager.findFirstCardWithContent(t),r.g.map((function(e){return[e,t]})))})),d.b.compact).subscribe((function(t){var n=k(t,2),i=n[0],o=i.card,s=i.parentStrongAlertRef,c=n[1];e._sduiFeedManager.notifyCardFocused(c),e.sduiActionEvents.next({type:l.a.Type,sourceId:o.id,cardId:c,actions:o.onFocus,scope:{alertRefs:Object(a.pipe)(s,r.g.map((function(e){return e.alertIds})),r.g.getOrElse((function(){return[]})))}})}))}},{key:"_handleSduiActions",value:function(){var e=this;return this.sduiActionEvents.pipe(d.a.skipBy(l.a.eq),d.a.tap((function(t){var n=t.cardId,o=t.sourceId,s=t.actions,c=t.scope;e._log.info("sdui card action:",{cardId:n,actions:s,scope:c}),s.forEach((function(t){switch(t.type){case"notify":return void e._sduiService.sendUserAction(t.sourceId||o,t.userAction);case"removeRoot":return void requestAnimationFrame((function(){e._sduiManager.pushRemovedRoot([f.a.Item.Id.from(n),h.c.RemoveRootSDUIAction])}));case"applyAlerts":case"closeCard":return;case"removeAlerts":return void Object(a.pipe)(e._sduiAlertIdResolver(c.alertRefs),r.g.tap((function(){requestAnimationFrame((function(){e._sduiManager.pushRemovedAlerts([c.alertRefs.map(f.a.AlertId.from),h.c.RemoveAlertsSDUIAction])}))})));case"highlightAlert":case"nextCard":case"prevCard":case"openSettings":case"openToneDetector":case"openFeedback":case"upgradeToPremium":case"openLearnMore":case"transition":case"openCreateSnippetModal":case"nativeOpenAssistant":case"showHighlights":case"hideHighlights":case"stopApplyingAlerts":case"selectAlternative":return;case"openLink":return void e._platformEnvironment.actions.openPopup(new g.a(t.url));case"copyToClipboard":return;case"pushAssistantFeed":return void requestAnimationFrame((function(){return Object(a.pipe)(e._sduiFeedManager.pushFeed(f.a.Item.Id.from(t.feedId),t.cardId),r.b.mapLeft((function(t){return e._log.error(t),t})))}));case"popAssistantFeed":return void requestAnimationFrame((function(){return e._sduiFeedManager.popFeed(r.g.fromNullable(t.fallbackFeed))}));case"focusAssistantCard":return void requestAnimationFrame((function(){return e._sduiFeedManager.focusCard(t.cardId)}));case"switchView":var s={where:t.where,selected:t.selected,sduiRootId:f.a.Item.Id.from(n)};return e._switchCallerCard(s),e._switchActiveCard(s),e._switchActiveFeed(s),void e._switchActivePopover(s);case"newRevision":return;case"interactPopover":var u=e._sduiManager.popoverManager.getInteractionActions(t.rootPopoverId,t.popoverViewId,t.interaction);return void(u.length>0&&e.sduiActionEvents.next({type:l.a.Type,sourceId:t.rootPopoverId,cardId:t.popoverViewId,actions:u,scope:c}));case"closePopover":return e._sduiManager.popoverManager.removePopover(t.rootPopoverId),void e.sduiActionEvents.next({type:l.a.Type,sourceId:t.rootPopoverId,cardId:t.rootPopoverId,actions:[{type:"removeRoot"}],scope:c});case"openGrammarlyGo":case"openPerformanceScore":return;case"enablePlagiarismCheck":return void e._capiClient.enablePlagiarismSearch();case"disablePlagiarismCheck":return void e._capiClient.disablePlagiarismSearch();case"enableWritingExpertCheck":return void e._capiClient.enableWritingExpert();case"disableWritingExpertCheck":return void e._capiClient.disableWritingExpert();case"nativeOpenUserSatisfactionFeedback":return;default:Object(i.d)(t)}}))}))).subscribe()}},{key:"_switchCallerCard",value:function(e){this._sduiManager.pushSwitchView(e)}},{key:"_switchActiveCard",value:function(e){var t=this;Object(a.pipe)(this._focusedItem.get(),r.g.filter((function(t){return e.sduiRootId!==t})),r.g.tap((function(n){return t._sduiManager.pushSwitchView(w(C({},e),{sduiRootId:f.a.Item.Id.from(n)}))})))}},{key:"_switchActiveFeed",value:function(e){var t=this;Object(a.pipe)(this._sduiFeedManager.currentFeed,r.g.filter((function(t){return t.feedId!==e.sduiRootId})),r.g.tap((function(n){var a=n.feedId;return t._sduiManager.pushSwitchView(w(C({},e),{sduiRootId:a}))})))}},{key:"_switchActivePopover",value:function(e){var t=this;this._sduiManager.popoverManager.activePopoverView.pipe(d.a.first()).subscribe(r.g.tap((function(n){var a=n.rootPopoverId;t._sduiManager.pushSwitchView(w(C({},e),{sduiRootId:a}))})))}},{key:"dispose",value:function(){this._subs.dispose()}}])&&O(t.prototype,n),o&&O(t,o),e}();function j(e,t){return function(n){return Object(a.pipe)(n,o.ub(e),o.Qb(r.g.option),r.g.tapLeft((function(){return t.error("Could not resolve strong alert ref for ".concat(JSON.stringify(n)))})),r.g.filter(o.ob),r.g.tapLeft((function(){return t.error("Strong alert refs are empty")})))}}},rUtO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("zCOz");function r(e){let t,n=(0,a.b)(e,{labelable:!0});return"vertical"===e.orientation&&(t="vertical"),"hr"!==e.elementType?{separatorProps:{...n,role:"separator","aria-orientation":t}}:{separatorProps:n}}},rtUA:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("wvT7"),s=n("yQCL"),c=n("cZKX"),l=n("DTwm"),u=n("tiWp"),d=n("4tRT"),p=n("mgiE"),m=n("TKPA"),f=n("RRF2"),h=n("K40b"),g=n("0kuo"),b=n("Hj2R"),v=n("D2TP"),y=n("mEGS"),O=n("phaH"),S=n("mDV6"),C=n("iVUr"),w=n("d3CI");!function(e){e.filterAlertInLens=(e,t)=>p.a.filter(n=>b.a.isNotRemoved(n)||p.g.isSome(e.items.find(e=>t.hasAlert(n.id)(e)))),e.findItemWithAlertInLens=(e,t)=>Object(l.flow)(p.g.fromPredicate(b.a.isNotRemoved),p.g.chain(n=>e.items.find(e=>t.hasAlert(n.id)(e)&&!t.isScheduledToDispose(e))),p.g.map(e=>e.value)),e.createWithInitialAlerts=(e,t,n,a,o)=>(s,c,d,m)=>{const f=Object(u.pipe)(m,p.g.fold(()=>l.identity,e=>o.selectItemByAlert(e))),h=e.create(s,c),g=d.filter(n.alertVisibleInSidebar(s)),b=t(s);if(w.j.hasItems(h)){const e=y.a.empty,t=y.a.from(g),n=y.a.diff(e,t);return Object(u.pipe)(h,b(n,a),o.changeItemsVisualState(S.a.VisualState.initial({type:"rendered",clockwise:!0},!1)),f,e=>Object(i.a)(Object(r.a)({},e),{animation:w.b.skip}))}return h},e.createWithExternalItems=(e,t)=>(n,a,o,s,c)=>{const d=e.create(n,a);return Object(u.pipe)(c,p.g.filter(e=>w.j.hasItems(e)&&w.j.hasItems(d)),p.g.map(e=>t.changeItemsVisualState(S.a.VisualState.initial({type:"rendered",clockwise:!0},!1))(Object(i.a)(Object(r.a)({},d),{items:e.items.filter(Object(l.not)(t.isScheduledToDispose))}))),p.g.getOrElse(()=>d))};let t,n,a;!function(e){e.setVisibleItems=e=>t=>Object(i.a)(Object(r.a)({},t),{cardIndex:Object(u.pipe)(w.k.getActiveItem(t),p.g.chain(t=>Object(u.pipe)(e.get(t.id),p.g.map(e=>e.index)))),items:e});e.hideItem=function(e,t){return S.a.isAnimatable(e)&&"removed"!==e.visualState.transition.type&&"hidden"!==e.visualState.transition.type?t.transitionTo({type:"hidden",clockwise:!1})(e):e};var t=e.calculateCardsHeight=e=>Object(u.pipe)(e.getAt(e.size-1),p.g.map(e=>e.positionState.absTop+e.positionState.height),p.g.getOrElse(()=>0));e.getItemsPositionsUpdateTransformer=e=>({state:t,metadata:n})=>{if(!w.e.hasCards(t))return p.b.left({state:t,metadata:n});const r=w.e.Prism.getLens();return p.b.left({state:r.modify(a(e),t),metadata:n})},e.getSingleItemFeedPositionsUpdateTransformer=e=>({state:t,metadata:n})=>{if(!w.e.hasCards(t))return p.b.left({state:t,metadata:n});const a=w.e.Prism.getLens();return p.b.left({state:a.modify(t=>{const n=t.items.map((n,a,o)=>{const s=p.g.contains(o)(t.cardIndex)?{absTop:n.positionState.absTop,height:n.positionState.height,animationInProgress:t.animation(n,o),visible:!0,isHeightValid:!0,watched:!0,inert:n.positionState.inert}:Object(i.a)(Object(r.a)({},n.positionState),{visible:!1,isHeightValid:!0});return C.a.PositionState.eq.equals(n.positionState,s)?n:e.changePosition(s)(n)});return Object(i.a)(Object(r.a)({},t),{items:n,isCardsHeightValid:!0})},t),metadata:n})},e.getRemoveDisposedItemsTransformer=e=>({state:t,metadata:n})=>{if(!w.e.hasCards(t))return p.b.left({state:t,metadata:n});const a=w.e.Prism.getLens();return p.b.left({state:a.modify(t=>{const n=w.k.getActiveItem(t),a=t.items.filter(t=>!e.isScheduledToDispose(t)||Object(m.p)(Object(l.not)(S.a.isAnimatable),S.a.isAnimatingRemoval)(t)||Object(u.pipe)(n,p.g.exists(e=>e.id===t.id))),o=Object(u.pipe)(t,w.k.getActiveItemIndex(a));return Object(i.a)(Object(r.a)({},t),{items:a,cardIndex:o})},t),metadata:n})};const n=e=>t=>Object(u.pipe)(t.items.find((e=>t=>n=>n.positionState.watched&&!e.isHidden(n)&&Object(u.pipe)(t,p.g.forAll(e=>e.id!==n.id)))(e)(w.k.getActiveItem(t))),p.g.map(({value:t,index:n})=>({index:n,value:Object(u.pipe)(t,p.g.fromPredicate(t=>t.positionState.isHeightValid&&!e.isScheduledToDispose(t)))})));var a=e.updateItemsPositions=e=>a=>{const o=w.k.getActiveItem(a),s=n(e)(a),c=Object(u.pipe)(s,p.g.chain(f.e.pick("value")),p.g.map(e=>e.positionState.height));let l=0;const d=Object(u.pipe)(o,p.g.forAll(e=>e.positionState.isHeightValid)),m=Object(u.pipe)(s,p.g.map(f.e.pick("index")),p.g.getOrElse(()=>{return e=a.cardIndex,Object(u.pipe)(e,p.g.map(e=>0===e?1:0),p.g.getOrElse(()=>0));var e})),h=a.items.map((t,n,r)=>{const i=p.g.contains(r)(a.cardIndex),o=i||r===m,s=e.isScheduledToDispose(t)||(i?t.positionState.isHeightValid:p.g.isSome(c)),f=e.isScheduledToDispose(t)?e.useReferenceHeightOnRemove(t)?Object(u.pipe)(c,p.g.getOrElse(()=>t.positionState.height)):0:i?t.positionState.height:Object(u.pipe)(c,p.g.getOrElse(()=>t.positionState.height)),h={absTop:i||d?l:t.positionState.absTop,height:f,animationInProgress:a.animation(t,r),visible:t.positionState.visible,isHeightValid:s,watched:o,inert:t.positionState.inert};return e.shouldAnimatePositionChange(h,i)(t)||(h.animationInProgress=!1),l+=f,C.a.PositionState.eq.equals(t.positionState,h)?t:e.changePosition(h)(t)}),g=t(h),b=Object(u.pipe)(o,p.g.forAll(e=>e.positionState.isHeightValid))&&Object(u.pipe)(h.getAt(m),p.g.forAll(e=>e.positionState.isHeightValid));return Object(i.a)(Object(r.a)({},a),{items:h,cardsHeight:g,isCardsHeightValid:b})}}(t=e.Items||(e.Items={})),function(e){e.apply=(e,t,n,a)=>r=>Object(u.pipe)(e,h.a.reduce(r,(e,{alert:t})=>a([t])(e),(e,t,{alert:a})=>n([a])(e),(e,{alert:n})=>t([n])(e))),e.applyWithFilter=(e,t)=>(n,a,r,i)=>{const o=Object(l.flow)(p.a.partition(e),e=>Object(l.flow)(i(e.left),r(e.right)));return t(n,t=>a(t.filter(e)),o,i)}}(n=e.ApplyDiff||(e.ApplyDiff={})),function(e){e.items=d.a.create(e=>e.items,(e,n)=>t.setVisibleItems(e)(n)),e.getFeedItems=()=>d.a.create(e=>e.items,(e,n)=>t.setVisibleItems(e)(n))}(a=e.Prism||(e.Prism={}));e.getEq=e=>p.c.fromEquals((t,n)=>{if(t.kind===w.f.abstract||n.kind===w.f.abstract)return t.id===n.id;{const a=t,r=n;return t.id===n.id&&p.g.getEq(e).equals(w.k.getActiveItem(a),w.k.getActiveItem(r))&&a.meta.equals(n.meta)&&a.items.equals(r.items)}}),e.lensHash={hashCode:e=>{if(e.kind===w.f.abstract)return Object(O.b)(e.id);{const n=e;let a=7;return a=31*a+Object(O.b)(e.id),a=31*a+(t=w.k.getActiveItem(n),Object(u.pipe)(t,p.g.fold(()=>2433880,e=>null==e?9735524:e.hashCode()<<2))),31*a+e.meta.count}var t}};let k;!function(e){e.getAlertReleaser=e=>({release:t=>n=>{const a=n.items.map(e.removeAlertFromItem([t],n)),o=Object(u.pipe)(n.cardIndex,p.g.chain(t=>Object(u.pipe)(a.findRightFrom(e.isScheduledToDispose,t),p.g.map(e=>e.index))),p.g.isSome)?w.b.skip:w.b.force;return Object(i.a)(Object(r.a)({},n),{animation:o,items:a})}}),e.getUnselectable=(e,t)=>({unselectItem:()=>n=>{const a=Object(u.pipe)(n,e,p.g.filter(Object(l.not)(t.isScheduledToDispose)),p.g.map(e=>n.items.add(Object(u.pipe)(e,t.unselect(p.g.none,n.itemsOrd)))),p.g.getOrElse(()=>n.items));return Object(i.a)(Object(r.a)({},n),{items:a,animation:w.b.force,cardIndex:p.g.none})}}),e.getHasChecksFeed=()=>({willShowChecksFeed:e=>e.type!==w.i.advanced});const t=e=>Object(u.pipe)(p.h.ordNumber,p.h.contramap(t=>Object(u.pipe)(e.items.get(t.id),p.g.map(f.e.pick("index")),p.g.getOrElse(()=>-1))));e.getSelectableByAlert=(e,n)=>({selectItemByAlert:a=>o=>{if(!n.willShowChecksFeed(o))return o;const c=e(o),d=o.items.find(n.isSelectableByAlert(a));Object(g.f)(p.g.isSome(d),"Can not find card for provided alert. Unknown card or it is already disposed.",()=>a.alert.toString());const{value:m,index:f}=p.g.unsafeGet(d),h=Object(s.fold)(p.h.getMonoid())([o.itemsOrd,t(o)]),b=Object(u.pipe)(c,p.g.filter(Object(l.not)(n.isScheduledToDispose)),p.g.map(e=>o.items.add(Object(u.pipe)(e,n.unselect(p.g.some(m),o.itemsOrd)))),p.g.getOrElse(()=>o.items)).add(Object(u.pipe)(m,n.selectByAlert(c,a,h)));return Object(i.a)(Object(r.a)({},o),{items:b,animation:w.b.force,cardIndex:p.g.some(f)})}}),e.getSelectableById=(e,n)=>({selectItemById:a=>o=>{const c=e(o),d=o.items.get(a),{value:m,index:f}=p.g.unsafeGet(d),h=Object(s.fold)(p.h.getMonoid())([o.itemsOrd,t(o)]),g=Object(u.pipe)(c,p.g.filter(Object(l.not)(n.isScheduledToDispose)),p.g.map(e=>o.items.add(Object(u.pipe)(e,n.unselect(p.g.some(m),h)))),p.g.getOrElse(()=>o.items)).add(Object(u.pipe)(m,n.select(c,h)));return Object(i.a)(Object(r.a)({},o),{items:g,animation:w.b.force,cardIndex:p.g.some(f)})}}),e.getItemReleaser=()=>({removeItemById:e=>t=>a(t.items.remove(e))(t)});function n(e,t,n){return a=>Object(u.pipe)(p.g.of(a),p.g.filter(e=>!n.isScheduledToDispose(e)&&t(e)),p.g.chain(n.hasActiveAlert),p.g.filter(t=>e.isRegistered(t.alert.id)))}e.getMetaUpdatable=function(){return{updateMeta:e=>t=>Object(i.a)(Object(r.a)({},t),{meta:v.a.WithAlerts.setMeta(e)(t.meta)})}},e.getAnimatable=function(e,t){return{changeItemsVisualState:e=>n=>t.willShowChecksFeed(n)?Object(i.a)(Object(r.a)({},n),{items:n.items.map(t.changeVisualState(e))}):n,finishApplyAnimation:n=>a=>{Object(g.f)(n.every(e.shouldAnimateAlertApply),"Tried to finish animation on non-animated state");const o=a.id,s=e=>{const a=e.items.map(t.removeAlertFromItem(n,e));return Object(i.a)(Object(r.a)({},e),{items:a})};if(v.a.isOutcomeId(o))return s(a);switch(o){case v.a.SpecialId.AllAlerts:case v.a.SpecialId.PredictionTakeaways:case v.a.SpecialId.PredictionEmogenie:case v.a.SpecialId.RealTimeProofit:case v.a.SpecialId.FreePremiumAlerts:return s(a);case v.a.SpecialId.Premium:throw new Error("It's not possible to animate premium alerts");case v.a.SpecialId.Plagiarism:return Object(g.f)(n.every(b.a.isPlagiarism),"tried to finish animation on non plagiarism alert in plagiarism lens"),s(a);default:return Object(g.c)(o)}}}},e.getVerifiable=function(e){return{shouldVerify:t=>Object(u.pipe)(w.k.getActiveItem(t),p.g.exists(t=>e.isScheduledToDispose(t)))||p.g.isNone(t.items.find(t=>!e.isScheduledToDispose(t)))}},e.getHasSelectableAlert=n,e.getHasAlerts=function(e,t,a,r){const i=e=>n(t,a(e),r),s=e=>e.id===v.a.SpecialId.Premium||e.id===v.a.SpecialId.Plagiarism?e.meta.count:Object(u.pipe)(w.k.getActiveItem(e),p.g.chain(r.hasActiveAlert),p.g.map(e=>e.alert),p.g.exists(b.a.isCapiDone))&&1===e.items.size?0:e.meta.count;return{getVisibleAlertsCount:s,getActiveAlertsCount:s,getActiveAlert:e=>Object(u.pipe)(w.k.getActiveItem(e),p.g.chain(r.hasActiveAlert)),findFirstAlert:e=>Object(u.pipe)(e.items.values(),c.T(i(e))),findNextAlert:t=>(Object(g.f)(p.g.isSome(w.k.getActiveItem(t))===p.g.isSome(t.cardIndex),"Lens is in wrong state: cardIndex must reference existing card"),Object(u.pipe)(Object(o.b)(p.g.option)(w.k.getActiveItem(t),t.cardIndex),p.g.chain(([n,a])=>Object(u.pipe)(e.nextAlert(n),p.g.alt(()=>e.prevAlert(n)),p.g.map(e=>({alert:e,highlightIndex:0})),p.g.alt(()=>Object(u.pipe)(f.a.lookAroundMap(t.items.values(),a,i(t)),p.g.map(e=>e.value))))),p.g.orElse(Object(u.pipe)(t.items.values(),c.T(i(t))))))}};var a=e.setVisibleItems=e=>t=>Object(i.a)(Object(r.a)({},t),{cardIndex:Object(u.pipe)(w.k.getActiveItem(t),p.g.chain(t=>Object(u.pipe)(e.get(t.id),p.g.map(e=>e.index)))),items:e})}(k=e.Capabilities||(e.Capabilities={}))}(a||(a={}))},rwYK:function(e){e.exports=JSON.parse('{"title":"_4c8c473e-user-inputs-title","subtitle":"_7237d3f2-user-inputs-subtitle","userInputsWrapper":"_e7053ff8-user-inputs-userInputsWrapper","userInputWrapper":"_87b6cf14-user-inputs-userInputWrapper","userInputWrapperSparse":"_2e8f5675-user-inputs-userInputWrapperSparse","userInputContainer":"_b10c3a47-user-inputs-userInputContainer","userInputTitle":"_49d9efc5-user-inputs-userInputTitle","newBadge":"_90c19e3e-user-inputs-newBadge","tooltip":"_7fd62e09-user-inputs-tooltip","noteContainer":"_140ea7b6-user-inputs-noteContainer","noteTextarea":"_5a1a59e6-user-inputs-noteTextarea","noteCounter":"_935d7644-user-inputs-noteCounter","nativeLanguageDescriptionWrapper":"_97103f54-user-inputs-nativeLanguageDescriptionWrapper","dropdown":"_d57a371d-user-inputs-dropdown","dropdownButton":"_f4cc3f7f-user-inputs-dropdownButton","dropdownList":"_de145be4-user-inputs-dropdownList","dropdownOptionsContainer":"_d8edb710-user-inputs-dropdownOptionsContainer","dropdownOption":"_0ec93a54-user-inputs-dropdownOption","dropdownSearchContainer":"_9588337f-user-inputs-dropdownSearchContainer","dropdownSearch":"_340b7012-user-inputs-dropdownSearch","dropdownSearchIcon":"_983a02b6-user-inputs-dropdownSearchIcon","dropdownSearchClear":"_df36906d-user-inputs-dropdownSearchClear","dropdownSearchNoMatches":"_fba511c5-user-inputs-dropdownSearchNoMatches","dialectDropdown":"_89ae4e06-user-inputs-dialectDropdown","splitButton":"_818fe205-user-inputs-splitButton","splitButtonOption":"_9b9882bd-user-inputs-splitButtonOption","languageDropdownOption":"_badd48cb-user-inputs-languageDropdownOption","englishDialectOption":"_efe5beb6-user-inputs-englishDialectOption","iconArrow":"_50070dc3-user-inputs-iconArrow","loader":"_ec2264cc-user-inputs-loader"}')},"s/43":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("B8yO"),r=n("4GyQ"),i=n("nWMp");const o=({double:e,triple:t,small:n})=>a.createElement("div",Object(r.c)(s,!0===e&&c,!0===t&&l,!0===n&&u)),s=i.a.joinClasses(["spacer",i.a.style({margin:0,minHeight:i.a.rem(.875),maxHeight:i.a.rem(1),width:i.a.percent(100),height:i.a.rem(1)})]),c=i.a.joinClasses(["spacerDouble",i.a.style({minHeight:i.a.rem(1.75),maxHeight:i.a.rem(2),height:i.a.rem(2)})]),l=i.a.joinClasses(["spacerTriple",i.a.style({minHeight:i.a.rem(2.625),maxHeight:i.a.rem(3),height:i.a.rem(3)})]),u=i.a.style({$nest:{"&.spacer":{minHeight:i.a.rem(.4375),maxHeight:i.a.rem(.5),height:i.a.rem(.5)},"&.spacerDouble":{minHeight:i.a.rem(.875),maxHeight:i.a.rem(1),height:i.a.rem(1)},"&.spacerTriple":{minHeight:i.a.rem(1.3125),maxHeight:i.a.rem(1.5),height:i.a.rem(1.5)}}})},s4G0:function(e,t,n){"use strict";n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return E})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return T})),n.d(t,"c",(function(){return M}));var a=n("a5gI"),r=n("8O/t"),i=n("X76w"),o=n("yQCL"),s=n("DTwm"),c=n("tiWp"),l=n("+vYo"),u=n("mgiE"),d=n("TKPA"),p=n("0kuo"),m=n("RRF2"),f=n("M3t0"),h=n("Hj2R"),g=n("D2TP"),b=n("xk6L"),v=n("La5+"),y=n("yIk2"),O=n("d3CI"),S=n("wdnv"),C=n("9UJa");const w=(e,t,n,a=(()=>u.g.none))=>r=>{if(!e(r))return t(r);const{currentLens:i}=r;return i.kind===O.f.abstract?u.g.none:Object(c.pipe)(u.g.fromPredicate(O.e.hasItems)(r),u.g.chain(e=>n.findNextAlert(e.currentLens)),u.g.alt(()=>a(r)),u.g.map(C.a.toLensAlert))},k=(e,t,n,a,r=S.a.WithSuccess.State.isInGlobalSuccess(a),i=(()=>!0))=>o=>{const{currentLens:l}=o;return l.kind===O.f.abstract?u.g.none:l.kind===O.f.persistent?Object(c.pipe)(u.g.fromPredicate(O.e.hasItems)(o),u.g.chain(e=>a.getActiveAlert(e.currentLens)),u.g.fold(()=>O.e.hasItems(o)?a.findNextAlert(o.currentLens):u.g.none,t=>e.findNextAlertInTextByLens(t,Object(s.unsafeCoerce)(o.currentLens))),u.g.alt(()=>i()&&(r(o)||g.a.isOutcomeId(o.currentLens.id)&&e.hasZeroFreeAlerts(n))?e.findPremiumAlert():u.g.none),u.g.map(C.a.toLensAlert)):Object(c.pipe)((r=>{const i=u.g.fromPredicate(O.e.hasItems)(r);return Object(c.pipe)(i,u.g.chain(e=>a.findNextAlert(e.currentLens)),u.g.map(C.a.toLensAlert),u.g.alt(()=>Object(c.pipe)(i,u.g.chain(e=>a.getActiveAlert(e.currentLens)),u.g.fold(()=>t(h.a.isRegisteredApplicableAlert,"cursor"),t=>e.findNextAlertInText(t,h.a.isApplicableAlert)),u.g.map(({alert:e,highlightIndex:t})=>({alert:e,highlightIndex:t,lensId:n.get()})))))})(o),u.g.alt(()=>Object(c.pipe)(e.findPremiumAlert(),u.g.map(C.a.toLensAlert))))},E=(e,t,n,a=S.a.WithSuccess.State.isInGlobalSuccess(n),r=s.constTrue)=>Object(s.flow)(u.g.fromPredicate(O.e.genericMapper(s.constTrue,Object(d.b)(r,Object(d.p)(a,n=>g.a.isOutcomeId(n.currentLens.id)&&e.hasZeroFreeAlerts(t))),s.constFalse)),u.g.chain(()=>e.findPremiumAlert()),u.g.map(C.a.toLensAlert));function j(e,t){return(n,a)=>t.findClosestAlertHighlight(e(a),n)}const _=e=>e.pipe(b.a.pairwise(),b.a.first(([e,t])=>"idle"!==e&&"idle"===t),b.a.map(()=>{})),x=e=>e.pipe(b.a.startWith("idle"),b.a.pairwise(),b.a.first(([e,t])=>"idle"===t),b.a.filter(([e])=>"full"===e),b.a.map(()=>{})),A=(e,t)=>{const n=_(e);return t.bigPaste.pipe(b.a.switchMap(()=>n),b.a.map(()=>{}),b.a.shareReplay({bufferSize:1,refCount:!0}))};class I{dispose(){this._subs.dispose()}constructor(e,t){Object(a.a)(this,"_subs",new v.a.Keeper),Object(a.a)(this,"firstOpeningOfDocumentWithAlerts",l.a.create(!1));const n=_(e),r=(e=>Object(c.pipe)(e,b.a.filter(e=>O.e.hasCards(e)&&u.g.isSome(O.k.getActiveItem(e.currentLens))),b.a.map(()=>{})))(t);this._subs.push(Object(c.pipe)(t,b.a.first(e=>O.e.hasCards(e)),b.a.switchMap(()=>Object(c.pipe)(b.a.mergeStatic(r,n),b.a.map(s.constFalse),b.a.startWith(!0))),b.a.tap(y.b.toAtom(this.firstOpeningOfDocumentWithAlerts))).subscribe())}}var T,M;!function(e){const t=Object(d.l)(f.d.Logging.getLogger);e.focusFirstCardAfterBigCheck=(e,n,a,r,i)=>{const o=_(n),s=x(n),l=A(n,r);return Object(c.pipe)(b.a.mergeStatic(o,s,l),b.a.withLatestFrom(e,i,a),b.a.filter(([e,t,n,a])=>a&&!n&&O.e.hasCards(t)&&u.g.isNone(O.k.getActiveItem(t.currentLens))),b.a.map(()=>O.e.Effect.FocusBehavior.focusFirst),b.a.tap(e=>t("AutoFocus.sideEffects.focusFirstCardAfterBigCheck").trace("emit: ",e)))},e.getSideEffect=(e,t)=>{const n=Object(c.pipe)(e,b.a.map((e=>t=>n=>{switch(t.kind){case O.e.Effect.FocusBehaviorType.noFocus:return n;case O.e.Effect.FocusBehaviorType.unFocus:return O.e.Prism.getLensWithItems().modify(e.unselectItem(),n);case O.e.Effect.FocusBehaviorType.focusFirst:return Object(c.pipe)(e.findFirstAlert(n.currentLens),u.g.fold(()=>n,t=>O.e.Prism.getLensWithItems().modify(e.selectItemByAlert(t),n)));case O.e.Effect.FocusBehaviorType.focusNext:return Object(c.pipe)(e.findNextAlert(n.currentLens),u.g.fold(()=>n,t=>O.e.Prism.getLensWithItems().modify(e.selectItemByAlert(t),n)));case O.e.Effect.FocusBehaviorType.focusAlert:return O.e.Prism.getLensWithItems().modify(e.selectItemByAlert(t.alertHighlight),n);default:Object(p.c)(t)}})(t)));return{id:"autoFocusEffect",when:g.a.isWithAlertsId,what:O.e.Effect.ItemsApplicator.create(n)}};var n=e.whenFirstOpeningDocumentWithAlerts=e=>()=>e.firstOpeningOfDocumentWithAlerts.get(),a=e.whenShouldVerifyCurrentLens=(e,n)=>a=>{const r="AutoFocus.stateValidator.whenShouldVerifyCurrentLens";return!(!O.e.hasItems(a)||!n.shouldVerify(a.currentLens))&&(Object(c.pipe)(O.e.getActiveAlert(e)(a),u.g.filter(h.a.isInDuplicatedState),u.g.fold(()=>t(r).debug("Current alert removed, should verify current lens..."),e=>t(r).info("Current alert removed as it's a duplicate, should verify current lens...",e.toString()))),!0)},m=e.whenNoActiveCard=e=>e.currentLens.items.size>0&&u.g.isNone(O.k.getActiveItem(e.currentLens)),v=e.behaviorToEffect=e=>n=>a=>Object(c.pipe)(n(a)?e(a):u.g.none,u.g.tap(e=>t("AutoFocus.stateValidator").debug("'behavior triggered: "+e.kind)));e.getDefaultBehavior=(e,t)=>Object(c.pipe)([Object(c.pipe)(a(e,t),v(()=>u.g.some(O.e.Effect.FocusBehavior.focusNext)))],Object(o.fold)(Object(o.getFunctionMonoid)(u.g.getFirstMonoid())())),e.getAlwaysFocusBehavior=(e,t)=>Object(c.pipe)([Object(c.pipe)(Object(d.p)(m,a(e,t)),v(()=>u.g.some(O.e.Effect.FocusBehavior.focusNext)))],Object(o.fold)(Object(o.getFunctionMonoid)(u.g.getFirstMonoid())())),e.getFocusFromCacheBehavior=(e,t,r,i,l,p)=>Object(c.pipe)([Object(c.pipe)(a(i,l),v(()=>u.g.some(O.e.Effect.FocusBehavior.focusNext))),Object(c.pipe)(Object(d.b)(()=>t.get(),Object(d.b)(Object(d.b)(Object(d.b)(n(r),()=>e),m),Object(c.pipe)(p,u.g.map(e=>Object(s.not)(e.willShowBulkAccept)),u.g.getOrElse(()=>s.constTrue)))),v(()=>u.g.some(O.e.Effect.FocusBehavior.focusFirst)))],Object(o.fold)(Object(o.getFunctionMonoid)(u.g.getFirstMonoid())()));e.getFirstApiAlignmentOverride=function(){const e=l.a.create(!0);return(t,n)=>{let a=n;return e.get()&&n===h.b.api&&(a=h.b.text),e.set(!1),a}};e.getShouldAutoFocus=(e,t,n)=>a=>e.get()&&Object(c.pipe)(a,O.e.getActiveAlert(n),u.g.chain(({id:e})=>t.getById(e)),u.g.filter(Object(d.p)(e=>"APPLIED"===e.state.type&&"ByCard"===e.state.method,h.a.isDuplicated,h.a.isCapiDone)),u.g.isSome),e.getStateTransformer=(e,n,a,o,s,l,d)=>({state:m,metadata:f})=>{const h=t("AutoFocus.stateTransformer");if(!O.e.hasCards(m)||!O.e.hasItems(m))return h.trace("state has no items, returning original state"),u.b.left({state:m,metadata:f});const g=e(m);if(h.trace("effect: ",{state:m,metadata:f,effect:g}),u.g.isNone(g))return h.trace("no effect selected, returning original state"),u.b.left({state:m,metadata:f});if(l(g.value),g.value.kind===O.e.Effect.FocusBehaviorType.unFocus||g.value.kind===O.e.Effect.FocusBehaviorType.noFocus)return u.b.left({state:O.e.Prism.getLensWithItems().modify(o.unselectItem(),m),metadata:f});const b=s(m);return h.trace("shouldAutoFocus",{alertSource:m.alertSource,shouldAutoFocus:b}),Object(c.pipe)(g,u.g.chain(e=>{switch(e.kind){case O.e.Effect.FocusBehaviorType.noFocus:case O.e.Effect.FocusBehaviorType.unFocus:return u.g.none;case O.e.Effect.FocusBehaviorType.focusFirst:return Object(c.pipe)(o.findFirstAlert(m.currentLens),u.g.map(e=>Object(i.a)(Object(r.a)({},e),{lensId:m.currentLens.id})));case O.e.Effect.FocusBehaviorType.focusNext:return n(m);case O.e.Effect.FocusBehaviorType.focusAlert:return u.g.some(Object(i.a)(Object(r.a)({},e.alertHighlight),{lensId:m.currentLens.id}));default:Object(p.c)(e)}}),u.g.map(e=>(Object(p.f)(u.g.isSome(a.getRegistered(e.alert.id)),"lens alert should be in registered state",()=>e.alert.toString()),e)),u.g.fold(()=>(h.trace("no alert selected, returning original state"),m.currentLens.kind===O.f.active?u.b.right(u.b.right({lensId:d.get(),alertSource:m.alertSource,options:{order:m.switchOrder,toFocus:O.e.Effect.FocusBehavior.noFocus}})):u.b.left({state:m,metadata:f})),({alert:e,highlightIndex:t,lensId:n})=>{if(h.trace("selected alert to focus",e),m.currentLens.meta.filter(e)){if(b){const n={alert:e,highlightIndex:t};return Object(c.pipe)(m.currentLens.items.find(o.hasAlert(e.id)),u.g.fold(()=>(h.trace("shouldAutoFocus: true, no such item in a lens for given alert",e.id),u.b.left({state:m,metadata:f})),()=>(h.trace("shouldAutoFocus: true, selecting alert"),u.b.left({state:O.e.Prism.getLensWithItems().modify(o.selectItemByAlert(n),m),metadata:{sourceId:"LSM.updateActiveState"}}))))}return h.trace("shouldAutoFocus: false"),u.b.left({state:m,metadata:f})}return h.trace("alert is not from current lens, recreating lens view"),u.b.right(b?u.b.left({alertHighlight:{alert:e,highlightIndex:t},alertSource:m.alertSource,options:{lensId:n,order:m.switchOrder,toFocus:O.e.Effect.FocusBehavior.focusFirst}}):u.b.right({lensId:n,alertSource:m.alertSource,options:{order:m.switchOrder,toFocus:O.e.Effect.FocusBehavior.noFocus}}))}))}}(T||(T={})),function(e){const t=e=>t=>n=>{switch(t.kind){case O.e.Effect.FocusBehaviorType.noFocus:return n;case O.e.Effect.FocusBehaviorType.unFocus:return O.e.Prism.getLensWithItems().modify(e.unselectItem(),n);case O.e.Effect.FocusBehaviorType.focusFirst:return Object(c.pipe)(n.currentLens.items.find(Object(s.not)(e.isScheduledToDispose)),u.g.map(m.e.pick("value")),u.g.fold(Object(s.constant)(n),t=>O.e.Prism.getLensWithItems().modify(e.selectItemById(t.id),n)));case O.e.Effect.FocusBehaviorType.focusNext:return Object(c.pipe)(n.currentLens.cardIndex,u.g.chain(t=>Object(c.pipe)(m.a.lookAroundMap(n.currentLens.items.values(),t,u.g.fromPredicate(Object(s.not)(e.isScheduledToDispose))),u.g.map(m.e.pick("value")))),u.g.fold(Object(s.constant)(n),t=>O.e.Prism.getLensWithItems().modify(e.selectItemById(t.id),n)));case O.e.Effect.FocusBehaviorType.focusAlert:return O.e.Prism.getLensWithItems().modify(e.selectItemByAlert(t.alertHighlight),n);default:Object(p.c)(t)}},n=Object(d.l)(f.d.Logging.getLogger);e.focusFirstCardAfterBigCheck=(e,t,a,r)=>{const i=_(t),o=x(t),s=A(t,r);return Object(c.pipe)(b.a.mergeStatic(i,o,s),b.a.switchMap(y.b.Scheduler.rafScheduler),b.a.switchMap(y.b.Scheduler.rafScheduler),b.a.withLatestFrom(e,a),b.a.filter(([e,t,n])=>n&&O.e.hasCards(t)&&u.g.isNone(O.k.getActiveItem(t.currentLens))),b.a.map(()=>O.e.Effect.FocusBehavior.focusFirst),b.a.tap(e=>n("AutoFocus.sideEffects.focusFirstCardAfterBigCheck").trace("emit: ",e)))},e.getSideEffect=(e,n)=>{const a=Object(c.pipe)(e,b.a.map(t(n)));return{id:"sduiAutoFocusEffect",when:g.a.isWithAlertsId,what:O.e.Effect.ItemsApplicator.create(a)}},e.getShouldAutoFocus=(e,t,n)=>a=>e.get()&&Object(c.pipe)(a,O.e.getActiveAlert(n),u.g.chain(({id:e})=>t.getById(e)),u.g.filter(Object(d.p)(e=>!("REMOVED"===e.state.type&&"textChange"===e.state.reason),h.a.isDuplicated,h.a.isCapiDone)),u.g.isSome),e.getStateTransformer=(e,a,o,s,l,d)=>({state:p,metadata:m})=>{const h=n("AutoFocus.stateTransformer",f.a.LogLevel.TRACE);if(!O.e.hasCards(p)||!O.e.hasItems(p))return h.trace("state has no items, returning original state"),u.b.left({state:p,metadata:m});const g=e(p);if(u.g.isNone(g))return h.trace("no effect selected, returning original state"),u.b.left({state:p,metadata:m});if(h.trace("effect: ",{state:p,metadata:m,effect:g}),l(g.value),g.value.kind===O.e.Effect.FocusBehaviorType.unFocus||g.value.kind===O.e.Effect.FocusBehaviorType.noFocus)return u.b.left({state:O.e.Prism.getLensWithItems().modify(o.unselectItem(),p),metadata:m});const b=s(p);return h.trace("shouldAutoFocus",{alertSource:p.alertSource,shouldAutoFocus:b}),Object(c.pipe)(g,u.g.map(e=>({effect:e,applicator:t(o)})),u.g.fold(()=>(h.trace("no effect selected, returning original state"),p.currentLens.kind===O.f.active?u.b.right(u.b.right({lensId:d.get(),alertSource:p.alertSource,options:{order:p.switchOrder,toFocus:O.e.Effect.FocusBehavior.noFocus}})):u.b.left({state:p,metadata:m})),({effect:e,applicator:t})=>{h.trace("effect selected: "+e.kind);const n=t(e)(p);return b?(h.trace("shouldAutoFocus: true, selecting an item in the lens"),u.b.left({state:n,metadata:{sourceId:"LSM.updateActiveState"}})):(h.trace("current lens is empty"),e.kind===O.e.Effect.FocusBehaviorType.focusNext?(h.trace("no items to select in the current lens, trying to switch"),Object(c.pipe)(p,a,u.g.fold(()=>(h.trace("next alert not found in other lenses, reset cardIndex"),u.b.left({state:p.patch({currentLens:Object(i.a)(Object(r.a)({},p.currentLens),{cardIndex:u.g.none})}),metadata:{sourceId:"LSM.updateActiveState"}})),({lensId:e})=>(h.trace(`found next alert in lens: ${e}. Switching the lens`),u.b.right(u.b.right({lensId:e,alertSource:p.alertSource,options:{order:p.switchOrder,toFocus:O.e.Effect.FocusBehavior.noFocus}})))))):(h.trace("shouldAutoFocus: false"),u.b.left({state:p,metadata:m})))}))}}(M||(M={}))},s7eP:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("B8yO"),r=n("+vYo"),i=n("4GyQ"),o=n("NDcT"),s=n("fC5a"),c=n("ySi0"),l=n("f82Z"),u=n("Sqy8"),d=n("xk6L"),p=n("OUbY"),m=(n("XVHS"),n("OQWN")),f=c.c.size+2,h=(28-f)/2,g=function(e){var t=a.useContext(o.a.Context),n=r.a.combine(e.checking,e.hasErrors,(function(e,n){var r=e?t.sidebar.checkingLabel:n?t.sidebar.fixErrorsLabel:t.sidebar.openLabel;return a.createElement("div",{className:m.labelReveal,key:"label","data-name":r},r)})),i=u.a.fadeOutState(e.checking.pipe(d.a.skipWhile((function(e){return!1===e})))),c=e.checking.pipe(d.a.map((function(e){return e?"inProgress":"end"}))),p=c.pipe(d.a.map((function(e){return"end"!==e?a.createElement(l.a.Svg,{role:"presentation",key:"loading",type:"white",size:f,strokeWidth:5,onTransitionEnd:i.complete,x:164+h,y:h}):null}))),g=c.pipe(d.a.map((function(e){return"inProgress"===e?null:a.createElement("g",{"data-name":"checking-complete",className:"checking-complete",key:"complete"})})));return a.createElement(s.a,{name:"assistant",className:m.full,onClick:e.onClick},a.createElement(v,null,g,p),n)},b=Object(i.d)((function(e){return a.createElement("g",e)})),v=function(e){var t=e.children,n=a.useContext(p.a.Context);return a.createElement("svg",{viewBox:"0 0 ".concat(192," ").concat(28),className:n.has(p.a.Flag.supportsSVGTransitions)?m.background:m.edgeBackground},a.createElement("defs",null,a.createElement("mask",{id:"mask"},a.createElement("circle",{cx:14,cy:14,r:14,fill:"#fff"}),a.createElement("rect",{x:14,width:164,height:28,fill:"#fff"}),a.createElement("circle",{cx:178,cy:14,r:14,fill:"#fff"})),a.createElement("clipPath",{id:"clip"},a.createElement("circle",{cx:178,cy:14,r:14}),a.createElement("rect",{x:-14,width:192,height:28,fill:"#fff"}))),a.createElement("g",{clipPath:"url(#clip)"},a.createElement("rect",{id:"box",x:"0",y:"0",width:192,height:28,mask:"url(#mask)"})),a.createElement(b,null,t))}},sfTT:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return C})),n.d(t,"d",(function(){return j})),n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return L}));var a=n("nWMp"),r=n("NbNH"),i=n("7Cqk");const o="linear",s=a.a.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),c=a.a.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),l=a.a.keyframes({from:{opacity:1,transform:"translateY(0) scaleY(1)"},to:{opacity:0,transform:"translateY(-75%) scaleY(.5)"}}),u=a.a.keyframes({"0%":{opacity:0,transform:"scaleY(0)"},"100%":{opacity:1,transform:"scaleY(1)"}}),d=a.a.keyframes({"0%":{opacity:0,transform:"scaleY(.2) translateY(-50%)"},"80%":{opacity:1,transform:"scaleY(.8) translateY(0%)"},"100%":{opacity:1,transform:"scaleY(1)"}}),p=a.a.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"100%":{opacity:0,transform:"scaleY(0)"}}),m=a.a.keyframes({"0%":{opacity:0,transform:"scale(.8)"},"100%":{opacity:1,transform:"scale(1)"}}),f=a.a.keyframes({"0%, 100%":{opacity:0}}),h=a.a.keyframes({"0%, 59%":{opacity:0},"60%, 100%":{opacity:1}}),g=a.a.keyframes({"0%":{opacity:0},"80%":{opacity:0},"100%":{opacity:1}}),b=a.a.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"59%":{opacity:1},"60%":{opacity:0},"100%":{opacity:0,transform:"scaleY(0)"}}),v=a.a.keyframes({"0%":{opacity:1},"30%, 100%":{opacity:0}}),y=a.a.keyframes({"0%":{transform:"scaleY(.3)"},"100%":{transform:"scaleY(1)"}}),O=a.a.keyframes({"0%, 20%":{opacity:0},"100%":{opacity:1}}),S={position:"relative",margin:`${a.a.rem(.5)} ${a.a.rem(2)} ${a.a.rem(.5)} 0`,userSelect:"none"},C={position:"absolute",width:a.a.percent(100),pointerEvents:"none"},w={opacity:0,animation:`${s} ${a.a.seconds(r.d/4/1e3)} ${o} ${a.a.seconds(r.d/1e3)} forwards`},k={transformOrigin:"top",animation:`${c} ${a.a.seconds(r.d/1e3)} ${o} forwards`},E={transformOrigin:"bottom",animation:`${l} ${a.a.seconds(r.d/1e3)} ${o} forwards`},j={transformOrigin:"top",willChange:"contents"},_={animation:`${u} ${a.a.seconds(r.d/1e3)} ${o} forwards`},x={animation:`${d} ${a.a.seconds(r.d/1e3)} ${o} forwards`},A={animation:`${p} ${a.a.seconds(r.d/1e3)} ${o} reverse forwards`},I={animation:`${p} ${a.a.seconds(r.d/1e3)} ${o} forwards`},T={animation:`${m} ${a.a.seconds(r.d/1e3)} ${o} forwards`},M={animation:`${m} ${a.a.seconds(r.d/1e3)} ${o} reverse forwards`},P={transformOrigin:"top",animation:`${h} ${a.a.seconds(r.d/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${i.b.successWrapperSelector} > *`]:{animation:`${g} ${a.a.seconds(r.d/1e3)} ${o} forwards`}}},N={position:"absolute",width:a.a.percent(100),transformOrigin:"top",animation:`${b} ${a.a.seconds(r.d/1e3)} ${o} forwards`,pointerEvents:"none",$nest:{[`& .${i.b.fullCardSelector} > :not(.${i.b.alignButtonHiddenSelector})`]:{animation:`${v} ${a.a.seconds(r.d/1e3)} ${o} forwards`},[`& .${i.b.fullCardSelector} > .${i.b.alignButtonHiddenSelector}`]:{animation:`${f} ${a.a.seconds(r.d/1e3)} ${o} none`},["& ."+i.b.fullCardSelector]:{transform:`translateY(${a.a.rem(-1)})`}}},D={transformOrigin:"top",animation:`${y} ${a.a.seconds(r.d/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${i.b.fullCardSelector} > :not(.${i.b.alignButtonHiddenSelector})`]:{animation:`${O} ${a.a.seconds(r.d/1e3)} ${o} forwards`},[`& .${i.b.fullCardSelector} > .${i.b.alignButtonHiddenSelector}`]:{animation:`${f} ${a.a.seconds(r.d/1e3)} ${o} none`}}},B=a.a.stylesheet({wrapper:[S],animationWrapper:[{position:"relative"}],shade:[C],focused2renderedMain:[w],focused2renderedShade:[C,k],focused2renderedShadeClockwise:[C,E],rendered2focusedMainBase:[j],rendered2focusedMain:[j,_],rendered2focusedMainClockwise:[j,x],addedMain:[A],rendered2removedShade:[C,I],openedMain:[T],closedMain:[M],focused2successMain:[P],focused2successShade:[N],success2FocusedMain:[D]}),L=new Map([[c,B.focused2renderedShade],[l,B.focused2renderedShadeClockwise],[p,B.rendered2removedShade],[b,B.focused2successShade]])},t39C:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var a=n("B8yO"),r=n("4GyQ"),i=n("c+X/"),o=n("nWMp");const s=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;function c(e,t=d.emoji){return`<img alt="${e}" class="${t}" src="${function(e){return i.b+function(e){return e.length<4?e.codePointAt(0).toString(16):e.codePointAt(0).toString(16)+"-"+e.codePointAt(2).toString(16)}(e)+".svg"}(e)}" onerror="this.replaceWith(this.alt)" draggable="false" />`}const l=({children:e,emojiClassName:t,className:n})=>{const r=a.useRef(null);return a.useEffect(()=>{r.current&&(r.current.innerHTML=r.current.innerHTML.replace(s,e=>c(e,t)))},[r,t]),a.createElement("span",{ref:r,className:n},e)},u=({id:e,className:t})=>{const[n,o]=a.useState(!1),[s,c]=a.useState(""),[l,u]=a.useState("");return a.useEffect(()=>{o(!1),u(function(e){return i.b+e+".svg"}(e)),c((e=>{try{return String.fromCodePoint(...e.map(e=>parseInt(e,16)))}catch(e){return""}})(e.split("-")))},[e]),n?a.createElement("span",Object(r.c)(t,d.emojiFromIDAlt),s):a.createElement("img",{className:t,src:l,alt:s,onError:()=>o(!0),"aria-hidden":!0})},d=o.a.stylesheet({emoji:[{display:"inline",marginRight:".25em",width:"1em",verticalAlign:"sub",lineHeight:1,transform:"scale(1.25)",transformOrigin:"bottom",userSelect:"none"}],emojiFromIDAlt:[{display:"flex",alignItems:"center"}]})},tCI5:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return x}));var a={};n.r(a),n.d(a,"ActionNotifyUserAction",(function(){return i})),n.d(a,"ActionInteractPopoverInteraction",(function(){return o})),n.d(a,"ActionOpenGrammarlyGoEntryPoint",(function(){return s})),n.d(a,"AnimationName",(function(){return c})),n.d(a,"ButtonKind",(function(){return l})),n.d(a,"ButtonShape",(function(){return u})),n.d(a,"ButtonState",(function(){return d})),n.d(a,"Color",(function(){return p})),n.d(a,"ComponentKnownName",(function(){return m})),n.d(a,"ContentAssistantFeedOrderingDirection",(function(){return f})),n.d(a,"ContentAssistantFeedFilteringCondition",(function(){return h})),n.d(a,"ContentProgressBarState",(function(){return g})),n.d(a,"HorizontalAlign",(function(){return b})),n.d(a,"IconKnownName",(function(){return v})),n.d(a,"LensKind",(function(){return y})),n.d(a,"Position",(function(){return O})),n.d(a,"Radius",(function(){return S})),n.d(a,"Space",(function(){return C})),n.d(a,"TextFormat",(function(){return w})),n.d(a,"TextSize",(function(){return k})),n.d(a,"TimeCurve",(function(){return E})),n.d(a,"TooltipAlignment",(function(){return j})),n.d(a,"VerticalAlign",(function(){return _}));var r={};n.r(r),n.d(r,"interpreter",(function(){return I.a})),n.d(r,"Root",(function(){return T})),n.d(r,"Action",(function(){return M})),n.d(r,"ActionNotifyUserAction",(function(){return P})),n.d(r,"ActionNotify",(function(){return N})),n.d(r,"ActionOpenSettings",(function(){return D})),n.d(r,"ActionOpenLearnMore",(function(){return B})),n.d(r,"ActionOpenPerformanceScore",(function(){return L})),n.d(r,"ActionOpenToneDetector",(function(){return F})),n.d(r,"ActionUpgradeToPremium",(function(){return R})),n.d(r,"ActionShowHighlights",(function(){return H})),n.d(r,"ActionHideHighlights",(function(){return V})),n.d(r,"ActionOpenFeedback",(function(){return U})),n.d(r,"ActionOpenCreateSnippetModal",(function(){return W})),n.d(r,"ActionCloseCard",(function(){return z})),n.d(r,"ActionNextCard",(function(){return G})),n.d(r,"ActionPrevCard",(function(){return q})),n.d(r,"ActionRemoveRoot",(function(){return K})),n.d(r,"ActionRemoveAlerts",(function(){return $})),n.d(r,"ActionApplyAlerts",(function(){return Z})),n.d(r,"ActionSelectAlternative",(function(){return Y})),n.d(r,"ActionTransition",(function(){return X})),n.d(r,"ActionOpenLink",(function(){return Q})),n.d(r,"ActionCopyToClipboard",(function(){return J})),n.d(r,"ActionNativeOpenAssistant",(function(){return ee})),n.d(r,"ActionPushAssistantFeed",(function(){return te})),n.d(r,"ActionPopAssistantFeed",(function(){return ne})),n.d(r,"ActionFocusAssistantCard",(function(){return ae})),n.d(r,"ActionSwitchView",(function(){return re})),n.d(r,"ActionNewRevision",(function(){return ie})),n.d(r,"ActionHighlightAlert",(function(){return oe})),n.d(r,"ActionStopApplyingAlerts",(function(){return se})),n.d(r,"ActionClosePopover",(function(){return ce})),n.d(r,"ActionInteractPopoverInteraction",(function(){return le})),n.d(r,"ActionInteractPopover",(function(){return ue})),n.d(r,"ActionOpenGrammarlyGoEntryPoint",(function(){return de})),n.d(r,"ActionOpenGrammarlyGo",(function(){return pe})),n.d(r,"ActionEnablePlagiarismCheck",(function(){return me})),n.d(r,"ActionDisablePlagiarismCheck",(function(){return fe})),n.d(r,"ActionEnableWritingExpertCheck",(function(){return he})),n.d(r,"ActionDisableWritingExpertCheck",(function(){return ge})),n.d(r,"ActionNativeOpenUserSatisfactionFeedback",(function(){return be})),n.d(r,"Actions",(function(){return ve})),n.d(r,"AnimationName",(function(){return ye})),n.d(r,"Behavior",(function(){return Oe})),n.d(r,"BehaviorStrongAlertRef",(function(){return Ce})),n.d(r,"BehaviorAnimationFadeIn",(function(){return we})),n.d(r,"BehaviorAnimationFadeOut",(function(){return ke})),n.d(r,"BehaviorPopoverAnchor",(function(){return Ee})),n.d(r,"BehaviorLifecycle",(function(){return _e})),n.d(r,"Behaviors",(function(){return xe})),n.d(r,"BorderRadius",(function(){return Ae})),n.d(r,"ButtonKind",(function(){return Ie})),n.d(r,"ButtonShape",(function(){return Te})),n.d(r,"ButtonState",(function(){return Me})),n.d(r,"Color",(function(){return Pe})),n.d(r,"ComponentKnownName",(function(){return Ne})),n.d(r,"ComponentMeta",(function(){return De})),n.d(r,"ComponentName",(function(){return Be})),n.d(r,"ComponentNameUnknown",(function(){return Le})),n.d(r,"ComponentNameKnown",(function(){return Fe})),n.d(r,"Content",(function(){return Re})),n.d(r,"ContentText",(function(){return Ve})),n.d(r,"ContentAssistantFeedOrderingDirection",(function(){return Ue})),n.d(r,"ContentAssistantFeedOrdering",(function(){return We})),n.d(r,"ContentAssistantFeedFilteringCondition",(function(){return ze})),n.d(r,"ContentAssistantFeedFiltering",(function(){return Ge})),n.d(r,"ContentAssistantFeed",(function(){return qe})),n.d(r,"ContentAssistantCard",(function(){return $e})),n.d(r,"ContentPopoverStack",(function(){return Ye})),n.d(r,"ContentInlineCard",(function(){return Qe})),n.d(r,"ContentGButtonDefault",(function(){return et})),n.d(r,"ContentGButtonTone",(function(){return tt})),n.d(r,"ContentGButtonProofit",(function(){return nt})),n.d(r,"ContentGButtonGetStarted",(function(){return at})),n.d(r,"ContentGButtonPlagiarism",(function(){return rt})),n.d(r,"ContentGButtonWritingExpert",(function(){return it})),n.d(r,"ContentGButton",(function(){return ot})),n.d(r,"ContentProofitButton",(function(){return st})),n.d(r,"ContentLensesSwitchPanelLensSwitchButton",(function(){return ct})),n.d(r,"ContentLensesSwitchPanel",(function(){return lt})),n.d(r,"ContentStrongAlertRef",(function(){return ut})),n.d(r,"ContentColumn",(function(){return pt})),n.d(r,"ContentRow",(function(){return ft})),n.d(r,"ContentBlockInnerSpacing",(function(){return gt})),n.d(r,"ContentBlock",(function(){return bt})),n.d(r,"ContentBox",(function(){return yt})),n.d(r,"ContentScroll",(function(){return St})),n.d(r,"ContentListItemSecondaryButtonLabel",(function(){return wt})),n.d(r,"ContentListItemSecondaryButtonLabelText",(function(){return kt})),n.d(r,"ContentListItemSecondaryButtonLabelIcon",(function(){return Et})),n.d(r,"ContentListItemSecondaryButton",(function(){return jt})),n.d(r,"ContentListItem",(function(){return _t})),n.d(r,"ContentList",(function(){return At})),n.d(r,"ContentSelectableDropDownMenu",(function(){return Tt})),n.d(r,"ContentDropDownMenuButton",(function(){return Mt})),n.d(r,"ContentIconSource",(function(){return Pt})),n.d(r,"ContentIconSourceKnown",(function(){return Nt})),n.d(r,"ContentIconSourceUrl",(function(){return Dt})),n.d(r,"ContentIcon",(function(){return Bt})),n.d(r,"ContentImage",(function(){return Lt})),n.d(r,"ContentButton",(function(){return Ft})),n.d(r,"ContentTooltip",(function(){return Ht})),n.d(r,"ContentClickableText",(function(){return Ut})),n.d(r,"ContentCount",(function(){return Wt})),n.d(r,"ContentAlertsCount",(function(){return zt})),n.d(r,"ContentAlternativeChoiceAlterna",(function(){return Gt})),n.d(r,"ContentAlternativeChoice",(function(){return Kt})),n.d(r,"ContentSliderChoiceIcon",(function(){return Zt})),n.d(r,"ContentSliderChoiceIconIconSource",(function(){return Yt})),n.d(r,"ContentSliderChoiceIconIcon",(function(){return Xt})),n.d(r,"ContentSliderChoice",(function(){return Qt})),n.d(r,"ContentSlider",(function(){return Jt})),n.d(r,"ContentAlternativeSliderChoiceIcon",(function(){return en})),n.d(r,"ContentAlternativeSliderChoice",(function(){return tn})),n.d(r,"ContentAlternativeSlider",(function(){return an})),n.d(r,"ContentNativeSkillsModal",(function(){return on})),n.d(r,"ContentNativeSkillsList",(function(){return sn})),n.d(r,"ContentNativeSkillsView",(function(){return cn})),n.d(r,"ContentNativeToneInsightsModal",(function(){return ln})),n.d(r,"ContentNativeLearnMoreModal",(function(){return un})),n.d(r,"ContentNativeSettingsModal",(function(){return dn})),n.d(r,"ContentNativeFeedbackModal",(function(){return pn})),n.d(r,"ContentNativeGetStartedChecklistModal",(function(){return mn})),n.d(r,"ContentNativeProofitModal",(function(){return fn})),n.d(r,"ContentNativeKeyTakeawaysAssistantCard",(function(){return hn})),n.d(r,"ContentNativeInlineCardContent",(function(){return gn})),n.d(r,"ContentNativePerformanceScoreButton",(function(){return bn})),n.d(r,"ContentViewStack",(function(){return vn})),n.d(r,"ContentNativeExperimentalGbconsistencyUpsellFooter",(function(){return On})),n.d(r,"ContentRadioButtonsGroupOption",(function(){return Sn})),n.d(r,"ContentRadioButtonsGroup",(function(){return Cn})),n.d(r,"ContentNativeExperimentalGbtoneInsightsUpsellFooter",(function(){return wn})),n.d(r,"ContentCollapsedCard",(function(){return kn})),n.d(r,"ContentShortFormCard",(function(){return jn})),n.d(r,"ContentLongFormCard",(function(){return xn})),n.d(r,"ContentProgressBarState",(function(){return In})),n.d(r,"ContentProgressBar",(function(){return Tn})),n.d(r,"ContentHorizontalRule",(function(){return Mn})),n.d(r,"ContentGlobalPart",(function(){return Pn})),n.d(r,"ContentGlobalPartPlaceholder",(function(){return Dn})),n.d(r,"FeedProperties",(function(){return Ln})),n.d(r,"FeedReference",(function(){return Fn})),n.d(r,"HorizontalAlign",(function(){return Rn})),n.d(r,"IconContent",(function(){return Hn})),n.d(r,"IconKnownName",(function(){return Vn})),n.d(r,"Id",(function(){return Un})),n.d(r,"LensKind",(function(){return Wn})),n.d(r,"MenuSectionItem",(function(){return zn})),n.d(r,"MenuSection",(function(){return Gn})),n.d(r,"Menu",(function(){return qn})),n.d(r,"Percentage",(function(){return Kn})),n.d(r,"PopoverViewAnchor",(function(){return $n})),n.d(r,"PopoverViewAnchorComponent",(function(){return Zn})),n.d(r,"PopoverViewAnchorGButton",(function(){return Yn})),n.d(r,"PopoverViewAnchorNativeComponent",(function(){return Xn})),n.d(r,"PopoverView",(function(){return Qn})),n.d(r,"Position",(function(){return ea})),n.d(r,"Radius",(function(){return ta})),n.d(r,"RemSize",(function(){return na})),n.d(r,"SelectItem",(function(){return aa})),n.d(r,"Select",(function(){return ra})),n.d(r,"SelectedView",(function(){return ia})),n.d(r,"Space",(function(){return oa})),n.d(r,"Spacing",(function(){return sa})),n.d(r,"TextFormat",(function(){return ca})),n.d(r,"TextSize",(function(){return la})),n.d(r,"TimeCurve",(function(){return ua})),n.d(r,"TooltipAlignment",(function(){return da})),n.d(r,"VerticalAlign",(function(){return pa}));var i,o,s,c,l,u,d,p,m,f,h,g,b,v,y,O,S,C,w,k,E,j,_,x={};n.r(x),n.d(x,"version",(function(){return fa})),n.d(x,"unsupportedComponents",(function(){return ha})),function(e){e.Click="click",e.SelectSliderChoice="selectSliderChoice",e.Focus="focus",e.CloseAssistant="closeAssistant"}(i||(i={})),function(e){e.Dismiss="dismiss",e.Fulfill="fulfill"}(o||(o={})),function(e){e.Ideation="ideation",e.QuickReply="quickReply",e.QuickRewrite="quickRewrite",e.Rewrite="rewrite",e.PushRewrite="pushRewrite"}(s||(s={})),function(e){e.FadeIn="fadeIn",e.FadeOut="fadeOut",e.SlideLeft="slideLeft",e.SlideRight="slideRight"}(c||(c={})),function(e){e.Primary="primary",e.Secondary="secondary",e.Toggle="toggle",e.Yellow="yellow",e.Outlined="outlined",e.Link="link",e.DarkPrimary="darkPrimary",e.DarkSecondary="darkSecondary",e.GgoPrimary="ggoPrimary"}(l||(l={})),function(e){e.Round="round",e.Square="square"}(u||(u={})),function(e){e.Enabled="enabled",e.Disabled="disabled",e.Deselected="deselected",e.Selected="selected",e.Hidden="hidden"}(d||(d={})),function(e){e.CoreNeutral90="CoreNeutral90",e.CoreNeutral80="CoreNeutral80",e.CoreNeutral70="CoreNeutral70",e.CoreNeutral60="CoreNeutral60",e.CoreNeutral50="CoreNeutral50",e.CoreNeutral40="CoreNeutral40",e.CoreNeutral30="CoreNeutral30",e.CoreNeutral20="CoreNeutral20",e.CoreNeutral10="CoreNeutral10",e.CoreNeutral1="CoreNeutral1",e.CoreNeutral0="CoreNeutral0",e.CoreGreen70="CoreGreen70",e.CoreGreen60="CoreGreen60",e.CoreGreen50="CoreGreen50",e.CoreGreen40="CoreGreen40",e.CoreGreen30="CoreGreen30",e.CoreGreen20="CoreGreen20",e.CoreGreen10="CoreGreen10",e.CoreGreen1="CoreGreen1",e.CoreBlue70="CoreBlue70",e.CoreBlue60="CoreBlue60",e.CoreBlue50="CoreBlue50",e.CoreBlue40="CoreBlue40",e.CoreBlue30="CoreBlue30",e.CoreBlue20="CoreBlue20",e.CoreBlue10="CoreBlue10",e.CoreBlue1="CoreBlue1",e.CoreRed70="CoreRed70",e.CoreRed60="CoreRed60",e.CoreRed50="CoreRed50",e.CoreRed40="CoreRed40",e.CoreRed30="CoreRed30",e.CoreRed20="CoreRed20",e.CoreRed10="CoreRed10",e.CoreRed1="CoreRed1",e.CoreYellow80="CoreYellow80",e.CoreYellow70="CoreYellow70",e.CoreYellow60="CoreYellow60",e.CoreYellow50="CoreYellow50",e.CoreYellow40="CoreYellow40",e.CoreYellow30="CoreYellow30",e.CoreYellow20="CoreYellow20",e.CoreYellow10="CoreYellow10",e.CoreYellow1="CoreYellow1",e.CorePurple60="CorePurple60",e.CorePurple50="CorePurple50",e.CorePurple40="CorePurple40",e.CorePurple30="CorePurple30",e.CorePurple20="CorePurple20",e.CorePurple10="CorePurple10",e.CorePurple1="CorePurple1",e.CoreCyan60="CoreCyan60",e.CoreCyan50="CoreCyan50",e.CoreCyan40="CoreCyan40",e.CoreCyan30="CoreCyan30",e.CoreCyan20="CoreCyan20",e.CoreCyan10="CoreCyan10",e.CoreCyan1="CoreCyan1",e.CoreSky70="CoreSky70",e.CoreSky60="CoreSky60",e.CoreSky50="CoreSky50",e.CoreSky40="CoreSky40",e.CoreSky30="CoreSky30",e.CoreSky20="CoreSky20",e.CoreSky10="CoreSky10",e.CoreSky1="CoreSky1",e.CoreIndigo70="CoreIndigo70",e.CoreIndigo60="CoreIndigo60",e.CoreIndigo50="CoreIndigo50",e.CoreIndigo40="CoreIndigo40",e.CoreIndigo30="CoreIndigo30",e.CoreIndigo20="CoreIndigo20",e.CoreIndigo10="CoreIndigo10",e.CoreIndigo1="CoreIndigo1",e.CoreMagenta70="CoreMagenta70",e.CoreMagenta60="CoreMagenta60",e.CoreMagenta40="CoreMagenta40",e.CoreMagenta30="CoreMagenta30",e.CoreMagenta10="CoreMagenta10",e.CoreMagenta1="CoreMagenta1",e.CoreCoral60="CoreCoral60",e.CoreCoral50="CoreCoral50",e.CoreCoral40="CoreCoral40",e.CoreCoral30="CoreCoral30",e.CoreCoral10="CoreCoral10",e.CoreCoral1="CoreCoral1",e.CoreYellowBrand50="CoreYellowBrand50",e.CoreYellowBrand40="CoreYellowBrand40",e.CoreYellowBrand30="CoreYellowBrand30",e.CoreYellowBrand20="CoreYellowBrand20",e.CoreYellowBrand10="CoreYellowBrand10",e.CoreYellowBrand1="CoreYellowBrand1",e.CoreLime50="CoreLime50",e.CoreLime40="CoreLime40",e.CoreLime30="CoreLime30",e.CoreLime20="CoreLime20",e.CoreLime10="CoreLime10",e.CoreLime1="CoreLime1"}(p||(p={})),function(e){e.ButtonPrev="button:prev",e.ButtonNext="button:next",e.ButtonAccept="button:accept",e.ButtonDismiss="button:dismiss",e.StrongAlertRefBulkAccept="strongAlertRef:BulkAccept",e.StrongAlertRefBulkDismiss="strongAlertRef:BulkDismiss",e.StrongAlertRefBulkDismissBufferOuter="strongAlertRef:BulkDismissBufferOuter",e.StrongAlertRefUpgradeHook="strongAlertRef:UpgradeHook",e.StrongAlertRefConsolidatedLockedCard="strongAlertRef:ConsolidatedLockedCard",e.ButtonGoPremiumYellow="button:goPremiumYellow",e.AssistantCardToneInsights="assistantCard:toneInsights",e.AssistantCardPerformanceScore="assistantCard:performanceScore",e.AssistantFeedPerformanceScore="assistantFeed:performanceScore",e.ButtonPerformanceScore="button:performanceScore",e.GlobalPartPlagiarismWinFooter="globalPart:plagiarismWinFooter",e.GlobalPartPlagiarismWinHeader="globalPart:plagiarismWinHeader",e.GlobalPartWritingExpertWinFooter="globalPart:writingExpertWinFooter",e.GlobalPartWritingExpertWinHeader="globalPart:writingExpertWinHeader",e.GlobalPartPerformanceScoreCard="globalPart:performanceScoreCard",e.GlobalPartPerformanceScoreButton="globalPart:performanceScoreButton"}(m||(m={})),function(e){e.Asc="asc",e.Desc="desc"}(f||(f={})),function(e){e.EqualTo="equalTo",e.NotEqualTo="notEqualTo"}(h||(h={})),function(e){e.Default="default",e.Loading="loading"}(g||(g={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(b||(b={})),function(e){e.Close="close",e.ArrowRight="arrow-right",e.ArrowLeft="arrow-left",e.Dictionary="dictionary",e.Gear="gear",e.Clarity="clarity",e.Correctness="correctness",e.Engagement="engagement",e.Delivery="delivery",e.Diamond="diamond",e.DiamondSmall="diamondSmall",e.Feedback="feedback",e.Sensitivity="sensitivity",e.ExternalLink="external-link",e.Sparkles="sparkles",e.Ignore="ignore",e.Info="info",e.Proofreader="proofreader",e.More="more",e.Mute="mute",e.Report="report",e.Controls="controls",e.Performance="performance",e.BulletList="bullet-list",e.Accept="accept",e.Copy="copy",e.GButtonSmall="gButtonSmall",e.NewSmall="newSmall",e.Edit="edit",e.User="user",e.Plagiarism="plagiarism",e.QuestionMark="questionMark",e.NewFeature="newFeature",e.Assistant="assistant"}(v||(v={})),function(e){e.AllSuggestions="allSuggestions",e.Correctness="correctness",e.Clarity="clarity",e.Engagement="engagement",e.Delivery="delivery",e.StyleGuide="styleGuide",e.SmartGuidelines="smartGuidelines"}(y||(y={})),function(e){e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left"}(O||(O={})),function(e){e.Radius0="Radius0",e.RadiusHalf="RadiusHalf",e.Radius1="Radius1",e.Radius2="Radius2",e.Radius3="Radius3"}(S||(S={})),function(e){e.D0="0",e.D0125="0.125",e.D025="0.25",e.D03125="0.3125",e.D0375="0.375",e.D05="0.5",e.D075="0.75",e.D1="1",e.D125="1.25"}(C||(C={})),function(e){e.Italic="italic",e.Bold="bold",e.StrikeoutHorizontal="strikeoutHorizontal",e.StrikeoutDiagonal="strikeoutDiagonal",e.Outline="outline"}(w||(w={})),function(e){e.Small="small",e.Regular="regular",e.Medium="medium",e.HeadingLevel1="headingLevel1",e.HeadingLevel3="headingLevel3",e.HeadingLevel4="headingLevel4"}(k||(k={})),function(e){e.Linear="linear",e.EaseIn="easeIn",e.EaseOut="easeOut",e.EaseInOut="easeInOut"}(E||(E={})),function(e){e.Auto="auto",e.Center="center",e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.TopCenter="topCenter",e.TopLeft="topLeft",e.TopRight="topRight",e.BottomCenter="bottomCenter",e.BottomLeft="bottomLeft",e.BottomRight="bottomRight"}(j||(j={})),function(e){e.Top="top",e.Middle="middle",e.Bottom="bottom"}(_||(_={}));var A=n("0Uv3"),I=n("w8H4"),T=Object(I.b)((function(e){return Re(e)})),M=Object(I.b)((function(e){var t;return e.sum("type")(((t={}).notify=N(e),t.openSettings=D(e),t.openLearnMore=B(e),t.openPerformanceScore=L(e),t.openToneDetector=F(e),t.upgradeToPremium=R(e),t.showHighlights=H(e),t.hideHighlights=V(e),t.openFeedback=U(e),t.openCreateSnippetModal=W(e),t.closeCard=z(e),t.nextCard=G(e),t.prevCard=q(e),t.removeRoot=K(e),t.removeAlerts=$(e),t.applyAlerts=Z(e),t.selectAlternative=Y(e),t.transition=X(e),t.openLink=Q(e),t.copyToClipboard=J(e),t.nativeOpenAssistant=ee(e),t.pushAssistantFeed=te(e),t.popAssistantFeed=ne(e),t.focusAssistantCard=ae(e),t.switchView=re(e),t.newRevision=ie(e),t.highlightAlert=oe(e),t.stopApplyingAlerts=se(e),t.closePopover=ce(e),t.interactPopover=ue(e),t.openGrammarlyGo=pe(e),t.enablePlagiarismCheck=me(e),t.disablePlagiarismCheck=fe(e),t.enableWritingExpertCheck=he(e),t.disableWritingExpertCheck=ge(e),t.nativeOpenUserSatisfactionFeedback=be(e),t))})),P=ma(i),N=Object(I.b)((function(e){return e.intersect(e.partial({sourceId:Un(e)}))(e.struct({type:e.literal("notify"),userAction:P(e)}))})),D=Object(I.b)((function(e){return e.struct({type:e.literal("openSettings")})})),B=Object(I.b)((function(e){return e.struct({type:e.literal("openLearnMore")})})),L=Object(I.b)((function(e){return e.struct({type:e.literal("openPerformanceScore")})})),F=Object(I.b)((function(e){return e.struct({type:e.literal("openToneDetector")})})),R=Object(I.b)((function(e){return e.struct({type:e.literal("upgradeToPremium")})})),H=Object(I.b)((function(e){return e.struct({type:e.literal("showHighlights")})})),V=Object(I.b)((function(e){return e.struct({type:e.literal("hideHighlights")})})),U=Object(I.b)((function(e){return e.struct({type:e.literal("openFeedback")})})),W=Object(I.b)((function(e){return e.struct({type:e.literal("openCreateSnippetModal"),snippetContent:e.string})})),z=Object(I.b)((function(e){return e.struct({type:e.literal("closeCard")})})),G=Object(I.b)((function(e){return e.struct({type:e.literal("nextCard")})})),q=Object(I.b)((function(e){return e.struct({type:e.literal("prevCard")})})),K=Object(I.b)((function(e){return e.struct({type:e.literal("removeRoot")})})),$=Object(I.b)((function(e){return e.struct({type:e.literal("removeAlerts")})})),Z=Object(I.b)((function(e){return e.struct({type:e.literal("applyAlerts"),alternativeIndex:e.number})})),Y=Object(I.b)((function(e){return e.struct({type:e.literal("selectAlternative"),alternativeIndex:e.number})})),X=Object(I.b)((function(e){return e.struct({type:e.literal("transition"),fromName:e.string,toName:e.string,animateFrom:ye(e),animateTo:ye(e)})})),Q=Object(I.b)((function(e){return e.struct({type:e.literal("openLink"),url:e.string})})),J=Object(I.b)((function(e){return e.struct({type:e.literal("copyToClipboard"),text:e.string})})),ee=Object(I.b)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({type:e.literal("nativeOpenAssistant")}))})),te=Object(I.b)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({type:e.literal("pushAssistantFeed"),feedId:e.string}))})),ne=Object(I.b)((function(e){return e.intersect(e.partial({fallbackFeed:Fn(e)}))(e.struct({type:e.literal("popAssistantFeed")}))})),ae=Object(I.b)((function(e){return e.struct({type:e.literal("focusAssistantCard"),cardId:e.string})})),re=Object(I.b)((function(e){return e.struct({type:e.literal("switchView"),where:Un(e),selected:ia(e)})})),ie=Object(I.b)((function(e){return e.struct({type:e.literal("newRevision")})})),oe=Object(I.b)((function(e){return e.struct({type:e.literal("highlightAlert"),highlightIndex:e.number})})),se=Object(I.b)((function(e){return e.struct({type:e.literal("stopApplyingAlerts")})})),ce=Object(I.b)((function(e){return e.struct({type:e.literal("closePopover"),rootPopoverId:Un(e)})})),le=ma(o),ue=Object(I.b)((function(e){return e.struct({type:e.literal("interactPopover"),rootPopoverId:Un(e),popoverViewId:Un(e),interaction:le(e)})})),de=ma(s),pe=Object(I.b)((function(e){return e.intersect(e.partial({alertId:e.number}))(e.struct({type:e.literal("openGrammarlyGo"),entryPoint:de(e)}))})),me=Object(I.b)((function(e){return e.struct({type:e.literal("enablePlagiarismCheck")})})),fe=Object(I.b)((function(e){return e.struct({type:e.literal("disablePlagiarismCheck")})})),he=Object(I.b)((function(e){return e.struct({type:e.literal("enableWritingExpertCheck")})})),ge=Object(I.b)((function(e){return e.struct({type:e.literal("disableWritingExpertCheck")})})),be=Object(I.b)((function(e){return e.struct({type:e.literal("nativeOpenUserSatisfactionFeedback")})})),ve=Object(I.b)((function(e){return e.readonly(e.array(M(e)))})),ye=ma(c),Oe=Object(I.b)((function(e){return e.lazy("Behavior",(function(){return Se(e)}))})),Se=Object(I.b)((function(e){var t;return e.sum("type")(((t={})["behavior:strongAlertRef"]=Ce(e),t["behavior:animation:fadeIn"]=we(e),t["behavior:animation:fadeOut"]=ke(e),t["behavior:popoverAnchor"]=Ee(e),t["behavior:lifecycle"]=_e(e),t))})),Ce=Object(I.b)((function(e){return e.intersect(e.partial({name:Be(e)}))(e.struct({type:e.literal("behavior:strongAlertRef"),id:Un(e),alertIds:e.readonly(e.array(e.string)),onEmpty:ve(e)}))})),we=Object(I.b)((function(e){return e.struct({type:e.literal("behavior:animation:fadeIn"),id:Un(e),timeCurve:ua(e)})})),ke=Object(I.b)((function(e){return e.struct({type:e.literal("behavior:animation:fadeOut"),id:Un(e),timeCurve:ua(e)})})),Ee=Object(I.b)((function(e){return e.lazy("BehaviorPopoverAnchor",(function(){return je(e)}))})),je=Object(I.b)((function(e){return e.intersect(e.partial({view:Qn(e)}))(e.struct({type:e.literal("behavior:popoverAnchor"),id:Un(e),positionHint:ea(e)}))})),_e=Object(I.b)((function(e){return e.struct({type:e.literal("behavior:lifecycle"),onMount:ve(e),onUnmount:ve(e)})})),xe=Object(I.b)((function(e){return e.readonly(e.array(Oe(e)))})),Ae=Object(I.b)((function(e){return e.struct({topLeft:ta(e),topRight:ta(e),bottomRight:ta(e),bottomLeft:ta(e)})})),Ie=ma(l),Te=ma(u),Me=ma(d),Pe=ma(p),Ne=ma(m),De=Object(I.b)((function(e){return e.intersect(e.partial({label:e.string}))(e.intersect(e.partial({description:e.string}))(e.struct({})))})),Be=Object(I.b)((function(e){var t;return e.sum("kind")(((t={}).unknown=Le(e),t.known=Fe(e),t))})),Le=Object(I.b)((function(e){return e.struct({kind:e.literal("unknown"),value:e.string})})),Fe=Object(I.b)((function(e){return e.struct({kind:e.literal("known"),value:Ne(e)})})),Re=Object(I.b)((function(e){return e.lazy("Content",(function(){return He(e)}))})),He=Object(I.b)((function(e){var t;return e.sum("type")(((t={}).text=Ve(e),t.assistantFeed=qe(e),t.assistantCard=$e(e),t.popoverStack=Ye(e),t.inlineCard=Qe(e),t["gButton:default"]=et(e),t["gButton:tone"]=tt(e),t["gButton:proofit"]=nt(e),t["gButton:get-started"]=at(e),t["gButton:plagiarism"]=rt(e),t["gButton:writingExpert"]=it(e),t.gButton=ot(e),t.proofitButton=st(e),t.lensesSwitchPanel=lt(e),t.strongAlertRef=ut(e),t.column=pt(e),t.row=ft(e),t.block=bt(e),t.box=yt(e),t.scroll=St(e),t.list=At(e),t.selectableDropDownMenu=Tt(e),t.dropDownMenuButton=Mt(e),t.icon=Bt(e),t.image=Lt(e),t.button=Ft(e),t.tooltip=Ht(e),t.clickableText=Ut(e),t.count=Wt(e),t.alertsCount=zt(e),t.alternativeChoice=Kt(e),t.slider=Jt(e),t.alternativeSlider=an(e),t.nativeSkillsModal=on(e),t.nativeSkillsList=sn(e),t.nativeSkillsView=cn(e),t.nativeToneInsightsModal=ln(e),t.nativeLearnMoreModal=un(e),t.nativeSettingsModal=dn(e),t.nativeFeedbackModal=pn(e),t.nativeGetStartedChecklistModal=mn(e),t.nativeProofitModal=fn(e),t.nativeKeyTakeawaysAssistantCard=hn(e),t.nativeInlineCardContent=gn(e),t.nativePerformanceScoreButton=bn(e),t.viewStack=vn(e),t.nativeExperimentalGBConsistencyUpsellFooter=On(e),t.radioButtonsGroup=Cn(e),t.nativeExperimentalGBToneInsightsUpsellFooter=wn(e),t.collapsedCard=kn(e),t.shortFormCard=jn(e),t.longFormCard=xn(e),t.progressBar=Tn(e),t.horizontalRule=Mn(e),t.globalPart=Pn(e),t.globalPartPlaceholder=Dn(e),t))})),Ve=Object(I.b)((function(e){return e.intersect(e.partial({backgroundColor:Pe(e)}))(e.intersect(e.partial({outlineColor:Pe(e)}))(e.struct({type:e.literal("text"),id:Un(e),meta:De(e),size:la(e),text:e.string,textColor:Pe(e),format:e.readonly(e.array(ca(e)))})))})),Ue=ma(f),We=Object(I.b)((function(e){return e.struct({orderBy:e.string,direction:Ue(e)})})),ze=ma(h),Ge=Object(I.b)((function(e){return e.struct({property:e.string,condition:ze(e),value:e.number})})),qe=Object(I.b)((function(e){return e.lazy("ContentAssistantFeed",(function(){return Ke(e)}))})),Ke=Object(I.b)((function(e){return e.intersect(e.partial({footer:Re(e)}))(e.intersect(e.partial({onEmpty:ve(e)}))(e.intersect(e.partial({onAssistantClose:ve(e)}))(e.intersect(e.partial({name:Be(e)}))(e.struct({type:e.literal("assistantFeed"),id:Un(e),header:Re(e),ordering:e.readonly(e.array(We(e))),filtering:e.readonly(e.array(Ge(e))),onRemove:ve(e)})))))})),$e=Object(I.b)((function(e){return e.lazy("ContentAssistantCard",(function(){return Ze(e)}))})),Ze=Object(I.b)((function(e){return e.intersect(e.partial({properties:e.readonly(e.record(e.nullable(e.number)))}))(e.intersect(e.partial({footer:Re(e)}))(e.intersect(e.partial({name:Be(e)}))(e.struct({type:e.literal("assistantCard"),id:Un(e),meta:De(e),child:Re(e),onFocus:ve(e),onBlur:ve(e)}))))})),Ye=Object(I.b)((function(e){return e.lazy("ContentPopoverStack",(function(){return Xe(e)}))})),Xe=Object(I.b)((function(e){return e.struct({type:e.literal("popoverStack"),id:Un(e),views:e.readonly(e.record(Qn(e))),selected:ia(e)})})),Qe=Object(I.b)((function(e){return e.lazy("ContentInlineCard",(function(){return Je(e)}))})),Je=Object(I.b)((function(e){return e.intersect(e.partial({minWidth:na(e)}))(e.intersect(e.partial({maxWidth:na(e)}))(e.intersect(e.partial({behaviors:xe(e)}))(e.struct({type:e.literal("inlineCard"),id:Un(e),meta:De(e),child:Re(e),onFocus:ve(e)}))))})),et=Object(I.b)((function(e){return e.struct({type:e.literal("gButton:default"),id:Un(e),meta:De(e),actions:ve(e)})})),tt=Object(I.b)((function(e){return e.struct({type:e.literal("gButton:tone"),id:Un(e),meta:De(e),actions:ve(e)})})),nt=Object(I.b)((function(e){return e.struct({type:e.literal("gButton:proofit"),id:Un(e),meta:De(e),actions:ve(e)})})),at=Object(I.b)((function(e){return e.struct({type:e.literal("gButton:get-started"),id:Un(e),meta:De(e),actions:ve(e)})})),rt=Object(I.b)((function(e){return e.struct({type:e.literal("gButton:plagiarism"),id:Un(e),meta:De(e),actions:ve(e)})})),it=Object(I.b)((function(e){return e.struct({type:e.literal("gButton:writingExpert"),id:Un(e),meta:De(e),actions:ve(e)})})),ot=Object(I.b)((function(e){return e.struct({type:e.literal("gButton"),id:Un(e),meta:De(e),actions:ve(e)})})),st=Object(I.b)((function(e){return e.struct({type:e.literal("proofitButton"),id:Un(e),meta:De(e),actions:ve(e)})})),ct=Object(I.b)((function(e){return e.struct({id:Un(e),meta:De(e),kind:Wn(e),label:e.string,onClickActions:ve(e)})})),lt=Object(I.b)((function(e){return e.struct({type:e.literal("lensesSwitchPanel"),id:Un(e),meta:De(e),lensSwitchButtons:e.readonly(e.array(ct(e)))})})),ut=Object(I.b)((function(e){return e.lazy("ContentStrongAlertRef",(function(){return dt(e)}))})),dt=Object(I.b)((function(e){return e.intersect(e.partial({name:Be(e)}))(e.struct({type:e.literal("strongAlertRef"),id:Un(e),alertIds:e.readonly(e.array(e.string)),onEmpty:ve(e),child:Re(e)}))})),pt=Object(I.b)((function(e){return e.lazy("ContentColumn",(function(){return mt(e)}))})),mt=Object(I.b)((function(e){return e.intersect(e.partial({name:Be(e)}))(e.intersect(e.partial({behaviors:xe(e)}))(e.struct({type:e.literal("column"),id:Un(e),children:e.readonly(e.array(Re(e)))})))})),ft=Object(I.b)((function(e){return e.lazy("ContentRow",(function(){return ht(e)}))})),ht=Object(I.b)((function(e){return e.intersect(e.partial({name:Be(e)}))(e.intersect(e.partial({spacing:sa(e)}))(e.intersect(e.partial({behaviors:xe(e)}))(e.struct({type:e.literal("row"),id:Un(e),left:e.readonly(e.array(Re(e))),right:e.readonly(e.array(Re(e))),verticalAlign:pa(e)}))))})),gt=Object(I.b)((function(e){return e.struct({vertical:oa(e),horizontal:oa(e)})})),bt=Object(I.b)((function(e){return e.lazy("ContentBlock",(function(){return vt(e)}))})),vt=Object(I.b)((function(e){return e.intersect(e.partial({name:Be(e)}))(e.intersect(e.partial({fraction:e.number}))(e.intersect(e.partial({spacing:sa(e)}))(e.intersect(e.partial({innerSpacing:gt(e)}))(e.intersect(e.partial({horizontalAlign:Rn(e)}))(e.intersect(e.partial({verticalAlign:pa(e)}))(e.intersect(e.partial({maxLines:e.number}))(e.struct({type:e.literal("block"),id:Un(e),parts:e.readonly(e.array(Re(e)))}))))))))})),yt=Object(I.b)((function(e){return e.lazy("ContentBox",(function(){return Ot(e)}))})),Ot=Object(I.b)((function(e){return e.intersect(e.partial({name:Be(e)}))(e.intersect(e.partial({padding:sa(e)}))(e.intersect(e.partial({borderRadius:Ae(e)}))(e.intersect(e.partial({backgroundColor:Pe(e)}))(e.intersect(e.partial({minWidth:na(e)}))(e.intersect(e.partial({behaviors:xe(e)}))(e.struct({type:e.literal("box"),id:Un(e),child:Re(e)})))))))})),St=Object(I.b)((function(e){return e.lazy("ContentScroll",(function(){return Ct(e)}))})),Ct=Object(I.b)((function(e){return e.intersect(e.partial({name:Be(e)}))(e.struct({type:e.literal("scroll"),id:Un(e),child:Re(e),maxHeight:na(e)}))})),wt=Object(I.b)((function(e){var t;return e.sum("type")(((t={}).text=kt(e),t.icon=Et(e),t))})),kt=Object(I.b)((function(e){return e.struct({type:e.literal("text"),text:e.string})})),Et=Object(I.b)((function(e){return e.struct({type:e.literal("icon"),icon:Hn(e)})})),jt=Object(I.b)((function(e){return e.intersect(e.partial({tooltip:e.string}))(e.struct({id:Un(e),meta:De(e),label:wt(e),onClickActions:ve(e)}))})),_t=Object(I.b)((function(e){return e.lazy("ContentListItem",(function(){return xt(e)}))})),xt=Object(I.b)((function(e){return e.intersect(e.partial({behaviors:xe(e)}))(e.intersect(e.partial({tooltip:e.string}))(e.struct({id:Un(e),meta:De(e),label:Re(e),actions:ve(e),secondaryButtons:e.readonly(e.array(jt(e)))})))})),At=Object(I.b)((function(e){return e.lazy("ContentList",(function(){return It(e)}))})),It=Object(I.b)((function(e){return e.intersect(e.partial({name:Be(e)}))(e.intersect(e.partial({itemFocusedColor:Pe(e)}))(e.intersect(e.partial({itemHoveredColor:Pe(e)}))(e.struct({type:e.literal("list"),id:Un(e),meta:De(e),items:e.readonly(e.array(_t(e)))}))))})),Tt=Object(I.b)((function(e){return e.intersect(e.partial({name:Be(e)}))(e.intersect(e.partial({selectedItem:Un(e)}))(e.intersect(e.partial({placeholder:e.string}))(e.struct({type:e.literal("selectableDropDownMenu"),id:Un(e),meta:De(e),onSelectActions:ve(e),select:ra(e)}))))})),Mt=Object(I.b)((function(e){return e.intersect(e.partial({name:Be(e)}))(e.struct({type:e.literal("dropDownMenuButton"),id:Un(e),meta:De(e),icon:Hn(e),onClickActions:ve(e),menu:qn(e)}))})),Pt=Object(I.b)((function(e){var t;return e.sum("kind")(((t={}).known=Nt(e),t.url=Dt(e),t))})),Nt=Object(I.b)((function(e){return e.struct({kind:e.literal("known"),name:Vn(e)})})),Dt=Object(I.b)((function(e){return e.intersect(e.partial({size:oa(e)}))(e.struct({kind:e.literal("url"),name:e.string,url:e.string}))})),Bt=Object(I.b)((function(e){return e.intersect(e.partial({backgroundColor:Pe(e)}))(e.struct({type:e.literal("icon"),id:Un(e),meta:De(e),source:Pt(e)}))})),Lt=Object(I.b)((function(e){return e.intersect(e.partial({backgroundColor:Pe(e)}))(e.intersect(e.partial({borderRadius:na(e)}))(e.struct({type:e.literal("image"),id:Un(e),meta:De(e),name:Be(e),url:e.string,width:na(e),height:na(e)})))})),Ft=Object(I.b)((function(e){return e.lazy("ContentButton",(function(){return Rt(e)}))})),Rt=Object(I.b)((function(e){return e.intersect(e.partial({tooltip:e.string}))(e.intersect(e.partial({horizontalAlign:Rn(e)}))(e.intersect(e.partial({behaviors:xe(e)}))(e.struct({type:e.literal("button"),id:Un(e),meta:De(e),name:Be(e),kind:Ie(e),state:Me(e),label:Re(e),actions:ve(e),shape:Te(e)}))))})),Ht=Object(I.b)((function(e){return e.lazy("ContentTooltip",(function(){return Vt(e)}))})),Vt=Object(I.b)((function(e){return e.struct({type:e.literal("tooltip"),id:Un(e),meta:De(e),name:Be(e),text:e.string,child:Re(e),alignment:da(e)})})),Ut=Object(I.b)((function(e){return e.struct({type:e.literal("clickableText"),id:Un(e),meta:De(e),name:Be(e),onClickActions:ve(e),text:e.string,size:la(e),textColor:Pe(e),format:e.readonly(e.array(ca(e)))})})),Wt=Object(I.b)((function(e){return e.struct({type:e.literal("count"),id:Un(e),meta:De(e),value:e.string,backgroundColor:Pe(e)})})),zt=Object(I.b)((function(e){return e.intersect(e.partial({backgroundColor:Pe(e)}))(e.intersect(e.partial({outlineColor:Pe(e)}))(e.struct({type:e.literal("alertsCount"),id:Un(e),meta:De(e),size:la(e),textColor:Pe(e),format:e.readonly(e.array(ca(e)))})))})),Gt=Object(I.b)((function(e){return e.lazy("ContentAlternativeChoiceAlterna",(function(){return qt(e)}))})),qt=Object(I.b)((function(e){return e.struct({label:Re(e),preview:Re(e)})})),Kt=Object(I.b)((function(e){return e.lazy("ContentAlternativeChoice",(function(){return $t(e)}))})),$t=Object(I.b)((function(e){return e.struct({type:e.literal("alternativeChoice"),id:Un(e),meta:De(e),alternatives:e.readonly(e.array(Gt(e)))})})),Zt=Object(I.b)((function(e){var t;return e.sum("type")(((t={}).icon=Xt(e),t))})),Yt=Object(I.b)((function(e){var t;return e.sum("kind")(((t={}).known=Nt(e),t.url=Dt(e),t))})),Xt=Object(I.b)((function(e){return e.intersect(e.partial({backgroundColor:Pe(e)}))(e.struct({type:e.literal("icon"),id:Un(e),source:Yt(e)}))})),Qt=Object(I.b)((function(e){return e.struct({id:Un(e),icon:Zt(e),label:e.string,actions:ve(e)})})),Jt=Object(I.b)((function(e){return e.struct({type:e.literal("slider"),id:Un(e),meta:De(e),segmentSize:na(e),fillColor:Pe(e),choices:e.readonly(e.array(Qt(e)))})})),en=Object(I.b)((function(e){var t;return e.sum("type")(((t={}).icon=Xt(e),t))})),tn=Object(I.b)((function(e){return e.lazy("ContentAlternativeSliderChoice",(function(){return nn(e)}))})),nn=Object(I.b)((function(e){return e.struct({id:Un(e),icon:en(e),label:e.string,actions:ve(e),preview:Re(e)})})),an=Object(I.b)((function(e){return e.lazy("ContentAlternativeSlider",(function(){return rn(e)}))})),rn=Object(I.b)((function(e){return e.struct({type:e.literal("alternativeSlider"),id:Un(e),meta:De(e),segmentSize:na(e),fillColor:Pe(e),choices:e.readonly(e.array(tn(e)))})})),on=Object(I.b)((function(e){return e.struct({type:e.literal("nativeSkillsModal"),id:Un(e)})})),sn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeSkillsList"),id:Un(e),onSelect:ve(e)})})),cn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeSkillsView"),id:Un(e)})})),ln=Object(I.b)((function(e){return e.struct({type:e.literal("nativeToneInsightsModal"),id:Un(e)})})),un=Object(I.b)((function(e){return e.struct({type:e.literal("nativeLearnMoreModal"),id:Un(e)})})),dn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeSettingsModal"),id:Un(e)})})),pn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeFeedbackModal"),id:Un(e)})})),mn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeGetStartedChecklistModal"),id:Un(e),onComplete:ve(e)})})),fn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeProofitModal"),id:Un(e)})})),hn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeKeyTakeawaysAssistantCard"),id:Un(e)})})),gn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeInlineCardContent"),id:Un(e),onDetailsClick:ve(e)})})),bn=Object(I.b)((function(e){return e.struct({type:e.literal("nativePerformanceScoreButton"),id:Un(e)})})),vn=Object(I.b)((function(e){return e.lazy("ContentViewStack",(function(){return yn(e)}))})),yn=Object(I.b)((function(e){return e.struct({type:e.literal("viewStack"),id:Un(e),views:e.readonly(e.record(Re(e))),selected:ia(e)})})),On=Object(I.b)((function(e){return e.struct({type:e.literal("nativeExperimentalGBConsistencyUpsellFooter"),id:Un(e)})})),Sn=Object(I.b)((function(e){return e.struct({id:Un(e),meta:De(e),label:e.string,onSelect:ve(e)})})),Cn=Object(I.b)((function(e){return e.struct({type:e.literal("radioButtonsGroup"),id:Un(e),meta:De(e),options:e.readonly(e.array(Sn(e)))})})),wn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeExperimentalGBToneInsightsUpsellFooter"),id:Un(e)})})),kn=Object(I.b)((function(e){return e.lazy("ContentCollapsedCard",(function(){return En(e)}))})),En=Object(I.b)((function(e){return e.intersect(e.partial({quickActions:Re(e)}))(e.struct({type:e.literal("collapsedCard"),id:Un(e),meta:De(e),child:Re(e)}))})),jn=Object(I.b)((function(e){return e.lazy("ContentShortFormCard",(function(){return _n(e)}))})),_n=Object(I.b)((function(e){return e.struct({type:e.literal("shortFormCard"),id:Un(e),child:Re(e)})})),xn=Object(I.b)((function(e){return e.lazy("ContentLongFormCard",(function(){return An(e)}))})),An=Object(I.b)((function(e){return e.struct({type:e.literal("longFormCard"),id:Un(e),collapsedContent:Re(e),fullContent:Re(e),behaviors:xe(e),feedProperties:Ln(e)})})),In=ma(g),Tn=Object(I.b)((function(e){return e.intersect(e.partial({pinPointValue:Kn(e)}))(e.intersect(e.partial({borderColor:Pe(e)}))(e.intersect(e.partial({height:na(e)}))(e.struct({type:e.literal("progressBar"),id:Un(e),meta:De(e),backgroundColor:Pe(e),fillColor:Pe(e),value:Kn(e),state:In(e)}))))})),Mn=Object(I.b)((function(e){return e.struct({type:e.literal("horizontalRule"),id:Un(e),meta:De(e)})})),Pn=Object(I.b)((function(e){return e.lazy("ContentGlobalPart",(function(){return Nn(e)}))})),Nn=Object(I.b)((function(e){return e.struct({type:e.literal("globalPart"),id:Un(e),content:Re(e),name:Be(e)})})),Dn=Object(I.b)((function(e){return e.lazy("ContentGlobalPartPlaceholder",(function(){return Bn(e)}))})),Bn=Object(I.b)((function(e){return e.intersect(e.partial({child:Re(e)}))(e.struct({type:e.literal("globalPartPlaceholder"),id:Un(e),globalPartId:Un(e)}))})),Ln=Object(I.b)((function(e){return e.readonly(e.record(e.nullable(e.number)))})),Fn=Object(I.b)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({feedId:e.string}))})),Rn=ma(b),Hn=Object(I.b)((function(e){var t;return e.sum("type")(((t={}).icon=Bt(e),t))})),Vn=ma(v),Un=Object(I.b)((function(e){return e.string})),Wn=ma(y),zn=Object(I.b)((function(e){return e.intersect(e.partial({icon:Hn(e)}))(e.struct({id:Un(e),meta:De(e),text:e.string,onClickActions:ve(e)}))})),Gn=Object(I.b)((function(e){return e.intersect(e.partial({title:e.string}))(e.struct({items:e.readonly(e.array(zn(e)))}))})),qn=Object(I.b)((function(e){return e.struct({meta:De(e),label:e.string,sections:e.readonly(e.array(Gn(e)))})})),Kn=Object(I.b)((function(e){return e.number})),$n=Object(I.b)((function(e){var t;return e.sum("kind")(((t={}).component=Zn(e),t.gButton=Yn(e),t.nativeComponent=Xn(e),t))})),Zn=Object(I.b)((function(e){return e.struct({kind:e.literal("component"),id:Un(e)})})),Yn=Object(I.b)((function(e){return e.struct({kind:e.literal("gButton")})})),Xn=Object(I.b)((function(e){return e.struct({kind:e.literal("nativeComponent"),knownName:Ne(e)})})),Qn=Object(I.b)((function(e){return e.lazy("PopoverView",(function(){return Jn(e)}))})),Jn=Object(I.b)((function(e){return e.intersect(e.partial({onShow:ve(e)}))(e.intersect(e.partial({onDismiss:ve(e)}))(e.intersect(e.partial({onFulfill:ve(e)}))(e.struct({id:Un(e),rootPopoverId:Un(e),anchor:$n(e),child:Re(e)}))))})),ea=ma(O),ta=ma(S),na=Object(I.b)((function(e){return e.number})),aa=Object(I.b)((function(e){return e.struct({id:Un(e),meta:De(e),label:e.string,onClickActions:ve(e)})})),ra=Object(I.b)((function(e){return e.struct({meta:De(e),label:e.string,items:e.readonly(e.array(aa(e)))})})),ia=Object(I.b)((function(e){return e.string})),oa=ma(C),sa=Object(I.b)((function(e){return e.struct({top:oa(e),right:oa(e),bottom:oa(e),left:oa(e)})})),ca=ma(w),la=ma(k),ua=ma(E),da=ma(j),pa=ma(_);function ma(e){var t=Object.keys(e).map((function(t){return e[t]})),n=t[0],a=t.slice(1);return Object(I.b)((function(e){return e.literal.apply(e,Object(A.d)([n],a,!1))}))}var fa="4.42.8",ha=["proofitButton","newRevision","gButton:default","gButton:tone","gButton:proofit","gButton:get-started","gButton:plagiarism","gButton:writingExpert","nativePerformanceScoreButton","globalPart","enableWritingExpertCheck","disableWritingExpertCheck"]},tREI:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"f",(function(){return C})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return b})),n.d(t,"c",(function(){return y}));var a=n("B8yO"),r=n.n(a);function i(e){return null}function o(e){return null!=e.hasChildItems?e.hasChildItems:!!e.childItems||!!(e.title&&r.a.Children.count(e.children)>0)}i.getCollectionNode=function*(e,t){let{childItems:n,title:a,children:i}=e,s=e.title||e.children,c=e.textValue||("string"==typeof s?s:"")||e["aria-label"]||"";c||(null==t?void 0:t.suppressTextValueWarning)||console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:s,textValue:c,"aria-label":e["aria-label"],hasChildNodes:o(e),*childNodes(){if(n)for(let e of n)yield{type:"item",value:e};else if(a){let e=[];r.a.Children.forEach(i,t=>{e.push({type:"item",element:t})}),yield*e}}}};let s=i;function c(e){return null}c.getCollectionNode=function*(e){let{children:t,title:n,items:a}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:n,"aria-label":e["aria-label"],*childNodes(){if("function"==typeof t){if(!a)throw new Error("props.children was a function but props.items is missing");for(let e of a)yield{type:"item",value:e,renderer:t}}else{let e=[];r.a.Children.forEach(t,t=>{e.push({type:"item",element:t})}),yield*e}}}};let l=c;class u{build(e,t){return this.context=t,d(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:n}=e;if("function"==typeof t){if(!n)throw new Error("props.children was a function but props.items is missing");for(let n of e.items)yield*this.getFullNode({value:n},{renderer:t})}else{let e=[];r.a.Children.forEach(t,t=>{e.push(t)});let n=0;for(let t of e){let e=this.getFullNode({element:t,index:n},{});for(let t of e)n++,yield t}}}getKey(e,t,n,a){if(null!=e.key)return e.key;if("cell"===t.type&&null!=t.key)return`${a}${t.key}`;let r=t.value;if(null!=r){var i;let e=null!==(i=r.key)&&void 0!==i?i:r.id;if(null==e)throw new Error("No key found for item");return e}return a?`${a}.${t.index}`:"$."+t.index}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,n,a){let i=e.element;if(!i&&e.value&&t&&t.renderer){let n=this.cache.get(e.value);if(n&&(!n.shouldInvalidate||!n.shouldInvalidate(this.context)))return n.index=e.index,n.parentKey=a?a.key:null,void(yield n);i=t.renderer(e.value)}if(r.a.isValidElement(i)){let r=i.type;if("function"!=typeof r&&"function"!=typeof r.getCollectionNode){let e="function"==typeof i.type?i.type.name:i.type;throw new Error(`Unknown element <${e}> in collection.`)}let o=r.getCollectionNode(i.props,this.context),s=e.index,c=o.next();for(;!c.done&&c.value;){let r=c.value;e.index=s;let l=r.key;l||(l=r.element?null:this.getKey(i,e,t,n));let u=[...this.getFullNode({...r,key:l,index:s,wrapper:p(e.wrapper,r.wrapper)},this.getChildState(t,r),n?`${n}${i.key}`:i.key,a)];for(let t of u){if(t.value=r.value||e.value,t.value&&this.cache.set(t.value,t),e.type&&t.type!==e.type)throw new Error(`Unsupported type <${m(t.type)}> in <${m(a.type)}>. Only <${m(e.type)}> is supported.`);s++,yield t}c=o.next(u)}return}if(null==e.key)return;let o=this,s={type:e.type,props:e.props,key:e.key,parentKey:a?a.key:null,value:e.value,level:a?a.level+1:0,index:e.index,rendered:e.rendered,textValue:e.textValue,"aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes,childNodes:d((function*(){if(!e.hasChildNodes)return;let n=0;for(let a of e.childNodes()){null!=a.key&&(a.key=`${s.key}${a.key}`),a.index=n;let e=o.getFullNode(a,o.getChildState(t,a),s.key,s);for(let t of e)n++,yield t}}))};yield s}constructor(){this.cache=new WeakMap}}function d(e){let t=[],n=null;return{*[Symbol.iterator](){for(let e of t)yield e;n||(n=e());for(let e of n)t.push(e),yield e}}}function p(e,t){return e&&t?n=>e(t(n)):e||(t||void 0)}function m(e){return e[0].toUpperCase()+e.slice(1)}function f(e,t,n){let r=(0,a.useMemo)(()=>new u,[]),{children:i,items:o,collection:s}=e;return(0,a.useMemo)(()=>{if(s)return s;let e=r.build({children:i,items:o},n);return t(e)},[r,i,o,s,n,t])}function h(e,t){return"function"==typeof t.getChildren?t.getChildren(e.key):e.childNodes}function g(e){return b(e,0)}function b(e,t){if(t<0)return;let n=0;for(let a of e){if(n===t)return a;n++}}function v(e){let t=void 0;for(let n of e)t=n;return t}function y(e,t,n){if(t.parentKey===n.parentKey)return t.index-n.index;let a=O(e,t),r=O(e,n),i=a.slice(0,r.length).findIndex((e,t)=>e!==r[t]);return-1!==i?(t=a[i],n=r[i],t.index-n.index):-1}function O(e,t){let n=[];for(;null!=(null==t?void 0:t.parentKey);)t=e.getItem(t.parentKey),n.unshift(t);return n}const S=new WeakMap;function C(e){let t=S.get(e);if(null!=t)return t;t=0;let n=a=>{for(let r of a)"section"===r.type?n(h(r,e)):t++};return n(e),S.set(e,t),t}},ty2y:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("B8yO"),r=n("fC5a"),i=n("sX1a"),o=n("xk6L"),s=n("4GyQ"),c=n("WWh5"),l=n("jOXU"),u=n("mPu6"),d=n("mMX2"),p=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const m=e=>{var{className:t,compact:n=!1,theme:m="light",variant:f="primary",contained:h=!1,size:g=o.a.of("large"),style:b=o.a.of(void 0),flatUI:v,children:y,onClick:O}=e,S=p(e,["className","compact","theme","variant","contained","size","style","flatUI","children","onClick"]);const C=a.useContext(u.a).view("flatUI");return a.createElement(r.a.Animated,Object.assign({},Object(s.c)(o.a.combineLatestStatic([C,Object(l.a)(b),Object(l.a)(g)]).pipe(o.a.map(([e,t,a])=>Object(d.a)({flatUI:null!=v?v:e,compact:n,theme:m,size:a,style:t,variant:f,contained:h}))),t),S,{styleType:i.Typography.Type.Button,onClick:Object(c.a)(O)}),y)}},uKTw:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor(e){this.namespace=e}static configureAllLoggers(e){a._isEnabled="prod"!==e.env}trace(e,t,n){this._printToConsole("trace",e,t,n)}warn(e,t,n){this._printToConsole("warn",e,t,n)}debug(e,t,n){this._printToConsole("debug",e,t,n)}info(e,t,n){this._printToConsole("info",e,t,n)}error(e,t,n){this._printToConsole("error",e,t,n)}fatal(e,t,n){this._printToConsole("fatal",e,t,n)}_getMsgWithNamespace(e){return`[${a._rootNamespace}.${this.namespace}]: ${e}`}_printToConsole(e,t,n,r){if("fatal"===e)return void console.error(t,n,r);if(!a._isEnabled)return;const i=this._getMsgWithNamespace(t);n&&r?console[e](i,n,r):!n&&r?console[e](i,r):n&&!r?console[e](i,n):console[e](i)}}a._rootNamespace="CheetahWeb",a._isEnabled=!1},uLrj:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("8O/t"),r=n("X76w"),i=n("vGXj"),o=n("B8yO"),s=n("m7tF"),c=n("09dI"),l=n("4GyQ"),u=n("+vYo"),d=n("nWMp"),p=n("0zLI");const m=({portalContainer:e,children:t})=>void 0===e?o.createElement(o.Fragment,null,t):o.createElement(s.b,{portalContainer:e},t),f=e=>{var t,{children:n,className:c,state:u,offset:d=8,onTransitionEnd:p,portalContainer:f}=e,h=Object(i.a)(e,["children","className","state","offset","onTransitionEnd","portalContainer"]);const g=o.useRef(null),{popoverProps:b}=Object(s.f)(Object(r.a)(Object(a.a)({},h),{isNonModal:null!=f,offset:d,popoverRef:g}),u);return o.createElement(m,{portalContainer:f},o.createElement("div",Object(r.a)(Object(a.a)(Object(r.a)(Object(a.a)({},b),{style:Object(r.a)(Object(a.a)({},b.style),{minWidth:null===(t=h.triggerRef.current)||void 0===t?void 0:t.clientWidth}),ref:g}),Object(l.c)(v.popover,c)),{onTransitionEnd:e=>{var t;if(e.target===g.current)return null===(t=p)||void 0===t?void 0:t()}}),o.createElement(s.a,{onDismiss:u.close}),o.createElement("div",{className:v.wrapper},n),o.createElement(s.a,{onDismiss:u.close})))},h=e=>{var{children:t,rerenderDependencies:n=[]}=e,s=Object(i.a)(e,["children","rerenderDependencies"]);const c=o.useMemo(()=>t,n),u=o.useRef(h._index++);return o.useEffect(()=>{h._activePopovers.modify(e=>{const t=new Set(e);return s.state.isOpen?t.add(u.current):t.delete(u.current),t})},[s.state.isOpen]),o.createElement(p.a,{in:s.state.isOpen},(e,t)=>o.createElement(f,Object(a.a)(Object(r.a)(Object(a.a)({},s),{onTransitionEnd:t}),Object(l.c)(s.className,e)),c))};h._index=0,h._activePopovers=u.a.create(new Set),h.activeCount=h._activePopovers.view(e=>e.size);const g={width:d.a.percent(100)},b={display:"flex",flexDirection:"column",alignItems:"flex-start",background:c.i.SemanticColor.Color.Background.Base.Default,boxShadow:c.i.Elevation.Elevation100.boxShadow,border:c.i.Elevation.Elevation100.border,borderRadius:d.a.rem(c.i.Radius.Radius1)},v=d.a.stylesheet({wrapper:[g],popover:[b]})},ukVJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return H}));var a=n("8O/t"),r=n("X76w"),i=n("vGXj"),o=n("B8yO"),s=n("zCOz"),c=n("ZqXC"),l=n("Q2+j"),u=n("1klt"),d=n("M+v9");const p=new WeakMap,m=new WeakMap,f=new WeakMap;var h=n("ThYs"),g=n("XGPX");let b=Math.round(1e10*Math.random()),v=0;function y(e){let t=(0,o.useMemo)(()=>e.name||`radio-group-${b}-${++v}`,[e.name]),[n,a]=(0,g.b)(e.value,e.defaultValue,e.onChange),[r,i]=(0,o.useState)(null);return{name:t,selectedValue:n,setSelectedValue:t=>{e.isReadOnly||e.isDisabled||a(t)},lastFocusedValue:r,setLastFocusedValue:i,isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1,validationState:e.validationState||null}}var O=n("09dI"),S=n("4GyQ"),C=n("OwvP"),w=n("xk6L"),k=n("yIk2"),E=n("yNCY"),j=n("TKPA"),_=n("sX1a"),x=n("7IMz"),A=n("nWMp");const I={display:"flex",alignItems:"center",opacity:1,color:O.i.SemanticColor.Color.Text.Base.Default,cursor:"pointer"},T={$nest:{'&[type="radio"]':{display:A.a.important("inline-block")}}},M={display:"flex",justifyContent:"center",alignItems:"center",transform:"scale(calc(var(--rem)/16))",minWidth:A.a.rem(O.i.Space.Space8),marginRight:A.a.rem(O.i.Space.SpaceHalf)},P={display:"inline-flex"},N={flexDirection:"row",alignItems:"center",flexWrap:"wrap",gap:A.a.rem(O.i.Space.Space1)},D={display:"flex",gap:A.a.rem(O.i.Space.Space3),color:O.i.SemanticColor.Color.Background.Critical.Default,padding:`0 ${A.a.rem(O.i.Space.Space2)} 0 ${A.a.rem(O.i.Space.Space3)}`,margin:A.a.rem(O.i.Space.Space2)+" 0",$nest:{"& svg":{transform:"scale(1.4)"},"& path":{fill:O.i.SemanticColor.Color.Background.Critical.Default}}},B={border:"1px solid "+O.i.SemanticColor.Color.Background.Critical.Default,borderRadius:A.a.rem(O.i.Radius.Radius1)},L=A.a.stylesheet({input:[T],label:[I],disabled:[I,{opacity:.4,cursor:"not-allowed"}],dot:[M],circle:[{transition:"all .2s"}],horizontal:[P,N],vertical:[P,{flexDirection:"column"}],errorMessage:[D],errorGroup:[B],groupWrapper:[{display:"flex",flexDirection:"column"}]}),F=o.createContext(E.a.invariantContent("radioGroupContext"));var R,H,V;!function(e){e.Item=e=>{var{className:u}=e,d=Object(i.a)(e,["className"]);const g=o.useContext(F),b=o.useRef(null),{inputProps:v,isSelected:y,isDisabled:C}=function(e,t,n){let{value:a,children:r,"aria-label":i,"aria-labelledby":o}=e;const u=e.isDisabled||t.isDisabled;null!=r||(null!=i||null!=o)||console.warn("If you do not provide children, you must specify an aria-label for accessibility");let d=t.selectedValue===a,{pressProps:h,isPressed:g}=(0,l.m)({isDisabled:u}),{focusableProps:b}=(0,c.f)((0,s.l)(e,{onFocus:()=>t.setLastFocusedValue(a)}),n),v=(0,s.l)(h,b),y=(0,s.b)(e,{labelable:!0}),O=t.lastFocusedValue===a||null==t.lastFocusedValue?0:-1;return u&&(O=void 0),{inputProps:(0,s.l)(y,{...v,type:"radio",name:p.get(t),tabIndex:O,disabled:u,checked:d,value:a,onChange:e=>{e.stopPropagation(),t.setSelectedValue(a)},"aria-describedby":["invalid"===t.validationState?f.get(t):null,m.get(t)].filter(Boolean).join(" ")||void 0}),isDisabled:u,isSelected:d,isPressed:g}}(d,g,b),{isFocusVisible:w,focusProps:k}=Object(c.e)(),{hoverProps:E,isHovered:x}=Object(l.h)({}),A=y?5:2;return o.createElement(_.Typography,Object(a.a)({styleType:_.Typography.Type.Base,nodeType:"label"},E,Object(S.c)(Object(j.c)(L.disabled,L.label)(C),u)),o.createElement(h.a,null,o.createElement("input",Object(r.a)(Object(a.a)({},v,k),{ref:b,className:L.input}))),o.createElement("div",{className:L.dot},o.createElement("svg",{width:n,height:n,"aria-hidden":!0},o.createElement("circle",{cx:t,cy:t,r:x?t:0,fill:O.i.Color.BlueGray5,fillOpacity:+(x&&!C),className:L.circle}),o.createElement("circle",{cx:t,cy:t,r:t/2+2,fill:"none",stroke:O.i.SemanticColor.Color.Background.Brand.Default,strokeWidth:2,strokeOpacity:+(w&&!C),className:L.circle}),o.createElement("circle",{cx:t,cy:t,r:t/2-A/2,fill:"none",stroke:y?O.i.SemanticColor.Color.Background.Brand.Default:O.i.SemanticColor.Color.Border.Base.Default,strokeWidth:A,className:L.circle}))),d.children)},e.Group=e=>{const{name:t,orientation:n="vertical",className:i,children:g,label:b,description:v,errorMessage:C,validationState:w}=e,k=y(e),{radioGroupProps:E,labelProps:x,descriptionProps:A,errorMessageProps:I}=function(e,t){let{name:n,validationState:a,isReadOnly:r,isRequired:i,isDisabled:o,orientation:h="vertical"}=e,{direction:g}=(0,d.b)(),{labelProps:b,fieldProps:v,descriptionProps:y,errorMessageProps:O}=(0,u.a)({...e,labelElementType:"span"});m.set(t,y.id),f.set(t,O.id);let S=(0,s.b)(e,{labelable:!0}),{focusWithinProps:C}=(0,l.g)({onBlurWithin(){t.selectedValue||t.setLastFocusedValue(null)}}),w=(0,s.v)(n);return p.set(t,w),{radioGroupProps:(0,s.l)(S,{role:"radiogroup",onKeyDown:e=>{let n;switch(e.key){case"ArrowRight":n="rtl"===g&&"vertical"!==h?"prev":"next";break;case"ArrowLeft":n="rtl"===g&&"vertical"!==h?"next":"prev";break;case"ArrowDown":n="next";break;case"ArrowUp":n="prev";break;default:return}e.preventDefault();let a,r=(0,c.c)(e.currentTarget,{from:e.target});"next"===n?(a=r.nextNode(),a||(r.currentNode=e.currentTarget,a=r.firstChild())):(a=r.previousNode(),a||(r.currentNode=e.currentTarget,a=r.lastChild())),a&&(a.focus(),t.setSelectedValue(a.value))},"aria-invalid":"invalid"===a||void 0,"aria-errormessage":e["aria-errormessage"],"aria-readonly":r||void 0,"aria-required":i||void 0,"aria-disabled":o||void 0,"aria-orientation":h,...v,...C}),labelProps:b,descriptionProps:y,errorMessageProps:O}}(e,k);return o.createElement("div",Object(a.a)({"data-name":t},E,Object(S.c)(L.groupWrapper,i)),Boolean(b)&&o.createElement(_.Typography,Object(a.a)({nodeType:"span",styleType:_.Typography.Type.Base},x),b),o.createElement("div",Object(S.c)(L[n],Object(j.c)(L.errorGroup,void 0)(Boolean("invalid"===w))),o.createElement(F.Provider,{value:k},g),Boolean(v)&&o.createElement(h.a,null,o.createElement("div",A,v))),Boolean(C)&&"invalid"===w&&o.createElement(_.Typography.Small,Object(r.a)(Object(a.a)({},I),{className:L.errorMessage}),o.createElement("i",{"aria-hidden":!0},o.createElement(O.h,null)),C))};const t=16,n=2*t}(R||(R={})),(V=H||(H={})).Group=e=>{var{items:t,selectedItemIndex:n,itemWrapperClassName:s}=e,c=Object(i.a)(e,["items","selectedItemIndex","itemWrapperClassName"]);const[l,u]=o.useState(n.get()),[d,p]=o.useState(void 0);return x.a.useSubscriptionTo(w.a.mergeStatic(n.pipe(w.a.tap(u)),k.b.toObservable(s).pipe(w.a.tap(p)))),o.createElement(R.Group,Object(r.a)(Object(a.a)({},c),{value:String(l),onChange:e=>{var t,a;return null===(t=(a=c).onChange)||void 0===t||t.call(a,e),n.set(+e)}}),t.map((e,t)=>o.createElement(R.Item,{key:t,value:String(t),className:d},e)))},V.Item=e=>{var{onChange:t,checked:n,className:c,children:l}=e,u=Object(i.a)(e,["onChange","checked","className","children"]);const d=Object(s.v)(),p=y({defaultValue:n.get()?d:void 0});return o.useEffect(()=>{p.selectedValue===d&&t()},[p.selectedValue,t,d]),x.a.useSubscriptionTo(n.pipe(w.a.tap(e=>p.setSelectedValue(e?d:"")))),o.createElement(F.Provider,{value:p},o.createElement(C.a.Fragment,null,w.a.combineLatestStatic([k.b.toObservable(l),k.b.toObservable(c)]).pipe(w.a.map(([e,t])=>o.createElement(R.Item,Object(r.a)(Object(a.a)({},u),{value:d,className:t}),e)))))}},uzqA:function(e,t,n){e.exports=n.p+"files/1700cc5c5c65844ddc63026a84773cab/grammarlyproductbeta1_8-regular.woff2"},"vLu/":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("B8yO"),s=n("DTwm"),c=n("tiWp"),l=n("4GyQ"),u=n("OwvP"),d=n("xk6L"),p=n("mgiE"),m=n("2swC"),f=n("NDcT"),h=n("ldOx"),g=n("t39C"),b=n("wuWi"),v=n("nWMp"),y=n("7IMz"),O=n("ZDrO"),S=n("cZ4c"),C=n("SOPW"),w=n("4wwO"),k=n("itj6"),E=n("KH+i"),j=n("LqiM"),_=n("TXN2"),x=n("KYWP"),A=n("JRBS"),I=n("hVYI");!function(e){e.BundleMini=({card:e,actions:t})=>o.createElement(j.a.Mini,Object(i.a)(Object(r.a)({},Object(l.c)(x.b.wrapper,x.b.bundleContainer)),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],counter:o.createElement(b.m,{className:x.b.alertsCounter},e.alerts.length),inert:e.positionState.inert,hideDot:!0}),o.createElement(u.a.div,{className:M.content},o.createElement(g.c,{id:e.activeAlert.toneAlternatives[e.activeAlert.selectedToneAlternativeIdx].emojiID,className:M.emoji}),o.createElement("div",{className:x.b.highlightedText},w.a.bundleTitle(e)))),e.Full=({card:e,actions:t,isChecking:n,isCheckingGlobal:a})=>{const r=o.useContext(f.a.Context),i=y.a.useAtomOf(e.activeAlert.toneAlternatives),l=o.useCallback(n=>{"focused"!==e.visualState.transition.type&&"expanded"!==e.visualState.transition.type||t.next({type:k.b.Type.toneAIChangeToneAlternative,alertId:e.activeAlert.id,itemId:e.id,selectedToneAlternativeIdx:n})},[t,e.visualState.transition.type,e.activeAlert.id,e.id]);return Object(c.pipe)(e.transform,p.g.filter(S.j.isToneAI),p.g.fold(()=>null,c=>o.createElement(_.r,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:n=>o.createElement(o.Fragment,null,o.createElement(_.i,{alert:e.activeAlert,options:e.renderOptions}),o.createElement(u.a.Fragment,null,i.pipe(d.a.map(e=>o.createElement(I.a,{toneAlternatives:e,onSelectToneAlternative:l})))),0===e.activeAlert.selectedToneAlternativeIdx?o.createElement("div",{className:D.replacementContainer},e.activeAlert.highlightTexts[0]):o.createElement(h.b,{classes:{rendered:D.replacement,removing:D.replacementHidden},timeout:250,content:d.a.of(o.createElement(A.g,{label:c.labels[e.activeAlert.selectedToneAlternativeIdx-1],className:D.replacementContainer,a11yContrast:e.renderOptions.features.has(E.a.Features.a11yContrast)}))}),0!==e.activeAlert.selectedToneAlternativeIdx?o.createElement(_.q,{title:r.card.todoAction(c.tooltipText),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:O.d.callOnce(()=>t.next({type:k.b.Type.alertApply,alertId:e.activeAlert.id,id:e.id,alternativeIndex:e.activeAlert.selectedToneAlternativeIdx-1,cardType:k.b.getCardType(e),eligibleForSurvey:C.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:C.a.isEligibleForGbPrompt(e)}))}):null),mainActions:Object(s.constant)(o.createElement(_.e,{card:e,feedbackActions:t})),subActions:Object(s.constant)(o.createElement(_.m,{card:e,actions:t})),cardFooter:Object(s.constant)(o.createElement(_.g,{card:e}))})))}}(a||(a={}));const T={width:v.a.rem(1),height:v.a.rem(1),marginRight:v.a.rem(.5)},M=v.a.stylesheet({content:[{display:"flex",alignItems:"center"}],emoji:[T]}),P={transition:"opacity "+v.a.seconds(_.t)},N={width:v.a.percent(100),background:m.a.CoreNeutral10,borderRadius:v.a.px(4),fontSize:v.a.rem(.875),lineHeight:v.a.rem(1.5),fontFeatureSettings:"'ss03' on",padding:v.a.px(8),marginTop:v.a.px(12),boxSizing:"border-box"},D=v.a.stylesheet({replacement:[P],replacementHidden:[P,{opacity:0}],replacementContainer:[N]})},vVRF:function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return F})),n.d(t,"c",(function(){return z})),n.d(t,"f",(function(){return Q})),n.d(t,"a",(function(){return J.b}));var a,r=n("B8yO"),i=n("DTwm"),o=n("mgiE"),s=n("nWMp"),c=n("fB2g"),l=n("2swC"),u=n("7Pyj"),d="report-sections-title-",p={author:"".concat(d,"author"),titleSection:"".concat(d,"titleSection"),title:"".concat(d,"title"),largeTitle:"".concat(d,"largeTitle"),mediumTitle:"".concat(d,"mediumTitle"),smallTitle:"".concat(d,"smallTitle"),titleContainer:"".concat(d,"titleContainer")},m={display:"-webkit-box",overflow:"hidden",color:l.a.CoreNeutral90,wordWrap:"break-word",hyphens:"auto",fontWeight:"bold","-webkit-line-clamp":5,"-webkit-box-orient":"vertical"},f={author:s.a.joinClasses([p.author,c.a.style({color:l.a.CoreNeutral50,letterSpacing:0,fontSize:s.a.px(15*u.a),lineHeight:s.a.px(24*u.a)})]),titleSection:s.a.joinClasses([p.titleSection,c.a.style({marginBottom:s.a.px(22*u.a),pageBreakInside:"avoid"})]),title:s.a.joinClasses([p.title,c.a.style(m)]),largeTitle:s.a.joinClasses([p.largeTitle,c.a.style(m,{marginBottom:s.a.px(22*u.a),fontSize:s.a.px(28*u.a),lineHeight:s.a.px(40*u.a)})]),mediumTitle:s.a.joinClasses([p.mediumTitle,c.a.style(m,{fontSize:s.a.px(22*u.a),lineHeight:s.a.px(32*u.a)})]),smallTitle:s.a.joinClasses([p.smallTitle,c.a.style(m,{fontSize:s.a.px(18*u.a),lineHeight:s.a.px(32*u.a)})]),titleContainer:s.a.joinClasses([p.titleContainer,c.a.style({overflow:"hidden",textOverflow:"ellipsis"})])},h=function(e){var t=e.title,n=e.author;return r.createElement("section",{className:f.titleSection},r.createElement("h1",{className:t.length<100?f.largeTitle:t.length<200?f.mediumTitle:f.smallTitle},t),Object(i.pipe)(n,o.g.map((function(e){return r.createElement("p",{className:f.author},"by ",e)})),o.g.toNullable))},g=n("RRF2"),b=n("z+ZZ"),v={generalMetricsSection:"".concat("report-sections-general_metrics-","generalMetricsSection"),generalMetricsHeader:"".concat("report-sections-general_metrics-","generalMetricsHeader"),metrics:"".concat("report-sections-general_metrics-","metrics")},y={generalMetricsSection:s.a.joinClasses([v.generalMetricsSection,c.a.style(b.d,{marginBottom:s.a.px(14*u.a),$nest:{"& table":{width:s.a.percent(100),whiteSpace:"nowrap"},"& tbody":{verticalAlign:"top"}}})]),generalMetricsHeader:s.a.joinClasses([v.generalMetricsHeader,c.a.style(b.c,{margin:"".concat(s.a.px(23*u.a)," 0 ").concat(s.a.px(4*u.a))})]),metrics:s.a.joinClasses([v.metrics,c.a.style({color:l.a.CoreBlue50,letterSpacing:0,fontWeight:"bold",fontSize:s.a.px(15*u.a),lineHeight:s.a.px(23*u.a),$nest:{"& td":{width:s.a.percent(21.875)}}})])},O=function(e){var t=e.stats;return r.createElement("section",{className:y.generalMetricsSection},r.createElement("h2",{className:y.generalMetricsHeader},"General metrics"),r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",{className:y.metrics},r.createElement("td",null,t.chars.toLocaleString("en-US")),r.createElement("td",null,t.words.toLocaleString("en-US")),r.createElement("td",null,t.sentences),r.createElement("td",null,g.d.convertTimeToShortString(t.readingTime)),r.createElement("td",null,g.d.convertTimeToShortString(t.speakingTime))),r.createElement("tr",{className:b.a.text},r.createElement("td",null,"characters"),r.createElement("td",null,"words"),r.createElement("td",null,"sentences"),r.createElement("td",null,"reading",r.createElement("br",null),"time"),r.createElement("td",null,"speaking",r.createElement("br",null),"time")))))},S=n("ySi0"),C=n("2qi0");!function(e){e.checkMark="".concat("report-components-","checkMark")}(a||(a={}));var w;s.a.joinClasses([a.checkMark,c.a.style({display:"inline-block",marginRight:s.a.px(7*u.a),marginBottom:s.a.px(4*u.a),width:s.a.px(16*u.a),height:s.a.px(16*u.a),verticalAlign:"middle"})]);!function(e){e.radialProgressBar="".concat("report-components-radial_progress-","radialProgressBar"),e.radialProgressText="".concat("report-components-radial_progress-","radialProgressText"),e.radialProgressDescription="".concat("report-components-radial_progress-","radialProgressDescription")}(w||(w={}));var k,E={radialProgressBar:s.a.joinClasses([w.radialProgressBar,c.a.style({width:s.a.px(71*u.a),height:s.a.px(71*u.a),fontWeight:"bold",transform:"translateX(".concat(s.a.px(-6*u.a),")"),fill:l.a.CoreNeutral90})]),radialProgressText:s.a.joinClasses([w.radialProgressText,c.a.style({fontSize:"20px"})]),radialProgressDescription:s.a.joinClasses([w.radialProgressDescription,c.a.style({fontWeight:"normal",fontSize:"11px",fill:l.a.CoreNeutral60})])},j=function(e){var t=e.percentage,n=e.colorType,a=e.iconSize,i=e.description;return r.createElement(C.a,{percentage:t,colorType:n,iconSize:a,description:i,theme:{radialProgressBar:E.radialProgressBar,radialProgressText:E.radialProgressText,radialProgressDescription:E.radialProgressDescription}})},_=n("a5gI"),x={scoreTable:"".concat("report-sections-score-","scoreTable"),issuesSummary:"".concat("report-sections-score-","issuesSummary"),issueCounters:"".concat("report-sections-score-","issueCounters"),issueCounter:"".concat("report-sections-score-","issueCounter"),issuesLeftBlock:"".concat("report-sections-score-","issuesLeftBlock"),total:"".concat("report-sections-score-","total"),score:"".concat("report-sections-score-","score"),writingIssues:"".concat("report-sections-score-","wrtitingIssues"),critical:"".concat("report-sections-score-","critical"),advanced:"".concat("report-sections-score-","advanced")},A={display:"flex",verticalAlign:"top",alignItems:"center",$nest:{"& span":{paddingLeft:s.a.rem(.8)}}},I={display:"inline-block"},T={scoreTable:s.a.joinClasses([x.scoreTable,c.a.style(b.b,{margin:"".concat(s.a.px(22*u.a)," 0 ").concat(s.a.px(5*u.a)),$nest:(k={"& th":{paddingBottom:s.a.px(7*u.a)}},Object(_.a)(k,"& .".concat(x.score),{width:s.a.percent(43.75)}),Object(_.a)(k,"& .".concat(x.writingIssues),{width:s.a.percent(56.25)}),k)})]),issuesSummary:s.a.joinClasses([x.issuesSummary,c.a.style(b.e,A)]),issueCounters:s.a.joinClasses([x.issueCounters,c.a.style(b.e,A,{paddingTop:s.a.px(30*u.a),whiteSpace:"nowrap"})]),issueCounter:s.a.joinClasses([x.issueCounter,c.a.style({letterSpacing:s.a.px(.2*u.a),fontWeight:"bold",fontSize:s.a.px(15*u.a),lineHeight:s.a.px(19*u.a)})]),issuesLeftBlock:s.a.joinClasses([x.issuesLeftBlock,c.a.style(I)]),total:s.a.joinClasses([x.total,c.a.style(I,{width:s.a.percent(38.88),$nest:Object(_.a)({},"& .".concat(x.issueCounter),{color:l.a.CoreNeutral90,letterSpacing:0,fontSize:s.a.px(18*u.a)})})]),critical:s.a.joinClasses([x.critical,c.a.style(I,{width:s.a.percent(38.88),$nest:Object(_.a)({},"& .".concat(x.issueCounter),{color:l.a.CoreRed40})})]),advanced:s.a.joinClasses([x.advanced,c.a.style(I,{width:s.a.percent(22.24),$nest:Object(_.a)({},"& .".concat(x.issueCounter),{color:l.a.CoreYellow60})})]),score:s.a.joinClasses([x.score]),writingIssues:s.a.joinClasses([x.writingIssues])};function M(e){return e>85?C.a.ColorType.eggBlue:e>60?C.a.ColorType.dandelion:C.a.ColorType.radicalRed}var P=function(e){var t=e.issues,n=e.className,a=e.text;return r.createElement("div",{className:n},r.createElement("div",{className:T.issueCounter},t||r.createElement(S.d.Checkmark,null)),a)},N=function(e){var t=e.critical,n=e.advanced;return r.createElement("td",{className:T.issueCounters},r.createElement(P,{className:T.total,issues:t+n,text:"Issues left"}),r.createElement(P,{className:T.critical,issues:t,text:"Critical"}),r.createElement(P,{className:T.advanced,issues:n,text:"Advanced"}))},D=function(e){var t=e.score;return r.createElement("td",null,r.createElement(j,{colorType:M(t),iconSize:C.a.IconSize.pdf,percentage:t}),r.createElement("p",{className:b.a.text},"This text scores better than ",t,"%",r.createElement("br",null),"of all texts checked by Grammarly"))},B=function(){return r.createElement("section",{className:b.a.section,"data-name":"no-writing-issues"},r.createElement("table",{className:T.scoreTable},r.createElement("thead",{className:b.a.sectionHeader},r.createElement("tr",null,r.createElement("th",{className:T.writingIssues},"Writing Issues"))),r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",{className:T.issuesSummary},r.createElement(S.d.Checkmark,null),r.createElement("span",null,"No issues found"))))))},L=function(e){var t=e.score,n=e.critical,a=e.advanced;return r.createElement("section",{className:b.a.section,"data-name":"section-score-"+t},r.createElement("table",{className:T.scoreTable},r.createElement("thead",{className:b.a.sectionHeader},r.createElement("tr",null,r.createElement("th",{className:T.score},"Score"),r.createElement("th",{className:T.writingIssues},"Writing Issues"))),r.createElement("tbody",null,r.createElement("tr",null,r.createElement(D,{score:t}),r.createElement(N,{critical:n,advanced:a})))))},F=function(e){var t=e.score,n=e.critical,a=e.advanced;return n||a?r.createElement(L,{score:t,critical:n,advanced:a}):r.createElement(B,null)},R=n("NDcT"),H=n("uxqH"),V=n("lXTq"),U={plagiarismSection:"".concat("report-sections-plagiarism-","plagiarismSection"),plagiarismSectionHeader:"".concat("report-sections-plagiarism-","plagiarismSectionHeader"),original:"".concat("report-sections-plagiarism-","original"),plagiarismMark:"".concat("report-sections-plagiarism-","plagiarismMark"),score:"".concat("report-sections-plagiarism-","score"),percent:"".concat("report-sections-plagiarism-","percent"),sources:"".concat("report-sections-plagiarism-","sources"),sourcesCount:"".concat("report-sections-plagiarism-","sourcesCount"),scoreDescription:"".concat("report-sections-plagiarism-","scoreDescription")},W={plagiarismSection:s.a.joinClasses([U.plagiarismSection,c.a.style(b.d,{pageBreakAfter:"always"})]),plagiarismSectionHeader:s.a.joinClasses([U.plagiarismSectionHeader,c.a.style(b.c,{margin:"".concat(s.a.px(23*u.a)," 0 ").concat(s.a.px(10*u.a))})]),original:s.a.joinClasses([U.original,c.a.style(b.e,{display:"flex",alignItems:"center"})]),plagiarismMark:s.a.joinClasses([U.plagiarismMark,c.a.style({marginRight:s.a.rem(.8)})]),score:s.a.joinClasses([U.score,c.a.style(b.e,{width:s.a.percent(21.875)})]),percent:s.a.joinClasses([U.percent,c.a.style({marginTop:0,width:s.a.px(64*u.a),textAlign:"center"})]),sources:s.a.joinClasses([U.sources,c.a.style(b.e,{paddingTop:s.a.px(28*u.a),paddingBottom:0,width:s.a.percent(78.125),verticalAlign:"top"})]),sourcesCount:s.a.joinClasses([U.sourcesCount,c.a.style({color:l.a.CoreNeutral90,letterSpacing:0,fontWeight:"bold",fontSize:s.a.px(18*u.a),lineHeight:s.a.px(18*u.a)})]),scoreDescription:s.a.joinClasses([U.scoreDescription,c.a.style(b.e,{paddingTop:s.a.px(10*u.a),whiteSpace:"pre-line"})])},z=function(e){var t=e.plagiarismData,n=r.useContext(R.a.Context);return r.createElement("section",{className:W.plagiarismSection,"data-name":"section-plagiarism-"+(t.state===V.a.PlagiarismCheckingState.CHECKED?t.score:-1)},r.createElement("h2",{className:W.plagiarismSectionHeader},"Plagiarism"),t.state===V.a.PlagiarismCheckingState.NOT_CHECKED?r.createElement("p",{className:b.a.text},"This text hasn’t been checked for plagiarism"):H.a.isMin(t.score)?r.createElement("p",{className:W.original},r.createElement(S.d.Checkmark,{className:W.plagiarismMark}),"This text seems 100% original. Grammarly found no matching text on",r.createElement("br",null),"the Internet or in ProQuest’s databases."):r.createElement("table",{className:b.a.genericTable},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",{className:W.score},r.createElement(j,{colorType:C.a.ColorType.lightVisteria,iconSize:C.a.IconSize.pdf,percentage:H.a.prism.reverseGet(t.score),description:"%"})),r.createElement("td",{className:W.sources},r.createElement("div",{className:W.sourcesCount},t.sources),t.sources>1?"sources":"source")),r.createElement("tr",null,r.createElement("td",{colSpan:2,className:W.scoreDescription},n.performance.report.plagiarismDescription(t.score,t.sources))))))},G=n("hcme"),q={writingIssuesSection:"".concat("report-sections-writing_issues-","writingIssuesSection"),writingIssuesTable:"".concat("report-sections-writing_issues-","writingIssuesTable"),issueHeader:"".concat("report-sections-writing_issues-","issueHeader"),categoryAmount:"".concat("report-sections-writing_issues-","categoryAmount"),issueAmount:"".concat("report-sections-writing_issues-","issueAmount"),circle:"".concat("report-sections-writing_issues-","circle"),oval:"".concat("report-sections-writing_issues-","oval"),generalTitle:"".concat("report-sections-writing_issues-","generalTitle"),issueTitle:"".concat("report-sections-writing_issues-","issueTitle"),categoryTitle:"".concat("report-sections-writing_issues-","categoryTitle"),fakeHeader:"".concat("report-sections-writing_issues-","fakeHeader"),progressBarCell:"".concat("report-sections-writing_issues-","progressBarCell"),issueProgressBar:"".concat("report-sections-writing_issues-","issueProgressBar"),issueContent:"".concat("report-sections-writing_issues-","issueContent"),temporaryHeader:"".concat("report-sections-writing_issues-","temporaryHeader"),progressBarBg:"".concat("report-sections-writing_issues-","progressBarBg")},K={marginLeft:s.a.px(6*u.a),width:s.a.px(20*u.a),height:s.a.px(20*u.a),borderRadius:s.a.px(10*u.a),background:l.a.CoreRed40,color:l.a.CoreNeutral0,textAlign:"center",fontSize:s.a.px(12*u.a),lineHeight:s.a.px(20*u.a)},$={paddingLeft:s.a.px(22*u.a),width:s.a.px(293*u.a),color:l.a.CoreNeutral90,letterSpacing:0,fontSize:s.a.px(14*u.a),lineHeight:s.a.px(24*u.a)},Z={writingIssuesSection:s.a.joinClasses([q.writingIssuesSection,c.a.style({borderTop:"1px solid ".concat(l.a.CoreNeutral30)})]),writingIssuesTable:s.a.joinClasses([q.writingIssuesSection,c.a.style(b.b,{position:"relative",marginBottom:s.a.px(22*u.a),width:s.a.px(437*u.a),$nest:{"& td, & th":{verticalAlign:"top",pageBreakInside:"avoid"}}})]),issueHeader:s.a.joinClasses([q.issueHeader,c.a.style({pageBreakAfter:"avoid"})]),categoryAmount:s.a.joinClasses([q.categoryAmount,c.a.style({width:s.a.px(32*u.a),fontWeight:"bold",lineHeight:s.a.px(22*u.a)})]),issueAmount:s.a.joinClasses([q.issueAmount,c.a.style({paddingRight:s.a.px(10*u.a),color:l.a.CoreRed40,textAlign:"right",fontWeight:"bold",fontSize:s.a.px(13*u.a),lineHeight:s.a.px(24*u.a)})]),circle:s.a.joinClasses([q.circle,c.a.style(K)]),oval:s.a.joinClasses([q.oval,c.a.style(K,{width:s.a.px(24*u.a)})]),generalTitle:s.a.joinClasses([q.generalTitle,c.a.style($)]),issueTitle:s.a.joinClasses([q.issueTitle,c.a.style($,{textTransform:"lowercase",fontWeight:"normal",$nest:{"&:first-letter":{textTransform:"capitalize"}}})]),categoryTitle:s.a.joinClasses([q.categoryTitle,c.a.style($,{fontWeight:"bold"})]),fakeHeader:s.a.joinClasses([q.fakeHeader,c.a.style({position:"absolute",top:0,left:0,width:s.a.percent(100),background:l.a.CoreNeutral0,lineHeight:s.a.px(24*u.a)})]),progressBarCell:s.a.joinClasses([q.progressBarCell,c.a.style({width:s.a.px(112*u.a)})]),issueProgressBar:s.a.joinClasses([q.issueProgressBar,c.a.style({marginTop:s.a.px(12*u.a),minWidth:s.a.px(5*u.a),height:s.a.px(5*u.a),borderRadius:s.a.px(6*u.a),background:"linear-gradient(to right, ".concat(l.a.CoreRed30,", ").concat(l.a.CoreRed40,")"),boxShadow:"0 0 0 ".concat(s.a.px(3*u.a)," ").concat(l.a.CoreNeutral0)})]),issueContent:s.a.joinClasses([q.issueContent,c.a.style({pageBreakInside:"avoid"})]),temporaryHeader:s.a.joinClasses([q.temporaryHeader,c.a.style({pageBreakInside:"avoid"})]),progressBarBg:s.a.joinClasses([q.progressBarBg,c.a.style({width:s.a.percent(100),borderRadius:s.a.px(6*u.a),backgroundColor:l.a.CoreNeutral10})])},Y=function(e){var t=e.maxIssues,n=e.count/t*100;return n>94&&n<98?n=94:n>=98&&(n=100),r.createElement("div",{className:Z.progressBarBg},r.createElement("div",{className:Z.issueProgressBar,style:{width:"".concat(n,"%")}}))},X=function(e){var t=e.category,n=e.categoryIssues;return r.createElement("tr",{className:Z.temporaryHeader},r.createElement("th",{className:Z.categoryAmount},r.createElement("div",{className:n>99?Z.oval:Z.circle},n)),r.createElement("th",{className:Z.categoryTitle},t),r.createElement("th",{className:Z.progressBarCell}))},Q=function(e){var t=e.issues,n=0;return r.createElement("section",{className:Z.writingIssuesSection},r.createElement("h2",{className:b.a.sectionHeader},"Writing Issues"),Object.entries(t).map((function(e){var t=Object(G.a)(e,2),a=t[0],r=t[1],i=0;return{category:a,issues:Object.entries(r).map((function(e){var t=Object(G.a)(e,2),a=t[0],r=t[1];return r>n&&(n=r),i+=r,{name:a,count:r}})),issuesCount:i}})).map((function(e){var t=e.category,a=e.issuesCount,i=e.issues;return r.createElement("table",{key:t,className:Z.writingIssuesTable},r.createElement("thead",{className:Z.issueHeader},r.createElement(X,{category:t,categoryIssues:a})),r.createElement("tbody",null,i.map((function(e){var t=e.name,a=e.count;return r.createElement("tr",{key:t,className:Z.issueContent},r.createElement("td",{className:Z.issueAmount},a),r.createElement("td",{className:Z.issueTitle},t),r.createElement("td",null,r.createElement(Y,{maxIssues:n,count:a})))}))))})))},J=n("nNHm")},vf87:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("MHMU"),i=n("DTwm"),o=n("K40b"),s=n("f38j"),c=n("eBv/");!function(e){!function(e){e.show=o.a.getShow(r.e,s.a.Item.show),e.empty=o.a.empty}(e.Diff||(e.Diff={}));e.empty=c.a.iso.wrap(c.a.empty);e.get=function(e){return Object(i.flow)(c.a.iso.unwrap,c.a.get(e))},e.reduce=function(e,t){return Object(i.flow)(c.a.iso.unwrap,c.a.reduce(e,t))},e.diff=function(e,t){return c.a.diff(c.a.iso.unwrap(e),c.a.iso.unwrap(t))},e.isEmpty=function(e){return 0===c.a.iso.unwrap(e).entries.size},e.find=function(e){return Object(i.flow)(c.a.iso.unwrap,c.a.find(e))},e.size=function(){return Object(i.flow)(c.a.iso.unwrap,c.a.size)},e.sduiRoots=function(){return Object(i.flow)(c.a.iso.unwrap,(function(e){return Array.from(e.entries.keys())}))}}(a||(a={}))},wV17:function(e,t,n){"use strict";n.r(t);var a=n("nWMp"),r=n("may+"),i=n.n(r),o=n("KySh"),s=n.n(o),c=n("Ekth"),l=n.n(c),u=n("5Dsw"),d=n.n(u),p=n("Olv4"),m=n.n(p),f=n("fisC"),h=n.n(f),g=n("UqPw"),b=n.n(g),v=n("I1gR"),y=n.n(v),O=n("R1dB"),S=n.n(O),C=n("bDM3"),w=n.n(C),k=n("7XqD"),E=n.n(k),j=n("4JHS"),_=n.n(j),x=n("4N81"),A=n.n(x),I=n("4nE6"),T=n.n(I),M=n("4kcV"),P=n.n(M),N=n("D/bz"),D=n.n(N);a.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:300,src:`url('${y.a}') format('woff2'), url('${b.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:700,src:`url('${s.a}') format('woff2'), url('${i.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:400,src:`url('${D.a}') format('woff2'), url('${P.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:500,src:`url('${_.a}') format('woff2'), url('${E.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:300,src:`url('${w.a}') format('woff2'), url('${S.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:400,src:`url('${h.a}') format('woff2'), url('${m.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:500,src:`url('${T.a}') format('woff2'), url('${A.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:700,src:`url('${d.a}') format('woff2'), url('${l.a}') format('woff')`,fontDisplay:"swap"})},wdnv:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a,r,i=n("rtUA"),o=n("DTwm"),s=n("D2TP"),c=n("phaH"),l=n("d3CI");(a||(a={})).create=()=>({id:s.a.SpecialId.Cheetah,type:l.i.cheetah,kind:l.f.abstract,meta:s.a.createStaticLens({id:s.a.SpecialId.Cheetah,title:"Grammarly Ideate"},s.a.Meta.group.empty,o.constFalse),hashCode(){return Object(c.b)(this.id)},equals(e){return this.id===e.id}}),function(e){let t;e.create=function(e,n){return Boolean(t)||(t={id:s.a.SpecialId.Closed,kind:l.f.abstract,type:l.i.closed,meta:s.a.createStaticLens({id:s.a.SpecialId.Closed,title:"Closed"},s.a.Meta.group.empty,e),hashCode(){return i.a.lensHash.hashCode(this)},equals(e){return i.a.getEq(n).equals(this,e)}}),t}}(r||(r={}));var u,d,p,m=n("8O/t"),f=n("X76w"),h=n("mgiE");d=u||(u={}),p=d.create=()=>({id:s.a.SpecialId.DraftAI,type:l.i.draftAI,kind:l.f.abstract,meta:s.a.createStaticLens({id:s.a.SpecialId.DraftAI,title:"Draft AI"},s.a.Meta.group.empty,o.constFalse),transitionSource:h.g.none,hashCode(){return Object(c.b)(this.id)},equals(e){return this.id===e.id}}),d.createFromTransitionSource=e=>Object(f.a)(Object(m.a)({},p()),{transitionSource:h.g.some(e)});var g,b,v=n("U9Go"),y=n("tiWp"),O=n("0kuo"),S=n("RRF2"),C=n("Hj2R"),w=n("ZDrO"),k=n("hzat");!function(e){function t(e){return w.a.groupBy("cardId",e)}e.create=function(e,t,n){Object(O.f)(e.id===s.a.SpecialId.Plagiarism,"Cannot create plagiarism lens vm on non-plagiarism lens",e.id);const a=w.a.Sorted.empty(e=>e.id,n.compare),r=h.g.none;return{id:s.a.SpecialId.Plagiarism,kind:l.f.persistent,type:l.i.plagiarism,meta:e,cardIndex:r,items:a,itemsOrd:n,animation:l.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return i.a.lensHash.hashCode(this)},equals(e){return i.a.getEq(t).equals(this,e)}}},e.updateCardsWithLensMeta=function(e){return t=>t.id===s.a.SpecialId.Plagiarism?Object(f.a)(Object(m.a)({},t),{items:t.items.map(t=>k.a.isPlagiarism(t.activeAlert)?e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(k.a.isPlagiarism)):t)}):t};var n=e.add=e=>n=>a=>{const r=t(n),i=Array.from(r.entries()).reduce((t,[n,a])=>Object(y.pipe)(t.update(n,t=>e.addPlagiarismAlerts(t,a)),h.b.fold(()=>t.add(e.createAdded(n,a)),o.identity)),a.items),s=Object(y.pipe)(l.k.getActiveItem(a),h.g.map(({id:e})=>h.g.unsafeGet(i.get(e)).index)),c=h.g.getEq(v.g).equals(s,a.cardIndex)?l.b.force:l.b.skip;return Object(f.a)(Object(m.a)({},a),{cardIndex:s,items:i,animation:c})},a=e.remove=e=>n=>a=>{const r=t(n),i=l.k.getActiveItem(a),s=Array.from(r.entries()).reduce((t,[n,r])=>Object(y.pipe)(t.update(n,t=>{const n=Object(y.pipe)(e.remove(t,r,Object(y.pipe)(i,h.g.map(e=>a.itemsOrd.compare(t,e)>0),h.g.getOrElse(o.constTrue))),t=>e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(k.a.isPlagiarism)));return Object(y.pipe)(i,h.g.exists(e=>e.id===n.id))?e.selectNextAlert(n,a.itemsOrd):n}),h.b.fold(()=>t,o.identity)),a.items);return Object(f.a)(Object(m.a)({},a),{items:s,animation:l.b.force})},r=e.update=e=>t=>n=>c(e)(t.filter(Object(o.not)(e.shouldAnimateAlertApply)))(n),c=e.updateWithAlerts=e=>n=>r=>{const[i,s]=S.a.partition(n,C.a.isRegistered),c=t(i),u=Array.from(c.entries()).reduce((t,[n,a])=>Object(y.pipe)(t.update(n,t=>e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(k.a.isPlagiarism))),h.b.fold(()=>t.add(e.createAdded(n,a)),o.identity)),a(e)(s)(r).items),d=Object(y.pipe)(l.k.getActiveItem(r),h.g.map(({id:e})=>Object(y.pipe)(u.get(e),h.g.map(({index:e})=>e),h.g.getOrElse(()=>0))));return Object(f.a)(Object(m.a)({},r),{cardIndex:d,items:u,animation:l.b.proceed})};e.getAlertsHandler=function(e){return t=>i.a.ApplyDiff.apply(t,n(e),r(e),a(e))}}(g||(g={})),function(e){e.create=function(e,t,n){const a=w.a.Sorted.empty(e=>e.id,n.compare);return{id:s.a.SpecialId.Premium,kind:l.f.active,type:l.i.advanced,meta:e,items:a,itemsOrd:n,cardIndex:h.g.none,animation:l.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return i.a.lensHash.hashCode(this)},equals(e){return i.a.getEq(t).equals(this,e)}}},e.getAlertsHandler=function(e,r){return o=>i.a.ApplyDiff.apply(o,t(e),a(e,r),n(r))};var t=e.add=e=>t=>n=>{const a=t.map(e.createFromAlert(n.id)),r=n.items.add(a),i=l.k.getActiveItemIndex(r)(n);return Object(f.a)(Object(m.a)({},n),{cardIndex:i,items:r,animation:l.b.proceed})},n=e.remove=e=>t=>n=>{const a=new Set(t.map(e=>e.id)),r=n.items.filter(Object(o.flow)(e.hasActiveAlert,h.g.map(e=>e.alert),h.g.exists(e=>a.has(e.id)))).reduce((e,t)=>e.remove(t.id),n.items),i=l.k.getActiveItemIndex(r)(n);return Object(f.a)(Object(m.a)({},n),{cardIndex:i,items:r})},a=e.update=(e,a)=>r=>i=>{const[s,c]=S.a.partition(r,C.a.isRegistered);return Object(o.pipe)(i,n(a)(c),t(e)(s))}}(b||(b={}));var E,j=n("wvT7"),_=n("000W"),x=n("TKPA"),A=n("4wwO");!function(e){const t=C.d.ord;function n(e){return e.id}function a(e){const t=e.map(e=>[A.a.getAlertOutcomeBundle(e),e]);return w.a.groupBy(([e,t])=>n(e),t)}e.getCardId=n,e.initCardsHash=function(e,n,r,i,o){Object(O.f)(Object(y.pipe)(r,h.g.forAll(({alertIndex:e})=>void 0!==n[e])),"Can not find alert for provided alertIndex");const s=a(n),c=Object(y.pipe)(r,h.g.map(({alertIndex:e})=>(Object(O.f)(void 0!==n[e],"Can not find alert for provided alertIndex"),n[e])));let l=h.g.none;const u=w.a.Sorted.empty(A.a.getId,o.compare),d=Array.from(s.entries()).reduce((n,[a,r])=>{const o=r.map(([e,t])=>t),s=r[0][0];return Object(y.pipe)(c,h.g.map(e=>o.indexOf(e)),h.g.filter(e=>e>-1),h.g.fold(()=>n.add(i.createRendered(e)(a,s,o,t)),r=>{const c=i.createFocused(e)(a,s,o,r,t);return l=h.g.some(a),n.add(c)}))},u);return{cardIndex:Object(y.pipe)(l,h.g.chain(e=>Object(y.pipe)(d.get(e),h.g.map(e=>e.index)))),cards:d}},e.create=function(e,t,n,a){const r=w.a.Sorted.empty(A.a.getId,a.compare),o=h.g.none;return{id:e,type:l.i.lensview,kind:l.f.persistent,meta:t,cardIndex:o,items:r,itemsOrd:a,animation:l.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return i.a.lensHash.hashCode(this)},equals(e){return i.a.getEq(n).equals(this,e)}}};var r=e.add=(e,n)=>r=>i=>{if(0===r.length)return i;const s=a(r),c=Array.from(s.entries()).reduce((a,[r,s])=>{const c=s.map(([e,t])=>t),l=s[0][0];return Object(y.pipe)(a.update(r,e=>n.updateWithAlerts(c)(e)),h.b.fold(()=>a.add(e.createAdded(i.id)(r,l,c,t)),o.identity))},i.items),u=Object(y.pipe)(i,l.k.getActiveItemIndex(c)),d=h.g.getEq(v.g).equals(u,i.cardIndex)?l.b.force:l.b.skip;return Object(f.a)(Object(m.a)({},i),{cardIndex:u,items:c,animation:d})},s=e.remove=e=>t=>n=>{const r=a(t),i=Array.from(r.entries()).reduce((t,[a,r])=>Object(y.pipe)(t.update(a,t=>e.removeAlertFromItem(r.map(([e,t])=>t),n)(t)),h.b.fold(()=>t,o.identity)),n.items),s=Object(y.pipe)(n,l.k.getActiveItemIndex(i));return Object(f.a)(Object(m.a)({},n),{cardIndex:s,items:i,animation:l.b.force})},c=e.update=(e,t,n)=>a=>r=>u(e,n)(a.filter(Object(x.m)(t.shouldAnimateAlertApply)))(r),u=e.updateWithAlerts=(e,n)=>r=>c=>{if(0===r.length)return c;const{left:u,right:d}=Object(y.pipe)(r,i.a.filterAlertInLens(c,n),_.Db(C.a.isRegistered)),p=a(d),g=Array.from(p.entries()).reduce((a,[r,i])=>{const s=i.map(([e,t])=>t),l=i[0][0];return Object(y.pipe)(a.update(r,e=>n.updateWithAlerts(s)(e)),h.b.fold(()=>a.add(e.createAdded(c.id)(r,l,s,t)),o.identity))},s(n)(u)(c).items),b=Object(y.pipe)(c,l.k.getActiveItemIndex(g));return Object(f.a)(Object(m.a)({},c),{cardIndex:b,items:g,animation:l.b.proceed})};e.getAlertsHandler=function(e,t,n){return(a,o)=>l=>{const u=i.a.ApplyDiff.applyWithFilter(o,i.a.ApplyDiff.apply);return Object(y.pipe)(l,u(a,r(e,n),c(e,t,n),s(n)))}},e.getHasAlerts=function(e,t,n,a){const r=i.a.Capabilities.getHasAlerts(e,t,n,a),o=e=>i.a.Capabilities.getHasSelectableAlert(t,n(e),a);return Object(f.a)(Object(m.a)({},r),{findNextAlert:t=>Object(y.pipe)(Object(j.b)(h.g.option)(l.k.getActiveItem(t),t.cardIndex),h.g.chain(([n,a])=>Object(y.pipe)(e.nextAlert(n),h.g.alt(()=>e.prevAlert(n)),h.g.alt(()=>Object(y.pipe)(S.a.findIndexFromMap(t.items.values(),a+1,o(t)),h.g.alt(()=>S.a.findIndexFromMap(t.items.values(),0,o(t))),h.g.chain(e=>Object(y.pipe)(t.items.getAt(e.index),h.g.map(e=>e.alerts[0]))))))),h.g.map(e=>({alert:e,highlightIndex:0})))})}}(E||(E={}));var I,T=n("354Z");!function(e){var t=i.a.Prism;e.Prism=t;var n=i.a.Items;e.Items=n;var o=i.a.Capabilities;e.Capabilities=o;var s=i.a.ApplyDiff;e.ApplyDiff=s;e.filterAlertInLens=i.a.filterAlertInLens,e.findItemWithAlertInLens=i.a.findItemWithAlertInLens,e.lensHash=i.a.lensHash,e.getEq=i.a.getEq;var c=r;e.Closed=c;var l=u;e.DraftAI=l;var d=g;e.Plagiarism=d;var p=b;e.Premium=p;var m=E;e.WithBundles=m;var f=T.a;e.WithSuccess=f;var h=a;e.Cheetah=h}(I||(I={}))},wiMD:function(e,t,n){"use strict";var a=n("2zNz");t.a=Object.assign(Object.assign({},a.D.Color),{BrandGreen60:"#018374",BrandGreen80:"#017467",BorderBaseSubduedColor:"#CDD1DC",TextBaseSubduedColor:"#646B81",TextBaseDefault:"#161719",BorderBaseInverse:"#ffffff",BackgroundNeutralDefault:"#646B81",BackgroundAdditionSubdued:"#DEF7F5",BackgroundBaseSubdued:"#F4F4F6",BackgroundBrandDefault:"#027E6F",BackgroundBrandHover:"#017467",BackgroundBrandActive:"#014C43",BorderBrandDefault:"#027E6F",ColorBrandDefault:"#027E6F",ButtonBackgroundSecondaryHover:"#DEF7F5",ButtonBackgroundSecondaryActive:"#B1F0E8",ButtonTextSecondaryDefault:"#027E6F",ButtonTextSecondaryHover:"#014C43",ButtonTextSecondaryActive:"#014C43",ButtonBackgroundTertiaryHover:"#E2E4E9",ButtonBackgroundTertiaryActive:"#CDD1DC",ButtonTextTertiaryDefault:"#646B81",ButtonTextTertiaryHover:"#474B58",ButtonTextTertiaryActive:"#474B58",ButtonBorderTertiaryHover:"#878DA2",ButtonBorderTertiaryActive:"#878DA2",ButtonTextTertiaryDefaultInverse:"#C2C6D4",ButtonTextTertiaryHoverInverse:"#C2C6D4",ButtonBackgroundTertiaryHoverInverse:"#27282E",ButtonBorderTertiaryHoverInverse:"#C2C6D4",ButtonTextTertiaryActiveInverse:"#C2C6D4",ButtonBackgroundTertiaryActiveInverse:"#474B58",ButtonBorderTertiaryActiveInverse:"#C2C6D4",PopoverBackgroundBaseSubdued:"#27282E",IndicatorDotDefault:"#E7E9F5",IndicatorDotActive:"#4A6EE0",OnBrandBadge:"#EDF5FF",OnBrandBadgeLabel:"#4A6EE0",OnBrandBadgeIcon:"#3659B5",OffBrandBadge:"#FDF0F3",OffBrandBadgeLabel:"#CE1331",OffBrandBadgeIcon:"#CE1331",MenuBackgroundSelected:"#F4F4F6",MenuIconSelected:"#646B81",MenuBorderDefault:"#878DA2",MenuBackgroundHover:"#E2E4E9",MenuIconHover:"#474B58"})},wnit:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f}));var a=n("DTwm"),r=n("tiWp"),i=n("mgiE"),o=n("111I"),s=n("xk6L"),c=n("SOPW"),l=n("mDV6"),u=n("d3CI"),d=n("wdnv"),p=n("QQOt");const m=(e,t,n,a,r,i)=>o.a.composeKnot({content:h(e,t,r,i),root:b(t,n,a)});function f(e){return(t,n,a,r,i,s)=>o.a.composeKnot({content:o.a.fromSideEffect(n=>{g(t)(n);const a=n.action.action;"item"===a.key&&e(a.action)},v(n,i,s)),root:b(n,a,r)})}const h=(e,t,n,a)=>o.a.fromSideEffect(g(e),v(t,n,a));function g(e){return t=>{switch(t.action.action.action.kind){case p.a.ActionKind.changePosition:e.changePosition.next({id:t.key,height:t.action.action.action.height});break;case p.a.ActionKind.completePositionAnimation:e.completePositionAnimation.next(t.key)}}}const b=(e,t,n)=>o.a.fromSideEffect(e=>{t.next(e.element)},s.a.combineLatestStatic([n,e.view("cardsHeight")]).pipe(s.a.map(([e,t])=>({disableUserActions:e,height:t})),s.a.startWith({disableUserActions:!1,height:0}))),v=(e,t,n)=>{const o=e.view(d.a.Prism.items),m=e.pipe(s.a.map(e=>e.itemsOrd)),f=e.pipe(s.a.map(Object(a.flow)(u.k.getActiveItem,i.g.map(c.a.getId)),s.a.distinctUntilChanged())),h=e.view(t.getActiveAlertsCount).view(e=>0===e);return s.a.combineLatestStatic([o,f,h,m]).pipe(s.a.map(([e,a,o,s])=>{const c=Object(r.pipe)(e.find(e=>e.positionState.watched),i.g.map(e=>e.value)),u=e.getAt(e.size-1);return e.filter(e=>e.positionState.visible||e.positionState.watched&&((e,t)=>!!Object(r.pipe)(t,i.g.exists(t=>t.id===e.id))||Object(r.pipe)(t,i.g.exists(e=>e.positionState.isHeightValid)))(e,c)).map(e=>function(e){return(t,n,a,o)=>s=>{const c=Object(r.pipe)(t,i.g.exists(e=>e===s.id));return{cell:{item:e.viewState(n,a)(s),root:{height:{value:s.positionState.height,watched:s.positionState.watched&&!e.isScheduledToDispose(s),isValid:s.positionState.isHeightValid},position:{top:s.positionState.absTop,animationInProgress:s.positionState.animationInProgress},layer:c||l.a.isAnimatable(s)&&s.visualState.incomplete&&!Object(r.pipe)(s.visualState.from,i.g.exists(e=>"focused"===e))?p.a.Layer.front:p.a.Layer.back}},root:s.id,hashCode:s.hashCode.bind(s),equals:e=>s.equals(e.cell.item.view),compare:e=>o.compare(s,e.cell.item.view)}}}(t)(a,o,Object(r.pipe)(u,i.g.exists(t=>t.id===e.id)),s)(e),n(s))}))}},wsul:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("a5gI"),i=n("8O/t"),o=n("X76w"),s=n("DTwm"),c=n("+vYo"),l=n("xk6L"),u=n("mgiE"),d=n("TKPA"),p=n("RRF2"),m=n("M3t0"),f=n("XPG3"),h=n("D2TP"),g=n("Hj2R"),b=n("La5+"),v=n("aODX"),y=n("hzat"),O=n("8XoQ"),S=n("itj6"),C=n("/1wo"),w=n("d3CI"),k=n("wdnv"),E=n("354Z"),j=n("mDV6"),_=n("eAYH");!function(e){var t=e.id="UpgradeHookId",n=(e.Kind="UpgradeHook",e.eq={equals:(e,t)=>u.c.eqString.equals(e.id,t.id)&&_.b.eq.equals(e,t)});function x(e){return e.id===t}let A,I,T;e.isUpgradeHookItem=x,function(e){e.create=(e,t="default")=>{const n=C.a.getCreate((e,n)=>I.createItem(e,n,t),u.g.none,I.changeVisualState,()=>l.a.of(u.g.none),e);return{createAdded:e=>(t,a)=>{const r=j.a.VisualState.initial({type:"added",clockwise:!0},!0);return n(t,a,0,0,O.a.empty(void 0),e,u.g.some(r))},createFocused:e=>(t,a)=>{const r=j.a.VisualState.initial({type:"focused",clockwise:!0},!1);return n(t,a,0,0,O.a.empty(void 0),e,u.g.some(r))}}}}(A=e.ItemFactory||(e.ItemFactory={})),function(e){e.createItem=(e,t,r)=>Object(i.a)({kind:a.Kind,id:e,activeAlert:t.alerts[0],equals(e){return n.equals(this,e)},hashCode(){return _.b.hashCode(Object(o.a)(Object(i.a)({},this),{userInput:u.g.none}))},groupedAlerts:a.getGroupedLiteAlerts(t.alertModels),premiumAlerts:t.alertModels,documentType:r},t);const t=j.a.Capabilities.getPojoUpdates();var r=e.changeVisualState=C.a.getChangeVisualState(t.setVisualState,s.identity),c=e.changePosition=t.setPosition,l=e.transitionTo=C.a.getTransitionTo(r,c),d=(e.animatable={completeTransition:e=>t=>Object(s.pipe)(t,r(j.a.VisualState.complete(t.visualState,e))),transitionTo:l,changeVisualState:r},e.updateAlertsByModels=e=>t=>{const n=Object(s.pipe)(e,u.a.map(y.a.fromModel));return Object(o.a)(Object(i.a)({},t),{alerts:n,premiumAlerts:e,groupedAlerts:M(e)})},e.updateAlerts=(e,t,n,a)=>r=>Object(o.a)(Object(i.a)({},r),{alerts:e,premiumAlerts:r.premiumAlerts.filter(e=>!t.has(e.id)),activeAlertIndex:n,activeHighlightIndex:a,activeAlert:e[n]}));e.addAlerts=e=>t=>{const n=Object(s.pipe)(e,u.a.map(y.a.fromModel)),a=[...t.premiumAlerts,...e];return Object(o.a)(Object(i.a)({},t),{alerts:[...t.alerts,...n],premiumAlerts:a,groupedAlerts:M(a)})},e.getSelect=(e,t)=>({selectByAlert:(n,a,i)=>o=>Object(s.pipe)(o,C.a.getSelectByAlert(d,Object(s.constant)(s.identity),r,c,Object(s.constant)(s.identity),s.identity,e,t)(a,n,i)),select:(e,t)=>n=>Object(s.pipe)(n,C.a.getSelectItem(r,c)(e,t)),unselect:C.a.getUnselectItem(r,c)}),e.remove={remove:(e,t)=>n=>e(n)?l({type:"removed",clockwise:t(n)})(n):n}}(I=e.Capabilities||(e.Capabilities={})),function(e){let t;!function(e){e.empty={onShowUpgradeHook:s.constVoid,onOpenUpgradeUrl:s.constVoid,onDismissUpgradeHook:s.constVoid}}(t=e.EventHandlers||(e.EventHandlers={}));e.UpgradeHookItemViewModelImpl=class{dispose(){this._subs.dispose()}constructor(e,t,n,a,i){Object(r.a)(this,"_subs",new b.a.Keeper),Object(r.a)(this,"events",new l.a.Subject),Object(r.a)(this,"upgradeHookDismissed",c.a.create(!1)),this._subs.push(this.events.subscribe(n=>{"showedUpgradeHook"===n.type?i.onShowUpgradeHook():(S.b.isSDUICardAction(n)&&S.b.ProxySduiCardAction.hasAction(n,"upgradeToPremium")&&(t.openUpgradeUrl(a),i.onOpenUpgradeUrl()),S.b.isSDUICardAction(n)&&S.b.ProxySduiCardAction.hasAction(n,"removeCard")&&(this.upgradeHookDismissed.set(!0),i.onDismissUpgradeHook()),e.actionEvents.next(n))})),this._subs.push(n.subscribe(()=>{this.upgradeHookDismissed.set(!1)}))}}}(T=e.ViewModel||(e.ViewModel={}));var M=e.getGroupedLiteAlerts=e=>f.a.group(e.map(e=>e.toLiteAlert()));e.formatLiteAlerts=(e,t=5)=>{const n=e.slice(0,t),a=e.slice(t).map(e=>e.count).reduce(d.t,0);return a>0?[...n,{group:"",category:"",categoryHuman:"more...",count:a,lensName:"more...",bundleInfo:u.g.some("more...")}]:n},e.groupPremiumAlerts=e=>Object.values(e.reduce((e,t)=>{const n=t.lensType;return null!=e[n]?e[n]=Object(o.a)(Object(i.a)({},e[n]),{lensNames:u.a.uniq(u.c.eqStrict)([...e[n].lensNames,t.lensName]),alertsCount:e[n].alertsCount+1}):e[n]={lensNames:[t.lensName],lensType:t.lensType,alertsCount:1},e},{}));const P=Object(d.l)(m.d.Logging.getLogger);e.getSideEffect=(e,t,n,r,i,o=A.create(i),c=h.a.isWithAlertsId)=>{const d=P("UpgradeHook.sideEffect"),p=w.e.Prism.getLensWithItems().compose(k.a.Prism.getFeedItems()),m=t.pipe(l.a.map(e=>e.currentLens.id),l.a.distinctUntilChanged());return{id:"upgradeHookEffect",when:c,what:w.e.Effect.ItemsApplicator.create(Object(s.pipe)(l.a.combineLatestStatic([e,m]),l.a.map(([e])=>t=>{const i=v.a.find(t.currentLens.items,x);if(n.get())return t;if(0===e.length)return u.g.isSome(i)?(d.trace("no more premium alerts, removing UpgradeHook item from the current lens"),p.set(t.currentLens.items.remove(a.id),t)):t;let c,l=t;return u.g.isNone(i)?(d.trace("premium alerts found, adding upgrade hook item to lens state",e),c=o.createAdded(t.currentLens.id)(a.id,e),l=p.set(t.currentLens.items.add(c),t)):c=u.g.unsafeGet(i).value,l=Object(s.pipe)(I.updateAlertsByModels(e)(c),e=>t.currentLens.items.add(e),e=>p.set(e,l)),(1===l.currentLens.items.size||h.a.isPremiumId(l.currentLens.id))&&(d.trace("auto focusing upgrade hook item"),l=w.e.Prism.getLensWithItems().modify(r.selectItemById(a.id),l)),l})))}};let N;!function(e){function t(e,t){return(a,i)=>k.a.ApplyDiff.applyWithFilter(i,k.a.ApplyDiff.apply)(a,n(e,t),c(),r())}e.withUphookAlertsHandlerFactory=function(e,n,a){return r=>r===h.a.SpecialId.Premium||r===h.a.SpecialId.FreePremiumAlerts?t(n,a):e(r)},e.getAlertsHandler=t;var n=e.add=(e,t)=>n=>{const r=t=>h.a.isPremiumId(t)?e.createFocused(h.a.SpecialId.Premium)(a.id,n):e.createAdded(h.a.SpecialId.FreePremiumAlerts)(a.id,n);return e=>Object(s.pipe)(n,u.g.fromPredicate(u.a.isNonEmpty),u.g.chain(n=>Object(s.pipe)(e.items.get(a.id),u.g.map(e=>e.value),u.g.map(a.Capabilities.addAlerts(n)),u.g.alt(()=>u.g.some(r(e.id))),u.g.map(a=>{const r=n.filter(Object(d.b)(g.a.isApplicableAlert,g.a.isFreePremium)).map(n=>t.createAdded(e.id)(E.a.getCardId(e.meta,n),n)),s=e.items.add([...r,a]),c=w.k.getActiveItemIndex(s)(e);return Object(o.a)(Object(i.a)({},e),{cardIndex:c,items:s,animation:w.b.proceed})}))),u.g.getOrElse(()=>e))},r=e.remove=()=>e=>t=>{if(!e.length)return t;const n=new Set(e.map(e=>e.id));return Object(s.pipe)(t.items.get(a.id),u.g.map(e=>e.value),u.g.map(e=>Object(s.pipe)(e.premiumAlerts.filter(e=>!n.has(e.id)),u.f.fromArray,u.g.map(n=>t.items.add(a.Capabilities.updateAlertsByModels(n)(e))),u.g.getOrElse(()=>t.items.remove(a.id)))),u.g.map(e=>{const n=w.k.getActiveItemIndex(e)(t);return Object(o.a)(Object(i.a)({},t),{cardIndex:n,items:e})}),u.g.getOrElse(()=>t))},c=e.update=()=>e=>t=>{const[,n]=p.a.partition(e,g.a.isRegistered);return Object(s.pipe)(t,r()(n))}}(N=e.Handler||(e.Handler={}))}(a||(a={}))},wxju:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("DTwm"),c=n("DgJv"),l=n("D2TP"),u=n("xk6L"),d=n("mgiE"),p=n("E5C1");!function(e){e.create=function(e,t,n,a){return new f(e,t,n,a)},e.mock=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a.of(!1);return new h(e)}}(a||(a={}));var m=/([^\s]+\s+[^\s]+)/,f=function(){function e(t,n,a,i){Object(r.a)(this,e),Object(o.a)(this,"_navigationVM",void 0),Object(o.a)(this,"_documentSettingsState",void 0),Object(o.a)(this,"_cheetahAvailability",void 0),Object(o.a)(this,"_features",void 0),Object(o.a)(this,"_isCheetahAvailable",void 0),Object(o.a)(this,"_isInlineFeatureAvailable",void 0),Object(o.a)(this,"_isCheetahLensInactive",void 0),Object(o.a)(this,"_isDocumentSettingsPanelCollapsed",void 0),this._navigationVM=t,this._documentSettingsState=n,this._cheetahAvailability=a,this._features=i,this._isCheetahAvailable=this._cheetahAvailability.pipe(u.a.map(Object(s.not)(c.a.isUnavailable))),this._isInlineFeatureAvailable=u.a.of(this._features.cheetahInlineRewrite||this._features.cheetahMagicRewrite),this._isCheetahLensInactive=this._navigationVM.activeLensId.view((function(e){return e!==l.a.SpecialId.Cheetah})),this._isDocumentSettingsPanelCollapsed=this._documentSettingsState.pipe(u.a.map((function(e){return e.type===p.a.Collapsed})))}return Object(i.a)(e,[{key:"isAvailable",value:function(e){var t=e.pipe(u.a.map((function(e){return e.length<=5e3&&m.test(e)})));return u.a.combineLatestStatic([this._isCheetahAvailable,this._isInlineFeatureAvailable,this._isCheetahLensInactive,this._isDocumentSettingsPanelCollapsed,t]).pipe(u.a.map(d.a.every(s.identity)))}}]),e}(),h=function(){function e(t){Object(r.a)(this,e),Object(o.a)(this,"_resolveObs",void 0),this._resolveObs=t}return Object(i.a)(e,[{key:"isAvailable",value:function(){return this._resolveObs}}]),e}()},x1PS:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("U9Go"),i=n("DTwm"),o=n("tiWp"),s=n("+vYo"),c=n("lXop"),l=n("fr9z"),u=n("xk6L"),d=n("La5+"),p=n("yIk2"),m=n("S+il"),f=n("mgiE"),h=n("dcXr"),g=n("0kuo"),b=n("TKPA"),v=n("M3t0");!function(e){var t,n,a,y,O,S,C;!function(e){e.EditingMode="EditingMode",e.ReadMode="ReadMode"}(t=e.VisualState||(e.VisualState={})),function(e){e.is=function(e){return e.visualState===t.EditingMode}}(n||(n={})),function(e){e.is=function(e){return e.type!==y.Type.Close&&e.type!==y.Type.ApplyRemove&&e.type!==y.Type.ApplyChange}}(a||(a={})),S=y||(y={}),(O=S.Type||(S.Type={})).SwitchToReadMode="SwitchToReadMode",O.SwitchToEditMode="SwitchToEditMode",O.ApplyChange="ApplyChange",O.ApplyRemove="ApplyRemove",O.Close="Close",(S.SwitchToReadMode||(S.SwitchToReadMode={})).is=function(e){return e.type===y.Type.SwitchToReadMode},(S.ApplyChange||(S.ApplyChange={})).create=function(e,t,n){return Object(o.pipe)(e,h.a,f.b.bimap((function(){}),(function(e){return{type:y.Type.ApplyChange,url:e,textRange:t,rect:n}})))},S.initMapFromState=function(e){return function(t){var n=e.getFormatting(t.range);if(c.e.LinkPayload.is(n)){var a=n[c.e.Type.link][0],r=a.rect,s=a.url,l=a.range;return"selection"===t.source?{type:y.Type.SwitchToReadMode,textRange:l,rect:r,url:s}:{type:y.Type.SwitchToEditMode,textRange:l,rect:r,url:s}}Object(g.f)("toolbar"===t.source,"non-toolbar source can not emit ranges without link formatting");var u=Object(o.pipe)(e.getSelectionRect(),f.b.fold((function(){throw new g.b("Failed to get selection rect while trying to add link")}),i.identity));return{type:y.Type.SwitchToEditMode,textRange:t.range,rect:u,url:""}}},S.initHandlers=function(e,t,n){var a=function(){return f.b.tryCatchError((function(){return n.next()}))};return function(n){switch(n.type){case y.Type.SwitchToEditMode:return e.setCursor(n.textRange.start,l.b.size(n.textRange));case y.Type.SwitchToReadMode:return f.b.right(void 0);case y.Type.ApplyChange:return Object(o.pipe)(t.removeLink(n.textRange),f.b.chain((function(){return l.b.isEmpty(n.textRange)?Object(o.pipe)(t.insertLinkWithCaption(n.textRange.start,n.url,n.url),f.b.chain((function(){return e.setCursor(n.textRange.start+n.url.length,l.b.size(n.textRange))}))):t.insertLink(n.textRange,n.url)})));case y.Type.ApplyRemove:return Object(o.pipe)(a(),f.b.chain((function(){return t.removeLink(n.textRange)})),f.b.chain((function(){return e.setCursor(n.textRange.start,0)})));case y.Type.Close:return a();default:return Object(g.c)(n)}}},S.initMapToView=function(e){return function(n){var a=function(){return e.next({type:y.Type.Close})};switch(n.type){case y.Type.SwitchToEditMode:var r=s.a.create(n.url);return{visualState:t.EditingMode,rect:n.rect,inputContent:r,isValid:r.view(b.n),textRange:n.textRange,close:a,apply:function(){Object(o.pipe)(y.ApplyChange.create(r.get(),n.textRange,n.rect),f.b.fold(a,(function(t){return e.next(t)})))}};case y.Type.SwitchToReadMode:return{visualState:t.ReadMode,url:n.url,rect:n.rect,textRange:n.textRange,close:a,remove:function(){return e.next({type:y.Type.ApplyRemove,textRange:n.textRange})},change:function(){return e.next({type:y.Type.SwitchToEditMode,url:n.url,rect:n.rect,textRange:n.textRange})}};default:return Object(g.c)(n)}}},function(e){e.eq=r.j((function(e,t){return e.source===t.source&&l.b.ord.equals(e.range,t.range)}))}(e.LinkState||(e.LinkState={})),function(e){e.listenCloseHotkey=function(){return m.a.listen("escape").pipe(u.a.mapTo({type:y.Type.Close}))},e.listenApplyHotkey=function(e){return m.a.listen("enter").pipe(u.a.map((function(){var t=Object(o.pipe)(e.get(),f.g.filter(n.is));Object(g.f)(f.g.isSome(t),"Called Apply when view wasn't in edit mode");var a=f.g.unsafeGet(t);return Object(o.pipe)(y.ApplyChange.create(a.inputContent.get(),a.textRange,a.rect),f.b.fold((function(){return{type:y.Type.Close}}),(function(e){return e})))})))}}(C||(C={})),e.createManager=function(e,n,r){var c=s.a.create(f.g.none),l=new u.a.Subject,m=y.initMapFromState(e),h=y.initMapToView(l),g=y.initHandlers(e,n,r.closeLinks),b=v.d.Logging.getLogger("formattingLinksManager"),O=new d.a.Keeper;return O.push(e.dontFreezeWhen(c.view(f.g.exists((function(e){return e.visualState===t.EditingMode}))),"links"),r.formattingLinkState.pipe(u.a.debounce(Object(i.flow)(f.g.filter((function(e){return"selection"===e.source})),f.g.fold((function(){return 0}),(function(){return 200})),u.a.timer)),u.a.switchMap(f.g.fold((function(){return u.a.of(f.g.none)}),(function(e){return l.pipe(u.a.startWith(m(e)),u.a.switchMap((function(e){return u.a.mergeStatic(u.a.of(e),C.listenCloseHotkey(),e.type===y.Type.SwitchToEditMode?C.listenApplyHotkey(c):u.a.EMPTY)})),u.a.switchMap((function(e){return Object(o.pipe)(g(e),f.b.fold((function(e){return b.error("Error in formatting links",e),r.closeLinks.next(),u.a.EMPTY}),(function(){return a.is(e)?u.a.of(e):u.a.EMPTY})))})),u.a.map(h),u.a.map(f.g.some))}))),u.a.catchError((function(e){return b.error("Error in formatting links",e),u.a.EMPTY}))).subscribe(p.b.toAtom(c))),{visualState:c,dispose:function(){return O.dispose()}}}}(a||(a={}))},x4IX:function(e,t,n){e.exports=n.p+"files/a99245a221a8049c7592df0d6dc7ade5/grammarlyproductbeta1_8-bold.woff2"},xTTF:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return a}));var a,r=n("LzOy"),i=n("Wy1Y"),o=n("uKMM"),s=n("a5gI"),c=n("0Uv3"),l=n("+vYo"),u=n("xk6L"),d=n("yIk2"),p=n("TKPA"),m=function(){function e(t,n,a){var r=this;Object(i.a)(this,e),Object(s.a)(this,"_documentModel",void 0),Object(s.a)(this,"_events",void 0),Object(s.a)(this,"_plagiarismCapiClient",void 0),Object(s.a)(this,"_plagiarismCheckingState",void 0),Object(s.a)(this,"plagiarismCheckedInSession",void 0),Object(s.a)(this,"checkingState",void 0),Object(s.a)(this,"_subs",void 0),Object(s.a)(this,"_isEnabled",void 0),Object(s.a)(this,"_enable",void 0),Object(s.a)(this,"_disable",void 0),this._documentModel=t,this._events=n,this._plagiarismCapiClient=a,this._plagiarismCheckingState=this._documentModel.asyncChecksState.lens("plagiarism"),this.plagiarismCheckedInSession=this._plagiarismCheckingState.view((function(e){return"full"!==e})),this.checkingState=this._plagiarismCheckingState,this._subs=[],this._isEnabled=l.a.create(!1),this._enable=function(){r._plagiarismCheckingState.modify((function(e){return"idle"===e?"checking":e})),r._documentModel.extraSettings.checkedPlagiarism=!0,r._plagiarismCapiClient.enablePlagiarismSearch()},this._disable=function(){r._plagiarismCapiClient.disablePlagiarismSearch()},this._subs.push(this._isEnabled.pipe(u.a.switchMap(d.b.orEmpty(this._events.pipe(u.a.filter((function(e){return"session_started"===e.kind})))))).subscribe(this._enable))}return Object(o.a)(e,[{key:"enable",value:function(){var e=this;return this._isEnabled.set(!0),this._enable(),function(){e._isEnabled.set(!1),e._disable()}}},{key:"recheck",value:function(){var e=this;return Object(r.a)((function(){var t;return Object(c.c)(this,(function(n){switch(n.label){case 0:return(t=!e._isEnabled.get())&&e._enable(),[4,e._plagiarismCheckingState.pipe(u.a.filter((function(e){return"idle"===e})),u.a.first()).toPromise()];case 1:return n.sent(),t&&e._plagiarismCapiClient.disablePlagiarismSearch(),[2]}}))}))()}},{key:"dispose",value:function(){this._subs.forEach((function(e){return e.unsubscribe()}))}}]),e}();!function(e){e.Mock=function e(){Object(i.a)(this,e),Object(s.a)(this,"enable",(function(){return p.e})),Object(s.a)(this,"recheck",(function(){return new Promise(p.e)})),Object(s.a)(this,"dispose",p.e),Object(s.a)(this,"checkingState",l.a.create("idle")),Object(s.a)(this,"plagiarismCheckedInSession",l.a.create(!0))}}(a||(a={}))},xryS:function(e){e.exports=JSON.parse('{"sidebarHeader":"_1f1d41d9-sidebar-sidebarHeader","togglerWrapper":"_7d9b9794-sidebar-togglerWrapper","overviewBtn":"_8c97ba4b-sidebar-overviewBtn","fadeIn":"_7abd1fa7-sidebar-fadeIn","overviewBtnOggy":"_cebc0093-sidebar-overviewBtnOggy","hideAssistantIcon":"_eed1f11f-sidebar-hideAssistantIcon","hideAssistantText":"_117e4658-sidebar-hideAssistantText","hideAssistantOutcomeText":"_5115a966-sidebar-hideAssistantOutcomeText","hideAssistantIconStatic":"_c8b21400-sidebar-hideAssistantIconStatic"}')},xsvI:function(e){e.exports=JSON.parse('{"uploadContainer":"_630bf5cf-upload-uploadContainer","upload":"_2c13a91d-upload-upload"}')},y9id:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("8O/t"),i=n("X76w"),o=n("+vYo"),s=n("xk6L"),c=n("yIk2"),l=n("osAs"),u=n("mEGS"),d=n("Nsc4");!function(e){var t=e.defaultState={alerts:u.a.empty,lenses:d.a.monoid.empty};e.get=(e,a,r)=>a.pipe(s.a.startWith(new Map),s.a.combineLatest(e.pipe(s.a.startWith(u.a.empty),s.a.scan((e,t)=>n(t,r.lensFilters)(e),t)),p)),e.getMock=(e,t)=>{const n=o.a.create(a.defaultState);return a.get(e,t,l.a.create(l.a.defaultLensFilters,l.a.defaultTextFilters)).subscribe(c.b.toAtom(n)),n};const n=(e,t)=>n=>{const a=u.a.Diff.toRegistered(u.a.diff(n.alerts,e));return{alerts:e,lenses:d.a.applyDiff(t)(a)(n.lenses)}},p=(e,t)=>Object(i.a)(Object(r.a)({},t),{lenses:d.a.updatePercentiles(e)(t.lenses)})}(a||(a={}))},yDh2:function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return M}));var a=n("8O/t"),r=n("hcme"),i=n("B8yO"),o=n("h+lq"),s=n("DTwm"),c=n("tiWp"),l=n("4GyQ"),u=n("NDcT"),d=n("fC5a"),p=n("ySi0"),m=n("wuWi"),f=n("PYgo"),h=n("ZDrO"),g=n("7IMz"),b=n("itj6"),v=n("JRBS"),y=n("mgiE"),O=n("TKPA"),S=n("M3t0"),C=n("Pkcy"),w=function(e){var t=e.title,n=e.className;return i.createElement("div",Object(a.a)({className:n},h.d.setInnerHTML(t.toLowerCase(),{allowedTags:["i","b"]})))},k=function(e){var t=e.title,n=e.explanation;return i.createElement("div",null,i.createElement(w,{className:C.a.bigTitle,title:t}),i.createElement("div",Object(a.a)({className:C.a.explanation},h.d.setInnerHTML(n,{allowedTags:["i","b"]}))))},E=function(e){var t=e.alert,n=e.hydrate,a=e.onApply,r=e.onAddToDictionary,o=e.onIgnore,l=e.onOpen,m=e.onMount,f=i.useContext(u.a.Context).inlineCard,h=function(e){return/Unknown/.test(e.patternName)};return g.a.useEffectOnDidMount(m),i.createElement("div",{className:C.a.card},Object(c.pipe)(t.getTransform(),y.g.chain(Object(s.flow)(n,y.b.fold((function(e){return S.d.Logging.getLogger("InlineCard.hydration").error("Failed to hydrate an inline card",e.error,{alertId:t.id}),y.g.none}),y.g.some))),y.g.fold((function(){return!h(t)&&i.createElement(k,{title:t.title,explanation:t.explanation})}),(function(e){return i.createElement(v.d,{key:"replacementsLabels",replacementsLabels:e,onClick:a,header:(n=t,r=e.tooltipText,/Unknown/.test(n.patternName)?"Unknown word":/Misspelled\/General/.test(n.patternName)?"":/Correctness\/FullSentence\/Fusion\/Rewrite/.test(n.patternName)?n.miniCardTitle:r),customStyle:C.a,a11yContrast:!0,beta:t.extraProperties.isBeta});var n,r}))),i.createElement(d.a.Group,{align:"vertical"},t.extraProperties.hasAddToDictionary&&i.createElement(d.a.Ghost,{name:"add-to-dictionary",textPosition:"right",className:h(t)?C.a.footerButtonBig:C.a.footerButtonShort,onClick:r},h(t)&&i.createElement(w,{className:C.a.unknownWordTitle,title:t.title}),i.createElement(p.d.Dict,null),f.addToDictionary),i.createElement(d.a.Ghost,{name:"dismiss",className:C.a.footerButtonShort,onClick:o},i.createElement(p.d.Ignore,null),f.dismiss),i.createElement(d.a.Ghost,{name:"see_more",className:C.a.footerButtonShort,onClick:l},i.createElement(p.d.Expand,null),f.seeMore)),i.createElement(j,{alert:t}))},j=function(e){var t=e.alert;return Object(c.pipe)(t.extraProperties.freePremium,y.g.contains("unlocked"))?i.createElement(x,null):Object(c.pipe)(t.extraProperties.premiumYellowFooterVariant,y.g.isSome)?Object(c.pipe)(t.extraProperties.premiumYellowFooterVariant,y.g.fold((function(){return null}),(function(e){return i.createElement(_,{variant:e})}))):i.createElement("div",{className:C.a.emptyCardFooter})},_=function(e){var t=e.variant,n=i.useContext(u.a.Context).premiumFooter;return i.createElement(A,null,n[t])},x=function(){var e=i.useContext(u.a.Context).freePremiumAlertFooter,t=e.beforeIcon,n=e.afterIcon;return i.createElement(A,null,t," ",n)},A=function(e){var t=e.children;return i.createElement(m.l,{className:C.a.premiumCardFooter},i.createElement(p.d.PaidLink,{width:18}),t)},I=function(e){var t=i.useRef(null),n=Object(r.a)(i.useState(!1),2),o=n[0],s=n[1];g.a.useEffectOnDidMount((function(){var e=t.current;e&&e.firstElementChild&&e.firstElementChild.clientWidth>=288&&s(!0)}));var c=e.alert,u=e.hydrate,d=e.onApply,p=e.onIgnore,m=e.onAddToDictionary,f=e.onOpen,h=e.onMount;return i.createElement("div",Object(a.a)({role:"presentation",onClick:function(e){return e.stopPropagation()},key:c.id,ref:function(e){return t.current=e}},Object(l.c)(o&&C.a.maxWidthReached)),i.createElement(E,{alert:c,hydrate:u,onApply:d,onIgnore:p,onAddToDictionary:m,onOpen:f,onMount:h}))},T=function(e){var t=e.alert,n=e.events,a=e.highlightIndex,r=e.hydrate,o=function(e){return function(){n.next(e),n.next({type:f.b.Type.closed})}};return i.createElement(I,{alert:t,hydrate:r,onAddToDictionary:o({type:f.b.Type.addedToDictionary,alertId:t.id}),onApply:function(e){return o({type:f.b.Type.applied,alertId:t.id,alternativeIndex:e})},onIgnore:o({type:f.b.Type.ignored,alertId:t.id}),onOpen:o({type:f.b.Type.opened,alert:{alert:t,highlightIndex:a}}),onMount:o({type:f.b.Type.looked,alertId:t.id})})},M=function(e){var t=e.item,n=e.highlightIndex,a=e.viewModel,r=e.events,s=e.designSystem;return i.createElement("div",{className:C.a.sduiCard},i.createElement(o.a,{key:t.id,sduiRootId:t.id,content:t.content,designSystem:s,notify:function(e,i,o){a.handleSDUIAction({type:b.b.Type.sduiCardAction,sourceId:e,cardId:t.id,actions:i,scope:o},n),r.next({type:f.b.Type.closed})},transitions:[],prevContent:y.g.none,onAnimationEnd:O.e,onMount:function(){return r.next({type:f.b.Type.looked,alertId:t.alertIds[0]})}}))}},yIt4:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n("B8yO"),r=n("2zNz"),i=n("fC5a"),o=n("wuWi"),s=n("4GyQ"),c=n("ySi0"),l=n("nWMp"),u={marginRight:l.a.rem(.5),width:l.a.rem(2)},d=l.a.stylesheet({base:[{display:"flex",alignItems:"center"}],icon:[u]}),p=function(e){var t=e.className;return a.createElement("div",Object(s.c)(d.base,t),a.createElement(c.d.Grammarly,{className:d.icon}),a.createElement("svg",{"aria-hidden":!0,width:"99",height:"18",viewBox:"0 0 99 18"},a.createElement("g",{fill:"#4C4C4C",fillRule:"evenodd"},a.createElement("path",{d:"M2 17.16c-.5-.2-.84-.6-.84-1.16 0-.67.55-1.23 1.22-1.23.2 0 .36.04.5.1.86.4 1.8.63 2.92.63 2.05 0 3.02-.98 3.02-2.88v-.5c-.9 1.05-1.86 1.7-3.46 1.7-2.47 0-4.7-1.8-4.7-4.93v-.05c0-3.16 2.27-4.93 4.7-4.93 1.64 0 2.6.7 3.42 1.58v-.02c0-.8.67-1.48 1.5-1.48s1.5.67 1.5 1.5v6.8c0 1.9-.46 3.28-1.35 4.17-.98 1-2.5 1.42-4.55 1.42-1.4 0-2.63-.25-3.87-.74zM8.83 8.9v-.05c0-1.44-1.13-2.45-2.6-2.45-1.45 0-2.56 1-2.56 2.45v.04c0 1.45 1.1 2.44 2.57 2.44 1.46 0 2.6-1 2.6-2.45zM13.47 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.47C16.9 4.94 17.62 4 18.5 4c.94 0 1.47.6 1.47 1.46 0 .8-.52 1.26-1.13 1.4-1.52.35-2.37 1.52-2.37 3.65v2.8c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M19.6 11.65v-.03c0-2.3 1.77-3.38 4.28-3.38 1.06 0 1.83.18 2.58.43V8.5c0-1.25-.77-1.94-2.27-1.94-.84 0-1.5.12-2.08.3-.18.06-.3.08-.43.08-.7 0-1.26-.54-1.26-1.23 0-.52.34-.97.8-1.15.96-.36 1.98-.55 3.4-.55 1.62 0 2.8.43 3.56 1.18.8.8 1.14 1.96 1.14 3.38v4.8c0 .82-.65 1.45-1.46 1.45-.87 0-1.44-.6-1.44-1.23v-.02c-.73.8-1.73 1.34-3.2 1.34-2 0-3.63-1.15-3.63-3.25zm6.9-.7v-.52c-.5-.24-1.18-.4-1.9-.4-1.3 0-2.1.52-2.1 1.47v.04c0 .8.7 1.28 1.65 1.28 1.4 0 2.35-.77 2.35-1.86zM30.94 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.12c.7-.9 1.6-1.7 3.12-1.7 1.38 0 2.43.6 2.98 1.68.93-1.1 2.03-1.68 3.47-1.68 2.25 0 3.6 1.34 3.6 3.9v5.5c0 .82-.68 1.5-1.5 1.5-.84 0-1.5-.68-1.5-1.5V8.78c0-1.43-.64-2.16-1.77-2.16-1.12 0-1.8.73-1.8 2.15v4.5c0 .84-.7 1.5-1.52 1.5-.8 0-1.5-.66-1.5-1.5V8.8c0-1.43-.62-2.16-1.74-2.16-1.13 0-1.82.73-1.82 2.15v4.5c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M48.7 5.5c0-.83.68-1.5 1.5-1.5.84 0 1.5.67 1.5 1.5v.12c.7-.9 1.6-1.7 3.13-1.7 1.38 0 2.42.6 2.98 1.68.93-1.1 2.04-1.68 3.48-1.68 2.23 0 3.57 1.34 3.57 3.9v5.5c0 .82-.67 1.5-1.5 1.5s-1.5-.68-1.5-1.5V8.78c0-1.43-.63-2.16-1.75-2.16-1.13 0-1.82.73-1.82 2.15v4.5c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V8.8c0-1.43-.63-2.16-1.76-2.16-1.12 0-1.8.73-1.8 2.15v4.5c0 .84-.68 1.5-1.5 1.5-.84 0-1.5-.66-1.5-1.5V5.5M65.84 11.65v-.03c0-2.3 1.76-3.38 4.26-3.38 1.07 0 1.84.18 2.6.43V8.5c0-1.25-.78-1.94-2.28-1.94-.83 0-1.5.12-2.07.3-.18.06-.3.08-.44.08-.68 0-1.23-.54-1.23-1.23 0-.52.33-.97.8-1.15.96-.36 1.98-.55 3.38-.55 1.64 0 2.83.43 3.58 1.18.8.8 1.14 1.96 1.14 3.38v4.8c0 .82-.65 1.45-1.46 1.45-.86 0-1.43-.6-1.43-1.23v-.02c-.73.8-1.74 1.34-3.2 1.34-2 0-3.63-1.15-3.63-3.25zm6.9-.7v-.52c-.52-.24-1.2-.4-1.93-.4-1.27 0-2.06.52-2.06 1.47v.04c0 .8.67 1.28 1.64 1.28 1.4 0 2.35-.77 2.35-1.86zM77.17 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.47C80.6 4.94 81.3 4 82.2 4c.93 0 1.46.6 1.46 1.46 0 .8-.5 1.26-1.12 1.4-1.52.35-2.37 1.52-2.37 3.65v2.8c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M84.57 1.67c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V13.3c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V1.68M89.96 17.63c-.43-.15-.95-.5-.95-1.24s.58-1.23 1.2-1.23c.23 0 .37.04.5.08.25.08.4.12.62.12.53 0 .8-.1 1.07-.64l.1-.23-3.63-8.37c-.07-.2-.15-.5-.15-.7 0-.84.65-1.43 1.48-1.43.75 0 1.18.4 1.44 1.12l2.3 6.16 2.2-6.14C96.37 4.5 96.8 4 97.58 4c.77 0 1.42.6 1.42 1.38 0 .24-.08.57-.14.7l-3.7 8.87c-.88 2.15-1.77 2.96-3.56 2.96-.67 0-1.15-.1-1.64-.27"}))))},m=n("2swC"),f=l.a.style({display:"flex",flexDirection:"column",width:"100vw",height:"100vh",background:m.a.CoreNeutral1,justifyContent:"center",alignItems:"center"}),h=l.a.style({position:"absolute",top:l.a.rem(1.875),left:l.a.rem(2.5)}),g=l.a.style({position:"absolute",top:l.a.rem(1.875),left:l.a.rem(2.5),width:l.a.rem(10),height:l.a.rem(2)}),b=l.a.style({marginTop:l.a.rem(4.25),letterSpacing:"-.8px",fontSize:l.a.rem(2.625),lineHeight:l.a.rem(3.5)}),v=l.a.style({textAlign:"center",marginTop:l.a.rem(1),color:m.a.CoreNeutral50}),y=l.a.style({$nest:{"&[data-textpos='everywhere']":{marginTop:l.a.rem(2.25),padding:"0 ".concat(l.a.rem(2.5)),textTransform:"initial",letterSpacing:0,fontSize:l.a.rem(1),lineHeight:l.a.rem(3.125)}}}),O=l.a.style({marginTop:l.a.rem(1)}),S=function(e){var t=e.name,n=e.illustration,s=e.title,c=e.description,l=e.isRefreshLogo,u=e.primaryButton,d=e.secondaryButton;return a.createElement("div",{"data-name":t,className:f},l?a.createElement(r.e,{className:g,icon:r.A,accessibilityLabel:"Go to My Grammarly"}):a.createElement(p,{className:h}),n,a.createElement(o.c,{className:b},s),a.createElement(o.j,{className:v},c),a.createElement(i.a.Primary,{name:"primary-button",className:y,onClick:u.onClick},u.title),d&&a.createElement(i.a.Ghost,{className:O,name:"secondary-button",onClick:d.onClick},d.title))}},yMgh:function(e){e.exports=JSON.parse('{"header1":"_4a288e2d-formatting-toolbar-header1","header2":"_904f6433-formatting-toolbar-header2","header3":"_bd2149d3-formatting-toolbar-header3","header3legacy":"_d7558304-formatting-toolbar-header3legacy","button":"_8eaf26b5-formatting-toolbar-button","header4":"_498bfbff-formatting-toolbar-header4","paper":"_da5102c1-formatting-toolbar-paper","base":"_c3448e07-formatting-toolbar-base","small":"_c009b2eb-formatting-toolbar-small","smallLight":"_2db727d5-formatting-toolbar-smallLight","score":"_c0003bcb-formatting-toolbar-score","lawyer":"_4af8e28d-formatting-toolbar-lawyer","title":"_92533f7f-formatting-toolbar-title","p1":"_42af1dc0-formatting-toolbar-p1","header5":"_0cdb7ce1-formatting-toolbar-header5","wrapper":"_983d53b0-formatting-toolbar-wrapper","toolbarBtn":"_b6bf19bd-formatting-toolbar-toolbarBtn","panel":"_dfdcacb3-formatting-toolbar-panel","panelAnimateIn":"_666c5e1f-formatting-toolbar-panelAnimateIn","growIn":"_9798b8e4-formatting-toolbar-growIn","item":"_8bbcd63e-formatting-toolbar-item","separator":"_fd8a9183-formatting-toolbar-separator","panelHorizontal":"_6cd9fea9-formatting-toolbar-panelHorizontal","verticalSeparator":"_a6657dff-formatting-toolbar-verticalSeparator","verticalSeparatorA11yContrast":"_0604c393-formatting-toolbar-verticalSeparatorA11yContrast","itemMini":"_f1c80523-formatting-toolbar-itemMini _8bbcd63e-formatting-toolbar-item","itemMiniA11yContrast":"_5e72478e-formatting-toolbar-itemMiniA11yContrast _8bbcd63e-formatting-toolbar-item","iconMini":"_e1edbba1-formatting-toolbar-iconMini","iconA11yContrast":"_71dcc9c6-formatting-toolbar-iconA11yContrast","tooltip":"_642a89aa-formatting-toolbar-tooltip","label":"_87e57eee-formatting-toolbar-label","hotkeyLabel":"_149f8a5d-formatting-toolbar-hotkeyLabel","bold":"_81ab552d-formatting-toolbar-bold","italic":"_2f2a5db0-formatting-toolbar-italic","underline":"_dba0a4bc-formatting-toolbar-underline","h1":"_e743e53e-formatting-toolbar-h1 _bd2149d3-formatting-toolbar-header3","h2":"_cb468ed0-formatting-toolbar-h2 _498bfbff-formatting-toolbar-header4","link":"_e91f7f84-formatting-toolbar-link"}')},yOW0:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("B8yO"),r=n("OwvP"),i=n("4GyQ"),o=n("111I"),s=n("ySi0"),c=n("VHh6");const l=(e,t)=>o.b.Grid.make(({slots:n})=>a.createElement(r.a.div,Object(i.c)(c.a.wrapper,e),a.createElement(s.d.UpgradeHookPanel.TitleDiamond,{className:t}),n.body))},yRey:function(e,t,n){"use strict";n.r(t),n.d(t,"literal",(function(){return o})),n.d(t,"string",(function(){return s})),n.d(t,"number",(function(){return c})),n.d(t,"boolean",(function(){return l})),n.d(t,"UnknownArray",(function(){return u})),n.d(t,"UnknownRecord",(function(){return d})),n.d(t,"refine",(function(){return p})),n.d(t,"nullable",(function(){return m})),n.d(t,"struct",(function(){return f})),n.d(t,"type",(function(){return h})),n.d(t,"partial",(function(){return g})),n.d(t,"array",(function(){return b})),n.d(t,"record",(function(){return v})),n.d(t,"tuple",(function(){return y})),n.d(t,"intersect",(function(){return O})),n.d(t,"union",(function(){return S})),n.d(t,"sum",(function(){return C})),n.d(t,"lazy",(function(){return w})),n.d(t,"readonly",(function(){return k})),n.d(t,"alt",(function(){return E})),n.d(t,"zero",(function(){return j})),n.d(t,"compose",(function(){return _})),n.d(t,"id",(function(){return x})),n.d(t,"URI",(function(){return A})),n.d(t,"Schemable",(function(){return I})),n.d(t,"WithUnknownContainers",(function(){return T})),n.d(t,"WithUnion",(function(){return M})),n.d(t,"WithRefine",(function(){return P}));var a=n("DTwm"),r=n("tiWp"),i=n("j8jx"),o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{is:function(t){return-1!==e.findIndex((function(e){return e===t}))}}},s={is:function(e){return"string"==typeof e}},c={is:function(e){return"number"==typeof e&&!isNaN(e)}},l={is:function(e){return"boolean"==typeof e}},u={is:Array.isArray},d={is:function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}},p=function(e){return function(t){return{is:function(n){return t.is(n)&&e(n)}}}},m=function(e){return{is:function(t){return null===t||e.is(t)}}},f=function(e){return Object(r.pipe)(d,p((function(t){for(var n in e)if(!(n in t)||!e[n].is(t[n]))return!1;return!0})))},h=f,g=function(e){return Object(r.pipe)(d,p((function(t){for(var n in e){var a=t[n];if(void 0!==a&&!e[n].is(a))return!1}return!0})))},b=function(e){return Object(r.pipe)(u,p((function(t){return t.every(e.is)})))},v=function(e){return Object(r.pipe)(d,p((function(t){for(var n in t)if(!e.is(t[n]))return!1;return!0})))},y=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{is:function(t){return Array.isArray(t)&&t.length===e.length&&e.every((function(e,n){return e.is(t[n])}))}}},O=function(e){return function(t){return{is:function(n){return t.is(n)&&e.is(n)}}}},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{is:function(t){return e.some((function(e){return e.is(t)}))}}},C=function(e){return function(t){return Object(r.pipe)(d,p((function(n){var a=n[e];return a in t&&t[a].is(n)})))}},w=function(e){var t=Object(i.b)(e);return{is:function(e){return t().is(e)}}},k=a.identity,E=function(e){return function(t){return{is:function(n){return t.is(n)||e().is(n)}}}},j=function(){return{is:function(e){return!1}}},_=function(e){return function(t){return{is:function(n){return t.is(n)&&e.is(n)}}}},x=function(){return{is:function(e){return!0}}},A="io-ts/Guard",I={URI:A,literal:o,string:s,number:c,boolean:l,nullable:m,type:h,struct:f,partial:g,record:v,array:b,tuple:y,intersect:O,sum:C,lazy:function(e,t){return w(t)},readonly:k},T={UnknownArray:u,UnknownRecord:d},M={union:S},P={refine:p}},ycnv:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return b}));var a,r,i=n("Wy1Y"),o=n("uKMM"),s=n("a5gI"),c=n("8O/t"),l=n("X76w"),u=n("wvT7"),d=n("DTwm"),p=n("tiWp"),m=n("kmWx"),f=n("mgiE"),h=n("TKPA"),g=n("RRF2");!function(e){e.Monthly="Monthly",e.Quarterly="Quarterly",e.Annual="Annual"}(a||(a={})),function(e){var t=function(e,t){return{pricePerYear:{value:e-t.value,currency:t.currency},percent:"".concat(Math.round(100*(e-t.value)/e),"%")}},n=f.a.reduce({annual:f.g.none,quarterly:f.g.none,monthly:f.g.none},(function(e,t){switch(t.periodMonths){case 1:return Object(l.a)(Object(c.a)({},e),{monthly:f.g.some(t)});case 3:return Object(l.a)(Object(c.a)({},e),{quarterly:f.g.some(t)});case 12:return Object(l.a)(Object(c.a)({},e),{annual:f.g.some(t)});default:return e}}));e.createOfferBasedOnAnnual=Object(d.flow)(n,Object(u.a)(f.g.Applicative),f.g.map((function(e){var n=e.annual,a=e.quarterly,r=e.monthly;return{price:n.priceMoney,regularPrice:n.regularPriceMoney,discountPercent:"0%",periodInMonths:12,title:"Annual",savePricedBySwitchingFrom:{monthly:t(12*r.priceMoney.value,n.priceMoney),quarterly:t(4*a.priceMoney.value,n.priceMoney)}}})))}(r||(r={}));var b=function(){function e(t,n,a,r,o,c,l){var u=this;Object(i.a)(this,e),Object(s.a)(this,"offer",void 0),Object(s.a)(this,"currentPlan",void 0),Object(s.a)(this,"nextPaymentDate",void 0),Object(s.a)(this,"_isCancelled",void 0),Object(s.a)(this,"_isOnTrial",void 0),Object(s.a)(this,"_queuedPlan",void 0),Object(s.a)(this,"_subscriptionOps",void 0),Object(s.a)(this,"_renew",void 0),Object(s.a)(this,"_getPlans",void 0),Object(s.a)(this,"_changePlan",void 0),Object(s.a)(this,"_extractAnnualPlan",void 0),Object(s.a)(this,"changePlan",void 0),this.offer=t,this.currentPlan=n,this.nextPaymentDate=a,this._isCancelled=r,this._isOnTrial=o,this._queuedPlan=c,this._subscriptionOps=l,this._renew=function(e){return f.l.tryCatch((function(){return!0===e?u._subscriptionOps.renew():Promise.resolve()}),(function(e){return{reason:"Renew failed",originalError:e}}))},this._getPlans=function(){return f.l.tryCatch((function(){return u._subscriptionOps.getPlans()}),(function(e){return{reason:"Could not get plans",originalError:e}}))},this._changePlan=function(e){return f.l.tryCatch((function(){return u._subscriptionOps.changePlan(e)}),(function(e){return{reason:"Changing plan failed",originalError:e}}))},this._extractAnnualPlan=Object(d.flow)(f.a.findFirst((function(e){return 12===e.periodMonths})),f.b.fromOption((function(){return{reason:"Expectation failed, we did not receive the annual plan"}})),f.b.filterOrElse((function(e){return m.a.eq.equals(e.priceMoney,u.offer.price)}),(function(){return{reason:"Expectation failed, we did not receive the annual plan with offered price"}})),f.b.map((function(e){return e.id})),f.l.fromEither),this.changePlan=Object(p.pipe)(this._renew(this._isCancelled),f.l.chain(this._getPlans),f.l.chain(this._extractAnnualPlan),f.l.chain(this._changePlan)),Object(h.r)("changePlanHookShowOffer",(function(){return e.enableDebugModeToShowOffer=!0}))}return Object(o.a)(e,[{key:"isMonthly",get:function(){return 1===this.currentPlan.periodMonths}},{key:"isQuarterly",get:function(){return 3===this.currentPlan.periodMonths}},{key:"savedPrice",get:function(){return this.isMonthly?this.offer.savePricedBySwitchingFrom.monthly:this.offer.savePricedBySwitchingFrom.quarterly}},{key:"currentPlanType",get:function(){return this.isMonthly?a.Monthly:this.isQuarterly?a.Quarterly:a.Annual}},{key:"daysToRenewal",get:function(){var e=this.nextPaymentDate.getTime(),t=g.d.Local.now().getTime();return Math.floor(Math.max(0,e-t)/g.d.MS_IN_DAY)}},{key:"shouldShowOffer",get:function(){return!!e.enableDebugModeToShowOffer||this.willSubscriptionRenewSoon&&!this.hasAlreadyChangedToAnnual&&!this._isOnTrial}},{key:"hasAlreadyChangedToAnnual",get:function(){return Object(p.pipe)(this._queuedPlan,f.g.exists((function(e){return 12===e.periodMonths})))}},{key:"willSubscriptionRenewSoon",get:function(){var e=this.daysToRenewal<2*g.d.DAYS_IN_WEEK;return(this.isMonthly||this.isQuarterly)&&e}}],[{key:"create",value:function(t,n){var a=t.currentPlan,i=t.queuedPlan,o=t.nextPayDate,s=t.expirationDate,c=t.isCancelled,l=t.plans,u=t.isOnTrial;if(!Boolean(a))return f.b.left("Cannot load plans for change plan when user is freemium");if(!o&&!s)return f.b.left("Cannot change plan when nextPayDate and expirationDate are null");var d={renew:function(){return n.renew()},changePlan:function(e){return n.changePlan(e)},getPlans:function(){return n.getPlans()}},m=r.createOfferBasedOnAnnual(l);return Object(p.pipe)(m,f.b.fromOption((function(){return"Cannot create offer, plans are incomplete, monthly or quarterly or annual are not presented in subscription status"})),f.b.map((function(t){return new e(t,a,new Date(null!=o?o:s),null!=c&&c,null!=u&&u,f.g.fromNullable(i),d)})))}}]),e}();Object(s.a)(b,"enableDebugModeToShowOffer",!1)},ygWn:function(e,t,n){e.exports=n.p+"files/b6cb5f7a8f36dd2ce986bdf8c4cd48d4/grammarlyproductbeta1_8-medium.woff2"},yiiS:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z}));var a,r=n("jSIJ"),i=n("CcDN"),o=n("a5gI"),s=n("8O/t"),c=n("X76w"),l=n("2zNz"),u=n("nWMp"),d=n("fB2g"),p=n("TKPA"),m=n("2swC"),f=m.a.CoreGreen10,h=l.D.Color.NeutralGray10;!function(e){e.markHeightStandard="".concat("alerts1-","markHeightStandard"),e.markHeightTall="".concat("alerts1-","markHeightTall"),e.markSelected="".concat("alerts1-","markSelected"),e.markSelectedFocused="".concat("alerts1-","markSelectedFocused"),e.markBase="".concat("alerts1-","markBase"),e.markAppliedBase="".concat("alerts1-","markAppliedBase"),e.markVisible="".concat("alerts1-","markVisible"),e.markStart="".concat("alerts1-","markStart"),e.correctness="".concat("alerts1-","correctness"),e.premium="".concat("alerts1-","premium"),e.clarity="".concat("alerts1-","clarity"),e.engagement="".concat("alerts1-","engagement"),e.delivery="".concat("alerts1-","delivery"),e.critical="".concat("alerts1-","critical"),e.advanced="".concat("alerts1-","advanced"),e.plagiarism="".concat("alerts1-","plagiarism"),e.originality="".concat("alerts1-","originality"),e.vox="".concat("alerts1-","vox"),e.knowledgeHub="".concat("alerts1-","knowledgeHub"),e.synonym="".concat("alerts1-","synonym"),e.markAnimated="".concat("alerts1-","markAnimated"),e.markHidden="".concat("alerts1-","markHidden"),e.markApplied="".concat("alerts1-","markApplied"),e.markBulkApplied="".concat("alerts1-","markBulkApplied"),e.markBulkAppliedAnimation="".concat("alerts1-","markBulkAppliedAnimation"),e.markSuccess="".concat("alerts1-","markSuccess"),e.noAnimation="".concat("alerts1-","noAnimation"),e.markVBar="".concat("alerts1-","markVBar"),e.markVBarHighlighted="".concat("alerts1-","markVBarHighlighted"),e.markWritingExpert="".concat("alerts1-","writingExpert"),e.markWritingExpertHighlighted="".concat("alerts1-","markWritingExpertHighlighted")}(a||(a={}));var g,b,v="".concat("alerts1-","custom"),y={backgroundPosition:"center calc(100% + ".concat("2px",")"),backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{borderBottomWidth:"0 !important"}}},O={$nest:{"@media print":{borderBottomWidth:"3 !important"}}},S=u.a.keyframes({from:{backgroundSize:"100% 0"},to:{backgroundSize:"100% 12%"}}),C={standard:"calc(".concat(u.a.rem(.45)," - 3px)"),tall:"calc(".concat(u.a.rem(.425)," + 1px)")},w=function(e){return{to:{backgroundColor:e}}},k=function(e,t,n,r,i){var l;return Object(c.a)(Object(s.a)({$unique:!0},y),{paddingBottom:"1px",borderBottom:"".concat("2px"," ").concat(i," ").concat(t),transition:"border-bottom-color .5s linear",$nest:Object(c.a)(Object(s.a)({},y.$nest),{"&[data-vertical-underline-start]:before":{borderColor:n,color:n},"& > [data-vertical-underline-body]:after":{borderColor:n},"& > [data-vertical-underline-index]":{color:n},"&[data-superscript]":{padding:0,border:"none",color:n,transition:"none"},"&:not([data-superscript])":{$nest:(l={},Object(o.a)(l,"&.".concat(a.markSelected,".").concat(a.markHeightStandard),{paddingTop:C.standard}),Object(o.a)(l,"&.".concat(a.markSelected,".").concat(a.markHeightTall),{paddingTop:C.tall}),Object(o.a)(l,"&.".concat(a.markSelected),{$unique:!0,borderBottomColor:r,animation:"".concat(e," 1s ease forwards")}),Object(o.a)(l,"&.".concat(a.markSelectedFocused),{$unique:!0,borderBottomColor:n}),Object(o.a)(l,"&.".concat(a.markSelected," .").concat(a.markBase,":not(.").concat(a.markSelected,"):not(.").concat(a.markWritingExpert,")"),{paddingBottom:"calc(".concat("2px"," + ").concat("1px",")"),borderBottomStyle:"hidden"}),Object(o.a)(l,"&.".concat(a.markSelectedFocused," .").concat(a.markBase,":not(.").concat(a.markSelected,"):not(.").concat(a.markWritingExpert,")"),{paddingBottom:"calc(".concat("2px"," + ").concat("1px",")"),borderBottomStyle:"hidden"}),l)}})})},E=u.a.keyframes(w(m.a.CoreRed10)),j=u.a.keyframes(w(m.a.CoreYellow10)),_=u.a.keyframes(w(m.a.CoreCyan10)),x=u.a.keyframes(w(m.a.CorePurple10)),A=u.a.keyframes(w(m.a.CoreNeutral10)),I=u.a.keyframes(w(m.a.CoreNeutral10)),T=u.a.keyframes(w(m.a.CoreBlue10)),M=u.a.keyframes(w(m.a.CoreRed10)),P=u.a.keyframes(w(m.a.CoreYellow10)),N=u.a.keyframes(w(m.a.CoreBlue10)),D=u.a.keyframes(w(m.a.CoreGreen10)),B=u.a.keyframes(w(m.a.CorePurple10)),L=u.a.keyframes(w(m.a.CoreGreen10)),F=u.a.keyframes(w(h)),R=function(e){var t,n=u.a.color(f).fade(e).toRGBA().toString();return{borderBottomColor:n,backgroundColor:n,$nest:(t={},Object(o.a)(t,"&.".concat(a.markHeightStandard),{paddingTop:C.standard}),Object(o.a)(t,"&.".concat(a.markHeightTall),{paddingTop:C.tall}),t)}},H=function(e){return{borderBottomColor:"transparent",backgroundColor:u.a.color(f).fade(e).toRGBA().toString()}},V=u.a.keyframes({from:R("100%"),to:R("50%")}),U={borderBottomWidth:"2px",borderBottomColor:"".concat(m.a.CoreNeutral40),borderBottomStyle:"dotted",backgroundColor:"transparent"},W=u.a.keyframes({to:Object(s.a)({},R("0%"),U)}),z=u.a.keyframes({from:H("100%"),to:H("50%")}),G={$nest:(g={},Object(o.a)(g,"&.".concat(a.markHeightStandard),{paddingTop:C.standard}),Object(o.a)(g,"&.".concat(a.markHeightTall),{paddingTop:C.tall}),Object(o.a)(g,"&:not(.".concat(a.markSelected,"):not(.").concat(a.markSelectedFocused,")"),{$nest:Object(o.a)({},"&.".concat(a.clarity," &.").concat(a.clarity),{borderBottomStyle:"solid",borderBottomColor:m.a.CoreBlue50})}),Object(o.a)(g,"&.".concat(a.correctness,", &.").concat(a.markSelected,", &.").concat(a.markSelectedFocused),{$nest:Object(o.a)({},".".concat(a.markVisible,":not(.").concat(a.markSelected,"):not(.").concat(a.markSelectedFocused,").").concat(a.clarity," .").concat(a.markVisible,":not(.").concat(a.markSelected,"):not(.").concat(a.markSelectedFocused,").").concat(a.clarity),{})}),Object(o.a)(g,"&.".concat(a.clarity),{$nest:Object(o.a)({},"& & &:not(.".concat(a.markSelected,"):not(.").concat(a.markSelectedFocused,")"),{borderBottomStyle:"hidden !important"})}),g)},q={borderBottom:"0 solid transparent !important",background:"none",animation:"none"},K={position:"relative",$nest:(b={},Object(o.a)(b,"& > .".concat(a.markVisible,":not(.").concat(a.markSelected,"):not(.").concat(a.markSelectedFocused,")"),{borderBottomStyle:u.a.important("hidden")}),Object(o.a)(b,"&:after",{content:'"  "',position:"absolute",height:0,bottom:u.a.rem(-.15),right:u.a.rem(-.875),width:u.a.rem(.75),borderBottom:"".concat(u.a.rem(.175)," dotted ").concat(l.D.Color.Green60)}),b)},$=Object(p.l)((function(){return{custom:function(e,t){var n=u.a.color(e).fade(.25).toRGBA().toString(),r=u.a.keyframes(w(n));return[v,a.markBase,u.a.style(k(r,t,t,n,"solid")),d.a.style(k(r,t,t,n,"solid"),O)].join(" ")},markWritingExpert:[a.markWritingExpert,a.markBase,u.a.style(k(F,l.D.Color.Green60,l.D.Color.Green60,l.D.Color.BlueGray5,"solid"),K),d.a.style(k(F,l.D.Color.Green60,l.D.Color.Green60,l.D.Color.Green10,"solid"),K,O)].join(" "),markWritingExpertHighlighted:[a.markWritingExpertHighlighted,u.a.style(k(F,"transparent","transparent",h,"solid"))].join(" "),markBase:[a.markBase,u.a.style(y),d.a.style(y,{$nest:{"@media print":{borderBottomWidth:"3 !important"}}})].join(" "),markAppliedBase:[a.markAppliedBase,a.markBase,u.a.style({paddingBottom:"".concat("1px"),borderBottom:"".concat("2px"," solid ").concat(f)})].join(" "),correctness:[a.correctness,a.markBase,u.a.style(k(M,m.a.CoreRed50,m.a.CoreRed50,m.a.CoreRed10,"solid")),d.a.style(k(M,m.a.CoreRed50,m.a.CoreRed50,m.a.CoreRed10,"solid"),O)].join(" "),premium:[a.premium,a.markBase,u.a.style(k(P,m.a.CoreYellow40,m.a.CoreYellow40,m.a.CoreYellow10,"dashed")),d.a.style(k(P,m.a.CoreYellow40,m.a.CoreYellow40,m.a.CoreYellow10,"dashed"),O)].join(" "),clarity:[a.clarity,a.markBase,u.a.style(k(N,m.a.CoreBlue50,m.a.CoreBlue50,m.a.CoreBlue10,"dashed")),d.a.style(k(N,m.a.CoreBlue50,m.a.CoreBlue50,m.a.CoreBlue10,"dashed"),O)].join(" "),markVisible:[a.markVisible,u.a.style(G),d.a.style(G)].join(" "),engagement:[a.engagement,a.markBase,u.a.style(k(D,m.a.CoreGreen50,m.a.CoreGreen50,m.a.CoreGreen10,"dashed")),d.a.style(k(D,m.a.CoreGreen50,m.a.CoreGreen50,m.a.CoreGreen10,"dashed"),O)].join(" "),delivery:[a.delivery,a.markBase,u.a.style(k(B,m.a.CorePurple50,m.a.CorePurple50,m.a.CorePurple10,"dashed")),d.a.style(k(B,m.a.CorePurple50,m.a.CorePurple50,m.a.CorePurple10,"dashed"),O)].join(" "),critical:[a.critical,a.markBase,u.a.style(k(E,m.a.CoreRed50,m.a.CoreRed50,m.a.CoreRed10,"solid")),d.a.style(k(E,m.a.CoreRed50,m.a.CoreRed50,m.a.CoreRed10,"solid"),O)].join(" "),advanced:[a.advanced,a.markBase,u.a.style(k(j,m.a.CoreYellow40,m.a.CoreYellow40,m.a.CoreYellow10,"dashed")),d.a.style(k(j,m.a.CoreYellow40,m.a.CoreYellow40,m.a.CoreYellow10,"dashed"),O)].join(" "),plagiarism:[a.plagiarism,a.markBase,u.a.style(k(_,m.a.CoreCyan50,m.a.CoreCyan50,m.a.CoreCyan10,"solid")),d.a.style(k(j,m.a.CoreCyan50,m.a.CoreCyan50,m.a.CoreCyan10,"solid"),O)].join(" "),originality:[a.originality,a.markBase,u.a.style(k(x,m.a.CorePurple50,m.a.CorePurple50,m.a.CorePurple10,"dashed")),d.a.style(k(B,m.a.CorePurple50,m.a.CorePurple50,m.a.CorePurple10,"dashed"),O)].join(" "),vox:[a.vox,a.markBase,u.a.style(k(A,m.a.CoreNeutral50,m.a.CoreNeutral50,m.a.CoreNeutral10,"dashed")),d.a.style(k(A,m.a.CoreNeutral50,m.a.CoreNeutral50,m.a.CoreNeutral10,"dashed"),O)].join(" "),knowledgeHub:[a.knowledgeHub,a.markBase,u.a.style(k(I,m.a.CoreNeutral50,m.a.CoreNeutral50,m.a.CoreNeutral10,"dashed")),d.a.style(k(I,m.a.CoreNeutral50,m.a.CoreNeutral50,m.a.CoreNeutral10,"dashed"),O)].join(" "),synonym:[a.synonym,a.markBase,u.a.style(k(T,m.a.CoreBlue50,"transparent",m.a.CoreBlue50,"solid")),d.a.style(k(T,m.a.CoreBlue50,"transparent",m.a.CoreBlue50,"solid"),O)].join(" "),markAnimated:[a.markAnimated,u.a.style({animation:"".concat(S," .075s ease")})].join(" "),markHidden:[a.markHidden,u.a.style(q),d.a.style(q)].join(" "),markBulkAppliedAnimation:[a.markBulkAppliedAnimation,a.markBase,u.a.style(R("100%"),U,{animation:"".concat(V," 2s linear forwards, ").concat(W," .25s linear 2s forwards")})].join(" "),markBulkApplied:[a.markBulkApplied,a.markBase,u.a.style(k(L,m.a.CoreNeutral40,m.a.CoreGreen10,m.a.CoreGreen10,"solid"),U)].join(" "),markApplied:[a.markApplied,u.a.style(R("100%"),{animation:"".concat(V," .25s linear forwards")})].join(" "),markSuccess:[a.markSuccess,u.a.style(H("100%"),{animation:"".concat(z," .25s linear forwards")})].join(" "),noAnimation:[a.noAnimation,u.a.style({animationDuration:"0s !important"})].join(" "),markSelected:a.markSelected,markSelectedFocused:a.markSelectedFocused,markHeightStandard:a.markHeightStandard,markHeightTall:a.markHeightTall,markStart:a.markStart,markVBar:a.markVBar,markVBarHighlighted:a.markVBarHighlighted}})),Z=function(e){return e===r.o.Default?Object(i.a)():$()}},"z+ZZ":function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n("nWMp"),r=n("fB2g"),i=n("2swC"),o=n("7Pyj"),s={section:"".concat("report-sections-","section"),sectionHeader:"".concat("report-sections-","sectionHeader"),genericTable:"".concat("report-sections-","genericTable"),text:"".concat("report-sections-","text")},c={borderTop:"1px solid ".concat(i.a.CoreNeutral30),pageBreakInside:"avoid"},l={marginTop:a.a.px(24*o.a),color:i.a.CoreNeutral90,letterSpacing:0,fontWeight:"bold",fontSize:a.a.px(18*o.a),lineHeight:a.a.px(32*o.a)},u={width:a.a.percent(100),tableLayout:"fixed",textAlign:"left"},d={color:i.a.CoreNeutral50,letterSpacing:a.a.px(.11*o.a),fontSize:a.a.px(13*o.a),lineHeight:a.a.px(20*o.a)},p={section:a.a.joinClasses([s.section,r.a.style(c)]),sectionHeader:a.a.joinClasses([s.sectionHeader,r.a.style(l)]),genericTable:a.a.joinClasses([s.genericTable,r.a.style(u)]),text:a.a.joinClasses([s.text,r.a.style(d)])}},"z+vV":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("U9Go"),i=n("lKCo"),o=n("cZKX"),s=n("IMGo"),c=n("DTwm"),l=n("GMJx"),u=n("TKPA"),d=n("mgiE"),p=n("HDmH"),m=n("M8uP");!function(e){let t,n,a,f,h,g,b;function v(e){return"complete"===e.kind}function y(e){return"history"===e.kind}function O(e){return"inProgressOngoing"===e.kind}function S(e){return"inProgressPending"===e.kind}!function(e){e.create=function(e){return""+e},e.toPrimitive=function(e){return parseInt(e,10)},e.eq=r.i}(t=e.Id||(e.Id={})),function(e){e.insert="insert",e.reportOffensive="reportOffensive"}(n=e.Feedback||(e.Feedback={})),function(e){e.insert="insert",e.copy="copy",e.rephrase="rephrase"}(a=e.SupportedAction||(e.SupportedAction={})),e.hasId=function(e){return"id"in e},e.isComplete=v,e.isHistory=y,e.isAIUsageNotification=function(e){return"aiUsageNotification"===e.kind},e.isStandardCompletedResult=Object(u.p)(v,y),e.isInProgressOngoing=O,e.isInProgressPending=S,e.isInProgressInterrupted=function(e){return"inProgressInterrupted"===e.kind},e.isInProgress=Object(u.p)(O,S),function(e){e.generic="generic",e.user="user"}(f=e.GeneratedTextVoice||(e.GeneratedTextVoice={})),function(t){t.createFromResultMessage=function(t){var n,a;const r=Object(c.pipe)(Object(p.b)(null===(n=t.text)||void 0===n?void 0:n.delta),i.getOrElse(()=>new l.a));return Object(c.pipe)(Object(p.b)(null===(a=t.withVoiceText)||void 0===a?void 0:a.delta),d.b.fromOption(()=>r),d.b.map(n=>({generic:r,user:n,preferVoice:!0===(null==t?void 0:t.showVoiceTextByDefault)?e.GeneratedTextVoice.user:e.GeneratedTextVoice.generic})))}}(h=e.ResultDelta||(e.ResultDelta={})),function(t){t.createFromCard=function(t,n){return{kind:"history",id:e.Id.create(t.id),header:"action"===t.title.kind?{label:t.title.label,iconUrl:""!==t.title.iconUrl.trim()?i.some(t.title.iconUrl):i.none,copiablePrompt:i.none}:{label:t.title.text,iconUrl:i.none,copiablePrompt:""!==t.title.text.trim()?i.some(t.title.text):i.none},replacementDelta:h.createFromResultMessage({text:t.text,withVoiceText:t.text.plain===t.withVoiceText.plain?void 0:t.withVoiceText,showVoiceTextByDefault:t.text.plain===t.withVoiceText.plain?void 0:t.showVoiceTextByDefault}),supportedActions:new Set([e.SupportedAction.insert].concat(n?[e.SupportedAction.copy]:[])),references:Object(c.pipe)(t.references,o.ub(m.a.create),s.F)}}}(g=e.History||(e.History={})),function(e){e.fromInProgressResult=function(e,t){return Object.assign(Object.assign({},e),{kind:"aiUsageNotification",text:t})}}(b=e.AIUsageNotification||(e.AIUsageNotification={}))}(a||(a={}))},z4Di:function(e){e.exports=JSON.parse('{"clearfix":"_0da3ae95-dropzone-clearfix","dropZoneElement":"_4ef28322-dropzone-dropZoneElement","active":"_8d62b4bc-dropzone-active","dropzone":"_d35edbcd-dropzone-dropzone","progressContainer":"_d835c977-dropzone-progressContainer","message":"_886ec073-dropzone-message","dropzoneMiddleblock":"_13180ec2-dropzone-dropzoneMiddleblock","hovered":"_bb302841-dropzone-hovered"}')},zCOz:function(e,t,n){"use strict";n.d(t,"v",(function(){return d})),n.d(t,"z",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"l",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return S})),n.d(t,"m",(function(){return T})),n.d(t,"n",(function(){return D})),n.d(t,"u",(function(){return B})),n.d(t,"w",(function(){return L})),n.d(t,"B",(function(){return F})),n.d(t,"x",(function(){return s})),n.d(t,"y",(function(){return R})),n.d(t,"A",(function(){return H})),n.d(t,"d",(function(){return V})),n.d(t,"h",(function(){return U})),n.d(t,"r",(function(){return G})),n.d(t,"g",(function(){return E})),n.d(t,"f",(function(){return _})),n.d(t,"e",(function(){return x})),n.d(t,"k",(function(){return A})),n.d(t,"t",(function(){return q})),n.d(t,"o",(function(){return K})),n.d(t,"p",(function(){return Z})),n.d(t,"i",(function(){return Y})),n.d(t,"j",(function(){return X})),n.d(t,"s",(function(){return c})),n.d(t,"q",(function(){return Q}));var a=n("B8yO"),r=n.n(a),i=n("K5qu"),o=n("6sgl");const s="undefined"!=typeof document?r.a.useLayoutEffect:()=>{};function c(e){const t=(0,a.useRef)(null);return s(()=>{t.current=e},[e]),(0,a.useCallback)((...e)=>(0,t.current)(...e),[])}function l(e){let[t,n]=(0,a.useState)(e),r=(0,a.useRef)(null),i=c(()=>{let e=r.current.next();e.done?r.current=null:t===e.value?i():n(e.value)});s(()=>{r.current&&i()});let o=c(e=>{r.current=e(t),i()});return[t,o]}let u=new Map;function d(e){let[t,n]=(0,a.useState)(e),r=(0,a.useRef)(null),o=(0,i.b)(t),c=(0,a.useCallback)(e=>{r.current=e},[]);return u.set(o,c),s(()=>{let e=o;return()=>{u.delete(e)}},[o]),(0,a.useEffect)(()=>{let e=r.current;e&&(r.current=null,n(e))}),o}function p(e,t){if(e===t)return e;let n=u.get(e);if(n)return n(t),t;let a=u.get(t);return a?(a(e),e):t}function m(e=[]){let t=d(),[n,r]=l(t),i=(0,a.useCallback)(()=>{r((function*(){yield t,yield document.getElementById(t)?t:void 0}))},[t,r]);return s(i,[t,i,...e]),n}function f(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}function h(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let a=e[n];for(let e in a){let n=t[e],r=a[e];"function"==typeof n&&"function"==typeof r&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=f(n,r):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof n||"string"!=typeof r?"id"===e&&n&&r?t.id=p(n,r):t[e]=void 0!==r?r:n:t[e]=(0,o.a)(n,r)}}return t}const g=new Set(["id"]),b=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),v=new Set(["href","target","rel","download","ping","referrerPolicy"]),y=/^(data-.*)$/;function O(e,t={}){let{labelable:n,isLink:a,propNames:r}=t,i={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(g.has(t)||n&&b.has(t)||a&&v.has(t)||(null==r?void 0:r.has(t))||y.test(t))&&(i[t]=e[t]);return i}function S(e){if(function(){if(null==C){C=!1;try{document.createElement("div").focus({get preventScroll(){return C=!0,!0}})}catch(e){}}return C}())e.focus({preventScroll:!0});else{let t=function(e){var t=e.parentNode,n=[],a=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==a;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;a instanceof HTMLElement&&n.push({element:a,scrollTop:a.scrollTop,scrollLeft:a.scrollLeft});return n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:a}of e)t.scrollTop=n,t.scrollLeft=a}(t)}}let C=null;function w(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent))}function k(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function E(){return k(/^Mac/i)}function j(){return k(/^iPad/i)||E()&&navigator.maxTouchPoints>1}function _(){return k(/^iPhone/i)||j()}function x(){return E()||_()}function A(){return w(/AppleWebKit/i)&&!w(/Chrome/i)}function I(){return w(/Android/i)}function T(e,t,n=!0){var a,r;let{metaKey:i,ctrlKey:o,altKey:s,shiftKey:c}=t;w(/Firefox/i)&&(null===(a=window.event)||void 0===a||null===(r=a.type)||void 0===r?void 0:r.startsWith("key"))&&"_blank"===e.target&&(E()?i=!0:o=!0);let l=A()&&E()&&!j()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:i,ctrlKey:o,altKey:s,shiftKey:c}):new MouseEvent("click",{metaKey:i,ctrlKey:o,altKey:s,shiftKey:c,bubbles:!0,cancelable:!0});T.isOpening=n,S(e),e.dispatchEvent(l),T.isOpening=!1}T.isOpening=!1;let M=new Map,P=new Set;function N(){if("undefined"==typeof window)return;let e=t=>{let n=M.get(t.target);if(n&&(n.delete(t.propertyName),0===n.size&&(t.target.removeEventListener("transitioncancel",e),M.delete(t.target)),0===M.size)){for(let e of P)e();P.clear()}};document.body.addEventListener("transitionrun",t=>{let n=M.get(t.target);n||(n=new Set,M.set(t.target,n),t.target.addEventListener("transitioncancel",e)),n.add(t.propertyName)}),document.body.addEventListener("transitionend",e)}function D(e){requestAnimationFrame(()=>{0===M.size?e():P.add(e)})}"undefined"!=typeof document&&("loading"!==document.readyState?N():document.addEventListener("DOMContentLoaded",N));function B(){let e=(0,a.useRef)(new Map),t=(0,a.useCallback)((t,n,a,r)=>{let i=(null==r?void 0:r.once)?(...t)=>{e.current.delete(a),a(...t)}:a;e.current.set(a,{type:n,eventTarget:t,fn:i,options:r}),t.addEventListener(n,a,r)},[]),n=(0,a.useCallback)((t,n,a,r)=>{var i;let o=(null===(i=e.current.get(a))||void 0===i?void 0:i.fn)||a;t.removeEventListener(n,o,r),e.current.delete(a)},[]),r=(0,a.useCallback)(()=>{e.current.forEach((e,t)=>{n(e.eventTarget,e.type,t,e.options)})},[n]);return(0,a.useEffect)(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function L(e,t){let{id:n,"aria-label":a,"aria-labelledby":r}=e;if(n=d(n),r&&a){let e=new Set([n,...r.trim().split(/\s+/)]);r=[...e].join(" ")}else r&&(r=r.trim().split(/\s+/).join(" "));return a||r||!t||(a=t),{id:n,"aria-label":a,"aria-labelledby":r}}function F(e,t){const n=(0,a.useRef)(!0),r=(0,a.useRef)(null);(0,a.useEffect)(()=>(n.current=!0,()=>{n.current=!1}),[]),(0,a.useEffect)(()=>{n.current?n.current=!1:r.current&&!t.some((e,t)=>!Object.is(e,r[t]))||e(),r.current=t},t)}function R(e){const{ref:t,onResize:n}=e;(0,a.useEffect)(()=>{let e=null==t?void 0:t.current;if(e){if(void 0===window.ResizeObserver)return window.addEventListener("resize",n,!1),()=>{window.removeEventListener("resize",n,!1)};{const t=new window.ResizeObserver(e=>{e.length&&n()});return t.observe(e),()=>{e&&t.unobserve(e)}}}},[n,t])}function H(e,t){s(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref.current=null}})}function V(e){for(U(e)&&(e=e.parentElement);e&&!U(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}function U(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}"undefined"!=typeof document&&window.visualViewport;let W=0;const z=new Map;function G(e){let[t,n]=(0,a.useState)(void 0);return s(()=>{if(!e)return;let t=z.get(e);if(t)n(t.element.id);else{let a="react-aria-description-"+W++;n(a);let r=document.createElement("div");r.id=a,r.style.display="none",r.textContent=e,document.body.appendChild(r),t={refCount:0,element:r},z.set(e,t)}return t.refCount++,()=>{0==--t.refCount&&(t.element.remove(),z.delete(e))}},[e]),{"aria-describedby":e?t:void 0}}function q(e,t,n,r){let i=c(n),o=null==n;(0,a.useEffect)(()=>{if(o)return;let n=e.current;return n.addEventListener(t,i,r),()=>{n.removeEventListener(t,i,r)}},[e,t,r,o,i])}function K(e,t){let n=$(e,t,"left"),a=$(e,t,"top"),r=t.offsetWidth,i=t.offsetHeight,o=e.scrollLeft,s=e.scrollTop,{borderTopWidth:c,borderLeftWidth:l}=getComputedStyle(e),u=e.scrollLeft+parseInt(l,10),d=e.scrollTop+parseInt(c,10),p=u+e.clientWidth,m=d+e.clientHeight;n<=o?o=n-parseInt(l,10):n+r>p&&(o+=n+r-p),a<=d?s=a-parseInt(c,10):a+i>m&&(s+=a+i-m),e.scrollLeft=o,e.scrollTop=s}function $(e,t,n){const a="left"===n?"offsetLeft":"offsetTop";let r=0;for(;t.offsetParent&&(r+=t[a],t.offsetParent!==e);){if(t.offsetParent.contains(e)){r-=e[a];break}t=t.offsetParent}return r}function Z(e,t){if(document.contains(e)){let o=document.scrollingElement||document.documentElement;if("hidden"===window.getComputedStyle(o).overflow){let t=V(e);for(;e&&t&&e!==o&&t!==o;)K(t,e),t=V(e=t)}else{var n;let{left:o,top:s}=e.getBoundingClientRect();null==e||null===(n=e.scrollIntoView)||void 0===n||n.call(e,{block:"nearest"});let{left:c,top:l}=e.getBoundingClientRect();var a,r,i;if(Math.abs(o-c)>1||Math.abs(s-l)>1)null==t||null===(a=t.containingElement)||void 0===a||null===(r=a.scrollIntoView)||void 0===r||r.call(a,{block:"center",inline:"center"}),null===(i=e.scrollIntoView)||void 0===i||i.call(e,{block:"nearest"})}}}function Y(e){return!(0!==e.mozInputSource||!e.isTrusted)||(I()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function X(e){return!I()&&0===e.width&&0===e.height||1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType}function Q(e,t){let n=(0,a.useRef)(null);return e&&n.current&&t(e,n.current)&&(e=n.current),n.current=e,e}},zHRX:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("B8yO"),r=n("mgiE"),i=n("XGsl"),o=n("EFMT"),s=n("vVRF"),c=n("/XMJ"),l=function(e){var t=e.html,n=e.title,c=e.alerts,l=e.plagiarism;return a.createElement(o.a,{className:i.a.textContent},a.createElement(s.e,{title:n,author:r.g.none}),a.createElement(u,{alerts:c,plagiarism:l,html:t}))},u=function(e){var t=e.html,n=e.alerts,r=e.plagiarism,o=Object(c.b)(t,n,r);return a.createElement("div",{className:i.a.text,dangerouslySetInnerHTML:{__html:o}})}},zQvz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return v}));var a,r=n("Wy1Y"),i=n("uKMM"),o=n("a5gI"),s=n("tiWp"),c=n("D2TP"),l=n("mEGS"),u=n("o5hd"),d=n("xk6L"),p=n("LFoX"),m=n("d3CI"),f=n("Gwvb"),h=n("TKPA"),g=n("mgiE"),b=n("s1NC");!function(e){!function(e){e.highlightMarkByInlineUpgradeHook=function(e,t,n){return{id:"highlightMarkByInlineUpgradeHook",when:Object(h.p)(c.a.isPremiumId,c.a.isFreePremiumId),what:m.e.Effect.Applicator.create(f.a.getHighlightSubscription(e,t,n).pipe(d.a.switchMapTo(d.a.NEVER)))}}}(e.Effects||(e.Effects={}))}(a||(a={}));var v=function(){function e(t,n,a,i,c,m,f){var h=this;Object(r.a)(this,e),Object(o.a)(this,"_inlineManager",void 0),Object(o.a)(this,"_alertMarkRectGetter",void 0),Object(o.a)(this,"_closeEvent",void 0),Object(o.a)(this,"_checkingDomain",void 0),Object(o.a)(this,"_inlineUpgradeHookClicked",void 0),Object(o.a)(this,"_settings",void 0),Object(o.a)(this,"_upgradeViewModel",void 0),Object(o.a)(this,"type",void 0),Object(o.a)(this,"_emitCloseWhen",void 0),Object(o.a)(this,"_toMarkAndAlert",void 0),Object(o.a)(this,"state",void 0),this._inlineManager=t,this._alertMarkRectGetter=n,this._closeEvent=a,this._checkingDomain=i,this._inlineUpgradeHookClicked=c,this._settings=m,this._upgradeViewModel=f,this._emitCloseWhen=d.b.listenWhenSome((function(e){var t=e.alert;return h._checkingDomain.state.pipe(d.a.map(l.a.get(t.id)),d.a.filter(g.g.isNone),d.a.merge(h._closeEvent),d.a.tap(h._inlineManager.closeUpgradeHooks))})),this._toMarkAndAlert=g.g.map((function(e){return{alert:e.alert,highlightIndex:e.highlightIndex,getMarkRect:h._alertMarkRectGetter(e)}})),this.state=this._inlineManager.upgradeHookState.pipe(d.a.switchMap(this._emitCloseWhen)).pipe(d.a.switchMap((function(e){return Object(s.pipe)(e,g.g.fold((function(){return h._inlineUpgradeHookClicked.next(g.g.none),d.a.of(g.g.none)}),(function(e){return h._inlineUpgradeHookClicked.next(g.g.some(e.alert)),d.a.of(g.g.some(e))})))})),d.a.map(g.g.filter((function(){return!h._settings.featuresOnboardingSeen.get().has(u.a.SeenPremiumPreviewUnderlines)}))),d.a.tap(g.g.tap((function(e){h._settings.markFeatureOnboarded(u.a.SeenPremiumPreviewUnderlines)}))),d.a.distinctUntilChanged(g.g.getEq(p.a.eq).equals),d.a.map(this._toMarkAndAlert),d.a.share())}return Object(i.a)(e,[{key:"upgrade",value:function(){this._upgradeViewModel.openUpgradeUrl(b.i.Place.DenaliDocument.editorDenaliUpgradeInline)}}]),e}()},"zRh/":function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return E}));var a=n("Wy1Y"),r=n("uKMM"),i=n("a5gI"),o=n("hcme"),s=n("DTwm"),c=n("tiWp"),l=n("+vYo"),u=n("Hj2R"),d=n("D2TP"),p=n("mEGS"),m=n("Nsc4"),f=n("La5+"),h=n("xk6L"),g=n("uxqH"),b=n("yIk2"),v=n("lXTq"),y=n("mgiE"),O=n("RRF2"),S=n("TKPA"),C=n("M3t0");function w(e){return function(t){return{id:t.id,categoryHuman:t.toLiteAlert().categoryHuman,lensId:t.lensId,getHighlightRanges:t.getHighlightRanges,content:Object(c.pipe)(t.transform,y.g.filter((function(){return!(u.a.isSuperAlert(t)||u.a.isOneGap(t)||u.f.isSimple(t.extraProperties.cardType)||u.f.isFullSentence(t.extraProperties.cardType))})),y.g.chain(Object(s.flow)(e,y.b.fold((function(e){return C.d.Logging.getLogger("ReportViewModel.hydration").error("Could not hydrate alert",e.error),y.g.none}),y.g.some))),y.b.fromOption((function(){return t.highlightTexts})))}}}var k,E=function(){function e(t,n,r,p,k,E,j,_,x,A,I){var T=this;Object(a.a)(this,e),Object(i.a)(this,"_engine",void 0),Object(i.a)(this,"_profile",void 0),Object(i.a)(this,"_features",void 0),Object(i.a)(this,"_notificationsManager",void 0),Object(i.a)(this,"_htmlContent",void 0),Object(i.a)(this,"_telemetry",void 0),Object(i.a)(this,"reportData",void 0),Object(i.a)(this,"downloadStarted",void 0),Object(i.a)(this,"_log",void 0),Object(i.a)(this,"_subs",void 0),Object(i.a)(this,"_requestSent",void 0),Object(i.a)(this,"_visitLenses",void 0),Object(i.a)(this,"beginDownload",void 0),Object(i.a)(this,"_finishDownload",void 0),Object(i.a)(this,"_getReportModel",void 0),Object(i.a)(this,"_alertDataProcessor",void 0),Object(i.a)(this,"_listenDownload",void 0),this._engine=t,this._profile=n,this._features=r,this._notificationsManager=p,this._htmlContent=k,this._telemetry=I,this.reportData=l.a.create(y.g.none),this.downloadStarted=l.a.create(!1),this._log=C.d.Logging.getLogger("ReportViewModelImpl"),this._subs=new f.a.Keeper,this._requestSent=l.a.create(!1),this._visitLenses=function(e,t){e.view("currentLens","id").get()!==d.a.SpecialId.Plagiarism&&T._engine.sessionModel.extraSettings.checkedPlagiarism&&t.events.next({type:"switchToLens",id:d.a.SpecialId.Plagiarism,focusFirst:!1,actionSource:u.b.sidebar}),t.events.next({type:"switchToLens",id:d.a.SpecialId.AllAlerts,focusFirst:!1,actionSource:u.b.sidebar})},this.beginDownload=function(){T._telemetry.gnarSpec.detailedReportDownloadButtonClick(T._telemetry.pageId,Object(c.pipe)(T._engine.sessionModel.score.get(),y.g.map(O.e.pick("rank")),y.g.getOrElse(Object(s.constant)(0)))),T.downloadStarted.set(!0)},this._finishDownload=function(){T.downloadStarted.set(!1),T._requestSent.set(!1),T.reportData.set(y.g.none)},this._getReportModel=function(e){return h.a.combineLatestStatic(T._engine.sessionModel.title.view((function(e){return Boolean(e)?e:"Untitled"})),T._engine.sessionModel.recentDocumentStats.pipe(h.b.compact),T._engine.sessionModel.score.pipe(h.b.compact),T._engine.sessionModel.counters,h.a.combineLatestStatic(T._features.isPremium,e).pipe(h.a.map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return n?Object(c.pipe)(a,y.g.map((function(e){return{score:g.a.groupSum.concat(g.a.MAX,g.a.groupSum.inverse(g.a.fromRatio(e.percentile))),sources:e.count,state:v.a.PlagiarismCheckingState.CHECKED,sortedAlerts:T._getFilteredAlerts(u.a.isPlagiarism)}})),y.g.alt((function(){return y.g.some({state:v.a.PlagiarismCheckingState.NOT_CHECKED})}))):y.g.none}))),T._htmlContent).pipe(h.a.map((function(e){var t=Object(o.a)(e,6),n=t[0],a=t[1],r=t[2],i=t[3],s=t[4],c=t[5],l=T._getFilteredAlerts(Object(S.b)(Object(S.b)(u.a.isApplicableAlert,Object(S.m)(u.a.isMuted)),u.a.isRegistered));return y.g.some({sortedAlerts:T._getNonPremiumSortedAlerts(l),dedHTML:c,title:n,author:T._profile.get().fullName,stats:a,score:r.rank,criticalIssues:i.critical,advancedIssues:i.advanced,issues:T._calculateIssues(l),plagiarism:s})})))},this._listenDownload=function(e,t,n,a){T._subs.push(T.downloadStarted.pipe(h.a.filter(Boolean),h.a.switchMap((function(){return h.a.from(T._prepareDownload()).pipe(h.a.timeout(24e3),h.a.tap((function(){return T._visitLenses(e(),n())})),h.a.observeOn(h.a.asapScheduler),h.a.switchMap((function(){return t().flush()})),h.a.switchMapTo(T._getReportModel(a).pipe(h.a.first())),h.a.catchError((function(e){return T._log.error("Error while preparing PDF report",e),T._finishDownload(),T._notificationsManager.enqueue("error").pipe(h.a.mapTo(y.g.none))})))}))).subscribe(b.b.toAtom(T.reportData)))},this._alertDataProcessor=w(E),this._listenDownload(j,_,x,A.view(m.a.lookup(d.a.SpecialId.Plagiarism)))}return Object(r.a)(e,[{key:"_prepareDownload",value:function(){return this._engine.sessionModel.extraSettings.checkedPlagiarism&&!this._features.isFree.get()?this._engine.plagiarismModel.recheck():Promise.resolve()}},{key:"tryToInterrupt",value:function(){this._requestSent.get()||this._finishDownload()}},{key:"_calculateIssues",value:function(e){return e.reduce((function(e,t){var n=d.a.OutcomeId.fromOutcomeId(t.lensId),a=t.toLiteAlert(),r=a.categoryHuman;return e[n]=Boolean(e[n])?e[n]:{},e[n][r]=e[n][r]||0,e[n][r]+=a.cost,e}),{})}},{key:"generateReport",value:function(e,t,n){var a=this;this._requestSent.get()||(this._requestSent.set(!0),this._subs.push(h.a.from(this._engine.sessionModel.generateReport(e,{headerTemplate:t,footerTemplate:n,format:"Letter",marginTop:"70px",marginBottom:"70px"})).pipe(h.a.tap(this._finishDownload),h.a.catchError((function(e){return a._log.error("generateReport failed",e),a._notificationsManager.enqueue("error")}))).subscribe()))}},{key:"_getNonPremiumSortedAlerts",value:function(e){return e.map(this._alertDataProcessor)}},{key:"_getFilteredAlerts",value:function(e){return Object(c.pipe)(this._engine.checkingDomain.state.get(),p.a.reduce([],(function(t,n){return e(n.alert)&&t.push(n.alert),t})))}},{key:"dispose",value:function(){this._subs.dispose()}}]),e}();!function(e){e.Mock=function e(){Object(a.a)(this,e),Object(i.a)(this,"downloadStarted",l.a.create(!1)),Object(i.a)(this,"beginDownload",S.e),Object(i.a)(this,"tryToInterrupt",S.e),Object(i.a)(this,"generateReport",(function(){throw new Error("Method not implemented.")})),Object(i.a)(this,"reportData",l.a.create(y.g.none)),Object(i.a)(this,"dedHTML",""),Object(i.a)(this,"dispose",S.e),Object(i.a)(this,"sortedAlerts",void 0),Object(i.a)(this,"sortedPlagiarismAlerts",void 0)}}(k||(k={}))},zcvI:function(e){e.exports=JSON.parse('{"timeWrapper":"_809bb1a6-order-success-timeWrapper","time":"_f52fdec8-order-success-time","date":"_35082421-order-success-date","description":"_1fcde546-order-success-description"}')},zjpx:function(e){e.exports=JSON.parse('{"header1":"_866c9071-order-form-header1","header2":"_a3e3d811-order-form-header2","header3":"_fbbc2be4-order-form-header3","header3legacy":"_bc333130-order-form-header3legacy","button":"_67a6e21a-order-form-button","header4":"_309a9d8f-order-form-header4","paper":"_bf1f7f92-order-form-paper","base":"_e293693a-order-form-base","small":"_975f6afd-order-form-small","smallLight":"_ba9e46d4-order-form-smallLight","score":"_8f97a98e-order-form-score","lawyer":"_08711bf0-order-form-lawyer","title":"_4add4ed8-order-form-title","p1":"_2ad0c26e-order-form-p1","header5":"_2982052d-order-form-header5","content":"_edb7f18c-order-form-content","proofitDetailsWrapper":"_44d7e1c1-order-form-proofitDetailsWrapper","tierTitleContainer":"_f8bf8f60-order-form-tierTitleContainer","tierTitle":"_8603babe-order-form-tierTitle","helpMeChooseBtn":"_e4b39f11-order-form-helpMeChooseBtn _e293693a-order-form-base","helpMeChoose":"_1d83a5a5-order-form-helpMeChoose","plansTitle":"_11c9811d-order-form-plansTitle","plansContainer":"_841b1701-order-form-plansContainer","planTitle":"_2157cb75-order-form-planTitle","pre":"_18db77eb-order-form-pre","priceWrapper":"_1a8f2294-order-form-priceWrapper","price":"_623056b0-order-form-price","priceFree":"_5096fbed-order-form-priceFree","termsContainer":"_39c11f94-order-form-termsContainer","agreeTermsCheckbox":"_c76a0025-order-form-agreeTermsCheckbox","termsLinkBtn":"_a2390065-order-form-termsLinkBtn","termsLink":"_b8099a1b-order-form-termsLink","label":"_b7bc782f-order-form-label","recommended":"_ca1dbb49-order-form-recommended _b7bc782f-order-form-label","planWrapper":"_34b786a3-order-form-planWrapper","planWrapperDisabled":"_535ad9cd-order-form-planWrapperDisabled _34b786a3-order-form-planWrapper","plans":"_f0dbb926-order-form-plans","planContainer":"_21288cbf-order-form-planContainer","freeCreditsRemained":"_b0ad93e7-order-form-freeCreditsRemained","selectPlanButton":"_ebc669c7-order-form-selectPlanButton","selectFreePlanButton":"_f94a9008-order-form-selectFreePlanButton","paymentWarning":"_5f602e5f-order-form-paymentWarning","loader":"_e6f9779d-order-form-loader","iconContainer":"_09ae44a3-order-form-iconContainer","planLoading":"_05e6a201-order-form-planLoading","placeOrderButton":"_02ed7d78-order-form-placeOrderButton","placeOrderButtonCaption":"_d2a3e1e4-order-form-placeOrderButtonCaption","black":"_704c4ebc-order-form-black","closeButton":"_4e11aeb5-order-form-closeButton","descriptionDisabled":"_70e0baeb-order-form-descriptionDisabled","summary":"_2ddfe54a-order-form-summary","summaryButtons":"_e211c4ad-order-form-summaryButtons","claritySplitButton":"_c79a0270-order-form-claritySplitButton","claritySplitButtonBase":"_dfce1f68-order-form-claritySplitButtonBase","claritySplitButtonClarity":"_1aec4fc1-order-form-claritySplitButtonClarity"}')},zpyO:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n("2zNz"),r=n("nWMp"),i=n("2swC"),o=n("NbNH"),s=n("PKYJ"),c=n("RCgc");const l=`0 ${r.a.rem(.25)} ${r.a.rem(1.625)} 0 rgba(198, 203, 222, .25)`,u={marginRight:r.a.rem(1),flexShrink:0,maxWidth:r.a.percent(100)},d={padding:"0 "+r.a.rem(1)},p={padding:`0 ${r.a.rem(1.9)} 0 ${r.a.rem(1)}`},m={position:"absolute",top:r.a.rem(.27),right:r.a.rem(.5)},f={display:"grid",width:r.a.percent(100),gridTemplateColumns:"fit-content(60%) auto min-content",columnGap:r.a.rem(.5),alignItems:"center"},h={minWidth:r.a.rem(7)},g={marginLeft:r.a.rem(.5)},b={color:i.a.CoreNeutral90,whiteSpace:"nowrap",fontWeight:300,lineHeight:r.a.rem(1.5)},v={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontStyle:"italic",paddingRight:r.a.rem(a.D.Space.Space1)},y={$nest:{"&:before":Object(c.a)(r.a.rem(.5),-10,r.a.rem(-.5),l,r.a.rem(o.s)),"&:after":Object(c.a)(r.a.rem(1),-20,r.a.rem(-1),l,r.a.rem(o.s))}},O={boxShadow:s.b.llamaShadowToken,borderRadius:r.a.rem(r.d.radius1)},S={transition:"opacity .2s"},C=r.a.prefixedStylesheet("super",{updateAllBtnCommon:[u],updateAllBtn:[u,d],updateAllBtnLoading:[u,p],updateBtnSpinner:[m],optionsContainer:[f],optionLabel:[h],optionRadio:[g],optionSecondaryAttribute:[b],optionExample:[b,v],superWrapper:[y],sduiSuperWrapper:[O],loadingWrapper:[S],loadingWrapperInvisible:[S,{opacity:0,pointerEvents:"none"}]})},"zvK+":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n("a5gI"),r=n("tiWp"),i=n("+vYo"),o=n("mgiE"),s=n("TKPA"),c=n("M3t0"),l=n("xk6L"),u=n("Sqy8"),d=n("YqdJ");class p{constructor(e){Object(a.a)(this,"_validateOffset",void 0),Object(a.a)(this,"_log",void 0),Object(a.a)(this,"scrollTop",void 0),Object(a.a)(this,"paddingTop",void 0),Object(a.a)(this,"viewport",void 0),Object(a.a)(this,"scrollOffset",void 0),Object(a.a)(this,"moveCardsBy",void 0),Object(a.a)(this,"moveCardsByAnimated",void 0),this._validateOffset=e,this._log=c.d.Logging.getLogger("CardsListScrollManager"),this.scrollTop=i.a.create(0),this.paddingTop=i.a.create(0),this.viewport=i.a.create({top:d.b.FromWindowTop.ISO.wrap(0),height:0}),this.scrollOffset=new l.a.Subject,this.moveCardsBy=(e,t)=>(this._log.debug(`Cards list moved by ${e}, from: ${t}`),this.scrollOffset.next(e),o.b.right(void 0)),this.moveCardsByAnimated=(e,t)=>(this._log.debug(`Cards list moved by ${e}, from: ${t}`),l.a.Observable.create(t=>Object(r.pipe)(this._validateOffset(e,this),o.b.fold(e=>(t.thrownError(e),s.e),()=>{const n=2*this.viewport.get().height,a=Math.abs(e)>n?(e>0?1:-1)*n:e,r=e-a,i=u.a.createAnimationObservable(0,a,200).pipe(l.a.pairwise(),l.a.map(([e,t])=>t-e),l.a.startWith(r),l.a.tap(e=>this.scrollOffset.next(e))).subscribe({error:e=>t.error(e),complete:()=>t.complete()});return()=>i.unsubscribe()}))))}}class m{getContentOffset(e){throw new Error("Method not implemented.")}moveCardsBy(e,t){throw new Error("Method not implemented.")}moveCardsByAnimated(e,t){throw new Error("Method not implemented.")}constructor(){Object(a.a)(this,"viewport",void 0),Object(a.a)(this,"scrollTop",void 0),Object(a.a)(this,"paddingTop",void 0),Object(a.a)(this,"scrollOffset",l.a.of(42))}}}}]);